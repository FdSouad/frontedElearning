{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; //class constant defination.\n\n\nconst OTHERMONTH = 'e-other-month';\nconst OTHERDECADE = 'e-other-year';\nconst ROOT = 'e-calendar';\nconst DEVICE = 'e-device';\nconst HEADER = 'e-header';\nconst RTL = 'e-rtl';\nconst CONTENT = 'e-content';\nconst YEAR = 'e-year';\nconst MONTH = 'e-month';\nconst DECADE = 'e-decade';\nconst ICON = 'e-icons';\nconst PREVICON = 'e-prev';\nconst NEXTICON = 'e-next';\nconst PREVSPAN = 'e-date-icon-prev';\nconst NEXTSPAN = 'e-date-icon-next ';\nconst ICONCONTAINER = 'e-icon-container';\nconst DISABLED = 'e-disabled';\nconst OVERLAY = 'e-overlay';\nconst WEEKEND = 'e-weekend';\nconst WEEKNUMBER = 'e-week-number';\nconst SELECTED = 'e-selected';\nconst FOCUSEDDATE = 'e-focused-date';\nconst OTHERMONTHROW = 'e-month-hide';\nconst TODAY = 'e-today';\nconst TITLE = 'e-title';\nconst LINK = 'e-day';\nconst CELL = 'e-cell';\nconst WEEKHEADER = 'e-week-header';\nconst ZOOMIN = 'e-zoomin';\nconst FOOTER = 'e-footer-container';\nconst BTN = 'e-btn';\nconst FLAT = 'e-flat';\nconst CSS = 'e-css';\nconst PRIMARY = 'e-primary';\nconst DAYHEADERLONG = 'e-calendar-day-header-lg';\nconst dayMilliSeconds = 86400000;\nconst minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\n\nlet CalendarBase = class CalendarBase extends Component {\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  constructor(options, element) {\n    super(options, element);\n    this.effect = '';\n    this.isPopupClicked = false;\n    this.isDateSelected = true;\n    this.isTodayClicked = false;\n    this.preventChange = false;\n    this.isAngular = false;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  render() {\n    this.rangeValidation(this.min, this.max);\n    this.calendarEleCopy = this.element.cloneNode(true);\n\n    if (this.calendarMode === 'Islamic') {\n      if (+this.min.setSeconds(0) === +new Date(1900, 0, 1, 0, 0, 0)) {\n        this.min = new Date(1944, 2, 18);\n      }\n\n      if (+this.max === +new Date(2099, 11, 31)) {\n        this.max = new Date(2069, 10, 16);\n      }\n    }\n\n    this.globalize = new Internationalization(this.locale);\n\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n\n    this.todayDisabled = false;\n    this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.classList.add(ROOT);\n\n      if (this.enableRtl) {\n        this.element.classList.add(RTL);\n      }\n\n      if (Browser.isDevice) {\n        this.element.classList.add(DEVICE);\n      }\n\n      attributes(this.element, {\n        'data-role': 'calendar'\n      });\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.calendarElement = this.createElement('div');\n      this.calendarElement.classList.add(ROOT);\n\n      if (this.enableRtl) {\n        this.calendarElement.classList.add(RTL);\n      }\n\n      if (Browser.isDevice) {\n        this.calendarElement.classList.add(DEVICE);\n      }\n\n      attributes(this.calendarElement, {\n        'role': 'calendar'\n      });\n    }\n\n    this.createHeader();\n    this.createContent();\n    this.wireEvents();\n  }\n\n  rangeValidation(min, max) {\n    if (isNullOrUndefined(min)) {\n      this.setProperties({\n        min: new Date(1900, 0, 1)\n      }, true);\n    }\n\n    if (isNullOrUndefined(max)) {\n      this.setProperties({\n        max: new Date(2099, 11, 31)\n      }, true);\n    }\n  }\n\n  getDefaultKeyConfig() {\n    this.defaultKeyConfigs = {\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      altUpArrow: 'alt+uparrow',\n      spacebar: 'space',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow'\n    };\n    return this.defaultKeyConfigs;\n  }\n\n  validateDate(value) {\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n\n    if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n      this.currentDate = new Date(this.checkValue(value));\n    }\n  }\n\n  setOverlayIndex(popupWrapper, popupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      const index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  }\n\n  minMaxUpdate(value) {\n    if (!(+this.min <= +this.max)) {\n      this.setProperties({\n        min: this.min\n      }, true);\n      addClass([this.element], OVERLAY);\n    } else {\n      removeClass([this.element], OVERLAY);\n    }\n\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n    if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n      this.currentDate = new Date(this.checkValue(value));\n    } else {\n      if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n        this.currentDate = new Date(this.checkValue(this.max));\n      } else {\n        if (+this.currentDate < +this.min) {\n          this.currentDate = new Date(this.checkValue(this.min));\n        }\n      }\n    }\n  }\n\n  createHeader() {\n    const ariaPrevAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'previous month'\n    };\n    const ariaNextAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'next month'\n    };\n    const ariaTitleAttrs = {\n      'aria-atomic': 'true',\n      'aria-live': 'assertive',\n      'aria-label': 'title'\n    };\n    this.headerElement = this.createElement('div', {\n      className: HEADER\n    });\n    const iconContainer = this.createElement('div', {\n      className: ICONCONTAINER\n    });\n    this.previousIcon = this.createElement('button', {\n      className: '' + PREVICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.previousIcon, {\n      duration: 400,\n      selector: '.e-prev',\n      isCenterRipple: true\n    });\n    attributes(this.previousIcon, ariaPrevAttrs);\n    this.nextIcon = this.createElement('button', {\n      className: '' + NEXTICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.nextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n\n    if (this.getModuleName() === 'daterangepicker') {\n      attributes(this.previousIcon, {\n        tabIndex: '-1'\n      });\n      attributes(this.nextIcon, {\n        tabIndex: '-1'\n      });\n    }\n\n    attributes(this.nextIcon, ariaNextAttrs);\n    this.headerTitleElement = this.createElement('div', {\n      className: '' + LINK + ' ' + TITLE\n    });\n    attributes(this.headerTitleElement, ariaTitleAttrs);\n    this.headerElement.appendChild(this.headerTitleElement);\n    this.previousIcon.appendChild(this.createElement('span', {\n      className: '' + PREVSPAN + ' ' + ICON\n    }));\n    this.nextIcon.appendChild(this.createElement('span', {\n      className: '' + NEXTSPAN + ' ' + ICON\n    }));\n    iconContainer.appendChild(this.previousIcon);\n    iconContainer.appendChild(this.nextIcon);\n    this.headerElement.appendChild(iconContainer);\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.headerElement);\n    } else {\n      this.calendarElement.appendChild(this.headerElement);\n    }\n\n    this.adjustLongHeaderSize();\n  }\n\n  createContent() {\n    this.contentElement = this.createElement('div', {\n      className: CONTENT\n    });\n    this.table = this.createElement('table', {\n      attrs: {\n        tabIndex: '0',\n        'role': 'grid',\n        'aria-activedescendant': ''\n      }\n    });\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.contentElement);\n    } else {\n      this.calendarElement.appendChild(this.contentElement);\n    }\n\n    this.contentElement.appendChild(this.table);\n    this.createContentHeader();\n    this.createContentBody();\n\n    if (this.showTodayButton) {\n      this.createContentFooter();\n    }\n  }\n\n  getCultureValues() {\n    const culShortNames = [];\n    let cldrObj;\n    const dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrObj = getValue(dayFormat, getDefaultDateObject());\n    } else {\n      cldrObj = this.getCultureObjects(cldrData, '' + this.locale);\n    }\n\n    for (const obj of Object.keys(cldrObj)) {\n      culShortNames.push(getValue(obj, cldrObj));\n    }\n\n    return culShortNames;\n  }\n\n  toCapitalize(text) {\n    return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n  }\n\n  createContentHeader() {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    }\n\n    const daysCount = 6;\n    let html = '';\n\n    if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: 0\n      }, true);\n    }\n\n    this.tableHeadElement = this.createElement('thead', {\n      className: WEEKHEADER\n    });\n\n    if (this.weekNumber) {\n      html += '<th class=\"e-week-number\"></th>';\n\n      if (this.getModuleName() === 'calendar') {\n        addClass([this.element], '' + WEEKNUMBER);\n      } else {\n        addClass([this.calendarElement], '' + WEEKNUMBER);\n      }\n    } // eslint-disable-next-line max-len\n\n\n    const shortNames = this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek);\n\n    for (let days = 0; days <= daysCount; days++) {\n      html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n    }\n\n    html = '<tr>' + html + '</tr>';\n    this.tableHeadElement.innerHTML = html;\n    this.table.appendChild(this.tableHeadElement);\n  }\n\n  createContentBody() {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.element.querySelectorAll('.e-content tbody')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n      }\n    }\n\n    switch (this.start) {\n      case 'Year':\n        this.renderYears();\n        break;\n\n      case 'Decade':\n        this.renderDecades();\n        break;\n\n      default:\n        this.renderMonths();\n    }\n  }\n\n  updateFooter() {\n    this.todayElement.textContent = this.l10.getConstant('today');\n    this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n  }\n\n  createContentFooter() {\n    if (this.showTodayButton) {\n      const minimum = new Date(+this.min);\n      const maximum = new Date(+this.max);\n      const l10nLocale = {\n        today: 'Today'\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n      this.todayElement = this.createElement('button', {\n        attrs: {\n          role: 'button'\n        }\n      });\n      rippleEffect(this.todayElement);\n      this.updateFooter();\n      addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n\n      if (!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate && +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0))) || this.todayDisabled) {\n        addClass([this.todayElement], DISABLED);\n      }\n\n      this.footer = this.createElement('div', {\n        className: FOOTER\n      });\n      this.footer.appendChild(this.todayElement);\n\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.footer);\n      }\n\n      if (this.getModuleName() === 'datepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n\n      if (this.getModuleName() === 'datetimepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n\n      if (!this.todayElement.classList.contains(DISABLED)) {\n        EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n      }\n    }\n  }\n\n  wireEvents(id, ref, keyConfig, moduleName) {\n    EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n\n    if (this.getModuleName() === 'calendar') {\n      this.keyboardModule = new KeyboardEvents(this.element, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  }\n\n  dateWireEvents(id, ref, keyConfig, moduleName) {\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n    this.serverModuleName = moduleName;\n  }\n\n  todayButtonClick(e, value, isCustomDate) {\n    if (this.showTodayButton) {\n      if (this.currentView() === this.depth) {\n        this.effect = '';\n      } else {\n        this.effect = 'e-zoomin';\n      }\n\n      if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n        this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n      } else {\n        this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n      }\n    }\n  }\n\n  resetCalendar() {\n    this.calendarElement && detach(this.calendarElement);\n    this.tableBodyElement && detach(this.tableBodyElement);\n    this.table && detach(this.table);\n    this.tableHeadElement && detach(this.tableHeadElement);\n    this.nextIcon && detach(this.nextIcon);\n    this.previousIcon && detach(this.previousIcon);\n    this.footer && detach(this.footer);\n    this.todayElement = null;\n    this.renderDayCellArgs = null;\n    this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n  }\n\n  keyActionHandle(e, value, multiSelection) {\n    const focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    let selectedDate;\n\n    if (multiSelection) {\n      if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n        selectedDate = focusedDate;\n      } else {\n        selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      }\n    } else {\n      selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    }\n\n    let view = this.getViewNumber(this.currentView());\n    const depthValue = this.getViewNumber(this.depth);\n    const levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    this.effect = '';\n\n    switch (e.action) {\n      case 'moveLeft':\n        this.keyboardNavigate(-1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n\n      case 'moveRight':\n        this.keyboardNavigate(1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n\n      case 'moveUp':\n        if (view === 0) {\n          this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'moveDown':\n        if (view === 0) {\n          this.keyboardNavigate(7, view, e, this.max, this.min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'select':\n        if (e.target === this.todayElement) {\n          this.todayButtonClick(e, value);\n        } else {\n          const element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n            if (levelRestrict) {\n              // eslint-disable-next-line radix\n              const d = new Date(parseInt('' + element.id, 0));\n              this.selectDate(e, d, element);\n            } else {\n              this.contentClick(null, --view, element, value);\n            }\n          }\n        }\n\n        break;\n\n      case 'controlUp':\n        this.title();\n        e.preventDefault();\n        break;\n\n      case 'controlDown':\n        if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n          this.contentClick(null, --view, focusedDate || selectedDate, value);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        detach(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        detach(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'pageUp':\n        this.addMonths(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'pageDown':\n        this.addMonths(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'shiftPageUp':\n        this.addYears(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'shiftPageDown':\n        this.addYears(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'controlHome':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n        e.preventDefault();\n        break;\n\n      case 'controlEnd':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n        e.preventDefault();\n        break;\n    }\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  }\n\n  keyboardNavigate(number, currentView, e, max, min) {\n    const date = new Date(this.checkValue(this.currentDate));\n\n    switch (currentView) {\n      case 2:\n        this.addYears(this.currentDate, number);\n\n        if (this.isMonthYearRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderDecades(e);\n        } else {\n          this.currentDate = date;\n        }\n\n        break;\n\n      case 1:\n        this.addMonths(this.currentDate, number);\n\n        if (this.calendarMode === 'Gregorian') {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        } else {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        }\n\n        break;\n\n      case 0:\n        this.addDay(this.currentDate, number, e, max, min);\n\n        if (this.isMinMaxRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        } else {\n          this.currentDate = date;\n        }\n\n        break;\n    }\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @param {Date} value - Specifies value of date.\n   * @returns {void}\n   * @private\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  preRender(value) {\n    this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n    this.navigateNextHandler = this.navigateNext.bind(this);\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n\n    this.navigateHandler = e => {\n      this.triggerNavigate(e);\n    };\n  }\n\n  minMaxDate(localDate) {\n    const currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n    const minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n    const maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n\n    if (+currentDate === +minDate || +currentDate === +maxDate) {\n      if (+localDate < +this.min) {\n        localDate = new Date(+this.min);\n      }\n\n      if (+localDate > +this.max) {\n        localDate = new Date(+this.max);\n      }\n    }\n\n    return localDate;\n  }\n\n  renderMonths(e, value, isCustomDate) {\n    const numCells = this.weekNumber ? 8 : 7;\n    let tdEles;\n\n    if (this.calendarMode === 'Gregorian') {\n      tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate);\n    } else {\n      tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n    }\n\n    this.createContentHeader();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.renderTemplate(tdEles, numCells, MONTH, e, value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n    }\n  }\n\n  renderDays(currentDate, value, multiSelection, values, isTodayDate) {\n    const tdEles = [];\n    const cellsCount = 42;\n    const todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n    let localDate = new Date(this.checkValue(currentDate));\n    let minMaxDate;\n    const currentMonth = localDate.getMonth();\n    this.titleUpdate(currentDate, 'days');\n    const d = localDate;\n    localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n\n    while (localDate.getDay() !== this.firstDayOfWeek) {\n      this.setStartDate(localDate, -1 * dayMilliSeconds);\n    }\n\n    for (let day = 0; day < cellsCount; ++day) {\n      const weekEle = this.createElement('td', {\n        className: CELL\n      });\n      const weekAnchor = this.createElement('span');\n\n      if (day % 7 === 0 && this.weekNumber) {\n        // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n        const numberOfDays = this.weekRule === 'FirstDay' ? 6 : this.weekRule === 'FirstFourDayWeek' ? 3 : 0;\n        const finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate() + numberOfDays);\n        weekAnchor.textContent = '' + this.getWeek(finalDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER);\n        tdEles.push(weekEle);\n      }\n\n      minMaxDate = new Date(+localDate);\n      localDate = this.minMaxDate(localDate);\n      const dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full'\n      };\n      const date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      const tdEle = this.dayCell(localDate);\n      const title = this.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full'\n      });\n      const dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: 'd',\n        type: 'date',\n        skeleton: 'yMd'\n      });\n      const disabled = this.min > localDate || this.max < localDate;\n\n      if (disabled) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n\n      if (currentMonth !== localDate.getMonth()) {\n        addClass([tdEle], OTHERMONTH);\n      }\n\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND);\n      }\n\n      tdEle.appendChild(dayLink);\n      this.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      const argument = this.renderDayCellArgs;\n      this.renderDayCellEvent(argument);\n\n      if (argument.isDisabled) {\n        const selectDate = new Date(this.checkValue(value));\n        const argsDate = new Date(this.checkValue(argument.date));\n\n        if (multiSelection) {\n          if (!isNullOrUndefined(values) && values.length > 0) {\n            for (let index = 0; index < values.length; index++) {\n              const localDateString = +new Date(this.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              const tempDateString = +new Date(this.globalize.formatDate(values[index], {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n\n              if (localDateString === tempDateString) {\n                values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (selectDate && +selectDate === +argsDate) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      }\n\n      if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n\n        if (+this.renderDayCellArgs.date === +this.todayDate) {\n          this.todayDisabled = true;\n        }\n      }\n\n      const otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n      const disabledCls = tdEle.classList.contains(DISABLED);\n\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      } // to set the value as null while setting the disabled date onProperty change.\n      // if (args.isDisabled && +this.value === +args.date) {\n      //     this.setProperties({ value: null }, true);\n      // }\n\n\n      if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n        for (let tempValue = 0; tempValue < values.length; tempValue++) {\n          const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          const formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          const localDateString = this.globalize.formatDate(localDate, formatOptions);\n          const tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n\n          if (localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]) || this.getDateVal(localDate, value)) {\n            addClass([tdEle], SELECTED);\n          } else {\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n\n        if (values.length <= 0) {\n          this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!disabledCls && this.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED);\n      }\n\n      this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n\n      if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth() && date.getDate() === todayDate.getDate()) {\n        addClass([tdEle], TODAY);\n      }\n\n      tdEles.push(this.renderDayCellArgs.element);\n      localDate = new Date(+minMaxDate);\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n\n    return tdEles;\n  }\n\n  updateFocus(otherMonth, disabled, localDate, tableElement, currentDate) {\n    if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n      addClass([tableElement], FOCUSEDDATE);\n    } else {\n      // eslint-disable-next-line radix\n      if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      } // eslint-disable-next-line radix\n\n\n      if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n    }\n  }\n\n  renderYears(e, value) {\n    this.removeTableHeadElement();\n    const numCells = 4;\n    const tdEles = [];\n    const valueUtil = isNullOrUndefined(value);\n    const curDate = new Date(this.checkValue(this.currentDate));\n    const mon = curDate.getMonth();\n    const yr = curDate.getFullYear();\n    const localDate = curDate;\n    const curYrs = localDate.getFullYear();\n    const minYr = new Date(this.checkValue(this.min)).getFullYear();\n    const minMonth = new Date(this.checkValue(this.min)).getMonth();\n    const maxYr = new Date(this.checkValue(this.max)).getFullYear();\n    const maxMonth = new Date(this.checkValue(this.max)).getMonth();\n    localDate.setMonth(0);\n    this.titleUpdate(this.currentDate, 'months');\n    localDate.setDate(1);\n\n    for (let month = 0; month < 12; ++month) {\n      const tdEle = this.dayCell(localDate);\n      const dayLink = this.createElement('span');\n      const localMonth = value && value.getMonth() === localDate.getMonth();\n      const select$$1 = value && value.getFullYear() === yr && localMonth;\n      dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'MMM'\n      }));\n\n      if (this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED);\n      } else if (!valueUtil && select$$1) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n\n      localDate.setDate(1);\n      localDate.setMonth(localDate.getMonth() + 1);\n\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.renderTemplate(tdEles, numCells, YEAR, e, value);\n  }\n\n  renderDecades(e, value) {\n    this.removeTableHeadElement();\n    const numCells = 4;\n    const yearCell = 12;\n    const tdEles = [];\n    const localDate = new Date(this.checkValue(this.currentDate));\n    localDate.setMonth(0);\n    localDate.setDate(1);\n    const localYr = localDate.getFullYear();\n    const startYr = new Date(localDate.setFullYear(localYr - localYr % 10));\n    const endYr = new Date(localDate.setFullYear(localYr - localYr % 10 + (10 - 1)));\n    const startFullYr = startYr.getFullYear();\n    const endFullYr = endYr.getFullYear();\n    const startHdrYr = this.globalize.formatDate(startYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    const endHdrYr = this.globalize.formatDate(endYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    this.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    const start = new Date(localYr - localYr % 10 - 1, 0, 1);\n    const startYear = start.getFullYear();\n\n    for (let rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n      const year = startYear + rowIterator;\n      localDate.setFullYear(year);\n      const tdEle = this.dayCell(localDate);\n      attributes(tdEle, {\n        'role': 'gridcell'\n      });\n      const dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n\n      if (year < startFullYr || year > endFullYr) {\n        addClass([tdEle], OTHERDECADE);\n\n        if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n          addClass([tdEle], SELECTED);\n        }\n\n        if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n          addClass([tdEle], DISABLED);\n        }\n      } else if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n        addClass([tdEle], DISABLED);\n      } else if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n  }\n\n  dayCell(localDate) {\n    const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    const dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: type\n    };\n    const date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n    const value = date.valueOf();\n    const attrs = {\n      className: CELL,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false',\n        'role': 'gridcell'\n      }\n    };\n    return this.createElement('td', attrs);\n  }\n\n  firstDay(date) {\n    const collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n\n    if (collection.length) {\n      for (let i = 0; i < collection.length; i++) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n\n    return date;\n  }\n\n  lastDay(date, view) {\n    const lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n\n    if (view !== 2) {\n      const timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n\n      if (timeOffset) {\n        lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60);\n      }\n\n      return this.findLastDay(lastDate);\n    } else {\n      return this.findLastDay(this.firstDay(lastDate));\n    }\n  }\n\n  checkDateValue(value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  }\n\n  findLastDay(date) {\n    const collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n\n    if (collection.length) {\n      for (let i = collection.length - 1; i >= 0; i--) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n\n    return date;\n  }\n\n  removeTableHeadElement() {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    }\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  renderTemplate(elements, count, classNm, e, value) {\n    const view = this.getViewNumber(this.currentView());\n    let trEle;\n    this.tableBodyElement = this.createElement('tbody');\n    this.table.appendChild(this.tableBodyElement);\n    removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n    addClass([this.contentElement, this.headerElement], [classNm]);\n    const weekNumCell = 41;\n    const numberCell = 35;\n    const otherMonthCell = 6;\n    let row = count;\n    let rowIterator = 0;\n\n    for (let dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n      trEle = this.createElement('tr', {\n        attrs: {\n          'role': 'row'\n        }\n      });\n\n      for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n        if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n          addClass([elements[rowIterator].children[0]], [LINK]);\n          rippleEffect(elements[rowIterator].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n\n        trEle.appendChild(elements[rowIterator]);\n\n        if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n\n        if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n\n        if (this.weekNumber) {\n          if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        } else {\n          if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        }\n      }\n\n      row = row + count;\n      rowIterator = rowIterator + 0;\n      this.tableBodyElement.appendChild(trEle);\n    }\n\n    this.table.querySelector('tbody').className = this.effect;\n\n    if (this.calendarMode === 'Gregorian') {\n      this.iconHandler();\n    } else {\n      this.islamicModule.islamicIconHandler();\n    }\n\n    if (view !== this.getViewNumber(this.currentView()) || view === 0 && view !== this.getViewNumber(this.currentView())) {\n      this.navigateHandler(e);\n    }\n\n    this.setAriaActiveDescendant();\n  }\n\n  clickHandler(e, value) {\n    this.clickEventEmitter(e);\n    const eve = e.currentTarget;\n    const view = this.getViewNumber(this.currentView());\n\n    if (eve.classList.contains(OTHERMONTH)) {\n      this.contentClick(e, 0, null, value);\n    } else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n      this.contentClick(e, 1, null, value);\n    } else if (2 === view) {\n      this.contentClick(e, 1, null, value);\n    } else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n      this.selectDate(e, this.getIdValue(e, null), null);\n    } else {\n      this.contentClick(e, 0, eve, value);\n    }\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  } // Content click event handler required for extended components\n\n\n  clickEventEmitter(e) {\n    e.preventDefault();\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  contentClick(e, view, element, value) {\n    const currentView = this.getViewNumber(this.currentView());\n    const d = this.getIdValue(e, element);\n\n    switch (view) {\n      case 0:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          detach(this.tableBodyElement);\n          this.currentDate = d;\n          this.effect = ZOOMIN;\n          this.renderMonths(e);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setMonth(d.getMonth());\n\n            if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n              this.currentDate.setDate(0);\n            }\n\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.currentDate = d;\n          }\n\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        }\n\n        break;\n\n      case 1:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          this.selectDate(e, d, null);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            const islamicDate = this.islamicModule.getIslamicDate(d);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n          }\n\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderYears(e);\n        }\n\n    }\n  }\n\n  switchView(view, e, multiSelection, isCustomDate) {\n    switch (view) {\n      case 0:\n        detach(this.tableBodyElement);\n        this.renderMonths(e, null, isCustomDate);\n\n        if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n          this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n\n        break;\n\n      case 1:\n        detach(this.tableBodyElement);\n        this.renderYears(e);\n        break;\n\n      case 2:\n        detach(this.tableBodyElement);\n        this.renderDecades(e);\n    }\n  }\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'calendar';\n  }\n  /**\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  requiredModules() {\n    const modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    return modules;\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  getPersistData() {\n    const keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n   * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n   * @param {Date[]} values - Specifies the dates.\n   * @returns {void}\n   * @private\n   */\n\n\n  onPropertyChanged(newProp, oldProp, multiSelection, values) {\n    this.effect = '';\n\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.add('e-rtl');\n            } else {\n              this.calendarElement.classList.add('e-rtl');\n            }\n          } else {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.remove('e-rtl');\n            } else {\n              this.calendarElement.classList.remove('e-rtl');\n            }\n          }\n\n          break;\n\n        case 'dayHeaderFormat':\n          this.getCultureValues();\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n          }\n\n          this.adjustLongHeaderSize();\n          break;\n\n        case 'min':\n        case 'max':\n          this.rangeValidation(this.min, this.max);\n\n          if (prop === 'min') {\n            this.setProperties({\n              min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n            }, true);\n          } else {\n            this.setProperties({\n              max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n            }, true);\n          }\n\n          this.setProperties({\n            start: this.currentView()\n          }, true);\n\n          if (this.tableBodyElement) {\n            detach(this.tableBodyElement);\n          }\n\n          this.minMaxUpdate();\n\n          if (multiSelection) {\n            this.validateValues(multiSelection, values);\n          }\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentBody();\n          }\n\n          if ((this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement) {\n            detach(this.todayElement);\n            detach(this.footer);\n            this.todayElement = this.footer = null;\n            this.createContentFooter();\n          } else {\n            if (this.footer && this.todayElement && this.todayElement.classList.contains('e-disabled')) {\n              removeClass([this.todayElement], DISABLED);\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = null;\n              this.createContentFooter();\n            }\n          }\n\n          break;\n\n        case 'start':\n        case 'depth':\n        case 'weekNumber':\n        case 'firstDayOfWeek':\n        case 'weekRule':\n          this.checkView();\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n\n          this.l10.setLocale(this.locale);\n          this.updateFooter();\n          break;\n\n        case 'showTodayButton':\n          if (newProp.showTodayButton) {\n            this.createContentFooter();\n          } else {\n            if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = undefined;\n            }\n          }\n\n          this.setProperties({\n            showTodayButton: newProp.showTodayButton\n          }, true);\n          break;\n      }\n    }\n  }\n  /**\n   * values property updated with considered disabled dates of the calendar.\n   *\n   * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n   * @param {Date[]} values - Specifies the dates to validate.\n   * @returns {void}\n   */\n\n\n  validateValues(multiSelection, values) {\n    if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n      const copyValues = this.copyValues(values);\n\n      for (let skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n        const tempValue = copyValues[skipIndex];\n        const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        let tempValueString;\n\n        if (this.calendarMode === 'Gregorian') {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'date',\n            skeleton: 'yMd'\n          });\n        } else {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'dateTime',\n            skeleton: 'full',\n            calendar: 'islamic'\n          });\n        }\n\n        const minFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        const minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n        const minString = minStringValue;\n        const maxFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        const maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n        const maxString = maxStringValue;\n\n        if (+new Date(tempValueString) < +new Date(minString) || +new Date(tempValueString) > +new Date(maxString)) {\n          copyValues.splice(skipIndex, 1);\n          skipIndex = -1;\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n    }\n  }\n\n  setValueUpdate() {\n    if (!isNullOrUndefined(this.tableBodyElement)) {\n      detach(this.tableBodyElement);\n      this.setProperties({\n        start: this.currentView()\n      }, true);\n      this.createContentBody();\n    }\n  }\n\n  copyValues(values) {\n    const copyValues = [];\n\n    if (!isNullOrUndefined(values) && values.length > 0) {\n      for (let index = 0; index < values.length; index++) {\n        copyValues.push(new Date(+values[index]));\n      }\n    }\n\n    return copyValues;\n  }\n\n  titleUpdate(date, view) {\n    const globalize = new Internationalization(this.locale);\n    let dayFormatOptions;\n    let monthFormatOptions;\n    const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n\n    if (this.calendarMode === 'Gregorian') {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        skeleton: 'yMMMM',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y',\n        calendar: type\n      });\n    } else {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'MMMM y',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: type\n      });\n    }\n\n    switch (view) {\n      case 'days':\n        this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n        break;\n\n      case 'months':\n        this.headerTitleElement.textContent = monthFormatOptions;\n    }\n  }\n\n  setActiveDescendant() {\n    let id;\n    const focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    const selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n    const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    let title;\n    const view = this.currentView();\n\n    if (view === 'Month') {\n      title = this.globalize.formatDate(this.currentDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: type\n      });\n    } else if (view === 'Year') {\n      if (type !== 'islamic') {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'yMMMM',\n          calendar: type\n        });\n      } else {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'GyMMM',\n          calendar: type\n        });\n      }\n    } else {\n      title = this.globalize.formatDate(this.currentDate, {\n        format: null,\n        type: 'date',\n        skeleton: 'y',\n        calendar: type\n      });\n    }\n\n    if (selectedEle || focusedEle) {\n      if (!isNullOrUndefined(selectedEle)) {\n        selectedEle.setAttribute('aria-selected', 'true');\n      }\n\n      (focusedEle || selectedEle).setAttribute('aria-label', title);\n      id = (focusedEle || selectedEle).getAttribute('id');\n    }\n\n    return id;\n  }\n\n  iconHandler() {\n    new Date(this.checkValue(this.currentDate)).setDate(1);\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n\n      case 'Year':\n        this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n\n      case 'Decade':\n        this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n    }\n  }\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    if (this.getModuleName() === 'calendar' && this.element) {\n      removeClass([this.element], [ROOT]);\n    } else {\n      if (this.calendarElement && this.element) {\n        removeClass([this.element], [ROOT]);\n      }\n    }\n\n    if (this.getModuleName() === 'calendar' && this.element) {\n      EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n\n      if (this.todayElement) {\n        EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n      }\n\n      this.previousIconHandler(true);\n      this.nextIconHandler(true);\n      this.keyboardModule.destroy();\n      this.element.removeAttribute('data-role');\n\n      if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n\n    if (this.element) {\n      this.element.innerHTML = '';\n    }\n\n    super.destroy();\n  }\n\n  title(e) {\n    let currentView = this.getViewNumber(this.currentView());\n    this.effect = ZOOMIN;\n    this.switchView(++currentView, e);\n  }\n\n  getViewNumber(stringVal) {\n    if (stringVal === 'Month') {\n      return 0;\n    } else if (stringVal === 'Year') {\n      return 1;\n    } else {\n      return 2;\n    }\n  }\n\n  navigateTitle(e) {\n    e.preventDefault();\n    this.title(e);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  }\n\n  previous() {\n    this.effect = '';\n    const currentView = this.getViewNumber(this.currentView());\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.addYears(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.addYears(this.currentDate, -10);\n        this.switchView(currentView);\n        break;\n    }\n  }\n\n  navigatePrevious(e) {\n    e.preventDefault();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.previous();\n    } else {\n      this.islamicModule.islamicPrevious();\n    }\n\n    this.triggerNavigate(e);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  }\n\n  next() {\n    this.effect = '';\n    const currentView = this.getViewNumber(this.currentView());\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.addYears(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.addYears(this.currentDate, 10);\n        this.switchView(currentView);\n        break;\n    }\n  }\n\n  navigateNext(eve) {\n    eve.preventDefault();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.next();\n    } else {\n      this.islamicModule.islamicNext();\n    }\n\n    this.triggerNavigate(eve);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  }\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   */\n\n\n  navigateTo(view, date, isCustomDate) {\n    if (+date >= +this.min && +date <= +this.max) {\n      this.currentDate = date;\n    }\n\n    if (+date <= +this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n\n    if (+date >= +this.max) {\n      this.currentDate = new Date(this.checkValue(this.max));\n    }\n\n    if (this.getViewNumber(this.depth) >= this.getViewNumber(view)) {\n      if (this.getViewNumber(this.depth) <= this.getViewNumber(this.start) || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n        view = this.depth;\n      }\n    }\n\n    this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   */\n\n\n  currentView() {\n    if (this.contentElement.classList.contains(YEAR)) {\n      return 'Year';\n    } else if (this.contentElement.classList.contains(DECADE)) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n\n  getDateVal(date, value) {\n    return !isNullOrUndefined(value) && date.getDate() === value.getDate() && date.getMonth() === value.getMonth() && date.getFullYear() === value.getFullYear();\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  getCultureObjects(ld, c) {\n    const gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n    const islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n    const mainVal = 'main.';\n\n    if (this.calendarMode === 'Gregorian') {\n      return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n    } else {\n      return getValue('main.' + '' + this.locale + islamicFormat, ld);\n    }\n  }\n\n  getWeek(d) {\n    const currentDate = new Date(this.checkValue(d)).valueOf();\n    const date = new Date(d.getFullYear(), 0, 1).valueOf();\n    return Math.ceil((currentDate - date + dayMilliSeconds) / dayMilliSeconds / 7);\n  }\n\n  setStartDate(date, time) {\n    const tzOffset = date.getTimezoneOffset();\n    const d = new Date(date.getTime() + time);\n    const tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n    date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n  }\n\n  addMonths(date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      const day = date.getDate();\n      date.setDate(1);\n      date.setMonth(date.getMonth() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      const islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month + i, 1);\n    }\n  }\n\n  addYears(date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      const day = date.getDate();\n      date.setDate(1);\n      date.setFullYear(date.getFullYear() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      const islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, islamicDate.month, 1);\n    }\n  }\n\n  getIdValue(e, element) {\n    let eve;\n\n    if (e) {\n      eve = e.currentTarget;\n    } else {\n      eve = element;\n    }\n\n    const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    const dateFormatOptions = {\n      type: 'dateTime',\n      skeleton: 'full',\n      calendar: type\n    }; // eslint-disable-next-line radix\n\n    const dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n    const date = this.globalize.parseDate(dateString, dateFormatOptions);\n    const value = date.valueOf() - date.valueOf() % 1000;\n    return new Date(value); //return this.globalize.parseDate(dateString, dateFormatOptions);\n  }\n\n  adjustLongHeaderSize() {\n    removeClass([this.element], DAYHEADERLONG);\n\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n    }\n  }\n\n  selectDate(e, date, node, multiSelection, values) {\n    const element = node || e.currentTarget;\n    this.isDateSelected = false;\n\n    if (this.currentView() === 'Decade') {\n      this.setDateDecade(this.currentDate, date.getFullYear());\n    } else if (this.currentView() === 'Year') {\n      this.setDateYear(this.currentDate, date);\n    } else {\n      if (multiSelection && !this.checkPresentDate(date, values)) {\n        const copyValues = this.copyValues(values);\n\n        if (!isNullOrUndefined(values) && copyValues.length > 0) {\n          copyValues.push(new Date(this.checkValue(date)));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: values[values.length - 1]\n          }, true);\n        } else {\n          this.setProperties({\n            values: [new Date(this.checkValue(date))]\n          }, true);\n        }\n      } else {\n        this.setProperties({\n          value: new Date(this.checkValue(date))\n        }, true);\n      }\n\n      this.currentDate = new Date(this.checkValue(date));\n    }\n\n    let tableBodyElement = closest(element, '.' + ROOT);\n\n    if (isNullOrUndefined(tableBodyElement)) {\n      tableBodyElement = this.tableBodyElement;\n    }\n\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n      removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n    }\n\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n      removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n    }\n\n    if (multiSelection) {\n      const copyValues = this.copyValues(values);\n      const collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n\n      for (let index = 0; index < collection.length; index++) {\n        const tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n        const selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n\n        if (collection[index] === tempElement) {\n          removeClass([collection[index]], FOCUSEDDATE);\n        }\n\n        if (collection[index] === selectedElement && !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n          removeClass([collection[index]], SELECTED);\n        }\n      }\n\n      if (element.classList.contains(SELECTED)) {\n        removeClass([element], SELECTED);\n\n        for (let i = 0; i < copyValues.length; i++) {\n          const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          const formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          const localDateString = this.globalize.formatDate(date, formatOptions);\n          const tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n\n          if (localDateString === tempDateString) {\n            const index = copyValues.indexOf(copyValues[i]);\n            copyValues.splice(index, 1);\n            addClass([element], FOCUSEDDATE);\n          }\n        }\n\n        this.setProperties({\n          values: copyValues\n        }, true);\n      } else {\n        addClass([element], SELECTED);\n      }\n    } else {\n      addClass([element], SELECTED);\n    }\n\n    this.isDateSelected = true;\n  }\n\n  checkPresentDate(dates, values) {\n    let previousValue = false;\n\n    if (!isNullOrUndefined(values)) {\n      for (let checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n        const type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        const localDateString = this.globalize.formatDate(dates, {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        const tempDateString = this.globalize.formatDate(values[checkPrevious], {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n\n        if (localDateString === tempDateString) {\n          previousValue = true;\n        }\n      }\n    }\n\n    return previousValue;\n  }\n\n  setAriaActiveDescendant() {\n    attributes(this.table, {\n      'aria-activedescendant': '' + this.setActiveDescendant()\n    });\n  }\n\n  previousIconHandler(disabled) {\n    if (disabled) {\n      EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n      addClass([this.previousIcon], '' + DISABLED);\n      addClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'true');\n    } else {\n      EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n      removeClass([this.previousIcon], '' + DISABLED);\n      removeClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'false');\n    }\n  }\n\n  renderDayCellEvent(args) {\n    extend(this.renderDayCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  }\n\n  navigatedEvent(eve) {\n    extend(this.navigatedArgs, {\n      name: 'navigated',\n      event: eve\n    });\n    this.trigger('navigated', this.navigatedArgs);\n  }\n\n  triggerNavigate(event) {\n    this.navigatedArgs = {\n      view: this.currentView(),\n      date: this.currentDate\n    };\n    this.navigatedEvent(event);\n  }\n\n  nextIconHandler(disabled) {\n    if (disabled) {\n      EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n      addClass([this.nextIcon], DISABLED);\n      addClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'true');\n    } else {\n      EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n      removeClass([this.nextIcon], DISABLED);\n      removeClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'false');\n    }\n  }\n\n  compare(startDate, endDate, modifier) {\n    let start = endDate.getFullYear();\n    let end;\n    let result;\n    end = start;\n    result = 0;\n\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n\n    if (startDate.getFullYear() > end) {\n      result = 1;\n    } else if (startDate.getFullYear() < start) {\n      result = -1;\n    }\n\n    return result;\n  }\n\n  isMinMaxRange(date) {\n    return +date >= +this.min && +date <= +this.max;\n  }\n\n  isMonthYearRange(date) {\n    if (this.calendarMode === 'Gregorian') {\n      return date.getMonth() >= this.min.getMonth() && date.getFullYear() >= this.min.getFullYear() && date.getMonth() <= this.max.getMonth() && date.getFullYear() <= this.max.getFullYear();\n    } else {\n      const islamicDate = this.islamicModule.getIslamicDate(date);\n      return islamicDate.month >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).month && islamicDate.year >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).year && islamicDate.month <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).month && islamicDate.year <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).year;\n    }\n  }\n\n  compareYear(start, end) {\n    return this.compare(start, end, 0);\n  }\n\n  compareDecade(start, end) {\n    return this.compare(start, end, 10);\n  }\n\n  shiftArray(array, i) {\n    return array.slice(i).concat(array.slice(0, i));\n  }\n\n  addDay(date, i, e, max, min) {\n    let column = i;\n    const value = new Date(+date);\n\n    if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n      while (this.findNextTD(new Date(+date), column, max, min)) {\n        column += i;\n      }\n\n      const rangeValue = new Date(value.setDate(value.getDate() + column));\n      column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;\n    }\n\n    date.setDate(date.getDate() + column);\n  }\n\n  findNextTD(date, column, max, min) {\n    const value = new Date(date.setDate(date.getDate() + column));\n    let collection = [];\n    let isDisabled = false;\n\n    if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n      let tdEles;\n\n      if (this.calendarMode === 'Gregorian') {\n        tdEles = this.renderDays(value);\n      } else {\n        tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n      }\n\n      collection = tdEles.filter(element => {\n        return element.classList.contains(DISABLED);\n      });\n    } else {\n      collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n    }\n\n    if (+value <= +max && +value >= +min) {\n      if (collection.length) {\n        for (let i = 0; i < collection.length; i++) {\n          // eslint-disable-next-line radix\n          isDisabled = +value === +new Date(parseInt(collection[i].id, 0)) ? true : false;\n\n          if (isDisabled) {\n            break;\n          }\n        }\n      }\n    }\n\n    return isDisabled;\n  }\n\n  getMaxDays(d) {\n    let date;\n    const tmpDate = new Date(this.checkValue(d));\n    date = 28;\n    const month = tmpDate.getMonth();\n\n    while (tmpDate.getMonth() === month) {\n      ++date;\n      tmpDate.setDate(date);\n    }\n\n    return date - 1;\n  }\n\n  setDateDecade(date, year) {\n    date.setFullYear(year);\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  }\n\n  setDateYear(date, value) {\n    date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n\n    if (value.getMonth() !== date.getMonth()) {\n      date.setDate(0);\n      this.currentDate = new Date(this.checkValue(value));\n    }\n\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  }\n\n  compareMonth(start, end) {\n    let result;\n\n    if (start.getFullYear() > end.getFullYear()) {\n      result = 1;\n    } else if (start.getFullYear() < end.getFullYear()) {\n      result = -1;\n    } else {\n      result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n    }\n\n    return result;\n  }\n\n  checkValue(inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  }\n\n  checkView() {\n    if (this.start !== 'Decade' && this.start !== 'Year') {\n      this.setProperties({\n        start: 'Month'\n      }, true);\n    }\n\n    if (this.depth !== 'Decade' && this.depth !== 'Year') {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n\n    if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n  }\n\n  getDate(date, timezone) {\n    if (timezone) {\n      date = new Date(date.toLocaleString('en-US', {\n        timeZone: timezone\n      }));\n    }\n\n    return date;\n  }\n\n};\n\n__decorate([Property(new Date(1900, 0, 1))], CalendarBase.prototype, \"min\", void 0);\n\n__decorate([Property(true)], CalendarBase.prototype, \"enabled\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"cssClass\", void 0);\n\n__decorate([Property(new Date(2099, 11, 31))], CalendarBase.prototype, \"max\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n\n__decorate([Property('Gregorian')], CalendarBase.prototype, \"calendarMode\", void 0);\n\n__decorate([Property('Month')], CalendarBase.prototype, \"start\", void 0);\n\n__decorate([Property('Month')], CalendarBase.prototype, \"depth\", void 0);\n\n__decorate([Property(false)], CalendarBase.prototype, \"weekNumber\", void 0);\n\n__decorate([Property('FirstDay')], CalendarBase.prototype, \"weekRule\", void 0);\n\n__decorate([Property(true)], CalendarBase.prototype, \"showTodayButton\", void 0);\n\n__decorate([Property('Short')], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n\n__decorate([Property(false)], CalendarBase.prototype, \"enablePersistence\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"keyConfigs\", void 0);\n\n__decorate([Property(null)], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"created\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"destroyed\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"navigated\", void 0);\n\n__decorate([Event()], CalendarBase.prototype, \"renderDayCell\", void 0);\n\nCalendarBase = __decorate([NotifyPropertyChanges], CalendarBase);\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\n\nlet Calendar = class Calendar extends CalendarBase {\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarModel} options - Specifies the Calendar model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n  constructor(options, element) {\n    super(options, element);\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  render() {\n    if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n      throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n    }\n\n    if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      const tempValues = [];\n      const copyValues = [];\n\n      for (let limit = 0; limit < this.values.length; limit++) {\n        if (tempValues.indexOf(+this.values[limit]) === -1) {\n          tempValues.push(+this.values[limit]);\n          copyValues.push(this.values[limit]);\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n\n      for (let index = 0; index < this.values.length; index++) {\n        if (!this.checkDateValue(this.values[index])) {\n          if (typeof this.values[index] === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n            const copyDate = new Date(this.checkValue(this.values[index]));\n            this.values.splice(index, 1);\n            this.values.splice(index, 0, copyDate);\n          } else {\n            this.values.splice(index, 1);\n          }\n        }\n      }\n\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n      this.previousValues = this.values.length;\n    }\n\n    this.validateDate();\n    this.minMaxUpdate();\n\n    if (this.getModuleName() === 'calendar') {\n      this.setEnable(this.enabled);\n      this.setClass(this.cssClass);\n    }\n\n    super.render();\n\n    if (this.getModuleName() === 'calendar') {\n      const form = closest(this.element, 'form');\n\n      if (form) {\n        EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n      }\n\n      this.setTimeZone(this.serverTimezoneOffset);\n    }\n\n    this.renderComplete();\n  }\n\n  setEnable(enable) {\n    if (!enable) {\n      addClass([this.element], DISABLED);\n    } else {\n      removeClass([this.element], DISABLED);\n    }\n  }\n\n  setClass(newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n      removeClass([this.element], oldCssClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      addClass([this.element], newCssClass.split(' '));\n    }\n  }\n\n  isDayLightSaving() {\n    const secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    const firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  }\n\n  setTimeZone(offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      const serverTimezoneDiff = offsetValue;\n      const clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      let timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n    }\n  }\n\n  formResetHandler() {\n    this.setProperties({\n      value: null\n    }, true);\n  }\n\n  validateDate() {\n    if (typeof this.value === 'string') {\n      this.setProperties({\n        value: this.checkDateValue(new Date(this.checkValue(this.value)))\n      }, true); // persist the value property.\n    }\n\n    super.validateDate(this.value);\n\n    if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n      this.currentDate = new Date(this.checkValue(this.value));\n    }\n\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  }\n\n  minMaxUpdate() {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n        this.setProperties({\n          value: this.min\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n          this.setProperties({\n            value: this.max\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        }\n      }\n    }\n\n    if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n      if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n        super.minMaxUpdate(this.min);\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n          super.minMaxUpdate(this.max);\n        }\n      }\n    } else {\n      super.minMaxUpdate(this.value);\n    }\n  }\n\n  generateTodayVal(value) {\n    let tempValue = new Date();\n\n    if (!isNullOrUndefined(this.timezone)) {\n      tempValue = super.getDate(tempValue, this.timezone);\n    }\n\n    if (value && isNullOrUndefined(this.timezone)) {\n      tempValue.setHours(value.getHours());\n      tempValue.setMinutes(value.getMinutes());\n      tempValue.setSeconds(value.getSeconds());\n      tempValue.setMilliseconds(value.getMilliseconds());\n    } else {\n      tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n    }\n\n    return tempValue;\n  }\n\n  todayButtonClick(e) {\n    if (this.showTodayButton) {\n      const tempValue = this.generateTodayVal(this.value);\n      this.setProperties({\n        value: tempValue\n      }, true);\n      this.isTodayClicked = true;\n      this.todayButtonEvent = e;\n\n      if (this.isMultiSelection) {\n        const copyValues = this.copyValues(this.values);\n\n        if (!super.checkPresentDate(tempValue, this.values)) {\n          copyValues.push(tempValue);\n          this.setProperties({\n            values: copyValues\n          });\n        }\n      }\n\n      super.todayButtonClick(e, new Date(+this.value));\n    }\n  }\n\n  keyActionHandle(e) {\n    super.keyActionHandle(e, this.value, this.isMultiSelection);\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  preRender() {\n    this.changeHandler = e => {\n      this.triggerChange(e);\n    };\n\n    this.checkView();\n    super.preRender(this.value);\n  }\n  /**\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  createContent() {\n    this.previousDate = this.value;\n    this.previousDateTime = this.value;\n    super.createContent();\n  }\n\n  minMaxDate(localDate) {\n    return super.minMaxDate(localDate);\n  }\n\n  renderMonths(e, value, isCustomDate) {\n    super.renderMonths(e, this.value, isCustomDate);\n  }\n\n  renderDays(currentDate, value, isMultiSelect, values, isCustomDate) {\n    const tempDays = super.renderDays(currentDate, this.value, this.isMultiSelection, this.values, isCustomDate);\n\n    if (this.isMultiSelection) {\n      super.validateValues(this.isMultiSelection, this.values);\n    }\n\n    return tempDays;\n  }\n\n  renderYears(e) {\n    if (this.calendarMode === 'Gregorian') {\n      super.renderYears(e, this.value);\n    } else {\n      this.islamicModule.islamicRenderYears(e, this.value);\n    }\n  }\n\n  renderDecades(e) {\n    if (this.calendarMode === 'Gregorian') {\n      super.renderDecades(e, this.value);\n    } else {\n      this.islamicModule.islamicRenderDecade(e, this.value);\n    }\n  }\n\n  renderTemplate(elements, count, classNm, e) {\n    if (this.calendarMode === 'Gregorian') {\n      super.renderTemplate(elements, count, classNm, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n    }\n\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler();\n  }\n\n  clickHandler(e) {\n    const eve = e.currentTarget;\n    this.isPopupClicked = true;\n\n    if (eve.classList.contains(OTHERMONTH)) {\n      if (this.isMultiSelection) {\n        const copyValues = this.copyValues(this.values);\n        copyValues.push(this.getIdValue(e, null));\n        this.setProperties({\n          values: copyValues\n        }, true);\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      } else {\n        this.setProperties({\n          value: this.getIdValue(e, null)\n        }, true);\n      }\n    }\n\n    const storeView = this.currentView();\n    super.clickHandler(e, this.value);\n\n    if (this.isMultiSelection && this.currentDate !== this.value && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n      this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n    }\n  }\n\n  switchView(view, e, isMultiSelection, isCustomDate) {\n    super.switchView(view, e, this.isMultiSelection, isCustomDate);\n  }\n  /**\n   * To get component name\n   *\n   * @returns {string} Return the component name.\n   * @private\n   */\n\n\n  getModuleName() {\n    super.getModuleName();\n    return 'calendar';\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  getPersistData() {\n    super.getPersistData();\n    const keyEntity = ['value', 'values'];\n    return this.addOnPersist(keyEntity);\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    this.effect = '';\n    this.rangeValidation(this.min, this.max);\n\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'value':\n          if (this.isDateSelected) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: new Date(this.checkValue(newProp.value))\n              }, true);\n            } else {\n              newProp.value = new Date(this.checkValue(newProp.value));\n            }\n\n            if (isNaN(+this.value)) {\n              this.setProperties({\n                value: oldProp.value\n              }, true);\n            }\n\n            this.update();\n          }\n\n          break;\n\n        case 'values':\n          if (this.isDateSelected) {\n            if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n              this.setProperties({\n                values: null\n              }, true);\n            } else {\n              const copyValues = this.copyValues(this.values);\n\n              for (let index = 0; index < copyValues.length; index++) {\n                const tempDate = copyValues[index];\n\n                if (this.checkDateValue(tempDate) && !super.checkPresentDate(tempDate, copyValues)) {\n                  copyValues.push(tempDate);\n                }\n              }\n\n              this.setProperties({\n                values: copyValues\n              }, true);\n\n              if (this.values.length > 0) {\n                this.setProperties({\n                  value: newProp.values[newProp.values.length - 1]\n                }, true);\n              }\n            }\n\n            this.validateValues(this.isMultiSelection, this.values);\n            this.update();\n          }\n\n          break;\n\n        case 'isMultiSelection':\n          if (this.isDateSelected) {\n            this.setProperties({\n              isMultiSelection: newProp.isMultiSelection\n            }, true);\n            this.update();\n          }\n\n          break;\n\n        case 'enabled':\n          this.setEnable(this.enabled);\n          break;\n\n        case 'cssClass':\n          if (this.getModuleName() === 'calendar') {\n            this.setClass(newProp.cssClass, oldProp.cssClass);\n          }\n\n          break;\n\n        default:\n          super.onPropertyChanged(newProp, oldProp, this.isMultiSelection, this.values);\n      }\n    }\n\n    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n  }\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    super.destroy();\n\n    if (this.getModuleName() === 'calendar') {\n      const form = closest(this.element, 'form');\n\n      if (form) {\n        EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n      }\n    }\n  }\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  navigateTo(view, date, isCustomDate) {\n    this.minMaxUpdate();\n    super.navigateTo(view, date, isCustomDate);\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   * @deprecated\n   */\n\n\n  currentView() {\n    return super.currentView();\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * This method is used to add the single or multiple dates to the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  addDate(dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number') {\n      let copyValues = this.copyValues(this.values);\n\n      if (typeof dates === 'object' && dates.length > 0) {\n        const tempDates = dates;\n\n        for (let i = 0; i < tempDates.length; i++) {\n          if (this.checkDateValue(tempDates[i]) && !super.checkPresentDate(tempDates[i], copyValues)) {\n            if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n              copyValues.push(tempDates[i]);\n            } else {\n              copyValues = [new Date(+tempDates[i])];\n            }\n          }\n        }\n      } else {\n        if (this.checkDateValue(dates) && !super.checkPresentDate(dates, copyValues)) {\n          if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n            copyValues.push(dates);\n          } else {\n            copyValues = [new Date(+dates)];\n          }\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n\n      this.validateValues(this.isMultiSelection, copyValues);\n      this.update();\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  }\n  /**\n   * This method is used to remove the single or multiple dates from the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  removeDate(dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      const copyValues = this.copyValues(this.values);\n\n      if (typeof dates === 'object' && dates.length > 0) {\n        const tempDates = dates;\n\n        for (let index = 0; index < tempDates.length; index++) {\n          for (let i = 0; i < copyValues.length; i++) {\n            if (+copyValues[i] === +tempDates[index]) {\n              copyValues.splice(i, 1);\n            }\n          }\n        }\n      } else {\n        for (let i = 0; i < copyValues.length; i++) {\n          if (+copyValues[i] === +dates) {\n            copyValues.splice(i, 1);\n          }\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, false);\n      this.update();\n\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  }\n  /**\n   * To set custom today date in calendar\n   *\n   * @param {Date} date - Specifies date value to be set.\n   * @private\n   * @returns {void}\n   */\n\n\n  setTodayDate(date) {\n    const todayDate = new Date(+date);\n    this.setProperties({\n      value: todayDate\n    }, true);\n    super.todayButtonClick(null, todayDate, true);\n  }\n\n  update() {\n    this.validateDate();\n    this.minMaxUpdate();\n    super.setValueUpdate();\n  }\n\n  selectDate(e, date, element) {\n    super.selectDate(e, date, element, this.isMultiSelection, this.values);\n\n    if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n    }\n\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler(e);\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  changeEvent(e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf()) || this.isMultiSelection) {\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.changedArgs);\n      }\n\n      this.previousDate = new Date(+this.value);\n    }\n  }\n\n  triggerChange(e) {\n    if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n      e = this.todayButtonEvent;\n      this.isTodayClicked = false;\n    }\n\n    this.changedArgs.event = e || null;\n    this.changedArgs.isInteracted = !isNullOrUndefined(e);\n\n    if (!isNullOrUndefined(this.value)) {\n      this.setProperties({\n        value: this.value\n      }, true);\n    }\n\n    if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null && !isNaN(+this.value))) {\n      this.changeEvent(e);\n    } else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n      this.changeEvent(e);\n      this.previousValues = this.values.length;\n    }\n  }\n\n};\n\n__decorate([Property(null)], Calendar.prototype, \"value\", void 0);\n\n__decorate([Property(null)], Calendar.prototype, \"values\", void 0);\n\n__decorate([Property(false)], Calendar.prototype, \"isMultiSelection\", void 0);\n\n__decorate([Event()], Calendar.prototype, \"change\", void 0);\n\nCalendar = __decorate([NotifyPropertyChanges], Calendar);\n/**\n *\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\n\nconst OTHERMONTH$1 = 'e-other-month';\nconst YEAR$1 = 'e-year';\nconst MONTH$1 = 'e-month';\nconst DECADE$1 = 'e-decade';\nconst DISABLED$1 = 'e-disabled';\nconst OVERLAY$1 = 'e-overlay';\nconst WEEKEND$1 = 'e-weekend';\nconst WEEKNUMBER$1 = 'e-week-number';\nconst SELECTED$1 = 'e-selected';\nconst FOCUSEDDATE$1 = 'e-focused-date';\nconst OTHERMONTHROW$1 = 'e-month-hide';\nconst TODAY$1 = 'e-today';\nconst LINK$1 = 'e-day';\nconst CELL$1 = 'e-cell';\nconst dayMilliSeconds$1 = 86400000;\nconst minDecade = 2060;\nconst maxDecade = 2069;\n\nclass Islamic {\n  constructor(instance) {\n    this.calendarInstance = instance;\n  }\n\n  getModuleName() {\n    return 'islamic';\n  }\n\n  islamicTitleUpdate(date, view) {\n    const globalize = new Internationalization(this.calendarInstance.locale);\n\n    switch (view) {\n      case 'days':\n        this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'MMMMyyyy',\n          calendar: 'islamic'\n        });\n        break;\n\n      case 'months':\n        this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'yyyy',\n          calendar: 'islamic'\n        });\n    }\n  }\n\n  islamicRenderDays(currentDate, value, multiSelection, values) {\n    const tdEles = [];\n    const cellsCount = 42;\n    let localDate = new Date(this.islamicInValue(currentDate));\n    let minMaxDate;\n    this.islamicTitleUpdate(currentDate, 'days');\n    const islamicDate = this.getIslamicDate(localDate);\n    const gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n    const currentMonth = islamicDate.month;\n    localDate = gregorianObject;\n\n    while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n      this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n    }\n\n    for (let day = 0; day < cellsCount; ++day) {\n      const weekEle = this.calendarInstance.createElement('td', {\n        className: CELL$1\n      });\n      const weekAnchor = this.calendarInstance.createElement('span');\n\n      if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n        weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER$1);\n        tdEles.push(weekEle);\n      }\n\n      minMaxDate = new Date(+localDate);\n      localDate = this.calendarInstance.minMaxDate(localDate);\n      const dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full',\n        calendar: 'islamic'\n      };\n      const date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      const tdEle = this.islamicDayCell(localDate);\n      const title = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: 'islamic'\n      });\n      const dayLink = this.calendarInstance.createElement('span');\n      dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'd',\n        calendar: 'islamic'\n      });\n      const disabled = this.calendarInstance.min > localDate || this.calendarInstance.max < localDate;\n\n      if (disabled) {\n        addClass([tdEle], DISABLED$1);\n        addClass([tdEle], OVERLAY$1);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n\n      const hijriMonthObject = this.getIslamicDate(localDate);\n\n      if (currentMonth !== hijriMonthObject.month) {\n        addClass([tdEle], OTHERMONTH$1);\n      }\n\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND$1);\n      }\n\n      tdEle.appendChild(dayLink);\n      this.calendarInstance.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      const argument = this.calendarInstance.renderDayCellArgs;\n      this.calendarInstance.renderDayCellEvent(argument);\n\n      if (argument.isDisabled) {\n        if (this.calendarInstance.isMultiSelection) {\n          if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n            for (let index = 0; index < values.length; index++) {\n              const localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd',\n                calendar: 'islamic'\n              }));\n              const tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], {\n                type: 'date',\n                skeleton: 'yMd',\n                calendar: 'islamic'\n              }));\n\n              if (localDateString === tempDateString) {\n                this.calendarInstance.values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (value && +value === +argument.date) {\n          this.calendarInstance.setProperties({\n            value: null\n          }, true);\n        }\n      }\n\n      if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n        addClass([tdEle], DISABLED$1);\n        addClass([tdEle], OVERLAY$1);\n\n        if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n          this.calendarInstance.todayDisabled = true;\n        }\n      }\n\n      const otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n      const disabledCls = tdEle.classList.contains(DISABLED$1);\n\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n      }\n\n      if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) && !otherMnthBool && !disabledCls) {\n        for (let tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n          const localDateString = this.calendarInstance.globalize.formatDate(localDate, {\n            type: 'date',\n            skeleton: 'short',\n            calendar: 'islamic'\n          });\n          const tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], {\n            type: 'date',\n            skeleton: 'short',\n            calendar: 'islamic'\n          });\n\n          if (localDateString === tempDateString && this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n            addClass([tdEle], SELECTED$1);\n          } else {\n            this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n\n        if (this.calendarInstance.values.length <= 0) {\n          this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED$1);\n      } else {\n        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n      }\n\n      if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n        if (date.getFullYear() === new Date().getFullYear()) {\n          addClass([tdEle], TODAY$1);\n        }\n      }\n\n      localDate = new Date(+minMaxDate);\n      tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n      this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n    }\n\n    return tdEles;\n  }\n\n  islamicIconHandler() {\n    new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n    const date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Month':\n        {\n          const prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n          const nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevMonthCompare);\n          this.calendarInstance.nextIconHandler(nextMonthCompare);\n        }\n        break;\n\n      case 'Year':\n        {\n          const prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n          const nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevYearCompare);\n          this.calendarInstance.nextIconHandler(nextYearCompare);\n        }\n        break;\n\n      case 'Decade':\n        {\n          const prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n          const nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevDecadeCompare);\n          this.calendarInstance.nextIconHandler(nextDecadeCompare);\n        }\n    }\n  }\n\n  islamicNext() {\n    this.calendarInstance.effect = '';\n    const view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    const islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Year':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n        this.calendarInstance.switchView(view);\n        break;\n\n      case 'Month':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n        this.calendarInstance.switchView(view);\n        break;\n\n      case 'Decade':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n        this.calendarInstance.switchView(view);\n        break;\n    }\n  }\n\n  islamicPrevious() {\n    const currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    this.calendarInstance.effect = '';\n    const islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Month':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n    }\n  }\n\n  islamicRenderYears(e, value) {\n    this.calendarInstance.removeTableHeadElement();\n    const numCells = 4;\n    const tdEles = [];\n    const valueUtil = isNullOrUndefined(value);\n    const curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n    let localDate = curDate;\n    const islamicDate = this.getIslamicDate(localDate);\n    const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n    localDate = gregorianObject;\n    const mon = islamicDate.month;\n    const yr = islamicDate.year;\n    const curYrs = islamicDate.year;\n    const minYr = this.getIslamicDate(this.calendarInstance.min).year;\n    const minMonth = this.getIslamicDate(this.calendarInstance.min).month;\n    const maxYr = this.getIslamicDate(this.calendarInstance.max).year;\n    const maxMonth = this.getIslamicDate(this.calendarInstance.max).month;\n    this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n\n    for (let month = 1; month <= 12; ++month) {\n      const islamicDate = this.getIslamicDate(localDate);\n      const gregorianObject = HijriParser.toGregorian(islamicDate.year, month, 1);\n      localDate = gregorianObject;\n      const tdEle = this.islamicDayCell(localDate);\n      const dayLink = this.calendarInstance.createElement('span');\n      const localMonth = value && this.getIslamicDate(value).month === this.getIslamicDate(localDate).month;\n      const select$$1 = value && this.getIslamicDate(value).year === yr && localMonth;\n      dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'dateTime',\n        format: 'MMM',\n        calendar: 'islamic'\n      });\n\n      if (this.calendarInstance.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.calendarInstance.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED$1);\n      } else if (!valueUtil && select$$1) {\n        addClass([tdEle], SELECTED$1);\n      } else {\n        if (this.getIslamicDate(localDate).month === mon && this.getIslamicDate(this.calendarInstance.currentDate).month === mon) {\n          addClass([tdEle], FOCUSEDDATE$1);\n        }\n      }\n\n      if (!tdEle.classList.contains(DISABLED$1)) {\n        EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n  }\n\n  islamicRenderDecade(e, value) {\n    this.calendarInstance.removeTableHeadElement();\n    const numCells = 4;\n    const yearCell = 12;\n    const tdEles = [];\n    let localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n    const islamicDate = this.getIslamicDate(localDate);\n    const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n    localDate = gregorianObject;\n    const localYr = localDate.getFullYear();\n    const startYr = new Date(this.islamicInValue(localYr - localYr % 10));\n    const endYr = new Date(this.islamicInValue(localYr - localYr % 10 + (10 - 1)));\n    const startFullYr = startYr.getFullYear();\n    const endFullYr = endYr.getFullYear();\n    const startHdrYr = this.calendarInstance.globalize.formatDate(startYr, {\n      type: 'dateTime',\n      format: 'y',\n      calendar: 'islamic'\n    });\n    const endHdrYr = this.calendarInstance.globalize.formatDate(endYr, {\n      type: 'dateTime',\n      format: 'y',\n      calendar: 'islamic'\n    });\n    this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    const start = new Date(localYr - localYr % 10 - 2, 0, 1);\n    const startYear = start.getFullYear();\n\n    for (let rowCount = 1; rowCount <= yearCell; ++rowCount) {\n      const year = startYear + rowCount;\n      localDate.setFullYear(year);\n      localDate.setDate(1);\n      localDate.setMonth(0);\n      const islamicDate = this.getIslamicDate(localDate);\n      const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n      localDate = gregorianObject;\n      const tdEle = this.islamicDayCell(localDate);\n      attributes(tdEle, {\n        'role': 'gridcell'\n      });\n      const dayLink = this.calendarInstance.createElement('span');\n      dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: 'islamic'\n      });\n\n      if (year < startFullYr || year > endFullYr) {\n        addClass([tdEle], OTHERMONTH$1);\n      } else if (year < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear() || year > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n        addClass([tdEle], DISABLED$1);\n      } else if (!isNullOrUndefined(value) && this.getIslamicDate(localDate).year === this.getIslamicDate(value).year) {\n        addClass([tdEle], SELECTED$1);\n      } else {\n        if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED$1)) {\n          addClass([tdEle], FOCUSEDDATE$1);\n        }\n      }\n\n      if (!tdEle.classList.contains(DISABLED$1)) {\n        EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n  }\n\n  islamicDayCell(localDate) {\n    const dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: 'islamic'\n    };\n    const formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n    const date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n    const value = date.valueOf();\n    const attrs = {\n      className: CELL$1,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false',\n        'role': 'gridcell'\n      }\n    };\n    return this.calendarInstance.createElement('td', attrs);\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  islamicRenderTemplate(elements, count, classNm, e, value) {\n    const view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    let trEle;\n    this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n    this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n    removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n    addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n    const weekNumCell = 41;\n    const numberCell = 35;\n    const otherMonthCell = 6;\n    let row = count;\n    let rowCount = 0;\n\n    for (let dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n      trEle = this.calendarInstance.createElement('tr', {\n        attrs: {\n          'role': 'row'\n        }\n      });\n\n      for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n        if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n          addClass([elements[rowCount].children[0]], [LINK$1]);\n          rippleEffect(elements[rowCount].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n\n        trEle.appendChild(elements[rowCount]);\n\n        if (this.calendarInstance.weekNumber && rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n          addClass([trEle], OTHERMONTHROW$1);\n        }\n\n        if (!this.calendarInstance.weekNumber && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n          addClass([trEle], OTHERMONTHROW$1);\n        }\n\n        if (this.calendarInstance.weekNumber) {\n          if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n        } else {\n          if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n        }\n      }\n\n      row = row + count;\n      rowCount = rowCount + 0;\n      this.calendarInstance.tableBodyElement.appendChild(trEle);\n    }\n\n    this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n    this.islamicIconHandler();\n\n    if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()) || view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())) {\n      this.calendarInstance.navigateHandler(e);\n    }\n\n    this.calendarInstance.setAriaActiveDescendant();\n    this.calendarInstance.changedArgs = {\n      value: this.calendarInstance.value,\n      values: this.calendarInstance.values\n    };\n    this.calendarInstance.changeHandler();\n  }\n\n  islamicCompareMonth(start, end) {\n    const hijriStart = this.getIslamicDate(start);\n    const hijriEnd = this.getIslamicDate(end);\n    let result;\n\n    if (hijriStart.year > hijriEnd.year) {\n      result = 1;\n    } else if (hijriStart.year < hijriEnd.year) {\n      result = -1;\n    } else {\n      result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n    }\n\n    return result;\n  }\n\n  islamicCompare(startDate, endDate, modifier) {\n    const hijriStart = this.getIslamicDate(startDate);\n    const hijriEnd = this.getIslamicDate(endDate);\n    let start = hijriEnd.year;\n    let end;\n    let result;\n    end = start;\n    result = 0;\n\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n\n    if (hijriStart.year > end) {\n      result = 1;\n    } else if (this.calendarInstance.currentView() === 'Decade' && hijriStart.year < start && !(startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade)) {\n      result = -1;\n    } else if (hijriStart.year < start && this.calendarInstance.currentView() === 'Year') {\n      result = -1;\n    }\n\n    return result;\n  }\n\n  getIslamicDate(date) {\n    return HijriParser.getHijriDate(date);\n  }\n\n  toGregorian(year, month, date) {\n    return HijriParser.toGregorian(year, month, date);\n  }\n\n  hijriCompareYear(start, end) {\n    return this.islamicCompare(start, end, 0);\n  }\n\n  hijriCompareDecade(start, end) {\n    return this.islamicCompare(start, end, 10);\n  }\n\n  destroy() {\n    this.calendarInstance = null;\n  }\n\n  islamicInValue(inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  }\n\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\n\n\nconst DATEWRAPPER = 'e-date-wrapper';\nconst ROOT$1 = 'e-datepicker';\nconst LIBRARY = 'e-lib';\nconst CONTROL = 'e-control';\nconst POPUPWRAPPER = 'e-popup-wrapper';\nconst INPUTWRAPPER = 'e-input-group-icon';\nconst POPUP = 'e-popup';\nconst INPUTCONTAINER = 'e-input-group';\nconst INPUTFOCUS = 'e-input-focus';\nconst INPUTROOT = 'e-input';\nconst ERROR = 'e-error';\nconst ACTIVE = 'e-active';\nconst OVERFLOW = 'e-date-overflow';\nconst DATEICON = 'e-date-icon';\nconst ICONS = 'e-icons';\nconst OPENDURATION = 300;\nconst OFFSETVALUE = 4;\nconst SELECTED$2 = 'e-selected';\nconst FOCUSEDDATE$2 = 'e-focused-date';\nconst NONEDIT = 'e-non-edit';\nconst containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\n\nlet DatePicker = class DatePicker extends Calendar {\n  /**\n   * Constructor for creating the widget.\n   *\n   * @param {DatePickerModel} options - Specifies the DatePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  constructor(options, element) {\n    super(options, element);\n    this.previousElementValue = '';\n    this.isDateIconClicked = false;\n    this.isAltKeyPressed = false;\n    this.isInteracted = true;\n    this.invalidValueString = null;\n    this.checkPreviousValue = null;\n    this.maskedDateValue = '';\n    this.isAngular = false;\n    this.preventChange = false;\n    this.isIconClicked = false;\n    this.isDynamicValueChanged = false;\n    this.moduleName = this.getModuleName();\n    this.isFocused = false;\n    this.datepickerOptions = options;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  render() {\n    this.initialize();\n    this.bindEvents();\n    this.renderComplete();\n    this.setTimeZone(this.serverTimezoneOffset);\n  }\n\n  setTimeZone(offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      const clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      const serverTimezoneDiff = offsetValue;\n      let timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n      this.updateInput();\n    }\n  }\n\n  isDayLightSaving() {\n    const firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    const secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  }\n\n  setAllowEdit() {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.updateIconState();\n  }\n\n  updateIconState() {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [NONEDIT]);\n      } else {\n        addClass([this.inputWrapper.container], [NONEDIT]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [NONEDIT]);\n    }\n  }\n\n  initialize() {\n    this.checkInvalidValue(this.value);\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n\n    this.createInput();\n    this.updateHtmlAttributeToWrapper();\n    this.setAllowEdit();\n    this.updateInput();\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      this.updateInputValue(this.maskedDateValue);\n    }\n\n    this.previousElementValue = this.inputElement.value;\n    this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.inputValueCopy = this.value;\n  }\n\n  createInput() {\n    const ariaAttrs = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-haspopup': 'true',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-invalid': 'false'\n    };\n\n    if (this.getModuleName() === 'datepicker') {\n      const l10nLocale = {\n        placeholder: this.placeholder\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n      this.setProperties({\n        placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n      }, true);\n    }\n\n    let updatedCssClassValues = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    let isBindClearAction = this.enableMask ? false : true;\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      floatLabelType: this.floatLabelType,\n      bindClearAction: isBindClearAction,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValues,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n    }, this.createElement);\n    this.setWidth(this.width);\n\n    if (this.inputElement.name !== '') {\n      this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n    } else {\n      this.inputElement.setAttribute('name', '' + this.element.id);\n    }\n\n    attributes(this.inputElement, ariaAttrs);\n\n    if (!this.enabled) {\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.inputElement.tabIndex = -1;\n    } else {\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    }\n\n    Input.addAttributes({\n      'aria-label': 'select'\n    }, this.inputWrapper.buttons[0]);\n    addClass([this.inputWrapper.container], DATEWRAPPER);\n  }\n\n  updateInput(isDynamic = false) {\n    let formatOptions;\n\n    if (this.value && !this.isCalendar() && !isDynamic) {\n      this.disabledDates();\n    }\n\n    if (isNaN(+new Date(this.checkValue(this.value)))) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (this.strictMode) {\n      //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n      super.validateDate();\n      this.minMaxUpdates();\n      super.minMaxUpdate();\n    }\n\n    if (!isNullOrUndefined(this.value)) {\n      const dateValue = this.value;\n      let dateString;\n      const tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          dateString = this.globalize.formatDate(this.value, {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          });\n        } else {\n          dateString = this.globalize.formatDate(this.value, {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          });\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        dateString = this.globalize.formatDate(this.value, formatOptions);\n      }\n\n      if (+dateValue <= +this.max && +dateValue >= +this.min) {\n        this.updateInputValue(dateString);\n      } else {\n        const value = +dateValue >= +this.max || !+this.value || !+this.value || +dateValue <= +this.min;\n\n        if (!this.strictMode && value) {\n          this.updateInputValue(dateString);\n        }\n      }\n    }\n\n    if (isNullOrUndefined(this.value) && this.strictMode) {\n      if (!this.enableMask) {\n        this.updateInputValue('');\n      } else {\n        this.updateInputValue(this.maskedDateValue);\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.changedArgs = {\n      value: this.value\n    };\n    this.errorClass();\n    this.updateIconState();\n  }\n\n  minMaxUpdates() {\n    if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n      this.setProperties({\n        value: this.min\n      }, true);\n      this.changedArgs = {\n        value: this.value\n      };\n    } else {\n      if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n        this.setProperties({\n          value: this.max\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      }\n    }\n  }\n\n  checkStringValue(val) {\n    let returnDate = null;\n    let formatOptions = null;\n    let formatDateTime = null;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      const culture = new Internationalization(this.locale);\n\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n        formatDateTime = {\n          format: culture.getDatePattern({\n            skeleton: 'yMd'\n          }),\n          type: 'dateTime'\n        };\n      } else {\n        formatOptions = {\n          format: this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n        formatDateTime = {\n          format: culture.getDatePattern({\n            skeleton: 'yMd'\n          }),\n          type: 'dateTime',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    }\n\n    returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n\n    if (isNullOrUndefined(returnDate) && this.getModuleName() === 'datetimepicker') {\n      returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n    }\n\n    return returnDate;\n  }\n\n  checkInvalidValue(value) {\n    if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n      let valueDate = null;\n      let valueString = value;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      }\n\n      let formatOptions = null;\n      let formatDateTime = null;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        const culture = new Internationalization(this.locale);\n\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime'\n          };\n        } else {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime',\n            calendar: 'islamic'\n          };\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n      }\n\n      let invalid = false;\n\n      if (typeof valueString !== 'string') {\n        valueString = null;\n        invalid = true;\n      } else {\n        if (typeof valueString === 'string') {\n          valueString = valueString.trim();\n        }\n\n        valueDate = this.checkStringValue(valueString);\n\n        if (!valueDate) {\n          let extISOString = null;\n          let basicISOString = null; // eslint-disable-next-line\n\n          extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n          basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n          if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n            invalid = true;\n          } else {\n            valueDate = new Date(valueString);\n          }\n        }\n      }\n\n      if (invalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n      } else {\n        this.setProperties({\n          value: valueDate\n        }, true);\n      }\n    }\n  }\n\n  bindInputEvent() {\n    if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n      if (this.enableMask || this.formatString.indexOf('y') === -1) {\n        EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n      } else {\n        EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n      }\n    }\n  }\n\n  bindEvents() {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n    EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n\n    if (this.enableMask) {\n      EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n    }\n\n    this.bindInputEvent(); // To prevent the twice triggering.\n\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n    }\n\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    this.keyboardModules = new KeyboardEvents(this.inputElement, {\n      eventName: 'keydown',\n      keyAction: this.inputKeyActionHandle.bind(this),\n      keyConfigs: this.defaultKeyConfigs\n    });\n  }\n\n  keydownHandler(e) {\n    switch (e.code) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'Home':\n      case 'End':\n      case 'Delete':\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          if (e.code !== 'Delete') {\n            e.preventDefault();\n          }\n\n          this.notify(\"keyDownHandler\", {\n            module: \"MaskedDateTime\",\n            e: e\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  unBindEvents() {\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n    EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n    if (this.enableMask) {\n      EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n    }\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n    }\n  }\n\n  resetFormHandler() {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      let value = this.inputElement.getAttribute('value');\n\n      if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n        value = '';\n        this.inputValueCopy = null;\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.setProperties({\n        value: this.inputValueCopy\n      }, true);\n      this.restoreValue();\n\n      if (this.inputElement) {\n        this.updateInputValue(value);\n        this.errorClass();\n      }\n    }\n  }\n\n  restoreValue() {\n    this.currentDate = this.value ? this.value : new Date();\n    this.previousDate = this.value;\n    this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.globalize.formatDate(this.inputValueCopy, {\n      format: this.formatString,\n      type: 'dateTime',\n      skeleton: 'yMd'\n    });\n  }\n\n  inputChangeHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  }\n\n  bindClearEvent() {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n    }\n  }\n\n  resetHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n    this.clear(e);\n  }\n\n  mouseUpHandler(e) {\n    if (this.enableMask) {\n      e.preventDefault();\n      this.notify(\"setMaskSelection\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }\n\n  clear(event) {\n    this.setProperties({\n      value: null\n    }, true);\n\n    if (!this.enableMask) {\n      this.updateInputValue('');\n    }\n\n    const clearedArgs = {\n      event: event\n    };\n    this.trigger('cleared', clearedArgs);\n    this.invalidValueString = '';\n    this.updateInput();\n    this.popupUpdate();\n    this.changeEvent(event);\n\n    if (this.enableMask) {\n      this.notify(\"clearHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }\n\n  preventEventBubbling(e) {\n    e.preventDefault(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n  }\n\n  updateInputValue(value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  }\n\n  dateIconHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.isIconClicked = true;\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n      this.inputElement.blur();\n    }\n\n    e.preventDefault();\n\n    if (!this.readonly) {\n      if (this.isCalendar()) {\n        this.hide(e);\n      } else {\n        this.isDateIconClicked = true;\n        this.show(null, e);\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.inputElement.focus();\n        }\n\n        this.inputElement.focus();\n        addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        addClass(this.inputWrapper.buttons, ACTIVE);\n      }\n    }\n\n    this.isIconClicked = false;\n  }\n\n  updateHtmlAttributeToWrapper() {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (const key of Object.keys(this.htmlAttributes)) {\n        if (!isNullOrUndefined(this.htmlAttributes[key])) {\n          if (containerAttr.indexOf(key) > -1) {\n            if (key === 'class') {\n              const updatedClassValues = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n              if (updatedClassValues !== '') {\n                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n              }\n            } else if (key === 'style') {\n              let setStyle = this.inputWrapper.container.getAttribute(key);\n\n              if (!isNullOrUndefined(setStyle)) {\n                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                  setStyle = setStyle + this.htmlAttributes[key];\n                } else {\n                  setStyle = setStyle + ';' + this.htmlAttributes[key];\n                }\n              } else {\n                setStyle = this.htmlAttributes[key];\n              }\n\n              this.inputWrapper.container.setAttribute(key, setStyle);\n            } else {\n              this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  updateHtmlAttributeToElement() {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (const key of Object.keys(this.htmlAttributes)) {\n        if (containerAttr.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  }\n\n  updateCssClass(newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n    }\n  }\n\n  calendarKeyActionHandle(e) {\n    switch (e.action) {\n      case 'escape':\n        if (this.isCalendar()) {\n          this.hide(e);\n        } else {\n          this.inputWrapper.container.children[this.index].blur();\n        }\n\n        break;\n\n      case 'enter':\n        if (!this.isCalendar()) {\n          this.show(null, e);\n        } else {\n          if (+this.value !== +this.currentDate && !this.isCalendar()) {\n            this.inputWrapper.container.children[this.index].focus();\n          }\n        }\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.inputElement.focus();\n        }\n\n        break;\n\n      case 'tab':\n        this.hide(e);\n    }\n  }\n\n  inputFocusHandler() {\n    this.isFocused = true;\n\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.enableMask && !this.inputElement.value && this.placeholder) {\n      if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.inputElement.selectionStart = 0;\n        this.inputElement.selectionEnd = this.inputElement.value.length;\n      }\n    }\n\n    const focusArguments = {\n      model: this\n    };\n    this.isDateIconClicked = false;\n    this.trigger('focus', focusArguments);\n    this.updateIconState();\n\n    if (this.openOnFocus && !this.isIconClicked) {\n      this.show();\n    }\n  }\n\n  inputHandler() {\n    this.isPopupClicked = false;\n\n    if (this.enableMask) {\n      this.notify(\"inputHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }\n\n  inputBlurHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.strictModeUpdate();\n\n    if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n      this.invalidValueString = null;\n      this.updateInputValue('');\n    }\n\n    this.updateInput();\n    this.popupUpdate();\n    this.changeTrigger(e);\n\n    if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n      if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue('');\n      }\n    }\n\n    this.errorClass();\n\n    if (this.isCalendar() && document.activeElement === this.inputElement) {\n      this.hide(e);\n    }\n\n    if (this.getModuleName() === 'datepicker') {\n      const blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n    }\n\n    if (this.isCalendar()) {\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n        eventName: 'keydown',\n        keyAction: this.calendarKeyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n\n    this.isPopupClicked = false;\n  }\n\n  documentHandler(e) {\n    if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) || this.popupObj.element && this.popupObj.element.contains(e.target)) && e.type !== 'touchstart') {\n      e.preventDefault();\n    }\n\n    const target = e.target;\n\n    if (!closest(target, '.e-datepicker.e-popup-wrapper') && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container) && !target.classList.contains('e-day')) {\n      this.hide(e);\n      this.focusOut();\n    } else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n      // Fix for close the popup when select the previously selected value.\n      if (target.classList.contains('e-day') && !isNullOrUndefined(e.target.parentElement) && e.target.parentElement.classList.contains('e-selected') && closest(target, '.e-content') && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n        this.hide(e);\n      } else if (closest(target, '.e-footer-container') && target.classList.contains('e-today') && target.classList.contains('e-btn') && +new Date(+this.value) === +super.generateTodayVal(this.value)) {\n        this.hide(e);\n      }\n    }\n  }\n\n  inputKeyActionHandle(e) {\n    const clickedView = this.currentView();\n\n    switch (e.action) {\n      case 'altUpArrow':\n        this.isAltKeyPressed = false;\n        this.hide(e);\n        this.inputElement.focus();\n        break;\n\n      case 'altDownArrow':\n        this.isAltKeyPressed = true;\n        this.strictModeUpdate();\n        this.updateInput();\n        this.changeTrigger(e);\n\n        if (this.getModuleName() === 'datepicker') {\n          this.show(null, e);\n        }\n\n        break;\n\n      case 'escape':\n        this.hide(e);\n        break;\n\n      case 'enter':\n        this.strictModeUpdate();\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        this.errorClass();\n\n        if (!this.isCalendar() && document.activeElement === this.inputElement) {\n          this.hide(e);\n        }\n\n        if (this.isCalendar()) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        break;\n\n      case 'tab':\n      case 'shiftTab':\n        let start = this.inputElement.selectionStart;\n        let end = this.inputElement.selectionEnd;\n\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          let length = this.inputElement.value.length;\n\n          if (start == 0 && end == length || end !== length && e.action == 'tab' || start !== 0 && e.action == 'shiftTab') {\n            e.preventDefault();\n          }\n\n          this.notify(\"keyDownHandler\", {\n            module: \"MaskedDateTime\",\n            e: e\n          });\n          start = this.inputElement.selectionStart;\n          end = this.inputElement.selectionEnd;\n        }\n\n        this.strictModeUpdate();\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        this.errorClass();\n\n        if (this.enableMask) {\n          this.inputElement.selectionStart = start;\n          this.inputElement.selectionEnd = end;\n        }\n\n        this.hide(e);\n        break;\n\n      default:\n        this.defaultAction(e); // Fix for close the popup when select the previously selected value.\n\n        if (e.action === 'select' && clickedView === this.depth) {\n          this.hide(e);\n        }\n\n    }\n  }\n\n  defaultAction(e) {\n    this.previousDate = !isNullOrUndefined(this.value) && new Date(+this.value) || null;\n\n    if (this.isCalendar()) {\n      super.keyActionHandle(e);\n\n      if (this.isCalendar()) {\n        attributes(this.inputElement, {\n          'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n      }\n    }\n  }\n\n  popupUpdate() {\n    if (isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || +this.value !== +this.previousDate) {\n      if (this.popupObj) {\n        if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n          removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n        }\n      }\n\n      if (!isNullOrUndefined(this.value)) {\n        if (+this.value >= +this.min && +this.value <= +this.max) {\n          const targetdate = new Date(this.checkValue(this.value));\n          super.navigateTo('Month', targetdate);\n        }\n      }\n    }\n  }\n\n  strictModeUpdate() {\n    let format;\n    let formatOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n    } else {\n      format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n    }\n\n    if (!isNullOrUndefined(format)) {\n      const len = format.split('M').length - 1;\n\n      if (len < 3) {\n        format = format.replace('MM', 'M');\n      }\n    }\n\n    let dateOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        dateOptions = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: format,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: format,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      dateOptions = formatOptions;\n    }\n\n    let date;\n\n    if (typeof this.inputElement.value === 'string') {\n      this.inputElement.value = this.inputElement.value.trim();\n    }\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n        date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n      }\n    } else {\n      date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n      date = !isNullOrUndefined(date) && isNaN(+date) ? null : date;\n\n      if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n        if ((this.isPopupClicked || !this.isPopupClicked && this.inputElement.value === this.previousElementValue) && this.formatString.indexOf('y') === -1) {\n          date.setFullYear(this.value.getFullYear());\n        }\n      }\n    } // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n\n\n    if (this.getModuleName() === 'datepicker' && this.value && !isNaN(+this.value) && date) {\n      date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n    }\n\n    if (this.strictMode && date) {\n      this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n\n      if (this.inputElement.value !== this.previousElementValue) {\n        this.setProperties({\n          value: date\n        }, true);\n      }\n    } else if (!this.strictMode) {\n      if (this.inputElement.value !== this.previousElementValue) {\n        this.setProperties({\n          value: date\n        }, true);\n      }\n    }\n\n    if (this.strictMode && !date && this.inputElement.value === (this.enableMask ? this.maskedDateValue : '')) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (isNullOrUndefined(this.value)) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n    }\n  }\n\n  createCalendar() {\n    this.popupWrapper = this.createElement('div', {\n      className: '' + ROOT$1 + ' ' + POPUPWRAPPER\n    });\n\n    if (!isNullOrUndefined(this.cssClass)) {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (Browser.isDevice) {\n      this.modelHeader();\n      this.modal = this.createElement('div');\n      this.modal.className = '' + ROOT$1 + ' e-date-modal';\n      document.body.className += ' ' + OVERFLOW;\n      this.modal.style.display = 'block';\n      document.body.appendChild(this.modal);\n    } //this.calendarElement represent the Calendar object from the Calendar class.\n\n\n    this.calendarElement.querySelector('table tbody').className = '';\n    this.popupObj = new Popup(this.popupWrapper, {\n      content: this.calendarElement,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      offsetY: OFFSETVALUE,\n      targetType: 'container',\n      enableRtl: this.enableRtl,\n      zIndex: this.zIndex,\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      open: () => {\n        if (this.getModuleName() !== 'datetimepicker') {\n          if (document.activeElement !== this.inputElement) {\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.calendarElement.children[1].firstElementChild.focus();\n            this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n              eventName: 'keydown',\n              keyAction: this.calendarKeyActionHandle.bind(this),\n              keyConfigs: this.defaultKeyConfigs\n            });\n            this.calendarKeyboardModules = new KeyboardEvents(this.inputWrapper.container.children[this.index], {\n              eventName: 'keydown',\n              keyAction: this.calendarKeyActionHandle.bind(this),\n              keyConfigs: this.defaultKeyConfigs\n            });\n          }\n        }\n      },\n      close: () => {\n        if (this.isDateIconClicked) {\n          this.inputWrapper.container.children[this.index].focus();\n        }\n\n        if (this.value) {\n          this.disabledDates();\n        }\n\n        if (this.popupObj) {\n          this.popupObj.destroy();\n        }\n\n        this.resetCalendar();\n        detach(this.popupWrapper);\n        this.popupObj = this.popupWrapper = null;\n        this.preventArgs = null;\n        this.calendarKeyboardModules = null;\n        this.setAriaAttributes();\n      },\n      targetExitViewport: () => {\n        if (!Browser.isDevice) {\n          this.hide();\n        }\n      }\n    });\n    this.popupObj.element.className += ' ' + this.cssClass;\n    this.setAriaAttributes();\n  }\n\n  setAriaDisabled() {\n    if (!this.enabled) {\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.inputElement.tabIndex = -1;\n    } else {\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    }\n  }\n\n  modelHeader() {\n    let dateOptions;\n    const modelHeader = this.createElement('div', {\n      className: 'e-model-header'\n    });\n    const yearHeading = this.createElement('h1', {\n      className: 'e-model-year'\n    });\n    const h2 = this.createElement('div');\n    const daySpan = this.createElement('span', {\n      className: 'e-model-day'\n    });\n    const monthSpan = this.createElement('span', {\n      className: 'e-model-month'\n    });\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'y',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'y',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'E',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'E',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'MMM d',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'MMM d',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n    modelHeader.appendChild(yearHeading);\n    h2.appendChild(daySpan);\n    h2.appendChild(monthSpan);\n    modelHeader.appendChild(h2);\n    this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n  }\n\n  changeTrigger(event) {\n    if (this.inputElement.value !== this.previousElementValue) {\n      if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n        if (this.isDynamicValueChanged && this.isCalendar()) {\n          this.popupUpdate();\n        }\n\n        this.changedArgs.value = this.value;\n        this.changedArgs.event = event || null;\n        this.changedArgs.element = this.element;\n        this.changedArgs.isInteracted = !isNullOrUndefined(event);\n\n        if (this.isAngular && this.preventChange) {\n          this.preventChange = false;\n        } else {\n          this.trigger('change', this.changedArgs);\n        }\n\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n        this.isInteracted = true;\n      }\n    }\n  }\n\n  navigatedEvent() {\n    this.trigger('navigated', this.navigatedArgs);\n  }\n\n  changeEvent(event) {\n    if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n      this.selectCalendar(event);\n      this.changedArgs.event = event ? event : null;\n      this.changedArgs.element = this.element;\n      this.changedArgs.isInteracted = this.isInteracted;\n\n      if (!this.isDynamicValueChanged) {\n        this.trigger('change', this.changedArgs);\n      }\n\n      this.previousDate = this.value && new Date(+this.value);\n\n      if (!this.isDynamicValueChanged) {\n        this.hide(event);\n      }\n\n      this.previousElementValue = this.inputElement.value;\n      this.errorClass();\n    }\n  }\n\n  requiredModules() {\n    const modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    if (this.enableMask) {\n      modules.push({\n        args: [this],\n        member: 'MaskedDateTime'\n      });\n    }\n\n    return modules;\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  selectCalendar(e) {\n    let date;\n    let tempFormat;\n    let formatOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n    } else {\n      tempFormat = this.formatString;\n    }\n\n    if (this.value) {\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n      }\n\n      if (this.enableMask) {\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n\n    if (!isNullOrUndefined(date)) {\n      this.updateInputValue(date);\n\n      if (this.enableMask) {\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }\n\n  isCalendar() {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  setWidth(width) {\n    if (typeof width === 'number') {\n      this.inputWrapper.container.style.width = formatUnit(this.width);\n    } else if (typeof width === 'string') {\n      this.inputWrapper.container.style.width = width.match(/px|%|em/) ? this.width : formatUnit(this.width);\n    } else {\n      this.inputWrapper.container.style.width = '100%';\n    }\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * Shows the Calendar.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  show(type, e) {\n    if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n      return;\n    } else {\n      let prevent = true;\n      let outOfRange;\n\n      if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n        outOfRange = new Date(this.checkValue(this.value));\n        this.setProperties({\n          'value': null\n        }, true);\n      } else {\n        outOfRange = this.value || null;\n      }\n\n      if (!this.isCalendar()) {\n        super.render();\n        this.setProperties({\n          'value': outOfRange || null\n        }, true);\n        this.previousDate = outOfRange;\n        this.createCalendar();\n      }\n\n      if (Browser.isDevice) {\n        this.mobilePopupWrapper = this.createElement('div', {\n          className: 'e-datepick-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobilePopupWrapper);\n      }\n\n      this.preventArgs = {\n        preventDefault: () => {\n          prevent = false;\n        },\n        popup: this.popupObj,\n        event: e || null,\n        cancel: false,\n        appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n      };\n      const eventArgs = this.preventArgs;\n      this.trigger('open', eventArgs, eventArgs => {\n        this.preventArgs = eventArgs;\n\n        if (prevent && !this.preventArgs.cancel) {\n          addClass(this.inputWrapper.buttons, ACTIVE);\n          this.preventArgs.appendTo.appendChild(this.popupWrapper);\n          this.popupObj.refreshPosition(this.inputElement);\n          const openAnimation = {\n            name: 'FadeIn',\n            duration: Browser.isDevice ? 0 : OPENDURATION\n          };\n\n          if (this.zIndex === 1000) {\n            this.popupObj.show(new Animation(openAnimation), this.element);\n          } else {\n            this.popupObj.show(new Animation(openAnimation), null);\n          } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n          super.setOverlayIndex(this.mobilePopupWrapper, this.popupObj.element, this.modal, Browser.isDevice);\n          this.setAriaAttributes();\n        } else {\n          this.popupObj.destroy();\n          this.popupWrapper = this.popupObj = null;\n        }\n\n        if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n          if (!isNullOrUndefined(this.tableBodyElement) && this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n            addClass([this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n            removeClass(this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n          }\n        }\n\n        EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n      });\n    }\n  }\n  /**\n   * Hide the Calendar.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  hide(event) {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      let prevent = true;\n      this.preventArgs = {\n        preventDefault: () => {\n          prevent = false;\n        },\n        popup: this.popupObj,\n        event: event || null,\n        cancel: false\n      };\n      removeClass(this.inputWrapper.buttons, ACTIVE);\n      removeClass([document.body], OVERFLOW);\n      const eventArgs = this.preventArgs;\n\n      if (this.isCalendar()) {\n        this.trigger('close', eventArgs, eventArgs => {\n          this.closeEventCallback(prevent, eventArgs);\n        });\n      } else {\n        this.closeEventCallback(prevent, eventArgs);\n      }\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  closeEventCallback(prevent, eventArgs) {\n    this.preventArgs = eventArgs;\n\n    if (this.isCalendar() && prevent && !this.preventArgs.cancel) {\n      this.popupObj.hide();\n      this.isAltKeyPressed = false;\n      this.keyboardModule.destroy();\n      removeClass(this.inputWrapper.buttons, ACTIVE);\n    }\n\n    this.setAriaAttributes();\n\n    if (Browser.isDevice && this.modal) {\n      this.modal.style.display = 'none';\n      this.modal.outerHTML = '';\n      this.modal = null;\n    }\n\n    if (Browser.isDevice) {\n      if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n        this.mobilePopupWrapper.remove();\n        this.mobilePopupWrapper = null;\n      }\n    }\n\n    EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n\n    if (Browser.isDevice && this.allowEdit && !this.readonly) {\n      this.inputElement.removeAttribute('readonly');\n    }\n\n    this.setAllowEdit();\n  }\n  /* eslint-disable jsdoc/require-param */\n\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  focusIn(triggerEvent) {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS]);\n    }\n  }\n  /* eslint-enable jsdoc/require-param */\n\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  focusOut() {\n    if (document.activeElement === this.inputElement) {\n      removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n      this.inputElement.blur();\n    }\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the DatePicker.\n   *\n   * @returns {string}\n   * @deprecated\n   */\n\n\n  currentView() {\n    let currentView;\n\n    if (this.calendarElement) {\n      // calls the Calendar currentView public method\n      currentView = super.currentView();\n    }\n\n    return currentView;\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Navigates to specified month or year or decade view of the DatePicker.\n   *\n   * @param  {string} view - Specifies the view of the calendar.\n   * @param  {Date} date - Specifies the focused date in a view.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  navigateTo(view, date) {\n    if (this.calendarElement) {\n      // calls the Calendar navigateTo public method\n      super.navigateTo(view, date);\n    }\n  }\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    this.unBindEvents();\n    super.destroy();\n    this.keyboardModules.destroy();\n\n    if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n      super.destroy();\n    }\n\n    const ariaAttrs = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-disabled': 'true',\n      'aria-haspopup': 'true',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttrs, this.inputElement);\n\n      if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n      this.ensureInputAttribute();\n    }\n\n    if (this.isCalendar()) {\n      if (this.popupWrapper) {\n        detach(this.popupWrapper);\n      }\n\n      this.popupObj = this.popupWrapper = null;\n      this.keyboardModule.destroy();\n    }\n\n    if (this.ngTag === null) {\n      if (this.inputElement) {\n        this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n        removeClass([this.inputElement], [INPUTROOT]);\n      }\n\n      removeClass([this.element], [ROOT$1]);\n      detach(this.inputWrapper.container);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n    }\n  }\n\n  ensureInputAttribute() {\n    const prop = [];\n\n    for (let i = 0; i < this.inputElement.attributes.length; i++) {\n      prop[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (let i = 0; i < prop.length; i++) {\n      if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n        if (prop[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n\n        this.inputElement.removeAttribute(prop[i]);\n      } else {\n        if (prop[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n        }\n\n        this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n      }\n    }\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  preRender() {\n    this.inputElementCopy = this.element.cloneNode(true);\n    removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n    this.inputElement = this.element;\n    this.formElement = closest(this.inputElement, 'form');\n    this.index = this.showClearButton ? 2 : 1;\n    this.ngTag = null;\n\n    if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n      this.ngTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    if (this.element.getAttribute('id')) {\n      if (this.ngTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      if (this.getModuleName() === 'datetimepicker') {\n        this.element.id = getUniqueID('ej2-datetimepicker');\n\n        if (this.ngTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      } else {\n        this.element.id = getUniqueID('ej2-datepicker');\n\n        if (this.ngTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      }\n    }\n\n    if (this.ngTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.checkHtmlAttributes(false);\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    super.preRender();\n  }\n\n  getDefaultKeyConfig() {\n    this.defaultKeyConfigs = {\n      altUpArrow: 'alt+uparrow',\n      altDownArrow: 'alt+downarrow',\n      escape: 'escape',\n      enter: 'enter',\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      shiftTab: 'shift+tab',\n      tab: 'tab'\n    };\n    return this.defaultKeyConfigs;\n  }\n\n  validationAttribute(target, inputElement) {\n    const nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    inputElement.setAttribute('name', nameAttribute);\n    target.removeAttribute('name');\n    const attribute = ['required', 'aria-required', 'form'];\n\n    for (let i = 0; i < attribute.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n        continue;\n      }\n\n      const attr = target.getAttribute(attribute[i]);\n      inputElement.setAttribute(attribute[i], attr);\n      target.removeAttribute(attribute[i]);\n    }\n  }\n\n  checkFormat() {\n    const culture = new Internationalization(this.locale);\n\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n        const skeletonString = this.format.skeleton;\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.formatString = culture.getDatePattern({\n            skeleton: skeletonString,\n            type: 'dateTime'\n          });\n        } else {\n          this.formatString = culture.getDatePattern({\n            skeleton: skeletonString,\n            type: 'date'\n          });\n        }\n      } else {\n        if (this.getModuleName() === 'datetimepicker') {\n          this.formatString = this.dateTimeFormat;\n        } else {\n          this.formatString = null;\n        }\n      }\n    } else {\n      this.formatString = null;\n    }\n  }\n\n  checkHtmlAttributes(dynamic) {\n    this.globalize = new Internationalization(this.locale);\n    this.checkFormat();\n    this.checkView();\n    const attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n    let options;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        options = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        options = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        options = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        options = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    }\n\n    for (const prop of attributes$$1) {\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['enabled'] === undefined || dynamic) {\n              const enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['readonly'] === undefined || dynamic) {\n              const readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['placeholder'] === undefined || dynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['value'] === undefined || dynamic) {\n              const value = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (+this.min === +new Date(1900, 0, 1) || dynamic) {\n              const min = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n            }\n\n            break;\n\n          case 'max':\n            if (+this.max === +new Date(2099, 11, 31) || dynamic) {\n              const max = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n            }\n\n            break;\n\n          case 'type':\n            if (this.inputElement.getAttribute(prop) !== 'text') {\n              this.inputElement.setAttribute('type', 'text');\n            }\n\n            break;\n        }\n      }\n    }\n  }\n  /**\n   * To get component name.\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'datepicker';\n  }\n\n  disabledDates() {\n    let formatOptions;\n    let globalize;\n    const valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n    const previousValCopy = this.previousDate; //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n\n    this.minMaxUpdates();\n    super.render();\n    this.previousDate = previousValCopy;\n    const date = valueCopy && +valueCopy;\n    const dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n\n    if (!this.strictMode) {\n      if (typeof this.value === 'string' || typeof this.value === 'object' && +this.value !== +valueCopy) {\n        this.setProperties({\n          value: valueCopy\n        }, true);\n      }\n    }\n\n    if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n      if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n        if (!this.strictMode) {\n          this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n      }\n    }\n\n    let inputVal;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        globalize = this.globalize.formatDate(valueCopy, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        });\n      } else {\n        globalize = this.globalize.formatDate(valueCopy, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        });\n      }\n\n      inputVal = globalize;\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n    }\n\n    if (!this.popupObj) {\n      this.updateInputValue(inputVal);\n\n      if (this.enableMask) {\n        this.updateInputValue(this.maskedDateValue);\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  }\n\n  setAriaAttributes() {\n    if (this.isCalendar()) {\n      Input.addAttributes({\n        'aria-expanded': 'true'\n      }, this.inputElement);\n      attributes(this.inputElement, {\n        'aria-activedescendant': '' + this.setActiveDescendant()\n      });\n    } else {\n      Input.addAttributes({\n        'aria-expanded': 'false'\n      }, this.inputElement);\n      attributes(this.inputElement, {\n        'aria-activedescendant': 'null'\n      });\n    }\n  }\n\n  errorClass() {\n    const dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + +this.value);\n    const isDisabledDate = this.calendarElement && this.calendarElement.querySelectorAll(dateIdString)[0] && this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n\n    if (!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min && +new Date(+this.value).setMilliseconds(0) <= +this.max) || !this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate) {\n      addClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    } else {\n      removeClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'false'\n      });\n    }\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'value':\n          this.isDynamicValueChanged = true;\n          this.isInteracted = false;\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n          this.previousElementValue = this.inputElement.value;\n\n          if (isNullOrUndefined(this.value)) {\n            this.updateInputValue('');\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n          }\n\n          this.updateInput(true);\n\n          if (+this.previousDate !== +this.value) {\n            this.changeTrigger(null);\n          }\n\n          this.isInteracted = true;\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'format':\n          this.checkFormat();\n          this.bindInputEvent();\n          this.updateInput();\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n          }\n\n          break;\n\n        case 'allowEdit':\n          this.setAllowEdit();\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(this.enabled, this.inputElement);\n          this.setAriaDisabled();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkHtmlAttributes(true);\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          this.updateInput();\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'start':\n        case 'depth':\n          this.checkView();\n\n          if (this.calendarElement) {\n            super.onPropertyChanged(newProp, oldProp);\n          }\n\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          this.index = this.showClearButton ? 2 : 1;\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.updateInput();\n          break;\n\n        case 'width':\n          this.setWidth(newProp.width);\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            this.updateInputValue(this.maskedDateValue);\n            this.bindInputEvent();\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.updateInputValue('');\n            }\n          }\n\n          break;\n\n        default:\n          if (this.calendarElement && this.isCalendar()) {\n            super.onPropertyChanged(newProp, oldProp);\n          }\n\n          break;\n      }\n\n      if (!this.isDynamicValueChanged) {\n        this.hide(null);\n      }\n\n      this.isDynamicValueChanged = false;\n    }\n  }\n\n};\n\n__decorate$1([Property(null)], DatePicker.prototype, \"width\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"value\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"cssClass\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"strictMode\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"format\", void 0);\n\n__decorate$1([Property(true)], DatePicker.prototype, \"enabled\", void 0);\n\n__decorate$1([Property({})], DatePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"values\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"isMultiSelection\", void 0);\n\n__decorate$1([Property(true)], DatePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$1([Property(true)], DatePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$1([Property(1000)], DatePicker.prototype, \"zIndex\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"readonly\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"placeholder\", void 0);\n\n__decorate$1([Property('Never')], DatePicker.prototype, \"floatLabelType\", void 0);\n\n__decorate$1([Property(null)], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$1([Property(false)], DatePicker.prototype, \"enableMask\", void 0);\n\n__decorate$1([Property({\n  day: 'day',\n  month: 'month',\n  year: 'year',\n  hour: 'hour',\n  minute: 'minute',\n  second: 'second',\n  dayOfTheWeek: 'day of the week'\n})], DatePicker.prototype, \"maskPlaceholder\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"open\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"cleared\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"close\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"blur\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"focus\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"created\", void 0);\n\n__decorate$1([Event()], DatePicker.prototype, \"destroyed\", void 0);\n\nDatePicker = __decorate$1([NotifyPropertyChanges], DatePicker);\n/**\n * Datepicker modules\n */\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n\n\nconst DATERANGEWRAPPER = 'e-date-range-wrapper';\nconst INPUTCONTAINER$1 = 'e-input-group';\nconst DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nconst POPUP$1 = 'e-popup';\nconst LEFTCALENDER = 'e-left-calendar';\nconst RIGHTCALENDER = 'e-right-calendar';\nconst LEFTCONTAINER = 'e-left-container';\nconst RIGHTCONTAINER = 'e-right-container';\nconst ROOT$2 = 'e-daterangepicker';\nconst LIBRARY$1 = 'e-lib';\nconst CONTROL$1 = 'e-control';\nconst ERROR$1 = 'e-error';\nconst ACTIVE$1 = 'e-active';\nconst STARTENDCONTAINER = 'e-start-end';\nconst STARTDATE = 'e-start-date';\nconst ENDDATE = 'e-end-date';\nconst STARTBUTTON = 'e-start-btn';\nconst INPUTFOCUS$1 = 'e-input-focus';\nconst ENDBUTTON = 'e-end-btn';\nconst RANGEHOVER = 'e-range-hover';\nconst OTHERMONTH$2 = 'e-other-month';\nconst STARTLABEL = 'e-start-label';\nconst ENDLABEL = 'e-end-label';\nconst DISABLED$2 = 'e-disabled';\nconst SELECTED$3 = 'e-selected';\nconst CALENDAR = 'e-calendar';\nconst NEXTICON$1 = 'e-next';\nconst PREVICON$1 = 'e-prev';\nconst HEADER$1 = 'e-header';\nconst TITLE$1 = 'e-title';\nconst ICONCONTAINER$1 = 'e-icon-container';\nconst RANGECONTAINER = 'e-date-range-container';\nconst RANGEHEADER = 'e-range-header';\nconst PRESETS = 'e-presets';\nconst FOOTER$1 = 'e-footer';\nconst RANGEBORDER = 'e-range-border';\nconst TODAY$2 = 'e-today';\nconst FOCUSDATE = 'e-focused-date';\nconst CONTENT$1 = 'e-content';\nconst DAYSPAN = 'e-day-span';\nconst WEEKNUMBER$2 = 'e-week-number';\nconst DATEDISABLED = 'e-date-disabled';\nconst ICONDISABLED = 'e-icon-disabled';\nconst CALENDARCONTAINER = 'e-calendar-container';\nconst SEPARATOR = 'e-separator';\nconst APPLY = 'e-apply';\nconst CANCEL = 'e-cancel';\nconst DEVICE$1 = 'e-device';\nconst OVERLAY$2 = 'e-overlay';\nconst CHANGEICON = 'e-change-icon e-icons';\nconst LISTCLASS = 'e-list-item';\nconst RTL$1 = 'e-rtl';\nconst HOVER = 'e-hover';\nconst OVERFLOW$1 = 'e-range-overflow';\nconst OFFSETVALUE$1 = 4;\nconst PRIMARY$1 = 'e-primary';\nconst FLAT$1 = 'e-flat';\nconst CSS$1 = 'e-css';\nconst ZOOMIN$1 = 'e-zoomin';\nconst NONEDITABLE = 'e-non-edit';\nconst DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nconst HIDDENELEMENT = 'e-daterange-hidden';\nconst wrapperAttr = ['title', 'class', 'style'];\n\nclass Presets extends ChildProperty {}\n\n__decorate$2([Property()], Presets.prototype, \"label\", void 0);\n\n__decorate$2([Property()], Presets.prototype, \"start\", void 0);\n\n__decorate$2([Property()], Presets.prototype, \"end\", void 0);\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\n\n\nlet DateRangePicker = class DateRangePicker extends CalendarBase {\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  constructor(options, element) {\n    super(options, element);\n    this.isCustomRange = false;\n    this.isCustomWindow = false;\n    this.presetsItem = [];\n    this.liCollections = [];\n    this.previousEleValue = '';\n    this.isKeyPopup = false;\n    this.dateDisabled = false;\n    this.isRangeIconClicked = false;\n    this.isMaxDaysClicked = false;\n    this.disabledDays = [];\n    this.preventBlur = false;\n    this.preventFocus = false;\n    this.invalidValueString = null;\n    this.isAngular = false;\n    this.preventChange = false;\n    this.dateRangeOptions = options;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  render() {\n    this.initialize();\n    this.setProperties({\n      startDate: this.startValue\n    }, true);\n    this.setProperties({\n      endDate: this.endValue\n    }, true);\n    this.setModelValue();\n    this.setDataAttribute(false);\n\n    if (this.element.hasAttribute('data-val')) {\n      this.element.setAttribute('data-val', 'false');\n    }\n\n    this.renderComplete();\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  preRender() {\n    this.keyInputConfigs = {\n      altDownArrow: 'alt+downarrow',\n      escape: 'escape',\n      enter: 'enter',\n      tab: 'tab',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      spacebar: 'space'\n    };\n    this.defaultConstant = {\n      placeholder: this.placeholder,\n      startLabel: 'Start Date',\n      endLabel: 'End Date',\n      customRange: 'Custom Range',\n      applyText: 'Apply',\n      cancelText: 'Cancel',\n      selectedDays: 'Selected Days',\n      days: 'days'\n    };\n    /**\n     * Mobile View\n     */\n\n    this.isMobile = window.matchMedia('(max-width:550px)').matches;\n    this.inputElement = this.element;\n    this.angularTag = null;\n\n    if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n    this.updateHtmlAttributeToElement();\n\n    if (this.element.getAttribute('id')) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      this.element.id = getUniqueID('ej2-datetimepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    this.checkInvalidRange(this.value);\n\n    if (!this.invalidValueString && typeof this.value === 'string') {\n      const rangeArray = this.value.split(' ' + this.separator + ' ');\n      this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n    }\n\n    this.initProperty();\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    super.preRender();\n    this.navNextFunction = this.navNextMonth.bind(this);\n    this.navPrevFunction = this.navPrevMonth.bind(this);\n    this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n    this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.formElement = closest(this.element, 'form');\n  }\n\n  updateValue() {\n    if (this.value && this.value.length > 0) {\n      if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n        this.setProperties({\n          startDate: this.value[0]\n        }, true);\n        this.startValue = this.value[0];\n      } else if (typeof this.value[0] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.startValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            startDate: new Date(this.checkValue(this.value[0]))\n          }, true);\n          this.startValue = new Date(this.checkValue(this.value[0]));\n        }\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n        this.setProperties({\n          endDate: this.value[1]\n        }, true);\n        this.endValue = this.value[1];\n      } else if (typeof this.value[1] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.setProperties({\n            endDate: null\n          }, true);\n          this.endValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            endDate: new Date(this.checkValue(this.value[1]))\n          }, true);\n          this.endValue = new Date(this.checkValue(this.value[1]));\n          this.setValue();\n        }\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (this.value && this.value.start) {\n      if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n        this.setProperties({\n          startDate: this.value.start\n        }, true);\n        this.startValue = this.value.start;\n      } else if (typeof this.value.start === 'string') {\n        this.setProperties({\n          startDate: new Date(this.checkValue(this.value.start))\n        }, true);\n        this.startValue = new Date(this.checkValue(this.value.start));\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n        this.setProperties({\n          endDate: this.value.end\n        }, true);\n        this.endValue = this.value.end;\n      } else if (typeof this.value.end === 'string') {\n        this.setProperties({\n          endDate: new Date(this.checkValue(this.value.end))\n        }, true);\n        this.endValue = new Date(this.checkValue(this.value.end));\n        this.setValue();\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (isNullOrUndefined(this.value)) {\n      this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n      this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n      this.setValue();\n    }\n  }\n\n  initProperty() {\n    this.globalize = new Internationalization(this.locale);\n    this.checkFormat();\n    this.checkView();\n\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n\n    this.updateValue();\n  }\n\n  checkFormat() {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n        const skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          skeleton: skeletonString,\n          type: 'date'\n        });\n      } else {\n        this.formatString = null;\n      }\n    } else {\n      this.formatString = null;\n    }\n  }\n\n  initialize() {\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.checkHtmlAttributes(false);\n    merge(this.defaultKeyConfigs, {\n      shiftTab: 'shift+tab',\n      tab: 'tab'\n    });\n    const start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n    this.setProperties({\n      startDate: start\n    }, true); // persist the value propeerty.\n\n    this.setProperties({\n      endValue: this.checkDateValue(new Date(this.checkValue(this.endValue)))\n    }, true);\n    this.setValue();\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.processPresets();\n    this.createInput();\n    this.updateHtmlAttributeToWrapper();\n    this.setRangeAllowEdit();\n    this.bindEvents();\n  }\n\n  setDataAttribute(isDynamic) {\n    let attributes$$1 = {};\n\n    if (!isDynamic) {\n      for (let i = 0; i < this.element.attributes.length; i++) {\n        attributes$$1[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n      }\n    } else {\n      attributes$$1 = this.htmlAttributes;\n    }\n\n    for (const pro of Object.keys(attributes$$1)) {\n      if (pro.indexOf('data') === 0) {\n        this.firstHiddenChild.setAttribute(pro, attributes$$1[pro]);\n        this.secondHiddenChild.setAttribute(pro, attributes$$1[pro]);\n      }\n    }\n  }\n\n  setRangeAllowEdit() {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.updateClearIconState();\n  }\n\n  updateClearIconState() {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [NONEDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [NONEDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [NONEDITABLE]);\n    }\n  }\n\n  validationAttribute(element, input) {\n    const name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n    input.setAttribute('name', name);\n    element.removeAttribute('name');\n    const attributes$$1 = ['required', 'aria-required', 'form'];\n\n    for (let i = 0; i < attributes$$1.length; i++) {\n      if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n        continue;\n      }\n\n      const attr = element.getAttribute(attributes$$1[i]);\n      input.setAttribute(attributes$$1[i], attr);\n      element.removeAttribute(attributes$$1[i]);\n    }\n  }\n\n  updateHtmlAttributeToWrapper() {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (const key of Object.keys(this.htmlAttributes)) {\n        if (wrapperAttr.indexOf(key) > -1) {\n          if (key === 'class') {\n            const updatedClassValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n            }\n          } else if (key === 'style') {\n            let dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n            dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? dateRangeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n            this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  }\n\n  updateHtmlAttributeToElement() {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (const key of Object.keys(this.htmlAttributes)) {\n        if (wrapperAttr.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  }\n\n  updateCssClass(cssNewClass, cssOldClass) {\n    if (!isNullOrUndefined(cssOldClass)) {\n      cssOldClass = cssOldClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssNewClass)) {\n      cssNewClass = cssNewClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n    }\n  }\n\n  processPresets() {\n    this.presetsItem = [];\n    let i = 0;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      for (const range of this.presets) {\n        const id = range.label.replace(/\\s+/g, '') + '_' + ++i;\n\n        if (typeof range.end === 'string') {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            end: new Date(this.checkValue(range.end)),\n            start: new Date(this.checkValue(range.start))\n          });\n        } else {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            start: range.start,\n            end: range.end\n          });\n        }\n      }\n\n      const startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n      const endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n      this.presetsItem.push({\n        id: 'custom_range',\n        text: this.l10n.getConstant('customRange'),\n        start: startDate,\n        end: endDate\n      });\n\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        this.isCustomRange = true;\n        this.activeIndex = this.presetsItem.length - 1;\n      }\n    }\n  }\n\n  bindEvents() {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n\n    if (!this.isMobile) {\n      this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n      this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n        eventName: 'keydown',\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyInputConfigs\n      });\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (this.enabled) {\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.inputElement.tabIndex = -1;\n    }\n  }\n\n  unBindEvents() {\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n    }\n\n    if (!this.isMobile) {\n      if (!isNullOrUndefined(this.inputKeyboardModule)) {\n        this.inputKeyboardModule.destroy();\n      }\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    this.inputElement.tabIndex = -1;\n  }\n\n  updateHiddenInput() {\n    if (this.firstHiddenChild && this.secondHiddenChild) {\n      const format = {\n        type: 'datetime',\n        skeleton: 'yMd'\n      };\n\n      if (typeof this.startDate === 'string') {\n        this.startDate = this.globalize.parseDate(this.startDate, format);\n      }\n\n      if (typeof this.endDate === 'string') {\n        this.endDate = this.globalize.parseDate(this.endDate, format);\n      }\n\n      this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format) || this.inputElement.value;\n      this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format) || this.inputElement.value;\n      this.dispatchEvent(this.firstHiddenChild, 'focusout');\n      this.dispatchEvent(this.firstHiddenChild, 'change');\n    }\n  }\n\n  inputChangeHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n    this.updateHiddenInput();\n  }\n\n  bindClearEvent() {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n  }\n\n  resetHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.valueType = this.value;\n    e.preventDefault();\n    this.clear();\n    const clearedArgs = {\n      event: e\n    };\n    this.setProperties({\n      endDate: this.checkDateValue(this.endValue)\n    }, true);\n    this.setProperties({\n      startDate: this.checkDateValue(this.startValue)\n    }, true);\n    this.trigger('cleared', clearedArgs);\n    this.changeTrigger(e);\n    this.clearRange();\n    this.hide(e);\n  }\n\n  restoreValue() {\n    this.previousEleValue = this.inputElement.value;\n    this.previousStartValue = this.startValue;\n    this.previousEndValue = this.endValue;\n    this.valueType = null;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.setValue();\n    this.setModelValue();\n  }\n\n  formResetHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.formElement && e.target === this.formElement && !this.inputElement.disabled) {\n      let val = this.inputElement.getAttribute('value');\n\n      if (!isNullOrUndefined(this.startCopy)) {\n        if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n          this.setProperties({\n            value: {\n              start: this.startCopy,\n              end: this.endCopy\n            }\n          }, true);\n          this.startValue = this.value.start;\n          this.endValue = this.value.end;\n        } else {\n          this.setProperties({\n            value: [this.startCopy, this.endCopy]\n          }, true);\n          this.startValue = this.value[0];\n          this.endValue = this.value[1];\n        }\n\n        this.setProperties({\n          startDate: this.startValue,\n          endDate: this.endValue\n        }, true);\n      } else {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        this.startValue = this.endValue = null;\n      }\n\n      if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        val = '';\n        this.startValue = this.endValue = null;\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.restoreValue();\n\n      if (this.inputElement) {\n        Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.errorClass();\n      }\n    }\n  }\n\n  clear() {\n    if (this.startValue !== null) {\n      this.startValue = null;\n    }\n\n    if (this.endValue !== null) {\n      this.endValue = null;\n    }\n\n    if (this.value && this.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    if (this.value !== null && this.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n\n    if (!isNullOrUndefined(this.applyButton)) {\n      this.applyButton.disabled = this.applyButton.element.disabled = true;\n    }\n\n    this.removeSelection();\n  }\n\n  rangeIconHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.isMobile) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n    this.targetElement = null;\n\n    if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n      this.applyFunction(e);\n    } else {\n      this.isRangeIconClicked = true;\n      this.inputWrapper.container.children[0].focus();\n      this.show(null, e);\n\n      if (!this.isMobile) {\n        if (!isNullOrUndefined(this.leftCalendar)) {\n          this.isRangeIconClicked = false;\n          this.calendarFocus();\n          this.isRangeIconClicked = true;\n        }\n      }\n\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n  }\n\n  checkHtmlAttributes(isDynamic) {\n    this.globalize = new Internationalization(this.locale);\n    const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type', 'value'];\n    const format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (const prop of attributes$$1) {\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['enabled'] === undefined || isDynamic) {\n              const disabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                enabled: !disabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['readonly'] === undefined || isDynamic) {\n              const readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['value'] === undefined || isDynamic) {\n              const value = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, value, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1) || isDynamic) {\n              const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31) || isDynamic) {\n              const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'startDate':\n            if (isNullOrUndefined(this.startDate)) {\n              const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.startValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'endDate':\n            if (isNullOrUndefined(this.endDate)) {\n              const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.endValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'minDays':\n            if (isNullOrUndefined(this.minDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'maxDays':\n            if (isNullOrUndefined(this.maxDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'type':\n            if (this.inputElement.getAttribute(prop) !== 'text') {\n              this.inputElement.setAttribute('type', 'text');\n            }\n\n            break;\n        }\n      }\n    }\n  }\n\n  createPopup() {\n    for (let i = 0; i < this.presetsItem.length; i++) {\n      if (i !== this.presetsItem.length - 1 && this.presetsItem[i].id === 'custom_range') {\n        this.presetsItem.splice(i, 1);\n      }\n    }\n\n    this.activeIndex = this.presetsItem.length - 1;\n    this.isCustomRange = true;\n\n    for (let i = 0; i <= this.presetsItem.length - 2; i++) {\n      const startDate = this.presetsItem[i].start;\n      const endDate = this.presetsItem[i].end;\n\n      if (this.startValue && this.endValue) {\n        if (+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0)) && +new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0))) {\n          this.activeIndex = i;\n          this.isCustomRange = false;\n        }\n      }\n    }\n\n    this.popupWrapper = createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT$2 + ' ' + POPUP$1\n    });\n    this.adjustLongHeaderWidth();\n    const isPreset = !this.isCustomRange || this.isMobile;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n      this.isCustomWindow = false;\n      this.createPresets();\n      this.listRippleEffect();\n      this.renderPopup();\n    } else {\n      this.isCustomWindow = true;\n      this.renderControl();\n    }\n  }\n\n  renderControl() {\n    this.createControl();\n    this.bindCalendarEvents();\n    this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      this.disabledDateRender();\n    }\n\n    this.updateHeader();\n  }\n\n  clearCalendarEvents() {\n    EventHandler.clearEvents(this.leftCalPrevIcon);\n    EventHandler.clearEvents(this.leftCalNextIcon);\n    EventHandler.clearEvents(this.rightCalPrevIcon);\n    EventHandler.clearEvents(this.rightCalNextIcon);\n  }\n\n  updateNavIcons() {\n    super.iconHandler();\n  }\n\n  calendarIconEvent() {\n    this.clearCalendarEvents();\n\n    if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n\n    if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n  }\n\n  bindCalendarEvents() {\n    if (!this.isMobile) {\n      this.updateNavIcons();\n      this.calendarIconEvent();\n      this.calendarIconRipple();\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n      this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.deviceCalendarEvent();\n      EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n      EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n    }\n\n    if (this.start === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  }\n\n  calendarIconRipple() {\n    rippleEffect(this.leftCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.leftCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n  }\n\n  deviceCalendarEvent() {\n    EventHandler.clearEvents(this.nextIcon);\n    EventHandler.clearEvents(this.previousIcon);\n    rippleEffect(this.nextIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.previousIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n\n    if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n    }\n\n    if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n    }\n  }\n\n  deviceNavNext(e) {\n    const calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigateNext(e);\n    this.deviceNavigation();\n  }\n\n  deviceNavPrevious(e) {\n    const calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigatePrevious(e);\n    this.deviceNavigation();\n  }\n\n  updateDeviceCalendar(calendar) {\n    if (calendar) {\n      this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n      this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n      this.calendarElement = calendar;\n      this.deviceCalendar = calendar;\n      this.contentElement = calendar.querySelector('.' + CONTENT$1);\n      this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n      this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n      this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n      this.headerElement = calendar.querySelector('.' + HEADER$1);\n    }\n  }\n\n  deviceHeaderClick(event) {\n    const element = event.currentTarget;\n\n    if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n      this.endButton.element.classList.remove(ACTIVE$1);\n      this.startButton.element.classList.add(ACTIVE$1);\n      const calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.startValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.removeClassDisabled();\n    } else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.startButton.element.classList.remove(ACTIVE$1);\n      this.endButton.element.classList.add(ACTIVE$1);\n      const calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.endValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      this.selectableDates();\n    }\n  }\n\n  inputFocusHandler() {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.preventBlur = false;\n    const focusArguments = {\n      model: this\n    };\n\n    if (!this.preventFocus) {\n      this.trigger('focus', focusArguments);\n    }\n\n    this.updateClearIconState();\n    this.updateHiddenInput();\n\n    if (this.openOnFocus && !this.preventFocus) {\n      this.preventFocus = true;\n      this.show();\n    } else {\n      this.preventFocus = true;\n    }\n  }\n\n  inputBlurHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.preventBlur) {\n      const value = this.inputElement.value;\n\n      if (!isNullOrUndefined(this.presetsItem)) {\n        if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n          this.activeIndex = this.presetsItem.length - 1;\n          this.isCustomRange = true;\n        }\n      }\n\n      if (!isNullOrUndefined(value) && value.trim() !== '') {\n        const range = value.split(' ' + this.separator + ' ');\n\n        if (range.length > 1) {\n          this.invalidValueString = null;\n          const dateOptions = {\n            format: this.formatString,\n            type: 'date',\n            skeleton: 'yMd'\n          };\n          const startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n          const endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n\n          if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n            const prevStartVal = this.startValue;\n            this.startValue = startDate;\n            const prevEndVal = this.endValue;\n            this.endValue = endDate;\n            this.setValue();\n            this.refreshControl();\n\n            if (value !== this.previousEleValue) {\n              this.changeTrigger(e);\n            }\n\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n              this.preventFocus = false;\n              const blurArguments = {\n                model: this\n              };\n              this.trigger('blur', blurArguments);\n            }\n\n            this.updateHiddenInput(); // For Mobile mode, when a value is present and choose another range and click on console\n            // when popup is open, two startvalues and end values are updated in the popup.\n\n            if (this.isMobile && this.isPopupOpen()) {\n              this.startValue = prevStartVal;\n              this.endValue = prevEndVal;\n            }\n\n            return;\n          } else {\n            if (!this.strictMode) {\n              this.startValue = null;\n              this.endValue = null;\n              this.setValue();\n            }\n          }\n        } else {\n          if (!this.strictMode) {\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n          }\n        }\n      }\n\n      if (!this.strictMode) {\n        if (isNullOrUndefined(this.popupObj)) {\n          this.currentDate = null;\n        }\n\n        this.previousStartValue = this.previousEndValue = null;\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n      } else {\n        if (!isNullOrUndefined(value) && value.trim() === '') {\n          this.startValue = null;\n          this.endValue = null;\n        }\n\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.updateInput();\n      }\n\n      this.errorClass();\n      this.changeTrigger(e);\n\n      if (!this.preventBlur && document.activeElement !== this.inputElement) {\n        this.preventFocus = false;\n        const blurArguments = {\n          model: this\n        };\n        this.trigger('blur', blurArguments);\n      }\n    }\n\n    this.updateHiddenInput();\n  }\n\n  clearRange() {\n    this.previousStartValue = this.previousEndValue = null;\n    this.currentDate = null;\n  }\n\n  errorClass() {\n    const inputStr = this.inputElement.value.trim();\n\n    if ((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '' || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || this.startValue && this.isDateDisabled(this.startValue) || this.endValue && this.isDateDisabled(this.endValue)) && inputStr !== '') {\n      addClass([this.inputWrapper.container], ERROR$1);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    } else {\n      if (this.inputWrapper) {\n        removeClass([this.inputWrapper.container], ERROR$1);\n        attributes(this.inputElement, {\n          'aria-invalid': 'false'\n        });\n      }\n    }\n  }\n\n  keyCalendarUpdate(isLeftCalendar, ele, isRemoveFocus = true) {\n    if (isRemoveFocus) {\n      this.removeFocusedDate();\n    }\n\n    if (isLeftCalendar) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      ele = this.leftCalendar;\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      ele = this.rightCalendar;\n    }\n\n    this.updateCalendarElement(ele);\n    this.table.focus();\n    return ele;\n  }\n\n  navInCalendar(e, isLeftCalendar, leftLimit, rightLimit, ele) {\n    const view = this.getViewNumber(this.currentView());\n    let date;\n    const min = this.min;\n    let max;\n\n    if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n      max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n    } else {\n      max = this.max;\n    }\n\n    switch (e.action) {\n      case 'moveRight':\n        date = new Date(+this.currentDate);\n        this.addDay(date, 1, e, max, min);\n\n        if (isLeftCalendar && +date === +rightLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.keyboardNavigate(1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveLeft':\n        date = new Date(+this.currentDate);\n        this.addDay(date, -1, e, max, min);\n\n        if (!isLeftCalendar) {\n          if (+date === +leftLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n        }\n\n        this.keyboardNavigate(-1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveUp':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, -7, e, max, min);\n\n          if (+date <= +leftLimit && !isLeftCalendar) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          this.keyboardNavigate(-7, view, e, max, min);\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveDown':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, 7, e, max, min);\n\n          if (isLeftCalendar && +date >= +rightLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          this.keyboardNavigate(7, view, e, max, min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        remove(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        remove(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'tab':\n        if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n          ele = this.keyCalendarUpdate(false, ele, false);\n          const focusedCell = ele.querySelector('.e-focused-date');\n\n          if (isNullOrUndefined(focusedCell)) {\n            this.currentDate = this.firstCellToFocus(this.rightCalendar);\n          }\n\n          this.keyboardNavigate(0, view, e, max, min);\n          this.keyNavigation(ele, e);\n        }\n\n        break;\n\n      case 'shiftTab':\n        if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n          ele = this.keyCalendarUpdate(true, ele, false);\n          const focusedCell = ele.querySelector('.e-focused-date');\n\n          if (isNullOrUndefined(focusedCell)) {\n            this.currentDate = this.firstCellToFocus(this.leftCalendar);\n          }\n\n          this.keyboardNavigate(0, view, e, max, min);\n          this.keyNavigation(ele, e);\n        }\n\n        break;\n    }\n  }\n\n  firstCellToFocus(calendar) {\n    const focusAbleEle = calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)');\n    const focusEleID = focusAbleEle && focusAbleEle.id ? focusAbleEle.id.split('_')[0] : null;\n    const currentFirstDay = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1);\n    const focusDate = focusEleID ? new Date(+focusEleID) : currentFirstDay;\n    return focusDate;\n  }\n\n  keyInputHandler(e, value) {\n    let date;\n    let view = this.getViewNumber(this.currentView());\n    const rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n    const leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n    let ele = closest(e.target, '.' + RIGHTCALENDER);\n    ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n    const isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n    this.updateCalendarElement(ele);\n    const selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    const focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n    const startDate = ele.querySelector('tr td.' + STARTDATE);\n    const endDate = ele.querySelector('tr td.' + ENDDATE);\n    const depthValue = this.getViewNumber(this.depth);\n    const levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    const leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n    const rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n    const presetElement = closest(e.target, '.' + PRESETS);\n\n    if (!isNullOrUndefined(focusedDate)) {\n      // eslint-disable-next-line no-self-assign\n      this.currentDate = this.currentDate;\n    } else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.endValue);\n    } else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.startValue);\n    } else if (!this.dateDisabled) {\n      this.currentDate.setDate(1);\n    }\n\n    this.effect = '';\n\n    switch (e.action) {\n      case 'altUpArrow':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n          this.preventFocus = true;\n          this.inputElement.focus();\n          addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n\n        break;\n\n      case 'select':\n        if (levelRestrict) {\n          const element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n            this.selectRange(null, element);\n          }\n        } else {\n          if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n            if (!isNullOrUndefined(this.value)) {\n              if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                value = this.startDate;\n              } else {\n                value = this.endDate;\n              }\n            }\n\n            this.controlDown = e;\n            this.contentClick(null, --view, focusedDate || selectedDate, value);\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlHome':\n        {\n          const yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n\n          if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          super.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n          this.keyNavigation(ele, e);\n        }\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else if (!isNullOrUndefined(rightCalendar)) {\n          if (!isNullOrUndefined(this.presetElement)) {\n            this.presetElement.focus();\n            this.removeFocusedDate();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(presetElement)) {\n            this.cancelButton.element.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          if (this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(rightCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlUp':\n        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n          this.calendarNavigation(e, this.calendarElement);\n        } else {\n          this.calendarNavigation(e, this.calendarElement);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlDown':\n        if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n          if (!isNullOrUndefined(this.value)) {\n            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n              value = this.startDate;\n            } else {\n              value = this.endDate;\n            }\n          }\n\n          this.controlDown = e;\n          this.contentClick(null, --view, selectedDate || focusedDate, value);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlEnd':\n        {\n          const yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n\n          if (isLeftCalendar && +yearDate > +rightDateLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          super.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n          this.keyNavigation(ele, e);\n        }\n        break;\n\n      case 'pageUp':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addMonths(this.currentDate, -1);\n        super.navigateTo.call(this, 'Month', this.currentDate);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'pageDown':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addMonths(this.currentDate, 1);\n        super.navigateTo.call(this, 'Month', this.currentDate);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageUp':\n        date = new Date(+this.currentDate);\n        this.addYears(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addYears(this.currentDate, -1);\n        super.navigateTo.call(this, 'Month', this.currentDate);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageDown':\n        date = new Date(+this.currentDate);\n        this.addYears(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addYears(this.currentDate, 1);\n        super.navigateTo.call(this, 'Month', this.currentDate);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftTab':\n        if (!isNullOrUndefined(this.presetElement)) {\n          this.presetElement.setAttribute('tabindex', '0');\n          this.presetElement.focus();\n          this.removeFocusedDate();\n        }\n\n        if (isLeftCalendar) {\n          e.preventDefault();\n        }\n\n        if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n          this.currentDate = new Date(+this.leftCalCurrentDate);\n          this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        }\n\n        break;\n\n      case 'spacebar':\n        if (this.applyButton && !this.applyButton.disabled) {\n          this.applyFunction(e);\n        }\n\n        break;\n\n      case 'tab':\n        if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n          this.currentDate = new Date(+this.rightCalCurrentDate);\n          this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        }\n\n        break;\n\n      default:\n        this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        this.checkMinMaxDays();\n    }\n\n    this.presetHeight();\n  }\n\n  tabKeyValidation(ele, calendarPos) {\n    const isLeftCalendar = ele.classList.contains(calendarPos);\n    const rightHeader = this.rightCalendar.querySelector('.e-header');\n    const leftHeader = this.leftCalendar.querySelector('.e-header');\n    const isRightMonth = rightHeader ? rightHeader.classList.contains('e-month') : false;\n    const isLeftMonth = leftHeader ? leftHeader.classList.contains('e-month') : false;\n    return isLeftCalendar && isLeftMonth && isRightMonth && !this.isMobile;\n  }\n\n  keyNavigation(calendar, e) {\n    this.bindCalendarCellEvents(calendar);\n\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.updateNavIcons();\n    this.calendarIconEvent();\n    this.updateRange([calendar]);\n    this.dateDisabled = this.isDateDisabled(this.currentDate);\n    e.preventDefault();\n  }\n\n  inputHandler(e) {\n    switch (e.action) {\n      case 'altDownArrow':\n        if (!this.isPopupOpen()) {\n          if (this.inputElement.value === '') {\n            this.clear();\n            this.changeTrigger(e);\n            this.clearRange();\n          }\n\n          this.show(null, e);\n          this.isRangeIconClicked = false;\n\n          if (!this.isMobile) {\n            if (!isNullOrUndefined(this.leftCalendar)) {\n              this.calendarFocus();\n            }\n          }\n\n          this.isKeyPopup = true;\n        }\n\n        break;\n\n      case 'escape':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n        }\n\n        break;\n\n      case 'enter':\n        if (document.activeElement === this.inputElement) {\n          this.inputBlurHandler(e);\n          this.hide(e);\n        }\n\n        break;\n\n      case 'tab':\n        if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  }\n\n  bindCalendarCellEvents(calendar) {\n    let tdCells;\n\n    if (calendar) {\n      tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n    } else {\n      tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n    }\n\n    for (const cell of tdCells) {\n      EventHandler.clearEvents(cell);\n      const disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n\n      if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n        if (!this.isMobile) {\n          EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n        }\n\n        EventHandler.add(cell, 'mousedown', this.selectRange, this);\n      }\n    }\n  }\n\n  removeFocusedDate() {\n    const isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n    const focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n\n    for (const ele of focusedDate) {\n      const today = new Date();\n      const eleDate = this.getIdValue(null, ele);\n\n      if (this.depth === 'Month' && this.currentView() === 'Month' && (!ele.classList.contains(TODAY$2) || ele.classList.contains(TODAY$2) && isDate) || this.depth === 'Year' && this.currentView() === 'Year' && (!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate) || isDate) || this.depth === 'Decade' && this.currentView() === 'Decade' && (!this.isSameYear(today, eleDate) || isDate)) {\n        ele.classList.remove(FOCUSDATE);\n\n        if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n          ele.removeAttribute('aria-label');\n        }\n      }\n    }\n  }\n\n  hoverSelection(event, element) {\n    const currentElement = element || event.currentTarget;\n    const currentDate = this.getIdValue(null, currentElement);\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n      if (!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue) && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        const tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (const ele of tdCells) {\n          const isDisabledCell = !ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED);\n\n          if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n            const eleDate = this.getIdValue(null, ele);\n            const startDateValue = new Date(+this.startValue);\n            const eleDateValue = new Date(+eleDate);\n\n            if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n              addClass([ele], RANGEHOVER);\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  isSameStartEnd(startVal, endVal) {\n    let isSame = false;\n\n    if (this.depth === 'Month') {\n      if (startVal.setHours(0, 0, 0, 0) === endVal.setHours(0, 0, 0, 0)) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Year') {\n      if (startVal.getFullYear() === endVal.getFullYear() && startVal.getMonth() === endVal.getMonth()) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Decade') {\n      if (startVal.getFullYear() === endVal.getFullYear()) {\n        isSame = true;\n      }\n    }\n\n    return isSame;\n  }\n\n  updateRange(elementCollection) {\n    if (!isNullOrUndefined(this.startValue)) {\n      for (const calendar of elementCollection) {\n        const tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (const ele of tdCells) {\n          if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n            const eleDate = this.getIdValue(null, ele);\n            const eleDateValue = this.getIdValue(null, ele);\n\n            if (!isNullOrUndefined(this.endValue)) {\n              if (this.currentView() === this.depth && +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0) && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) && !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) && +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], RANGEHOVER);\n              }\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n\n            if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) && +eleDateValue !== +this.endValue) {\n              removeClass([ele], [SELECTED$3]);\n              removeClass([ele], [ENDDATE]);\n            }\n\n            if (ele.classList.contains(RANGEHOVER) && +eleDateValue > +this.endValue) {\n              removeClass([ele], [RANGEHOVER]);\n            }\n\n            if (!ele.classList.contains(OTHERMONTH$2)) {\n              const startDateValue = new Date(+this.startValue);\n              let eleDateValue = new Date(+eleDate);\n\n              if (this.currentView() === this.depth && +eleDateValue.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0) && +eleDateValue.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [STARTDATE, SELECTED$3]);\n                this.addSelectedAttributes(ele, this.startValue, true);\n              }\n\n              const endDateValue = new Date(+this.endValue);\n\n              if (this.currentView() === 'Year') {\n                eleDateValue = new Date(eleDateValue.getFullYear(), eleDateValue.getMonth() + 1, 0);\n              } else if (this.currentView() === 'Decade') {\n                eleDateValue = new Date(eleDateValue.getFullYear(), 11, 31);\n              }\n\n              if (this.currentView() === this.depth && !isNullOrUndefined(this.endValue) && +eleDateValue.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0) && +eleDateValue.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [ENDDATE, SELECTED$3]);\n                this.addSelectedAttributes(ele, this.startValue, false);\n              }\n\n              if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  checkMinMaxDays() {\n    if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n      if (!this.isMobile) {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n      } else {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      }\n    }\n  }\n\n  rangeArgs(e) {\n    let inputValue;\n    let range;\n    const startDate = !isNullOrUndefined(this.startValue) ? this.globalize.formatDate(this.startValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n    const endDate = !isNullOrUndefined(this.endValue) ? this.globalize.formatDate(this.endValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n      range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n    } else {\n      inputValue = '';\n      range = 0;\n    }\n\n    const args = {\n      value: this.value,\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range,\n      event: e || null,\n      element: this.element,\n      isInteracted: !isNullOrUndefined(e),\n      text: inputValue\n    };\n    return args;\n  }\n\n  otherMonthSelect(ele, isStartDate, sameDate) {\n    const value = +this.getIdValue(null, ele);\n    const dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n    const tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n\n    if (!isNullOrUndefined(tdCell)) {\n      if (isStartDate) {\n        addClass([tdCell], [STARTDATE, SELECTED$3]);\n        this.addSelectedAttributes(tdCell, this.startValue, true);\n      } else {\n        addClass([tdCell], [ENDDATE, SELECTED$3]);\n        this.addSelectedAttributes(tdCell, this.endValue, true);\n      }\n\n      if (sameDate) {\n        this.addSelectedAttributes(ele, this.endValue, false, true);\n      }\n    }\n  }\n\n  selectRange(event, element) {\n    let leftCalendar;\n    let rightCalendar;\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    const date = isNullOrUndefined(event) ? this.getIdValue(null, element) : this.getIdValue(event, null);\n    const y = date.getFullYear();\n    const m = date.getMonth();\n    const firstDay = new Date(y, m, 1);\n    const lastDay = new Date(y, m + 1, 0);\n    const firstMonth = new Date(y, 0, 1);\n    const lastMonth = new Date(y, 11, 31);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n        this.removeSelection();\n      }\n    } else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n      this.removeSelection();\n    }\n\n    const ele = element || event.currentTarget;\n\n    if (isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.previousStartValue)) {\n        date.setHours(this.previousStartValue.getHours());\n        date.setMinutes(this.previousStartValue.getMinutes());\n        date.setSeconds(this.previousStartValue.getSeconds());\n      }\n\n      this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n      this.endValue = null;\n      this.setValue();\n      addClass([ele], STARTDATE);\n      this.addSelectedAttributes(ele, this.startValue, true);\n\n      if (ele.classList.contains(OTHERMONTH$2)) {\n        this.otherMonthSelect(ele, true);\n      }\n\n      this.checkMinMaxDays();\n      this.applyButton.disabled = true;\n      this.applyButton.element.disabled = true;\n\n      if (this.isMobile) {\n        this.endButton.element.classList.add(ACTIVE$1);\n        this.startButton.element.classList.remove(ACTIVE$1);\n        this.endButton.element.removeAttribute('disabled');\n        this.selectableDates();\n      }\n\n      this.trigger('select', this.rangeArgs(event));\n    } else {\n      if (+date === +this.startValue || +date > +this.startValue) {\n        if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n          return;\n        }\n\n        this.endValue = null;\n        this.setValue();\n\n        if (this.isMobile || element) {\n          this.hoverSelection(event, element);\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          date.setHours(this.previousEndValue.getHours());\n          date.setMinutes(this.previousEndValue.getMinutes());\n          date.setSeconds(this.previousEndValue.getSeconds());\n        }\n\n        this.endValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? lastDay : lastMonth;\n        this.setValue();\n        let endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        if (this.isMobile) {\n          this.startButton.element.classList.remove(ACTIVE$1);\n          this.endButton.element.classList.add(ACTIVE$1);\n\n          for (const ele of endEle) {\n            ele.removeAttribute('aria-label');\n\n            if (!ele.classList.contains(STARTDATE)) {\n              ele.setAttribute('aria-selected', 'false');\n              removeClass([ele], [ENDDATE, SELECTED$3]);\n            } else {\n              this.addSelectedAttributes(ele, this.startValue, true);\n              removeClass([ele], [ENDDATE]);\n            }\n          }\n        }\n\n        addClass([ele], ENDDATE);\n\n        if (+this.endValue === +this.startValue) {\n          this.addSelectedAttributes(ele, this.endValue, false, true);\n        } else {\n          this.addSelectedAttributes(ele, this.endValue, false);\n        }\n\n        if (ele.classList.contains(OTHERMONTH$2)) {\n          if (+this.endValue === +this.startValue) {\n            this.otherMonthSelect(ele, false, true);\n          } else {\n            this.otherMonthSelect(ele, false);\n          }\n        }\n\n        endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        for (const ele of endEle) {\n          if (ele.classList.contains(STARTDATE)) {\n            removeClass([ele], [RANGEHOVER]);\n          }\n        }\n\n        this.applyButton.disabled = false;\n        this.applyButton.element.disabled = false;\n\n        if (!this.isMobile) {\n          this.removeClassDisabled();\n        }\n\n        this.disabledDateRender();\n        this.trigger('select', this.rangeArgs(event));\n      } else if (+date < +this.startValue) {\n        this.removeClassDisabled();\n        this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n        this.setValue();\n        this.removeSelectedAttributes();\n        removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n        addClass([ele], STARTDATE);\n        this.addSelectedAttributes(ele, this.startValue, true);\n\n        if (ele.classList.contains(OTHERMONTH$2)) {\n          this.otherMonthSelect(ele, true);\n        }\n\n        this.checkMinMaxDays();\n      }\n    }\n\n    if (event) {\n      leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n    }\n\n    if (!isNullOrUndefined(leftCalendar)) {\n      this.leftCalendar.children[1].firstElementChild.focus();\n    } else {\n      if (event) {\n        rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n      }\n\n      if (!isNullOrUndefined(rightCalendar)) {\n        this.rightCalendar.children[1].firstElementChild.focus();\n      }\n    }\n\n    addClass([ele], SELECTED$3);\n    this.updateHeader();\n    this.removeFocusedDate();\n  }\n\n  selectableDates() {\n    if (!isNullOrUndefined(this.startValue)) {\n      const tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n      let isStartDate = false;\n\n      if (this.currentView() === this.depth) {\n        for (const ele of tdCells) {\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n            if (!ele.classList.contains(DISABLED$2)) {\n              const eleDate = this.getIdValue(null, ele);\n\n              if (+eleDate < +this.startValue) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.clearEvents(ele);\n                continue;\n              } else {\n                break;\n              }\n            }\n          }\n\n          if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n            isStartDate = true;\n            break;\n          }\n        }\n\n        if (isStartDate) {\n          if (!this.previousIcon.classList.contains(DISABLED$2)) {\n            addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n          }\n        }\n      } else {\n        for (const ele of tdCells) {\n          const startMonth = this.startValue.getMonth();\n          const startYear = this.startValue.getFullYear();\n          const element = this.getIdValue(null, ele);\n\n          if (!this.startButton.element.classList.contains(ACTIVE$1) && (this.currentView() === 'Year' && element.getMonth() < startMonth && element.getFullYear() <= startYear || this.currentView() === 'Decade' && element.getMonth() <= startMonth && element.getFullYear() < startYear)) {\n            addClass([ele], [DISABLED$2]);\n          } else {\n            break;\n          }\n        }\n\n        if (tdCells[0].classList.contains(DISABLED$2)) {\n          this.previousIconHandler(true);\n        } else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n          this.nextIconHandler(true);\n        }\n      }\n    }\n  }\n\n  updateMinMaxDays(calendar) {\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue) || this.isMobile && this.endButton.element.classList.contains(ACTIVE$1)) {\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n        const startValueSelected = this.removeTimeValueFromDate(this.startValue);\n        let minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n        let maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n        minDate = !isNullOrUndefined(this.minDays) && this.minDays > 0 ? minDate : null;\n        maxDate = !isNullOrUndefined(this.maxDays) && this.maxDays > 0 ? maxDate : null;\n\n        if (this.currentView() === 'Year') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n        } else if (this.currentView() === 'Decade') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n        }\n\n        const tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        let maxEle;\n\n        for (const ele of tdCells) {\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n            let eleDate = this.getIdValue(null, ele);\n            eleDate = this.removeTimeValueFromDate(eleDate);\n\n            if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n              minDate.setDate(minDate.getDate() + 1);\n            }\n\n            if (!ele.classList.contains(DISABLED$2)) {\n              if (+eleDate <= +startValueSelected) {\n                continue;\n              }\n\n              if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.clearEvents(ele);\n              }\n\n              if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                this.isMaxDaysClicked = true;\n                EventHandler.clearEvents(ele);\n\n                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                  maxEle = ele;\n                }\n              }\n            }\n          }\n        }\n\n        if (!isNullOrUndefined(maxEle)) {\n          if (this.isMobile) {\n            if (!this.nextIcon.classList.contains(DISABLED$2)) {\n              addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n          } else {\n            let calendar = closest(maxEle, '.' + RIGHTCALENDER);\n            calendar = isNullOrUndefined(calendar) ? this.leftCalendar : calendar;\n            const isLeftCalendar = calendar.classList.contains(LEFTCALENDER);\n\n            if (!isLeftCalendar) {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n            } else {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n\n              if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n\n              if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n            }\n          }\n        }\n      }\n    } else {\n      this.isMaxDaysClicked = false;\n    }\n  }\n\n  removeTimeValueFromDate(value) {\n    const dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n    return dateValue;\n  }\n\n  removeClassDisabled() {\n    const tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n\n    for (const ele of tdCells) {\n      if (ele.classList.contains(DATEDISABLED)) {\n        removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n        EventHandler.add(ele, 'click', this.selectRange, this);\n\n        if (!this.isMobile) {\n          EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n        }\n      }\n    }\n\n    if (this.isMobile) {\n      if (this.nextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.previousIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n    } else {\n      if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n    }\n  }\n\n  updateHeader() {\n    const format = {\n      type: 'date',\n      skeleton: 'yMMMd'\n    };\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      let range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n    } else {\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n    }\n\n    if (!this.isMobile) {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      }\n\n      if (!isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n      }\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n      }\n    }\n\n    if (this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue) || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      if (!this.isMobile) {\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n      }\n    }\n\n    if (this.popupObj.element.querySelector('#custom_range')) {\n      this.popupObj.element.querySelector('#custom_range').textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n    }\n  }\n\n  removeSelection() {\n    this.startValue = null;\n    this.endValue = null;\n    this.setValue();\n    this.removeSelectedAttributes();\n\n    if (this.popupObj) {\n      if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n      }\n    }\n  }\n\n  addSelectedAttributes(ele, date, isStartDate, sameDate) {\n    if (ele) {\n      const title = this.globalize.formatDate(date, {\n        type: 'date',\n        skeleton: 'full'\n      });\n\n      if (!isNullOrUndefined(sameDate) && sameDate) {\n        ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n      } else {\n        ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n      }\n\n      ele.setAttribute('aria-selected', 'true');\n    }\n  }\n\n  removeSelectedAttributes() {\n    if (this.popupObj) {\n      const start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n\n      for (const ele of start) {\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n\n      const end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n      for (const ele of end) {\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n    }\n  }\n\n  updateCalendarElement(calendar) {\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.calendarElement = this.leftCalendar;\n      this.currentDate = this.leftCalCurrentDate;\n      this.previousIcon = this.leftCalPrevIcon;\n      this.nextIcon = this.leftCalNextIcon;\n    } else {\n      this.calendarElement = this.rightCalendar;\n      this.currentDate = this.rightCalCurrentDate;\n      this.previousIcon = this.rightCalPrevIcon;\n      this.nextIcon = this.rightCalNextIcon;\n    }\n\n    this.contentElement = calendar.querySelector('.' + CONTENT$1);\n    this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n    this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n    this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n    this.headerElement = calendar.querySelector('.' + HEADER$1);\n  }\n\n  navPrevMonth(e) {\n    e.preventDefault();\n    let ele = closest(e.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigatePrevious(e);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  deviceNavigation(ele) {\n    this.deviceCalendarEvent();\n    this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n\n    if (this.endButton.element.classList.contains(ACTIVE$1)) {\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n    }\n\n    if (this.endButton.element.classList.contains(ACTIVE$1)) {\n      this.selectableDates();\n    }\n\n    if (this.currentView() === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  }\n\n  updateControl(calendar, customDate = null) {\n    if (calendar.classList.contains(RIGHTCALENDER)) {\n      this.rightCalCurrentDate = new Date(+(customDate ? customDate : this.currentDate));\n    } else {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.calendarIconEvent();\n\n    if (this.depth === 'Month' && this.leftCalendar.querySelector('.e-content').classList.contains('e-month') && this.rightCalendar.querySelector('.e-content').classList.contains('e-month') || this.depth === 'Year' && this.leftCalendar.querySelector('.e-content').classList.contains('e-year') && this.rightCalendar.querySelector('.e-content').classList.contains('e-year') || this.depth === 'Decade' && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade') && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade') || this.isMobile) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n    this.updateRange([calendar]);\n  }\n\n  navNextMonth(event) {\n    event.preventDefault();\n    let ele = closest(event.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigateNext(event);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  }\n\n  isPopupOpen() {\n    if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  createRangeHeader() {\n    const labelContainer = this.createElement('div', {\n      className: STARTENDCONTAINER\n    });\n\n    if (!this.isMobile) {\n      const startLabel = this.createElement('a', {\n        className: STARTLABEL\n      });\n      const endLabel = this.createElement('a', {\n        className: ENDLABEL\n      });\n      const changeIcon = this.createElement('span', {\n        className: CHANGEICON\n      });\n      attributes(startLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'Start Date',\n        'role': 'button'\n      });\n      attributes(endLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'End Date',\n        'role': 'button'\n      });\n      labelContainer.appendChild(startLabel);\n      labelContainer.appendChild(changeIcon);\n      labelContainer.appendChild(endLabel);\n      startLabel.textContent = this.l10n.getConstant('startLabel');\n      endLabel.textContent = this.l10n.getConstant('endLabel');\n    } else {\n      const endBtn = this.createElement('button', {\n        className: ENDBUTTON\n      });\n      const startBtn = this.createElement('button', {\n        className: STARTBUTTON\n      });\n      this.startButton = new Button({\n        content: this.l10n.getConstant('startLabel')\n      }, startBtn);\n      this.endButton = new Button({\n        content: this.l10n.getConstant('endLabel')\n      }, endBtn);\n      labelContainer.appendChild(startBtn);\n      labelContainer.appendChild(endBtn);\n    }\n\n    return labelContainer;\n  }\n\n  disableInput() {\n    if (this.strictMode) {\n      if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n        this.startValue = this.previousStartValue;\n        this.endValue = this.previousEndValue;\n        this.setValue();\n        this.updateInput();\n      }\n    } else {\n      this.updateInput();\n      this.clearRange();\n      this.setProperties({\n        startDate: null\n      }, true);\n      this.setProperties({\n        endDate: null\n      }, true);\n      this.startValue = null;\n      this.endValue = null;\n      this.setValue();\n      this.errorClass();\n    }\n\n    this.setProperties({\n      enabled: false\n    }, true);\n    Input.setEnabled(this.enabled, this.inputElement);\n    this.bindEvents();\n  }\n\n  validateMinMax() {\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n    if (!(this.min <= this.max)) {\n      this.disableInput();\n      return;\n    }\n\n    if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n      if (this.maxDays > 0 && this.minDays > 0 && this.minDays > this.maxDays) {\n        this.maxDays = null;\n      }\n    }\n\n    if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n      this.minDays = null;\n    }\n\n    if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n      this.maxDays = null;\n    }\n  }\n\n  validateRangeStrict() {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (+this.startValue <= +this.min) {\n        this.startValue = this.min;\n        this.setValue();\n      } else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n        this.startValue = this.max;\n      }\n    }\n\n    if (!isNullOrUndefined(this.endValue)) {\n      if (+this.endValue > +this.max) {\n        this.endValue = this.max;\n        this.setValue();\n      } else if (+this.endValue < +this.min) {\n        this.endValue = this.min;\n        this.setValue();\n      }\n    }\n\n    this.validateMinMaxDays();\n  }\n\n  validateRange() {\n    this.validateMinMaxDays();\n  }\n\n  validateMinMaxDays() {\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      const range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 && !(range >= this.minDays)) {\n        if (this.strictMode) {\n          const date = new Date(+this.startValue);\n          date.setDate(date.getDate() + (this.minDays - 1));\n\n          if (+date > +this.max) {\n            this.endValue = this.max;\n            this.setValue();\n          } else {\n            this.endValue = date;\n            this.setValue();\n          }\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (!isNullOrUndefined(this.maxDays) && this.maxDays > 0 && !(range <= this.maxDays)) {\n        if (this.strictMode) {\n          this.endValue = new Date(+this.startValue);\n          this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n          this.setValue();\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n    }\n  }\n\n  renderCalendar() {\n    this.calendarElement = this.createElement('div');\n    this.calendarElement.classList.add(CALENDAR);\n\n    if (this.enableRtl) {\n      this.calendarElement.classList.add(RTL$1);\n    }\n\n    attributes(this.calendarElement, {\n      'role': 'calendar'\n    });\n    super.createHeader();\n    super.createContent();\n  }\n\n  isSameMonth(start, end) {\n    if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  }\n\n  isSameYear(start, end) {\n    if (start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  }\n\n  isSameDecade(start, end) {\n    const startYear = start.getFullYear();\n    const endYear = end.getFullYear();\n\n    if (startYear - startYear % 10 === endYear - endYear % 10) {\n      return true;\n    }\n\n    return false;\n  }\n\n  startMonthCurrentDate() {\n    if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n      this.currentDate = new Date(+this.max);\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n    } else if (this.currentDate < this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n  }\n\n  selectNextMonth() {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setDate(1);\n      const month = this.currentDate.getMonth() + 1;\n      this.currentDate.setMonth(month);\n    }\n  }\n\n  selectNextYear() {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setMonth(0);\n      const yr = this.currentDate.getFullYear() + 1;\n      this.currentDate.setFullYear(yr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setMonth(0);\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n    }\n  }\n\n  selectNextDecade() {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      const decyr = this.currentDate.getFullYear() + 10;\n      this.currentDate.setFullYear(decyr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n    }\n  }\n\n  selectStartMonth() {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n        this.currentDate = new Date(+this.max);\n        this.currentDate.setDate(1);\n        this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n      } else if (!(this.startValue >= this.min && this.startValue <= this.max) || this.isDateDisabled(this.startValue)) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      } else {\n        this.currentDate = new Date(+this.startValue);\n      }\n    } else {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.startMonthCurrentDate();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n    }\n\n    this.startMonthCurrentDate();\n  }\n\n  createCalendar() {\n    const calendarContainer = this.createElement('div', {\n      className: CALENDARCONTAINER\n    });\n\n    if (!this.isMobile) {\n      this.selectStartMonth();\n      this.renderCalendar();\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      this.calendarElement.classList.add(LEFTCALENDER);\n      this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n      this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n      this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n      remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n      prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n      this.leftCalendar = this.calendarElement;\n      const leftContainer = this.createElement('div', {\n        className: LEFTCONTAINER\n      });\n      const rightContainer = this.createElement('div', {\n        className: RIGHTCONTAINER\n      });\n      leftContainer.appendChild(this.leftCalendar);\n      calendarContainer.appendChild(leftContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n      }\n\n      if (this.start === 'Month') {\n        this.selectNextMonth();\n      }\n\n      if (this.start === 'Year') {\n        this.selectNextYear();\n      }\n\n      if (this.start === 'Decade') {\n        this.selectNextDecade();\n      }\n\n      this.renderCalendar();\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      addClass([this.calendarElement], RIGHTCALENDER);\n      this.rightCalendar = this.calendarElement;\n      removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n      this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n      this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n      remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('table').setAttribute('tabindex', '0');\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n      prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n      rightContainer.appendChild(this.rightCalendar);\n      calendarContainer.appendChild(rightContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.currentDate = new Date(+this.startValue);\n      }\n\n      super.validateDate();\n      super.minMaxUpdate();\n      super.render();\n      const prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n      const nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n      remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n      prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n      this.deviceCalendar = this.calendarElement;\n      calendarContainer.appendChild(this.calendarElement);\n      this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n    }\n\n    return calendarContainer;\n  }\n\n  leftNavTitle(e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.leftCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  }\n\n  calendarNavigation(e, element) {\n    this.table = element.querySelector('table');\n    this.headerTitleElement = element.querySelector('.e-title');\n    this.tableBodyElement = element.querySelector('tbody');\n    this.tableHeadElement = element.querySelector('thead');\n    this.contentElement = element.querySelector('.e-content');\n    this.updateCalendarElement(element);\n    super.navigateTitle(e);\n    this.updateNavIcons();\n  }\n\n  rightNavTitle(e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.rightCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  }\n\n  clickEventEmitter(e) {\n    if (!this.isMobile) {\n      if (closest(e.target, '.e-calendar.e-left-calendar')) {\n        this.calendarElement = this.leftCalendar;\n        this.updateCalendarElement(this.leftCalendar);\n      } else {\n        this.calendarElement = this.rightCalendar;\n        this.updateCalendarElement(this.rightCalendar);\n      }\n    }\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   * @private\n   * @hidden\n   */\n\n\n  currentView() {\n    return super.currentView();\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n\n  getCalendarView(view) {\n    if (view === 'Year') {\n      return 'Year';\n    } else if (view === 'Decade') {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  }\n\n  navigatedEvent(e) {\n    this.trigger('navigated', this.navigatedArgs);\n\n    if (!isNullOrUndefined(this.popupObj)) {\n      let element;\n      const view = this.getCalendarView(this.currentView());\n\n      if (this.isMobile) {\n        if (view === this.depth) {\n          this.bindCalendarCellEvents();\n          this.deviceNavigation();\n          this.removeFocusedDate();\n          this.checkMinMaxDays();\n        } else {\n          this.selectableDates();\n        }\n      } else {\n        if (!this.isMobile && view === this.depth) {\n          element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n\n          if (element === this.leftCalendar && (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown))) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.effect = '';\n            this.currentDate = this.leftCalCurrentDate;\n            this.updateCalendarElement(this.leftCalendar);\n            this.updateControl(this.leftCalendar);\n            this.updateCalendarElement(this.rightCalendar);\n            super.navigateTo.call(this, view, this.rightCalCurrentDate);\n            const customDate = this.rightCalCurrentDate ? this.rightCalCurrentDate : this.currentDate;\n            this.updateControl(this.rightCalendar, customDate);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          } else if (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown)) {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            this.effect = '';\n            this.currentDate = this.rightCalCurrentDate;\n            this.updateCalendarElement(this.rightCalendar);\n            this.updateControl(this.rightCalendar);\n            this.updateCalendarElement(this.leftCalendar);\n\n            if (this.startValue && isNullOrUndefined(this.endValue)) {\n              if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() && this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                super.navigateTo.call(this, view, new Date(+this.startValue));\n              } else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                super.navigateTo.call(this, view, new Date(+this.startValue));\n              } else {\n                super.navigateTo.call(this, view, this.leftCalCurrentDate);\n              }\n            } else {\n              super.navigateTo.call(this, view, this.leftCalCurrentDate);\n            }\n\n            this.updateControl(this.leftCalendar);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          }\n\n          this.checkMinMaxDays();\n        } else {\n          this.updateNavIcons();\n          this.calendarIconEvent();\n        }\n      }\n    }\n  }\n\n  createControl() {\n    const controlContainer = this.createElement('div', {\n      className: RANGECONTAINER\n    });\n    const headerContainer = this.createElement('div', {\n      className: RANGEHEADER\n    });\n    const labelContainer = this.createRangeHeader();\n    headerContainer.appendChild(labelContainer);\n    const daySpan = this.createElement('div', {\n      className: DAYSPAN\n    });\n    attributes(daySpan, {\n      'aria-label': 'Selected Days'\n    });\n    daySpan.textContent = this.l10n.getConstant('selectedDays');\n    headerContainer.appendChild(daySpan);\n    const separator = this.createElement('div', {\n      className: SEPARATOR\n    });\n    const calendarContainer = this.createCalendar();\n    controlContainer.appendChild(headerContainer);\n    controlContainer.appendChild(separator);\n    controlContainer.appendChild(calendarContainer);\n    const footerSection = this.createElement('div', {\n      className: FOOTER$1\n    });\n    const cancelBtn = this.createElement('button', {\n      className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1\n    });\n    const applyBtn = this.createElement('button');\n    addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n    footerSection.appendChild(applyBtn);\n    footerSection.appendChild(cancelBtn);\n    const enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n    this.cancelButton = new Button({\n      content: this.l10n.getConstant('cancelText')\n    }, cancelBtn);\n    this.applyButton = new Button({\n      content: this.l10n.getConstant('applyText'),\n      disabled: !enable\n    }, applyBtn);\n    EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n    EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n    this.popupWrapper.appendChild(controlContainer);\n\n    if (!this.isMobile) {\n      if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n        this.createPresets();\n        this.listRippleEffect();\n        addClass([controlContainer], RANGEBORDER);\n        addClass([this.popupWrapper], 'e-preset-wrapper');\n        const presets = this.popupWrapper.querySelector('.' + PRESETS);\n        presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n      }\n    }\n\n    this.popupWrapper.appendChild(footerSection);\n\n    if (this.isMobile) {\n      this.deviceHeaderUpdate();\n    }\n\n    this.renderPopup();\n  }\n\n  cancelFunction(eve) {\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n\n    eve.preventDefault();\n\n    if (this.isKeyPopup) {\n      this.inputElement.focus();\n      this.isKeyPopup = false;\n    }\n\n    this.startValue = null;\n    this.endValue = null;\n    this.removeSelection();\n    this.hide(eve);\n  }\n\n  deviceHeaderUpdate() {\n    if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.endButton.element.setAttribute('disabled', '');\n      this.startButton.element.classList.add(ACTIVE$1);\n    } else if (!isNullOrUndefined(this.startValue)) {\n      this.startButton.element.classList.add(ACTIVE$1);\n    }\n  }\n\n  applyFunction(eve) {\n    let isValueChanged = false;\n\n    if (eve.type !== 'touchstart') {\n      eve.preventDefault();\n    }\n\n    if (this.closeEventArgs && this.closeEventArgs.cancel) {\n      this.startValue = this.popupWrapper.querySelector('.e-start-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n      this.endValue = this.popupWrapper.querySelector('.e-end-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n      this.setValue();\n    }\n\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n\n    if (eve.type !== 'touchstart' && this.closeEventArgs && !this.closeEventArgs.cancel) {\n      eve.preventDefault();\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n      this.previousEleValue = this.inputElement.value;\n      Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n\n      if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n        isValueChanged = true;\n      }\n\n      this.changeTrigger(eve);\n      this.hide(eve ? eve : null);\n      this.errorClass();\n      isValueChanged = true;\n    } else {\n      this.hide(eve ? eve : null);\n    }\n\n    if (!closest(eve.target, '.' + INPUTCONTAINER$1) && !isValueChanged) {\n      this.focusOut();\n    }\n\n    if (!this.isMobile) {\n      this.isKeyPopup = false;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.children[1].focus();\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n          eventName: 'keydown',\n          keyConfigs: this.keyInputConfigs,\n          keyAction: this.popupKeyActionHandle.bind(this)\n        });\n      }\n    }\n  }\n\n  onMouseClick(event, item) {\n    if (event.type === 'touchstart') {\n      return;\n    }\n\n    const target = item || event.target;\n    const li = closest(target, '.' + LISTCLASS);\n    const isClick = li && li.classList.contains(ACTIVE$1);\n\n    if (li && li.classList.contains(LISTCLASS)) {\n      this.setListSelection(li, event);\n    }\n\n    this.preventFocus = true;\n    this.inputElement.focus();\n\n    if (!this.isMobile) {\n      this.preventFocus = true;\n\n      if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n        this.leftCalendar.children[1].firstElementChild.focus();\n      } else {\n        if (!isClick && event.type === 'keydown') {\n          this.inputElement.focus();\n        }\n      }\n    }\n  }\n\n  onMouseOver(event) {\n    const li = closest(event.target, '.' + LISTCLASS);\n\n    if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n      addClass([li], HOVER);\n    }\n  }\n\n  onMouseLeave(event) {\n    const item = closest(event.target, '.' + HOVER);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], HOVER);\n    }\n  }\n\n  setListSelection(li, event) {\n    if (li && (!li.classList.contains(ACTIVE$1) || this.isMobile && li.classList.contains(ACTIVE$1))) {\n      if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        const values = this.presetsItem[this.activeIndex];\n\n        if (values.id === 'custom_range') {\n          this.renderCustomPopup();\n          return;\n        }\n\n        return;\n      }\n\n      this.removeListSelection();\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      addClass([li], ACTIVE$1);\n      li.setAttribute('aria-selected', 'true');\n      const values = this.presetsItem[this.activeIndex];\n\n      if (values.id === 'custom_range') {\n        this.renderCustomPopup();\n      } else {\n        this.applyPresetRange(values, event);\n      }\n    }\n  }\n\n  removeListSelection() {\n    const item = this.presetElement.querySelector('.' + ACTIVE$1);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], ACTIVE$1);\n      item.removeAttribute('aria-selected');\n    }\n  }\n\n  setValue() {\n    this.modelValue = [this.startValue, this.endValue];\n  }\n\n  applyPresetRange(values, e) {\n    this.hide(null);\n    this.presetsItem[this.presetsItem.length - 1].start = null;\n    this.presetsItem[this.presetsItem.length - 1].end = null;\n    this.startValue = values.start;\n    this.endValue = values.end;\n    this.setValue();\n    this.refreshControl();\n    this.trigger('select', this.rangeArgs(e));\n    this.changeTrigger(e);\n    this.previousEleValue = this.inputElement.value;\n    this.isCustomRange = false;\n    this.leftCalendar = this.rightCalendar = null;\n\n    if (this.isKeyPopup) {\n      this.isRangeIconClicked = false;\n      this.inputElement.focus();\n    }\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  showPopup(element, event) {\n    this.presetHeight();\n\n    if (this.zIndex === 1000) {\n      this.popupObj.show(null, this.element);\n    } else {\n      this.popupObj.show(null, null);\n    }\n\n    if (this.isMobile) {\n      this.popupObj.refreshPosition();\n    }\n  }\n\n  renderCustomPopup() {\n    this.isCustomWindow = true;\n    this.popupObj.hide();\n    this.popupWrapper = this.createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT$2 + ' ' + POPUP$1\n    });\n    this.renderControl();\n    this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n    this.showPopup();\n    this.isCustomRange = true;\n\n    if (!this.isMobile) {\n      this.calendarFocus();\n    }\n  }\n\n  listRippleEffect() {\n    for (const li of this.liCollections) {\n      rippleEffect(li);\n    }\n  }\n\n  createPresets() {\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      this.presetElement = this.createElement('div', {\n        className: PRESETS,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n      const listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n      attributes(listTag, {\n        'role': 'listbox',\n        'aria-hidden': 'false',\n        'id': this.element.id + '_options'\n      });\n      this.presetElement.appendChild(listTag);\n      this.popupWrapper.appendChild(this.presetElement);\n      const customElement = this.presetElement.querySelector('#custom_range');\n\n      if (!isNullOrUndefined(customElement)) {\n        customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n      }\n\n      this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n      this.wireListEvents();\n\n      if (this.isMobile) {\n        this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n      }\n\n      if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n        addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n      }\n    }\n  }\n\n  wireListEvents() {\n    EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n\n    if (!this.isMobile) {\n      EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n    }\n  }\n\n  unWireListEvents() {\n    if (!isNullOrUndefined(this.presetElement)) {\n      EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n\n      if (!this.isMobile) {\n        EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n      }\n    }\n  }\n\n  renderPopup() {\n    this.popupWrapper.classList.add('e-control');\n    const popupWidth = this.popupWrapper.getBoundingClientRect().width;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      this.modal = this.createElement('div');\n      document.body.appendChild(this.modal);\n    }\n\n    this.popupObj = new Popup(this.popupWrapper, {\n      relateTo: this.isMobile && this.isCustomWindow ? document.body : !isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container,\n      position: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'center',\n        Y: 'center'\n      } : this.enableRtl ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'right',\n        Y: 'bottom'\n      },\n      offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n      offsetY: OFFSETVALUE$1,\n      collision: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'flip'\n      },\n      targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n      enableRtl: this.enableRtl,\n      zIndex: this.zIndex,\n      open: () => {\n        attributes(this.inputElement, {\n          'aria-expanded': 'true'\n        });\n        addClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n\n        if (!this.isMobile) {\n          if (this.cancelButton) {\n            this.btnKeyboardModule = new KeyboardEvents(this.cancelButton.element, {\n              eventName: 'keydown',\n              keyAction: this.popupKeyActionHandle.bind(this),\n              keyConfigs: {\n                tab: 'tab',\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n            this.btnKeyboardModule = new KeyboardEvents(this.applyButton.element, {\n              eventName: 'keydown',\n              keyAction: this.popupKeyActionHandle.bind(this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n          }\n\n          if (!isNullOrUndefined(this.leftCalendar)) {\n            if (!this.isRangeIconClicked) {\n              this.calendarFocus();\n            }\n          }\n\n          if (!isNullOrUndefined(this.presetElement)) {\n            this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n            this.presetKeyboardModule = new KeyboardEvents(this.presetElement, {\n              eventName: 'keydown',\n              keyAction: this.presetKeyActionHandler.bind(this),\n              keyConfigs: this.keyInputConfigs\n            });\n            this.presetKeyboardModule = new KeyboardEvents(this.presetElement, {\n              eventName: 'keydown',\n              keyAction: this.popupKeyActionHandle.bind(this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n\n            if (isNullOrUndefined(this.leftCalendar)) {\n              this.preventBlur = true;\n              this.presetElement.focus();\n            } else {\n              this.presetElement.setAttribute('tabindex', '-1');\n            }\n          }\n\n          this.popupKeyBoardHandler();\n        }\n\n        if (this.isMobile && !Browser.isDevice) {\n          EventHandler.add(document, 'keydown', this.popupCloseHandler, this);\n        }\n      },\n      close: () => {\n        attributes(this.inputElement, {\n          'aria-expanded': 'false'\n        });\n        removeClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n\n        if (this.isRangeIconClicked) {\n          this.inputWrapper.container.children[1].focus();\n        }\n\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n          this.unWireListEvents();\n        }\n\n        if (!isNullOrUndefined(this.popupObj)) {\n          if (!isNullOrUndefined(this.popupObj.element.parentElement)) {\n            detach(this.popupObj.element);\n          }\n\n          this.popupObj.destroy();\n          this.popupObj = null;\n        }\n\n        if (this.isMobile && !Browser.isDevice) {\n          EventHandler.remove(document, 'keydown', this.popupCloseHandler);\n        }\n      },\n      targetExitViewport: () => {\n        if (!Browser.isDevice) {\n          this.hide();\n        }\n      }\n    });\n\n    if (this.isMobile) {\n      this.popupObj.element.classList.add(DEVICE$1);\n\n      if (!this.isMobile) {\n        this.popupObj.element.classList.add('e-bigger');\n      }\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n      document.body.className += ' ' + OVERFLOW$1;\n      this.modal.style.display = 'block';\n    }\n\n    EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n  }\n\n  popupCloseHandler(e) {\n    switch (e.keyCode) {\n      case 27:\n        this.hide(e);\n        break;\n    }\n  }\n\n  calendarFocus() {\n    const startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n\n    if (startDate) {\n      let ele = closest(startDate, '.' + RIGHTCALENDER);\n      ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        ele.children[1].firstElementChild.focus();\n      }\n\n      addClass([startDate], FOCUSDATE);\n    } else {\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        this.leftCalendar.children[1].firstElementChild.focus();\n      }\n    }\n  }\n\n  presetHeight() {\n    const presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n    const rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n\n    if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n      presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n    }\n  }\n\n  presetKeyActionHandler(e) {\n    switch (e.action) {\n      case 'moveDown':\n        this.listMoveDown(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'moveUp':\n        this.listMoveUp(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'enter':\n        {\n          const hvrItem = this.getHoverLI();\n          const actItem = this.getActiveLI();\n\n          if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n            if (isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem) && actItem === hvrItem) {\n              this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n              const values = this.presetsItem[this.activeIndex];\n\n              if (values.id === 'custom_range') {\n                this.calendarFocus();\n                actItem.classList.remove(HOVER);\n                e.preventDefault();\n                return;\n              }\n            }\n          }\n\n          if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n            this.onMouseClick(e, hvrItem || actItem);\n          }\n\n          e.preventDefault();\n        }\n        break;\n\n      case 'tab':\n        if (this.leftCalendar) {\n          const item = this.getHoverLI();\n\n          if (!isNullOrUndefined(item)) {\n            item.classList.remove(HOVER);\n          }\n        } else {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  listMoveDown(e) {\n    const hvrItem = this.getHoverLI();\n    const actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      const li = hvrItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      const li = actItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    } else {\n      addClass([this.liCollections[0]], HOVER);\n    }\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  listMoveUp(e) {\n    const hvrItem = this.getHoverLI();\n    const actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      const li = hvrItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      const li = actItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    }\n  }\n\n  getHoverLI() {\n    const item = this.presetElement.querySelector('.' + HOVER);\n    return item;\n  }\n\n  getActiveLI() {\n    const item = this.presetElement.querySelector('.' + ACTIVE$1);\n    return item;\n  }\n\n  popupKeyBoardHandler() {\n    this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: {\n        escape: 'escape'\n      }\n    });\n    this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n    this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: this.keyInputConfigs\n    });\n  }\n\n  setScrollPosition() {\n    const listHeight = this.presetElement.getBoundingClientRect().height;\n    const hover = this.presetElement.querySelector('.' + HOVER);\n    const active = this.presetElement.querySelector('.' + ACTIVE$1);\n    const element = !isNullOrUndefined(hover) ? hover : active;\n\n    if (!isNullOrUndefined(element)) {\n      const nextEle = element.nextElementSibling;\n      const height = nextEle ? nextEle.offsetTop : element.offsetTop;\n      const liHeight = element.getBoundingClientRect().height;\n\n      if (height + element.offsetTop > listHeight) {\n        this.presetElement.scrollTop = nextEle ? height - (listHeight / 2 + liHeight / 2) : height;\n      } else {\n        this.presetElement.scrollTop = 0;\n      }\n    }\n  }\n\n  popupKeyActionHandle(e) {\n    const presetElement = closest(e.target, '.' + PRESETS);\n\n    switch (e.action) {\n      case 'escape':\n        if (this.isPopupOpen()) {\n          if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n          }\n\n          this.hide(e);\n        } else {\n          this.inputWrapper.container.children[1].blur();\n        }\n\n        break;\n\n      case 'enter':\n        if (!this.isPopupOpen()) {\n          this.show(null, e);\n        } else {\n          this.inputWrapper.container.children[1].focus();\n        }\n\n        break;\n\n      case 'tab':\n        this.hide(e);\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.cancelButton.element.focus();\n        } else {\n          if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else {\n          if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n            this.cancelButton.element.focus();\n          } else {\n            if (!isNullOrUndefined(this.presetElement) && document.activeElement === this.cancelButton.element) {\n              this.presetElement.focus();\n            } else {\n              this.rightCalendar.children[1].firstElementChild.focus();\n            }\n          }\n        }\n\n        e.preventDefault();\n        break;\n    }\n  }\n\n  documentHandler(e) {\n    if (isNullOrUndefined(this.popupObj)) {\n      return;\n    }\n\n    const target = e.target;\n\n    if (!this.inputWrapper.container.contains(target) || !isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]')) {\n      if (e.type !== 'touchstart' && (e.type === 'mousedown' || this.closeEventArgs && !this.closeEventArgs.cancel)) {\n        e.preventDefault();\n      }\n    }\n\n    if ((isNullOrUndefined(this.targetElement) || !isNullOrUndefined(this.targetElement) && !(target === this.targetElement)) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container) && !(closest(target, '.e-daterangepicker.e-popup') && !target.classList.contains('e-day'))) {\n      this.preventBlur = false;\n\n      if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n        this.applyFunction(e);\n\n        if (!this.isMobile) {\n          this.isRangeIconClicked = false;\n        }\n      }\n    }\n  }\n\n  createInput() {\n    let updatedCssClassValue = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      floatLabelType: this.floatLabelType,\n      element: this.inputElement,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [DATERANGEICON]\n    }, this.createElement);\n    attributes(this.inputElement, {\n      'aria-readonly': this.readonly ? 'true' : 'false',\n      'tabindex': '0',\n      'aria-haspopup': 'true',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_popup',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    });\n    Input.addAttributes({\n      'aria-label': 'select'\n    }, this.inputWrapper.buttons[0]);\n\n    if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n      Input.addAttributes({\n        'aria-placeholder': this.placeholder\n      }, this.inputElement);\n    }\n\n    this.setEleWidth(this.width);\n    addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.inputElement.type === 'hidden') {\n      this.inputWrapper.container.style.display = 'none';\n    }\n\n    this.refreshControl();\n    this.previousEleValue = this.inputElement.value;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.startCopy = this.startDate;\n    this.endCopy = this.endDate;\n  }\n\n  setEleWidth(width) {\n    if (typeof width === 'string') {\n      this.inputWrapper.container.style.width = this.width;\n    } else if (typeof width === 'number') {\n      this.inputWrapper.container.style.width = formatUnit(this.width);\n    } else {\n      this.inputWrapper.container.style.width = '100%';\n    }\n  }\n\n  adjustLongHeaderWidth() {\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.popupWrapper], DAYHEADERLONG$1);\n    }\n  }\n\n  refreshControl() {\n    this.validateMinMax();\n\n    if (this.strictMode) {\n      this.validateRangeStrict();\n    }\n\n    const isDisabled = this.disabledDates();\n\n    if (this.strictMode && isDisabled) {\n      this.startValue = this.previousStartValue;\n      this.setProperties({\n        startDate: this.startValue\n      }, true);\n      this.endValue = this.previousEndValue;\n      this.setProperties({\n        endDate: this.endValue\n      }, true);\n      this.setValue();\n    }\n\n    this.updateInput();\n\n    if (!this.strictMode) {\n      this.validateRange();\n    }\n\n    if (!this.strictMode && isDisabled) {\n      this.clearRange();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n      this.disabledDateRender();\n    }\n\n    this.errorClass();\n    this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n    this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n  }\n\n  updateInput() {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      const formatOption = {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      };\n      const startDate = this.globalize.formatDate(this.startValue, formatOption);\n      const endDate = this.globalize.formatDate(this.endValue, formatOption);\n      Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  }\n\n  checkInvalidRange(value) {\n    if (!isNullOrUndefined(value)) {\n      let invalid = false;\n      let startinvalue;\n      let endinvalue;\n      let startString = null;\n      let endString = null;\n      let valueString = null;\n      let startObject = false;\n      let endObject = false;\n      let invalidobject = false;\n\n      if (typeof value === 'string') {\n        const range = value.split(' ' + this.separator + ' ');\n\n        if (range.length === 2) {\n          startString = range[0];\n          endString = range[1];\n        } else {\n          invalid = true;\n          valueString = value;\n        }\n      } else {\n        if (value.length > 0) {\n          startinvalue = value[0];\n          endinvalue = value[1];\n        } else {\n          startinvalue = value.start;\n          endinvalue = value.end;\n        }\n\n        if (!(startinvalue instanceof Date) && typeof startinvalue !== 'object') {\n          startString = this.getstringvalue(startinvalue);\n        } else if (startinvalue instanceof Date) {\n          startObject = true;\n        } else if (!isNullOrUndefined(startinvalue)) {\n          invalidobject = true;\n        }\n\n        if (!(endinvalue instanceof Date) && typeof endinvalue !== 'object') {\n          endString = this.getstringvalue(endinvalue);\n        } else if (endinvalue instanceof Date) {\n          endObject = true;\n        } else if (!isNullOrUndefined(endinvalue)) {\n          invalidobject = true;\n        }\n      }\n\n      if (isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString) || !isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString)) {\n        invalid = true;\n      }\n\n      if (invalidobject) {\n        startString = endString = valueString = null;\n        invalid = true;\n      }\n\n      if (startString) {\n        invalid = invalid || this.checkInvalidValue(startString);\n      }\n\n      if (endString) {\n        invalid = invalid || this.checkInvalidValue(endString);\n      }\n\n      if (invalid) {\n        if (startObject && !invalidobject) {\n          startString = startinvalue.toLocaleDateString();\n        }\n\n        if (endObject && !invalidobject) {\n          endString = endinvalue.toLocaleDateString();\n        }\n\n        if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n          valueString = startString + ' ' + this.separator + ' ' + endString;\n        } else if (!isNullOrUndefined(startString)) {\n          valueString = startString;\n        } else if (!isNullOrUndefined(endString)) {\n          valueString = endString;\n        }\n\n        this.invalidValueString = valueString;\n        this.setProperties({\n          value: null\n        }, true);\n        this.setProperties({\n          startValue: null\n        }, true);\n        this.setProperties({\n          endValue: null\n        }, true);\n        this.startDate = null;\n        this.endDate = null;\n      }\n    }\n  }\n\n  getstringvalue(value) {\n    let stringValue = null;\n\n    if (!isNullOrUndefined(value) && typeof value === 'number') {\n      stringValue = value.toString();\n    } else if (!isNullOrUndefined(value) && typeof value === 'string') {\n      stringValue = '' + value;\n    }\n\n    return stringValue;\n  }\n\n  checkInvalidValue(value) {\n    const valueString = value;\n    let invalid = false;\n    let formatOpt = null;\n    formatOpt = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    if (typeof valueString !== 'string') {\n      invalid = true;\n    } else {\n      const globalize = new Internationalization(this.locale);\n\n      if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n        let extISOStr = null;\n        let basISOString = null; // eslint-disable-next-line\n\n        extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n        basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOStr.test(valueString) && !basISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n          invalid = true;\n        }\n      }\n    }\n\n    return invalid;\n  }\n\n  isDateDisabled(date) {\n    if (isNullOrUndefined(date)) {\n      return false;\n    }\n\n    const value = new Date(+date);\n\n    if (+value < +this.min || +value > +this.max) {\n      return true;\n    }\n\n    this.virtualRenderCellArgs = {\n      date: value,\n      isDisabled: false\n    };\n    const args = this.virtualRenderCellArgs;\n    this.virtualRenderCellEvent(args);\n\n    if (args.isDisabled) {\n      return true;\n    }\n\n    return false;\n  }\n\n  disabledDateRender() {\n    this.disabledDays = [];\n    this.disabledDayCnt = null;\n    const localDate = new Date(+this.startValue);\n    let count = 0;\n\n    while (+localDate <= +this.endValue && +this.endValue <= +this.max) {\n      this.virtualRenderCellArgs = {\n        date: localDate,\n        isDisabled: false\n      };\n      const args = this.virtualRenderCellArgs;\n      this.virtualRenderCellEvent(args);\n\n      if (args.isDisabled) {\n        this.disabledDays.push(new Date(+args.date));\n\n        if (+localDate > +this.startValue && +localDate < +this.endValue) {\n          count++;\n        }\n      }\n\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n\n    this.disabledDayCnt = count;\n  }\n\n  virtualRenderCellEvent(args) {\n    extend(this.virtualRenderCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  }\n\n  disabledDates() {\n    let isStartDisabled = false;\n    let isEndDisabled = false;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      isStartDisabled = this.isDateDisabled(this.startValue);\n      isEndDisabled = this.isDateDisabled(this.endValue);\n\n      if (!this.isPopupOpen()) {\n        this.currentDate = null;\n      }\n\n      this.setValue();\n    }\n\n    return isStartDisabled || isEndDisabled;\n  }\n\n  setModelValue() {\n    if (!this.value && this.startDate === null && this.endDate === null) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (this.value === null || this.value.start === null) {\n      if (this.value === null) {\n        this.setProperties({\n          value: [this.startDate, this.endDate]\n        }, true);\n      } else if (this.value.start === null) {\n        this.setProperties({\n          value: {\n            start: this.startDate,\n            end: this.endDate\n          }\n        }, true);\n      }\n    } else {\n      if (this.value && this.value.length > 0 || this.valueType && this.valueType.length > 0) {\n        if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n          this.setProperties({\n            value: [this.startDate, this.endDate]\n          }, true);\n        }\n\n        if (this.value && this.value[0] == null && this.value[1] == null) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      } else {\n        if (this.value && this.value.start) {\n          this.setProperties({\n            value: {\n              start: this.startDate,\n              end: this.endDate\n            }\n          }, true);\n        }\n      }\n    }\n\n    this.createHiddenInput();\n  }\n  /**\n   * To dispatch the event manually\n   *\n   * @param {HTMLElement} element - Specifies the element to dispatch the event.\n   * @param {string} type - Specifies the name of the event.\n   * @returns {void}\n   */\n\n\n  dispatchEvent(element, type) {\n    const evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    element.dispatchEvent(evt);\n    this.firstHiddenChild.dispatchEvent(evt);\n  }\n\n  changeTrigger(e) {\n    if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n      this.setProperties({\n        endDate: this.checkDateValue(this.endValue)\n      }, true);\n      this.setProperties({\n        startDate: this.checkDateValue(this.startValue)\n      }, true);\n      this.setModelValue();\n\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.rangeArgs(e));\n      }\n    }\n\n    this.previousEleValue = this.inputElement.value;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n  }\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param  {string} view - Specifies the view of the Calendar.\n   * @param  {Date} date - Specifies the focused date in a view.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  navigateTo(view, date) {\n    if (this.isPopupOpen()) {\n      if (view.toLowerCase() === 'month') {\n        view = 'Month';\n      } else if (view.toLowerCase() === 'year') {\n        view = 'Year';\n      } else if (view.toLowerCase() === 'decade') {\n        view = 'Decade';\n      } else {\n        return;\n      }\n\n      if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n        view = this.depth;\n      }\n\n      if (this.isMobile) {\n        super.navigateTo.call(this, view, date);\n      } else {\n        if (date < this.min) {\n          date = new Date(+this.min);\n        } else if (date >= this.max) {\n          date = new Date(+this.max);\n        }\n\n        if (view === 'Month' && this.isSameMonth(date, this.max)) {\n          date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n        } else if (view === 'Year' && this.isSameYear(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 1, this.max.getMonth(), this.max.getDate());\n        } else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 10, this.max.getMonth(), this.max.getDate());\n        }\n\n        this.leftCalCurrentDate = date;\n        this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n\n        if (view === 'Month') {\n          date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n        } else if (view === 'Year') {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n        } else {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n        }\n\n        this.rightCalCurrentDate = date;\n        this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n        this.leftKeyboardModule = this.rightKeyboardModule = null;\n        this.updateNavIcons();\n      }\n\n      if (this.currentView() === this.depth) {\n        this.bindCalendarCellEvents();\n      }\n\n      this.removeFocusedDate();\n      this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n    }\n  }\n\n  navigate(calendar, date, view) {\n    this.calendarElement = calendar;\n    this.table = calendar.querySelector('table');\n    this.tableBodyElement = calendar.querySelector('tbody');\n    this.headerTitleElement = calendar.querySelector('.e-title');\n    this.tableHeadElement = calendar.querySelector('thead');\n    this.contentElement = calendar.querySelector('.e-content');\n    this.previousIcon = calendar.querySelector('.e-prev');\n    this.nextIcon = calendar.querySelector('.e-next');\n    this.effect = ZOOMIN$1;\n    super.navigateTo.call(this, view, date);\n  }\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n\n\n  focusIn() {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      this.inputElement.focus();\n    }\n  }\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  focusOut() {\n    const isBlur = this.preventBlur;\n\n    if (document.activeElement === this.inputElement) {\n      removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      this.preventBlur = false;\n      this.inputElement.blur();\n      this.preventBlur = isBlur;\n    }\n  }\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    this.unBindEvents();\n    this.hide(null);\n    const ariaAttrs = {\n      'aria-readonly': this.readonly ? 'true' : 'false',\n      'tabindex': '0',\n      'aria-haspopup': 'true',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_popup',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'aria-invalid': 'false',\n      'spellcheck': 'false'\n    };\n\n    if (this.inputElement) {\n      removeClass([this.inputElement], [ROOT$2]);\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      Input.removeAttributes(ariaAttrs, this.inputElement);\n\n      if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      this.ensureInputAttribute();\n      this.inputElement.classList.remove('e-input');\n\n      if (!isNullOrUndefined(this.inputWrapper)) {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n\n        if (this.angularTag === null) {\n          this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n        }\n\n        detach(this.inputWrapper.container);\n      }\n    }\n\n    if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n      this.inputKeyboardModule.destroy();\n    }\n\n    if (this.popupObj) {\n      if (!this.isMobile) {\n        this.clearCalendarEvents();\n      }\n    }\n\n    super.destroy();\n    this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    if (!isNullOrUndefined(this.firstHiddenChild) && !isNullOrUndefined(this.secondHiddenChild)) {\n      detach(this.firstHiddenChild);\n      detach(this.secondHiddenChild);\n      this.firstHiddenChild = this.secondHiddenChild = null;\n      this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n      this.inputElement.removeAttribute('data-name');\n    }\n  }\n\n  ensureInputAttribute() {\n    const attr = [];\n\n    for (let i = 0; i < this.inputElement.attributes.length; i++) {\n      attr[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (let i = 0; i < attr.length; i++) {\n      if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n\n        this.inputElement.removeAttribute(attr[i]);\n      } else {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n        }\n\n        this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n      }\n    }\n  }\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'daterangepicker';\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Return the properties that are maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  getPersistData() {\n    const keyEntity = ['startDate', 'endDate', 'value'];\n    return this.addOnPersist(keyEntity);\n  }\n  /**\n   * Return the selected range and day span in the DateRangePicker.\n   *\n   * @returns {Object}\n   */\n\n\n  getSelectedRange() {\n    let range;\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n      this.disabledDateRender();\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n    } else {\n      range = 0;\n    }\n\n    return {\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range\n    };\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * To open the Popup container in the DateRangePicker component.\n   *\n   * @param {HTMLElement} element - Specifies element.\n   * @returns {void}\n   */\n\n\n  show(element, event) {\n    if (this.isMobile && this.popupObj) {\n      this.popupObj.refreshPosition();\n    }\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n      return;\n    } else {\n      if (!this.isPopupOpen()) {\n        if (element) {\n          this.targetElement = element;\n        }\n\n        this.createPopup();\n\n        if (this.isMobile || Browser.isDevice) {\n          this.mobileRangePopupWrap = this.createElement('div', {\n            className: 'e-daterangepick-mob-popup-wrap'\n          });\n          document.body.appendChild(this.mobileRangePopupWrap);\n        }\n\n        this.openEventArgs = {\n          popup: this.popupObj || null,\n          cancel: false,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null,\n          appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n        };\n        const eventArgs = this.openEventArgs;\n        this.trigger('open', eventArgs, eventArgs => {\n          this.openEventArgs = eventArgs;\n\n          if (!this.openEventArgs.cancel) {\n            this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n            this.showPopup(element, event);\n            const isPreset = !this.isCustomRange || this.isMobile && this.isCustomRange;\n\n            if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n              this.setScrollPosition();\n            }\n\n            this.checkMinMaxDays();\n\n            if (this.isMobile && !isNullOrUndefined(this.startDate) && isNullOrUndefined(this.endDate)) {\n              this.endButton.element.classList.add(ACTIVE$1);\n              this.startButton.element.classList.remove(ACTIVE$1);\n              this.endButton.element.removeAttribute('disabled');\n              this.selectableDates();\n            }\n\n            super.setOverlayIndex(this.mobileRangePopupWrap, this.popupObj.element, this.modal, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.isMobile || Browser.isDevice);\n          }\n        });\n      }\n    }\n  }\n  /**\n   * To close the Popup container in the DateRangePicker component.\n   *\n   * @returns {void}\n   */\n\n\n  hide(event) {\n    if (this.popupObj) {\n      if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n        this.clearRange();\n      } else {\n        if (!isNullOrUndefined(this.previousStartValue)) {\n          this.startValue = new Date(this.checkValue(this.previousStartValue));\n          this.setValue();\n          this.currentDate = new Date(this.checkValue(this.startValue));\n        } else {\n          this.startValue = null;\n          this.setValue();\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          this.endValue = new Date(this.checkValue(this.previousEndValue));\n          this.setValue();\n        } else {\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (this.isPopupOpen()) {\n        this.closeEventArgs = {\n          cancel: false,\n          popup: this.popupObj,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null\n        };\n        const eventArgs = this.closeEventArgs;\n        this.trigger('close', eventArgs, eventArgs => {\n          this.closeEventArgs = eventArgs;\n\n          if (!this.closeEventArgs.cancel) {\n            if (this.isMobile) {\n              if (!isNullOrUndefined(this.startButton) && !isNullOrUndefined(this.endButton)) {\n                EventHandler.remove(this.startButton.element, 'click touchstart', this.deviceHeaderClick);\n                EventHandler.remove(this.endButton.element, 'click touchstart', this.deviceHeaderClick);\n              }\n            }\n\n            if (this.popupObj) {\n              this.popupObj.hide();\n\n              if (this.preventBlur) {\n                this.inputElement.focus();\n                addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n              }\n            }\n\n            if (!this.isMobile) {\n              if (!isNullOrUndefined(this.leftKeyboardModule) && !isNullOrUndefined(this.rightKeyboardModule)) {\n                this.leftKeyboardModule.destroy();\n                this.rightKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(this.presetElement)) {\n                this.presetKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(this.cancelButton)) {\n                this.btnKeyboardModule.destroy();\n              }\n            }\n\n            this.targetElement = null;\n            removeClass([document.body], OVERFLOW$1);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n\n            if (this.isMobile && this.modal) {\n              this.modal.style.display = 'none';\n              this.modal.outerHTML = '';\n              this.modal = null;\n            }\n\n            if (this.isMobile || Browser.isDevice) {\n              if (!isNullOrUndefined(this.mobileRangePopupWrap)) {\n                this.mobileRangePopupWrap.remove();\n                this.mobileRangePopupWrap = null;\n              }\n            }\n\n            this.isKeyPopup = this.dateDisabled = false;\n          } else {\n            removeClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n          }\n\n          this.updateClearIconState();\n          this.updateHiddenInput();\n\n          if (this.isMobile && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n          }\n        });\n      }\n    } else {\n      this.updateClearIconState();\n      this.updateHiddenInput();\n\n      if (this.isMobile && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  setLocale() {\n    this.globalize = new Internationalization(this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.l10n.getConstant('placeholder')\n    }, true);\n    Input.setPlaceholder(this.placeholder, this.inputElement);\n    this.updateInput();\n    this.updateHiddenInput();\n    this.changeTrigger();\n  }\n\n  refreshChange() {\n    this.checkView();\n    this.refreshControl();\n    this.changeTrigger();\n  }\n\n  setDate() {\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n    this.refreshChange();\n  }\n\n  enableInput() {\n    if (+this.min <= +this.max) {\n      this.setProperties({\n        enabled: true\n      }, true);\n      Input.setEnabled(this.enabled, this.inputElement);\n\n      if (this.element.hasAttribute('disabled')) {\n        this.bindEvents();\n      }\n    }\n  }\n\n  clearModelvalue(newProp, oldProp) {\n    this.setProperties({\n      startDate: null\n    }, true);\n    this.setProperties({\n      endDate: null\n    }, true);\n\n    if (oldProp.value && oldProp.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (oldProp.value && oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    } else if (oldProp.value && !oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    this.updateValue();\n    this.setDate();\n  }\n\n  createHiddenInput() {\n    if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n      this.firstHiddenChild = this.createElement('input');\n      this.secondHiddenChild = this.createElement('input');\n    }\n\n    if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n      this.inputElement.removeAttribute('name');\n    }\n\n    attributes(this.firstHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    attributes(this.secondHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    const format = {\n      type: 'datetime',\n      skeleton: 'yMd'\n    };\n    this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n    this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n    this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n    this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n  }\n\n  setMinMaxDays() {\n    if (this.isPopupOpen()) {\n      this.removeClassDisabled();\n      this.checkMinMaxDays();\n\n      if (this.isMobile) {\n        this.selectableDates();\n      }\n\n      if (!this.strictMode && isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        this.removeSelection();\n      } else {\n        this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n      }\n\n      this.updateHeader();\n    }\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    const format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (const prop of Object.keys(newProp)) {\n      const openPopup = ['maxDays', 'minDays', 'value'];\n\n      if (openPopup.indexOf(prop) < 0) {\n        this.hide(null);\n      }\n\n      switch (prop) {\n        case 'width':\n          this.setEleWidth(this.width);\n          break;\n\n        case 'separator':\n          this.previousEleValue = this.inputElement.value;\n          this.setProperties({\n            separator: newProp.separator\n          }, true);\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.setProperties({\n            placeholder: newProp.placeholder\n          }, true);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          this.inputElement.setAttribute('aria-readonly', '' + this.readonly);\n          this.setRangeAllowEdit();\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          Input.setEnabled(this.enabled, this.inputElement);\n\n          if (this.enabled) {\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n          } else {\n            this.inputElement.tabIndex = -1;\n          }\n\n          break;\n\n        case 'allowEdit':\n          this.setRangeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          this.setLocale();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.setDataAttribute(true);\n          this.checkHtmlAttributes(true);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'startDate':\n          if (typeof newProp.startDate === 'string') {\n            newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n          }\n\n          if (+this.initStartDate !== +newProp.startDate) {\n            this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'endDate':\n          if (typeof newProp.endDate === 'string') {\n            newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n          }\n\n          if (+this.initEndDate !== +newProp.endDate) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidRange(newProp.value);\n\n          if (typeof newProp.value === 'string') {\n            if (!this.invalidValueString) {\n              const rangeArray = newProp.value.split(' ' + this.separator + ' ');\n              this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n              this.updateValue();\n              this.setDate();\n            } else {\n              this.clearModelvalue(newProp, oldProp);\n            }\n          } else {\n            if (!isNullOrUndefined(newProp.value) && newProp.value.length > 0 || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n              this.valueType = newProp.value;\n\n              if (newProp.value[0] === null || newProp.value.start === null) {\n                if (newProp.value.length === 1 || newProp.value.start) {\n                  this.clearModelvalue(newProp, oldProp);\n                } else if (newProp.value[1] === null || newProp.value.start === null) {\n                  this.clearModelvalue(newProp, oldProp);\n                }\n              } else if (+this.initStartDate !== +newProp.value[0] || +this.initEndDate !== +newProp.value[1] || +this.initStartDate !== +(newProp.value.start || +this.initEndDate !== +newProp.value.start)) {\n                if (newProp.value.length === 1) {\n                  this.modelValue = newProp.value;\n                } else if (newProp.value.start) {\n                  this.modelValue = newProp.value;\n                }\n\n                this.updateValue();\n                this.setDate();\n              }\n            } else {\n              if (isNullOrUndefined(this.value) || newProp.value.start == null) {\n                this.valueType = newProp.value;\n                this.startValue = null;\n                this.endValue = null;\n                this.clearModelvalue(newProp, oldProp);\n              }\n            }\n          }\n\n          if (this.isPopupOpen()) {\n            if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n              this.removeSelection();\n\n              if (this.isMobile) {\n                this.deviceHeaderUpdate();\n              }\n\n              return;\n            }\n\n            if (this.isMobile) {\n              this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n              this.deviceHeaderUpdate();\n            } else {\n              this.navigate(this.leftCalendar, this.startValue, this.currentView());\n              this.updateControl(this.leftCalendar);\n              this.navigate(this.rightCalendar, this.endValue, this.currentView());\n              this.updateControl(this.rightCalendar);\n            }\n\n            this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n            this.updateHeader();\n            this.applyButton.disabled = this.applyButton.element.disabled = false;\n          }\n\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n          break;\n\n        case 'minDays':\n          this.setProperties({\n            minDays: newProp.minDays\n          }, true);\n          this.refreshChange();\n          this.setMinMaxDays();\n          break;\n\n        case 'maxDays':\n          this.setProperties({\n            maxDays: newProp.maxDays\n          }, true);\n          this.refreshChange();\n          this.setMinMaxDays();\n          break;\n\n        case 'min':\n          this.setProperties({\n            min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n          }, true);\n          this.previousEleValue = this.inputElement.value;\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'max':\n          this.setProperties({\n            max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n          }, true);\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'presets':\n          this.setProperties({\n            presets: newProp.presets\n          }, true);\n          this.processPresets();\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n          break;\n\n        case 'start':\n          this.setProperties({\n            start: newProp.start\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'depth':\n          this.setProperties({\n            depth: newProp.depth\n          }, true);\n          this.refreshChange();\n          break;\n      }\n    }\n  }\n\n};\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"value\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$2([Property(new Date(1900, 0, 1))], DateRangePicker.prototype, \"min\", void 0);\n\n__decorate$2([Property(new Date(2099, 11, 31))], DateRangePicker.prototype, \"max\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"locale\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"weekNumber\", void 0);\n\n__decorate$2([Property('Gregorian')], DateRangePicker.prototype, \"calendarMode\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"created\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"destroyed\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"change\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"cleared\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"navigated\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"renderDayCell\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"startDate\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"endDate\", void 0);\n\n__decorate$2([Collection([{}], Presets)], DateRangePicker.prototype, \"presets\", void 0);\n\n__decorate$2([Property('')], DateRangePicker.prototype, \"width\", void 0);\n\n__decorate$2([Property(1000)], DateRangePicker.prototype, \"zIndex\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"showTodayButton\", void 0);\n\n__decorate$2([Property('Month')], DateRangePicker.prototype, \"start\", void 0);\n\n__decorate$2([Property('Month')], DateRangePicker.prototype, \"depth\", void 0);\n\n__decorate$2([Property('')], DateRangePicker.prototype, \"cssClass\", void 0);\n\n__decorate$2([Property('-')], DateRangePicker.prototype, \"separator\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"minDays\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"maxDays\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"strictMode\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"format\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"enabled\", void 0);\n\n__decorate$2([Property(false)], DateRangePicker.prototype, \"readonly\", void 0);\n\n__decorate$2([Property(true)], DateRangePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$2([Property('Never')], DateRangePicker.prototype, \"floatLabelType\", void 0);\n\n__decorate$2([Property(null)], DateRangePicker.prototype, \"placeholder\", void 0);\n\n__decorate$2([Property({})], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"open\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"close\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"select\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"focus\", void 0);\n\n__decorate$2([Event()], DateRangePicker.prototype, \"blur\", void 0);\n\nDateRangePicker = __decorate$2([NotifyPropertyChanges], DateRangePicker);\n/**\n * DateRangePicker modules\n */\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nconst WRAPPERCLASS = 'e-time-wrapper';\nconst POPUP$2 = 'e-popup';\nconst ERROR$2 = 'e-error';\nconst POPUPDIMENSION = '240px';\nconst DAY = new Date().getDate();\nconst MONTH$2 = new Date().getMonth();\nconst YEAR$2 = new Date().getFullYear();\nconst ROOT$3 = 'e-timepicker';\nconst LIBRARY$2 = 'e-lib';\nconst CONTROL$2 = 'e-control';\nconst CONTENT$2 = 'e-content';\nconst SELECTED$4 = 'e-active';\nconst HOVER$1 = 'e-hover';\nconst NAVIGATION = 'e-navigation';\nconst DISABLED$3 = 'e-disabled';\nconst ICONANIMATION = 'e-icon-anim';\nconst FOCUS = 'e-input-focus';\nconst LISTCLASS$1 = 'e-list-item';\nconst HALFPOSITION = 2;\nconst ANIMATIONDURATION = 50;\nconst OVERFLOW$2 = 'e-time-overflow';\nconst OFFSETVAL = 4;\nconst EDITABLE = 'e-non-edit';\nconst wrapperAttributes = ['title', 'class', 'style']; // eslint-disable-next-line @typescript-eslint/no-namespace\n\nvar TimePickerBase;\n\n(function (TimePickerBase) {\n  // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n  function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n    if (this.calendarMode === 'Gregorian') {} else {// eslint-disable-next-line @typescript-eslint/no-unused-vars\n    }\n\n    let start;\n    const interval = step * 60000;\n    const listItems = [];\n    const timeCollections = [];\n    start = +min.setMilliseconds(0);\n    const end = +max.setMilliseconds(0);\n\n    while (end >= start) {\n      timeCollections.push(start);\n      listItems.push(globalize.formatDate(new Date(start), {\n        format: timeFormat,\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    const listTag = ListBase.createList(createdEl, listItems, null, true);\n    return {\n      collection: timeCollections,\n      list: listTag\n    };\n  }\n\n  TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n\nclass TimeMaskPlaceholder extends ChildProperty {}\n\n__decorate$3([Property('day')], TimeMaskPlaceholder.prototype, \"day\", void 0);\n\n__decorate$3([Property('month')], TimeMaskPlaceholder.prototype, \"month\", void 0);\n\n__decorate$3([Property('year')], TimeMaskPlaceholder.prototype, \"year\", void 0);\n\n__decorate$3([Property('day of the week')], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n\n__decorate$3([Property('hour')], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n\n__decorate$3([Property('minute')], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n\n__decorate$3([Property('second')], TimeMaskPlaceholder.prototype, \"second\", void 0);\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\n\n\nlet TimePicker = class TimePicker extends Component {\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {TimePickerModel} options - Specifies the TimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  constructor(options, element) {\n    super(options, element);\n    this.liCollections = [];\n    this.timeCollections = [];\n    this.disableItemCollection = [];\n    this.invalidValueString = null;\n    this.isAngular = false;\n    this.preventChange = false;\n    this.maskedDateValue = '';\n    this.moduleName = this.getModuleName();\n    this.timeOptions = options;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  preRender() {\n    this.keyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n    this.inputElement = this.element;\n    this.angularTag = null;\n    this.formElement = closest(this.element, 'form');\n\n    if (this.element.tagName === 'EJS-TIMEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    this.openPopupEventArgs = {\n      appendTo: document.body\n    };\n  } // element creation\n\n\n  render() {\n    this.initialize();\n    this.createInputElement();\n    this.updateHtmlAttributeToWrapper();\n    this.setTimeAllowEdit();\n    this.setEnable();\n    this.validateInterval();\n    this.bindEvents();\n    this.validateDisable();\n    this.setValue(this.getFormattedValue(this.value));\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      this.updateInputValue(this.maskedDateValue);\n      this.checkErrorState(this.maskedDateValue);\n    }\n\n    this.anchor = this.inputElement;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.inputEleValue = this.getDateObject(this.inputElement.value);\n    this.renderComplete();\n  }\n\n  setTimeAllowEdit() {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.clearIconState();\n  }\n\n  clearIconState() {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [EDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [EDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [EDITABLE]);\n    }\n  }\n\n  validateDisable() {\n    this.setMinMax(this.initMin, this.initMax);\n    this.popupCreation();\n    this.popupObj.destroy();\n    this.popupWrapper = this.popupObj = null;\n\n    if (!isNaN(+this.value) && this.value !== null) {\n      if (!this.valueIsDisable(this.value)) {\n        //disable value given in value property so reset the date based on current date\n        if (this.strictMode) {\n          this.resetState();\n        }\n\n        this.initValue = null;\n        this.initMax = this.getDateObject(this.initMax);\n        this.initMin = this.getDateObject(this.initMin);\n        this.timeCollections = this.liCollections = [];\n        this.setMinMax(this.initMin, this.initMax);\n      }\n    }\n  }\n\n  validationAttribute(target, input) {\n    const name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    input.setAttribute('name', name);\n    target.removeAttribute('name');\n    const attributes$$1 = ['required', 'aria-required', 'form'];\n\n    for (let i = 0; i < attributes$$1.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n        continue;\n      }\n\n      const attr = target.getAttribute(attributes$$1[i]);\n      input.setAttribute(attributes$$1[i], attr);\n      target.removeAttribute(attributes$$1[i]);\n    }\n  }\n\n  initialize() {\n    this.globalize = new Internationalization(this.locale);\n    this.defaultCulture = new Internationalization('en');\n    this.checkTimeFormat();\n    this.checkInvalidValue(this.value); // persist the value property.\n\n    this.setProperties({\n      value: this.checkDateValue(new Date(this.checkInValue(this.value)))\n    }, true);\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkInValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkInValue(this.max)))\n    }, true);\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))\n    }, true);\n\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.checkAttributes(false); //check the input element attributes\n\n    const localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('timepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.initValue = this.checkDateValue(this.value);\n    this.initMin = this.checkDateValue(this.min);\n    this.initMax = this.checkDateValue(this.max);\n    this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n    this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n\n    if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      //for angular case\n      this.element.id = getUniqueID('ej2_timepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }\n\n  checkTimeFormat() {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n        const skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: skeletonString\n        });\n      } else {\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: 'short'\n        });\n      }\n    } else {\n      this.formatString = null;\n    }\n  }\n\n  checkDateValue(value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  }\n\n  createInputElement() {\n    let updatedCssClassesValue = this.cssClass;\n    let isBindClearAction = this.enableMask ? false : true;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassesValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      bindClearAction: isBindClearAction,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassesValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [' e-input-group-icon e-time-icon e-icons']\n    }, this.createElement);\n    this.inputWrapper.container.style.width = this.setWidth(this.width);\n    attributes(this.inputElement, {\n      'aria-haspopup': 'true',\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'false',\n      'aria-invalid': 'false'\n    });\n\n    if (!this.isNullOrEmpty(this.inputStyle)) {\n      Input.addAttributes({\n        'style': this.inputStyle\n      }, this.inputElement);\n    }\n\n    addClass([this.inputWrapper.container], WRAPPERCLASS);\n  }\n\n  getCldrDateTimeFormat() {\n    const culture = new Internationalization(this.locale);\n    let cldrTime;\n    const dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  }\n\n  checkInvalidValue(value) {\n    let isInvalid = false;\n\n    if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n      let valueString = value;\n\n      if (typeof valueString === 'string') {\n        valueString = valueString.trim();\n      }\n\n      let valueExpression = null;\n      let valueExp = null;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      } else if (typeof value === 'string') {\n        if (!/^[a-zA-Z0-9- ]*$/.test(value)) {\n          valueExpression = this.setCurrentDate(this.getDateObject(value));\n\n          if (isNullOrUndefined(valueExpression)) {\n            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n              format: this.getCldrDateTimeFormat(),\n              type: 'datetime'\n            }));\n\n            if (isNullOrUndefined(valueExpression)) {\n              valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                format: this.formatString,\n                type: 'dateTime',\n                skeleton: 'yMd'\n              }));\n            }\n          }\n        }\n      }\n\n      valueExp = this.globalize.parseDate(valueString, {\n        format: this.getCldrDateTimeFormat(),\n        type: 'datetime'\n      });\n      valueExpression = !isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp) ? valueExp : null;\n\n      if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n        let extISOString = null;\n        let basicISOString = null; // eslint-disable-next-line\n\n        extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n        basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(value) || isNaN(+new Date('' + valueString))) {\n          isInvalid = true;\n        } else {\n          valueExpression = new Date('' + valueString);\n        }\n      }\n\n      if (isInvalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n        this.initValue = null;\n      } else {\n        this.setProperties({\n          value: valueExpression\n        }, true);\n        this.initValue = this.value;\n      }\n    }\n  }\n\n  requiredModules() {\n    const modules = [];\n\n    if (this.enableMask) {\n      modules.push({\n        args: [this],\n        member: 'MaskedDateTime'\n      });\n    }\n\n    return modules;\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  cldrFormat(type) {\n    let cldrDateTimeString;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTimeString = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTimeString = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTimeString;\n  } // destroy function\n\n\n  destroy() {\n    this.hide();\n    this.unBindEvents();\n    const ariaAttribute = {\n      'aria-haspopup': 'true',\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-activedescendant': 'null',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'true',\n      'aria-invalid': 'false'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n\n      if (this.angularTag === null) {\n        this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n      }\n\n      if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      this.ensureInputAttribute();\n      this.enableElement([this.inputElement]);\n      this.inputElement.classList.remove('e-input');\n\n      if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n        Input.setEnabled(true, this.inputElement, this.floatLabelType);\n      }\n    }\n\n    if (this.inputWrapper.container) {\n      detach(this.inputWrapper.container);\n    }\n\n    this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n    this.liCollections = this.timeCollections = this.disableItemCollection = [];\n\n    if (!isNullOrUndefined(this.rippleFn)) {\n      this.rippleFn();\n    }\n\n    super.destroy();\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  }\n\n  ensureInputAttribute() {\n    const propertyList = [];\n\n    for (let i = 0; i < this.inputElement.attributes.length; i++) {\n      propertyList[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (let i = 0; i < propertyList.length; i++) {\n      if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n        this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n        }\n      } else {\n        this.inputElement.removeAttribute(propertyList[i]);\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n      }\n    }\n  } //popup creation\n\n\n  popupCreation() {\n    this.popupWrapper = this.createElement('div', {\n      className: ROOT$3 + ' ' + POPUP$2,\n      attrs: {\n        'id': this.element.id + '_popup',\n        'style': 'visibility:hidden'\n      }\n    });\n\n    if (!isNullOrUndefined(this.cssClass)) {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.generateList();\n      append([this.listWrapper], this.popupWrapper);\n    }\n\n    this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n    this.addSelection();\n    this.renderPopup();\n    detach(this.popupWrapper);\n  }\n\n  getPopupHeight() {\n    const height = parseInt(POPUPDIMENSION, 10);\n    const popupHeight = this.popupWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  }\n\n  generateList() {\n    this.createListItems();\n    this.wireListEvents();\n    const rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS$1\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n  }\n\n  renderPopup() {\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n    this.popupObj = new Popup(this.popupWrapper, {\n      width: this.setPopupWidth(this.width),\n      zIndex: this.zIndex,\n      targetType: 'relative',\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      enableRtl: this.enableRtl,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      offsetY: OFFSETVAL,\n      open: () => {\n        this.popupWrapper.style.visibility = 'visible';\n        addClass([this.inputWrapper.buttons[0]], SELECTED$4);\n      },\n      close: () => {\n        removeClass([this.inputWrapper.buttons[0]], SELECTED$4);\n        this.unWireListEvents();\n        this.inputElement.setAttribute('aria-activedescendant', 'null');\n        remove(this.popupObj.element);\n        this.popupObj.destroy();\n        this.popupWrapper.innerHTML = '';\n        this.listWrapper = this.popupWrapper = this.listTag = undefined;\n      },\n      targetExitViewport: () => {\n        if (!Browser.isDevice) {\n          this.hide();\n        }\n      }\n    });\n\n    if (!Browser.isDevice) {\n      this.popupObj.collision = {\n        X: 'none',\n        Y: 'flip'\n      };\n    }\n\n    this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n  } //util function\n\n\n  getFormattedValue(value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        skeleton: 'medium',\n        type: 'time'\n      });\n    }\n  }\n\n  getDateObject(text) {\n    if (!this.isNullOrEmpty(text)) {\n      const dateValue = this.createDateObj(text);\n      const value = !this.isNullOrEmpty(this.initValue);\n\n      if (this.checkDateValue(dateValue)) {\n        const date = value ? this.initValue.getDate() : DAY;\n        const month = value ? this.initValue.getMonth() : MONTH$2;\n        const year = value ? this.initValue.getFullYear() : YEAR$2;\n        return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n      }\n    }\n\n    return null;\n  }\n\n  updateHtmlAttributeToWrapper() {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (const key of Object.keys(this.htmlAttributes)) {\n        if (wrapperAttributes.indexOf(key) > -1) {\n          if (key === 'class') {\n            const updatedClassesValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassesValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n            }\n          } else if (key === 'style') {\n            let timeStyle = this.inputWrapper.container.getAttribute(key);\n            timeStyle = !isNullOrUndefined(timeStyle) ? timeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n            this.inputWrapper.container.setAttribute(key, timeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  }\n\n  updateHtmlAttributeToElement() {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (const key of Object.keys(this.htmlAttributes)) {\n        if (wrapperAttributes.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  }\n\n  updateCssClass(cssClassNew, cssClassOld) {\n    if (!isNullOrUndefined(cssClassOld)) {\n      cssClassOld = cssClassOld.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssClassNew)) {\n      cssClassNew = cssClassNew.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n    }\n  }\n\n  removeErrorClass() {\n    removeClass([this.inputWrapper.container], ERROR$2);\n    attributes(this.inputElement, {\n      'aria-invalid': 'false'\n    });\n  }\n\n  checkErrorState(val) {\n    const value = this.getDateObject(val);\n\n    if (this.validateState(value) && !this.invalidValueString || this.enableMask && this.inputElement.value === this.maskedDateValue) {\n      this.removeErrorClass();\n    } else {\n      addClass([this.inputWrapper.container], ERROR$2);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    }\n  }\n\n  validateInterval() {\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.enableElement([this.inputWrapper.buttons[0]]);\n    } else {\n      this.disableTimeIcon();\n    }\n  }\n\n  disableTimeIcon() {\n    this.disableElement([this.inputWrapper.buttons[0]]);\n    this.hide();\n  }\n\n  disableElement(element) {\n    addClass(element, DISABLED$3);\n  }\n\n  enableElement(element) {\n    removeClass(element, DISABLED$3);\n  }\n\n  selectInputText() {\n    this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n  }\n\n  setCursorToEnd() {\n    this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);\n  }\n\n  getMeridianText() {\n    let meridian;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n    } else {\n      const gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n      const mainVal = 'main.';\n      meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n    }\n\n    return meridian;\n  }\n\n  getCursorSelection() {\n    const input = this.inputElement;\n    let start = 0;\n    let end = 0;\n\n    if (!isNaN(input.selectionStart)) {\n      start = input.selectionStart;\n      end = input.selectionEnd;\n    }\n\n    return {\n      start: Math.abs(start),\n      end: Math.abs(end)\n    };\n  }\n\n  getActiveElement() {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n    } else {\n      return null;\n    }\n  }\n\n  isNullOrEmpty(value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  setWidth(width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      width = width.match(/px|%|em/) ? width : formatUnit(width);\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  }\n\n  setPopupWidth(width) {\n    width = this.setWidth(width);\n\n    if (width.indexOf('%') > -1) {\n      const inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  }\n\n  setScrollPosition() {\n    const element = this.selectedElement;\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  }\n\n  findScrollTop(element) {\n    const listHeight = this.getPopupHeight();\n    const nextEle = element.nextElementSibling;\n    const height = nextEle ? nextEle.offsetTop : element.offsetTop;\n    const liHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.popupWrapper.scrollTop = nextEle ? height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION) : height;\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  }\n\n  setScrollTo() {\n    let element;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      const items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n      if (items.length) {\n        const initialTime = this.timeCollections[0];\n        const scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n        element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n      }\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  }\n\n  getText() {\n    return isNullOrUndefined(this.checkDateValue(this.value)) ? '' : this.getValue(this.value);\n  }\n\n  getValue(value) {\n    return isNullOrUndefined(this.checkDateValue(value)) ? null : this.globalize.formatDate(value, {\n      format: this.cldrTimeFormat(),\n      type: 'time'\n    });\n  }\n\n  cldrDateFormat() {\n    let cldrDate;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDate = getValue('dateFormats.short', getDefaultDateObject());\n    } else {\n      cldrDate = this.getCultureDateObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDate;\n  }\n\n  cldrTimeFormat() {\n    let cldrTime;\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  }\n\n  dateToNumeric() {\n    let cldrTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrTime = getValue('timeFormats.medium', getDefaultDateObject());\n    } else {\n      cldrTime = getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData);\n    }\n\n    return cldrTime;\n  }\n\n  getExactDateTime(value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        format: this.dateToNumeric(),\n        type: 'time'\n      });\n    }\n  }\n\n  setValue(value) {\n    const time = this.checkValue(value);\n\n    if (!this.strictMode && !this.validateState(time)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      if (this.isNullOrEmpty(time)) {\n        this.initValue = null;\n        this.validateMinMax(this.value, this.min, this.max);\n      } else {\n        this.initValue = this.compareFormatChange(time);\n      }\n    }\n\n    this.updateInput(true, this.initValue);\n  }\n\n  compareFormatChange(value) {\n    if (isNullOrUndefined(value)) {\n      return null;\n    }\n\n    return value !== this.getText() ? this.getDateObject(value) : this.getDateObject(this.value);\n  }\n\n  updatePlaceHolder() {\n    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n  } //event related functions\n\n\n  updateInputValue(value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  }\n\n  preventEventBubbling(e) {\n    e.preventDefault();\n    this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n  }\n\n  popupHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n\n    if (this.isPopupOpen()) {\n      this.closePopup(0, e);\n    } else {\n      this.inputElement.focus();\n      this.show(e);\n    }\n  }\n\n  mouseDownHandler() {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.readonly) {\n      this.inputElement.setSelectionRange(0, 0);\n      EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    }\n  }\n\n  mouseUpHandler(event) {\n    if (!this.readonly) {\n      event.preventDefault();\n\n      if (this.enableMask) {\n        event.preventDefault();\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n        return;\n      } else {\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        const curPos = this.getCursorSelection();\n\n        if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n          if (this.inputElement.value.length > 0) {\n            this.cursorDetails = this.focusSelection();\n          }\n\n          this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n        }\n      }\n    }\n  }\n\n  focusSelection() {\n    const regex = new RegExp('^[a-zA-Z0-9]+$');\n    const split = this.inputElement.value.split('');\n    split.push(' ');\n    const curPos = this.getCursorSelection();\n    let start = 0;\n    let end = 0;\n    let isSeparator = false;\n\n    if (!this.isTextSelected) {\n      for (let i = 0; i < split.length; i++) {\n        if (!regex.test(split[i])) {\n          end = i;\n          isSeparator = true;\n        }\n\n        if (isSeparator) {\n          if (curPos.start >= start && curPos.end <= end) {\n            // eslint-disable-next-line no-self-assign\n            end = end;\n            this.isTextSelected = true;\n            break;\n          } else {\n            start = i + 1;\n            isSeparator = false;\n          }\n        }\n      }\n    } else {\n      start = curPos.start;\n      end = curPos.end;\n      this.isTextSelected = false;\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  }\n\n  inputHandler(event) {\n    if (!this.readonly && this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'home':\n        case 'end':\n        case 'up':\n        case 'down':\n          if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n            event.preventDefault();\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: event\n            });\n          }\n\n          if (!this.enableMask || this.isPopupOpen()) {\n            this.keyHandler(event);\n          }\n\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.updateValue(this.valueWithMinutes, event);\n          } else {\n            this.updateValue(this.inputElement.value, event);\n          }\n\n          this.hide();\n          this.isNavigate = false;\n\n          if (this.isPopupOpen()) {\n            event.stopPropagation();\n          }\n\n          break;\n\n        case 'open':\n          this.show(event);\n          break;\n\n        case 'escape':\n          this.updateInputValue(this.objToString(this.value));\n\n          if (this.enableMask) {\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n\n            this.createMask();\n          }\n\n          this.previousState(this.value);\n          this.hide();\n          break;\n\n        case 'close':\n          this.hide();\n          break;\n\n        case 'right':\n        case 'left':\n        case 'tab':\n        case 'shiftTab':\n          if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n            if (this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length || this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab' || this.inputElement.selectionStart !== 0 && event.action == 'shiftTab' || event.action == 'left' || event.action == 'right') {\n              event.preventDefault();\n            }\n\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: event\n            });\n          }\n\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  }\n\n  onMouseClick(event) {\n    const target = event.target;\n    const li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n    this.setSelection(li, event);\n\n    if (li && li.classList.contains(LISTCLASS$1)) {\n      this.hide();\n    }\n  }\n\n  closePopup(delay, e) {\n    if (this.isPopupOpen() && this.popupWrapper) {\n      const args = {\n        popup: this.popupObj,\n        event: e || null,\n        cancel: false,\n        name: 'open'\n      };\n      removeClass([document.body], OVERFLOW$2);\n      this.trigger('close', args, args => {\n        if (!args.cancel) {\n          const animModel = {\n            name: 'FadeOut',\n            duration: ANIMATIONDURATION,\n            delay: delay ? delay : 0\n          };\n          this.popupObj.hide(new Animation(animModel));\n          removeClass([this.inputWrapper.container], [ICONANIMATION]);\n          attributes(this.inputElement, {\n            'aria-expanded': 'false'\n          });\n          EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n\n        if (Browser.isDevice && this.modal) {\n          this.modal.style.display = 'none';\n          this.modal.outerHTML = '';\n          this.modal = null;\n        }\n\n        if (Browser.isDevice) {\n          if (!isNullOrUndefined(this.mobileTimePopupWrap)) {\n            this.mobileTimePopupWrap.remove();\n            this.mobileTimePopupWrap = null;\n          }\n        }\n\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n          this.inputElement.removeAttribute('readonly');\n        }\n      });\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  }\n\n  disposeServerPopup() {\n    if (this.popupWrapper) {\n      this.popupWrapper.style.visibility = 'hidden';\n      this.popupWrapper.style.top = '-9999px';\n      this.popupWrapper.style.left = '-9999px';\n      this.popupWrapper.style.width = '0px';\n      this.popupWrapper.style.height = '0px';\n    }\n  }\n\n  checkValueChange(event, isNavigation) {\n    if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.setProperties({\n        value: this.compareFormatChange(this.inputElement.value)\n      }, true);\n      this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n      this.prevValue = this.inputElement.value;\n\n      if (+this.prevDate !== +this.value) {\n        this.changeEvent(event);\n      }\n    } else {\n      if (!isNavigation) {\n        if (this.prevValue !== this.inputElement.value || isNullOrUndefined(this.checkDateValue(this.value))) {\n          this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n        }\n      } else {\n        const value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n\n        if (+this.prevDate !== +value) {\n          this.valueProcess(event, value);\n        }\n      }\n    }\n  }\n\n  onMouseOver(event) {\n    const currentLi = closest(event.target, '.' + LISTCLASS$1);\n    this.setHover(currentLi, HOVER$1);\n  }\n\n  setHover(li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeHover(className);\n      addClass([li], className);\n\n      if (className === NAVIGATION) {\n        li.setAttribute('aria-selected', 'true');\n      }\n    }\n  }\n\n  setSelection(li, event) {\n    if (this.isValidLI(li)) {\n      this.checkValue(li.getAttribute('data-value'));\n\n      if (this.enableMask) {\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n\n      this.selectedElement = li;\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], SELECTED$4);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.checkValueChange(event, true);\n    }\n  }\n\n  onMouseLeave() {\n    this.removeHover(HOVER$1);\n  }\n\n  scrollHandler() {\n    if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n      return;\n    } else {\n      this.hide();\n    }\n  }\n\n  setMinMax(minVal, maxVal) {\n    if (isNullOrUndefined(this.checkDateValue(minVal))) {\n      this.initMin = this.getDateObject('12:00:00 AM');\n    }\n\n    if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n      this.initMax = this.getDateObject('11:59:59 PM');\n    }\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  validateMinMax(dateVal, minVal, maxVal) {\n    const value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n    } else if (+this.createDateObj(this.getFormattedValue(this.initMin)) > +this.createDateObj(this.getFormattedValue(this.initMax))) {\n      this.disableTimeIcon();\n    }\n\n    if (this.strictMode) {\n      dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n    }\n\n    this.checkErrorState(dateVal);\n    return dateVal;\n  }\n\n  valueIsDisable(value) {\n    if (this.disableItemCollection.length > 0) {\n      if (this.disableItemCollection.length === this.timeCollections.length) {\n        return false;\n      }\n\n      const time = value instanceof Date ? this.objToString(value) : value;\n\n      for (let index = 0; index < this.disableItemCollection.length; index++) {\n        if (time === this.disableItemCollection[index]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n\n  validateState(val) {\n    if (!this.strictMode) {\n      if (this.valueIsDisable(val)) {\n        const value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) : this.setCurrentDate(this.getDateObject(val));\n        const maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n        const minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n          if (+value > +maxValue || +value < +minValue) {\n            return false;\n          }\n        } else {\n          if (+maxValue < +minValue || this.inputElement.value !== '') {\n            return false;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  strictOperation(minimum, maximum, dateVal, val) {\n    const maxValue = this.createDateObj(this.getFormattedValue(maximum));\n    const minValue = this.createDateObj(this.getFormattedValue(minimum));\n    const value = this.createDateObj(this.getFormattedValue(val));\n\n    if (this.strictMode) {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n        this.initValue = this.getDateObject(maxValue);\n        this.updateInputValue(this.getValue(this.initValue));\n\n        if (this.enableMask) {\n          this.createMask();\n        }\n\n        return this.inputElement.value;\n      } else if (+minValue >= +value) {\n        return this.getDateObject(minValue);\n      } else if (+value >= +maxValue || +minValue === +maxValue) {\n        return this.getDateObject(maxValue);\n      }\n    } else {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n\n        if (!isNaN(+this.createDateObj(dateVal))) {\n          return dateVal;\n        }\n      }\n    }\n\n    return dateVal;\n  }\n\n  bindEvents() {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n    EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n\n    if (this.enableMask) {\n      EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n    }\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (!Browser.isDevice) {\n      this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n      this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n\n      if (this.showClearButton && this.inputElement) {\n        EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n      }\n    }\n  }\n\n  keydownHandler(e) {\n    switch (e.code) {\n      case 'Delete':\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          this.notify(\"keyDownHandler\", {\n            module: \"MaskedDateTime\",\n            e: e\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  formResetHandler() {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      let timeValue = this.inputElement.getAttribute('value');\n      let val = this.checkDateValue(this.inputEleValue);\n\n      if (this.element.tagName === 'EJS-TIMEPICKER') {\n        val = null;\n        timeValue = '';\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.setProperties({\n        value: val\n      }, true);\n      this.prevDate = this.value;\n      this.valueWithMinutes = this.value;\n      this.initValue = this.value;\n\n      if (this.inputElement) {\n        this.updateInputValue(timeValue);\n\n        if (this.enableMask) {\n          if (!timeValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          this.createMask();\n        }\n\n        this.checkErrorState(timeValue);\n        this.prevValue = this.inputElement.value;\n      }\n    }\n  }\n\n  inputChangeHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  }\n\n  inputEventHandler() {\n    if (this.enableMask) {\n      this.notify(\"inputHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }\n\n  unBindEvents() {\n    if (this.inputWrapper) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n    }\n\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n    EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n\n    if (this.inputEvent) {\n      this.inputEvent.destroy();\n    }\n\n    EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n\n    if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  }\n\n  bindClearEvent() {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n  }\n\n  raiseClearedEvent(e) {\n    const clearedArgs = {\n      event: e\n    };\n    this.trigger('cleared', clearedArgs);\n  }\n\n  clearHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!isNullOrUndefined(this.value)) {\n      this.clear(e);\n    } else {\n      this.resetState();\n      this.raiseClearedEvent(e);\n    }\n\n    if (this.popupWrapper) {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (this.enableMask) {\n      this.notify(\"clearHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  }\n\n  clear(event) {\n    this.setProperties({\n      value: null\n    }, true);\n    this.initValue = null;\n    this.resetState();\n    this.raiseClearedEvent(event);\n    this.changeEvent(event);\n  }\n\n  setZIndex() {\n    if (this.popupObj) {\n      this.popupObj.zIndex = this.zIndex;\n      this.popupObj.dataBind();\n    }\n  }\n\n  checkAttributes(isDynamic) {\n    const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n    let value;\n\n    for (const prop of attributes$$1) {\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['enabled'] === undefined || isDynamic) {\n              const enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputStyle = this.inputElement.getAttribute(prop);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['readonly'] === undefined || isDynamic) {\n              const readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.initValue = value;\n                this.updateInput(false, this.initValue);\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  }\n\n  setCurrentDate(value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    }\n\n    return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n  }\n\n  getTextFormat() {\n    let time = 0;\n\n    if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n      time = 1;\n    } else if (this.cldrTimeFormat().indexOf('a') < 0) {\n      const strArray = this.cldrTimeFormat().split(' ');\n\n      for (let i = 0; i < strArray.length; i++) {\n        if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n          time = i;\n          break;\n        }\n      }\n    }\n\n    return time;\n  }\n\n  updateValue(value, event) {\n    let val;\n\n    if (this.isNullOrEmpty(value)) {\n      this.resetState();\n    } else {\n      val = this.checkValue(value);\n\n      if (this.strictMode) {\n        // this case set previous value to the text box when set invalid date\n        const inputVal = val === null && value.trim().length > 0 ? this.previousState(this.prevDate) : this.inputElement.value;\n        this.updateInputValue(inputVal);\n\n        if (this.enableMask) {\n          if (!inputVal) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          if (isNullOrUndefined(val) && value != this.maskedDateValue) {\n            this.createMask();\n          }\n\n          if (isNullOrUndefined(val) && value == this.maskedDateValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n        }\n      }\n    }\n\n    this.checkValueChange(event, typeof value === 'string' ? false : true);\n  }\n\n  previousState(date) {\n    const value = this.getDateObject(date);\n\n    for (let i = 0; i < this.timeCollections.length; i++) {\n      if (+value === this.timeCollections[i]) {\n        this.activeIndex = i;\n        this.selectedElement = this.liCollections[i];\n        this.valueWithMinutes = new Date(this.timeCollections[i]);\n        break;\n      }\n    }\n\n    return this.prevValue;\n  }\n\n  resetState() {\n    this.removeSelection();\n    Input.setValue('', this.inputElement, this.floatLabelType, false);\n    this.valueWithMinutes = this.activeIndex = null;\n\n    if (!this.strictMode) {\n      this.checkErrorState(null);\n    }\n  }\n\n  objToString(val) {\n    if (isNullOrUndefined(this.checkDateValue(val))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(val, {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      });\n    }\n  }\n\n  checkValue(value) {\n    if (!this.isNullOrEmpty(value)) {\n      const date = value instanceof Date ? value : this.getDateObject(value);\n      return this.validateValue(date, value);\n    }\n\n    this.resetState();\n    return this.valueWithMinutes = null;\n  }\n\n  validateValue(date, value) {\n    let time;\n    const val = this.validateMinMax(value, this.min, this.max);\n    const newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = this.objToString(this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = this.objToString(this.valueWithMinutes);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      const value = val.trim().length > 0 ? val : '';\n      this.updateInputValue(value);\n\n      if (this.enableMask) {\n        if (!value) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    } else {\n      this.updateInputValue(time);\n\n      if (this.enableMask) {\n        if (time == '') {\n          this.updateInputValue(this.maskedDateValue);\n        }\n\n        if (isNullOrUndefined(time) && value != this.maskedDateValue) {\n          this.createMask();\n        }\n\n        if (isNullOrUndefined(time) && value == this.maskedDateValue) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    }\n\n    return time;\n  }\n\n  createMask() {\n    this.notify(\"createMask\", {\n      module: \"MaskedDateTime\"\n    });\n  }\n\n  findNextElement(event) {\n    const textVal = this.inputElement.value;\n    const value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    let timeVal = null;\n    const count = this.liCollections.length;\n    const collections = this.timeCollections;\n\n    if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n      if (event.action === 'home') {\n        const index = this.validLiElement(0);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else if (event.action === 'end') {\n        const index = this.validLiElement(collections.length - 1, true);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else {\n        if (event.action === 'down') {\n          for (let i = 0; i < count; i++) {\n            if (+value < this.timeCollections[i]) {\n              const index = this.validLiElement(i);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === count - 1) {\n              const index = this.validLiElement(0);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        } else {\n          for (let i = count - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              const index = this.validLiElement(i, true);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === 0) {\n              const index = this.validLiElement(count - 1);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n    } else {\n      this.selectNextItem(event);\n    }\n  }\n\n  selectNextItem(event) {\n    const index = this.validLiElement(0, event.action === 'down' ? false : true);\n    this.activeIndex = index;\n    this.selectedElement = this.liCollections[index];\n    this.elementValue(new Date(this.timeCollections[index]));\n  }\n\n  elementValue(value) {\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      this.checkValue(value);\n    }\n  }\n\n  validLiElement(index, backward) {\n    let elementIndex = null;\n    const items = isNullOrUndefined(this.popupWrapper) ? this.liCollections : this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n    let isCheck = true;\n\n    if (items.length) {\n      if (backward) {\n        for (let i = index; i >= 0; i--) {\n          if (!items[i].classList.contains(DISABLED$3)) {\n            elementIndex = i;\n            break;\n          } else if (i === 0) {\n            if (isCheck) {\n              index = i = items.length;\n              isCheck = false;\n            }\n          }\n        }\n      } else {\n        for (let i = index; i <= items.length - 1; i++) {\n          if (!items[i].classList.contains(DISABLED$3)) {\n            elementIndex = i;\n            break;\n          } else if (i === items.length - 1) {\n            if (isCheck) {\n              index = i = -1;\n              isCheck = false;\n            }\n          }\n        }\n      }\n    }\n\n    return elementIndex;\n  }\n\n  keyHandler(event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n      return;\n    }\n\n    const count = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          const index = this.validLiElement(0, event.action === 'down' ? false : true);\n          this.activeIndex = index;\n          this.selectedElement = this.liCollections[index];\n          this.elementValue(new Date(this.timeCollections[index]));\n        } else {\n          this.findNextElement(event);\n        }\n      } else {\n        this.findNextElement(event);\n      }\n    } else {\n      let nextItem;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        let index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === count ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? count - 1 : this.activeIndex;\n        this.activeIndex = index = this.validLiElement(this.activeIndex, event.keyCode === 40 || event.keyCode === 39 ? false : true);\n        nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        const index = this.validLiElement(0);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      } else if (event.action === 'end') {\n        const index = this.validLiElement(count - 1, true);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(new Date(nextItem));\n    }\n\n    this.isNavigate = true;\n    this.setHover(this.selectedElement, NAVIGATION);\n    this.setActiveDescendant();\n    this.selectInputText();\n\n    if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setScrollPosition();\n    }\n  }\n\n  getCultureTimeObject(ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n  }\n\n  getCultureDateObject(ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n  }\n\n  wireListEvents() {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  }\n\n  unWireListEvents() {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n\n      if (!Browser.isDevice) {\n        EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n      }\n    }\n  }\n\n  valueProcess(event, value) {\n    const result = isNullOrUndefined(this.checkDateValue(value)) ? null : value;\n\n    if (+this.prevDate !== +result) {\n      this.initValue = result;\n      this.changeEvent(event);\n    }\n  }\n\n  changeEvent(e) {\n    this.addSelection();\n    this.updateInput(true, this.initValue);\n    const eventArgs = {\n      event: e || null,\n      value: this.value,\n      text: this.inputElement.value,\n      isInteracted: !isNullOrUndefined(e),\n      element: this.element\n    };\n    eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n    this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n\n    if (this.isAngular && this.preventChange) {\n      this.preventChange = false;\n    } else {\n      this.trigger('change', eventArgs);\n    }\n\n    this.invalidValueString = null;\n    this.checkErrorState(this.value);\n  }\n\n  updateInput(isUpdate, date) {\n    if (isUpdate) {\n      this.prevValue = this.getValue(date);\n    }\n\n    this.prevDate = this.valueWithMinutes = date;\n\n    if (typeof date !== 'number' || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n      this.setProperties({\n        value: date\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.checkErrorState(this.invalidValueString);\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.clearIconState();\n  }\n\n  setActiveDescendant() {\n    if (!isNullOrUndefined(this.selectedElement)) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      attributes(this.inputElement, {\n        'aria-activedescendant': 'null'\n      });\n    }\n  }\n\n  removeSelection() {\n    this.removeHover(HOVER$1);\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      const items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n\n      if (items.length) {\n        removeClass(items, SELECTED$4);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  }\n\n  removeHover(className) {\n    const hoveredItem = this.getHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n\n      if (className === NAVIGATION) {\n        hoveredItem[0].removeAttribute('aria-selected');\n      }\n    }\n  }\n\n  getHoverItem(className) {\n    let hoveredItem;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  }\n\n  setActiveClass() {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      const items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n      if (items.length) {\n        for (let i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes)) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  addSelection() {\n    this.selectedElement = null;\n    this.removeSelection();\n    this.setActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], SELECTED$4);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  }\n\n  isValidLI(li) {\n    return li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3);\n  }\n\n  createDateObj(val) {\n    const formatStr = null;\n    let today = this.globalize.formatDate(new Date(), {\n      format: formatStr,\n      skeleton: 'short',\n      type: 'date'\n    });\n    let value = null;\n\n    if (typeof val === 'string') {\n      if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n        today = this.defaultCulture.formatDate(new Date(), {\n          format: formatStr,\n          skeleton: 'short',\n          type: 'date'\n        });\n        value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n\n        if (isNullOrUndefined(value)) {\n          value = this.timeParse(today, val);\n        }\n      } else {\n        value = this.timeParse(today, val);\n      }\n    } else if (val instanceof Date) {\n      value = val;\n    }\n\n    return value;\n  }\n\n  timeParse(today, val) {\n    let value;\n    value = this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(),\n      type: 'datetime'\n    });\n    value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.dateToNumeric(),\n      type: 'datetime'\n    }) : value;\n    value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n    return value;\n  }\n\n  createListItems() {\n    this.listWrapper = this.createElement('div', {\n      className: CONTENT$2,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    let start;\n    const interval = this.step * 60000;\n    const listItems = [];\n    this.timeCollections = [];\n    this.disableItemCollection = [];\n    start = +this.getDateObject(this.initMin).setMilliseconds(0);\n    const end = +this.getDateObject(this.initMax).setMilliseconds(0);\n\n    while (end >= start) {\n      this.timeCollections.push(start);\n      listItems.push(this.globalize.formatDate(new Date(start), {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    const listBaseOptions = {\n      itemCreated: args => {\n        const eventArgs = {\n          element: args.item,\n          text: args.text,\n          value: this.getDateObject(args.text),\n          isDisabled: false\n        };\n        this.trigger('itemRender', eventArgs, eventArgs => {\n          if (eventArgs.isDisabled) {\n            eventArgs.element.classList.add(DISABLED$3);\n          }\n\n          if (eventArgs.element.classList.contains(DISABLED$3)) {\n            this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n          }\n        });\n      }\n    };\n    this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options'\n    });\n    append([this.listTag], this.listWrapper);\n  }\n\n  documentClickHandler(event) {\n    const target = event.target;\n\n    if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) || this.popupObj.element && this.popupObj.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + this.popupObj.element.id + '\"]') && target !== this.inputElement && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) && target !== (this.inputWrapper && this.inputWrapper.clearButton) && target !== (this.inputWrapper && this.inputWrapper.container)) {\n      if (this.isPopupOpen()) {\n        this.hide();\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.inputElement && target === this.popupWrapper;\n      }\n    }\n  }\n\n  setEnableRtl() {\n    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  }\n\n  setEnable() {\n    Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], DISABLED$3);\n      attributes(this.inputElement, {\n        'aria-disabled': 'false'\n      });\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.hide();\n      addClass([this.inputWrapper.container], DISABLED$3);\n      attributes(this.inputElement, {\n        'aria-disabled': 'true'\n      });\n      this.inputElement.tabIndex = -1;\n    }\n  }\n\n  getProperty(date, val) {\n    if (val === 'min') {\n      this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n      this.setProperties({\n        min: this.initMin\n      }, true);\n    } else {\n      this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n      this.setProperties({\n        max: this.initMax\n      }, true);\n    }\n\n    if (this.inputElement.value === '') {\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      this.checkValue(this.inputElement.value);\n    }\n\n    this.checkValueChange(null, false);\n  }\n\n  inputBlurHandler(e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isPreventBlur && this.isPopupOpen()) {\n      this.inputElement.focus();\n      return;\n    }\n\n    this.closePopup(0, e);\n\n    if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n      if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue('');\n      }\n    }\n\n    removeClass([this.inputWrapper.container], [FOCUS]);\n    const blurArguments = {\n      model: this\n    };\n    this.trigger('blur', blurArguments);\n\n    if (this.getText() !== this.inputElement.value) {\n      this.updateValue(this.inputElement.value, e);\n    } else if (this.inputElement.value.trim().length === 0) {\n      this.resetState();\n    }\n\n    this.cursorDetails = null;\n    this.isNavigate = false;\n\n    if (this.inputElement.value === '') {\n      this.invalidValueString = null;\n    }\n  }\n  /**\n   * Focuses out the TimePicker textbox element.\n   *\n   * @returns {void}\n   */\n\n\n  focusOut() {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [FOCUS]);\n      const blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n    }\n  }\n\n  isPopupOpen() {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  inputFocusHandler() {\n    if (!this.enabled) {\n      return;\n    }\n\n    const focusArguments = {\n      model: this\n    };\n\n    if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n      this.selectInputText();\n    }\n\n    if (this.enableMask && !this.inputElement.value && this.placeholder) {\n      if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.inputElement.selectionStart = 0;\n        this.inputElement.selectionEnd = this.inputElement.value.length;\n      }\n    }\n\n    this.trigger('focus', focusArguments);\n    this.clearIconState();\n\n    if (this.openOnFocus) {\n      this.show();\n    }\n  }\n  /**\n   * Focused the TimePicker textbox element.\n   *\n   * @returns {void}\n   */\n\n\n  focusIn() {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n    }\n  }\n  /**\n   * Hides the TimePicker popup.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  hide() {\n    this.closePopup(100, null);\n    this.clearIconState();\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * Opens the popup to show the list items.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  show(event) {\n    if (this.enabled && this.readonly || !this.enabled || this.popupWrapper) {\n      return;\n    } else {\n      this.popupCreation();\n\n      if (Browser.isDevice && this.listWrapper) {\n        this.modal = this.createElement('div');\n        this.modal.className = '' + ROOT$3 + ' e-time-modal';\n        document.body.className += ' ' + OVERFLOW$2;\n        document.body.appendChild(this.modal);\n      }\n\n      if (Browser.isDevice) {\n        this.mobileTimePopupWrap = this.createElement('div', {\n          className: 'e-timepicker-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobileTimePopupWrap);\n      }\n\n      this.openPopupEventArgs = {\n        popup: this.popupObj || null,\n        cancel: false,\n        event: event || null,\n        name: 'open',\n        appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n      };\n      const eventArgs = this.openPopupEventArgs;\n      this.trigger('open', eventArgs, eventArgs => {\n        this.openPopupEventArgs = eventArgs;\n\n        if (!this.openPopupEventArgs.cancel && !this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n          this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n          this.popupAlignment(this.openPopupEventArgs);\n          this.setScrollPosition();\n\n          if (!Browser.isDevice) {\n            this.inputElement.focus();\n          }\n\n          const openAnimation = {\n            name: 'FadeIn',\n            duration: ANIMATIONDURATION\n          };\n          this.popupObj.refreshPosition(this.anchor);\n\n          if (this.zIndex === 1000) {\n            this.popupObj.show(new Animation(openAnimation), this.element);\n          } else {\n            this.popupObj.show(new Animation(openAnimation), null);\n          }\n\n          this.setActiveDescendant();\n          attributes(this.inputElement, {\n            'aria-expanded': 'true'\n          });\n          addClass([this.inputWrapper.container], FOCUS);\n          EventHandler.add(document, 'mousedown touchstart', this.documentClickHandler, this);\n          this.setOverlayIndex(this.mobileTimePopupWrap, this.popupObj.element, this.modal, Browser.isDevice);\n        } else {\n          this.popupObj.destroy();\n          this.popupWrapper = this.listTag = undefined;\n          this.liCollections = this.timeCollections = this.disableItemCollection = [];\n          this.popupObj = null;\n        }\n      });\n    }\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  setOverlayIndex(popupWrapper, timePopupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      const index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  }\n\n  formatValues(type) {\n    let value;\n\n    if (typeof type === 'number') {\n      value = formatUnit(type);\n    } else if (typeof type === 'string') {\n      value = type.match(/px|%|em/) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n    }\n\n    return value;\n  }\n\n  popupAlignment(args) {\n    args.popup.position.X = this.formatValues(args.popup.position.X);\n    args.popup.position.Y = this.formatValues(args.popup.position.Y);\n\n    if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.relateTo = this.anchor = document.body;\n      this.popupObj.targetType = 'container';\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.X))) {\n      this.popupObj.offsetX = parseFloat(args.popup.position.X);\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n    }\n\n    if (!Browser.isDevice) {\n      switch (args.popup.position.X) {\n        case 'left':\n          break;\n\n        case 'right':\n          args.popup.offsetX = this.containerStyle.width;\n          break;\n\n        case 'center':\n          args.popup.offsetX = -(this.containerStyle.width / 2);\n          break;\n      }\n\n      switch (args.popup.position.Y) {\n        case 'top':\n          break;\n\n        case 'bottom':\n          break;\n\n        case 'center':\n          args.popup.offsetY = -(this.containerStyle.height / 2);\n          break;\n      }\n\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.inputWrapper.container;\n        this.anchor = this.inputElement;\n        this.popupObj.targetType = 'relative';\n      }\n    } else {\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.anchor = document.body;\n        this.popupObj.offsetY = 0;\n        this.popupObj.targetType = 'container';\n        this.popupObj.collision = {\n          X: 'fit',\n          Y: 'fit'\n        };\n      }\n    }\n  }\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  getPersistData() {\n    const keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  }\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'timepicker';\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n\n          if (this.readonly) {\n            this.hide();\n          }\n\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          this.setEnable();\n          break;\n\n        case 'allowEdit':\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          this.setEnableRtl();\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'locale':\n          this.setProperties({\n            locale: newProp.locale\n          }, true);\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.updatePlaceHolder();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.inputWrapper.container, {\n            'width': this.setWidth(newProp.width)\n          });\n          this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkTimeFormat();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.createMask();\n\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n\n          if (!this.invalidValueString) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: this.checkDateValue(new Date(newProp.value))\n              }, true);\n              newProp.value = this.value;\n            } else {\n              if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n              }\n            }\n\n            this.initValue = newProp.value;\n            newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n          } else {\n            this.updateInputValue(this.invalidValueString);\n            this.checkErrorState(this.invalidValueString);\n          }\n\n          this.checkValueChange(null, false);\n\n          if (this.isPopupOpen()) {\n            this.setScrollPosition();\n          }\n\n          if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n          }\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n\n          if (newProp.strictMode) {\n            this.checkErrorState(null);\n          }\n\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.checkValue(this.inputElement.value);\n          this.checkValueChange(null, false);\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n            if (this.popupWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            this.updateInputValue(this.maskedDateValue);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.updateInputValue('');\n            }\n          }\n\n          break;\n      }\n    }\n  }\n\n  checkInValue(inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  }\n\n};\n\n__decorate$3([Property(null)], TimePicker.prototype, \"width\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"cssClass\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"strictMode\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"format\", void 0);\n\n__decorate$3([Property(true)], TimePicker.prototype, \"enabled\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"readonly\", void 0);\n\n__decorate$3([Property({})], TimePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$3([Property('Never')], TimePicker.prototype, \"floatLabelType\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"placeholder\", void 0);\n\n__decorate$3([Property(1000)], TimePicker.prototype, \"zIndex\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$3([Property(true)], TimePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$3([Property(30)], TimePicker.prototype, \"step\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"scrollTo\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"value\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"min\", void 0);\n\n__decorate$3([Property(null)], TimePicker.prototype, \"max\", void 0);\n\n__decorate$3([Property(true)], TimePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$3([Property(false)], TimePicker.prototype, \"enableMask\", void 0);\n\n__decorate$3([Property({\n  day: 'day',\n  month: 'month',\n  year: 'year',\n  hour: 'hour',\n  minute: 'minute',\n  second: 'second',\n  dayOfTheWeek: 'day of the week'\n})], TimePicker.prototype, \"maskPlaceholder\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"change\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"created\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"destroyed\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"open\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"itemRender\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"close\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"cleared\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"blur\", void 0);\n\n__decorate$3([Event()], TimePicker.prototype, \"focus\", void 0);\n\nTimePicker = __decorate$3([NotifyPropertyChanges], TimePicker);\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\n\n\nconst DATEWRAPPER$1 = 'e-date-wrapper';\nconst DATEPICKERROOT = 'e-datepicker';\nconst DATETIMEWRAPPER = 'e-datetime-wrapper';\nconst DAY$1 = new Date().getDate();\nconst MONTH$3 = new Date().getMonth();\nconst YEAR$3 = new Date().getFullYear();\nconst HOUR = new Date().getHours();\nconst MINUTE = new Date().getMinutes();\nconst SECOND = new Date().getSeconds();\nconst MILLISECOND = new Date().getMilliseconds();\nconst ROOT$4 = 'e-datetimepicker';\nconst DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nconst INPUTWRAPPER$1 = 'e-input-group-icon';\nconst POPUP$3 = 'e-popup';\nconst TIMEICON$1 = 'e-time-icon';\nconst INPUTFOCUS$2 = 'e-input-focus';\nconst POPUPDIMENSION$1 = '250px';\nconst ICONANIMATION$1 = 'e-icon-anim';\nconst DISABLED$4 = 'e-disabled';\nconst ERROR$3 = 'e-error';\nconst CONTENT$3 = 'e-content';\nconst NAVIGATION$1 = 'e-navigation';\nconst ACTIVE$2 = 'e-active';\nconst HOVER$2 = 'e-hover';\nconst ICONS$1 = 'e-icons';\nconst HALFPOSITION$1 = 2;\nconst LISTCLASS$2 = 'e-list-item';\nconst ANIMATIONDURATION$1 = 100;\nconst OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\n\nlet DateTimePicker = class DateTimePicker extends DatePicker {\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n  constructor(options, element) {\n    super(options, element);\n    this.valueWithMinutes = null;\n    this.scrollInvoked = false;\n    this.moduleName = this.getModuleName();\n    this.dateTimeOptions = options;\n  }\n\n  focusHandler() {\n    if (!this.enabled) {\n      return;\n    }\n\n    addClass([this.inputWrapper.container], INPUTFOCUS$2);\n  }\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n\n\n  focusIn() {\n    super.focusIn();\n  }\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  focusOut() {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n    }\n  }\n\n  blurHandler(e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isTimePopupOpen() && this.isPreventBlur) {\n      this.inputElement.focus();\n      return;\n    }\n\n    removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n    const blurArguments = {\n      model: this\n    };\n\n    if (this.isTimePopupOpen()) {\n      this.hide(e);\n    }\n\n    this.trigger('blur', blurArguments);\n  }\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n      this.popupObject.destroy();\n      detach(this.dateTimeWrapper);\n      this.dateTimeWrapper = undefined;\n      this.liCollections = this.timeCollections = [];\n\n      if (!isNullOrUndefined(this.rippleFn)) {\n        this.rippleFn();\n      }\n    }\n\n    const ariaAttribute = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-invalid': 'false',\n      'aria-haspopup': 'true',\n      'aria-activedescendant': 'null',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-owns': this.element.id + '_options',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n      this.inputElement.removeAttribute('aria-placeholder');\n    }\n\n    if (this.isCalendar()) {\n      if (this.popupWrapper) {\n        detach(this.popupWrapper);\n      }\n\n      this.popupObject = this.popupWrapper = null;\n      this.keyboardHandler.destroy();\n    }\n\n    this.unBindInputEvents();\n    super.destroy();\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  render() {\n    this.timekeyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.valueWithMinutes = null;\n    this.previousDateTime = null;\n    this.isPreventBlur = false;\n    this.cloneElement = this.element.cloneNode(true);\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n    this.initValue = this.value;\n    super.updateHtmlAttributeToElement();\n    this.checkAttributes(false);\n    const localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('datetimepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    super.render();\n    this.createInputElement();\n    super.updateHtmlAttributeToWrapper();\n    this.bindInputEvents();\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n\n    this.setValue();\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo)))\n    }, true);\n    this.previousDateTime = this.value && new Date(+this.value);\n\n    if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n\n      if (!this.enabled) {\n        this.inputElement.tabIndex = -1;\n      }\n    }\n\n    this.renderComplete();\n  }\n\n  setValue() {\n    this.initValue = this.validateMinMaxRange(this.value);\n\n    if (!this.strictMode && this.isDateObject(this.initValue)) {\n      const value = this.validateMinMaxRange(this.initValue);\n      Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n      this.setProperties({\n        value: value\n      }, true);\n    } else {\n      if (isNullOrUndefined(this.value)) {\n        this.initValue = null;\n        this.setProperties({\n          value: null\n        }, true);\n      }\n    }\n\n    this.valueWithMinutes = this.value;\n    super.updateInput();\n  }\n\n  validateMinMaxRange(value) {\n    let result = value;\n\n    if (this.isDateObject(value)) {\n      result = this.validateValue(value);\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n      }\n    }\n\n    this.checkValidState(result);\n    return result;\n  }\n\n  checkValidState(value) {\n    this.isValidState = true;\n\n    if (!this.strictMode) {\n      if (+value > +this.max || +value < +this.min) {\n        this.isValidState = false;\n      }\n    }\n\n    this.checkErrorState();\n  }\n\n  checkErrorState() {\n    if (this.isValidState) {\n      removeClass([this.inputWrapper.container], ERROR$3);\n    } else {\n      addClass([this.inputWrapper.container], ERROR$3);\n    }\n\n    attributes(this.inputElement, {\n      'aria-invalid': this.isValidState ? 'false' : 'true'\n    });\n  }\n\n  validateValue(value) {\n    let dateVal = value;\n\n    if (this.strictMode) {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = this.max;\n      } else if (+value < +this.min) {\n        dateVal = this.min;\n      } else if (+value > +this.max) {\n        dateVal = this.max;\n      }\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = value;\n      }\n    }\n\n    return dateVal;\n  }\n\n  disablePopupButton(isDisable) {\n    if (isDisable) {\n      addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n      this.hide();\n    } else {\n      removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n    }\n  }\n\n  getFormattedValue(value) {\n    let dateOptions;\n\n    if (!isNullOrUndefined(value)) {\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      return this.globalize.formatDate(value, dateOptions);\n    } else {\n      return null;\n    }\n  }\n\n  isDateObject(value) {\n    return !isNullOrUndefined(value) && !isNaN(+value) ? true : false;\n  }\n\n  createInputElement() {\n    removeClass([this.inputElement], DATEPICKERROOT);\n    removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n    addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n    addClass([this.inputElement], ROOT$4);\n    this.renderTimeIcon();\n  }\n\n  renderTimeIcon() {\n    this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n  }\n\n  bindInputEvents() {\n    EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n      eventName: 'keydown',\n      keyAction: this.inputKeyAction.bind(this),\n      keyConfigs: this.defaultKeyConfigs\n    });\n  }\n\n  unBindInputEvents() {\n    EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n\n    if (this.inputElement) {\n      EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n    }\n\n    if (this.keyboardHandler) {\n      this.keyboardHandler.destroy();\n    }\n  }\n\n  cldrTimeFormat() {\n    let cldrTime;\n\n    if (this.isNullOrEmpty(this.timeFormat)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.timeFormat;\n    }\n\n    return cldrTime;\n  }\n\n  cldrDateTimeFormat() {\n    let cldrTime;\n    const culture = new Internationalization(this.locale);\n    const dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  getCldrFormat(type) {\n    let cldrDateTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTime = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTime;\n  }\n\n  isNullOrEmpty(value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  getCultureTimeObject(ld, c) {\n    if (this.calendarMode === 'Gregorian') {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n    } else {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n    }\n  }\n\n  timeHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.isIconClicked = true;\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    if (e.currentTarget === this.timeIcon) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isDatePopupOpen()) {\n        super.hide(e);\n      }\n\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      } else {\n        this.inputElement.focus();\n        this.popupCreation('time', e);\n        addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n      }\n    }\n\n    this.isIconClicked = false;\n  }\n\n  dateHandler(e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (e.currentTarget === this.inputWrapper.buttons[0]) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      }\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        this.popupCreation('date', e);\n      }\n    }\n  }\n\n  show(type, e) {\n    if (this.enabled && this.readonly || !this.enabled) {\n      return;\n    } else {\n      if (type === 'time' && !this.dateTimeWrapper) {\n        if (this.isDatePopupOpen()) {\n          this.hide(e);\n        }\n\n        this.popupCreation('time', e);\n      } else if (!this.popupObj) {\n        if (this.isTimePopupOpen()) {\n          this.hide(e);\n        }\n\n        super.show();\n        this.popupCreation('date', e);\n      }\n    }\n  }\n\n  toggle(e) {\n    if (this.isDatePopupOpen()) {\n      super.hide(e);\n      this.show('time', null);\n    } else if (this.isTimePopupOpen()) {\n      this.hide(e);\n      super.show(null, e);\n      this.popupCreation('date', null);\n    } else {\n      this.show(null, e);\n    }\n  }\n\n  listCreation() {\n    let dateObject;\n\n    if (this.calendarMode === 'Gregorian') {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime'\n      });\n    } else {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime',\n        calendar: 'islamic'\n      });\n    }\n\n    const value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ? dateObject : new Date() : this.value;\n    this.valueWithMinutes = value;\n    this.listWrapper = createElement('div', {\n      className: CONTENT$3,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    const min = this.startTime(value);\n    const max = this.endTime(value);\n    const listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n    this.timeCollections = listDetails.collection;\n    this.listTag = listDetails.list;\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options'\n    });\n    append([listDetails.list], this.listWrapper);\n    this.wireTimeListEvents();\n    const rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS$2\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n  }\n\n  popupCreation(type, e) {\n    if (Browser.isDevice) {\n      this.element.setAttribute('readonly', 'readonly');\n    }\n\n    if (type === 'date') {\n      if (!this.readonly && this.popupWrapper) {\n        addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n        attributes(this.popupWrapper, {\n          'id': this.element.id + '_datepopup'\n        });\n      }\n    } else {\n      if (!this.readonly) {\n        this.dateTimeWrapper = createElement('div', {\n          className: ROOT$4 + ' ' + POPUP$3,\n          attrs: {\n            'id': this.element.id + '_timepopup',\n            'style': 'visibility:hidden ; display:block'\n          }\n        });\n\n        if (!isNullOrUndefined(this.cssClass)) {\n          this.dateTimeWrapper.className += ' ' + this.cssClass;\n        }\n\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n          this.listCreation();\n          append([this.listWrapper], this.dateTimeWrapper);\n        }\n\n        document.body.appendChild(this.dateTimeWrapper);\n        this.addTimeSelection();\n        this.renderPopup();\n        this.setTimeScrollPosition();\n        this.openPopup(e);\n        this.popupObject.refreshPosition(this.inputElement);\n      }\n    }\n  }\n\n  openPopup(e) {\n    this.preventArgs = {\n      cancel: false,\n      popup: this.popupObject,\n      event: e || null\n    };\n    const eventArgs = this.preventArgs;\n    this.trigger('open', eventArgs, eventArgs => {\n      this.preventArgs = eventArgs;\n\n      if (!this.preventArgs.cancel && !this.readonly) {\n        const openAnimation = {\n          name: 'FadeIn',\n          duration: ANIMATIONDURATION$1\n        };\n\n        if (this.zIndex === 1000) {\n          this.popupObject.show(new Animation(openAnimation), this.element);\n        } else {\n          this.popupObject.show(new Animation(openAnimation), null);\n        }\n\n        addClass([this.inputWrapper.container], [ICONANIMATION$1]);\n        attributes(this.inputElement, {\n          'aria-expanded': 'true'\n        });\n        EventHandler.add(document, 'mousedown touchstart', this.documentClickHandler, this);\n      }\n    });\n  }\n\n  documentClickHandler(event) {\n    const target = event.target;\n\n    if (!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) || this.popupObject.element && this.popupObject.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]')) && target !== this.inputElement && target !== this.timeIcon && target !== this.inputWrapper.container) {\n      if (this.isTimePopupOpen()) {\n        this.hide(event);\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = document.activeElement === this.inputElement && (Browser.isIE || Browser.info.name === 'edge') && target === this.popupObject.element;\n      }\n    }\n  }\n\n  isTimePopupOpen() {\n    return this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4) ? true : false;\n  }\n\n  isDatePopupOpen() {\n    return this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER) ? true : false;\n  }\n\n  renderPopup() {\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n\n    if (Browser.isDevice) {\n      this.timeModal = createElement('div');\n      this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n      document.body.className += ' ' + OVERFLOW$3;\n      this.timeModal.style.display = 'block';\n      document.body.appendChild(this.timeModal);\n    }\n\n    const offset = 4;\n    this.popupObject = new Popup(this.dateTimeWrapper, {\n      width: this.setPopupWidth(),\n      zIndex: this.zIndex,\n      targetType: 'container',\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.enableRtl,\n      offsetY: offset,\n      open: () => {\n        this.dateTimeWrapper.style.visibility = 'visible';\n        addClass([this.timeIcon], ACTIVE$2);\n\n        if (!Browser.isDevice) {\n          this.timekeyConfigure = extend(this.timekeyConfigure, this.keyConfigs);\n          this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n            keyAction: this.timeKeyActionHandle.bind(this),\n            keyConfigs: this.timekeyConfigure,\n            eventName: 'keydown'\n          });\n        }\n      },\n      close: () => {\n        removeClass([this.timeIcon], ACTIVE$2);\n        this.unWireTimeListEvents();\n        this.inputElement.setAttribute('aria-activedescendant', 'null');\n        remove(this.popupObject.element);\n        this.popupObject.destroy();\n        this.dateTimeWrapper.innerHTML = '';\n        this.listWrapper = this.dateTimeWrapper = undefined;\n\n        if (this.inputEvent) {\n          this.inputEvent.destroy();\n        }\n      },\n      targetExitViewport: () => {\n        if (!Browser.isDevice) {\n          this.hide();\n        }\n      }\n    });\n    this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n  }\n\n  setDimension(width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      // eslint-disable-next-line no-self-assign\n      width = width;\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  }\n\n  setPopupWidth() {\n    let width = this.setDimension(this.width);\n\n    if (width.indexOf('%') > -1) {\n      const inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  }\n\n  wireTimeListEvents() {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  }\n\n  unWireTimeListEvents() {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n\n      if (!Browser.isDevice) {\n        EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n      }\n    }\n  }\n\n  onMouseOver(event) {\n    const currentLi = closest(event.target, '.' + LISTCLASS$2);\n    this.setTimeHover(currentLi, HOVER$2);\n  }\n\n  onMouseLeave() {\n    this.removeTimeHover(HOVER$2);\n  }\n\n  setTimeHover(li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeTimeHover(className);\n      addClass([li], className);\n    }\n  }\n\n  getPopupHeight() {\n    const height = parseInt(POPUPDIMENSION$1, 10);\n    const popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  }\n\n  changeEvent(e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n      super.changeEvent(e);\n      this.valueWithMinutes = this.value;\n      this.setInputValue('date');\n      this.previousDateTime = this.value && new Date(+this.value);\n    }\n  }\n\n  updateValue(e) {\n    this.setInputValue('time');\n\n    if (+this.previousDateTime !== +this.value) {\n      this.changedArgs = {\n        value: this.value,\n        event: e || null,\n        isInteracted: !isNullOrUndefined(e),\n        element: this.element\n      };\n      this.addTimeSelection();\n      this.trigger('change', this.changedArgs);\n      this.previousDateTime = this.previousDate = this.value;\n    }\n  }\n\n  setTimeScrollPosition() {\n    const popupElement = this.selectedElement;\n\n    if (!isNullOrUndefined(popupElement)) {\n      this.findScrollTop(popupElement);\n    } else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  }\n\n  findScrollTop(element) {\n    const listHeight = this.getPopupHeight();\n    const nextElement = element.nextElementSibling;\n    const height = nextElement ? nextElement.offsetTop : element.offsetTop;\n    const lineHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.dateTimeWrapper.scrollTop = nextElement ? height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1) : height;\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  }\n\n  setScrollTo() {\n    let element;\n    const items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n\n    if (items.length >= 0) {\n      this.scrollInvoked = true;\n      const initialTime = this.timeCollections[0];\n      const scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n      element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  }\n\n  setInputValue(type) {\n    if (type === 'date') {\n      this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n      this.setProperties({\n        value: this.getFullDateTime()\n      }, true);\n    } else {\n      const tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n      Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousElementValue = this.inputElement.value;\n      this.setProperties({\n        value: new Date(this.timeCollections[this.activeIndex])\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    this.updateIconState();\n  }\n\n  getFullDateTime() {\n    let value = null;\n\n    if (this.isDateObject(this.valueWithMinutes)) {\n      value = this.combineDateTime(this.valueWithMinutes);\n    } else {\n      value = this.previousDate;\n    }\n\n    return this.validateMinMaxRange(value);\n  }\n\n  createMask() {\n    this.notify(\"createMask\", {\n      module: \"MaskedDateTime\"\n    });\n  }\n\n  combineDateTime(value) {\n    if (this.isDateObject(value)) {\n      const day = this.previousDate.getDate();\n      const month = this.previousDate.getMonth();\n      const year = this.previousDate.getFullYear();\n      const hour = value.getHours();\n      const minutes = value.getMinutes();\n      const seconds = value.getSeconds();\n      return new Date(year, month, day, hour, minutes, seconds);\n    } else {\n      return this.previousDate;\n    }\n  }\n\n  onMouseClick(event) {\n    const target = event.target;\n    const li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n\n    if (li && li.classList.contains(LISTCLASS$2)) {\n      this.timeValue = li.getAttribute('data-value');\n      this.hide(event);\n    }\n\n    this.setSelection(li, event);\n  }\n\n  setSelection(li, event) {\n    if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n      this.selectedElement = li;\n      const index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.activeIndex = index;\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], ACTIVE$2);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.updateValue(event);\n    }\n  }\n\n  setTimeActiveClass() {\n    const collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n\n    if (!isNullOrUndefined(collections)) {\n      const items = collections.querySelectorAll('.' + LISTCLASS$2);\n\n      if (items.length) {\n        for (let i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.valueWithMinutes) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            this.setTimeActiveDescendant();\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  setTimeActiveDescendant() {\n    if (!isNullOrUndefined(this.selectedElement)) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      attributes(this.inputElement, {\n        'aria-activedescendant': 'null'\n      });\n    }\n  }\n\n  addTimeSelection() {\n    this.selectedElement = null;\n    this.removeTimeSelection();\n    this.setTimeActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], ACTIVE$2);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  }\n\n  removeTimeSelection() {\n    this.removeTimeHover(HOVER$2);\n\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      const items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n\n      if (items.length) {\n        removeClass(items, ACTIVE$2);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  }\n\n  removeTimeHover(className) {\n    const hoveredItem = this.getTimeHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n    }\n  }\n\n  getTimeHoverItem(className) {\n    const collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n    let hoveredItem;\n\n    if (!isNullOrUndefined(collections)) {\n      hoveredItem = collections.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  }\n\n  isValidLI(li) {\n    return li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4);\n  }\n\n  calculateStartEnd(value, range, method) {\n    const day = value.getDate();\n    const month = value.getMonth();\n    const year = value.getFullYear();\n    const hours = value.getHours();\n    const minutes = value.getMinutes();\n    const seconds = value.getSeconds();\n    const milliseconds = value.getMilliseconds();\n\n    if (range) {\n      if (method === 'starttime') {\n        return new Date(year, month, day, 0, 0, 0);\n      } else {\n        return new Date(year, month, day, 23, 59, 59);\n      }\n    } else {\n      return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n    }\n  }\n\n  startTime(date) {\n    let tempStartValue;\n    let start;\n    const tempMin = this.min;\n    const value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() && +value.getFullYear() === +tempMin.getFullYear() || +new Date(value.getFullYear(), value.getMonth(), value.getDate()) <= +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate())) {\n      start = false;\n      tempStartValue = this.min;\n    } else if (+value < +this.max && +value > +this.min) {\n      start = true;\n      tempStartValue = value;\n    } else if (+value >= +this.max) {\n      start = true;\n      tempStartValue = this.max;\n    }\n\n    return this.calculateStartEnd(tempStartValue, start, 'starttime');\n  }\n\n  endTime(date) {\n    let tempEndValue;\n    let end;\n    const tempMax = this.max;\n    const value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() && +value.getFullYear() === +tempMax.getFullYear() || +new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >= +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate())) {\n      end = false;\n      tempEndValue = this.max;\n    } else if (+value < +this.max && +value > +this.min) {\n      end = true;\n      tempEndValue = value;\n    } else if (+value <= +this.min) {\n      end = true;\n      tempEndValue = this.min;\n    }\n\n    return this.calculateStartEnd(tempEndValue, end, 'endtime');\n  }\n\n  hide(e) {\n    if (this.popupObj || this.dateTimeWrapper) {\n      this.preventArgs = {\n        cancel: false,\n        popup: this.popupObj || this.popupObject,\n        event: e || null\n      };\n      const eventArgs = this.preventArgs;\n\n      if (isNullOrUndefined(this.popupObj)) {\n        this.trigger('close', eventArgs, eventArgs => {\n          this.dateTimeCloseEventCallback(e, eventArgs);\n        });\n      } else {\n        this.dateTimeCloseEventCallback(e, eventArgs);\n      }\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n  }\n\n  dateTimeCloseEventCallback(e, eventArgs) {\n    this.preventArgs = eventArgs;\n\n    if (!this.preventArgs.cancel) {\n      if (this.isDatePopupOpen()) {\n        super.hide(e);\n      } else if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n        removeClass([document.body], OVERFLOW$3);\n\n        if (Browser.isDevice && this.timeModal) {\n          this.timeModal.style.display = 'none';\n          this.timeModal.outerHTML = '';\n          this.timeModal = null;\n        }\n\n        this.setTimeActiveDescendant();\n      }\n    }\n\n    if (Browser.isDevice && this.allowEdit && !this.readonly) {\n      this.inputElement.removeAttribute('readonly');\n    }\n\n    this.setAllowEdit();\n  } // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  closePopup(e) {\n    if (this.isTimePopupOpen() && this.popupObject) {\n      const animModel = {\n        name: 'FadeOut',\n        duration: ANIMATIONDURATION$1,\n        delay: 0\n      };\n      this.popupObject.hide(new Animation(animModel));\n      this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n      attributes(this.inputElement, {\n        'aria-expanded': 'false'\n      });\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n    }\n  }\n\n  preRender() {\n    this.checkFormat();\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n    super.preRender();\n    removeClass([this.inputElementCopy], [ROOT$4]);\n  }\n\n  getProperty(date, val) {\n    if (val === 'min') {\n      this.setProperties({\n        min: this.validateValue(date.min)\n      }, true);\n    } else {\n      this.setProperties({\n        max: this.validateValue(date.max)\n      }, true);\n    }\n  }\n\n  checkAttributes(isDynamic) {\n    const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n    let value;\n\n    for (const prop of attributes$$1) {\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['readonly'] === undefined || isDynamic) {\n              const readonly = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'disabled':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['enabled'] === undefined || isDynamic) {\n              const enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  }\n\n  requiredModules() {\n    const modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    if (this.enableMask) {\n      modules.push(this.maskedDateModule());\n    }\n\n    return modules;\n  }\n\n  maskedDateModule() {\n    let modules = {\n      args: [this],\n      member: 'MaskedDateTime'\n    };\n    return modules;\n  }\n\n  getTimeActiveElement() {\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n    } else {\n      return null;\n    }\n  }\n\n  createDateObj(val) {\n    return val instanceof Date ? val : null;\n  }\n\n  getDateObject(text) {\n    if (!this.isNullOrEmpty(text)) {\n      const dateValue = this.createDateObj(text);\n      const value = this.valueWithMinutes;\n      const status = !isNullOrUndefined(value);\n\n      if (this.checkDateValue(dateValue)) {\n        const date = status ? value.getDate() : DAY$1;\n        const month = status ? value.getMonth() : MONTH$3;\n        const year = status ? value.getFullYear() : YEAR$3;\n        const hour = status ? value.getHours() : HOUR;\n        const minute = status ? value.getMinutes() : MINUTE;\n        const second = status ? value.getSeconds() : SECOND;\n        const millisecond = status ? value.getMilliseconds() : MILLISECOND;\n\n        if (!this.scrollInvoked) {\n          return new Date(year, month, date, hour, minute, second, millisecond);\n        } else {\n          this.scrollInvoked = false;\n          return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n        }\n      }\n    }\n\n    return null;\n  }\n\n  findNextTimeElement(event) {\n    const textVal = this.inputElement.value;\n    const value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    let dateTimeVal = null;\n    const listCount = this.liCollections.length;\n\n    if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n      if (event.action === 'home') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[0]));\n        this.activeIndex = 0;\n      } else if (event.action === 'end') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1]));\n        this.activeIndex = this.timeCollections.length - 1;\n      } else {\n        if (event.action === 'down') {\n          for (let i = 0; i < listCount; i++) {\n            if (+value < this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        } else {\n          for (let i = listCount - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n    }\n  }\n\n  setTimeValue(date, value) {\n    let dateString;\n    let time;\n    const val = this.validateMinMaxRange(value);\n    const newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = new Date(+this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = new Date(+this.valueWithMinutes);\n    }\n\n    if (this.calendarMode === 'Gregorian') {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd'\n      });\n    } else {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd',\n        calendar: 'islamic'\n      });\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    } else {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    return time;\n  }\n\n  timeElementValue(value) {\n    if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n      const date = value instanceof Date ? value : this.getDateObject(value);\n      return this.setTimeValue(date, value);\n    }\n\n    return null;\n  }\n\n  timeKeyHandler(event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0) {\n      return;\n    }\n\n    const listCount = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          this.activeIndex = 0;\n          this.selectedElement = this.liCollections[0];\n          this.timeElementValue(new Date(this.timeCollections[0]));\n        } else {\n          this.findNextTimeElement(event);\n        }\n      }\n    } else {\n      let nextItemValue;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        let index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === listCount ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? listCount - 1 : this.activeIndex;\n        nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        this.activeIndex = 0;\n        nextItemValue = this.timeCollections[0];\n      } else if (event.action === 'end') {\n        this.activeIndex = listCount - 1;\n        nextItemValue = this.timeCollections[listCount - 1];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(new Date(nextItemValue));\n    }\n\n    this.isNavigate = true;\n    this.setTimeHover(this.selectedElement, NAVIGATION$1);\n    this.setTimeActiveDescendant();\n\n    if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setTimeScrollPosition();\n    }\n  }\n\n  timeKeyActionHandle(event) {\n    if (this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'up':\n        case 'down':\n        case 'home':\n        case 'end':\n          this.timeKeyHandler(event);\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.setInputValue('time');\n\n            if (+this.previousDateTime !== +this.value) {\n              this.changedArgs.value = this.value;\n              this.addTimeSelection();\n              this.previousDateTime = this.value;\n            }\n          } else {\n            this.updateValue(event);\n          }\n\n          this.hide(event);\n          addClass([this.inputWrapper.container], INPUTFOCUS$2);\n          this.isNavigate = false;\n          event.stopPropagation();\n          break;\n\n        case 'escape':\n          this.hide(event);\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  }\n\n  inputKeyAction(event) {\n    switch (event.action) {\n      case 'altDownArrow':\n        this.strictModeUpdate();\n        this.updateInput();\n        this.toggle(event);\n        break;\n    }\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'value':\n          this.isDynamicValueChanged = true;\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n          newProp.value = this.validateValue(newProp.value);\n          Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n          this.valueWithMinutes = newProp.value;\n          this.setProperties({\n            value: newProp.value\n          }, true);\n\n          if (this.popupObj) {\n            this.popupUpdate();\n          }\n\n          this.previousDateTime = new Date(this.inputElement.value);\n          this.updateInput();\n          this.changeTrigger(null);\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n          if (this.enableMask && this.value) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          this.updateInput();\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'cssClass':\n          if (!isNullOrUndefined(oldProp.cssClass)) {\n            oldProp.cssClass = oldProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          if (!isNullOrUndefined(newProp.cssClass)) {\n            newProp.cssClass = newProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n\n          if (this.dateTimeWrapper) {\n            Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n          }\n\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n          this.dateTimeFormat = this.cldrDateTimeFormat();\n          super.updateInput();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.dateTimeFormat = this.formatString;\n          this.setValue();\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n\n            if (!this.value) {\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(this.enabled, this.inputElement);\n\n          if (!this.enabled) {\n            this.inputElement.tabIndex = -1;\n          }\n\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.updateInput();\n          break;\n\n        case 'width':\n          this.setWidth(newProp.width);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n            if (this.dateTimeWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.maskedDateValue = '';\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        default:\n          super.onPropertyChanged(newProp, oldProp);\n          break;\n      }\n\n      if (!this.isDynamicValueChanged) {\n        this.hide(null);\n      }\n\n      this.isDynamicValueChanged = false;\n    }\n  }\n  /**\n   * To get component name.\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'datetimepicker';\n  }\n\n  restoreValue() {\n    this.previousDateTime = this.previousDate;\n    this.currentDate = this.value ? this.value : new Date();\n    this.valueWithMinutes = this.value;\n    this.previousDate = this.value;\n    this.previousElementValue = this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.getFormattedValue(this.inputValueCopy);\n  }\n\n};\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"timeFormat\", void 0);\n\n__decorate$4([Property(30)], DateTimePicker.prototype, \"step\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"scrollTo\", void 0);\n\n__decorate$4([Property(1000)], DateTimePicker.prototype, \"zIndex\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"value\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"keyConfigs\", void 0);\n\n__decorate$4([Property({})], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"enablePersistence\", void 0);\n\n__decorate$4([Property(true)], DateTimePicker.prototype, \"allowEdit\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"values\", void 0);\n\n__decorate$4([Property(true)], DateTimePicker.prototype, \"showClearButton\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"placeholder\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"strictMode\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n__decorate$4([Property(new Date(1900, 0, 1))], DateTimePicker.prototype, \"min\", void 0);\n\n__decorate$4([Property(new Date(2099, 11, 31))], DateTimePicker.prototype, \"max\", void 0);\n\n__decorate$4([Property(null)], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n\n__decorate$4([Property('Gregorian')], DateTimePicker.prototype, \"calendarMode\", void 0);\n\n__decorate$4([Property('Month')], DateTimePicker.prototype, \"start\", void 0);\n\n__decorate$4([Property('Month')], DateTimePicker.prototype, \"depth\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"weekNumber\", void 0);\n\n__decorate$4([Property(true)], DateTimePicker.prototype, \"showTodayButton\", void 0);\n\n__decorate$4([Property('Short')], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"openOnFocus\", void 0);\n\n__decorate$4([Property(false)], DateTimePicker.prototype, \"enableMask\", void 0);\n\n__decorate$4([Property({\n  day: 'day',\n  month: 'month',\n  year: 'year',\n  hour: 'hour',\n  minute: 'minute',\n  second: 'second',\n  dayOfTheWeek: 'day of the week'\n})], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"open\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"close\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"cleared\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"blur\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"focus\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"created\", void 0);\n\n__decorate$4([Event()], DateTimePicker.prototype, \"destroyed\", void 0);\n\nDateTimePicker = __decorate$4([NotifyPropertyChanges], DateTimePicker);\n/**\n * DateTimePicker modules\n */\n\nconst ARROWLEFT = 'ArrowLeft';\nconst ARROWRIGHT = 'ArrowRight';\nconst ARROWUP = 'ArrowUp';\nconst ARROWDOWN = 'ArrowDown';\nconst TAB = 'Tab';\nconst SHIFTTAB = 'shiftTab';\nconst END = 'End';\nconst HOME = 'Home';\n\nclass MaskedDateTime {\n  constructor(parent) {\n    this.mask = '';\n    this.defaultConstant = {\n      day: 'day',\n      month: 'month',\n      year: 'year',\n      hour: 'hour',\n      minute: 'minute',\n      second: 'second',\n      dayOfTheWeek: 'day of the week'\n    };\n    this.hiddenMask = '';\n    this.validCharacters = 'dMyhmHfasz';\n    this.isDayPart = false;\n    this.isMonthPart = false;\n    this.isYearPart = false;\n    this.isHourPart = false;\n    this.isMinutePart = false;\n    this.isSecondsPart = false;\n    this.isMilliSecondsPart = false;\n    this.monthCharacter = '';\n    this.periodCharacter = '';\n    this.isHiddenMask = false;\n    this.isComplete = false;\n    this.isNavigate = false;\n    this.navigated = false;\n    this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n    this.isDeletion = false;\n    this.isShortYear = false;\n    this.isDeleteKey = false;\n    this.isDateZero = false;\n    this.isMonthZero = false;\n    this.isYearZero = false;\n    this.dayTypeCount = 0;\n    this.monthTypeCount = 0;\n    this.hourTypeCount = 0;\n    this.minuteTypeCount = 0;\n    this.secondTypeCount = 0;\n    this.parent = parent;\n    this.dateformat = this.getCulturedFormat();\n    this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n    this.maskDateValue.setMonth(0);\n    this.maskDateValue.setHours(0);\n    this.maskDateValue.setMinutes(0);\n    this.maskDateValue.setSeconds(0);\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.removeEventListener();\n    this.addEventListener();\n  }\n\n  getModuleName() {\n    return 'MaskedDateTime';\n  }\n\n  addEventListener() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on('createMask', this.createMask, this);\n    this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n    this.parent.on('inputHandler', this.maskInputHandler, this);\n    this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n    this.parent.on('clearHandler', this.clearHandler, this);\n  }\n\n  removeEventListener() {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off('createMask', this.createMask);\n    this.parent.off('setMaskSelection', this.validCharacterCheck);\n    this.parent.off('inputHandler', this.maskInputHandler);\n    this.parent.off('keyDownHandler', this.maskKeydownHandler);\n    this.parent.off('clearHandler', this.clearHandler);\n  }\n\n  createMask(dateformat) {\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.dateformat = this.getCulturedFormat();\n    if (this.parent.maskPlaceholder.day) this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n    if (this.parent.maskPlaceholder.month) this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n    if (this.parent.maskPlaceholder.year) this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n    if (this.parent.maskPlaceholder.hour) this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n    if (this.parent.maskPlaceholder.minute) this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n    if (this.parent.maskPlaceholder.second) this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n    if (this.parent.maskPlaceholder.dayOfTheWeek) this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n    this.getCUltureMaskFormat();\n    let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.mask = this.previousValue = inputValue;\n    this.parent.maskedDateValue = this.mask;\n\n    if (this.parent.value) {\n      this.setDynamicValue();\n    }\n  }\n\n  getCUltureMaskFormat() {\n    this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n    this.objectString = Object.keys(this.defaultConstant);\n\n    for (let i = 0; i < this.objectString.length; i++) {\n      this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n    }\n  }\n\n  validCharacterCheck() {\n    let start = this.parent.inputElement.selectionStart;\n\n    for (let i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n      if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n        this.setSelection(this.hiddenMask[i]);\n        return;\n      }\n\n      if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n        this.setSelection(this.hiddenMask[j]);\n        return;\n      }\n    }\n  }\n\n  setDynamicValue() {\n    this.maskDateValue = new Date(+this.parent.value);\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n    this.updateValue(); // this.parent.inputElement.selectionStart = start;\n    // this.validCharacterCheck();\n  }\n\n  setSelection(validChar) {\n    let start = -1;\n    let end = 0;\n\n    for (let i = 0; i < this.hiddenMask.length; i++) {\n      if (this.hiddenMask[i] === validChar) {\n        end = i + 1;\n\n        if (start === -1) {\n          start = i;\n        }\n      }\n    }\n\n    if (start < 0) {\n      start = 0;\n    }\n\n    this.parent.inputElement.setSelectionRange(start, end);\n  }\n\n  maskKeydownHandler(args) {\n    this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n\n    if (args.e.key === 'Delete') {\n      this.isDeleteKey = true;\n      return;\n    }\n\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB || args.e.key === END || args.e.key === HOME)) {\n      let start = this.parent.inputElement.selectionStart;\n      let end = this.parent.inputElement.selectionEnd;\n      let length = this.parent.inputElement.value.length;\n\n      if (start == 0 && end == length && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n        let index = args.e.action === SHIFTTAB ? end : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n      }\n\n      if (args.e.key === END || args.e.key === HOME) {\n        let range = args.e.key === END ? length : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n      }\n\n      this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n    }\n\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n      let start = this.parent.inputElement.selectionStart;\n      this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n      let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = true;\n      this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = false;\n      this.previousHiddenMask = this.hiddenMask;\n      this.previousValue = inputValue;\n      this.parent.inputElement.value = inputValue;\n      this.parent.inputElement.selectionStart = start;\n      this.validCharacterCheck();\n    }\n  }\n\n  isPersist() {\n    let isPersist = this.parent.isFocused || this.navigated;\n    return isPersist;\n  }\n\n  differenceCheck() {\n    let start = this.parent.inputElement.selectionStart;\n    let inputValue = this.parent.inputElement.value;\n    let previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n    let newVal = inputValue.substring(0, start);\n    let newDateValue = new Date(+this.maskDateValue);\n    let maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n    if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n      for (let i = newVal.length; i < previousVal.length; i++) {\n        if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n          this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n        }\n      }\n\n      if (this.isDeletion) {\n        return;\n      }\n    }\n\n    switch (this.previousHiddenMask[start - 1]) {\n      case 'd':\n        let date = (this.isDayPart && newDateValue.getDate().toString().length < 2 && !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.isDateZero = newVal[start - 1] == '0';\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(date)) {\n          return;\n        }\n\n        for (let i = 0; date > maxDate; i++) {\n          date = parseInt(date.toString().slice(1), 10);\n        }\n\n        if (date >= 1) {\n          newDateValue.setDate(date);\n          this.isNavigate = date.toString().length === 2;\n          this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n\n          if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n            return;\n          }\n\n          this.isDayPart = true;\n          this.dayTypeCount = this.dayTypeCount + 1;\n        } else {\n          this.isDayPart = false;\n          this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n        }\n\n        break;\n\n      case 'M':\n        let month;\n\n        if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n          month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n        } else {\n          month = parseInt(newVal[start - 1], 10);\n        }\n\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n        this.isMonthZero = newVal[start - 1] == '0';\n\n        if (!isNaN(month)) {\n          while (month > 12) {\n            month = parseInt(month.toString().slice(1), 10);\n          }\n\n          if (month >= 1) {\n            newDateValue.setMonth(month - 1);\n            this.isNavigate = month.toString().length === 2;\n\n            if (newDateValue.getMonth() !== month - 1) {\n              newDateValue.setDate(1);\n              newDateValue.setMonth(month - 1);\n            }\n\n            if (this.isDayPart) {\n              let previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n              let currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n              if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                newDateValue.setDate(currentMaxDate);\n              }\n            }\n\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n            this.isMonthPart = true;\n            this.monthTypeCount = this.monthTypeCount + 1;\n          } else {\n            newDateValue.setMonth(0);\n            this.isMonthPart = false;\n            this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n          }\n        } else {\n          // let monthString: string[] = <string[]>(getValue('months[stand-alone].wide', getDefaultDateObject()));\n          let monthString = this.getCulturedValue('months[stand-alone].wide');\n          let monthValue = Object.keys(monthString);\n          this.monthCharacter += newVal[start - 1].toLowerCase();\n\n          while (this.monthCharacter.length > 0) {\n            let i = 1;\n\n            for (let months of monthValue) {\n              if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                newDateValue.setMonth(i - 1);\n                this.isMonthPart = true;\n                this.maskDateValue = newDateValue;\n                return;\n              }\n\n              i++;\n            }\n\n            this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n          }\n        }\n\n        break;\n\n      case 'y':\n        let year = (this.isYearPart && newDateValue.getFullYear().toString().length < 4 && !this.isShortYear ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.isShortYear = false;\n        this.isYearZero = newVal[start - 1] == '0';\n\n        if (isNaN(year)) {\n          return;\n        }\n\n        while (year > 9999) {\n          year = parseInt(year.toString().slice(1), 10);\n        }\n\n        if (year < 1) {\n          this.isYearPart = false;\n        } else {\n          newDateValue.setFullYear(year);\n\n          if (year.toString().length === 4) {\n            this.isNavigate = true;\n          }\n\n          this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n          this.isYearPart = true;\n        }\n\n        break;\n\n      case 'h':\n        this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(this.hour)) {\n          return;\n        }\n\n        while (this.hour > 12) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n\n        newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + this.hour % 12);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount + 1;\n        break;\n\n      case 'H':\n        this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 && !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(this.hour)) {\n          return;\n        }\n\n        for (let i = 0; this.hour > 23; i++) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n\n        newDateValue.setHours(this.hour);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount + 1;\n        break;\n\n      case 'm':\n        let minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(minutes)) {\n          return;\n        }\n\n        for (let i = 0; minutes > 59; i++) {\n          minutes = parseInt(minutes.toString().slice(1), 10);\n        }\n\n        newDateValue.setMinutes(minutes);\n        this.isNavigate = minutes.toString().length === 2;\n        this.isMinutePart = true;\n        this.minuteTypeCount = this.minuteTypeCount + 1;\n        break;\n\n      case 's':\n        let seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 && !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(seconds)) {\n          return;\n        }\n\n        for (let i = 0; seconds > 59; i++) {\n          seconds = parseInt(seconds.toString().slice(1), 10);\n        }\n\n        newDateValue.setSeconds(seconds);\n        this.isNavigate = seconds.toString().length === 2;\n        this.isSecondsPart = true;\n        this.secondTypeCount = this.secondTypeCount + 1;\n        break;\n\n      case 'a':\n        this.periodCharacter += newVal[start - 1].toLowerCase(); // let periodString: string[] = <string[]>(getValue('dayPeriods.format.wide', getDefaultDateObject()));;\n\n        let periodString = this.getCulturedValue('dayPeriods.format.wide');\n        let periodkeys = Object.keys(periodString); //periodString[periodkeys[0]] : periodString[periodkeys[1]] : periodString[periodkeys[0]];\n\n        for (let i = 0; this.periodCharacter.length > 0; i++) {\n          if (periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12 || periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12) {\n            newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n            this.maskDateValue = newDateValue;\n          }\n\n          this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length); // Object.values()\n        }\n\n        break;\n\n      default:\n        break;\n    }\n\n    this.maskDateValue = newDateValue;\n  }\n\n  formatCheck() {\n    const proxy = this;\n\n    function formatValueSpecifier(formattext) {\n      let result;\n      let daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n      let dayKeyAbbreviated = Object.keys(daysAbbreviated);\n      let daysWide = proxy.getCulturedValue('days[stand-alone].wide');\n      let dayKeyWide = Object.keys(daysWide);\n      let daysNarrow = proxy.getCulturedValue('days[stand-alone].narrow');\n      let dayKeyNarrow = Object.keys(daysNarrow);\n      let monthAbbreviated = proxy.getCulturedValue('months[stand-alone].abbreviated');\n      let monthWide = proxy.getCulturedValue('months[stand-alone].wide');\n      let periodString = proxy.getCulturedValue('dayPeriods.format.wide');\n      let periodkeys = Object.keys(periodString);\n      let milliseconds;\n      let dateOptions;\n\n      switch (formattext) {\n        case 'ddd':\n        case 'dddd':\n        case 'd':\n          result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n\n          if (proxy.dayTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n\n          break;\n\n        case 'dd':\n          result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n\n          if (proxy.dayTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n\n          break;\n\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'EEEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'EEEEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'M':\n          result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n\n          if (proxy.monthTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n\n          break;\n\n        case 'MM':\n          result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n\n          if (proxy.monthTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n\n          break;\n\n        case 'MMM':\n          result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n\n        case 'MMMM':\n          result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n\n        case 'yy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n\n          if (proxy.isYearPart) {\n            proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n          }\n\n          break;\n\n        case 'y':\n        case 'yyyy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n          break;\n\n        case 'h':\n          result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'hh':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'H':\n          result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'HH':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'm':\n          result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n\n          if (proxy.minuteTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n\n          break;\n\n        case 'mm':\n          result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n\n          if (proxy.minuteTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n\n          break;\n\n        case 's':\n          result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n\n          if (proxy.secondTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n\n          break;\n\n        case 'ss':\n          result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n\n          if (proxy.secondTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n\n          break;\n\n        case 'f':\n          result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n          break;\n\n        case 'ff':\n          milliseconds = proxy.maskDateValue.getMilliseconds();\n\n          if (proxy.maskDateValue.getMilliseconds() > 99) {\n            milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n          }\n\n          result = proxy.roundOff(milliseconds, 2);\n          break;\n\n        case 'fff':\n          result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n          break;\n\n        case 'a':\n        case 'aa':\n          result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n          break;\n\n        case 'z':\n        case 'zz':\n        case 'zzz':\n        case 'zzzz':\n          dateOptions = {\n            format: formattext,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: proxy.parent.calendarMode\n          };\n          result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n          break;\n      }\n\n      result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n\n      if (proxy.isHiddenMask) {\n        let hiddenChar = '';\n\n        for (let i = 0; i < result.length; i++) {\n          hiddenChar += formattext[0];\n        }\n\n        return hiddenChar;\n      } else {\n        return result;\n      }\n    }\n\n    return formatValueSpecifier;\n  }\n\n  maskInputHandler() {\n    let start = this.parent.inputElement.selectionStart;\n    let selectionChar = this.previousHiddenMask[start - 1];\n    let inputValue;\n    this.differenceCheck();\n    inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isDateZero = this.isMonthZero = this.isYearZero = false;\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.inputElement.value = inputValue;\n    this.parent.inputElement.selectionStart = start;\n    this.validCharacterCheck();\n\n    if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n      let isbackward = this.isNavigate ? false : true;\n      this.isNavigate = this.isDeletion = false;\n      this.navigateSelection(isbackward);\n    }\n\n    this.isDeleteKey = false; // this.setSelection(selectionChar);\n    // this.navigateSelection(inputValue);\n  }\n\n  navigateSelection(isbackward) {\n    let start = this.parent.inputElement.selectionStart;\n    let end = this.parent.inputElement.selectionEnd;\n    let formatIndex = isbackward ? start - 1 : end + 1;\n    this.navigated = true;\n\n    while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n      if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n        this.setSelection(this.hiddenMask[formatIndex]);\n        break;\n      }\n\n      formatIndex = formatIndex + (isbackward ? -1 : 1);\n    }\n  }\n\n  roundOff(val, count) {\n    let valueText = val.toString();\n    let length = count - valueText.length;\n    let result = '';\n\n    for (let i = 0; i < length; i++) {\n      result += '0';\n    }\n\n    return result + valueText;\n  }\n\n  zeroCheck(isZero, isDayPart, resultValue) {\n    let result = resultValue;\n\n    if (isZero && !isDayPart) {\n      result = '0';\n    }\n\n    return result;\n  }\n\n  handleDeletion(format, isSegment) {\n    switch (format) {\n      case 'd':\n        this.isDayPart = isSegment;\n        break;\n\n      case 'M':\n        this.isMonthPart = isSegment;\n\n        if (!isSegment) {\n          this.maskDateValue.setMonth(0);\n          this.monthCharacter = '';\n        }\n\n        break;\n\n      case 'y':\n        this.isYearPart = isSegment;\n        break;\n\n      case 'H':\n      case 'h':\n        this.isHourPart = isSegment;\n\n        if (!isSegment) {\n          this.periodCharacter = '';\n        }\n\n        break;\n\n      case 'm':\n        this.isMinutePart = isSegment;\n        break;\n\n      case 's':\n        this.isSecondsPart = isSegment;\n        break;\n\n      default:\n        return false;\n    }\n\n    return true;\n  }\n\n  dateAlteration(isDecrement) {\n    let start = this.parent.inputElement.selectionStart;\n    let formatText = '';\n\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      formatText = this.hiddenMask[start];\n    } else {\n      return;\n    }\n\n    let newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    let incrementValue = isDecrement ? -1 : 1;\n\n    switch (formatText) {\n      case 'd':\n        newDateValue.setDate(newDateValue.getDate() + incrementValue);\n        break;\n\n      case 'M':\n        let newMonth = newDateValue.getMonth() + incrementValue;\n        newDateValue.setDate(1);\n        newDateValue.setMonth(newMonth);\n\n        if (this.isDayPart) {\n          let previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n          let currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n          if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n            newDateValue.setDate(currentMaxDate);\n          } else {\n            newDateValue.setDate(this.previousDate.getDate());\n          }\n        } else {\n          newDateValue.setDate(this.previousDate.getDate());\n        }\n\n        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n        break;\n\n      case 'y':\n        newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n        break;\n\n      case 'H':\n      case 'h':\n        newDateValue.setHours(newDateValue.getHours() + incrementValue);\n        break;\n\n      case 'm':\n        newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n        break;\n\n      case 's':\n        newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n        break;\n\n      case 'a':\n        newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n        break;\n\n      default:\n        break;\n    }\n\n    this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      this.handleDeletion(this.hiddenMask[start], true);\n    }\n  }\n\n  getCulturedValue(format) {\n    let locale = this.parent.locale;\n    let result;\n\n    if (locale === 'en' || locale === 'en-US') {\n      result = getValue(format, getDefaultDateObject());\n    } else {\n      result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n    }\n\n    return result;\n  }\n\n  getCulturedFormat() {\n    let formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n    if (this.parent.moduleName == 'datepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n      if (this.parent.format && this.parent.formatString) {\n        formatString = this.parent.formatString;\n      }\n    }\n\n    if (this.parent.moduleName == 'datetimepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n      if (this.parent.dateTimeFormat) {\n        formatString = this.parent.dateTimeFormat;\n      }\n    }\n\n    if (this.parent.moduleName == 'timepicker') {\n      formatString = this.parent.cldrTimeFormat();\n    }\n\n    return formatString;\n  }\n\n  clearHandler() {\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.updateValue();\n  }\n\n  updateValue() {\n    this.monthCharacter = this.periodCharacter = '';\n    let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.updateInputValue(inputValue); //this.parent.inputElement.value = inputValue;\n  }\n\n  destroy() {\n    this.removeEventListener();\n  }\n\n}\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\n\nexport { CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Component","Event","EventHandler","HijriParser","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","Property","addClass","append","attributes","cldrData","closest","createElement","detach","extend","formatUnit","getDefaultDateObject","getUniqueID","getValue","isNullOrUndefined","isUndefined","merge","prepend","remove","removeClass","rippleEffect","select","setStyleAttribute","setValue","throwError","Popup","Input","Button","ListBase","__decorate","undefined","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","HEADER","RTL","CONTENT","YEAR","MONTH","DECADE","ICON","PREVICON","NEXTICON","PREVSPAN","NEXTSPAN","ICONCONTAINER","DISABLED","OVERLAY","WEEKEND","WEEKNUMBER","SELECTED","FOCUSEDDATE","OTHERMONTHROW","TODAY","TITLE","LINK","CELL","WEEKHEADER","ZOOMIN","FOOTER","BTN","FLAT","CSS","PRIMARY","DAYHEADERLONG","dayMilliSeconds","minutesMilliSeconds","CalendarBase","constructor","options","element","effect","isPopupClicked","isDateSelected","isTodayClicked","preventChange","isAngular","render","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","locale","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","isDevice","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","createHeader","createContent","wireEvents","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","validateDate","value","checkDateValue","checkValue","currentDate","setOverlayIndex","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","minMaxUpdate","ariaPrevAttrs","ariaNextAttrs","ariaTitleAttrs","headerElement","className","iconContainer","previousIcon","attrs","type","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","createContentHeader","createContentBody","showTodayButton","createContentFooter","getCultureValues","culShortNames","cldrObj","dayFormat","dayHeaderFormat","toLowerCase","getCultureObjects","obj","keys","push","toCapitalize","text","toUpperCase","slice","querySelectorAll","daysCount","html","tableHeadElement","weekNumber","shortNames","shiftArray","days","innerHTML","start","renderYears","renderDecades","renderMonths","updateFooter","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","role","footer","contains","todayButtonClick","id","ref","keyConfig","moduleName","navigateTitle","keyConfigs","keyboardModule","eventName","keyAction","keyActionHandle","bind","dateWireEvents","serverModuleName","e","isCustomDate","currentView","depth","getViewNumber","navigateTo","resetCalendar","tableBodyElement","renderDayCellArgs","multiSelection","focusedDate","querySelector","selectedDate","split","view","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","focus","number","date","isMonthYearRange","addDay","isMinMaxRange","preRender","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","minMaxDate","localDate","minDate","maxDate","numCells","tdEles","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","isTodayDate","cellsCount","getDate","timezone","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","disabled","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","tempValue","formatOptions","calendar","getDateVal","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","select$$1","yearCell","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","weekNumCell","numberCell","otherMonthCell","row","children","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","currentTarget","getIdValue","islamicDate","getIslamicDate","toGregorian","switchView","requiredModules","modules","args","member","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","prop","validateValues","checkView","setLocale","copyValues","skipIndex","tempValueString","minFormatOption","minStringValue","minString","maxFormatOption","maxStringValue","maxString","setValueUpdate","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","Array","prototype","call","tempElement","selectedElement","indexOf","dates","previousValue","checkPrevious","name","trigger","navigatedEvent","navigatedArgs","event","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","Calendar","isMultiSelection","tempValues","limit","copyDate","previousValues","setEnable","enabled","setClass","cssClass","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","enable","newCssClass","oldCssClass","replace","trim","isDayLightSaving","secondOffset","firstOffset","offsetValue","serverTimezoneDiff","clientTimeZoneDiff","timeZoneDiff","changedArgs","generateTodayVal","setMinutes","setMilliseconds","todayButtonEvent","changeHandler","triggerChange","previousDate","previousDateTime","isMultiSelect","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","addDate","tempDates","removeDate","setTodayDate","changeEvent","isInteracted","Number","NaN","OTHERMONTH$1","YEAR$1","MONTH$1","DECADE$1","DISABLED$1","OVERLAY$1","WEEKEND$1","WEEKNUMBER$1","SELECTED$1","FOCUSEDDATE$1","OTHERMONTHROW$1","TODAY$1","LINK$1","CELL$1","dayMilliSeconds$1","minDecade","maxDecade","Islamic","instance","calendarInstance","islamicTitleUpdate","islamicInValue","gregorianObject","islamicDayCell","hijriMonthObject","prevMonthCompare","islamicCompareMonth","nextMonthCompare","prevYearCompare","hijriCompareYear","nextYearCompare","prevDecadeCompare","hijriCompareDecade","nextDecadeCompare","rowCount","hijriStart","hijriEnd","islamicCompare","getHijriDate","__decorate$1","DATEWRAPPER","ROOT$1","LIBRARY","CONTROL","POPUPWRAPPER","INPUTWRAPPER","POPUP","INPUTCONTAINER","INPUTFOCUS","INPUTROOT","ERROR","ACTIVE","OVERFLOW","DATEICON","ICONS","OPENDURATION","OFFSETVALUE","SELECTED$2","FOCUSEDDATE$2","NONEDIT","containerAttr","DatePicker","previousElementValue","isDateIconClicked","isAltKeyPressed","invalidValueString","checkPreviousValue","maskedDateValue","isIconClicked","isDynamicValueChanged","isFocused","datepickerOptions","initialize","bindEvents","updateInput","setAllowEdit","allowEdit","readonly","inputElement","updateIconState","inputWrapper","container","checkInvalidValue","enableMask","notify","module","createInput","updateHtmlAttributeToWrapper","floatLabelType","placeholder","updateInputValue","inputValueCopy","ariaAttrs","l10n","updatedCssClassValues","isBindClearAction","bindClearAction","properties","showClearButton","buttons","setWidth","width","addAttributes","isDynamic","isCalendar","disabledDates","strictMode","minMaxUpdates","dateValue","tempFormat","formatString","dateTimeFormat","errorClass","checkStringValue","val","returnDate","formatDateTime","culture","getDatePattern","valueDate","valueString","invalid","extISOString","basicISOString","test","bindInputEvent","inputHandler","dateIconHandler","mouseUpHandler","inputFocusHandler","inputBlurHandler","keydownHandler","inputChangeHandler","clearButton","resetHandler","formElement","resetFormHandler","keyboardModules","inputKeyActionHandle","code","popupObj","unBindEvents","tagName","restoreValue","stopPropagation","bindClearEvent","clear","clearedArgs","popupUpdate","preventEventBubbling","interopAdaptor","invokeMethodAsync","blur","hide","show","htmlAttributes","updatedClassValues","setStyle","charAt","updateHtmlAttributeToElement","updateCssClass","setCssClass","calendarKeyActionHandle","selectionStart","selectionEnd","focusArguments","model","openOnFocus","strictModeUpdate","changeTrigger","document","activeElement","blurArguments","calendarKeyboardModules","firstElementChild","documentHandler","focusOut","parentElement","clickedView","defaultAction","targetdate","len","dateOptions","createCalendar","modelHeader","body","display","content","relateTo","position","X","Y","offsetY","targetType","collision","open","close","preventArgs","setAriaAttributes","targetExitViewport","setAriaDisabled","yearHeading","h2","daySpan","monthSpan","insertBefore","selectCalendar","match","prevent","outOfRange","mobilePopupWrapper","popup","cancel","appendTo","eventArgs","refreshPosition","openAnimation","closeEventCallback","outerHTML","focusIn","triggerEvent","removeAttributes","inputElementCopy","ensureInputAttribute","ngTag","insertAdjacentElement","validationAttribute","checkHtmlAttributes","altDownArrow","escape","enter","shiftTab","tab","nameAttribute","attribute","attr","checkFormat","skeletonString","dynamic","attributes$$1","valueCopy","previousValCopy","dateIdString","inputVal","isDisabledDate","setPlaceholder","setReadonly","setEnabled","setEnableRtl","setClearButton","removeFloating","addFloating","hour","minute","second","dayOfTheWeek","__decorate$2","DATERANGEWRAPPER","INPUTCONTAINER$1","DATERANGEICON","POPUP$1","LEFTCALENDER","RIGHTCALENDER","LEFTCONTAINER","RIGHTCONTAINER","ROOT$2","LIBRARY$1","CONTROL$1","ERROR$1","ACTIVE$1","STARTENDCONTAINER","STARTDATE","ENDDATE","STARTBUTTON","INPUTFOCUS$1","ENDBUTTON","RANGEHOVER","OTHERMONTH$2","STARTLABEL","ENDLABEL","DISABLED$2","SELECTED$3","CALENDAR","NEXTICON$1","PREVICON$1","HEADER$1","TITLE$1","ICONCONTAINER$1","RANGECONTAINER","RANGEHEADER","PRESETS","FOOTER$1","RANGEBORDER","TODAY$2","FOCUSDATE","CONTENT$1","DAYSPAN","WEEKNUMBER$2","DATEDISABLED","ICONDISABLED","CALENDARCONTAINER","SEPARATOR","APPLY","CANCEL","DEVICE$1","OVERLAY$2","CHANGEICON","LISTCLASS","RTL$1","HOVER","OVERFLOW$1","OFFSETVALUE$1","PRIMARY$1","FLAT$1","CSS$1","ZOOMIN$1","NONEDITABLE","DAYHEADERLONG$1","HIDDENELEMENT","wrapperAttr","Presets","DateRangePicker","isCustomRange","isCustomWindow","presetsItem","liCollections","previousEleValue","isKeyPopup","dateDisabled","isRangeIconClicked","isMaxDaysClicked","disabledDays","preventBlur","preventFocus","dateRangeOptions","startValue","endValue","setModelValue","setDataAttribute","keyInputConfigs","defaultConstant","startLabel","endLabel","customRange","applyText","cancelText","selectedDays","isMobile","window","matchMedia","matches","angularTag","cloneElement","checkInvalidRange","rangeArray","separator","initProperty","navNextFunction","navNextMonth","navPrevFunction","navPrevMonth","deviceNavNextFunction","deviceNavNext","deviceNavPrevFunction","deviceNavPrevious","initStartDate","initEndDate","updateValue","processPresets","setRangeAllowEdit","pro","firstHiddenChild","secondHiddenChild","updateClearIconState","input","updatedClassValue","dateRangeStyle","cssNewClass","cssOldClass","presets","label","range","activeIndex","rangeIconHandler","inputKeyboardModule","updateHiddenInput","dispatchEvent","valueType","clearRange","previousStartValue","previousEndValue","startCopy","endCopy","applyButton","removeSelection","targetElement","isPopupOpen","applyFunction","leftCalendar","calendarFocus","minDays","maxDays","createPopup","adjustLongHeaderWidth","isPreset","createPresets","listRippleEffect","renderPopup","renderControl","createControl","bindCalendarEvents","updateRange","rightCalendar","disabledDateRender","updateHeader","clearCalendarEvents","clearEvents","leftCalPrevIcon","leftCalNextIcon","rightCalPrevIcon","rightCalNextIcon","updateNavIcons","calendarIconEvent","calendarIconRipple","leftKeyboardModule","keyInputHandler","rightKeyboardModule","deviceCalendarEvent","startButton","deviceHeaderClick","endButton","bindCalendarCellEvents","removeFocusedDate","updateDeviceCalendar","deviceNavigation","deviceCalendar","getElementsByTagName","removeClassDisabled","updateMinMaxDays","selectableDates","prevStartVal","prevEndVal","refreshControl","inputStr","isDateDisabled","keyCalendarUpdate","isLeftCalendar","ele","isRemoveFocus","leftCalCurrentDate","rightCalCurrentDate","updateCalendarElement","navInCalendar","leftLimit","rightLimit","keyNavigation","tabKeyValidation","focusedCell","firstCellToFocus","focusAbleEle","focusEleID","currentFirstDay","focusDate","rightDateLimit","leftDateLimit","presetElement","selectRange","yearDate","cancelButton","calendarNavigation","checkMinMaxDays","presetHeight","calendarPos","rightHeader","leftHeader","isRightMonth","isLeftMonth","tdCells","cell","disabledCell","hoverSelection","isDate","eleDate","isSameMonth","isSameYear","currentElement","isDisabledCell","startDateValue","eleDateValue","isSameStartEnd","startVal","endVal","isSame","elementCollection","addSelectedAttributes","endDateValue","rangeArgs","inputValue","round","removeTimeValueFromDate","otherMonthSelect","isStartDate","sameDate","tdCell","y","m","firstMonth","lastMonth","endEle","removeSelectedAttributes","startMonth","startValueSelected","maxEle","disabledDayCnt","updateControl","customDate","createRangeHeader","labelContainer","changeIcon","endBtn","startBtn","disableInput","validateMinMax","validateRangeStrict","validateMinMaxDays","validateRange","renderCalendar","isSameDecade","endYear","startMonthCurrentDate","selectNextMonth","selectNextYear","selectNextDecade","decyr","selectStartMonth","calendarContainer","leftTitle","leftContainer","rightContainer","leftNavTitle","rightTitle","rightNavTitle","prevIcon","getCalendarView","controlContainer","headerContainer","footerSection","cancelBtn","applyBtn","cancelFunction","height","getBoundingClientRect","deviceHeaderUpdate","isValueChanged","closeEventArgs","popupKeyboardModule","popupKeyActionHandle","onMouseClick","item","li","isClick","setListSelection","onMouseOver","onMouseLeave","renderCustomPopup","removeListSelection","applyPresetRange","modelValue","showPopup","openEventArgs","listTag","createList","customElement","wireListEvents","unWireListEvents","popupWidth","offsetX","btnKeyboardModule","presetKeyboardModule","presetKeyActionHandler","popupKeyBoardHandler","popupCloseHandler","keyCode","rangeContainer","listMoveDown","setScrollPosition","listMoveUp","hvrItem","getHoverLI","actItem","getActiveLI","nextElementSibling","previousElementSibling","listHeight","hover","active","nextEle","offsetTop","liHeight","scrollTop","updatedCssClassValue","setEleWidth","formatOption","startinvalue","endinvalue","startString","endString","startObject","endObject","invalidobject","getstringvalue","toLocaleDateString","stringValue","formatOpt","extISOStr","basISOString","virtualRenderCellArgs","virtualRenderCellEvent","isStartDisabled","isEndDisabled","createHiddenInput","evt","createEvent","initEvent","navigate","isBlur","getSelectedRange","mobileRangePopupWrap","refreshChange","enableInput","clearModelvalue","setMinMaxDays","openPopup","__decorate$3","WRAPPERCLASS","POPUP$2","ERROR$2","POPUPDIMENSION","DAY","MONTH$2","YEAR$2","ROOT$3","LIBRARY$2","CONTROL$2","CONTENT$2","SELECTED$4","HOVER$1","NAVIGATION","DISABLED$3","ICONANIMATION","FOCUS","LISTCLASS$1","HALFPOSITION","ANIMATIONDURATION","OVERFLOW$2","OFFSETVAL","EDITABLE","wrapperAttributes","TimePickerBase","createListItems","createdEl","timeFormat","step","interval","listItems","timeCollections","list","TimeMaskPlaceholder","TimePicker","disableItemCollection","timeOptions","keyConfigure","down","up","left","right","openPopupEventArgs","createInputElement","setTimeAllowEdit","validateInterval","validateDisable","getFormattedValue","checkErrorState","anchor","inputEleValue","getDateObject","clearIconState","setMinMax","initMin","initMax","popupCreation","valueIsDisable","resetState","initValue","defaultCulture","checkTimeFormat","checkInValue","scrollTo","checkAttributes","localeText","isNavigate","isPreventBlur","isTextSelected","valueWithMinutes","prevDate","updatedCssClassesValue","isNullOrEmpty","inputStyle","getCldrDateTimeFormat","cldrTime","dateFormat","cldrFormat","isInvalid","valueExpression","valueExp","setCurrentDate","cldrDateTimeString","getCultureTimeObject","ariaAttribute","enableElement","rippleFn","propertyList","generateList","listWrapper","addSelection","getPopupHeight","popupHeight","rippleModel","containerStyle","setPopupWidth","visibility","maxHeight","createDateObj","updatedClassesValue","timeStyle","cssClassNew","cssClassOld","removeErrorClass","validateState","disableTimeIcon","disableElement","selectInputText","setSelectionRange","setCursorToEnd","getMeridianText","meridian","getCursorSelection","getActiveElement","inputWidth","parseFloat","findScrollTop","setScrollTo","items","initialTime","scrollTime","getText","cldrTimeFormat","cldrDateFormat","cldrDate","getCultureDateObject","dateToNumeric","getExactDateTime","compareFormatChange","updatePlaceHolder","popupHandler","closePopup","mouseDownHandler","curPos","cursorDetails","focusSelection","regex","RegExp","isSeparator","keyHandler","objToString","createMask","previousState","setSelection","delay","animModel","documentClickHandler","mobileTimePopupWrap","disposeServerPopup","top","checkValueChange","isNavigation","prevValue","valueProcess","currentLi","setHover","isValidLI","removeHover","scrollHandler","minVal","maxVal","dateVal","strictOperation","maxValue","minValue","inputEventHandler","clearHandler","inputEvent","timeValue","raiseClearedEvent","setZIndex","dataBind","getTextFormat","strArray","validateValue","newval","findNextElement","textVal","timeVal","collections","validLiElement","elementValue","selectNextItem","backward","elementIndex","isCheck","nextItem","isUpdate","hoveredItem","getHoverItem","setActiveClass","formatStr","timeParse","listBaseOptions","itemCreated","isIE","info","getProperty","popupAlignment","timePopupElement","formatValues","__decorate$4","DATEWRAPPER$1","DATEPICKERROOT","DATETIMEWRAPPER","DAY$1","MONTH$3","YEAR$3","HOUR","MINUTE","SECOND","MILLISECOND","ROOT$4","DATETIMEPOPUPWRAPPER","INPUTWRAPPER$1","POPUP$3","TIMEICON$1","INPUTFOCUS$2","POPUPDIMENSION$1","ICONANIMATION$1","DISABLED$4","ERROR$3","CONTENT$3","NAVIGATION$1","ACTIVE$2","HOVER$2","ICONS$1","HALFPOSITION$1","LISTCLASS$2","ANIMATIONDURATION$1","OVERFLOW$3","DateTimePicker","scrollInvoked","dateTimeOptions","focusHandler","blurHandler","isTimePopupOpen","popupObject","dateTimeWrapper","keyboardHandler","unBindInputEvents","timekeyConfigure","cldrDateTimeFormat","bindInputEvents","validateMinMaxRange","isDateObject","disablePopupButton","checkValidState","isValidState","isDisable","timeIcon","renderTimeIcon","appendSpan","timeHandler","dateHandler","inputKeyAction","getCldrFormat","cldrDateTime","isDatePopupOpen","toggle","listCreation","dateObject","startTime","endTime","listDetails","wireTimeListEvents","addTimeSelection","setTimeScrollPosition","timeModal","offset","timeKeyActionHandle","unWireTimeListEvents","setDimension","setTimeHover","removeTimeHover","setInputValue","nextElement","lineHeight","getFullDateTime","tempVal","combineDateTime","minutes","seconds","setTimeActiveClass","setTimeActiveDescendant","removeTimeSelection","getTimeHoverItem","calculateStartEnd","method","hours","milliseconds","tempStartValue","tempMin","tempEndValue","tempMax","getUTCFullYear","dateTimeCloseEventCallback","maskedDateModule","getTimeActiveElement","status","millisecond","findNextTimeElement","dateTimeVal","listCount","timeElementValue","setTimeValue","timeKeyHandler","nextItemValue","ARROWLEFT","ARROWRIGHT","ARROWUP","ARROWDOWN","TAB","SHIFTTAB","END","HOME","MaskedDateTime","parent","mask","hiddenMask","validCharacters","isDayPart","isMonthPart","isYearPart","isHourPart","isMinutePart","isSecondsPart","isMilliSecondsPart","monthCharacter","periodCharacter","isHiddenMask","isComplete","navigated","formatRegex","isDeletion","isShortYear","isDeleteKey","isDateZero","isMonthZero","isYearZero","dayTypeCount","monthTypeCount","hourTypeCount","minuteTypeCount","secondTypeCount","dateformat","getCulturedFormat","maskDateValue","removeEventListener","addEventListener","isDestroyed","on","validCharacterCheck","maskInputHandler","maskKeydownHandler","off","maskPlaceholder","getCUltureMaskFormat","formatCheck","previousHiddenMask","setDynamicValue","objectString","j","validChar","altKey","ctrlKey","navigateSelection","dateAlteration","isPersist","differenceCheck","previousVal","substring","newVal","newDateValue","handleDeletion","previousMaxDate","currentMaxDate","monthString","getCulturedValue","monthValue","months","floor","periodString","periodkeys","proxy","formatValueSpecifier","formattext","daysAbbreviated","dayKeyAbbreviated","daysWide","dayKeyWide","daysNarrow","dayKeyNarrow","monthAbbreviated","monthWide","zeroCheck","roundOff","hiddenChar","selectionChar","isbackward","formatIndex","valueText","isZero","resultValue","isSegment","isDecrement","formatText","incrementValue","newMonth"],"sources":["D:/StageCap2022/e-learningProject__frontend/frontend/node_modules/@syncfusion/ej2-calendars/dist/es6/ej2-calendars.es2015.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n//class constant defination.\nconst OTHERMONTH = 'e-other-month';\nconst OTHERDECADE = 'e-other-year';\nconst ROOT = 'e-calendar';\nconst DEVICE = 'e-device';\nconst HEADER = 'e-header';\nconst RTL = 'e-rtl';\nconst CONTENT = 'e-content';\nconst YEAR = 'e-year';\nconst MONTH = 'e-month';\nconst DECADE = 'e-decade';\nconst ICON = 'e-icons';\nconst PREVICON = 'e-prev';\nconst NEXTICON = 'e-next';\nconst PREVSPAN = 'e-date-icon-prev';\nconst NEXTSPAN = 'e-date-icon-next ';\nconst ICONCONTAINER = 'e-icon-container';\nconst DISABLED = 'e-disabled';\nconst OVERLAY = 'e-overlay';\nconst WEEKEND = 'e-weekend';\nconst WEEKNUMBER = 'e-week-number';\nconst SELECTED = 'e-selected';\nconst FOCUSEDDATE = 'e-focused-date';\nconst OTHERMONTHROW = 'e-month-hide';\nconst TODAY = 'e-today';\nconst TITLE = 'e-title';\nconst LINK = 'e-day';\nconst CELL = 'e-cell';\nconst WEEKHEADER = 'e-week-header';\nconst ZOOMIN = 'e-zoomin';\nconst FOOTER = 'e-footer-container';\nconst BTN = 'e-btn';\nconst FLAT = 'e-flat';\nconst CSS = 'e-css';\nconst PRIMARY = 'e-primary';\nconst DAYHEADERLONG = 'e-calendar-day-header-lg';\nconst dayMilliSeconds = 86400000;\nconst minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nlet CalendarBase = class CalendarBase extends Component {\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.effect = '';\n        this.isPopupClicked = false;\n        this.isDateSelected = true;\n        this.isTodayClicked = false;\n        this.preventChange = false;\n        this.isAngular = false;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'role': 'calendar'\n            });\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    }\n    rangeValidation(min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    }\n    getDefaultKeyConfig() {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    }\n    validateDate(value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    }\n    setOverlayIndex(popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            const index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    }\n    minMaxUpdate(value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    }\n    createHeader() {\n        const ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        const ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        const ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        const iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        if (this.getModuleName() === 'daterangepicker') {\n            attributes(this.previousIcon, { tabIndex: '-1' });\n            attributes(this.nextIcon, { tabIndex: '-1' });\n        }\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    }\n    createContent() {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '' } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    }\n    getCultureValues() {\n        const culShortNames = [];\n        let cldrObj;\n        const dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        for (const obj of Object.keys(cldrObj)) {\n            culShortNames.push(getValue(obj, cldrObj));\n        }\n        return culShortNames;\n    }\n    toCapitalize(text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    }\n    createContentHeader() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        const daysCount = 6;\n        let html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        const shortNames = this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek);\n        for (let days = 0; days <= daysCount; days++) {\n            html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    }\n    createContentBody() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    }\n    updateFooter() {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    }\n    createContentFooter() {\n        if (this.showTodayButton) {\n            const minimum = new Date(+this.min);\n            const maximum = new Date(+this.max);\n            const l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    }\n    wireEvents(id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    }\n    dateWireEvents(id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    }\n    todayButtonClick(e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    }\n    resetCalendar() {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n    }\n    keyActionHandle(e, value, multiSelection) {\n        const focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        let selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        let view = this.getViewNumber(this.currentView());\n        const depthValue = this.getViewNumber(this.depth);\n        const levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                this.keyboardNavigate(-1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveRight':\n                this.keyboardNavigate(1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                e.preventDefault();\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    this.keyboardNavigate(7, view, e, this.max, this.min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                e.preventDefault();\n                break;\n            case 'select':\n                if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                }\n                else {\n                    const element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            const d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    keyboardNavigate(number, currentView, e, max, min) {\n        const date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    preRender(value) {\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = (e) => {\n            this.triggerNavigate(e);\n        };\n    }\n    minMaxDate(localDate) {\n        const currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        const minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        const maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    }\n    renderMonths(e, value, isCustomDate) {\n        const numCells = this.weekNumber ? 8 : 7;\n        let tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    }\n    renderDays(currentDate, value, multiSelection, values, isTodayDate) {\n        const tdEles = [];\n        const cellsCount = 42;\n        const todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        let localDate = new Date(this.checkValue(currentDate));\n        let minMaxDate;\n        const currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        const d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (let day = 0; day < cellsCount; ++day) {\n            const weekEle = this.createElement('td', { className: CELL });\n            const weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                const numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                const finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            const dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            const date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            const tdEle = this.dayCell(localDate);\n            const title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            const dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            const disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            const argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                const selectDate = new Date(this.checkValue(value));\n                const argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (let index = 0; index < values.length; index++) {\n                            const localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            const tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            const otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            const disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (let tempValue = 0; tempValue < values.length; tempValue++) {\n                    const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    const formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    const localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    const tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    }\n    updateFocus(otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    }\n    renderYears(e, value) {\n        this.removeTableHeadElement();\n        const numCells = 4;\n        const tdEles = [];\n        const valueUtil = isNullOrUndefined(value);\n        const curDate = new Date(this.checkValue(this.currentDate));\n        const mon = curDate.getMonth();\n        const yr = curDate.getFullYear();\n        const localDate = curDate;\n        const curYrs = localDate.getFullYear();\n        const minYr = new Date(this.checkValue(this.min)).getFullYear();\n        const minMonth = new Date(this.checkValue(this.min)).getMonth();\n        const maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        const maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (let month = 0; month < 12; ++month) {\n            const tdEle = this.dayCell(localDate);\n            const dayLink = this.createElement('span');\n            const localMonth = (value && (value).getMonth() === localDate.getMonth());\n            const select$$1 = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    }\n    renderDecades(e, value) {\n        this.removeTableHeadElement();\n        const numCells = 4;\n        const yearCell = 12;\n        const tdEles = [];\n        const localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        const localYr = localDate.getFullYear();\n        const startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        const endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        const startFullYr = startYr.getFullYear();\n        const endFullYr = endYr.getFullYear();\n        const startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        const endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        const start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        const startYear = start.getFullYear();\n        for (let rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            const year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            const tdEle = this.dayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            const dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    }\n    dayCell(localDate) {\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        const dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        const date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        const value = date.valueOf();\n        const attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.createElement('td', attrs);\n    }\n    firstDay(date) {\n        const collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (let i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    }\n    lastDay(date, view) {\n        const lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            const timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    }\n    checkDateValue(value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    }\n    findLastDay(date) {\n        const collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (let i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    }\n    removeTableHeadElement() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    renderTemplate(elements, count, classNm, e, value) {\n        const view = this.getViewNumber(this.currentView());\n        let trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        const weekNumCell = 41;\n        const numberCell = 35;\n        const otherMonthCell = 6;\n        let row = count;\n        let rowIterator = 0;\n        for (let dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    }\n    clickHandler(e, value) {\n        this.clickEventEmitter(e);\n        const eve = e.currentTarget;\n        const view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    // Content click event handler required for extended components\n    clickEventEmitter(e) {\n        e.preventDefault();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    contentClick(e, view, element, value) {\n        const currentView = this.getViewNumber(this.currentView());\n        const d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        const islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    }\n    switchView(view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n                    this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n                }\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'calendar';\n    }\n    /**\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    requiredModules() {\n        const modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        const keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    }\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    validateValues(multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            const copyValues = this.copyValues(values);\n            for (let skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                const tempValue = copyValues[skipIndex];\n                const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                let tempValueString;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                const minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                const minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                const minString = minStringValue;\n                const maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                const maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                const maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    }\n    setValueUpdate() {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    }\n    copyValues(values) {\n        const copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (let index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    }\n    titleUpdate(date, view) {\n        const globalize = new Internationalization(this.locale);\n        let dayFormatOptions;\n        let monthFormatOptions;\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    }\n    setActiveDescendant() {\n        let id;\n        const focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        const selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        let title;\n        const view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    }\n    iconHandler() {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        super.destroy();\n    }\n    title(e) {\n        let currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    }\n    getViewNumber(stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    }\n    navigateTitle(e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    previous() {\n        this.effect = '';\n        const currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    }\n    navigatePrevious(e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    next() {\n        this.effect = '';\n        const currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    }\n    navigateNext(eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    navigateTo(view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    currentView() {\n        if (this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    getDateVal(date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getCultureObjects(ld, c) {\n        const gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        const islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        const mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    }\n    getWeek(d) {\n        const currentDate = new Date(this.checkValue(d)).valueOf();\n        const date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    }\n    setStartDate(date, time) {\n        const tzOffset = date.getTimezoneOffset();\n        const d = new Date(date.getTime() + time);\n        const tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    }\n    addMonths(date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            const day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            const islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    }\n    addYears(date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            const day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            const islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    }\n    getIdValue(e, element) {\n        let eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        const dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        const dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        const date = this.globalize.parseDate(dateString, dateFormatOptions);\n        const value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    }\n    adjustLongHeaderSize() {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    }\n    selectDate(e, date, node, multiSelection, values) {\n        const element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                const copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        let tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            const copyValues = this.copyValues(values);\n            const collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (let index = 0; index < collection.length; index++) {\n                const tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                const selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (let i = 0; i < copyValues.length; i++) {\n                    const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    const formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    const localDateString = this.globalize.formatDate(date, formatOptions);\n                    const tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        const index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    }\n    checkPresentDate(dates, values) {\n        let previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (let checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                const type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                const localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                const tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    }\n    setAriaActiveDescendant() {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    }\n    previousIconHandler(disabled) {\n        if (disabled) {\n            EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n            addClass([this.previousIcon], '' + DISABLED);\n            addClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    }\n    renderDayCellEvent(args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    }\n    navigatedEvent(eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    }\n    triggerNavigate(event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    }\n    nextIconHandler(disabled) {\n        if (disabled) {\n            EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n            addClass([this.nextIcon], DISABLED);\n            addClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    }\n    compare(startDate, endDate, modifier) {\n        let start = endDate.getFullYear();\n        let end;\n        let result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    }\n    isMinMaxRange(date) {\n        return +date >= +this.min && +date <= +this.max;\n    }\n    isMonthYearRange(date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            const islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    }\n    compareYear(start, end) {\n        return this.compare(start, end, 0);\n    }\n    compareDecade(start, end) {\n        return this.compare(start, end, 10);\n    }\n    shiftArray(array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    }\n    addDay(date, i, e, max, min) {\n        let column = i;\n        const value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            const rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    }\n    findNextTD(date, column, max, min) {\n        const value = new Date(date.setDate(date.getDate() + column));\n        let collection = [];\n        let isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            let tdEles;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter((element) => {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (let i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    }\n    getMaxDays(d) {\n        let date;\n        const tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        const month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    }\n    setDateDecade(date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    }\n    setDateYear(date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    }\n    compareMonth(start, end) {\n        let result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    }\n    checkValue(inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    }\n    checkView() {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    }\n    getDate(date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    }\n};\n__decorate([\n    Property(new Date(1900, 0, 1))\n], CalendarBase.prototype, \"min\", void 0);\n__decorate([\n    Property(true)\n], CalendarBase.prototype, \"enabled\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"cssClass\", void 0);\n__decorate([\n    Property(new Date(2099, 11, 31))\n], CalendarBase.prototype, \"max\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n__decorate([\n    Property('Gregorian')\n], CalendarBase.prototype, \"calendarMode\", void 0);\n__decorate([\n    Property('Month')\n], CalendarBase.prototype, \"start\", void 0);\n__decorate([\n    Property('Month')\n], CalendarBase.prototype, \"depth\", void 0);\n__decorate([\n    Property(false)\n], CalendarBase.prototype, \"weekNumber\", void 0);\n__decorate([\n    Property('FirstDay')\n], CalendarBase.prototype, \"weekRule\", void 0);\n__decorate([\n    Property(true)\n], CalendarBase.prototype, \"showTodayButton\", void 0);\n__decorate([\n    Property('Short')\n], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n__decorate([\n    Property(false)\n], CalendarBase.prototype, \"enablePersistence\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"keyConfigs\", void 0);\n__decorate([\n    Property(null)\n], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"created\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"destroyed\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"navigated\", void 0);\n__decorate([\n    Event()\n], CalendarBase.prototype, \"renderDayCell\", void 0);\nCalendarBase = __decorate([\n    NotifyPropertyChanges\n], CalendarBase);\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nlet Calendar = class Calendar extends CalendarBase {\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            const tempValues = [];\n            const copyValues = [];\n            for (let limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (let index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        const copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        super.render();\n        if (this.getModuleName() === 'calendar') {\n            const form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    }\n    setEnable(enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    }\n    setClass(newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    }\n    isDayLightSaving() {\n        const secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        const firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    }\n    setTimeZone(offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            const serverTimezoneDiff = offsetValue;\n            const clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            let timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    }\n    formResetHandler() {\n        this.setProperties({ value: null }, true);\n    }\n    validateDate() {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        super.validateDate(this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    }\n    minMaxUpdate() {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                super.minMaxUpdate(this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    super.minMaxUpdate(this.max);\n                }\n            }\n        }\n        else {\n            super.minMaxUpdate(this.value);\n        }\n    }\n    generateTodayVal(value) {\n        let tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = super.getDate(tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    }\n    todayButtonClick(e) {\n        if (this.showTodayButton) {\n            const tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                const copyValues = this.copyValues(this.values);\n                if (!super.checkPresentDate(tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            super.todayButtonClick(e, new Date(+this.value));\n        }\n    }\n    keyActionHandle(e) {\n        super.keyActionHandle(e, this.value, this.isMultiSelection);\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.changeHandler = (e) => {\n            this.triggerChange(e);\n        };\n        this.checkView();\n        super.preRender(this.value);\n    }\n    /**\n     * @returns {void}\n     * @deprecated\n     */\n    createContent() {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        super.createContent();\n    }\n    minMaxDate(localDate) {\n        return super.minMaxDate(localDate);\n    }\n    renderMonths(e, value, isCustomDate) {\n        super.renderMonths(e, this.value, isCustomDate);\n    }\n    renderDays(currentDate, value, isMultiSelect, values, isCustomDate) {\n        const tempDays = super.renderDays(currentDate, this.value, this.isMultiSelection, this.values, isCustomDate);\n        if (this.isMultiSelection) {\n            super.validateValues(this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    }\n    renderYears(e) {\n        if (this.calendarMode === 'Gregorian') {\n            super.renderYears(e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    }\n    renderDecades(e) {\n        if (this.calendarMode === 'Gregorian') {\n            super.renderDecades(e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    }\n    renderTemplate(elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            super.renderTemplate(elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    }\n    clickHandler(e) {\n        const eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                const copyValues = this.copyValues(this.values);\n                copyValues.push(this.getIdValue(e, null));\n                this.setProperties({ values: copyValues }, true);\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        const storeView = this.currentView();\n        super.clickHandler(e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    }\n    switchView(view, e, isMultiSelection, isCustomDate) {\n        super.switchView(view, e, this.isMultiSelection, isCustomDate);\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    getModuleName() {\n        super.getModuleName();\n        return 'calendar';\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        super.getPersistData();\n        const keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            const copyValues = this.copyValues(this.values);\n                            for (let index = 0; index < copyValues.length; index++) {\n                                const tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !super.checkPresentDate(tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    super.onPropertyChanged(newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    }\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        super.destroy();\n        if (this.getModuleName() === 'calendar') {\n            const form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     * @deprecated\n     */\n    navigateTo(view, date, isCustomDate) {\n        this.minMaxUpdate();\n        super.navigateTo(view, date, isCustomDate);\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    currentView() {\n        return super.currentView();\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    addDate(dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            let copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                const tempDates = dates;\n                for (let i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !super.checkPresentDate(tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !super.checkPresentDate(dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    }\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    removeDate(dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            const copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                const tempDates = dates;\n                for (let index = 0; index < tempDates.length; index++) {\n                    for (let i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (let i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    }\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    setTodayDate(date) {\n        const todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        super.todayButtonClick(null, todayDate, true);\n    }\n    update() {\n        this.validateDate();\n        this.minMaxUpdate();\n        super.setValueUpdate();\n    }\n    selectDate(e, date, element) {\n        super.selectDate(e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    changeEvent(e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    }\n    triggerChange(e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (+this.value !== +this.previousDate || this.previousDate == null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    }\n};\n__decorate([\n    Property(null)\n], Calendar.prototype, \"value\", void 0);\n__decorate([\n    Property(null)\n], Calendar.prototype, \"values\", void 0);\n__decorate([\n    Property(false)\n], Calendar.prototype, \"isMultiSelection\", void 0);\n__decorate([\n    Event()\n], Calendar.prototype, \"change\", void 0);\nCalendar = __decorate([\n    NotifyPropertyChanges\n], Calendar);\n\n/**\n *\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\nconst OTHERMONTH$1 = 'e-other-month';\nconst YEAR$1 = 'e-year';\nconst MONTH$1 = 'e-month';\nconst DECADE$1 = 'e-decade';\nconst DISABLED$1 = 'e-disabled';\nconst OVERLAY$1 = 'e-overlay';\nconst WEEKEND$1 = 'e-weekend';\nconst WEEKNUMBER$1 = 'e-week-number';\nconst SELECTED$1 = 'e-selected';\nconst FOCUSEDDATE$1 = 'e-focused-date';\nconst OTHERMONTHROW$1 = 'e-month-hide';\nconst TODAY$1 = 'e-today';\nconst LINK$1 = 'e-day';\nconst CELL$1 = 'e-cell';\nconst dayMilliSeconds$1 = 86400000;\nconst minDecade = 2060;\nconst maxDecade = 2069;\nclass Islamic {\n    constructor(instance) {\n        this.calendarInstance = instance;\n    }\n    getModuleName() {\n        return 'islamic';\n    }\n    islamicTitleUpdate(date, view) {\n        const globalize = new Internationalization(this.calendarInstance.locale);\n        switch (view) {\n            case 'days':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'MMMMyyyy', calendar: 'islamic' });\n                break;\n            case 'months':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'yyyy', calendar: 'islamic' });\n        }\n    }\n    islamicRenderDays(currentDate, value, multiSelection, values) {\n        const tdEles = [];\n        const cellsCount = 42;\n        let localDate = new Date(this.islamicInValue(currentDate));\n        let minMaxDate;\n        this.islamicTitleUpdate(currentDate, 'days');\n        const islamicDate = this.getIslamicDate(localDate);\n        const gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n        const currentMonth = islamicDate.month;\n        localDate = gregorianObject;\n        while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n            this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n        }\n        for (let day = 0; day < cellsCount; ++day) {\n            const weekEle = this.calendarInstance.createElement('td', { className: CELL$1 });\n            const weekAnchor = this.calendarInstance.createElement('span');\n            if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n                weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER$1);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.calendarInstance.minMaxDate(localDate);\n            const dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: 'islamic' };\n            const date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            const tdEle = this.islamicDayCell(localDate);\n            const title = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'full', calendar: 'islamic' });\n            const dayLink = this.calendarInstance.createElement('span');\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'd', calendar: 'islamic' });\n            const disabled = (this.calendarInstance.min > localDate) || (this.calendarInstance.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            const hijriMonthObject = this.getIslamicDate(localDate);\n            if (currentMonth !== hijriMonthObject.month) {\n                addClass([tdEle], OTHERMONTH$1);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND$1);\n            }\n            tdEle.appendChild(dayLink);\n            this.calendarInstance.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            const argument = this.calendarInstance.renderDayCellArgs;\n            this.calendarInstance.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                if (this.calendarInstance.isMultiSelection) {\n                    if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n                        for (let index = 0; index < values.length; index++) {\n                            const localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            const tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            if (localDateString === tempDateString) {\n                                this.calendarInstance.values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (value && +value === +argument.date) {\n                    this.calendarInstance.setProperties({ value: null }, true);\n                }\n            }\n            if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n                if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n                    this.calendarInstance.todayDisabled = true;\n                }\n            }\n            const otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n            const disabledCls = tdEle.classList.contains(DISABLED$1);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) &&\n                !otherMnthBool && !disabledCls) {\n                for (let tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n                    const localDateString = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    const tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    if (localDateString === tempDateString &&\n                        this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n                        addClass([tdEle], SELECTED$1);\n                    }\n                    else {\n                        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (this.calendarInstance.values.length <= 0) {\n                    this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n            if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n                if (date.getFullYear() === new Date().getFullYear()) {\n                    addClass([tdEle], TODAY$1);\n                }\n            }\n            localDate = new Date(+minMaxDate);\n            tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n            this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n        }\n        return tdEles;\n    }\n    islamicIconHandler() {\n        new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n        const date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                {\n                    const prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n                    const nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevMonthCompare);\n                    this.calendarInstance.nextIconHandler(nextMonthCompare);\n                }\n                break;\n            case 'Year':\n                {\n                    const prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n                    const nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevYearCompare);\n                    this.calendarInstance.nextIconHandler(nextYearCompare);\n                }\n                break;\n            case 'Decade': {\n                const prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n                const nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n                this.calendarInstance.previousIconHandler(prevDecadeCompare);\n                this.calendarInstance.nextIconHandler(nextDecadeCompare);\n            }\n        }\n    }\n    islamicNext() {\n        this.calendarInstance.effect = '';\n        const view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        const islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Decade':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n        }\n    }\n    islamicPrevious() {\n        const currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        this.calendarInstance.effect = '';\n        const islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Decade':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n        }\n    }\n    islamicRenderYears(e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        const numCells = 4;\n        const tdEles = [];\n        const valueUtil = isNullOrUndefined(value);\n        const curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        let localDate = curDate;\n        const islamicDate = this.getIslamicDate(localDate);\n        const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        const mon = islamicDate.month;\n        const yr = islamicDate.year;\n        const curYrs = islamicDate.year;\n        const minYr = (this.getIslamicDate(this.calendarInstance.min)).year;\n        const minMonth = (this.getIslamicDate(this.calendarInstance.min)).month;\n        const maxYr = (this.getIslamicDate(this.calendarInstance.max)).year;\n        const maxMonth = (this.getIslamicDate(this.calendarInstance.max)).month;\n        this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n        for (let month = 1; month <= 12; ++month) {\n            const islamicDate = this.getIslamicDate(localDate);\n            const gregorianObject = HijriParser.toGregorian(islamicDate.year, month, 1);\n            localDate = gregorianObject;\n            const tdEle = this.islamicDayCell(localDate);\n            const dayLink = this.calendarInstance.createElement('span');\n            const localMonth = (value &&\n                (this.getIslamicDate(value)).month === (this.getIslamicDate(localDate)).month);\n            const select$$1 = (value && (this.getIslamicDate(value)).year === yr && localMonth);\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'MMM', calendar: 'islamic' });\n            if ((this.calendarInstance.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.calendarInstance.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED$1);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                if ((this.getIslamicDate(localDate)).month === mon &&\n                    (this.getIslamicDate(this.calendarInstance.currentDate)).month === mon) {\n                    addClass([tdEle], FOCUSEDDATE$1);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED$1)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n    }\n    islamicRenderDecade(e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        const numCells = 4;\n        const yearCell = 12;\n        const tdEles = [];\n        let localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        const islamicDate = this.getIslamicDate(localDate);\n        const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        const localYr = localDate.getFullYear();\n        const startYr = new Date(this.islamicInValue((localYr - localYr % 10)));\n        const endYr = new Date(this.islamicInValue((localYr - localYr % 10 + (10 - 1))));\n        const startFullYr = startYr.getFullYear();\n        const endFullYr = endYr.getFullYear();\n        const startHdrYr = this.calendarInstance.globalize.formatDate(startYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        const endHdrYr = this.calendarInstance.globalize.formatDate(endYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        const start = new Date(localYr - (localYr % 10) - 2, 0, 1);\n        const startYear = start.getFullYear();\n        for (let rowCount = 1; rowCount <= yearCell; ++rowCount) {\n            const year = startYear + rowCount;\n            localDate.setFullYear(year);\n            localDate.setDate(1);\n            localDate.setMonth(0);\n            const islamicDate = this.getIslamicDate(localDate);\n            const gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n            localDate = gregorianObject;\n            const tdEle = this.islamicDayCell(localDate);\n            attributes(tdEle, { 'role': 'gridcell' });\n            const dayLink = this.calendarInstance.createElement('span');\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERMONTH$1);\n            }\n            else if (year < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()\n                || year > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n                addClass([tdEle], DISABLED$1);\n            }\n            else if (!isNullOrUndefined(value) &&\n                (this.getIslamicDate(localDate)).year ===\n                    (this.getIslamicDate(value)).year) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED$1)) {\n                    addClass([tdEle], FOCUSEDDATE$1);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED$1)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n    }\n    islamicDayCell(localDate) {\n        const dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: 'islamic' };\n        const formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n        const date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n        const value = date.valueOf();\n        const attrs = {\n            className: CELL$1, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.calendarInstance.createElement('td', attrs);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    islamicRenderTemplate(elements, count, classNm, e, value) {\n        const view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        let trEle;\n        this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n        this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n        removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n        addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n        const weekNumCell = 41;\n        const numberCell = 35;\n        const otherMonthCell = 6;\n        let row = count;\n        let rowCount = 0;\n        for (let dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.calendarInstance.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n                if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n                    addClass([elements[rowCount].children[0]], [LINK$1]);\n                    rippleEffect(elements[rowCount].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowCount]);\n                if (this.calendarInstance.weekNumber &&\n                    rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (!this.calendarInstance.weekNumber\n                    && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (this.calendarInstance.weekNumber) {\n                    if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n                else {\n                    if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n            }\n            row = row + count;\n            rowCount = rowCount + 0;\n            this.calendarInstance.tableBodyElement.appendChild(trEle);\n        }\n        this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n        this.islamicIconHandler();\n        if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())\n            || (view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))) {\n            this.calendarInstance.navigateHandler(e);\n        }\n        this.calendarInstance.setAriaActiveDescendant();\n        this.calendarInstance.changedArgs = { value: this.calendarInstance.value, values: this.calendarInstance.values };\n        this.calendarInstance.changeHandler();\n    }\n    islamicCompareMonth(start, end) {\n        const hijriStart = (this.getIslamicDate(start));\n        const hijriEnd = (this.getIslamicDate(end));\n        let result;\n        if (hijriStart.year > hijriEnd.year) {\n            result = 1;\n        }\n        else if (hijriStart.year < hijriEnd.year) {\n            result = -1;\n        }\n        else {\n            result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n        }\n        return result;\n    }\n    islamicCompare(startDate, endDate, modifier) {\n        const hijriStart = this.getIslamicDate(startDate);\n        const hijriEnd = this.getIslamicDate(endDate);\n        let start = hijriEnd.year;\n        let end;\n        let result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (hijriStart.year > end) {\n            result = 1;\n        }\n        else if ((this.calendarInstance.currentView() === 'Decade') && hijriStart.year < start &&\n            !((startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade))) {\n            result = -1;\n        }\n        else if (hijriStart.year < start && (this.calendarInstance.currentView() === 'Year')) {\n            result = -1;\n        }\n        return result;\n    }\n    getIslamicDate(date) {\n        return (HijriParser.getHijriDate(date));\n    }\n    toGregorian(year, month, date) {\n        return HijriParser.toGregorian(year, month, date);\n    }\n    hijriCompareYear(start, end) {\n        return this.islamicCompare(start, end, 0);\n    }\n    hijriCompareDecade(start, end) {\n        return this.islamicCompare(start, end, 10);\n    }\n    destroy() {\n        this.calendarInstance = null;\n    }\n    islamicInValue(inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    }\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\nconst DATEWRAPPER = 'e-date-wrapper';\nconst ROOT$1 = 'e-datepicker';\nconst LIBRARY = 'e-lib';\nconst CONTROL = 'e-control';\nconst POPUPWRAPPER = 'e-popup-wrapper';\nconst INPUTWRAPPER = 'e-input-group-icon';\nconst POPUP = 'e-popup';\nconst INPUTCONTAINER = 'e-input-group';\nconst INPUTFOCUS = 'e-input-focus';\nconst INPUTROOT = 'e-input';\nconst ERROR = 'e-error';\nconst ACTIVE = 'e-active';\nconst OVERFLOW = 'e-date-overflow';\nconst DATEICON = 'e-date-icon';\nconst ICONS = 'e-icons';\nconst OPENDURATION = 300;\nconst OFFSETVALUE = 4;\nconst SELECTED$2 = 'e-selected';\nconst FOCUSEDDATE$2 = 'e-focused-date';\nconst NONEDIT = 'e-non-edit';\nconst containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\nlet DatePicker = class DatePicker extends Calendar {\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param {DatePickerModel} options - Specifies the DatePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.previousElementValue = '';\n        this.isDateIconClicked = false;\n        this.isAltKeyPressed = false;\n        this.isInteracted = true;\n        this.invalidValueString = null;\n        this.checkPreviousValue = null;\n        this.maskedDateValue = '';\n        this.isAngular = false;\n        this.preventChange = false;\n        this.isIconClicked = false;\n        this.isDynamicValueChanged = false;\n        this.moduleName = this.getModuleName();\n        this.isFocused = false;\n        this.datepickerOptions = options;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.initialize();\n        this.bindEvents();\n        this.renderComplete();\n        this.setTimeZone(this.serverTimezoneOffset);\n    }\n    setTimeZone(offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            const clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            const serverTimezoneDiff = offsetValue;\n            let timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date((this.value).getTime() + (timeZoneDiff * 60 * 60 * 1000));\n            this.updateInput();\n        }\n    }\n    isDayLightSaving() {\n        const firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        const secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    }\n    setAllowEdit() {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateIconState();\n    }\n    updateIconState() {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDIT]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDIT]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDIT]);\n        }\n    }\n    initialize() {\n        this.checkInvalidValue(this.value);\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setAllowEdit();\n        this.updateInput();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n        }\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputValueCopy = this.value;\n    }\n    createInput() {\n        const ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-invalid': 'false'\n        };\n        if (this.getModuleName() === 'datepicker') {\n            const l10nLocale = { placeholder: this.placeholder };\n            this.globalize = new Internationalization(this.locale);\n            this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        let updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        let isBindClearAction = this.enableMask ? false : true;\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            bindClearAction: isBindClearAction,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n        }, this.createElement);\n        this.setWidth(this.width);\n        if (this.inputElement.name !== '') {\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n        }\n        else {\n            this.inputElement.setAttribute('name', '' + this.element.id);\n        }\n        attributes(this.inputElement, ariaAttrs);\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        addClass([this.inputWrapper.container], DATEWRAPPER);\n    }\n    updateInput(isDynamic = false) {\n        let formatOptions;\n        if (this.value && !this.isCalendar() && !isDynamic) {\n            this.disabledDates();\n        }\n        if (isNaN(+new Date(this.checkValue(this.value)))) {\n            this.setProperties({ value: null }, true);\n        }\n        if (this.strictMode) {\n            //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n            super.validateDate();\n            this.minMaxUpdates();\n            super.minMaxUpdate();\n        }\n        if (!isNullOrUndefined(this.value)) {\n            const dateValue = this.value;\n            let dateString;\n            const tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd'\n                    });\n                }\n                else {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                    });\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                dateString = this.globalize.formatDate(this.value, formatOptions);\n            }\n            if ((+dateValue <= +this.max) && (+dateValue >= +this.min)) {\n                this.updateInputValue(dateString);\n            }\n            else {\n                const value = (+dateValue >= +this.max || !+this.value) || (!+this.value || +dateValue <= +this.min);\n                if (!this.strictMode && value) {\n                    this.updateInputValue(dateString);\n                }\n            }\n        }\n        if (isNullOrUndefined(this.value) && this.strictMode) {\n            if (!this.enableMask) {\n                this.updateInputValue('');\n            }\n            else {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.changedArgs = { value: this.value };\n        this.errorClass();\n        this.updateIconState();\n    }\n    minMaxUpdates() {\n        if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n            this.setProperties({ value: this.min }, true);\n            this.changedArgs = { value: this.value };\n        }\n        else {\n            if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n                this.setProperties({ value: this.max }, true);\n                this.changedArgs = { value: this.value };\n            }\n        }\n    }\n    checkStringValue(val) {\n        let returnDate = null;\n        let formatOptions = null;\n        let formatDateTime = null;\n        if (this.getModuleName() === 'datetimepicker') {\n            const culture = new Internationalization(this.locale);\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n            }\n            else {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n        if (isNullOrUndefined(returnDate) && (this.getModuleName() === 'datetimepicker')) {\n            returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n        }\n        return returnDate;\n    }\n    checkInvalidValue(value) {\n        if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n            let valueDate = null;\n            let valueString = value;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            let formatOptions = null;\n            let formatDateTime = null;\n            if (this.getModuleName() === 'datetimepicker') {\n                const culture = new Internationalization(this.locale);\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n                }\n                else {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n            }\n            let invalid = false;\n            if (typeof valueString !== 'string') {\n                valueString = null;\n                invalid = true;\n            }\n            else {\n                if (typeof valueString === 'string') {\n                    valueString = valueString.trim();\n                }\n                valueDate = this.checkStringValue(valueString);\n                if (!valueDate) {\n                    let extISOString = null;\n                    let basicISOString = null;\n                    // eslint-disable-next-line\n                    extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    // eslint-disable-next-line\n                    basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                        || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                        invalid = true;\n                    }\n                    else {\n                        valueDate = new Date(valueString);\n                    }\n                }\n            }\n            if (invalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n            }\n            else {\n                this.setProperties({ value: valueDate }, true);\n            }\n        }\n    }\n    bindInputEvent() {\n        if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n            if (this.enableMask || this.formatString.indexOf('y') === -1) {\n                EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n            }\n        }\n    }\n    bindEvents() {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n        EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        this.bindInputEvent();\n        // To prevent the twice triggering.\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n        }\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardModules = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyActionHandle.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    }\n    keydownHandler(e) {\n        switch (e.code) {\n            case 'ArrowLeft':\n            case 'ArrowRight':\n            case 'ArrowUp':\n            case 'ArrowDown':\n            case 'Home':\n            case 'End':\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    if (e.code !== 'Delete') {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    unBindEvents() {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.enableMask) {\n            EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    }\n    resetFormHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            let value = this.inputElement.getAttribute('value');\n            if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n                value = '';\n                this.inputValueCopy = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: this.inputValueCopy }, true);\n            this.restoreValue();\n            if (this.inputElement) {\n                this.updateInputValue(value);\n                this.errorClass();\n            }\n        }\n    }\n    restoreValue() {\n        this.currentDate = this.value ? this.value : new Date();\n        this.previousDate = this.value;\n        this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.globalize.formatDate(this.inputValueCopy, {\n                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n            });\n    }\n    inputChangeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    }\n    bindClearEvent() {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    }\n    resetHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        this.clear(e);\n    }\n    mouseUpHandler(e) {\n        if (this.enableMask) {\n            e.preventDefault();\n            this.notify(\"setMaskSelection\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    clear(event) {\n        this.setProperties({ value: null }, true);\n        if (!this.enableMask) {\n            this.updateInputValue('');\n        }\n        const clearedArgs = {\n            event: event\n        };\n        this.trigger('cleared', clearedArgs);\n        this.invalidValueString = '';\n        this.updateInput();\n        this.popupUpdate();\n        this.changeEvent(event);\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    preventEventBubbling(e) {\n        e.preventDefault();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n    }\n    updateInputValue(value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    dateIconHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n            this.inputElement.blur();\n        }\n        e.preventDefault();\n        if (!this.readonly) {\n            if (this.isCalendar()) {\n                this.hide(e);\n            }\n            else {\n                this.isDateIconClicked = true;\n                this.show(null, e);\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                this.inputElement.focus();\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                addClass(this.inputWrapper.buttons, ACTIVE);\n            }\n        }\n        this.isIconClicked = false;\n    }\n    updateHtmlAttributeToWrapper() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (!isNullOrUndefined(this.htmlAttributes[key])) {\n                    if (containerAttr.indexOf(key) > -1) {\n                        if (key === 'class') {\n                            const updatedClassValues = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                            if (updatedClassValues !== '') {\n                                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n                            }\n                        }\n                        else if (key === 'style') {\n                            let setStyle = this.inputWrapper.container.getAttribute(key);\n                            if (!isNullOrUndefined(setStyle)) {\n                                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                                    setStyle = setStyle + this.htmlAttributes[key];\n                                }\n                                else {\n                                    setStyle = setStyle + ';' + this.htmlAttributes[key];\n                                }\n                            }\n                            else {\n                                setStyle = this.htmlAttributes[key];\n                            }\n                            this.inputWrapper.container.setAttribute(key, setStyle);\n                        }\n                        else {\n                            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    updateHtmlAttributeToElement() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (containerAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    }\n    updateCssClass(newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n        }\n    }\n    calendarKeyActionHandle(e) {\n        switch (e.action) {\n            case 'escape':\n                if (this.isCalendar()) {\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[this.index].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isCalendar()) {\n                    this.show(null, e);\n                }\n                else {\n                    if (+this.value !== +this.currentDate && !this.isCalendar()) {\n                        this.inputWrapper.container.children[this.index].focus();\n                    }\n                }\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n        }\n    }\n    inputFocusHandler() {\n        this.isFocused = true;\n        if (!this.enabled) {\n            return;\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        const focusArguments = {\n            model: this\n        };\n        this.isDateIconClicked = false;\n        this.trigger('focus', focusArguments);\n        this.updateIconState();\n        if (this.openOnFocus && !this.isIconClicked) {\n            this.show();\n        }\n    }\n    inputHandler() {\n        this.isPopupClicked = false;\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    inputBlurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.strictModeUpdate();\n        if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n            this.invalidValueString = null;\n            this.updateInputValue('');\n        }\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        this.errorClass();\n        if (this.isCalendar() && document.activeElement === this.inputElement) {\n            this.hide(e);\n        }\n        if (this.getModuleName() === 'datepicker') {\n            const blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n        if (this.isCalendar()) {\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                eventName: 'keydown',\n                keyAction: this.calendarKeyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        this.isPopupClicked = false;\n    }\n    documentHandler(e) {\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) ||\n            (this.popupObj.element && this.popupObj.element.contains(e.target)))) && e.type !== 'touchstart') {\n            e.preventDefault();\n        }\n        const target = e.target;\n        if (!(closest(target, '.e-datepicker.e-popup-wrapper'))\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && (!target.classList.contains('e-day'))) {\n            this.hide(e);\n            this.focusOut();\n        }\n        else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n            // Fix for close the popup when select the previously selected value.\n            if (target.classList.contains('e-day')\n                && !isNullOrUndefined(e.target.parentElement)\n                && e.target.parentElement.classList.contains('e-selected')\n                && closest(target, '.e-content')\n                && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n                this.hide(e);\n            }\n            else if (closest(target, '.e-footer-container')\n                && target.classList.contains('e-today')\n                && target.classList.contains('e-btn')\n                && (+new Date(+this.value) === +super.generateTodayVal(this.value))) {\n                this.hide(e);\n            }\n        }\n    }\n    inputKeyActionHandle(e) {\n        const clickedView = this.currentView();\n        switch (e.action) {\n            case 'altUpArrow':\n                this.isAltKeyPressed = false;\n                this.hide(e);\n                this.inputElement.focus();\n                break;\n            case 'altDownArrow':\n                this.isAltKeyPressed = true;\n                this.strictModeUpdate();\n                this.updateInput();\n                this.changeTrigger(e);\n                if (this.getModuleName() === 'datepicker') {\n                    this.show(null, e);\n                }\n                break;\n            case 'escape':\n                this.hide(e);\n                break;\n            case 'enter':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (!this.isCalendar() && document.activeElement === this.inputElement) {\n                    this.hide(e);\n                }\n                if (this.isCalendar()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                let start = this.inputElement.selectionStart;\n                let end = this.inputElement.selectionEnd;\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    let length = this.inputElement.value.length;\n                    if ((start == 0 && end == length) || (end !== length && e.action == 'tab') || (start !== 0 && e.action == 'shiftTab')) {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                    start = this.inputElement.selectionStart;\n                    end = this.inputElement.selectionEnd;\n                }\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (this.enableMask) {\n                    this.inputElement.selectionStart = start;\n                    this.inputElement.selectionEnd = end;\n                }\n                this.hide(e);\n                break;\n            default:\n                this.defaultAction(e);\n                // Fix for close the popup when select the previously selected value.\n                if (e.action === 'select' && clickedView === this.depth) {\n                    this.hide(e);\n                }\n        }\n    }\n    defaultAction(e) {\n        this.previousDate = ((!isNullOrUndefined(this.value) && new Date(+this.value)) || null);\n        if (this.isCalendar()) {\n            super.keyActionHandle(e);\n            if (this.isCalendar()) {\n                attributes(this.inputElement, {\n                    'aria-activedescendant': '' + this.setActiveDescendant()\n                });\n            }\n        }\n    }\n    popupUpdate() {\n        if ((isNullOrUndefined(this.value)) && (!isNullOrUndefined(this.previousDate)) ||\n            (+this.value !== +this.previousDate)) {\n            if (this.popupObj) {\n                if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n                    removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n                }\n            }\n            if (!isNullOrUndefined(this.value)) {\n                if ((+this.value >= +this.min) && (+this.value <= +this.max)) {\n                    const targetdate = new Date(this.checkValue(this.value));\n                    super.navigateTo('Month', targetdate);\n                }\n            }\n        }\n    }\n    strictModeUpdate() {\n        let format;\n        let formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n        }\n        if (!isNullOrUndefined(format)) {\n            const len = format.split('M').length - 1;\n            if (len < 3) {\n                format = format.replace('MM', 'M');\n            }\n        }\n        let dateOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            dateOptions = formatOptions;\n        }\n        let date;\n        if (typeof this.inputElement.value === 'string') {\n            this.inputElement.value = this.inputElement.value.trim();\n        }\n        if ((this.getModuleName() === 'datetimepicker')) {\n            if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n                date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n            }\n        }\n        else {\n            date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            date = (!isNullOrUndefined(date) && isNaN(+date)) ? null : date;\n            if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n                if ((this.isPopupClicked || (!this.isPopupClicked && this.inputElement.value === this.previousElementValue))\n                    && this.formatString.indexOf('y') === -1) {\n                    date.setFullYear(this.value.getFullYear());\n                }\n            }\n        }\n        // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n        if ((this.getModuleName() === 'datepicker') && (this.value && !isNaN(+this.value)) && date) {\n            date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n        }\n        if (this.strictMode && date) {\n            this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        else if (!this.strictMode) {\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        if (this.strictMode && !date && this.inputElement.value === (this.enableMask ? this.maskedDateValue : '')) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNullOrUndefined(this.value)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n    }\n    createCalendar() {\n        this.popupWrapper = this.createElement('div', { className: '' + ROOT$1 + ' ' + POPUPWRAPPER });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (Browser.isDevice) {\n            this.modelHeader();\n            this.modal = this.createElement('div');\n            this.modal.className = '' + ROOT$1 + ' e-date-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n        //this.calendarElement represent the Calendar object from the Calendar class.\n        this.calendarElement.querySelector('table tbody').className = '';\n        this.popupObj = new Popup(this.popupWrapper, {\n            content: this.calendarElement,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            offsetY: OFFSETVALUE,\n            targetType: 'container',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            open: () => {\n                if (this.getModuleName() !== 'datetimepicker') {\n                    if (document.activeElement !== this.inputElement) {\n                        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n                        this.calendarElement.children[1].firstElementChild.focus();\n                        this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                            eventName: 'keydown',\n                            keyAction: this.calendarKeyActionHandle.bind(this),\n                            keyConfigs: this.defaultKeyConfigs\n                        });\n                        this.calendarKeyboardModules = new KeyboardEvents(this.inputWrapper.container.children[this.index], {\n                            eventName: 'keydown',\n                            keyAction: this.calendarKeyActionHandle.bind(this),\n                            keyConfigs: this.defaultKeyConfigs\n                        });\n                    }\n                }\n            }, close: () => {\n                if (this.isDateIconClicked) {\n                    this.inputWrapper.container.children[this.index].focus();\n                }\n                if (this.value) {\n                    this.disabledDates();\n                }\n                if (this.popupObj) {\n                    this.popupObj.destroy();\n                }\n                this.resetCalendar();\n                detach(this.popupWrapper);\n                this.popupObj = this.popupWrapper = null;\n                this.preventArgs = null;\n                this.calendarKeyboardModules = null;\n                this.setAriaAttributes();\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        this.popupObj.element.className += ' ' + this.cssClass;\n        this.setAriaAttributes();\n    }\n    setAriaDisabled() {\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n    }\n    modelHeader() {\n        let dateOptions;\n        const modelHeader = this.createElement('div', { className: 'e-model-header' });\n        const yearHeading = this.createElement('h1', { className: 'e-model-year' });\n        const h2 = this.createElement('div');\n        const daySpan = this.createElement('span', { className: 'e-model-day' });\n        const monthSpan = this.createElement('span', { className: 'e-model-month' });\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'y', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'y', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'E', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'E', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        modelHeader.appendChild(yearHeading);\n        h2.appendChild(daySpan);\n        h2.appendChild(monthSpan);\n        modelHeader.appendChild(h2);\n        this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n    }\n    changeTrigger(event) {\n        if (this.inputElement.value !== this.previousElementValue) {\n            if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n                if (this.isDynamicValueChanged && this.isCalendar()) {\n                    this.popupUpdate();\n                }\n                this.changedArgs.value = this.value;\n                this.changedArgs.event = event || null;\n                this.changedArgs.element = this.element;\n                this.changedArgs.isInteracted = !isNullOrUndefined(event);\n                if (this.isAngular && this.preventChange) {\n                    this.preventChange = false;\n                }\n                else {\n                    this.trigger('change', this.changedArgs);\n                }\n                this.previousElementValue = this.inputElement.value;\n                this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n                this.isInteracted = true;\n            }\n        }\n    }\n    navigatedEvent() {\n        this.trigger('navigated', this.navigatedArgs);\n    }\n    changeEvent(event) {\n        if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n            this.selectCalendar(event);\n            this.changedArgs.event = event ? event : null;\n            this.changedArgs.element = this.element;\n            this.changedArgs.isInteracted = this.isInteracted;\n            if (!this.isDynamicValueChanged) {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = this.value && new Date(+this.value);\n            if (!this.isDynamicValueChanged) {\n                this.hide(event);\n            }\n            this.previousElementValue = this.inputElement.value;\n            this.errorClass();\n        }\n    }\n    requiredModules() {\n        const modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    selectCalendar(e) {\n        let date;\n        let tempFormat;\n        let formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            tempFormat = this.formatString;\n        }\n        if (this.value) {\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            if (this.enableMask) {\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!isNullOrUndefined(date)) {\n            this.updateInputValue(date);\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n        }\n    }\n    isCalendar() {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n            return true;\n        }\n        return false;\n    }\n    setWidth(width) {\n        if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (this.width) : (formatUnit(this.width));\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Shows the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    show(type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            let prevent = true;\n            let outOfRange;\n            if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n                outOfRange = new Date(this.checkValue(this.value));\n                this.setProperties({ 'value': null }, true);\n            }\n            else {\n                outOfRange = this.value || null;\n            }\n            if (!this.isCalendar()) {\n                super.render();\n                this.setProperties({ 'value': outOfRange || null }, true);\n                this.previousDate = outOfRange;\n                this.createCalendar();\n            }\n            if (Browser.isDevice) {\n                this.mobilePopupWrapper = this.createElement('div', { className: 'e-datepick-mob-popup-wrap' });\n                document.body.appendChild(this.mobilePopupWrapper);\n            }\n            this.preventArgs = {\n                preventDefault: () => {\n                    prevent = false;\n                },\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n            };\n            const eventArgs = this.preventArgs;\n            this.trigger('open', eventArgs, (eventArgs) => {\n                this.preventArgs = eventArgs;\n                if (prevent && !this.preventArgs.cancel) {\n                    addClass(this.inputWrapper.buttons, ACTIVE);\n                    this.preventArgs.appendTo.appendChild(this.popupWrapper);\n                    this.popupObj.refreshPosition(this.inputElement);\n                    const openAnimation = {\n                        name: 'FadeIn',\n                        duration: Browser.isDevice ? 0 : OPENDURATION\n                    };\n                    if (this.zIndex === 1000) {\n                        this.popupObj.show(new Animation(openAnimation), this.element);\n                    }\n                    else {\n                        this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    super.setOverlayIndex(this.mobilePopupWrapper, this.popupObj.element, this.modal, Browser.isDevice);\n                    this.setAriaAttributes();\n                }\n                else {\n                    this.popupObj.destroy();\n                    this.popupWrapper = this.popupObj = null;\n                }\n                if (!isNullOrUndefined(this.inputElement) && this.inputElement.value === '') {\n                    if (!isNullOrUndefined(this.tableBodyElement) && this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n                        addClass([this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n                        removeClass(this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n                    }\n                }\n                EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n            });\n        }\n    }\n    /**\n     * Hide the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    hide(event) {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            let prevent = true;\n            this.preventArgs = {\n                preventDefault: () => {\n                    prevent = false;\n                },\n                popup: this.popupObj,\n                event: event || null,\n                cancel: false\n            };\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n            removeClass([document.body], OVERFLOW);\n            const eventArgs = this.preventArgs;\n            if (this.isCalendar()) {\n                this.trigger('close', eventArgs, (eventArgs) => {\n                    this.closeEventCallback(prevent, eventArgs);\n                });\n            }\n            else {\n                this.closeEventCallback(prevent, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    closeEventCallback(prevent, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (this.isCalendar() && (prevent && !this.preventArgs.cancel)) {\n            this.popupObj.hide();\n            this.isAltKeyPressed = false;\n            this.keyboardModule.destroy();\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n        }\n        this.setAriaAttributes();\n        if (Browser.isDevice && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n        if (Browser.isDevice) {\n            if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n                this.mobilePopupWrapper.remove();\n                this.mobilePopupWrapper = null;\n            }\n        }\n        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    }\n    /* eslint-disable jsdoc/require-param */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    focusIn(triggerEvent) {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    }\n    /* eslint-enable jsdoc/require-param */\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.blur();\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the DatePicker.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    currentView() {\n        let currentView;\n        if (this.calendarElement) {\n            // calls the Calendar currentView public method\n            currentView = super.currentView();\n        }\n        return currentView;\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Navigates to specified month or year or decade view of the DatePicker.\n     *\n     * @param  {string} view - Specifies the view of the calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @deprecated\n     */\n    navigateTo(view, date) {\n        if (this.calendarElement) {\n            // calls the Calendar navigateTo public method\n            super.navigateTo(view, date);\n        }\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.unBindEvents();\n        super.destroy();\n        this.keyboardModules.destroy();\n        if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n            super.destroy();\n        }\n        const ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-disabled': 'true',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            this.ensureInputAttribute();\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObj = this.popupWrapper = null;\n            this.keyboardModule.destroy();\n        }\n        if (this.ngTag === null) {\n            if (this.inputElement) {\n                this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n                removeClass([this.inputElement], [INPUTROOT]);\n            }\n            removeClass([this.element], [ROOT$1]);\n            detach(this.inputWrapper.container);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    }\n    ensureInputAttribute() {\n        const prop = [];\n        for (let i = 0; i < this.inputElement.attributes.length; i++) {\n            prop[i] = this.inputElement.attributes[i].name;\n        }\n        for (let i = 0; i < prop.length; i++) {\n            if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(prop[i]);\n            }\n            else {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n                }\n                this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n            }\n        }\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.inputElementCopy = this.element.cloneNode(true);\n        removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.formElement = closest(this.inputElement, 'form');\n        this.index = this.showClearButton ? 2 : 1;\n        this.ngTag = null;\n        if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.ngTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        if (this.element.getAttribute('id')) {\n            if (this.ngTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            if (this.getModuleName() === 'datetimepicker') {\n                this.element.id = getUniqueID('ej2-datetimepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n            else {\n                this.element.id = getUniqueID('ej2-datepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n        }\n        if (this.ngTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.checkHtmlAttributes(false);\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        super.preRender();\n    }\n    getDefaultKeyConfig() {\n        this.defaultKeyConfigs = {\n            altUpArrow: 'alt+uparrow',\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            shiftTab: 'shift+tab',\n            tab: 'tab'\n        };\n        return this.defaultKeyConfigs;\n    }\n    validationAttribute(target, inputElement) {\n        const nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        inputElement.setAttribute('name', nameAttribute);\n        target.removeAttribute('name');\n        const attribute = ['required', 'aria-required', 'form'];\n        for (let i = 0; i < attribute.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n                continue;\n            }\n            const attr = target.getAttribute(attribute[i]);\n            inputElement.setAttribute(attribute[i], attr);\n            target.removeAttribute(attribute[i]);\n        }\n    }\n    checkFormat() {\n        const culture = new Internationalization(this.locale);\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                const skeletonString = this.format.skeleton;\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'dateTime' });\n                }\n                else {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'date' });\n                }\n            }\n            else {\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = this.dateTimeFormat;\n                }\n                else {\n                    this.formatString = null;\n                }\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    }\n    checkHtmlAttributes(dynamic) {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        const attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n        let options;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['enabled'] === undefined)) || dynamic)) {\n                            const enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !dynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['readonly'] === undefined)) || dynamic)) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !dynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['placeholder'] === undefined)) || dynamic)) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !dynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'value':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['value'] === undefined)) || dynamic)) {\n                            const value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((+this.min === +new Date(1900, 0, 1)) || dynamic) {\n                            const min = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n                        }\n                        break;\n                    case 'max':\n                        if ((+this.max === +new Date(2099, 11, 31)) || dynamic) {\n                            const max = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'datepicker';\n    }\n    disabledDates() {\n        let formatOptions;\n        let globalize;\n        const valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n        const previousValCopy = this.previousDate;\n        //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n        this.minMaxUpdates();\n        super.render();\n        this.previousDate = previousValCopy;\n        const date = valueCopy && +(valueCopy);\n        const dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n        if (!this.strictMode) {\n            if (typeof this.value === 'string' || ((typeof this.value === 'object') && (+this.value) !== (+valueCopy))) {\n                this.setProperties({ value: valueCopy }, true);\n            }\n        }\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n            if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n                if (!this.strictMode) {\n                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                }\n            }\n        }\n        let inputVal;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                });\n            }\n            else {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                });\n            }\n            inputVal = globalize;\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n        }\n        if (!this.popupObj) {\n            this.updateInputValue(inputVal);\n            if (this.enableMask) {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n    }\n    setAriaAttributes() {\n        if (this.isCalendar()) {\n            Input.addAttributes({ 'aria-expanded': 'true' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-activedescendant': '' + this.setActiveDescendant() });\n        }\n        else {\n            Input.addAttributes({ 'aria-expanded': 'false' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    }\n    errorClass() {\n        const dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + (+this.value));\n        const isDisabledDate = this.calendarElement &&\n            this.calendarElement.querySelectorAll(dateIdString)[0] &&\n            this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n        if ((!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min\n            && +new Date(+this.value).setMilliseconds(0) <= +this.max))\n            || (!this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate)) {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            removeClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'false' });\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.isInteracted = false;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    this.previousElementValue = this.inputElement.value;\n                    if (isNullOrUndefined(this.value)) {\n                        this.updateInputValue('');\n                        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                    }\n                    this.updateInput(true);\n                    if (+this.previousDate !== +this.value) {\n                        this.changeTrigger(null);\n                    }\n                    this.isInteracted = true;\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'format':\n                    this.checkFormat();\n                    this.bindInputEvent();\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setAllowEdit();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.setAriaDisabled();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'start':\n                case 'depth':\n                    this.checkView();\n                    if (this.calendarElement) {\n                        super.onPropertyChanged(newProp, oldProp);\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    this.index = this.showClearButton ? 2 : 1;\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                        this.bindInputEvent();\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n                default:\n                    if (this.calendarElement && this.isCalendar()) {\n                        super.onPropertyChanged(newProp, oldProp);\n                    }\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    }\n};\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"width\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"value\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"cssClass\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"strictMode\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"format\", void 0);\n__decorate$1([\n    Property(true)\n], DatePicker.prototype, \"enabled\", void 0);\n__decorate$1([\n    Property({})\n], DatePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"values\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"isMultiSelection\", void 0);\n__decorate$1([\n    Property(true)\n], DatePicker.prototype, \"showClearButton\", void 0);\n__decorate$1([\n    Property(true)\n], DatePicker.prototype, \"allowEdit\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"keyConfigs\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"enablePersistence\", void 0);\n__decorate$1([\n    Property(1000)\n], DatePicker.prototype, \"zIndex\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"readonly\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"placeholder\", void 0);\n__decorate$1([\n    Property('Never')\n], DatePicker.prototype, \"floatLabelType\", void 0);\n__decorate$1([\n    Property(null)\n], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"openOnFocus\", void 0);\n__decorate$1([\n    Property(false)\n], DatePicker.prototype, \"enableMask\", void 0);\n__decorate$1([\n    Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n], DatePicker.prototype, \"maskPlaceholder\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"open\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"cleared\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"close\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"blur\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"focus\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"created\", void 0);\n__decorate$1([\n    Event()\n], DatePicker.prototype, \"destroyed\", void 0);\nDatePicker = __decorate$1([\n    NotifyPropertyChanges\n], DatePicker);\n\n/**\n * Datepicker modules\n */\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\nconst DATERANGEWRAPPER = 'e-date-range-wrapper';\nconst INPUTCONTAINER$1 = 'e-input-group';\nconst DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nconst POPUP$1 = 'e-popup';\nconst LEFTCALENDER = 'e-left-calendar';\nconst RIGHTCALENDER = 'e-right-calendar';\nconst LEFTCONTAINER = 'e-left-container';\nconst RIGHTCONTAINER = 'e-right-container';\nconst ROOT$2 = 'e-daterangepicker';\nconst LIBRARY$1 = 'e-lib';\nconst CONTROL$1 = 'e-control';\nconst ERROR$1 = 'e-error';\nconst ACTIVE$1 = 'e-active';\nconst STARTENDCONTAINER = 'e-start-end';\nconst STARTDATE = 'e-start-date';\nconst ENDDATE = 'e-end-date';\nconst STARTBUTTON = 'e-start-btn';\nconst INPUTFOCUS$1 = 'e-input-focus';\nconst ENDBUTTON = 'e-end-btn';\nconst RANGEHOVER = 'e-range-hover';\nconst OTHERMONTH$2 = 'e-other-month';\nconst STARTLABEL = 'e-start-label';\nconst ENDLABEL = 'e-end-label';\nconst DISABLED$2 = 'e-disabled';\nconst SELECTED$3 = 'e-selected';\nconst CALENDAR = 'e-calendar';\nconst NEXTICON$1 = 'e-next';\nconst PREVICON$1 = 'e-prev';\nconst HEADER$1 = 'e-header';\nconst TITLE$1 = 'e-title';\nconst ICONCONTAINER$1 = 'e-icon-container';\nconst RANGECONTAINER = 'e-date-range-container';\nconst RANGEHEADER = 'e-range-header';\nconst PRESETS = 'e-presets';\nconst FOOTER$1 = 'e-footer';\nconst RANGEBORDER = 'e-range-border';\nconst TODAY$2 = 'e-today';\nconst FOCUSDATE = 'e-focused-date';\nconst CONTENT$1 = 'e-content';\nconst DAYSPAN = 'e-day-span';\nconst WEEKNUMBER$2 = 'e-week-number';\nconst DATEDISABLED = 'e-date-disabled';\nconst ICONDISABLED = 'e-icon-disabled';\nconst CALENDARCONTAINER = 'e-calendar-container';\nconst SEPARATOR = 'e-separator';\nconst APPLY = 'e-apply';\nconst CANCEL = 'e-cancel';\nconst DEVICE$1 = 'e-device';\nconst OVERLAY$2 = 'e-overlay';\nconst CHANGEICON = 'e-change-icon e-icons';\nconst LISTCLASS = 'e-list-item';\nconst RTL$1 = 'e-rtl';\nconst HOVER = 'e-hover';\nconst OVERFLOW$1 = 'e-range-overflow';\nconst OFFSETVALUE$1 = 4;\nconst PRIMARY$1 = 'e-primary';\nconst FLAT$1 = 'e-flat';\nconst CSS$1 = 'e-css';\nconst ZOOMIN$1 = 'e-zoomin';\nconst NONEDITABLE = 'e-non-edit';\nconst DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nconst HIDDENELEMENT = 'e-daterange-hidden';\nconst wrapperAttr = ['title', 'class', 'style'];\nclass Presets extends ChildProperty {\n}\n__decorate$2([\n    Property()\n], Presets.prototype, \"label\", void 0);\n__decorate$2([\n    Property()\n], Presets.prototype, \"start\", void 0);\n__decorate$2([\n    Property()\n], Presets.prototype, \"end\", void 0);\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\nlet DateRangePicker = class DateRangePicker extends CalendarBase {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.isCustomRange = false;\n        this.isCustomWindow = false;\n        this.presetsItem = [];\n        this.liCollections = [];\n        this.previousEleValue = '';\n        this.isKeyPopup = false;\n        this.dateDisabled = false;\n        this.isRangeIconClicked = false;\n        this.isMaxDaysClicked = false;\n        this.disabledDays = [];\n        this.preventBlur = false;\n        this.preventFocus = false;\n        this.invalidValueString = null;\n        this.isAngular = false;\n        this.preventChange = false;\n        this.dateRangeOptions = options;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.initialize();\n        this.setProperties({ startDate: this.startValue }, true);\n        this.setProperties({ endDate: this.endValue }, true);\n        this.setModelValue();\n        this.setDataAttribute(false);\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        this.renderComplete();\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.keyInputConfigs = {\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            tab: 'tab',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            spacebar: 'space'\n        };\n        this.defaultConstant = {\n            placeholder: this.placeholder,\n            startLabel: 'Start Date',\n            endLabel: 'End Date',\n            customRange: 'Custom Range',\n            applyText: 'Apply',\n            cancelText: 'Cancel',\n            selectedDays: 'Selected Days',\n            days: 'days'\n        };\n        /**\n         * Mobile View\n         */\n        this.isMobile = window.matchMedia('(max-width:550px)').matches;\n        this.inputElement = this.element;\n        this.angularTag = null;\n        if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n        this.updateHtmlAttributeToElement();\n        if (this.element.getAttribute('id')) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            this.element.id = getUniqueID('ej2-datetimepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        this.checkInvalidRange(this.value);\n        if (!this.invalidValueString && (typeof (this.value) === 'string')) {\n            const rangeArray = this.value.split(' ' + this.separator + ' ');\n            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n        }\n        this.initProperty();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        super.preRender();\n        this.navNextFunction = this.navNextMonth.bind(this);\n        this.navPrevFunction = this.navPrevMonth.bind(this);\n        this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n        this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.formElement = closest(this.element, 'form');\n    }\n    updateValue() {\n        if (this.value && this.value.length > 0) {\n            if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n                this.setProperties({ startDate: this.value[0] }, true);\n                this.startValue = this.value[0];\n            }\n            else if (typeof this.value[0] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ startDate: new Date(this.checkValue(this.value[0])) }, true);\n                    this.startValue = new Date(this.checkValue(this.value[0]));\n                }\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n                this.setProperties({ endDate: this.value[1] }, true);\n                this.endValue = this.value[1];\n            }\n            else if (typeof this.value[1] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.setProperties({ endDate: null }, true);\n                    this.endValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ endDate: new Date(this.checkValue(this.value[1])) }, true);\n                    this.endValue = new Date(this.checkValue(this.value[1]));\n                    this.setValue();\n                }\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (this.value && this.value.start) {\n            if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n                this.setProperties({ startDate: this.value.start }, true);\n                this.startValue = this.value.start;\n            }\n            else if (typeof this.value.start === 'string') {\n                this.setProperties({ startDate: new Date(this.checkValue(this.value.start)) }, true);\n                this.startValue = new Date(this.checkValue(this.value.start));\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n                this.setProperties({ endDate: this.value.end }, true);\n                this.endValue = this.value.end;\n            }\n            else if (typeof this.value.end === 'string') {\n                this.setProperties({ endDate: new Date(this.checkValue(this.value.end)) }, true);\n                this.endValue = new Date(this.checkValue(this.value.end));\n                this.setValue();\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (isNullOrUndefined(this.value)) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n            this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n            this.setValue();\n        }\n    }\n    initProperty() {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.updateValue();\n    }\n    checkFormat() {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                const skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ skeleton: skeletonString, type: 'date' });\n            }\n            else {\n                this.formatString = null;\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    }\n    initialize() {\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.checkHtmlAttributes(false);\n        merge(this.defaultKeyConfigs, { shiftTab: 'shift+tab', tab: 'tab' });\n        const start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n        this.setProperties({ startDate: start }, true); // persist the value propeerty.\n        this.setProperties({ endValue: this.checkDateValue(new Date(this.checkValue(this.endValue))) }, true);\n        this.setValue();\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.processPresets();\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setRangeAllowEdit();\n        this.bindEvents();\n    }\n    setDataAttribute(isDynamic) {\n        let attributes$$1 = {};\n        if (!isDynamic) {\n            for (let i = 0; i < this.element.attributes.length; i++) {\n                attributes$$1[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n            }\n        }\n        else {\n            attributes$$1 = this.htmlAttributes;\n        }\n        for (const pro of Object.keys(attributes$$1)) {\n            if (pro.indexOf('data') === 0) {\n                this.firstHiddenChild.setAttribute(pro, attributes$$1[pro]);\n                this.secondHiddenChild.setAttribute(pro, attributes$$1[pro]);\n            }\n        }\n    }\n    setRangeAllowEdit() {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateClearIconState();\n    }\n    updateClearIconState() {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDITABLE]);\n        }\n    }\n    validationAttribute(element, input) {\n        const name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n        input.setAttribute('name', name);\n        element.removeAttribute('name');\n        const attributes$$1 = ['required', 'aria-required', 'form'];\n        for (let i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            const attr = element.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            element.removeAttribute(attributes$$1[i]);\n        }\n    }\n    updateHtmlAttributeToWrapper() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        const updatedClassValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        let dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n                        dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? (dateRangeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    }\n    updateHtmlAttributeToElement() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    }\n    updateCssClass(cssNewClass, cssOldClass) {\n        if (!isNullOrUndefined(cssOldClass)) {\n            cssOldClass = (cssOldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssNewClass)) {\n            cssNewClass = (cssNewClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n        }\n    }\n    processPresets() {\n        this.presetsItem = [];\n        let i = 0;\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            for (const range of this.presets) {\n                const id = range.label.replace(/\\s+/g, '') + '_' + (++i);\n                if (typeof range.end === 'string') {\n                    this.presetsItem.push({\n                        id: id, text: range.label, end: new Date(this.checkValue(range.end)), start: new Date(this.checkValue(range.start))\n                    });\n                }\n                else {\n                    this.presetsItem.push({ id: id, text: range.label, start: range.start, end: range.end });\n                }\n            }\n            const startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n            const endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n            this.presetsItem.push({ id: 'custom_range', text: this.l10n.getConstant('customRange'), start: startDate, end: endDate });\n            if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n                this.isCustomRange = true;\n                this.activeIndex = this.presetsItem.length - 1;\n            }\n        }\n    }\n    bindEvents() {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n        if (!this.isMobile) {\n            this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n            this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n                eventName: 'keydown',\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyInputConfigs\n            });\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (this.enabled) {\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.inputElement.tabIndex = -1;\n        }\n    }\n    unBindEvents() {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.inputKeyboardModule)) {\n                this.inputKeyboardModule.destroy();\n            }\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        this.inputElement.tabIndex = -1;\n    }\n    updateHiddenInput() {\n        if (this.firstHiddenChild && this.secondHiddenChild) {\n            const format = { type: 'datetime', skeleton: 'yMd' };\n            if (typeof this.startDate === 'string') {\n                this.startDate = this.globalize.parseDate(this.startDate, format);\n            }\n            if (typeof this.endDate === 'string') {\n                this.endDate = this.globalize.parseDate(this.endDate, format);\n            }\n            this.firstHiddenChild.value = (this.startDate && this.globalize.formatDate(this.startDate, format))\n                || (this.inputElement.value);\n            this.secondHiddenChild.value = (this.endDate && this.globalize.formatDate(this.endDate, format)) ||\n                (this.inputElement.value);\n            this.dispatchEvent(this.firstHiddenChild, 'focusout');\n            this.dispatchEvent(this.firstHiddenChild, 'change');\n        }\n    }\n    inputChangeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n        this.updateHiddenInput();\n    }\n    bindClearEvent() {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    }\n    resetHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.valueType = this.value;\n        e.preventDefault();\n        this.clear();\n        const clearedArgs = {\n            event: e\n        };\n        this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n        this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n        this.trigger('cleared', clearedArgs);\n        this.changeTrigger(e);\n        this.clearRange();\n        this.hide(e);\n    }\n    restoreValue() {\n        this.previousEleValue = this.inputElement.value;\n        this.previousStartValue = this.startValue;\n        this.previousEndValue = this.endValue;\n        this.valueType = null;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.setValue();\n        this.setModelValue();\n    }\n    formResetHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.formElement && (e.target === this.formElement) && !this.inputElement.disabled) {\n            let val = this.inputElement.getAttribute('value');\n            if (!isNullOrUndefined(this.startCopy)) {\n                if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n                    this.setProperties({ value: { start: this.startCopy, end: this.endCopy } }, true);\n                    this.startValue = this.value.start;\n                    this.endValue = this.value.end;\n                }\n                else {\n                    this.setProperties({ value: [this.startCopy, this.endCopy] }, true);\n                    this.startValue = this.value[0];\n                    this.endValue = this.value[1];\n                }\n                this.setProperties({ startDate: this.startValue, endDate: this.endValue }, true);\n            }\n            else {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                this.startValue = this.endValue = null;\n            }\n            if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                val = '';\n                this.startValue = this.endValue = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.restoreValue();\n            if (this.inputElement) {\n                Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.errorClass();\n            }\n        }\n    }\n    clear() {\n        if (this.startValue !== null) {\n            this.startValue = null;\n        }\n        if (this.endValue !== null) {\n            this.endValue = null;\n        }\n        if (this.value && this.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        if (this.value !== null && this.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        if (!(isNullOrUndefined(this.applyButton))) {\n            this.applyButton.disabled = this.applyButton.element.disabled = true;\n        }\n        this.removeSelection();\n    }\n    rangeIconHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isMobile) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        this.targetElement = null;\n        if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n            this.applyFunction(e);\n        }\n        else {\n            this.isRangeIconClicked = true;\n            this.inputWrapper.container.children[0].focus();\n            this.show(null, e);\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.leftCalendar)) {\n                    this.isRangeIconClicked = false;\n                    this.calendarFocus();\n                    this.isRangeIconClicked = true;\n                }\n            }\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n    }\n    checkHtmlAttributes(isDynamic) {\n        this.globalize = new Internationalization(this.locale);\n        const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder',\n                'type', 'value'];\n        const format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['enabled'] === undefined)) || isDynamic) {\n                            const disabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ enabled: !disabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['readonly'] === undefined)) || isDynamic) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['value'] === undefined)) || isDynamic) {\n                            const value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, value, {}), !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1)) || isDynamic) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31)) || isDynamic) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'startDate':\n                        if (isNullOrUndefined(this.startDate)) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.startValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'endDate':\n                        if (isNullOrUndefined(this.endDate)) {\n                            const dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.endValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'minDays':\n                        if (isNullOrUndefined(this.minDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'maxDays':\n                        if (isNullOrUndefined(this.maxDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    createPopup() {\n        for (let i = 0; i < this.presetsItem.length; i++) {\n            if ((i !== (this.presetsItem.length - 1)) && this.presetsItem[i].id === 'custom_range') {\n                this.presetsItem.splice(i, 1);\n            }\n        }\n        this.activeIndex = this.presetsItem.length - 1;\n        this.isCustomRange = true;\n        for (let i = 0; i <= this.presetsItem.length - 2; i++) {\n            const startDate = this.presetsItem[i].start;\n            const endDate = this.presetsItem[i].end;\n            if (this.startValue && this.endValue) {\n                if ((+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0))) &&\n                    (+new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0)))) {\n                    this.activeIndex = i;\n                    this.isCustomRange = false;\n                }\n            }\n        }\n        this.popupWrapper = createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.adjustLongHeaderWidth();\n        const isPreset = (!this.isCustomRange || this.isMobile);\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n            this.isCustomWindow = false;\n            this.createPresets();\n            this.listRippleEffect();\n            this.renderPopup();\n        }\n        else {\n            this.isCustomWindow = true;\n            this.renderControl();\n        }\n    }\n    renderControl() {\n        this.createControl();\n        this.bindCalendarEvents();\n        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            this.disabledDateRender();\n        }\n        this.updateHeader();\n    }\n    clearCalendarEvents() {\n        EventHandler.clearEvents(this.leftCalPrevIcon);\n        EventHandler.clearEvents(this.leftCalNextIcon);\n        EventHandler.clearEvents(this.rightCalPrevIcon);\n        EventHandler.clearEvents(this.rightCalNextIcon);\n    }\n    updateNavIcons() {\n        super.iconHandler();\n    }\n    calendarIconEvent() {\n        this.clearCalendarEvents();\n        if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n        if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n    }\n    bindCalendarEvents() {\n        if (!this.isMobile) {\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n            this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.deviceCalendarEvent();\n            EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n            EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n        }\n        if (this.start === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    }\n    calendarIconRipple() {\n        rippleEffect(this.leftCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.leftCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n    }\n    deviceCalendarEvent() {\n        EventHandler.clearEvents(this.nextIcon);\n        EventHandler.clearEvents(this.previousIcon);\n        rippleEffect(this.nextIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.previousIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n        }\n        if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n        }\n    }\n    deviceNavNext(e) {\n        const calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigateNext(e);\n        this.deviceNavigation();\n    }\n    deviceNavPrevious(e) {\n        const calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigatePrevious(e);\n        this.deviceNavigation();\n    }\n    updateDeviceCalendar(calendar) {\n        if (calendar) {\n            this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n            this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n            this.calendarElement = calendar;\n            this.deviceCalendar = calendar;\n            this.contentElement = calendar.querySelector('.' + CONTENT$1);\n            this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n            this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n            this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n            this.headerElement = calendar.querySelector('.' + HEADER$1);\n        }\n    }\n    deviceHeaderClick(event) {\n        const element = event.currentTarget;\n        if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n            this.endButton.element.classList.remove(ACTIVE$1);\n            this.startButton.element.classList.add(ACTIVE$1);\n            const calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.startValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.removeClassDisabled();\n        }\n        else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.startButton.element.classList.remove(ACTIVE$1);\n            this.endButton.element.classList.add(ACTIVE$1);\n            const calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.endValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            this.selectableDates();\n        }\n    }\n    inputFocusHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        this.preventBlur = false;\n        const focusArguments = {\n            model: this\n        };\n        if (!this.preventFocus) {\n            this.trigger('focus', focusArguments);\n        }\n        this.updateClearIconState();\n        this.updateHiddenInput();\n        if (this.openOnFocus && !this.preventFocus) {\n            this.preventFocus = true;\n            this.show();\n        }\n        else {\n            this.preventFocus = true;\n        }\n    }\n    inputBlurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.preventBlur) {\n            const value = this.inputElement.value;\n            if (!isNullOrUndefined(this.presetsItem)) {\n                if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n                    this.activeIndex = this.presetsItem.length - 1;\n                    this.isCustomRange = true;\n                }\n            }\n            if (!isNullOrUndefined(value) && value.trim() !== '') {\n                const range = value.split(' ' + this.separator + ' ');\n                if (range.length > 1) {\n                    this.invalidValueString = null;\n                    const dateOptions = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n                    const startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n                    const endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n                    if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n                        const prevStartVal = this.startValue;\n                        this.startValue = startDate;\n                        const prevEndVal = this.endValue;\n                        this.endValue = endDate;\n                        this.setValue();\n                        this.refreshControl();\n                        if (value !== this.previousEleValue) {\n                            this.changeTrigger(e);\n                        }\n                        if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                            this.preventFocus = false;\n                            const blurArguments = {\n                                model: this\n                            };\n                            this.trigger('blur', blurArguments);\n                        }\n                        this.updateHiddenInput();\n                        // For Mobile mode, when a value is present and choose another range and click on console\n                        // when popup is open, two startvalues and end values are updated in the popup.\n                        if (this.isMobile && this.isPopupOpen()) {\n                            this.startValue = prevStartVal;\n                            this.endValue = prevEndVal;\n                        }\n                        return;\n                    }\n                    else {\n                        if (!this.strictMode) {\n                            this.startValue = null;\n                            this.endValue = null;\n                            this.setValue();\n                        }\n                    }\n                }\n                else {\n                    if (!this.strictMode) {\n                        this.startValue = null;\n                        this.endValue = null;\n                        this.setValue();\n                    }\n                }\n            }\n            if (!this.strictMode) {\n                if (isNullOrUndefined(this.popupObj)) {\n                    this.currentDate = null;\n                }\n                this.previousStartValue = this.previousEndValue = null;\n                this.startValue = null;\n                this.endValue = null;\n                this.setValue();\n            }\n            else {\n                if (!isNullOrUndefined(value) && value.trim() === '') {\n                    this.startValue = null;\n                    this.endValue = null;\n                }\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n                this.updateInput();\n            }\n            this.errorClass();\n            this.changeTrigger(e);\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                this.preventFocus = false;\n                const blurArguments = {\n                    model: this\n                };\n                this.trigger('blur', blurArguments);\n            }\n        }\n        this.updateHiddenInput();\n    }\n    clearRange() {\n        this.previousStartValue = this.previousEndValue = null;\n        this.currentDate = null;\n    }\n    errorClass() {\n        const inputStr = this.inputElement.value.trim();\n        if (((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '') ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max))\n            || ((this.startValue && this.isDateDisabled(this.startValue))\n                || (this.endValue && this.isDateDisabled(this.endValue)))) && inputStr !== '') {\n            addClass([this.inputWrapper.container], ERROR$1);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            if (this.inputWrapper) {\n                removeClass([this.inputWrapper.container], ERROR$1);\n                attributes(this.inputElement, { 'aria-invalid': 'false' });\n            }\n        }\n    }\n    keyCalendarUpdate(isLeftCalendar, ele, isRemoveFocus = true) {\n        if (isRemoveFocus) {\n            this.removeFocusedDate();\n        }\n        if (isLeftCalendar) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            ele = this.leftCalendar;\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            ele = this.rightCalendar;\n        }\n        this.updateCalendarElement(ele);\n        this.table.focus();\n        return ele;\n    }\n    navInCalendar(e, isLeftCalendar, leftLimit, rightLimit, ele) {\n        const view = this.getViewNumber(this.currentView());\n        let date;\n        const min = this.min;\n        let max;\n        if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n            max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n        }\n        else {\n            max = this.max;\n        }\n        switch (e.action) {\n            case 'moveRight':\n                date = new Date(+this.currentDate);\n                this.addDay(date, 1, e, max, min);\n                if (isLeftCalendar && +date === +rightLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.keyboardNavigate(1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveLeft':\n                date = new Date(+this.currentDate);\n                this.addDay(date, -1, e, max, min);\n                if (!isLeftCalendar) {\n                    if (+date === +leftLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                }\n                this.keyboardNavigate(-1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, -7, e, max, min);\n                    if (+date <= +leftLimit && !isLeftCalendar) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    this.keyboardNavigate(-7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, 7, e, max, min);\n                    if (isLeftCalendar && +date >= +rightLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    this.keyboardNavigate(7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'tab':\n                if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n                    ele = this.keyCalendarUpdate(false, ele, false);\n                    const focusedCell = ele.querySelector('.e-focused-date');\n                    if (isNullOrUndefined(focusedCell)) {\n                        this.currentDate = this.firstCellToFocus(this.rightCalendar);\n                    }\n                    this.keyboardNavigate(0, view, e, max, min);\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'shiftTab':\n                if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n                    ele = this.keyCalendarUpdate(true, ele, false);\n                    const focusedCell = ele.querySelector('.e-focused-date');\n                    if (isNullOrUndefined(focusedCell)) {\n                        this.currentDate = this.firstCellToFocus(this.leftCalendar);\n                    }\n                    this.keyboardNavigate(0, view, e, max, min);\n                    this.keyNavigation(ele, e);\n                }\n                break;\n        }\n    }\n    firstCellToFocus(calendar) {\n        const focusAbleEle = calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)');\n        const focusEleID = focusAbleEle && focusAbleEle.id ? focusAbleEle.id.split('_')[0] : null;\n        const currentFirstDay = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1);\n        const focusDate = focusEleID ? new Date(+focusEleID) : currentFirstDay;\n        return focusDate;\n    }\n    keyInputHandler(e, value) {\n        let date;\n        let view = this.getViewNumber(this.currentView());\n        const rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n        const leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n        let ele = closest(e.target, '.' + RIGHTCALENDER);\n        ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n        const isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n        this.updateCalendarElement(ele);\n        const selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        const focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n        const startDate = ele.querySelector('tr td.' + STARTDATE);\n        const endDate = ele.querySelector('tr td.' + ENDDATE);\n        const depthValue = this.getViewNumber(this.depth);\n        const levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        const leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n        const rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n        const presetElement = closest(e.target, '.' + PRESETS);\n        if (!isNullOrUndefined(focusedDate)) {\n            // eslint-disable-next-line no-self-assign\n            this.currentDate = this.currentDate;\n        }\n        else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.startValue);\n        }\n        else if (!this.dateDisabled) {\n            this.currentDate.setDate(1);\n        }\n        this.effect = '';\n        switch (e.action) {\n            case 'altUpArrow':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                    this.preventFocus = true;\n                    this.inputElement.focus();\n                    addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n                }\n                break;\n            case 'select':\n                if (levelRestrict) {\n                    const element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n                        this.selectRange(null, (element));\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n                        if (!isNullOrUndefined(this.value)) {\n                            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                                value = this.startDate;\n                            }\n                            else {\n                                value = this.endDate;\n                            }\n                        }\n                        this.controlDown = e;\n                        this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                {\n                    const yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n                    if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    super.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else if (!isNullOrUndefined(rightCalendar)) {\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.presetElement.focus();\n                        this.removeFocusedDate();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(presetElement)) {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    if (this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(rightCalendar)) {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlUp':\n                if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                else {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n                    if (!isNullOrUndefined(this.value)) {\n                        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                            value = this.startDate;\n                        }\n                        else {\n                            value = this.endDate;\n                        }\n                    }\n                    this.controlDown = e;\n                    this.contentClick(null, --view, (selectedDate || focusedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                {\n                    const yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n                    if (isLeftCalendar && +yearDate > +rightDateLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    super.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'pageUp':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addMonths(this.currentDate, -1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageDown':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addMonths(this.currentDate, 1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageUp':\n                date = new Date(+this.currentDate);\n                this.addYears(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addYears(this.currentDate, -1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageDown':\n                date = new Date(+this.currentDate);\n                this.addYears(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addYears(this.currentDate, 1);\n                super.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftTab':\n                if (!isNullOrUndefined(this.presetElement)) {\n                    this.presetElement.setAttribute('tabindex', '0');\n                    this.presetElement.focus();\n                    this.removeFocusedDate();\n                }\n                if (isLeftCalendar) {\n                    e.preventDefault();\n                }\n                if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n                    this.currentDate = new Date(+this.leftCalCurrentDate);\n                    this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                }\n                break;\n            case 'spacebar':\n                if (this.applyButton && !this.applyButton.disabled) {\n                    this.applyFunction(e);\n                }\n                break;\n            case 'tab':\n                if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n                    this.currentDate = new Date(+this.rightCalCurrentDate);\n                    this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                }\n                break;\n            default:\n                this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                this.checkMinMaxDays();\n        }\n        this.presetHeight();\n    }\n    tabKeyValidation(ele, calendarPos) {\n        const isLeftCalendar = ele.classList.contains(calendarPos);\n        const rightHeader = this.rightCalendar.querySelector('.e-header');\n        const leftHeader = this.leftCalendar.querySelector('.e-header');\n        const isRightMonth = rightHeader ? rightHeader.classList.contains('e-month') : false;\n        const isLeftMonth = leftHeader ? leftHeader.classList.contains('e-month') : false;\n        return isLeftCalendar && isLeftMonth && isRightMonth && !this.isMobile;\n    }\n    keyNavigation(calendar, e) {\n        this.bindCalendarCellEvents(calendar);\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        this.updateRange([calendar]);\n        this.dateDisabled = this.isDateDisabled(this.currentDate);\n        e.preventDefault();\n    }\n    inputHandler(e) {\n        switch (e.action) {\n            case 'altDownArrow':\n                if (!this.isPopupOpen()) {\n                    if (this.inputElement.value === '') {\n                        this.clear();\n                        this.changeTrigger(e);\n                        this.clearRange();\n                    }\n                    this.show(null, e);\n                    this.isRangeIconClicked = false;\n                    if (!this.isMobile) {\n                        if (!isNullOrUndefined(this.leftCalendar)) {\n                            this.calendarFocus();\n                        }\n                    }\n                    this.isKeyPopup = true;\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                }\n                break;\n            case 'enter':\n                if (document.activeElement === this.inputElement) {\n                    this.inputBlurHandler(e);\n                    this.hide(e);\n                }\n                break;\n            case 'tab':\n                if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    }\n    bindCalendarCellEvents(calendar) {\n        let tdCells;\n        if (calendar) {\n            tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        else {\n            tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        for (const cell of tdCells) {\n            EventHandler.clearEvents(cell);\n            const disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n            if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n                if (!this.isMobile) {\n                    EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n                }\n                EventHandler.add(cell, 'mousedown', this.selectRange, this);\n            }\n        }\n    }\n    removeFocusedDate() {\n        const isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n        const focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n        for (const ele of focusedDate) {\n            const today = new Date();\n            const eleDate = this.getIdValue(null, ele);\n            if ((this.depth === 'Month' && this.currentView() === 'Month' &&\n                (!ele.classList.contains(TODAY$2) || (ele.classList.contains(TODAY$2) && isDate)))\n                || (this.depth === 'Year' && this.currentView() === 'Year' &&\n                    ((!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate)) || isDate))\n                || (this.depth === 'Decade' && this.currentView() === 'Decade' &&\n                    (!this.isSameYear(today, eleDate) || isDate))) {\n                ele.classList.remove(FOCUSDATE);\n                if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n                    ele.removeAttribute('aria-label');\n                }\n            }\n        }\n    }\n    hoverSelection(event, element) {\n        const currentElement = element || event.currentTarget;\n        const currentDate = this.getIdValue(null, currentElement);\n        if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n            if ((!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)\n                && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue))\n                || (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                const tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n                for (const ele of tdCells) {\n                    const isDisabledCell = (!ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED));\n                    if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n                        const eleDate = this.getIdValue(null, ele);\n                        const startDateValue = new Date(+this.startValue);\n                        const eleDateValue = new Date(+eleDate);\n                        if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n                            addClass([ele], RANGEHOVER);\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    isSameStartEnd(startVal, endVal) {\n        let isSame = false;\n        if (this.depth === 'Month') {\n            if ((startVal).setHours(0, 0, 0, 0) === (endVal).setHours(0, 0, 0, 0)) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Year') {\n            if ((startVal.getFullYear() === endVal.getFullYear()) &&\n                (startVal.getMonth() === endVal.getMonth())) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Decade') {\n            if (startVal.getFullYear() === endVal.getFullYear()) {\n                isSame = true;\n            }\n        }\n        return isSame;\n    }\n    updateRange(elementCollection) {\n        if (!isNullOrUndefined(this.startValue)) {\n            for (const calendar of elementCollection) {\n                const tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                for (const ele of tdCells) {\n                    if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n                        const eleDate = this.getIdValue(null, ele);\n                        const eleDateValue = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(this.endValue)) {\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) &&\n                                !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) &&\n                                +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min\n                                && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], RANGEHOVER);\n                            }\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) &&\n                            (+eleDateValue !== +this.endValue)) {\n                            removeClass([ele], [SELECTED$3]);\n                            removeClass([ele], [ENDDATE]);\n                        }\n                        if (ele.classList.contains(RANGEHOVER) && (+eleDateValue > +this.endValue)) {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (!ele.classList.contains(OTHERMONTH$2)) {\n                            const startDateValue = new Date(+this.startValue);\n                            let eleDateValue = new Date(+eleDate);\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [STARTDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, true);\n                            }\n                            const endDateValue = new Date(+this.endValue);\n                            if (this.currentView() === 'Year') {\n                                eleDateValue = new Date(eleDateValue.getFullYear(), eleDateValue.getMonth() + 1, 0);\n                            }\n                            else if (this.currentView() === 'Decade') {\n                                eleDateValue = new Date(eleDateValue.getFullYear(), 11, 31);\n                            }\n                            if (this.currentView() === this.depth &&\n                                !isNullOrUndefined(this.endValue) &&\n                                +eleDateValue.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [ENDDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, false);\n                            }\n                            if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                                this.addSelectedAttributes(ele, this.endValue, false, true);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    checkMinMaxDays() {\n        if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n            if (!this.isMobile) {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n            }\n            else {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            }\n        }\n    }\n    rangeArgs(e) {\n        let inputValue;\n        let range;\n        const startDate = !isNullOrUndefined(this.startValue) ?\n            this.globalize.formatDate(this.startValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        const endDate = !isNullOrUndefined(this.endValue) ?\n            this.globalize.formatDate(this.endValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n        }\n        else {\n            inputValue = '';\n            range = 0;\n        }\n        const args = {\n            value: this.value,\n            startDate: this.startValue,\n            endDate: this.endValue,\n            daySpan: range,\n            event: e || null,\n            element: this.element,\n            isInteracted: !isNullOrUndefined(e),\n            text: inputValue\n        };\n        return args;\n    }\n    otherMonthSelect(ele, isStartDate, sameDate) {\n        const value = +this.getIdValue(null, ele);\n        const dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n        const tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n        if (!isNullOrUndefined(tdCell)) {\n            if (isStartDate) {\n                addClass([tdCell], [STARTDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.startValue, true);\n            }\n            else {\n                addClass([tdCell], [ENDDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.endValue, true);\n            }\n            if (sameDate) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n            }\n        }\n    }\n    selectRange(event, element) {\n        let leftCalendar;\n        let rightCalendar;\n        if (event) {\n            event.preventDefault();\n        }\n        const date = isNullOrUndefined(event) ? this.getIdValue(null, element)\n            : this.getIdValue(event, null);\n        const y = date.getFullYear();\n        const m = date.getMonth();\n        const firstDay = new Date(y, m, 1);\n        const lastDay = new Date(y, m + 1, 0);\n        const firstMonth = new Date(y, 0, 1);\n        const lastMonth = new Date(y, 11, 31);\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n                this.removeSelection();\n            }\n        }\n        else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n            this.removeSelection();\n        }\n        const ele = element || event.currentTarget;\n        if (isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.previousStartValue)) {\n                date.setHours(this.previousStartValue.getHours());\n                date.setMinutes(this.previousStartValue.getMinutes());\n                date.setSeconds(this.previousStartValue.getSeconds());\n            }\n            this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                (this.depth === 'Year') ? firstDay : firstMonth;\n            this.endValue = null;\n            this.setValue();\n            addClass([ele], STARTDATE);\n            this.addSelectedAttributes(ele, this.startValue, true);\n            if (ele.classList.contains(OTHERMONTH$2)) {\n                this.otherMonthSelect(ele, true);\n            }\n            this.checkMinMaxDays();\n            this.applyButton.disabled = true;\n            this.applyButton.element.disabled = true;\n            if (this.isMobile) {\n                this.endButton.element.classList.add(ACTIVE$1);\n                this.startButton.element.classList.remove(ACTIVE$1);\n                this.endButton.element.removeAttribute('disabled');\n                this.selectableDates();\n            }\n            this.trigger('select', this.rangeArgs(event));\n        }\n        else {\n            if (+date === +this.startValue || +date > +this.startValue) {\n                if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n                    return;\n                }\n                this.endValue = null;\n                this.setValue();\n                if (this.isMobile || element) {\n                    this.hoverSelection(event, element);\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    date.setHours(this.previousEndValue.getHours());\n                    date.setMinutes(this.previousEndValue.getMinutes());\n                    date.setSeconds(this.previousEndValue.getSeconds());\n                }\n                this.endValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? lastDay : lastMonth;\n                this.setValue();\n                let endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                if (this.isMobile) {\n                    this.startButton.element.classList.remove(ACTIVE$1);\n                    this.endButton.element.classList.add(ACTIVE$1);\n                    for (const ele of endEle) {\n                        ele.removeAttribute('aria-label');\n                        if (!ele.classList.contains(STARTDATE)) {\n                            ele.setAttribute('aria-selected', 'false');\n                            removeClass([ele], [ENDDATE, SELECTED$3]);\n                        }\n                        else {\n                            this.addSelectedAttributes(ele, this.startValue, true);\n                            removeClass([ele], [ENDDATE]);\n                        }\n                    }\n                }\n                addClass([ele], ENDDATE);\n                if (+this.endValue === +this.startValue) {\n                    this.addSelectedAttributes(ele, this.endValue, false, true);\n                }\n                else {\n                    this.addSelectedAttributes(ele, this.endValue, false);\n                }\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    if (+this.endValue === +this.startValue) {\n                        this.otherMonthSelect(ele, false, true);\n                    }\n                    else {\n                        this.otherMonthSelect(ele, false);\n                    }\n                }\n                endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                for (const ele of endEle) {\n                    if (ele.classList.contains(STARTDATE)) {\n                        removeClass([ele], [RANGEHOVER]);\n                    }\n                }\n                this.applyButton.disabled = false;\n                this.applyButton.element.disabled = false;\n                if (!this.isMobile) {\n                    this.removeClassDisabled();\n                }\n                this.disabledDateRender();\n                this.trigger('select', this.rangeArgs(event));\n            }\n            else if (+date < +this.startValue) {\n                this.removeClassDisabled();\n                this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? firstDay : firstMonth;\n                this.setValue();\n                this.removeSelectedAttributes();\n                removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n                addClass([ele], STARTDATE);\n                this.addSelectedAttributes(ele, this.startValue, true);\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    this.otherMonthSelect(ele, true);\n                }\n                this.checkMinMaxDays();\n            }\n        }\n        if (event) {\n            leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n        }\n        if (!isNullOrUndefined(leftCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n        }\n        else {\n            if (event) {\n                rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n            }\n            if (!isNullOrUndefined(rightCalendar)) {\n                this.rightCalendar.children[1].firstElementChild.focus();\n            }\n        }\n        addClass([ele], SELECTED$3);\n        this.updateHeader();\n        this.removeFocusedDate();\n    }\n    selectableDates() {\n        if (!isNullOrUndefined(this.startValue)) {\n            const tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n            let isStartDate = false;\n            if (this.currentView() === this.depth) {\n                for (const ele of tdCells) {\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            const eleDate = this.getIdValue(null, ele);\n                            if (+eleDate < +this.startValue) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                                continue;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                    if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n                        isStartDate = true;\n                        break;\n                    }\n                }\n                if (isStartDate) {\n                    if (!this.previousIcon.classList.contains(DISABLED$2)) {\n                        addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                    }\n                }\n            }\n            else {\n                for (const ele of tdCells) {\n                    const startMonth = this.startValue.getMonth();\n                    const startYear = this.startValue.getFullYear();\n                    const element = this.getIdValue(null, ele);\n                    if (!this.startButton.element.classList.contains(ACTIVE$1) && ((this.currentView() === 'Year' &&\n                        (element.getMonth() < startMonth) && (element.getFullYear() <= startYear))\n                        || (this.currentView() === 'Decade' && (element.getMonth() <= startMonth) &&\n                            (element.getFullYear() < startYear)))) {\n                        addClass([ele], [DISABLED$2]);\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (tdCells[0].classList.contains(DISABLED$2)) {\n                    this.previousIconHandler(true);\n                }\n                else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n                    this.nextIconHandler(true);\n                }\n            }\n        }\n    }\n    updateMinMaxDays(calendar) {\n        if ((!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) ||\n            (this.isMobile && this.endButton.element.classList.contains(ACTIVE$1))) {\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n                const startValueSelected = this.removeTimeValueFromDate(this.startValue);\n                let minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n                let maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n                minDate = (!isNullOrUndefined(this.minDays) && this.minDays > 0) ? minDate : null;\n                maxDate = (!isNullOrUndefined(this.maxDays) && this.maxDays > 0) ? maxDate : null;\n                if (this.currentView() === 'Year') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n                }\n                else if (this.currentView() === 'Decade') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n                }\n                const tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                let maxEle;\n                for (const ele of tdCells) {\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        let eleDate = this.getIdValue(null, ele);\n                        eleDate = this.removeTimeValueFromDate(eleDate);\n                        if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n                            minDate.setDate(minDate.getDate() + 1);\n                        }\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            if (+eleDate <= +startValueSelected) {\n                                continue;\n                            }\n                            if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                            }\n                            if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                this.isMaxDaysClicked = true;\n                                EventHandler.clearEvents(ele);\n                                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                                    maxEle = ele;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(maxEle)) {\n                    if (this.isMobile) {\n                        if (!this.nextIcon.classList.contains(DISABLED$2)) {\n                            addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                        }\n                    }\n                    else {\n                        let calendar = closest(maxEle, '.' + RIGHTCALENDER);\n                        calendar = isNullOrUndefined(calendar) ? this.leftCalendar : calendar;\n                        const isLeftCalendar = calendar.classList.contains(LEFTCALENDER);\n                        if (!isLeftCalendar) {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                        else {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.isMaxDaysClicked = false;\n        }\n    }\n    removeTimeValueFromDate(value) {\n        const dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n        return dateValue;\n    }\n    removeClassDisabled() {\n        const tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n        for (const ele of tdCells) {\n            if (ele.classList.contains(DATEDISABLED)) {\n                removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.add(ele, 'click', this.selectRange, this);\n                if (!this.isMobile) {\n                    EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n                }\n            }\n        }\n        if (this.isMobile) {\n            if (this.nextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.previousIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n        else {\n            if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n    }\n    updateHeader() {\n        const format = { type: 'date', skeleton: 'yMMMd' };\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            let range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n        }\n        else {\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            if (!isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n            }\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n            }\n        }\n        if ((this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue)) ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue))\n                    && +this.startValue > +this.endValue))) {\n            if (!this.isMobile) {\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n            }\n        }\n        if (this.popupObj.element.querySelector('#custom_range')) {\n            this.popupObj.element.querySelector('#custom_range').textContent =\n                this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n        }\n    }\n    removeSelection() {\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n        this.removeSelectedAttributes();\n        if (this.popupObj) {\n            if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n            }\n        }\n    }\n    addSelectedAttributes(ele, date, isStartDate, sameDate) {\n        if (ele) {\n            const title = this.globalize.formatDate(date, { type: 'date', skeleton: 'full' });\n            if (!isNullOrUndefined(sameDate) && sameDate) {\n                ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n            }\n            else {\n                ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n            }\n            ele.setAttribute('aria-selected', 'true');\n        }\n    }\n    removeSelectedAttributes() {\n        if (this.popupObj) {\n            const start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n            for (const ele of start) {\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n            const end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n            for (const ele of end) {\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n        }\n    }\n    updateCalendarElement(calendar) {\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.calendarElement = this.leftCalendar;\n            this.currentDate = this.leftCalCurrentDate;\n            this.previousIcon = this.leftCalPrevIcon;\n            this.nextIcon = this.leftCalNextIcon;\n        }\n        else {\n            this.calendarElement = this.rightCalendar;\n            this.currentDate = this.rightCalCurrentDate;\n            this.previousIcon = this.rightCalPrevIcon;\n            this.nextIcon = this.rightCalNextIcon;\n        }\n        this.contentElement = calendar.querySelector('.' + CONTENT$1);\n        this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n        this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n        this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n        this.headerElement = calendar.querySelector('.' + HEADER$1);\n    }\n    navPrevMonth(e) {\n        e.preventDefault();\n        let ele = closest(e.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigatePrevious(e);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    deviceNavigation(ele) {\n        this.deviceCalendarEvent();\n        this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        }\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.selectableDates();\n        }\n        if (this.currentView() === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    }\n    updateControl(calendar, customDate = null) {\n        if (calendar.classList.contains(RIGHTCALENDER)) {\n            this.rightCalCurrentDate = new Date(+(customDate ? customDate : this.currentDate));\n        }\n        else {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.calendarIconEvent();\n        if ((((this.depth === 'Month')\n            && this.leftCalendar.querySelector('.e-content').classList.contains('e-month')\n            && this.rightCalendar.querySelector('.e-content').classList.contains('e-month'))\n            || ((this.depth === 'Year')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-year')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-year'))\n            || ((this.depth === 'Decade')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade')))\n            || this.isMobile) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n        this.updateRange([calendar]);\n    }\n    navNextMonth(event) {\n        event.preventDefault();\n        let ele = closest(event.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigateNext(event);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    }\n    isPopupOpen() {\n        if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n            return true;\n        }\n        return false;\n    }\n    createRangeHeader() {\n        const labelContainer = this.createElement('div', { className: STARTENDCONTAINER });\n        if (!this.isMobile) {\n            const startLabel = this.createElement('a', { className: STARTLABEL });\n            const endLabel = this.createElement('a', { className: ENDLABEL });\n            const changeIcon = this.createElement('span', { className: CHANGEICON });\n            attributes(startLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'Start Date', 'role': 'button' });\n            attributes(endLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'End Date', 'role': 'button' });\n            labelContainer.appendChild(startLabel);\n            labelContainer.appendChild(changeIcon);\n            labelContainer.appendChild(endLabel);\n            startLabel.textContent = this.l10n.getConstant('startLabel');\n            endLabel.textContent = this.l10n.getConstant('endLabel');\n        }\n        else {\n            const endBtn = this.createElement('button', { className: ENDBUTTON });\n            const startBtn = this.createElement('button', { className: STARTBUTTON });\n            this.startButton = new Button({ content: this.l10n.getConstant('startLabel') }, startBtn);\n            this.endButton = new Button({ content: this.l10n.getConstant('endLabel') }, endBtn);\n            labelContainer.appendChild(startBtn);\n            labelContainer.appendChild(endBtn);\n        }\n        return labelContainer;\n    }\n    disableInput() {\n        if (this.strictMode) {\n            if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n                this.startValue = this.previousStartValue;\n                this.endValue = this.previousEndValue;\n                this.setValue();\n                this.updateInput();\n            }\n        }\n        else {\n            this.updateInput();\n            this.clearRange();\n            this.setProperties({ startDate: null }, true);\n            this.setProperties({ endDate: null }, true);\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n            this.errorClass();\n        }\n        this.setProperties({ enabled: false }, true);\n        Input.setEnabled(this.enabled, this.inputElement);\n        this.bindEvents();\n    }\n    validateMinMax() {\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (!(this.min <= this.max)) {\n            this.disableInput();\n            return;\n        }\n        if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n            if (this.maxDays > 0 && this.minDays > 0 && (this.minDays > this.maxDays)) {\n                this.maxDays = null;\n            }\n        }\n        if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n            this.minDays = null;\n        }\n        if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n            this.maxDays = null;\n        }\n    }\n    validateRangeStrict() {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (+this.startValue <= +this.min) {\n                this.startValue = this.min;\n                this.setValue();\n            }\n            else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n                this.startValue = this.max;\n            }\n        }\n        if (!isNullOrUndefined(this.endValue)) {\n            if (+this.endValue > +this.max) {\n                this.endValue = this.max;\n                this.setValue();\n            }\n            else if (+this.endValue < +this.min) {\n                this.endValue = this.min;\n                this.setValue();\n            }\n        }\n        this.validateMinMaxDays();\n    }\n    validateRange() {\n        this.validateMinMaxDays();\n    }\n    validateMinMaxDays() {\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            const range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) && !(range >= this.minDays)) {\n                if (this.strictMode) {\n                    const date = new Date(+this.startValue);\n                    date.setDate(date.getDate() + (this.minDays - 1));\n                    if (+date > +this.max) {\n                        this.endValue = this.max;\n                        this.setValue();\n                    }\n                    else {\n                        this.endValue = date;\n                        this.setValue();\n                    }\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if ((!isNullOrUndefined(this.maxDays) && this.maxDays > 0) && !(range <= this.maxDays)) {\n                if (this.strictMode) {\n                    this.endValue = new Date(+this.startValue);\n                    this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n                    this.setValue();\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n        }\n    }\n    renderCalendar() {\n        this.calendarElement = this.createElement('div');\n        this.calendarElement.classList.add(CALENDAR);\n        if (this.enableRtl) {\n            this.calendarElement.classList.add(RTL$1);\n        }\n        attributes(this.calendarElement, { 'role': 'calendar' });\n        super.createHeader();\n        super.createContent();\n    }\n    isSameMonth(start, end) {\n        if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    }\n    isSameYear(start, end) {\n        if (start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    }\n    isSameDecade(start, end) {\n        const startYear = start.getFullYear();\n        const endYear = end.getFullYear();\n        if ((startYear - (startYear % 10)) === (endYear - (endYear % 10))) {\n            return true;\n        }\n        return false;\n    }\n    startMonthCurrentDate() {\n        if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n            this.currentDate = new Date(+this.max);\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n        }\n        else if (this.currentDate < this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n    }\n    selectNextMonth() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n            return;\n        }\n        if ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setDate(1);\n            const month = this.currentDate.getMonth() + 1;\n            this.currentDate.setMonth(month);\n        }\n    }\n    selectNextYear() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setMonth(0);\n            const yr = this.currentDate.getFullYear() + 1;\n            this.currentDate.setFullYear(yr);\n            return;\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setMonth(0);\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n        }\n    }\n    selectNextDecade() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            const decyr = this.currentDate.getFullYear() + 10;\n            this.currentDate.setFullYear(decyr);\n            return;\n        }\n        if (((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n        }\n    }\n    selectStartMonth() {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n                this.currentDate = new Date(+this.max);\n                this.currentDate.setDate(1);\n                this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n            }\n            else if (!(this.startValue >= this.min && this.startValue <= this.max)\n                || this.isDateDisabled(this.startValue)) {\n                this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            }\n            else {\n                this.currentDate = new Date(+this.startValue);\n            }\n        }\n        else {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.startMonthCurrentDate();\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n        this.startMonthCurrentDate();\n    }\n    createCalendar() {\n        const calendarContainer = this.createElement('div', { className: CALENDARCONTAINER });\n        if (!this.isMobile) {\n            this.selectStartMonth();\n            this.renderCalendar();\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.calendarElement.classList.add(LEFTCALENDER);\n            this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n            this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n            this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n            prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n            this.leftCalendar = this.calendarElement;\n            const leftContainer = this.createElement('div', { className: LEFTCONTAINER });\n            const rightContainer = this.createElement('div', { className: RIGHTCONTAINER });\n            leftContainer.appendChild(this.leftCalendar);\n            calendarContainer.appendChild(leftContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n            }\n            if (this.start === 'Month') {\n                this.selectNextMonth();\n            }\n            if (this.start === 'Year') {\n                this.selectNextYear();\n            }\n            if (this.start === 'Decade') {\n                this.selectNextDecade();\n            }\n            this.renderCalendar();\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            addClass([this.calendarElement], RIGHTCALENDER);\n            this.rightCalendar = this.calendarElement;\n            removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n            this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n            this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('table').setAttribute('tabindex', '0');\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n            prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n            rightContainer.appendChild(this.rightCalendar);\n            calendarContainer.appendChild(rightContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.currentDate = new Date(+this.startValue);\n            }\n            super.validateDate();\n            super.minMaxUpdate();\n            super.render();\n            const prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n            const nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n            remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n            prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n            this.deviceCalendar = this.calendarElement;\n            calendarContainer.appendChild(this.calendarElement);\n            this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n        }\n        return calendarContainer;\n    }\n    leftNavTitle(e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.leftCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    }\n    calendarNavigation(e, element) {\n        this.table = element.querySelector('table');\n        this.headerTitleElement = element.querySelector('.e-title');\n        this.tableBodyElement = element.querySelector('tbody');\n        this.tableHeadElement = element.querySelector('thead');\n        this.contentElement = element.querySelector('.e-content');\n        this.updateCalendarElement(element);\n        super.navigateTitle(e);\n        this.updateNavIcons();\n    }\n    rightNavTitle(e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.rightCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    }\n    clickEventEmitter(e) {\n        if (!this.isMobile) {\n            if (closest(e.target, '.e-calendar.e-left-calendar')) {\n                this.calendarElement = this.leftCalendar;\n                this.updateCalendarElement(this.leftCalendar);\n            }\n            else {\n                this.calendarElement = this.rightCalendar;\n                this.updateCalendarElement(this.rightCalendar);\n            }\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @private\n     * @hidden\n     */\n    currentView() {\n        return super.currentView();\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    getCalendarView(view) {\n        if (view === 'Year') {\n            return 'Year';\n        }\n        else if (view === 'Decade') {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    }\n    navigatedEvent(e) {\n        this.trigger('navigated', this.navigatedArgs);\n        if (!isNullOrUndefined(this.popupObj)) {\n            let element;\n            const view = this.getCalendarView(this.currentView());\n            if (this.isMobile) {\n                if (view === this.depth) {\n                    this.bindCalendarCellEvents();\n                    this.deviceNavigation();\n                    this.removeFocusedDate();\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.selectableDates();\n                }\n            }\n            else {\n                if (!this.isMobile && view === this.depth) {\n                    element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n                    if (element === this.leftCalendar && ((e && !e.currentTarget.children[0].classList.contains('e-icons'))\n                        || (!isNullOrUndefined(this.controlDown)))) {\n                        this.leftCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.leftCalCurrentDate;\n                        this.updateCalendarElement(this.leftCalendar);\n                        this.updateControl(this.leftCalendar);\n                        this.updateCalendarElement(this.rightCalendar);\n                        super.navigateTo.call(this, view, this.rightCalCurrentDate);\n                        const customDate = this.rightCalCurrentDate ? this.rightCalCurrentDate : this.currentDate;\n                        this.updateControl(this.rightCalendar, customDate);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    else if (e && !e.currentTarget.children[0].classList.contains('e-icons')\n                        || (!isNullOrUndefined(this.controlDown))) {\n                        this.rightCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.rightCalCurrentDate;\n                        this.updateCalendarElement(this.rightCalendar);\n                        this.updateControl(this.rightCalendar);\n                        this.updateCalendarElement(this.leftCalendar);\n                        if (this.startValue && isNullOrUndefined(this.endValue)) {\n                            if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() &&\n                                this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                                super.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                                super.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else {\n                                super.navigateTo.call(this, view, this.leftCalCurrentDate);\n                            }\n                        }\n                        else {\n                            super.navigateTo.call(this, view, this.leftCalCurrentDate);\n                        }\n                        this.updateControl(this.leftCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.updateNavIcons();\n                    this.calendarIconEvent();\n                }\n            }\n        }\n    }\n    createControl() {\n        const controlContainer = this.createElement('div', { className: RANGECONTAINER });\n        const headerContainer = this.createElement('div', { className: RANGEHEADER });\n        const labelContainer = this.createRangeHeader();\n        headerContainer.appendChild(labelContainer);\n        const daySpan = this.createElement('div', { className: DAYSPAN });\n        attributes(daySpan, { 'aria-label': 'Selected Days' });\n        daySpan.textContent = this.l10n.getConstant('selectedDays');\n        headerContainer.appendChild(daySpan);\n        const separator = this.createElement('div', { className: SEPARATOR });\n        const calendarContainer = this.createCalendar();\n        controlContainer.appendChild(headerContainer);\n        controlContainer.appendChild(separator);\n        controlContainer.appendChild(calendarContainer);\n        const footerSection = this.createElement('div', { className: FOOTER$1 });\n        const cancelBtn = this.createElement('button', { className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1 });\n        const applyBtn = this.createElement('button');\n        addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n        footerSection.appendChild(applyBtn);\n        footerSection.appendChild(cancelBtn);\n        const enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n        this.cancelButton = new Button({ content: this.l10n.getConstant('cancelText') }, cancelBtn);\n        this.applyButton = new Button({ content: this.l10n.getConstant('applyText'), disabled: !enable }, applyBtn);\n        EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n        EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n        this.popupWrapper.appendChild(controlContainer);\n        if (!this.isMobile) {\n            if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                this.createPresets();\n                this.listRippleEffect();\n                addClass([controlContainer], RANGEBORDER);\n                addClass([this.popupWrapper], 'e-preset-wrapper');\n                const presets = this.popupWrapper.querySelector('.' + PRESETS);\n                presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n            }\n        }\n        this.popupWrapper.appendChild(footerSection);\n        if (this.isMobile) {\n            this.deviceHeaderUpdate();\n        }\n        this.renderPopup();\n    }\n    cancelFunction(eve) {\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        eve.preventDefault();\n        if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n        }\n        this.startValue = null;\n        this.endValue = null;\n        this.removeSelection();\n        this.hide(eve);\n    }\n    deviceHeaderUpdate() {\n        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.endButton.element.setAttribute('disabled', '');\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n        else if (!isNullOrUndefined(this.startValue)) {\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n    }\n    applyFunction(eve) {\n        let isValueChanged = false;\n        if (eve.type !== 'touchstart') {\n            eve.preventDefault();\n        }\n        if (this.closeEventArgs && this.closeEventArgs.cancel) {\n            this.startValue = this.popupWrapper.querySelector('.e-start-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n            this.endValue = this.popupWrapper.querySelector('.e-end-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n            this.setValue();\n        }\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        if (eve.type !== 'touchstart' &&\n            this.closeEventArgs && !this.closeEventArgs.cancel) {\n            eve.preventDefault();\n        }\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n            this.previousEleValue = this.inputElement.value;\n            Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n            if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n                isValueChanged = true;\n            }\n            this.changeTrigger(eve);\n            this.hide(eve ? eve : null);\n            this.errorClass();\n            isValueChanged = true;\n        }\n        else {\n            this.hide(eve ? eve : null);\n        }\n        if (!(closest(eve.target, '.' + INPUTCONTAINER$1))\n            && (!isValueChanged)) {\n            this.focusOut();\n        }\n        if (!this.isMobile) {\n            this.isKeyPopup = false;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.children[1].focus();\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n                    eventName: 'keydown',\n                    keyConfigs: this.keyInputConfigs,\n                    keyAction: this.popupKeyActionHandle.bind(this)\n                });\n            }\n        }\n    }\n    onMouseClick(event, item) {\n        if (event.type === 'touchstart') {\n            return;\n        }\n        const target = item || event.target;\n        const li = closest(target, '.' + LISTCLASS);\n        const isClick = li && li.classList.contains(ACTIVE$1);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.setListSelection(li, event);\n        }\n        this.preventFocus = true;\n        this.inputElement.focus();\n        if (!this.isMobile) {\n            this.preventFocus = true;\n            if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n            else {\n                if (!isClick && event.type === 'keydown') {\n                    this.inputElement.focus();\n                }\n            }\n        }\n    }\n    onMouseOver(event) {\n        const li = closest(event.target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n            addClass([li], HOVER);\n        }\n    }\n    onMouseLeave(event) {\n        const item = closest(event.target, '.' + HOVER);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], HOVER);\n        }\n    }\n    setListSelection(li, event) {\n        if (li && (!li.classList.contains(ACTIVE$1) || (this.isMobile && li.classList.contains(ACTIVE$1)))) {\n            if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                const values = this.presetsItem[this.activeIndex];\n                if (values.id === 'custom_range') {\n                    this.renderCustomPopup();\n                    return;\n                }\n                return;\n            }\n            this.removeListSelection();\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            addClass([li], ACTIVE$1);\n            li.setAttribute('aria-selected', 'true');\n            const values = this.presetsItem[this.activeIndex];\n            if (values.id === 'custom_range') {\n                this.renderCustomPopup();\n            }\n            else {\n                this.applyPresetRange(values, event);\n            }\n        }\n    }\n    removeListSelection() {\n        const item = this.presetElement.querySelector('.' + ACTIVE$1);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], ACTIVE$1);\n            item.removeAttribute('aria-selected');\n        }\n    }\n    setValue() {\n        this.modelValue = [this.startValue, this.endValue];\n    }\n    applyPresetRange(values, e) {\n        this.hide(null);\n        this.presetsItem[this.presetsItem.length - 1].start = null;\n        this.presetsItem[this.presetsItem.length - 1].end = null;\n        this.startValue = values.start;\n        this.endValue = values.end;\n        this.setValue();\n        this.refreshControl();\n        this.trigger('select', this.rangeArgs(e));\n        this.changeTrigger(e);\n        this.previousEleValue = this.inputElement.value;\n        this.isCustomRange = false;\n        this.leftCalendar = this.rightCalendar = null;\n        if (this.isKeyPopup) {\n            this.isRangeIconClicked = false;\n            this.inputElement.focus();\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    showPopup(element, event) {\n        this.presetHeight();\n        if (this.zIndex === 1000) {\n            this.popupObj.show(null, this.element);\n        }\n        else {\n            this.popupObj.show(null, null);\n        }\n        if (this.isMobile) {\n            this.popupObj.refreshPosition();\n        }\n    }\n    renderCustomPopup() {\n        this.isCustomWindow = true;\n        this.popupObj.hide();\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.renderControl();\n        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.showPopup();\n        this.isCustomRange = true;\n        if (!this.isMobile) {\n            this.calendarFocus();\n        }\n    }\n    listRippleEffect() {\n        for (const li of this.liCollections) {\n            rippleEffect(li);\n        }\n    }\n    createPresets() {\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            this.presetElement = this.createElement('div', { className: PRESETS, attrs: { 'tabindex': '0' } });\n            const listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n            attributes(listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n            this.presetElement.appendChild(listTag);\n            this.popupWrapper.appendChild(this.presetElement);\n            const customElement = this.presetElement.querySelector('#custom_range');\n            if (!isNullOrUndefined(customElement)) {\n                customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange')\n                    : 'Custom Range';\n            }\n            this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n            this.wireListEvents();\n            if (this.isMobile) {\n                this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n            }\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n                addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n            }\n        }\n    }\n    wireListEvents() {\n        EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n        if (!this.isMobile) {\n            EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n        }\n    }\n    unWireListEvents() {\n        if (!isNullOrUndefined(this.presetElement)) {\n            EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n            if (!this.isMobile) {\n                EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n            }\n        }\n    }\n    renderPopup() {\n        this.popupWrapper.classList.add('e-control');\n        const popupWidth = this.popupWrapper.getBoundingClientRect().width;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            this.modal = this.createElement('div');\n            document.body.appendChild(this.modal);\n        }\n        this.popupObj = new Popup(this.popupWrapper, {\n            relateTo: this.isMobile && this.isCustomWindow ? document.body :\n                (!isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container),\n            position: (this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'left', Y: 'bottom' } : { X: 'center', Y: 'center' }) :\n                this.enableRtl ? { X: 'left', Y: 'bottom' } : { X: 'right', Y: 'bottom' }),\n            offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n            offsetY: OFFSETVALUE$1,\n            collision: this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'fit' } : { X: 'fit', Y: 'fit' }) : { X: 'fit', Y: 'flip' },\n            targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            open: () => {\n                attributes(this.inputElement, { 'aria-expanded': 'true' });\n                addClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (!this.isMobile) {\n                    if (this.cancelButton) {\n                        this.btnKeyboardModule = new KeyboardEvents(this.cancelButton.element, {\n                            eventName: 'keydown',\n                            keyAction: this.popupKeyActionHandle.bind(this),\n                            keyConfigs: { tab: 'tab', altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        this.btnKeyboardModule = new KeyboardEvents(this.applyButton.element, {\n                            eventName: 'keydown',\n                            keyAction: this.popupKeyActionHandle.bind(this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                    }\n                    if (!isNullOrUndefined(this.leftCalendar)) {\n                        if (!this.isRangeIconClicked) {\n                            this.calendarFocus();\n                        }\n                    }\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                        this.presetKeyboardModule = new KeyboardEvents(this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: this.presetKeyActionHandler.bind(this),\n                            keyConfigs: this.keyInputConfigs\n                        });\n                        this.presetKeyboardModule = new KeyboardEvents(this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: this.popupKeyActionHandle.bind(this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        if (isNullOrUndefined(this.leftCalendar)) {\n                            this.preventBlur = true;\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.presetElement.setAttribute('tabindex', '-1');\n                        }\n                    }\n                    this.popupKeyBoardHandler();\n                }\n                if (this.isMobile && !Browser.isDevice) {\n                    EventHandler.add(document, 'keydown', this.popupCloseHandler, this);\n                }\n            },\n            close: () => {\n                attributes(this.inputElement, { 'aria-expanded': 'false' });\n                removeClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (this.isRangeIconClicked) {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                    this.unWireListEvents();\n                }\n                if (!isNullOrUndefined(this.popupObj)) {\n                    if (!isNullOrUndefined(this.popupObj.element.parentElement)) {\n                        detach(this.popupObj.element);\n                    }\n                    this.popupObj.destroy();\n                    this.popupObj = null;\n                }\n                if (this.isMobile && !Browser.isDevice) {\n                    EventHandler.remove(document, 'keydown', this.popupCloseHandler);\n                }\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        if (this.isMobile) {\n            this.popupObj.element.classList.add(DEVICE$1);\n            if (!this.isMobile) {\n                this.popupObj.element.classList.add('e-bigger');\n            }\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n            document.body.className += ' ' + OVERFLOW$1;\n            this.modal.style.display = 'block';\n        }\n        EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n    }\n    popupCloseHandler(e) {\n        switch (e.keyCode) {\n            case 27:\n                this.hide(e);\n                break;\n        }\n    }\n    calendarFocus() {\n        const startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n        if (startDate) {\n            let ele = closest(startDate, '.' + RIGHTCALENDER);\n            ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                ele.children[1].firstElementChild.focus();\n            }\n            addClass([startDate], FOCUSDATE);\n        }\n        else {\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n        }\n    }\n    presetHeight() {\n        const presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n        const rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n        if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n            presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n        }\n    }\n    presetKeyActionHandler(e) {\n        switch (e.action) {\n            case 'moveDown':\n                this.listMoveDown(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                this.listMoveUp(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'enter':\n                {\n                    const hvrItem = this.getHoverLI();\n                    const actItem = this.getActiveLI();\n                    if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n                        if (isNullOrUndefined(hvrItem) || (!isNullOrUndefined(actItem) && actItem === hvrItem)) {\n                            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n                            const values = this.presetsItem[this.activeIndex];\n                            if (values.id === 'custom_range') {\n                                this.calendarFocus();\n                                actItem.classList.remove(HOVER);\n                                e.preventDefault();\n                                return;\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n                        this.onMouseClick(e, hvrItem || actItem);\n                    }\n                    e.preventDefault();\n                }\n                break;\n            case 'tab':\n                if (this.leftCalendar) {\n                    const item = this.getHoverLI();\n                    if (!isNullOrUndefined(item)) {\n                        item.classList.remove(HOVER);\n                    }\n                }\n                else {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    listMoveDown(e) {\n        const hvrItem = this.getHoverLI();\n        const actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            const li = hvrItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            const li = actItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n        else {\n            addClass([this.liCollections[0]], HOVER);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    listMoveUp(e) {\n        const hvrItem = this.getHoverLI();\n        const actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            const li = hvrItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            const li = actItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n    }\n    getHoverLI() {\n        const item = this.presetElement.querySelector('.' + HOVER);\n        return item;\n    }\n    getActiveLI() {\n        const item = this.presetElement.querySelector('.' + ACTIVE$1);\n        return item;\n    }\n    popupKeyBoardHandler() {\n        this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: { escape: 'escape' }\n        });\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: this.keyInputConfigs\n        });\n    }\n    setScrollPosition() {\n        const listHeight = this.presetElement.getBoundingClientRect().height;\n        const hover = this.presetElement.querySelector('.' + HOVER);\n        const active = this.presetElement.querySelector('.' + ACTIVE$1);\n        const element = !isNullOrUndefined(hover) ? hover : active;\n        if (!isNullOrUndefined(element)) {\n            const nextEle = element.nextElementSibling;\n            const height = nextEle ? nextEle.offsetTop : element.offsetTop;\n            const liHeight = element.getBoundingClientRect().height;\n            if ((height + element.offsetTop) > listHeight) {\n                this.presetElement.scrollTop = nextEle ? (height - (listHeight / 2 + liHeight / 2)) : height;\n            }\n            else {\n                this.presetElement.scrollTop = 0;\n            }\n        }\n    }\n    popupKeyActionHandle(e) {\n        const presetElement = closest(e.target, '.' + PRESETS);\n        switch (e.action) {\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    if (this.isKeyPopup) {\n                        this.inputElement.focus();\n                        this.isKeyPopup = false;\n                    }\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isPopupOpen()) {\n                    this.show(null, e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.cancelButton.element.focus();\n                }\n                else {\n                    if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else {\n                    if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n                        this.cancelButton.element.focus();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.presetElement) && (document.activeElement === this.cancelButton.element)) {\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.rightCalendar.children[1].firstElementChild.focus();\n                        }\n                    }\n                }\n                e.preventDefault();\n                break;\n        }\n    }\n    documentHandler(e) {\n        if (isNullOrUndefined(this.popupObj)) {\n            return;\n        }\n        const target = e.target;\n        if (!this.inputWrapper.container.contains(target) ||\n            (!isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]'))) {\n            if (e.type !== 'touchstart' && ((e.type === 'mousedown') ||\n                this.closeEventArgs && !this.closeEventArgs.cancel)) {\n                e.preventDefault();\n            }\n        }\n        if ((isNullOrUndefined(this.targetElement) ||\n            (!isNullOrUndefined(this.targetElement) && !(target === this.targetElement))) &&\n            !(closest(target, '[id=\"' + this.popupWrapper.id + '\"]'))\n            && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container)\n            && !(closest(target, '.e-daterangepicker.e-popup') && (!target.classList.contains('e-day')))) {\n            this.preventBlur = false;\n            if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n                this.applyFunction(e);\n                if (!this.isMobile) {\n                    this.isRangeIconClicked = false;\n                }\n            }\n        }\n    }\n    createInput() {\n        let updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            floatLabelType: this.floatLabelType,\n            element: this.inputElement,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [DATERANGEICON]\n        }, this.createElement);\n        attributes(this.inputElement, {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        });\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n            Input.addAttributes({ 'aria-placeholder': this.placeholder }, this.inputElement);\n        }\n        this.setEleWidth(this.width);\n        addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.inputElement.type === 'hidden') {\n            this.inputWrapper.container.style.display = 'none';\n        }\n        this.refreshControl();\n        this.previousEleValue = this.inputElement.value;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.startCopy = this.startDate;\n        this.endCopy = this.endDate;\n    }\n    setEleWidth(width) {\n        if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (this.width);\n        }\n        else if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    }\n    adjustLongHeaderWidth() {\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.popupWrapper], DAYHEADERLONG$1);\n        }\n    }\n    refreshControl() {\n        this.validateMinMax();\n        if (this.strictMode) {\n            this.validateRangeStrict();\n        }\n        const isDisabled = this.disabledDates();\n        if (this.strictMode && (isDisabled)) {\n            this.startValue = this.previousStartValue;\n            this.setProperties({ startDate: this.startValue }, true);\n            this.endValue = this.previousEndValue;\n            this.setProperties({ endDate: this.endValue }, true);\n            this.setValue();\n        }\n        this.updateInput();\n        if (!this.strictMode) {\n            this.validateRange();\n        }\n        if (!this.strictMode && (isDisabled)) {\n            this.clearRange();\n        }\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n            this.disabledDateRender();\n        }\n        this.errorClass();\n        this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n        this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n    }\n    updateInput() {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            const formatOption = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n            const startDate = this.globalize.formatDate(this.startValue, formatOption);\n            const endDate = this.globalize.formatDate(this.endValue, formatOption);\n            Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    }\n    checkInvalidRange(value) {\n        if (!isNullOrUndefined(value)) {\n            let invalid = false;\n            let startinvalue;\n            let endinvalue;\n            let startString = null;\n            let endString = null;\n            let valueString = null;\n            let startObject = false;\n            let endObject = false;\n            let invalidobject = false;\n            if (typeof (value) === 'string') {\n                const range = value.split(' ' + this.separator + ' ');\n                if (range.length === 2) {\n                    startString = range[0];\n                    endString = range[1];\n                }\n                else {\n                    invalid = true;\n                    valueString = value;\n                }\n            }\n            else {\n                if (value.length > 0) {\n                    startinvalue = value[0];\n                    endinvalue = value[1];\n                }\n                else {\n                    startinvalue = value.start;\n                    endinvalue = value.end;\n                }\n                if (!(startinvalue instanceof Date) && typeof (startinvalue) !== 'object') {\n                    startString = this.getstringvalue(startinvalue);\n                }\n                else if (startinvalue instanceof Date) {\n                    startObject = true;\n                }\n                else if (!isNullOrUndefined(startinvalue)) {\n                    invalidobject = true;\n                }\n                if (!(endinvalue instanceof Date) && typeof (endinvalue) !== 'object') {\n                    endString = this.getstringvalue(endinvalue);\n                }\n                else if (endinvalue instanceof Date) {\n                    endObject = true;\n                }\n                else if (!isNullOrUndefined(endinvalue)) {\n                    invalidobject = true;\n                }\n            }\n            if ((isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString)) ||\n                (!isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString))) {\n                invalid = true;\n            }\n            if (invalidobject) {\n                startString = endString = valueString = null;\n                invalid = true;\n            }\n            if (startString) {\n                invalid = invalid || this.checkInvalidValue(startString);\n            }\n            if (endString) {\n                invalid = invalid || this.checkInvalidValue(endString);\n            }\n            if (invalid) {\n                if (startObject && !invalidobject) {\n                    startString = startinvalue.toLocaleDateString();\n                }\n                if (endObject && !invalidobject) {\n                    endString = endinvalue.toLocaleDateString();\n                }\n                if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n                    valueString = startString + ' ' + this.separator + ' ' + endString;\n                }\n                else if (!isNullOrUndefined(startString)) {\n                    valueString = startString;\n                }\n                else if (!isNullOrUndefined(endString)) {\n                    valueString = endString;\n                }\n                this.invalidValueString = valueString;\n                this.setProperties({ value: null }, true);\n                this.setProperties({ startValue: null }, true);\n                this.setProperties({ endValue: null }, true);\n                this.startDate = null;\n                this.endDate = null;\n            }\n        }\n    }\n    getstringvalue(value) {\n        let stringValue = null;\n        if (!isNullOrUndefined(value) && (typeof value === 'number')) {\n            stringValue = (value).toString();\n        }\n        else if (!isNullOrUndefined(value) && (typeof value === 'string')) {\n            stringValue = '' + value;\n        }\n        return stringValue;\n    }\n    checkInvalidValue(value) {\n        const valueString = value;\n        let invalid = false;\n        let formatOpt = null;\n        formatOpt = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        if (typeof valueString !== 'string') {\n            invalid = true;\n        }\n        else {\n            const globalize = new Internationalization(this.locale);\n            if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n                let extISOStr = null;\n                let basISOString = null;\n                // eslint-disable-next-line\n                extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOStr.test(valueString) && !basISOString.test(valueString))\n                    || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                    invalid = true;\n                }\n            }\n        }\n        return invalid;\n    }\n    isDateDisabled(date) {\n        if (isNullOrUndefined(date)) {\n            return false;\n        }\n        const value = new Date(+date);\n        if (+value < +this.min || +value > +this.max) {\n            return true;\n        }\n        this.virtualRenderCellArgs = {\n            date: value,\n            isDisabled: false\n        };\n        const args = this.virtualRenderCellArgs;\n        this.virtualRenderCellEvent(args);\n        if (args.isDisabled) {\n            return true;\n        }\n        return false;\n    }\n    disabledDateRender() {\n        this.disabledDays = [];\n        this.disabledDayCnt = null;\n        const localDate = new Date(+this.startValue);\n        let count = 0;\n        while (+localDate <= +this.endValue && +this.endValue <= +this.max) {\n            this.virtualRenderCellArgs = {\n                date: localDate,\n                isDisabled: false\n            };\n            const args = this.virtualRenderCellArgs;\n            this.virtualRenderCellEvent(args);\n            if (args.isDisabled) {\n                this.disabledDays.push(new Date(+args.date));\n                if (+localDate > +this.startValue && +localDate < +this.endValue) {\n                    count++;\n                }\n            }\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        this.disabledDayCnt = count;\n    }\n    virtualRenderCellEvent(args) {\n        extend(this.virtualRenderCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    }\n    disabledDates() {\n        let isStartDisabled = false;\n        let isEndDisabled = false;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            isStartDisabled = this.isDateDisabled(this.startValue);\n            isEndDisabled = this.isDateDisabled(this.endValue);\n            if (!this.isPopupOpen()) {\n                this.currentDate = null;\n            }\n            this.setValue();\n        }\n        return (isStartDisabled || isEndDisabled);\n    }\n    setModelValue() {\n        if (!this.value && this.startDate === null && this.endDate === null) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (this.value === null || this.value.start === null) {\n            if (this.value === null) {\n                this.setProperties({ value: [this.startDate, this.endDate] }, true);\n            }\n            else if (this.value.start === null) {\n                this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n            }\n        }\n        else {\n            if ((this.value && this.value.length > 0) ||\n                this.valueType && this.valueType.length > 0) {\n                if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n                    this.setProperties({ value: [this.startDate, this.endDate] }, true);\n                }\n                if (this.value && this.value[0] == null && this.value[1] == null) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            else {\n                if ((this.value && this.value.start)) {\n                    this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n                }\n            }\n        }\n        this.createHiddenInput();\n    }\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    dispatchEvent(element, type) {\n        const evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n        this.firstHiddenChild.dispatchEvent(evt);\n    }\n    changeTrigger(e) {\n        if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n            this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n            this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n            this.setModelValue();\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.rangeArgs(e));\n            }\n        }\n        this.previousEleValue = this.inputElement.value;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n    }\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @hidden\n     */\n    navigateTo(view, date) {\n        if (this.isPopupOpen()) {\n            if (view.toLowerCase() === 'month') {\n                view = 'Month';\n            }\n            else if (view.toLowerCase() === 'year') {\n                view = 'Year';\n            }\n            else if (view.toLowerCase() === 'decade') {\n                view = 'Decade';\n            }\n            else {\n                return;\n            }\n            if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n                view = this.depth;\n            }\n            if (this.isMobile) {\n                super.navigateTo.call(this, view, date);\n            }\n            else {\n                if (date < this.min) {\n                    date = new Date(+this.min);\n                }\n                else if (date >= this.max) {\n                    date = new Date(+this.max);\n                }\n                if (view === 'Month' && this.isSameMonth(date, this.max)) {\n                    date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n                }\n                else if (view === 'Year' && this.isSameYear(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 1), this.max.getMonth(), this.max.getDate());\n                }\n                else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 10), this.max.getMonth(), this.max.getDate());\n                }\n                this.leftCalCurrentDate = date;\n                this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n                if (view === 'Month') {\n                    date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n                }\n                else if (view === 'Year') {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n                }\n                else {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n                }\n                this.rightCalCurrentDate = date;\n                this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n                this.leftKeyboardModule = this.rightKeyboardModule = null;\n                this.updateNavIcons();\n            }\n            if (this.currentView() === this.depth) {\n                this.bindCalendarCellEvents();\n            }\n            this.removeFocusedDate();\n            this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        }\n    }\n    navigate(calendar, date, view) {\n        this.calendarElement = calendar;\n        this.table = calendar.querySelector('table');\n        this.tableBodyElement = calendar.querySelector('tbody');\n        this.headerTitleElement = calendar.querySelector('.e-title');\n        this.tableHeadElement = calendar.querySelector('thead');\n        this.contentElement = calendar.querySelector('.e-content');\n        this.previousIcon = calendar.querySelector('.e-prev');\n        this.nextIcon = calendar.querySelector('.e-next');\n        this.effect = ZOOMIN$1;\n        super.navigateTo.call(this, view, date);\n    }\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    focusIn() {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.inputElement.focus();\n        }\n    }\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        const isBlur = this.preventBlur;\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.preventBlur = false;\n            this.inputElement.blur();\n            this.preventBlur = isBlur;\n        }\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.unBindEvents();\n        this.hide(null);\n        const ariaAttrs = {\n            'aria-readonly': this.readonly ? 'true' : 'false', 'tabindex': '0', 'aria-haspopup': 'true',\n            'aria-activedescendant': 'null', 'aria-owns': this.element.id + '_popup', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'aria-invalid': 'false', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            removeClass([this.inputElement], [ROOT$2]);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.inputElement.classList.remove('e-input');\n            if (!isNullOrUndefined(this.inputWrapper)) {\n                EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                detach(this.inputWrapper.container);\n            }\n        }\n        if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n            this.inputKeyboardModule.destroy();\n        }\n        if (this.popupObj) {\n            if (!this.isMobile) {\n                this.clearCalendarEvents();\n            }\n        }\n        super.destroy();\n        this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        if ((!isNullOrUndefined(this.firstHiddenChild))\n            && (!isNullOrUndefined(this.secondHiddenChild))) {\n            detach(this.firstHiddenChild);\n            detach(this.secondHiddenChild);\n            this.firstHiddenChild = this.secondHiddenChild = null;\n            this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n            this.inputElement.removeAttribute('data-name');\n        }\n    }\n    ensureInputAttribute() {\n        const attr = [];\n        for (let i = 0; i < this.inputElement.attributes.length; i++) {\n            attr[i] = this.inputElement.attributes[i].name;\n        }\n        for (let i = 0; i < attr.length; i++) {\n            if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(attr[i]);\n            }\n            else {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n                }\n                this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n            }\n        }\n    }\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'daterangepicker';\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Return the properties that are maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        const keyEntity = ['startDate', 'endDate', 'value'];\n        return this.addOnPersist(keyEntity);\n    }\n    /**\n     * Return the selected range and day span in the DateRangePicker.\n     *\n     * @returns {Object}\n     */\n    getSelectedRange() {\n        let range;\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            this.disabledDateRender();\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n        }\n        else {\n            range = 0;\n        }\n        return { startDate: this.startValue, endDate: this.endValue, daySpan: range };\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * To open the Popup container in the DateRangePicker component.\n     *\n     * @param {HTMLElement} element - Specifies element.\n     * @returns {void}\n     */\n    show(element, event) {\n        if (this.isMobile && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            if (!this.isPopupOpen()) {\n                if (element) {\n                    this.targetElement = element;\n                }\n                this.createPopup();\n                if (this.isMobile || Browser.isDevice) {\n                    this.mobileRangePopupWrap = this.createElement('div', { className: 'e-daterangepick-mob-popup-wrap' });\n                    document.body.appendChild(this.mobileRangePopupWrap);\n                }\n                this.openEventArgs = {\n                    popup: this.popupObj || null,\n                    cancel: false,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null,\n                    appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n                };\n                const eventArgs = this.openEventArgs;\n                this.trigger('open', eventArgs, (eventArgs) => {\n                    this.openEventArgs = eventArgs;\n                    if (!this.openEventArgs.cancel) {\n                        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n                        this.showPopup(element, event);\n                        const isPreset = (!this.isCustomRange || (this.isMobile && this.isCustomRange));\n                        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n                            this.setScrollPosition();\n                        }\n                        this.checkMinMaxDays();\n                        if ((this.isMobile) && (!isNullOrUndefined(this.startDate)) && (isNullOrUndefined(this.endDate))) {\n                            this.endButton.element.classList.add(ACTIVE$1);\n                            this.startButton.element.classList.remove(ACTIVE$1);\n                            this.endButton.element.removeAttribute('disabled');\n                            this.selectableDates();\n                        }\n                        super.setOverlayIndex(this.mobileRangePopupWrap, this.popupObj.element, this.modal, \n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        this.isMobile || Browser.isDevice);\n                    }\n                });\n            }\n        }\n    }\n    /**\n     * To close the Popup container in the DateRangePicker component.\n     *\n     * @returns {void}\n     */\n    hide(event) {\n        if (this.popupObj) {\n            if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n                this.clearRange();\n            }\n            else {\n                if (!isNullOrUndefined(this.previousStartValue)) {\n                    this.startValue = new Date(this.checkValue(this.previousStartValue));\n                    this.setValue();\n                    this.currentDate = new Date(this.checkValue(this.startValue));\n                }\n                else {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    this.endValue = new Date(this.checkValue(this.previousEndValue));\n                    this.setValue();\n                }\n                else {\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if (this.isPopupOpen()) {\n                this.closeEventArgs = {\n                    cancel: false,\n                    popup: this.popupObj,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null\n                };\n                const eventArgs = this.closeEventArgs;\n                this.trigger('close', eventArgs, (eventArgs) => {\n                    this.closeEventArgs = eventArgs;\n                    if (!this.closeEventArgs.cancel) {\n                        if (this.isMobile) {\n                            if (!isNullOrUndefined(this.startButton) && !isNullOrUndefined(this.endButton)) {\n                                EventHandler.remove(this.startButton.element, 'click touchstart', this.deviceHeaderClick);\n                                EventHandler.remove(this.endButton.element, 'click touchstart', this.deviceHeaderClick);\n                            }\n                        }\n                        if (this.popupObj) {\n                            this.popupObj.hide();\n                            if (this.preventBlur) {\n                                this.inputElement.focus();\n                                addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n                            }\n                        }\n                        if (!this.isMobile) {\n                            if (!isNullOrUndefined(this.leftKeyboardModule) && !isNullOrUndefined(this.rightKeyboardModule)) {\n                                this.leftKeyboardModule.destroy();\n                                this.rightKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(this.presetElement)) {\n                                this.presetKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(this.cancelButton)) {\n                                this.btnKeyboardModule.destroy();\n                            }\n                        }\n                        this.targetElement = null;\n                        removeClass([document.body], OVERFLOW$1);\n                        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n                        if (this.isMobile && this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                        if (this.isMobile || Browser.isDevice) {\n                            if (!isNullOrUndefined(this.mobileRangePopupWrap)) {\n                                this.mobileRangePopupWrap.remove();\n                                this.mobileRangePopupWrap = null;\n                            }\n                        }\n                        this.isKeyPopup = this.dateDisabled = false;\n                    }\n                    else {\n                        removeClass([this.inputWrapper.buttons[0]], ACTIVE$1);\n                    }\n                    this.updateClearIconState();\n                    this.updateHiddenInput();\n                    if (this.isMobile && this.allowEdit && !this.readonly) {\n                        this.inputElement.removeAttribute('readonly');\n                    }\n                });\n            }\n        }\n        else {\n            this.updateClearIconState();\n            this.updateHiddenInput();\n            if (this.isMobile && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    setLocale() {\n        this.globalize = new Internationalization(this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n        Input.setPlaceholder(this.placeholder, this.inputElement);\n        this.updateInput();\n        this.updateHiddenInput();\n        this.changeTrigger();\n    }\n    refreshChange() {\n        this.checkView();\n        this.refreshControl();\n        this.changeTrigger();\n    }\n    setDate() {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.refreshChange();\n    }\n    enableInput() {\n        if (+this.min <= +this.max) {\n            this.setProperties({ enabled: true }, true);\n            Input.setEnabled(this.enabled, this.inputElement);\n            if (this.element.hasAttribute('disabled')) {\n                this.bindEvents();\n            }\n        }\n    }\n    clearModelvalue(newProp, oldProp) {\n        this.setProperties({ startDate: null }, true);\n        this.setProperties({ endDate: null }, true);\n        if (oldProp.value && oldProp.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (oldProp.value && oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        else if (oldProp.value && !oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        this.updateValue();\n        this.setDate();\n    }\n    createHiddenInput() {\n        if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n            this.firstHiddenChild = this.createElement('input');\n            this.secondHiddenChild = this.createElement('input');\n        }\n        if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n            this.inputElement.removeAttribute('name');\n        }\n        attributes(this.firstHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        attributes(this.secondHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        const format = { type: 'datetime', skeleton: 'yMd' };\n        this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n        this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n        this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n        this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n    }\n    setMinMaxDays() {\n        if (this.isPopupOpen()) {\n            this.removeClassDisabled();\n            this.checkMinMaxDays();\n            if (this.isMobile) {\n                this.selectableDates();\n            }\n            if (!this.strictMode && (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                this.removeSelection();\n            }\n            else {\n                this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n            }\n            this.updateHeader();\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (const prop of Object.keys(newProp)) {\n            const openPopup = ['maxDays', 'minDays', 'value'];\n            if (openPopup.indexOf(prop) < 0) {\n                this.hide(null);\n            }\n            switch (prop) {\n                case 'width':\n                    this.setEleWidth(this.width);\n                    break;\n                case 'separator':\n                    this.previousEleValue = this.inputElement.value;\n                    this.setProperties({ separator: newProp.separator }, true);\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.setProperties({ placeholder: newProp.placeholder }, true);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    this.inputElement.setAttribute('aria-readonly', '' + this.readonly);\n                    this.setRangeAllowEdit();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (this.enabled) {\n                        this.inputElement.setAttribute('tabindex', this.tabIndex);\n                    }\n                    else {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setRangeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.setLocale();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.setDataAttribute(true);\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'startDate':\n                    if (typeof newProp.startDate === 'string') {\n                        newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n                    }\n                    if (+this.initStartDate !== +newProp.startDate) {\n                        this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'endDate':\n                    if (typeof newProp.endDate === 'string') {\n                        newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n                    }\n                    if (+this.initEndDate !== +newProp.endDate) {\n                        this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidRange(newProp.value);\n                    if (typeof (newProp.value) === 'string') {\n                        if (!this.invalidValueString) {\n                            const rangeArray = newProp.value.split(' ' + this.separator + ' ');\n                            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n                            this.updateValue();\n                            this.setDate();\n                        }\n                        else {\n                            this.clearModelvalue(newProp, oldProp);\n                        }\n                    }\n                    else {\n                        if ((!isNullOrUndefined(newProp.value) && newProp.value.length > 0)\n                            || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n                            this.valueType = newProp.value;\n                            if (newProp.value[0] === null || (newProp.value.start === null)) {\n                                if (newProp.value.length === 1 || (newProp.value.start)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                                else if (newProp.value[1] === null ||\n                                    (newProp.value.start === null)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                            }\n                            else if ((+this.initStartDate !== +newProp.value[0]\n                                || +this.initEndDate !== +newProp.value[1]) ||\n                                (+this.initStartDate !== +(newProp.value.start\n                                    || +this.initEndDate !== +newProp.value.start))) {\n                                if (newProp.value.length === 1) {\n                                    this.modelValue = newProp.value;\n                                }\n                                else if (newProp.value.start) {\n                                    this.modelValue = newProp.value;\n                                }\n                                this.updateValue();\n                                this.setDate();\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(this.value)\n                                || newProp.value.start == null) {\n                                this.valueType = newProp.value;\n                                this.startValue = null;\n                                this.endValue = null;\n                                this.clearModelvalue(newProp, oldProp);\n                            }\n                        }\n                    }\n                    if (this.isPopupOpen()) {\n                        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n                            this.removeSelection();\n                            if (this.isMobile) {\n                                this.deviceHeaderUpdate();\n                            }\n                            return;\n                        }\n                        if (this.isMobile) {\n                            this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n                            this.deviceHeaderUpdate();\n                        }\n                        else {\n                            this.navigate(this.leftCalendar, this.startValue, this.currentView());\n                            this.updateControl(this.leftCalendar);\n                            this.navigate(this.rightCalendar, this.endValue, this.currentView());\n                            this.updateControl(this.rightCalendar);\n                        }\n                        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n                        this.updateHeader();\n                        this.applyButton.disabled = this.applyButton.element.disabled = false;\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'minDays':\n                    this.setProperties({ minDays: newProp.minDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'maxDays':\n                    this.setProperties({ maxDays: newProp.maxDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'min':\n                    this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    this.previousEleValue = this.inputElement.value;\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'max':\n                    this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.refreshChange();\n                    break;\n                case 'presets':\n                    this.setProperties({ presets: newProp.presets }, true);\n                    this.processPresets();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'start':\n                    this.setProperties({ start: newProp.start }, true);\n                    this.refreshChange();\n                    break;\n                case 'depth':\n                    this.setProperties({ depth: newProp.depth }, true);\n                    this.refreshChange();\n                    break;\n            }\n        }\n    }\n};\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"value\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"enablePersistence\", void 0);\n__decorate$2([\n    Property(new Date(1900, 0, 1))\n], DateRangePicker.prototype, \"min\", void 0);\n__decorate$2([\n    Property(new Date(2099, 11, 31))\n], DateRangePicker.prototype, \"max\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"locale\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"weekNumber\", void 0);\n__decorate$2([\n    Property('Gregorian')\n], DateRangePicker.prototype, \"calendarMode\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"openOnFocus\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"created\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"destroyed\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"change\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"cleared\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"navigated\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"renderDayCell\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"startDate\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"endDate\", void 0);\n__decorate$2([\n    Collection([{}], Presets)\n], DateRangePicker.prototype, \"presets\", void 0);\n__decorate$2([\n    Property('')\n], DateRangePicker.prototype, \"width\", void 0);\n__decorate$2([\n    Property(1000)\n], DateRangePicker.prototype, \"zIndex\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"showClearButton\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"showTodayButton\", void 0);\n__decorate$2([\n    Property('Month')\n], DateRangePicker.prototype, \"start\", void 0);\n__decorate$2([\n    Property('Month')\n], DateRangePicker.prototype, \"depth\", void 0);\n__decorate$2([\n    Property('')\n], DateRangePicker.prototype, \"cssClass\", void 0);\n__decorate$2([\n    Property('-')\n], DateRangePicker.prototype, \"separator\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"minDays\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"maxDays\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"strictMode\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"keyConfigs\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"format\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"enabled\", void 0);\n__decorate$2([\n    Property(false)\n], DateRangePicker.prototype, \"readonly\", void 0);\n__decorate$2([\n    Property(true)\n], DateRangePicker.prototype, \"allowEdit\", void 0);\n__decorate$2([\n    Property('Never')\n], DateRangePicker.prototype, \"floatLabelType\", void 0);\n__decorate$2([\n    Property(null)\n], DateRangePicker.prototype, \"placeholder\", void 0);\n__decorate$2([\n    Property({})\n], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"open\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"close\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"select\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"focus\", void 0);\n__decorate$2([\n    Event()\n], DateRangePicker.prototype, \"blur\", void 0);\nDateRangePicker = __decorate$2([\n    NotifyPropertyChanges\n], DateRangePicker);\n\n/**\n * DateRangePicker modules\n */\n\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst WRAPPERCLASS = 'e-time-wrapper';\nconst POPUP$2 = 'e-popup';\nconst ERROR$2 = 'e-error';\nconst POPUPDIMENSION = '240px';\nconst DAY = new Date().getDate();\nconst MONTH$2 = new Date().getMonth();\nconst YEAR$2 = new Date().getFullYear();\nconst ROOT$3 = 'e-timepicker';\nconst LIBRARY$2 = 'e-lib';\nconst CONTROL$2 = 'e-control';\nconst CONTENT$2 = 'e-content';\nconst SELECTED$4 = 'e-active';\nconst HOVER$1 = 'e-hover';\nconst NAVIGATION = 'e-navigation';\nconst DISABLED$3 = 'e-disabled';\nconst ICONANIMATION = 'e-icon-anim';\nconst FOCUS = 'e-input-focus';\nconst LISTCLASS$1 = 'e-list-item';\nconst HALFPOSITION = 2;\nconst ANIMATIONDURATION = 50;\nconst OVERFLOW$2 = 'e-time-overflow';\nconst OFFSETVAL = 4;\nconst EDITABLE = 'e-non-edit';\nconst wrapperAttributes = ['title', 'class', 'style'];\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TimePickerBase;\n(function (TimePickerBase) {\n    // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n        if (this.calendarMode === 'Gregorian') {\n            \n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            \n        }\n        let start;\n        const interval = step * 60000;\n        const listItems = [];\n        const timeCollections = [];\n        start = +(min.setMilliseconds(0));\n        const end = +(max.setMilliseconds(0));\n        while (end >= start) {\n            timeCollections.push(start);\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\n            start += interval;\n        }\n        const listTag = ListBase.createList(createdEl, listItems, null, true);\n        return { collection: timeCollections, list: listTag };\n    }\n    TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\nclass TimeMaskPlaceholder extends ChildProperty {\n}\n__decorate$3([\n    Property('day')\n], TimeMaskPlaceholder.prototype, \"day\", void 0);\n__decorate$3([\n    Property('month')\n], TimeMaskPlaceholder.prototype, \"month\", void 0);\n__decorate$3([\n    Property('year')\n], TimeMaskPlaceholder.prototype, \"year\", void 0);\n__decorate$3([\n    Property('day of the week')\n], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n__decorate$3([\n    Property('hour')\n], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n__decorate$3([\n    Property('minute')\n], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n__decorate$3([\n    Property('second')\n], TimeMaskPlaceholder.prototype, \"second\", void 0);\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\nlet TimePicker = class TimePicker extends Component {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {TimePickerModel} options - Specifies the TimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.liCollections = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        this.invalidValueString = null;\n        this.isAngular = false;\n        this.preventChange = false;\n        this.maskedDateValue = '';\n        this.moduleName = this.getModuleName();\n        this.timeOptions = options;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.keyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n        this.inputElement = this.element;\n        this.angularTag = null;\n        this.formElement = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-TIMEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        this.openPopupEventArgs = {\n            appendTo: document.body\n        };\n    }\n    // element creation\n    render() {\n        this.initialize();\n        this.createInputElement();\n        this.updateHtmlAttributeToWrapper();\n        this.setTimeAllowEdit();\n        this.setEnable();\n        this.validateInterval();\n        this.bindEvents();\n        this.validateDisable();\n        this.setValue(this.getFormattedValue(this.value));\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n            this.checkErrorState(this.maskedDateValue);\n        }\n        this.anchor = this.inputElement;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputEleValue = this.getDateObject(this.inputElement.value);\n        this.renderComplete();\n    }\n    setTimeAllowEdit() {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.clearIconState();\n    }\n    clearIconState() {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [EDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [EDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [EDITABLE]);\n        }\n    }\n    validateDisable() {\n        this.setMinMax(this.initMin, this.initMax);\n        this.popupCreation();\n        this.popupObj.destroy();\n        this.popupWrapper = this.popupObj = null;\n        if ((!isNaN(+this.value) && this.value !== null)) {\n            if (!this.valueIsDisable(this.value)) {\n                //disable value given in value property so reset the date based on current date\n                if (this.strictMode) {\n                    this.resetState();\n                }\n                this.initValue = null;\n                this.initMax = this.getDateObject(this.initMax);\n                this.initMin = this.getDateObject(this.initMin);\n                this.timeCollections = this.liCollections = [];\n                this.setMinMax(this.initMin, this.initMax);\n            }\n        }\n    }\n    validationAttribute(target, input) {\n        const name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        input.setAttribute('name', name);\n        target.removeAttribute('name');\n        const attributes$$1 = ['required', 'aria-required', 'form'];\n        for (let i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            const attr = target.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            target.removeAttribute(attributes$$1[i]);\n        }\n    }\n    initialize() {\n        this.globalize = new Internationalization(this.locale);\n        this.defaultCulture = new Internationalization('en');\n        this.checkTimeFormat();\n        this.checkInvalidValue(this.value);\n        // persist the value property.\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo))) }, true);\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.checkAttributes(false); //check the input element attributes\n        const localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('timepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.initValue = this.checkDateValue(this.value);\n        this.initMin = this.checkDateValue(this.min);\n        this.initMax = this.checkDateValue(this.max);\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            //for angular case\n            this.element.id = getUniqueID('ej2_timepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n    }\n    checkTimeFormat() {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n                const skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\n            }\n            else {\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    }\n    checkDateValue(value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    }\n    createInputElement() {\n        let updatedCssClassesValue = this.cssClass;\n        let isBindClearAction = this.enableMask ? false : true;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            bindClearAction: isBindClearAction,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassesValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [' e-input-group-icon e-time-icon e-icons']\n        }, this.createElement);\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\n        attributes(this.inputElement, {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'false', 'aria-invalid': 'false'\n        });\n        if (!this.isNullOrEmpty(this.inputStyle)) {\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\n        }\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\n    }\n    getCldrDateTimeFormat() {\n        const culture = new Internationalization(this.locale);\n        let cldrTime;\n        const dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    }\n    checkInvalidValue(value) {\n        let isInvalid = false;\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n            let valueString = value;\n            if (typeof valueString === 'string') {\n                valueString = valueString.trim();\n            }\n            let valueExpression = null;\n            let valueExp = null;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            else if (typeof value === 'string') {\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\n                    if (isNullOrUndefined(valueExpression)) {\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\n                        }));\n                        if (isNullOrUndefined(valueExpression)) {\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n                            }));\n                        }\n                    }\n                }\n            }\n            valueExp = this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\n            });\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n                let extISOString = null;\n                let basicISOString = null;\n                // eslint-disable-next-line\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\n                    isInvalid = true;\n                }\n                else {\n                    valueExpression = new Date('' + valueString);\n                }\n            }\n            if (isInvalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n                this.initValue = null;\n            }\n            else {\n                this.setProperties({ value: valueExpression }, true);\n                this.initValue = this.value;\n            }\n        }\n    }\n    requiredModules() {\n        const modules = [];\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    cldrFormat(type) {\n        let cldrDateTimeString;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTimeString = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTimeString;\n    }\n    // destroy function\n    destroy() {\n        this.hide();\n        this.unBindEvents();\n        const ariaAttribute = {\n            'aria-haspopup': 'true', 'aria-autocomplete': 'list', 'tabindex': '0', 'aria-activedescendant': 'null',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false', 'aria-disabled': 'true', 'aria-invalid': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            if (this.angularTag === null) {\n                this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n            }\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.enableElement([this.inputElement]);\n            this.inputElement.classList.remove('e-input');\n            if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n                Input.setEnabled(true, this.inputElement, this.floatLabelType);\n            }\n        }\n        if (this.inputWrapper.container) {\n            detach(this.inputWrapper.container);\n        }\n        this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n        this.liCollections = this.timeCollections = this.disableItemCollection = [];\n        if (!isNullOrUndefined(this.rippleFn)) {\n            this.rippleFn();\n        }\n        super.destroy();\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    }\n    ensureInputAttribute() {\n        const propertyList = [];\n        for (let i = 0; i < this.inputElement.attributes.length; i++) {\n            propertyList[i] = this.inputElement.attributes[i].name;\n        }\n        for (let i = 0; i < propertyList.length; i++) {\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n                }\n            }\n            else {\n                this.inputElement.removeAttribute(propertyList[i]);\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n            }\n        }\n    }\n    //popup creation\n    popupCreation() {\n        this.popupWrapper = this.createElement('div', {\n            className: ROOT$3 + ' ' + POPUP$2,\n            attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\n        });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.generateList();\n            append([this.listWrapper], this.popupWrapper);\n        }\n        this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.addSelection();\n        this.renderPopup();\n        detach(this.popupWrapper);\n    }\n    getPopupHeight() {\n        const height = parseInt(POPUPDIMENSION, 10);\n        const popupHeight = this.popupWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    }\n    generateList() {\n        this.createListItems();\n        this.wireListEvents();\n        const rippleModel = { duration: 300, selector: '.' + LISTCLASS$1 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n    }\n    renderPopup() {\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        this.popupObj = new Popup(this.popupWrapper, {\n            width: this.setPopupWidth(this.width),\n            zIndex: this.zIndex,\n            targetType: 'relative',\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            enableRtl: this.enableRtl,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            offsetY: OFFSETVAL,\n            open: () => {\n                this.popupWrapper.style.visibility = 'visible';\n                addClass([this.inputWrapper.buttons[0]], SELECTED$4);\n            }, close: () => {\n                removeClass([this.inputWrapper.buttons[0]], SELECTED$4);\n                this.unWireListEvents();\n                this.inputElement.setAttribute('aria-activedescendant', 'null');\n                remove(this.popupObj.element);\n                this.popupObj.destroy();\n                this.popupWrapper.innerHTML = '';\n                this.listWrapper = this.popupWrapper = this.listTag = undefined;\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\n        }\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    }\n    //util function\n    getFormattedValue(value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { skeleton: 'medium', type: 'time' });\n        }\n    }\n    getDateObject(text) {\n        if (!this.isNullOrEmpty(text)) {\n            const dateValue = this.createDateObj(text);\n            const value = !this.isNullOrEmpty(this.initValue);\n            if (this.checkDateValue(dateValue)) {\n                const date = value ? this.initValue.getDate() : DAY;\n                const month = value ? this.initValue.getMonth() : MONTH$2;\n                const year = value ? this.initValue.getFullYear() : YEAR$2;\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n            }\n        }\n        return null;\n    }\n    updateHtmlAttributeToWrapper() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        const updatedClassesValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassesValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        let timeStyle = this.inputWrapper.container.getAttribute(key);\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    }\n    updateHtmlAttributeToElement() {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (const key of Object.keys(this.htmlAttributes)) {\n                if (wrapperAttributes.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    }\n    updateCssClass(cssClassNew, cssClassOld) {\n        if (!isNullOrUndefined(cssClassOld)) {\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssClassNew)) {\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n        }\n    }\n    removeErrorClass() {\n        removeClass([this.inputWrapper.container], ERROR$2);\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\n    }\n    checkErrorState(val) {\n        const value = this.getDateObject(val);\n        if ((this.validateState(value) && !this.invalidValueString) || (this.enableMask && this.inputElement.value === this.maskedDateValue)) {\n            this.removeErrorClass();\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$2);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n    }\n    validateInterval() {\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.enableElement([this.inputWrapper.buttons[0]]);\n        }\n        else {\n            this.disableTimeIcon();\n        }\n    }\n    disableTimeIcon() {\n        this.disableElement([this.inputWrapper.buttons[0]]);\n        this.hide();\n    }\n    disableElement(element) {\n        addClass(element, DISABLED$3);\n    }\n    enableElement(element) {\n        removeClass(element, DISABLED$3);\n    }\n    selectInputText() {\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\n    }\n    setCursorToEnd() {\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\n    }\n    getMeridianText() {\n        let meridian;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n        }\n        else {\n            const gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n            const mainVal = 'main.';\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n        }\n        return meridian;\n    }\n    getCursorSelection() {\n        const input = (this.inputElement);\n        let start = 0;\n        let end = 0;\n        if (!isNaN(input.selectionStart)) {\n            start = input.selectionStart;\n            end = input.selectionEnd;\n        }\n        return { start: Math.abs(start), end: Math.abs(end) };\n    }\n    getActiveElement() {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n        }\n        else {\n            return null;\n        }\n    }\n    isNullOrEmpty(value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    setWidth(width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    }\n    setPopupWidth(width) {\n        width = this.setWidth(width);\n        if (width.indexOf('%') > -1) {\n            const inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    }\n    setScrollPosition() {\n        const element = this.selectedElement;\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    }\n    findScrollTop(element) {\n        const listHeight = this.getPopupHeight();\n        const nextEle = element.nextElementSibling;\n        const height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        const liHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    }\n    setScrollTo() {\n        let element;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            const items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                const initialTime = this.timeCollections[0];\n                const scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n            }\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    }\n    getText() {\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\n    }\n    getValue(value) {\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\n            format: this.cldrTimeFormat(), type: 'time'\n        });\n    }\n    cldrDateFormat() {\n        let cldrDate;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDate = (getValue('dateFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\n        }\n        return cldrDate;\n    }\n    cldrTimeFormat() {\n        let cldrTime;\n        if (this.isNullOrEmpty(this.formatString)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    }\n    dateToNumeric() {\n        let cldrTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrTime = (getValue('timeFormats.medium', getDefaultDateObject()));\n        }\n        else {\n            cldrTime = (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\n        }\n        return cldrTime;\n    }\n    getExactDateTime(value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\n        }\n    }\n    setValue(value) {\n        const time = this.checkValue(value);\n        if (!this.strictMode && !this.validateState(time)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            if (this.isNullOrEmpty(time)) {\n                this.initValue = null;\n                this.validateMinMax(this.value, this.min, this.max);\n            }\n            else {\n                this.initValue = this.compareFormatChange(time);\n            }\n        }\n        this.updateInput(true, this.initValue);\n    }\n    compareFormatChange(value) {\n        if (isNullOrUndefined(value)) {\n            return null;\n        }\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\n    }\n    updatePlaceHolder() {\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    }\n    //event related functions\n    updateInputValue(value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n    preventEventBubbling(e) {\n        e.preventDefault();\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n    }\n    popupHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        if (this.isPopupOpen()) {\n            this.closePopup(0, e);\n        }\n        else {\n            this.inputElement.focus();\n            this.show(e);\n        }\n    }\n    mouseDownHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.readonly) {\n            this.inputElement.setSelectionRange(0, 0);\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        }\n    }\n    mouseUpHandler(event) {\n        if (!this.readonly) {\n            event.preventDefault();\n            if (this.enableMask) {\n                event.preventDefault();\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n                return;\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n                const curPos = this.getCursorSelection();\n                if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n                    if (this.inputElement.value.length > 0) {\n                        this.cursorDetails = this.focusSelection();\n                    }\n                    this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n                }\n            }\n        }\n    }\n    focusSelection() {\n        const regex = new RegExp('^[a-zA-Z0-9]+$');\n        const split = this.inputElement.value.split('');\n        split.push(' ');\n        const curPos = this.getCursorSelection();\n        let start = 0;\n        let end = 0;\n        let isSeparator = false;\n        if (!this.isTextSelected) {\n            for (let i = 0; i < split.length; i++) {\n                if (!regex.test(split[i])) {\n                    end = i;\n                    isSeparator = true;\n                }\n                if (isSeparator) {\n                    if (curPos.start >= start && curPos.end <= end) {\n                        // eslint-disable-next-line no-self-assign\n                        end = end;\n                        this.isTextSelected = true;\n                        break;\n                    }\n                    else {\n                        start = i + 1;\n                        isSeparator = false;\n                    }\n                }\n            }\n        }\n        else {\n            start = curPos.start;\n            end = curPos.end;\n            this.isTextSelected = false;\n        }\n        return { start: start, end: end };\n    }\n    inputHandler(event) {\n        if (!this.readonly && this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'home':\n                case 'end':\n                case 'up':\n                case 'down':\n                    if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n                        event.preventDefault();\n                        this.notify(\"keyDownHandler\", {\n                            module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    if (!this.enableMask || this.isPopupOpen()) {\n                        this.keyHandler(event);\n                    }\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.updateValue(this.valueWithMinutes, event);\n                    }\n                    else {\n                        this.updateValue(this.inputElement.value, event);\n                    }\n                    this.hide();\n                    this.isNavigate = false;\n                    if (this.isPopupOpen()) {\n                        event.stopPropagation();\n                    }\n                    break;\n                case 'open':\n                    this.show(event);\n                    break;\n                case 'escape':\n                    this.updateInputValue(this.objToString(this.value));\n                    if (this.enableMask) {\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                        this.createMask();\n                    }\n                    this.previousState(this.value);\n                    this.hide();\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n                case 'right':\n                case 'left':\n                case 'tab':\n                case 'shiftTab':\n                    if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n                        if ((this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length) ||\n                            (this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab') ||\n                            (this.inputElement.selectionStart !== 0 && event.action == 'shiftTab') || (event.action == 'left' || event.action == 'right')) {\n                            event.preventDefault();\n                        }\n                        this.notify(\"keyDownHandler\", { module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    }\n    onMouseClick(event) {\n        const target = event.target;\n        const li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n        this.setSelection(li, event);\n        if (li && li.classList.contains(LISTCLASS$1)) {\n            this.hide();\n        }\n    }\n    closePopup(delay, e) {\n        if (this.isPopupOpen() && this.popupWrapper) {\n            const args = {\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                name: 'open'\n            };\n            removeClass([document.body], OVERFLOW$2);\n            this.trigger('close', args, (args) => {\n                if (!args.cancel) {\n                    const animModel = {\n                        name: 'FadeOut',\n                        duration: ANIMATIONDURATION,\n                        delay: delay ? delay : 0\n                    };\n                    this.popupObj.hide(new Animation(animModel));\n                    removeClass([this.inputWrapper.container], [ICONANIMATION]);\n                    attributes(this.inputElement, { 'aria-expanded': 'false' });\n                    EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n                }\n                if (Browser.isDevice && this.modal) {\n                    this.modal.style.display = 'none';\n                    this.modal.outerHTML = '';\n                    this.modal = null;\n                }\n                if (Browser.isDevice) {\n                    if (!isNullOrUndefined(this.mobileTimePopupWrap)) {\n                        this.mobileTimePopupWrap.remove();\n                        this.mobileTimePopupWrap = null;\n                    }\n                }\n                if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                    this.inputElement.removeAttribute('readonly');\n                }\n            });\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    }\n    disposeServerPopup() {\n        if (this.popupWrapper) {\n            this.popupWrapper.style.visibility = 'hidden';\n            this.popupWrapper.style.top = '-9999px';\n            this.popupWrapper.style.left = '-9999px';\n            this.popupWrapper.style.width = '0px';\n            this.popupWrapper.style.height = '0px';\n        }\n    }\n    checkValueChange(event, isNavigation) {\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n            this.prevValue = this.inputElement.value;\n            if (+this.prevDate !== +this.value) {\n                this.changeEvent(event);\n            }\n        }\n        else {\n            if (!isNavigation) {\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n                }\n            }\n            else {\n                const value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n                if (+this.prevDate !== +value) {\n                    this.valueProcess(event, value);\n                }\n            }\n        }\n    }\n    onMouseOver(event) {\n        const currentLi = closest(event.target, '.' + LISTCLASS$1);\n        this.setHover(currentLi, HOVER$1);\n    }\n    setHover(li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeHover(className);\n            addClass([li], className);\n            if (className === NAVIGATION) {\n                li.setAttribute('aria-selected', 'true');\n            }\n        }\n    }\n    setSelection(li, event) {\n        if (this.isValidLI(li)) {\n            this.checkValue(li.getAttribute('data-value'));\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n            this.selectedElement = li;\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.checkValueChange(event, true);\n        }\n    }\n    onMouseLeave() {\n        this.removeHover(HOVER$1);\n    }\n    scrollHandler() {\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n            return;\n        }\n        else {\n            this.hide();\n        }\n    }\n    setMinMax(minVal, maxVal) {\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\n            this.initMin = this.getDateObject('12:00:00 AM');\n        }\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n            this.initMax = this.getDateObject('11:59:59 PM');\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    validateMinMax(dateVal, minVal, maxVal) {\n        const value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n        }\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\n            this.disableTimeIcon();\n        }\n        if (this.strictMode) {\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n        }\n        this.checkErrorState(dateVal);\n        return dateVal;\n    }\n    valueIsDisable(value) {\n        if (this.disableItemCollection.length > 0) {\n            if (this.disableItemCollection.length === this.timeCollections.length) {\n                return false;\n            }\n            const time = value instanceof Date ? this.objToString(value) : value;\n            for (let index = 0; index < this.disableItemCollection.length; index++) {\n                if (time === this.disableItemCollection[index]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    validateState(val) {\n        if (!this.strictMode) {\n            if (this.valueIsDisable(val)) {\n                const value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\n                    this.setCurrentDate(this.getDateObject(val));\n                const maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n                const minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\n                        return false;\n                    }\n                }\n                else {\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\n                        return false;\n                    }\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    strictOperation(minimum, maximum, dateVal, val) {\n        const maxValue = this.createDateObj(this.getFormattedValue(maximum));\n        const minValue = this.createDateObj(this.getFormattedValue(minimum));\n        const value = this.createDateObj(this.getFormattedValue(val));\n        if (this.strictMode) {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                this.initValue = this.getDateObject(maxValue);\n                this.updateInputValue(this.getValue(this.initValue));\n                if (this.enableMask) {\n                    this.createMask();\n                }\n                return this.inputElement.value;\n            }\n            else if (+minValue >= +value) {\n                return this.getDateObject(minValue);\n            }\n            else if (+value >= +maxValue || +minValue === +maxValue) {\n                return this.getDateObject(maxValue);\n            }\n        }\n        else {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                if (!isNaN(+this.createDateObj(dateVal))) {\n                    return dateVal;\n                }\n            }\n        }\n        return dateVal;\n    }\n    bindEvents() {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyConfigure,\n                eventName: 'keydown'\n            });\n            if (this.showClearButton && this.inputElement) {\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n            }\n        }\n    }\n    keydownHandler(e) {\n        switch (e.code) {\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    formResetHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            let timeValue = this.inputElement.getAttribute('value');\n            let val = this.checkDateValue(this.inputEleValue);\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                val = null;\n                timeValue = '';\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: val }, true);\n            this.prevDate = this.value;\n            this.valueWithMinutes = this.value;\n            this.initValue = this.value;\n            if (this.inputElement) {\n                this.updateInputValue(timeValue);\n                if (this.enableMask) {\n                    if (!timeValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    this.createMask();\n                }\n                this.checkErrorState(timeValue);\n                this.prevValue = this.inputElement.value;\n            }\n        }\n    }\n    inputChangeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    }\n    inputEventHandler() {\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    unBindEvents() {\n        if (this.inputWrapper) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n        if (this.inputEvent) {\n            this.inputEvent.destroy();\n        }\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    }\n    bindClearEvent() {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n    }\n    raiseClearedEvent(e) {\n        const clearedArgs = {\n            event: e\n        };\n        this.trigger('cleared', clearedArgs);\n    }\n    clearHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        if (!isNullOrUndefined(this.value)) {\n            this.clear(e);\n        }\n        else {\n            this.resetState();\n            this.raiseClearedEvent(e);\n        }\n        if (this.popupWrapper) {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    }\n    clear(event) {\n        this.setProperties({ value: null }, true);\n        this.initValue = null;\n        this.resetState();\n        this.raiseClearedEvent(event);\n        this.changeEvent(event);\n    }\n    setZIndex() {\n        if (this.popupObj) {\n            this.popupObj.zIndex = this.zIndex;\n            this.popupObj.dataBind();\n        }\n    }\n    checkAttributes(isDynamic) {\n        const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n        let value;\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\n                            const enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.inputElement.getAttribute(prop);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.initValue = value;\n                                this.updateInput(false, this.initValue);\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    setCurrentDate(value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    }\n    getTextFormat() {\n        let time = 0;\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n            time = 1;\n        }\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\n            const strArray = this.cldrTimeFormat().split(' ');\n            for (let i = 0; i < strArray.length; i++) {\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n                    time = i;\n                    break;\n                }\n            }\n        }\n        return time;\n    }\n    updateValue(value, event) {\n        let val;\n        if (this.isNullOrEmpty(value)) {\n            this.resetState();\n        }\n        else {\n            val = this.checkValue(value);\n            if (this.strictMode) {\n                // this case set previous value to the text box when set invalid date\n                const inputVal = (val === null && value.trim().length > 0) ?\n                    this.previousState(this.prevDate) : this.inputElement.value;\n                this.updateInputValue(inputVal);\n                if (this.enableMask) {\n                    if (!inputVal) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    if (isNullOrUndefined(val) && value != this.maskedDateValue) {\n                        this.createMask();\n                    }\n                    if (isNullOrUndefined(val) && value == this.maskedDateValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                }\n            }\n        }\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\n    }\n    previousState(date) {\n        const value = this.getDateObject(date);\n        for (let i = 0; i < this.timeCollections.length; i++) {\n            if (+value === this.timeCollections[i]) {\n                this.activeIndex = i;\n                this.selectedElement = this.liCollections[i];\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\n                break;\n            }\n        }\n        return this.prevValue;\n    }\n    resetState() {\n        this.removeSelection();\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\n        this.valueWithMinutes = this.activeIndex = null;\n        if (!this.strictMode) {\n            this.checkErrorState(null);\n        }\n    }\n    objToString(val) {\n        if (isNullOrUndefined(this.checkDateValue(val))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\n        }\n    }\n    checkValue(value) {\n        if (!this.isNullOrEmpty(value)) {\n            const date = value instanceof Date ? value : this.getDateObject(value);\n            return this.validateValue(date, value);\n        }\n        this.resetState();\n        return this.valueWithMinutes = null;\n    }\n    validateValue(date, value) {\n        let time;\n        const val = this.validateMinMax(value, this.min, this.max);\n        const newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = this.objToString(this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = this.objToString(this.valueWithMinutes);\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            const value = val.trim().length > 0 ? val : '';\n            this.updateInputValue(value);\n            if (this.enableMask) {\n                if (!value) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        else {\n            this.updateInputValue(time);\n            if (this.enableMask) {\n                if (time == '') {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n                if (isNullOrUndefined(time) && value != this.maskedDateValue) {\n                    this.createMask();\n                }\n                if (isNullOrUndefined(time) && value == this.maskedDateValue) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        return time;\n    }\n    createMask() {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    }\n    findNextElement(event) {\n        const textVal = (this.inputElement).value;\n        const value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        let timeVal = null;\n        const count = this.liCollections.length;\n        const collections = this.timeCollections;\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n            if (event.action === 'home') {\n                const index = this.validLiElement(0);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else if (event.action === 'end') {\n                const index = this.validLiElement(collections.length - 1, true);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (let i = 0; i < count; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            const index = this.validLiElement(i);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === count - 1) {\n                            const index = this.validLiElement(0);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (let i = count - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            const index = this.validLiElement(i, true);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === 0) {\n                            const index = this.validLiElement(count - 1);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n        }\n        else {\n            this.selectNextItem(event);\n        }\n    }\n    selectNextItem(event) {\n        const index = this.validLiElement(0, event.action === 'down' ? false : true);\n        this.activeIndex = index;\n        this.selectedElement = this.liCollections[index];\n        this.elementValue(new Date(this.timeCollections[index]));\n    }\n    elementValue(value) {\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            this.checkValue(value);\n        }\n    }\n    validLiElement(index, backward) {\n        let elementIndex = null;\n        const items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\n            this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n        let isCheck = true;\n        if (items.length) {\n            if (backward) {\n                for (let i = index; i >= 0; i--) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === 0) {\n                        if (isCheck) {\n                            index = i = items.length;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n            else {\n                for (let i = index; i <= items.length - 1; i++) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === items.length - 1) {\n                        if (isCheck) {\n                            index = i = -1;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n        }\n        return elementIndex;\n    }\n    keyHandler(event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n            return;\n        }\n        const count = this.timeCollections.length;\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    const index = this.validLiElement(0, event.action === 'down' ? false : true);\n                    this.activeIndex = index;\n                    this.selectedElement = this.liCollections[index];\n                    this.elementValue(new Date(this.timeCollections[index]));\n                }\n                else {\n                    this.findNextElement(event);\n                }\n            }\n            else {\n                this.findNextElement(event);\n            }\n        }\n        else {\n            let nextItem;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                let index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\n                    false : true);\n                nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                const index = this.validLiElement(0);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            else if (event.action === 'end') {\n                const index = this.validLiElement(count - 1, true);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(new Date(nextItem));\n        }\n        this.isNavigate = true;\n        this.setHover(this.selectedElement, NAVIGATION);\n        this.setActiveDescendant();\n        this.selectInputText();\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setScrollPosition();\n        }\n    }\n    getCultureTimeObject(ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    }\n    getCultureDateObject(ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    }\n    wireListEvents() {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    }\n    unWireListEvents() {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n            }\n        }\n    }\n    valueProcess(event, value) {\n        const result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\n        if (+this.prevDate !== +result) {\n            this.initValue = result;\n            this.changeEvent(event);\n        }\n    }\n    changeEvent(e) {\n        this.addSelection();\n        this.updateInput(true, this.initValue);\n        const eventArgs = {\n            event: (e || null),\n            value: this.value,\n            text: (this.inputElement).value,\n            isInteracted: !isNullOrUndefined(e),\n            element: this.element\n        };\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n        }\n        else {\n            this.trigger('change', eventArgs);\n        }\n        this.invalidValueString = null;\n        this.checkErrorState(this.value);\n    }\n    updateInput(isUpdate, date) {\n        if (isUpdate) {\n            this.prevValue = this.getValue(date);\n        }\n        this.prevDate = this.valueWithMinutes = date;\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n            this.setProperties({ value: date }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.checkErrorState(this.invalidValueString);\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.clearIconState();\n    }\n    setActiveDescendant() {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    }\n    removeSelection() {\n        this.removeHover(HOVER$1);\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            const items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n            if (items.length) {\n                removeClass(items, SELECTED$4);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    }\n    removeHover(className) {\n        const hoveredItem = this.getHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n            if (className === NAVIGATION) {\n                hoveredItem[0].removeAttribute('aria-selected');\n            }\n        }\n    }\n    getHoverItem(className) {\n        let hoveredItem;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    }\n    setActiveClass() {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            const items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                for (let i = 0; i < items.length; i++) {\n                    if ((this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    addSelection() {\n        this.selectedElement = null;\n        this.removeSelection();\n        this.setActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    }\n    isValidLI(li) {\n        return (li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3));\n    }\n    createDateObj(val) {\n        const formatStr = null;\n        let today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n        let value = null;\n        if (typeof val === 'string') {\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n                if (isNullOrUndefined(value)) {\n                    value = this.timeParse(today, val);\n                }\n            }\n            else {\n                value = this.timeParse(today, val);\n            }\n        }\n        else if (val instanceof Date) {\n            value = val;\n        }\n        return value;\n    }\n    timeParse(today, val) {\n        let value;\n        value = this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\n        });\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\n        }) : value;\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n        return value;\n    }\n    createListItems() {\n        this.listWrapper = this.createElement('div', { className: CONTENT$2, attrs: { 'tabindex': '0' } });\n        let start;\n        const interval = this.step * 60000;\n        const listItems = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\n        const end = +(this.getDateObject(this.initMax).setMilliseconds(0));\n        while (end >= start) {\n            this.timeCollections.push(start);\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\n            start += interval;\n        }\n        const listBaseOptions = {\n            itemCreated: (args) => {\n                const eventArgs = {\n                    element: args.item,\n                    text: args.text, value: this.getDateObject(args.text), isDisabled: false\n                };\n                this.trigger('itemRender', eventArgs, (eventArgs) => {\n                    if (eventArgs.isDisabled) {\n                        eventArgs.element.classList.add(DISABLED$3);\n                    }\n                    if (eventArgs.element.classList.contains(DISABLED$3)) {\n                        this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n                    }\n                });\n            }\n        };\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([this.listTag], this.listWrapper);\n    }\n    documentClickHandler(event) {\n        const target = event.target;\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && target !== this.inputElement\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\n            if (this.isPopupOpen()) {\n                this.hide();\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\n                    && (target === this.popupWrapper);\n            }\n        }\n    }\n    setEnableRtl() {\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    }\n    setEnable() {\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hide();\n            addClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.inputElement.tabIndex = -1;\n        }\n    }\n    getProperty(date, val) {\n        if (val === 'min') {\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n            this.setProperties({ min: this.initMin }, true);\n        }\n        else {\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n            this.setProperties({ max: this.initMax }, true);\n        }\n        if (this.inputElement.value === '') {\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            this.checkValue(this.inputElement.value);\n        }\n        this.checkValueChange(null, false);\n    }\n    inputBlurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isPreventBlur && this.isPopupOpen()) {\n            this.inputElement.focus();\n            return;\n        }\n        this.closePopup(0, e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        const blurArguments = {\n            model: this\n        };\n        this.trigger('blur', blurArguments);\n        if (this.getText() !== this.inputElement.value) {\n            this.updateValue((this.inputElement).value, e);\n        }\n        else if (this.inputElement.value.trim().length === 0) {\n            this.resetState();\n        }\n        this.cursorDetails = null;\n        this.isNavigate = false;\n        if (this.inputElement.value === '') {\n            this.invalidValueString = null;\n        }\n    }\n    /**\n     * Focuses out the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [FOCUS]);\n            const blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n    }\n    isPopupOpen() {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n            return true;\n        }\n        return false;\n    }\n    inputFocusHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        const focusArguments = {\n            model: this\n        };\n        if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n            this.selectInputText();\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        this.trigger('focus', focusArguments);\n        this.clearIconState();\n        if (this.openOnFocus) {\n            this.show();\n        }\n    }\n    /**\n     * Focused the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    focusIn() {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    }\n    /**\n     * Hides the TimePicker popup.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    hide() {\n        this.closePopup(100, null);\n        this.clearIconState();\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup to show the list items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    show(event) {\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\n            return;\n        }\n        else {\n            this.popupCreation();\n            if (Browser.isDevice && this.listWrapper) {\n                this.modal = this.createElement('div');\n                this.modal.className = '' + ROOT$3 + ' e-time-modal';\n                document.body.className += ' ' + OVERFLOW$2;\n                document.body.appendChild(this.modal);\n            }\n            if (Browser.isDevice) {\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\n                document.body.appendChild(this.mobileTimePopupWrap);\n            }\n            this.openPopupEventArgs = {\n                popup: this.popupObj || null,\n                cancel: false,\n                event: event || null,\n                name: 'open',\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n            };\n            const eventArgs = this.openPopupEventArgs;\n            this.trigger('open', eventArgs, (eventArgs) => {\n                this.openPopupEventArgs = eventArgs;\n                if (!this.openPopupEventArgs.cancel && !this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n                    this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n                    this.popupAlignment(this.openPopupEventArgs);\n                    this.setScrollPosition();\n                    if (!Browser.isDevice) {\n                        this.inputElement.focus();\n                    }\n                    const openAnimation = {\n                        name: 'FadeIn',\n                        duration: ANIMATIONDURATION\n                    };\n                    this.popupObj.refreshPosition(this.anchor);\n                    if (this.zIndex === 1000) {\n                        this.popupObj.show(new Animation(openAnimation), this.element);\n                    }\n                    else {\n                        this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    this.setActiveDescendant();\n                    attributes(this.inputElement, { 'aria-expanded': 'true' });\n                    addClass([this.inputWrapper.container], FOCUS);\n                    EventHandler.add(document, 'mousedown touchstart', this.documentClickHandler, this);\n                    this.setOverlayIndex(this.mobileTimePopupWrap, this.popupObj.element, this.modal, Browser.isDevice);\n                }\n                else {\n                    this.popupObj.destroy();\n                    this.popupWrapper = this.listTag = undefined;\n                    this.liCollections = this.timeCollections = this.disableItemCollection = [];\n                    this.popupObj = null;\n                }\n            });\n        }\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    setOverlayIndex(popupWrapper, timePopupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            const index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    }\n    formatValues(type) {\n        let value;\n        if (typeof type === 'number') {\n            value = formatUnit(type);\n        }\n        else if (typeof type === 'string') {\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n        }\n        return value;\n    }\n    popupAlignment(args) {\n        args.popup.position.X = this.formatValues(args.popup.position.X);\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.relateTo = this.anchor = document.body;\n            this.popupObj.targetType = 'container';\n        }\n        if (!isNaN(parseFloat(args.popup.position.X))) {\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\n        }\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n        }\n        if (!Browser.isDevice) {\n            switch (args.popup.position.X) {\n                case 'left':\n                    break;\n                case 'right':\n                    args.popup.offsetX = this.containerStyle.width;\n                    break;\n                case 'center':\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\n                    break;\n            }\n            switch (args.popup.position.Y) {\n                case 'top':\n                    break;\n                case 'bottom':\n                    break;\n                case 'center':\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\n                    break;\n            }\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.inputWrapper.container;\n                this.anchor = this.inputElement;\n                this.popupObj.targetType = 'relative';\n            }\n        }\n        else {\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.anchor = document.body;\n                this.popupObj.offsetY = 0;\n                this.popupObj.targetType = 'container';\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n        }\n    }\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    getPersistData() {\n        const keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    }\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'timepicker';\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n                    if (this.readonly) {\n                        this.hide();\n                    }\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    this.setEnable();\n                    break;\n                case 'allowEdit':\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    this.setEnableRtl();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'locale':\n                    this.setProperties({ locale: newProp.locale }, true);\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.updatePlaceHolder();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkTimeFormat();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.createMask();\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    if (!this.invalidValueString) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\n                            newProp.value = this.value;\n                        }\n                        else {\n                            if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                            }\n                        }\n                        this.initValue = newProp.value;\n                        newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n                    }\n                    else {\n                        this.updateInputValue(this.invalidValueString);\n                        this.checkErrorState(this.invalidValueString);\n                    }\n                    this.checkValueChange(null, false);\n                    if (this.isPopupOpen()) {\n                        this.setScrollPosition();\n                    }\n                    if (this.isAngular && this.preventChange) {\n                        this.preventChange = false;\n                    }\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    if (newProp.strictMode) {\n                        this.checkErrorState(null);\n                    }\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.checkValue((this.inputElement).value);\n                    this.checkValueChange(null, false);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n                        if (this.popupWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n            }\n        }\n    }\n    checkInValue(inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    }\n};\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"width\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"cssClass\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"strictMode\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"keyConfigs\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"format\", void 0);\n__decorate$3([\n    Property(true)\n], TimePicker.prototype, \"enabled\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"readonly\", void 0);\n__decorate$3([\n    Property({})\n], TimePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$3([\n    Property('Never')\n], TimePicker.prototype, \"floatLabelType\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"placeholder\", void 0);\n__decorate$3([\n    Property(1000)\n], TimePicker.prototype, \"zIndex\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"enablePersistence\", void 0);\n__decorate$3([\n    Property(true)\n], TimePicker.prototype, \"showClearButton\", void 0);\n__decorate$3([\n    Property(30)\n], TimePicker.prototype, \"step\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"scrollTo\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"value\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"min\", void 0);\n__decorate$3([\n    Property(null)\n], TimePicker.prototype, \"max\", void 0);\n__decorate$3([\n    Property(true)\n], TimePicker.prototype, \"allowEdit\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"openOnFocus\", void 0);\n__decorate$3([\n    Property(false)\n], TimePicker.prototype, \"enableMask\", void 0);\n__decorate$3([\n    Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n], TimePicker.prototype, \"maskPlaceholder\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"change\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"created\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"destroyed\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"open\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"itemRender\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"close\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"cleared\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"blur\", void 0);\n__decorate$3([\n    Event()\n], TimePicker.prototype, \"focus\", void 0);\nTimePicker = __decorate$3([\n    NotifyPropertyChanges\n], TimePicker);\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\nconst DATEWRAPPER$1 = 'e-date-wrapper';\nconst DATEPICKERROOT = 'e-datepicker';\nconst DATETIMEWRAPPER = 'e-datetime-wrapper';\nconst DAY$1 = new Date().getDate();\nconst MONTH$3 = new Date().getMonth();\nconst YEAR$3 = new Date().getFullYear();\nconst HOUR = new Date().getHours();\nconst MINUTE = new Date().getMinutes();\nconst SECOND = new Date().getSeconds();\nconst MILLISECOND = new Date().getMilliseconds();\nconst ROOT$4 = 'e-datetimepicker';\nconst DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nconst INPUTWRAPPER$1 = 'e-input-group-icon';\nconst POPUP$3 = 'e-popup';\nconst TIMEICON$1 = 'e-time-icon';\nconst INPUTFOCUS$2 = 'e-input-focus';\nconst POPUPDIMENSION$1 = '250px';\nconst ICONANIMATION$1 = 'e-icon-anim';\nconst DISABLED$4 = 'e-disabled';\nconst ERROR$3 = 'e-error';\nconst CONTENT$3 = 'e-content';\nconst NAVIGATION$1 = 'e-navigation';\nconst ACTIVE$2 = 'e-active';\nconst HOVER$2 = 'e-hover';\nconst ICONS$1 = 'e-icons';\nconst HALFPOSITION$1 = 2;\nconst LISTCLASS$2 = 'e-list-item';\nconst ANIMATIONDURATION$1 = 100;\nconst OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\nlet DateTimePicker = class DateTimePicker extends DatePicker {\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.valueWithMinutes = null;\n        this.scrollInvoked = false;\n        this.moduleName = this.getModuleName();\n        this.dateTimeOptions = options;\n    }\n    focusHandler() {\n        if (!this.enabled) {\n            return;\n        }\n        addClass([this.inputWrapper.container], INPUTFOCUS$2);\n    }\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    focusIn() {\n        super.focusIn();\n    }\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    focusOut() {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n        }\n    }\n    blurHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isTimePopupOpen() && this.isPreventBlur) {\n            this.inputElement.focus();\n            return;\n        }\n        removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n        const blurArguments = {\n            model: this\n        };\n        if (this.isTimePopupOpen()) {\n            this.hide(e);\n        }\n        this.trigger('blur', blurArguments);\n    }\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n            this.popupObject.destroy();\n            detach(this.dateTimeWrapper);\n            this.dateTimeWrapper = undefined;\n            this.liCollections = this.timeCollections = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n        }\n        const ariaAttribute = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-invalid': 'false',\n            'aria-haspopup': 'true', 'aria-activedescendant': 'null',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-owns': this.element.id + '_options', 'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            this.inputElement.removeAttribute('aria-placeholder');\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObject = this.popupWrapper = null;\n            this.keyboardHandler.destroy();\n        }\n        this.unBindInputEvents();\n        super.destroy();\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.timekeyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.valueWithMinutes = null;\n        this.previousDateTime = null;\n        this.isPreventBlur = false;\n        this.cloneElement = this.element.cloneNode(true);\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        this.initValue = this.value;\n        super.updateHtmlAttributeToElement();\n        this.checkAttributes(false);\n        const localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('datetimepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        super.render();\n        this.createInputElement();\n        super.updateHtmlAttributeToWrapper();\n        this.bindInputEvents();\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.setValue();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo))) }, true);\n        this.previousDateTime = this.value && new Date(+this.value);\n        if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            if (!this.enabled) {\n                this.inputElement.tabIndex = -1;\n            }\n        }\n        this.renderComplete();\n    }\n    setValue() {\n        this.initValue = this.validateMinMaxRange(this.value);\n        if (!this.strictMode && this.isDateObject(this.initValue)) {\n            const value = this.validateMinMaxRange(this.initValue);\n            Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            if (isNullOrUndefined(this.value)) {\n                this.initValue = null;\n                this.setProperties({ value: null }, true);\n            }\n        }\n        this.valueWithMinutes = this.value;\n        super.updateInput();\n    }\n    validateMinMaxRange(value) {\n        let result = value;\n        if (this.isDateObject(value)) {\n            result = this.validateValue(value);\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n            }\n        }\n        this.checkValidState(result);\n        return result;\n    }\n    checkValidState(value) {\n        this.isValidState = true;\n        if (!this.strictMode) {\n            if ((+(value) > +(this.max)) || (+(value) < +(this.min))) {\n                this.isValidState = false;\n            }\n        }\n        this.checkErrorState();\n    }\n    checkErrorState() {\n        if (this.isValidState) {\n            removeClass([this.inputWrapper.container], ERROR$3);\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$3);\n        }\n        attributes(this.inputElement, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    }\n    validateValue(value) {\n        let dateVal = value;\n        if (this.strictMode) {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = this.max;\n            }\n            else if (+value < +this.min) {\n                dateVal = this.min;\n            }\n            else if (+value > +this.max) {\n                dateVal = this.max;\n            }\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = value;\n            }\n        }\n        return dateVal;\n    }\n    disablePopupButton(isDisable) {\n        if (isDisable) {\n            addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n            this.hide();\n        }\n        else {\n            removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n        }\n    }\n    getFormattedValue(value) {\n        let dateOptions;\n        if (!isNullOrUndefined(value)) {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            return this.globalize.formatDate(value, dateOptions);\n        }\n        else {\n            return null;\n        }\n    }\n    isDateObject(value) {\n        return (!isNullOrUndefined(value) && !isNaN(+value)) ? true : false;\n    }\n    createInputElement() {\n        removeClass([this.inputElement], DATEPICKERROOT);\n        removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n        addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n        addClass([this.inputElement], ROOT$4);\n        this.renderTimeIcon();\n    }\n    renderTimeIcon() {\n        this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n    }\n    bindInputEvents() {\n        EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyAction.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    }\n    unBindInputEvents() {\n        EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n        }\n        if (this.keyboardHandler) {\n            this.keyboardHandler.destroy();\n        }\n    }\n    cldrTimeFormat() {\n        let cldrTime;\n        if (this.isNullOrEmpty(this.timeFormat)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.timeFormat;\n        }\n        return cldrTime;\n    }\n    cldrDateTimeFormat() {\n        let cldrTime;\n        const culture = new Internationalization(this.locale);\n        const dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getCldrFormat(type) {\n        let cldrDateTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTime = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTime;\n    }\n    isNullOrEmpty(value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getCultureTimeObject(ld, c) {\n        if (this.calendarMode === 'Gregorian') {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n        }\n    }\n    timeHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (e.currentTarget === this.timeIcon) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isDatePopupOpen()) {\n                super.hide(e);\n            }\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            else {\n                this.inputElement.focus();\n                this.popupCreation('time', e);\n                addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n            }\n        }\n        this.isIconClicked = false;\n    }\n    dateHandler(e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (e.currentTarget === this.inputWrapper.buttons[0]) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                this.popupCreation('date', e);\n            }\n        }\n    }\n    show(type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled) {\n            return;\n        }\n        else {\n            if (type === 'time' && !this.dateTimeWrapper) {\n                if (this.isDatePopupOpen()) {\n                    this.hide(e);\n                }\n                this.popupCreation('time', e);\n            }\n            else if (!this.popupObj) {\n                if (this.isTimePopupOpen()) {\n                    this.hide(e);\n                }\n                super.show();\n                this.popupCreation('date', e);\n            }\n        }\n    }\n    toggle(e) {\n        if (this.isDatePopupOpen()) {\n            super.hide(e);\n            this.show('time', null);\n        }\n        else if (this.isTimePopupOpen()) {\n            this.hide(e);\n            super.show(null, e);\n            this.popupCreation('date', null);\n        }\n        else {\n            this.show(null, e);\n        }\n    }\n    listCreation() {\n        let dateObject;\n        if (this.calendarMode === 'Gregorian') {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime'\n            });\n        }\n        else {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime', calendar: 'islamic'\n            });\n        }\n        const value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ?\n            dateObject :\n            new Date() : this.value;\n        this.valueWithMinutes = value;\n        this.listWrapper = createElement('div', { className: CONTENT$3, attrs: { 'tabindex': '0' } });\n        const min = this.startTime(value);\n        const max = this.endTime(value);\n        const listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n        this.timeCollections = listDetails.collection;\n        this.listTag = listDetails.list;\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([listDetails.list], this.listWrapper);\n        this.wireTimeListEvents();\n        const rippleModel = { duration: 300, selector: '.' + LISTCLASS$2 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n    }\n    popupCreation(type, e) {\n        if (Browser.isDevice) {\n            this.element.setAttribute('readonly', 'readonly');\n        }\n        if (type === 'date') {\n            if (!this.readonly && this.popupWrapper) {\n                addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n                attributes(this.popupWrapper, { 'id': this.element.id + '_datepopup' });\n            }\n        }\n        else {\n            if (!this.readonly) {\n                this.dateTimeWrapper = createElement('div', {\n                    className: ROOT$4 + ' ' + POPUP$3,\n                    attrs: { 'id': this.element.id + '_timepopup', 'style': 'visibility:hidden ; display:block' }\n                });\n                if (!isNullOrUndefined(this.cssClass)) {\n                    this.dateTimeWrapper.className += ' ' + this.cssClass;\n                }\n                if (!isNullOrUndefined(this.step) && this.step > 0) {\n                    this.listCreation();\n                    append([this.listWrapper], this.dateTimeWrapper);\n                }\n                document.body.appendChild(this.dateTimeWrapper);\n                this.addTimeSelection();\n                this.renderPopup();\n                this.setTimeScrollPosition();\n                this.openPopup(e);\n                this.popupObject.refreshPosition(this.inputElement);\n            }\n        }\n    }\n    openPopup(e) {\n        this.preventArgs = {\n            cancel: false,\n            popup: this.popupObject,\n            event: e || null\n        };\n        const eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, (eventArgs) => {\n            this.preventArgs = eventArgs;\n            if (!this.preventArgs.cancel && !this.readonly) {\n                const openAnimation = {\n                    name: 'FadeIn',\n                    duration: ANIMATIONDURATION$1\n                };\n                if (this.zIndex === 1000) {\n                    this.popupObject.show(new Animation(openAnimation), this.element);\n                }\n                else {\n                    this.popupObject.show(new Animation(openAnimation), null);\n                }\n                addClass([this.inputWrapper.container], [ICONANIMATION$1]);\n                attributes(this.inputElement, { 'aria-expanded': 'true' });\n                EventHandler.add(document, 'mousedown touchstart', this.documentClickHandler, this);\n            }\n        });\n    }\n    documentClickHandler(event) {\n        const target = event.target;\n        if ((!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) ||\n            (this.popupObject.element && this.popupObject.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]'))) && target !== this.inputElement\n            && target !== this.timeIcon && target !== this.inputWrapper.container) {\n            if (this.isTimePopupOpen()) {\n                this.hide(event);\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = ((document.activeElement === this.inputElement) && (Browser.isIE || Browser.info.name === 'edge')\n                    && target === this.popupObject.element);\n            }\n        }\n    }\n    isTimePopupOpen() {\n        return (this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4)) ? true : false;\n    }\n    isDatePopupOpen() {\n        return (this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER)) ? true : false;\n    }\n    renderPopup() {\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        if (Browser.isDevice) {\n            this.timeModal = createElement('div');\n            this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n            document.body.className += ' ' + OVERFLOW$3;\n            this.timeModal.style.display = 'block';\n            document.body.appendChild(this.timeModal);\n        }\n        const offset = 4;\n        this.popupObject = new Popup(this.dateTimeWrapper, {\n            width: this.setPopupWidth(),\n            zIndex: this.zIndex,\n            targetType: 'container',\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            enableRtl: this.enableRtl,\n            offsetY: offset,\n            open: () => {\n                this.dateTimeWrapper.style.visibility = 'visible';\n                addClass([this.timeIcon], ACTIVE$2);\n                if (!Browser.isDevice) {\n                    this.timekeyConfigure = extend(this.timekeyConfigure, this.keyConfigs);\n                    this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                        keyAction: this.timeKeyActionHandle.bind(this),\n                        keyConfigs: this.timekeyConfigure,\n                        eventName: 'keydown'\n                    });\n                }\n            }, close: () => {\n                removeClass([this.timeIcon], ACTIVE$2);\n                this.unWireTimeListEvents();\n                this.inputElement.setAttribute('aria-activedescendant', 'null');\n                remove(this.popupObject.element);\n                this.popupObject.destroy();\n                this.dateTimeWrapper.innerHTML = '';\n                this.listWrapper = this.dateTimeWrapper = undefined;\n                if (this.inputEvent) {\n                    this.inputEvent.destroy();\n                }\n            }, targetExitViewport: () => {\n                if (!Browser.isDevice) {\n                    this.hide();\n                }\n            }\n        });\n        this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n    }\n    setDimension(width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            // eslint-disable-next-line no-self-assign\n            width = width;\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    }\n    setPopupWidth() {\n        let width = this.setDimension(this.width);\n        if (width.indexOf('%') > -1) {\n            const inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    }\n    wireTimeListEvents() {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    }\n    unWireTimeListEvents() {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n            if (!Browser.isDevice) {\n                EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n                EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n            }\n        }\n    }\n    onMouseOver(event) {\n        const currentLi = closest(event.target, '.' + LISTCLASS$2);\n        this.setTimeHover(currentLi, HOVER$2);\n    }\n    onMouseLeave() {\n        this.removeTimeHover(HOVER$2);\n    }\n    setTimeHover(li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeTimeHover(className);\n            addClass([li], className);\n        }\n    }\n    getPopupHeight() {\n        const height = parseInt(POPUPDIMENSION$1, 10);\n        const popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    }\n    changeEvent(e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n            super.changeEvent(e);\n            this.valueWithMinutes = this.value;\n            this.setInputValue('date');\n            this.previousDateTime = this.value && new Date(+this.value);\n        }\n    }\n    updateValue(e) {\n        this.setInputValue('time');\n        if (+this.previousDateTime !== +this.value) {\n            this.changedArgs = {\n                value: this.value, event: e || null,\n                isInteracted: !isNullOrUndefined(e),\n                element: this.element\n            };\n            this.addTimeSelection();\n            this.trigger('change', this.changedArgs);\n            this.previousDateTime = this.previousDate = this.value;\n        }\n    }\n    setTimeScrollPosition() {\n        const popupElement = this.selectedElement;\n        if (!isNullOrUndefined(popupElement)) {\n            this.findScrollTop(popupElement);\n        }\n        else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    }\n    findScrollTop(element) {\n        const listHeight = this.getPopupHeight();\n        const nextElement = element.nextElementSibling;\n        const height = nextElement ? nextElement.offsetTop : element.offsetTop;\n        const lineHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.dateTimeWrapper.scrollTop = nextElement ? (height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1)) : height;\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    }\n    setScrollTo() {\n        let element;\n        const items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n        if (items.length >= 0) {\n            this.scrollInvoked = true;\n            const initialTime = this.timeCollections[0];\n            const scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n            element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    }\n    setInputValue(type) {\n        if (type === 'date') {\n            this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n            this.setProperties({ value: this.getFullDateTime() }, true);\n        }\n        else {\n            const tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n            Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousElementValue = this.inputElement.value;\n            this.setProperties({ value: new Date(this.timeCollections[this.activeIndex]) }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        this.updateIconState();\n    }\n    getFullDateTime() {\n        let value = null;\n        if (this.isDateObject(this.valueWithMinutes)) {\n            value = this.combineDateTime(this.valueWithMinutes);\n        }\n        else {\n            value = this.previousDate;\n        }\n        return this.validateMinMaxRange(value);\n    }\n    createMask() {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    }\n    combineDateTime(value) {\n        if (this.isDateObject(value)) {\n            const day = this.previousDate.getDate();\n            const month = this.previousDate.getMonth();\n            const year = this.previousDate.getFullYear();\n            const hour = value.getHours();\n            const minutes = value.getMinutes();\n            const seconds = value.getSeconds();\n            return new Date(year, month, day, hour, minutes, seconds);\n        }\n        else {\n            return this.previousDate;\n        }\n    }\n    onMouseClick(event) {\n        const target = event.target;\n        const li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n        if (li && li.classList.contains(LISTCLASS$2)) {\n            this.timeValue = li.getAttribute('data-value');\n            this.hide(event);\n        }\n        this.setSelection(li, event);\n    }\n    setSelection(li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n            this.selectedElement = li;\n            const index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.activeIndex = index;\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.updateValue(event);\n        }\n    }\n    setTimeActiveClass() {\n        const collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        if (!isNullOrUndefined(collections)) {\n            const items = collections.querySelectorAll('.' + LISTCLASS$2);\n            if (items.length) {\n                for (let i = 0; i < items.length; i++) {\n                    if (this.timeCollections[i] === +(this.valueWithMinutes)) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        this.setTimeActiveDescendant();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    setTimeActiveDescendant() {\n        if (!isNullOrUndefined(this.selectedElement)) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            attributes(this.inputElement, { 'aria-activedescendant': 'null' });\n        }\n    }\n    addTimeSelection() {\n        this.selectedElement = null;\n        this.removeTimeSelection();\n        this.setTimeActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    }\n    removeTimeSelection() {\n        this.removeTimeHover(HOVER$2);\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            const items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n            if (items.length) {\n                removeClass(items, ACTIVE$2);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    }\n    removeTimeHover(className) {\n        const hoveredItem = this.getTimeHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n        }\n    }\n    getTimeHoverItem(className) {\n        const collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        let hoveredItem;\n        if (!isNullOrUndefined(collections)) {\n            hoveredItem = collections.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    }\n    isValidLI(li) {\n        return (li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4));\n    }\n    calculateStartEnd(value, range, method) {\n        const day = value.getDate();\n        const month = value.getMonth();\n        const year = value.getFullYear();\n        const hours = value.getHours();\n        const minutes = value.getMinutes();\n        const seconds = value.getSeconds();\n        const milliseconds = value.getMilliseconds();\n        if (range) {\n            if (method === 'starttime') {\n                return new Date(year, month, day, 0, 0, 0);\n            }\n            else {\n                return new Date(year, month, day, 23, 59, 59);\n            }\n        }\n        else {\n            return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        }\n    }\n    startTime(date) {\n        let tempStartValue;\n        let start;\n        const tempMin = this.min;\n        const value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() &&\n            +value.getFullYear() === +tempMin.getFullYear()) || ((+new Date(value.getFullYear(), value.getMonth(), value.getDate())) <=\n            +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate()))) {\n            start = false;\n            tempStartValue = this.min;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            start = true;\n            tempStartValue = value;\n        }\n        else if (+value >= +this.max) {\n            start = true;\n            tempStartValue = this.max;\n        }\n        return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    }\n    endTime(date) {\n        let tempEndValue;\n        let end;\n        const tempMax = this.max;\n        const value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() &&\n            +value.getFullYear() === +tempMax.getFullYear()) || (+new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >=\n            +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate()))) {\n            end = false;\n            tempEndValue = this.max;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            end = true;\n            tempEndValue = value;\n        }\n        else if (+value <= +this.min) {\n            end = true;\n            tempEndValue = this.min;\n        }\n        return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    }\n    hide(e) {\n        if (this.popupObj || this.dateTimeWrapper) {\n            this.preventArgs = {\n                cancel: false,\n                popup: this.popupObj || this.popupObject,\n                event: e || null\n            };\n            const eventArgs = this.preventArgs;\n            if (isNullOrUndefined(this.popupObj)) {\n                this.trigger('close', eventArgs, (eventArgs) => {\n                    this.dateTimeCloseEventCallback(e, eventArgs);\n                });\n            }\n            else {\n                this.dateTimeCloseEventCallback(e, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    }\n    dateTimeCloseEventCallback(e, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (!this.preventArgs.cancel) {\n            if (this.isDatePopupOpen()) {\n                super.hide(e);\n            }\n            else if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n                removeClass([document.body], OVERFLOW$3);\n                if (Browser.isDevice && this.timeModal) {\n                    this.timeModal.style.display = 'none';\n                    this.timeModal.outerHTML = '';\n                    this.timeModal = null;\n                }\n                this.setTimeActiveDescendant();\n            }\n        }\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    closePopup(e) {\n        if (this.isTimePopupOpen() && this.popupObject) {\n            const animModel = {\n                name: 'FadeOut',\n                duration: ANIMATIONDURATION$1,\n                delay: 0\n            };\n            this.popupObject.hide(new Animation(animModel));\n            this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n    }\n    preRender() {\n        this.checkFormat();\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        super.preRender();\n        removeClass([this.inputElementCopy], [ROOT$4]);\n    }\n    getProperty(date, val) {\n        if (val === 'min') {\n            this.setProperties({ min: this.validateValue(date.min) }, true);\n        }\n        else {\n            this.setProperties({ max: this.validateValue(date.max) }, true);\n        }\n    }\n    checkAttributes(isDynamic) {\n        const attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n        let value;\n        for (const prop of attributes$$1) {\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['readonly'] === undefined)) || isDynamic) {\n                            const readonly = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['enabled'] === undefined)) || isDynamic) {\n                            const enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === 'true' ||\n                                this.inputElement.getAttribute(prop) === '' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    }\n    requiredModules() {\n        const modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push(this.maskedDateModule());\n        }\n        return modules;\n    }\n    maskedDateModule() {\n        let modules = { args: [this], member: 'MaskedDateTime' };\n        return modules;\n    }\n    getTimeActiveElement() {\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n        }\n        else {\n            return null;\n        }\n    }\n    createDateObj(val) {\n        return val instanceof Date ? val : null;\n    }\n    getDateObject(text) {\n        if (!this.isNullOrEmpty(text)) {\n            const dateValue = this.createDateObj(text);\n            const value = this.valueWithMinutes;\n            const status = !isNullOrUndefined(value);\n            if (this.checkDateValue(dateValue)) {\n                const date = status ? value.getDate() : DAY$1;\n                const month = status ? value.getMonth() : MONTH$3;\n                const year = status ? value.getFullYear() : YEAR$3;\n                const hour = status ? value.getHours() : HOUR;\n                const minute = status ? value.getMinutes() : MINUTE;\n                const second = status ? value.getSeconds() : SECOND;\n                const millisecond = status ? value.getMilliseconds() : MILLISECOND;\n                if (!this.scrollInvoked) {\n                    return new Date(year, month, date, hour, minute, second, millisecond);\n                }\n                else {\n                    this.scrollInvoked = false;\n                    return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n                }\n            }\n        }\n        return null;\n    }\n    findNextTimeElement(event) {\n        const textVal = (this.inputElement).value;\n        const value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        let dateTimeVal = null;\n        const listCount = this.liCollections.length;\n        if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n            if (event.action === 'home') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[0])));\n                this.activeIndex = 0;\n            }\n            else if (event.action === 'end') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1])));\n                this.activeIndex = this.timeCollections.length - 1;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (let i = 0; i < listCount; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (let i = listCount - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n        }\n    }\n    setTimeValue(date, value) {\n        let dateString;\n        let time;\n        const val = this.validateMinMaxRange(value);\n        const newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = new Date(+this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = new Date(+this.valueWithMinutes);\n        }\n        if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd'\n            });\n        }\n        else {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n            });\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        return time;\n    }\n    timeElementValue(value) {\n        if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n            const date = value instanceof Date ? value : this.getDateObject(value);\n            return this.setTimeValue(date, value);\n        }\n        return null;\n    }\n    timeKeyHandler(event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0) {\n            return;\n        }\n        const listCount = this.timeCollections.length;\n        if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    this.activeIndex = 0;\n                    this.selectedElement = this.liCollections[0];\n                    this.timeElementValue(new Date(this.timeCollections[0]));\n                }\n                else {\n                    this.findNextTimeElement(event);\n                }\n            }\n        }\n        else {\n            let nextItemValue;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                let index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (listCount) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (listCount - 1) : this.activeIndex;\n                nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                this.activeIndex = 0;\n                nextItemValue = this.timeCollections[0];\n            }\n            else if (event.action === 'end') {\n                this.activeIndex = listCount - 1;\n                nextItemValue = this.timeCollections[listCount - 1];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(new Date(nextItemValue));\n        }\n        this.isNavigate = true;\n        this.setTimeHover(this.selectedElement, NAVIGATION$1);\n        this.setTimeActiveDescendant();\n        if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setTimeScrollPosition();\n        }\n    }\n    timeKeyActionHandle(event) {\n        if (this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'up':\n                case 'down':\n                case 'home':\n                case 'end':\n                    this.timeKeyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.setInputValue('time');\n                        if (+this.previousDateTime !== +this.value) {\n                            this.changedArgs.value = this.value;\n                            this.addTimeSelection();\n                            this.previousDateTime = this.value;\n                        }\n                    }\n                    else {\n                        this.updateValue(event);\n                    }\n                    this.hide(event);\n                    addClass([this.inputWrapper.container], INPUTFOCUS$2);\n                    this.isNavigate = false;\n                    event.stopPropagation();\n                    break;\n                case 'escape':\n                    this.hide(event);\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    }\n    inputKeyAction(event) {\n        switch (event.action) {\n            case 'altDownArrow':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.toggle(event);\n                break;\n        }\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @deprecated\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    newProp.value = this.validateValue(newProp.value);\n                    Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n                    this.valueWithMinutes = newProp.value;\n                    this.setProperties({ value: newProp.value }, true);\n                    if (this.popupObj) {\n                        this.popupUpdate();\n                    }\n                    this.previousDateTime = new Date(this.inputElement.value);\n                    this.updateInput();\n                    this.changeTrigger(null);\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask && this.value) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    this.updateInput();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass)) {\n                        oldProp.cssClass = (oldProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    if (!isNullOrUndefined(newProp.cssClass)) {\n                        newProp.cssClass = (newProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.dateTimeWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n                    this.dateTimeFormat = this.cldrDateTimeFormat();\n                    super.updateInput();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.dateTimeFormat = this.formatString;\n                    this.setValue();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.inputElement.setAttribute('aria-placeholder', newProp.placeholder);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (!this.enabled) {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n                        if (this.dateTimeWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.maskedDateValue = '';\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                default:\n                    super.onPropertyChanged(newProp, oldProp);\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    }\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    getModuleName() {\n        return 'datetimepicker';\n    }\n    restoreValue() {\n        this.previousDateTime = this.previousDate;\n        this.currentDate = this.value ? this.value : new Date();\n        this.valueWithMinutes = this.value;\n        this.previousDate = this.value;\n        this.previousElementValue = this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.getFormattedValue(this.inputValueCopy);\n    }\n};\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"timeFormat\", void 0);\n__decorate$4([\n    Property(30)\n], DateTimePicker.prototype, \"step\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"scrollTo\", void 0);\n__decorate$4([\n    Property(1000)\n], DateTimePicker.prototype, \"zIndex\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"value\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"keyConfigs\", void 0);\n__decorate$4([\n    Property({})\n], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"enablePersistence\", void 0);\n__decorate$4([\n    Property(true)\n], DateTimePicker.prototype, \"allowEdit\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"values\", void 0);\n__decorate$4([\n    Property(true)\n], DateTimePicker.prototype, \"showClearButton\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"placeholder\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"strictMode\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n__decorate$4([\n    Property(new Date(1900, 0, 1))\n], DateTimePicker.prototype, \"min\", void 0);\n__decorate$4([\n    Property(new Date(2099, 11, 31))\n], DateTimePicker.prototype, \"max\", void 0);\n__decorate$4([\n    Property(null)\n], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n__decorate$4([\n    Property('Gregorian')\n], DateTimePicker.prototype, \"calendarMode\", void 0);\n__decorate$4([\n    Property('Month')\n], DateTimePicker.prototype, \"start\", void 0);\n__decorate$4([\n    Property('Month')\n], DateTimePicker.prototype, \"depth\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"weekNumber\", void 0);\n__decorate$4([\n    Property(true)\n], DateTimePicker.prototype, \"showTodayButton\", void 0);\n__decorate$4([\n    Property('Short')\n], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"openOnFocus\", void 0);\n__decorate$4([\n    Property(false)\n], DateTimePicker.prototype, \"enableMask\", void 0);\n__decorate$4([\n    Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"open\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"close\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"cleared\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"blur\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"focus\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"created\", void 0);\n__decorate$4([\n    Event()\n], DateTimePicker.prototype, \"destroyed\", void 0);\nDateTimePicker = __decorate$4([\n    NotifyPropertyChanges\n], DateTimePicker);\n\n/**\n * DateTimePicker modules\n */\n\nconst ARROWLEFT = 'ArrowLeft';\nconst ARROWRIGHT = 'ArrowRight';\nconst ARROWUP = 'ArrowUp';\nconst ARROWDOWN = 'ArrowDown';\nconst TAB = 'Tab';\nconst SHIFTTAB = 'shiftTab';\nconst END = 'End';\nconst HOME = 'Home';\nclass MaskedDateTime {\n    constructor(parent) {\n        this.mask = '';\n        this.defaultConstant = {\n            day: 'day',\n            month: 'month',\n            year: 'year',\n            hour: 'hour',\n            minute: 'minute',\n            second: 'second',\n            dayOfTheWeek: 'day of the week',\n        };\n        this.hiddenMask = '';\n        this.validCharacters = 'dMyhmHfasz';\n        this.isDayPart = false;\n        this.isMonthPart = false;\n        this.isYearPart = false;\n        this.isHourPart = false;\n        this.isMinutePart = false;\n        this.isSecondsPart = false;\n        this.isMilliSecondsPart = false;\n        this.monthCharacter = '';\n        this.periodCharacter = '';\n        this.isHiddenMask = false;\n        this.isComplete = false;\n        this.isNavigate = false;\n        this.navigated = false;\n        this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n        this.isDeletion = false;\n        this.isShortYear = false;\n        this.isDeleteKey = false;\n        this.isDateZero = false;\n        this.isMonthZero = false;\n        this.isYearZero = false;\n        this.dayTypeCount = 0;\n        this.monthTypeCount = 0;\n        this.hourTypeCount = 0;\n        this.minuteTypeCount = 0;\n        this.secondTypeCount = 0;\n        this.parent = parent;\n        this.dateformat = this.getCulturedFormat();\n        this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n        this.maskDateValue.setMonth(0);\n        this.maskDateValue.setHours(0);\n        this.maskDateValue.setMinutes(0);\n        this.maskDateValue.setSeconds(0);\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    getModuleName() {\n        return 'MaskedDateTime';\n    }\n    addEventListener() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('createMask', this.createMask, this);\n        this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n        this.parent.on('inputHandler', this.maskInputHandler, this);\n        this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n        this.parent.on('clearHandler', this.clearHandler, this);\n    }\n    removeEventListener() {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('createMask', this.createMask);\n        this.parent.off('setMaskSelection', this.validCharacterCheck);\n        this.parent.off('inputHandler', this.maskInputHandler);\n        this.parent.off('keyDownHandler', this.maskKeydownHandler);\n        this.parent.off('clearHandler', this.clearHandler);\n    }\n    createMask(dateformat) {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.dateformat = this.getCulturedFormat();\n        if (this.parent.maskPlaceholder.day)\n            this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n        if (this.parent.maskPlaceholder.month)\n            this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n        if (this.parent.maskPlaceholder.year)\n            this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n        if (this.parent.maskPlaceholder.hour)\n            this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n        if (this.parent.maskPlaceholder.minute)\n            this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n        if (this.parent.maskPlaceholder.second)\n            this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n        if (this.parent.maskPlaceholder.dayOfTheWeek)\n            this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n        this.getCUltureMaskFormat();\n        let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.mask = this.previousValue = inputValue;\n        this.parent.maskedDateValue = this.mask;\n        if (this.parent.value) {\n            this.setDynamicValue();\n        }\n    }\n    getCUltureMaskFormat() {\n        this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n        this.objectString = Object.keys(this.defaultConstant);\n        for (let i = 0; i < this.objectString.length; i++) {\n            this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n        }\n    }\n    validCharacterCheck() {\n        let start = this.parent.inputElement.selectionStart;\n        for (let i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n            if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n                this.setSelection(this.hiddenMask[i]);\n                return;\n            }\n            if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n                this.setSelection(this.hiddenMask[j]);\n                return;\n            }\n        }\n    }\n    setDynamicValue() {\n        this.maskDateValue = new Date(+this.parent.value);\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n        this.updateValue();\n        // this.parent.inputElement.selectionStart = start;\n        // this.validCharacterCheck();\n    }\n    setSelection(validChar) {\n        let start = -1;\n        let end = 0;\n        for (let i = 0; i < this.hiddenMask.length; i++) {\n            if (this.hiddenMask[i] === validChar) {\n                end = i + 1;\n                if (start === -1) {\n                    start = i;\n                }\n            }\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        this.parent.inputElement.setSelectionRange(start, end);\n    }\n    maskKeydownHandler(args) {\n        this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n        if (args.e.key === 'Delete') {\n            this.isDeleteKey = true;\n            return;\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB ||\n            args.e.key === END || args.e.key === HOME)) {\n            let start = this.parent.inputElement.selectionStart;\n            let end = this.parent.inputElement.selectionEnd;\n            let length = this.parent.inputElement.value.length;\n            if ((start == 0 && end == length) && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n                let index = args.e.action === SHIFTTAB ? end : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n            }\n            if (args.e.key === END || args.e.key === HOME) {\n                let range = args.e.key === END ? length : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n            }\n            this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n            let start = this.parent.inputElement.selectionStart;\n            this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n            let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = true;\n            this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = false;\n            this.previousHiddenMask = this.hiddenMask;\n            this.previousValue = inputValue;\n            this.parent.inputElement.value = inputValue;\n            this.parent.inputElement.selectionStart = start;\n            this.validCharacterCheck();\n        }\n    }\n    isPersist() {\n        let isPersist = this.parent.isFocused || this.navigated;\n        return isPersist;\n    }\n    differenceCheck() {\n        let start = this.parent.inputElement.selectionStart;\n        let inputValue = this.parent.inputElement.value;\n        let previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n        let newVal = inputValue.substring(0, start);\n        let newDateValue = new Date(+this.maskDateValue);\n        let maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n        if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n            for (let i = newVal.length; i < previousVal.length; i++) {\n                if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n                    this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n                }\n            }\n            if (this.isDeletion) {\n                return;\n            }\n        }\n        switch (this.previousHiddenMask[start - 1]) {\n            case 'd':\n                let date = (this.isDayPart && newDateValue.getDate().toString().length < 2 && !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.isDateZero = (newVal[start - 1] == '0');\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(date)) {\n                    return;\n                }\n                for (let i = 0; date > maxDate; i++) {\n                    date = parseInt(date.toString().slice(1), 10);\n                }\n                if (date >= 1) {\n                    newDateValue.setDate(date);\n                    this.isNavigate = date.toString().length === 2;\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n                        return;\n                    }\n                    this.isDayPart = true;\n                    this.dayTypeCount = this.dayTypeCount + 1;\n                }\n                else {\n                    this.isDayPart = false;\n                    this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n                }\n                break;\n            case 'M':\n                let month;\n                if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n                    month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                }\n                else {\n                    month = parseInt(newVal[start - 1], 10);\n                }\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                this.isMonthZero = (newVal[start - 1] == '0');\n                if (!isNaN(month)) {\n                    while (month > 12) {\n                        month = parseInt(month.toString().slice(1), 10);\n                    }\n                    if (month >= 1) {\n                        newDateValue.setMonth(month - 1);\n                        this.isNavigate = month.toString().length === 2;\n                        if (newDateValue.getMonth() !== month - 1) {\n                            newDateValue.setDate(1);\n                            newDateValue.setMonth(month - 1);\n                        }\n                        if (this.isDayPart) {\n                            let previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                            let currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                            if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                                newDateValue.setDate(currentMaxDate);\n                            }\n                        }\n                        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                        this.isMonthPart = true;\n                        this.monthTypeCount = this.monthTypeCount + 1;\n                    }\n                    else {\n                        newDateValue.setMonth(0);\n                        this.isMonthPart = false;\n                        this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n                    }\n                }\n                else { // let monthString: string[] = <string[]>(getValue('months[stand-alone].wide', getDefaultDateObject()));\n                    let monthString = (this.getCulturedValue('months[stand-alone].wide'));\n                    let monthValue = Object.keys(monthString);\n                    this.monthCharacter += newVal[start - 1].toLowerCase();\n                    while (this.monthCharacter.length > 0) {\n                        let i = 1;\n                        for (let months of monthValue) {\n                            if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                                newDateValue.setMonth(i - 1);\n                                this.isMonthPart = true;\n                                this.maskDateValue = newDateValue;\n                                return;\n                            }\n                            i++;\n                        }\n                        this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n                    }\n                }\n                break;\n            case 'y':\n                let year = (this.isYearPart && (newDateValue.getFullYear().toString().length < 4 && !this.isShortYear) ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.isShortYear = false;\n                this.isYearZero = (newVal[start - 1] == '0');\n                if (isNaN(year)) {\n                    return;\n                }\n                while (year > 9999) {\n                    year = parseInt(year.toString().slice(1), 10);\n                }\n                if (year < 1) {\n                    this.isYearPart = false;\n                }\n                else {\n                    newDateValue.setFullYear(year);\n                    if (year.toString().length === 4) {\n                        this.isNavigate = true;\n                    }\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    this.isYearPart = true;\n                }\n                break;\n            case 'h':\n                this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                while (this.hour > 12) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + (this.hour % 12));\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = this.hourTypeCount + 1;\n                break;\n            case 'H':\n                this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 && !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                for (let i = 0; this.hour > 23; i++) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(this.hour);\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = this.hourTypeCount + 1;\n                break;\n            case 'm':\n                let minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(minutes)) {\n                    return;\n                }\n                for (let i = 0; minutes > 59; i++) {\n                    minutes = parseInt(minutes.toString().slice(1), 10);\n                }\n                newDateValue.setMinutes(minutes);\n                this.isNavigate = minutes.toString().length === 2;\n                this.isMinutePart = true;\n                this.minuteTypeCount = this.minuteTypeCount + 1;\n                break;\n            case 's':\n                let seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 && !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(seconds)) {\n                    return;\n                }\n                for (let i = 0; seconds > 59; i++) {\n                    seconds = parseInt(seconds.toString().slice(1), 10);\n                }\n                newDateValue.setSeconds(seconds);\n                this.isNavigate = seconds.toString().length === 2;\n                this.isSecondsPart = true;\n                this.secondTypeCount = this.secondTypeCount + 1;\n                break;\n            case 'a':\n                this.periodCharacter += newVal[start - 1].toLowerCase();\n                // let periodString: string[] = <string[]>(getValue('dayPeriods.format.wide', getDefaultDateObject()));;\n                let periodString = (this.getCulturedValue('dayPeriods.format.wide'));\n                let periodkeys = Object.keys(periodString);\n                //periodString[periodkeys[0]] : periodString[periodkeys[1]] : periodString[periodkeys[0]];\n                for (let i = 0; this.periodCharacter.length > 0; i++) {\n                    if ((periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12) || (periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12)) {\n                        newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                        this.maskDateValue = newDateValue;\n                    }\n                    this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length);\n                    // Object.values()\n                }\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue;\n    }\n    formatCheck() {\n        const proxy = this;\n        function formatValueSpecifier(formattext) {\n            let result;\n            let daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n            let dayKeyAbbreviated = Object.keys(daysAbbreviated);\n            let daysWide = (proxy.getCulturedValue('days[stand-alone].wide'));\n            let dayKeyWide = Object.keys(daysWide);\n            let daysNarrow = (proxy.getCulturedValue('days[stand-alone].narrow'));\n            let dayKeyNarrow = Object.keys(daysNarrow);\n            let monthAbbreviated = (proxy.getCulturedValue('months[stand-alone].abbreviated'));\n            let monthWide = (proxy.getCulturedValue('months[stand-alone].wide'));\n            let periodString = (proxy.getCulturedValue('dayPeriods.format.wide'));\n            let periodkeys = Object.keys(periodString);\n            let milliseconds;\n            let dateOptions;\n            switch (formattext) {\n                case 'ddd':\n                case 'dddd':\n                case 'd':\n                    result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'dd':\n                    result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'E':\n                case 'EE':\n                case 'EEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'M':\n                    result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MM':\n                    result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MMM':\n                    result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'MMMM':\n                    result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'yy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    if (proxy.isYearPart) {\n                        proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n                    }\n                    break;\n                case 'y':\n                case 'yyyy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    break;\n                case 'h':\n                    result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'hh':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'H':\n                    result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'HH':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'm':\n                    result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 'mm':\n                    result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 's':\n                    result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'ss':\n                    result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'f':\n                    result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n                    break;\n                case 'ff':\n                    milliseconds = proxy.maskDateValue.getMilliseconds();\n                    if (proxy.maskDateValue.getMilliseconds() > 99) {\n                        milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n                    }\n                    result = proxy.roundOff(milliseconds, 2);\n                    break;\n                case 'fff':\n                    result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n                    break;\n                case 'a':\n                case 'aa':\n                    result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n                    break;\n                case 'z':\n                case 'zz':\n                case 'zzz':\n                case 'zzzz':\n                    dateOptions = {\n                        format: formattext,\n                        type: 'dateTime', skeleton: 'yMd', calendar: proxy.parent.calendarMode\n                    };\n                    result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n                    break;\n            }\n            result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n            if (proxy.isHiddenMask) {\n                let hiddenChar = '';\n                for (let i = 0; i < result.length; i++) {\n                    hiddenChar += formattext[0];\n                }\n                return hiddenChar;\n            }\n            else {\n                return result;\n            }\n        }\n        return formatValueSpecifier;\n    }\n    maskInputHandler() {\n        let start = this.parent.inputElement.selectionStart;\n        let selectionChar = this.previousHiddenMask[start - 1];\n        let inputValue;\n        this.differenceCheck();\n        inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isDateZero = this.isMonthZero = this.isYearZero = false;\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.inputElement.value = inputValue;\n        this.parent.inputElement.selectionStart = start;\n        this.validCharacterCheck();\n        if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n            let isbackward = this.isNavigate ? false : true;\n            this.isNavigate = this.isDeletion = false;\n            this.navigateSelection(isbackward);\n        }\n        this.isDeleteKey = false;\n        // this.setSelection(selectionChar);\n        // this.navigateSelection(inputValue);\n    }\n    navigateSelection(isbackward) {\n        let start = this.parent.inputElement.selectionStart;\n        let end = this.parent.inputElement.selectionEnd;\n        let formatIndex = isbackward ? start - 1 : end + 1;\n        this.navigated = true;\n        while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n            if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n                this.setSelection(this.hiddenMask[formatIndex]);\n                break;\n            }\n            formatIndex = formatIndex + (isbackward ? -1 : 1);\n        }\n    }\n    roundOff(val, count) {\n        let valueText = val.toString();\n        let length = count - valueText.length;\n        let result = '';\n        for (let i = 0; i < length; i++) {\n            result += '0';\n        }\n        return result + valueText;\n    }\n    zeroCheck(isZero, isDayPart, resultValue) {\n        let result = resultValue;\n        if (isZero && !isDayPart) {\n            result = '0';\n        }\n        return result;\n    }\n    handleDeletion(format, isSegment) {\n        switch (format) {\n            case 'd':\n                this.isDayPart = isSegment;\n                break;\n            case 'M':\n                this.isMonthPart = isSegment;\n                if (!isSegment) {\n                    this.maskDateValue.setMonth(0);\n                    this.monthCharacter = '';\n                }\n                break;\n            case 'y':\n                this.isYearPart = isSegment;\n                break;\n            case 'H':\n            case 'h':\n                this.isHourPart = isSegment;\n                if (!isSegment) {\n                    this.periodCharacter = '';\n                }\n                break;\n            case 'm':\n                this.isMinutePart = isSegment;\n                break;\n            case 's':\n                this.isSecondsPart = isSegment;\n                break;\n            default:\n                return false;\n        }\n        return true;\n    }\n    dateAlteration(isDecrement) {\n        let start = this.parent.inputElement.selectionStart;\n        let formatText = '';\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            formatText = this.hiddenMask[start];\n        }\n        else {\n            return;\n        }\n        let newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        let incrementValue = isDecrement ? -1 : 1;\n        switch (formatText) {\n            case 'd':\n                newDateValue.setDate(newDateValue.getDate() + incrementValue);\n                break;\n            case 'M':\n                let newMonth = newDateValue.getMonth() + incrementValue;\n                newDateValue.setDate(1);\n                newDateValue.setMonth(newMonth);\n                if (this.isDayPart) {\n                    let previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                    let currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                    if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                        newDateValue.setDate(currentMaxDate);\n                    }\n                    else {\n                        newDateValue.setDate(this.previousDate.getDate());\n                    }\n                }\n                else {\n                    newDateValue.setDate(this.previousDate.getDate());\n                }\n                this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                break;\n            case 'y':\n                newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n                break;\n            case 'H':\n            case 'h':\n                newDateValue.setHours(newDateValue.getHours() + incrementValue);\n                break;\n            case 'm':\n                newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n                break;\n            case 's':\n                newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n                break;\n            case 'a':\n                newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            this.handleDeletion(this.hiddenMask[start], true);\n        }\n    }\n    getCulturedValue(format) {\n        let locale = this.parent.locale;\n        let result;\n        if (locale === 'en' || locale === 'en-US') {\n            result = getValue(format, getDefaultDateObject());\n        }\n        else {\n            result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n        }\n        return result;\n    }\n    getCulturedFormat() {\n        let formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n        if (this.parent.moduleName == 'datepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.format && this.parent.formatString) {\n                formatString = this.parent.formatString;\n            }\n        }\n        if (this.parent.moduleName == 'datetimepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.dateTimeFormat) {\n                formatString = this.parent.dateTimeFormat;\n            }\n        }\n        if (this.parent.moduleName == 'timepicker') {\n            formatString = this.parent.cldrTimeFormat();\n        }\n        return formatString;\n    }\n    clearHandler() {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.updateValue();\n    }\n    updateValue() {\n        this.monthCharacter = this.periodCharacter = '';\n        let inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.updateInputValue(inputValue);\n        //this.parent.inputElement.value = inputValue;\n    }\n    destroy() {\n        this.removeEventListener();\n    }\n}\n\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\nexport { CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}