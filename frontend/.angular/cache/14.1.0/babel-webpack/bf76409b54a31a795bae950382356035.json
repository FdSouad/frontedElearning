{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Event, EventHandler, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getUniqueID, isBlazor, isNullOrUndefined, prepend, remove, removeClass, select, selectAll, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n/**\n * Position library\n */\n\nlet elementRect;\nlet popupRect;\nlet element;\nlet parentDocument;\nlet fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\n\nfunction calculateRelativeBasedPosition(anchor, element) {\n  let fixedElement = false;\n  const anchorPos = {\n    left: 0,\n    top: 0\n  };\n  const tempAnchor = anchor;\n\n  if (!anchor || !element) {\n    return anchorPos;\n  }\n\n  if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n    fixedElement = true;\n  }\n\n  while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n    anchorPos.left += anchor.offsetLeft;\n    anchorPos.top += anchor.offsetTop;\n    anchor = anchor.offsetParent;\n  }\n\n  anchor = tempAnchor;\n\n  while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n    anchorPos.left -= anchor.scrollLeft;\n    anchorPos.top -= anchor.scrollTop;\n    anchor = anchor.parentElement;\n  }\n\n  return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\n\n\nfunction calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n  //eslint-disable-next-line\n  popupRect = undefined;\n  popupRect = targetValues;\n  fixedParent = parentElement ? true : false;\n\n  if (!currentElement) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  if (!positionX) {\n    positionX = 'left';\n  }\n\n  if (!positionY) {\n    positionY = 'top';\n  }\n\n  parentDocument = currentElement.ownerDocument;\n  element = currentElement;\n  const pos = {\n    left: 0,\n    top: 0\n  };\n  return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\n\n\nfunction setPosx(value, pos) {\n  pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\n\n\nfunction setPosy(value, pos) {\n  pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\n\n\nfunction updatePosition(posX, posY, pos) {\n  elementRect = element.getBoundingClientRect();\n\n  switch (posY + posX) {\n    case 'topcenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n\n    case 'topright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n\n    case 'centercenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'centerright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'centerleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'bottomcenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    case 'bottomright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    case 'bottomleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    default:\n    case 'topleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n  }\n\n  return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getBodyScrollTop() {\n  return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getBodyScrollLeft() {\n  return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementBottom() {\n  return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementVCenter() {\n  return getElementTop() + elementRect.height / 2;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementTop() {\n  return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementLeft() {\n  return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementRight() {\n  const popupWidth = element && element.classList.contains('e-date-range-wrapper') ? popupRect ? popupRect.width : 0 : popupRect && elementRect.width >= popupRect.width ? popupRect.width : 0;\n  return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementHCenter() {\n  return getElementLeft() + elementRect.width / 2;\n}\n/**\n * Collision module.\n */\n\n\nlet parentDocument$1;\nlet targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\n\nfunction fit(element, viewPortElement = null, axis = {\n  X: false,\n  Y: false\n}, position) {\n  if (!axis.Y && !axis.X) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  const elemData = element.getBoundingClientRect();\n  targetContainer = viewPortElement;\n  parentDocument$1 = element.ownerDocument;\n\n  if (!position) {\n    position = calculatePosition(element, 'left', 'top');\n  }\n\n  if (axis.X) {\n    const containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n    const containerLeft = ContainerLeft();\n    const containerRight = ContainerRight();\n    const overLeft = containerLeft - position.left;\n    const overRight = position.left + elemData.width - containerRight;\n\n    if (elemData.width > containerWidth) {\n      if (overLeft > 0 && overRight <= 0) {\n        position.left = containerRight - elemData.width;\n      } else if (overRight > 0 && overLeft <= 0) {\n        position.left = containerLeft;\n      } else {\n        position.left = overLeft > overRight ? containerRight - elemData.width : containerLeft;\n      }\n    } else if (overLeft > 0) {\n      position.left += overLeft;\n    } else if (overRight > 0) {\n      position.left -= overRight;\n    }\n  }\n\n  if (axis.Y) {\n    const containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n    const containerTop = ContainerTop();\n    const containerBottom = ContainerBottom();\n    const overTop = containerTop - position.top;\n    const overBottom = position.top + elemData.height - containerBottom;\n\n    if (elemData.height > containerHeight) {\n      if (overTop > 0 && overBottom <= 0) {\n        position.top = containerBottom - elemData.height;\n      } else if (overBottom > 0 && overTop <= 0) {\n        position.top = containerTop;\n      } else {\n        position.top = overTop > overBottom ? containerBottom - elemData.height : containerTop;\n      }\n    } else if (overTop > 0) {\n      position.top += overTop;\n    } else if (overBottom > 0) {\n      position.top -= overBottom;\n    }\n  }\n\n  return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\n\n\nfunction isCollide(element, viewPortElement = null, x, y) {\n  const elemOffset = calculatePosition(element, 'left', 'top');\n\n  if (x) {\n    elemOffset.left = x;\n  }\n\n  if (y) {\n    elemOffset.top = y;\n  }\n\n  const data = [];\n  targetContainer = viewPortElement;\n  parentDocument$1 = element.ownerDocument;\n  const elementRect = element.getBoundingClientRect();\n  const top = elemOffset.top;\n  const left = elemOffset.left;\n  const right = elemOffset.left + elementRect.width;\n  const bottom = elemOffset.top + elementRect.height; // eslint-disable-next-line\n\n  const yAxis = topCollideCheck(top, bottom);\n  const xAxis = leftCollideCheck(left, right);\n\n  if (yAxis.topSide) {\n    data.push('top');\n  }\n\n  if (xAxis.rightSide) {\n    data.push('right');\n  }\n\n  if (xAxis.leftSide) {\n    data.push('left');\n  }\n\n  if (yAxis.bottomSide) {\n    data.push('bottom');\n  }\n\n  return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\n\n\nfunction flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement = null,\n/* eslint-disable */\naxis = {\n  X: true,\n  Y: true\n}, fixedParent) {\n  if (!target || !element || !positionX || !positionY || !axis.X && !axis.Y) {\n    return;\n  } // eslint-disable-next-line\n\n\n  const tEdge = {\n    TL: null,\n    TR: null,\n    BL: null,\n    BR: null\n  },\n        eEdge = {\n    TL: null,\n    TR: null,\n    BL: null,\n    BR: null\n    /* eslint-enable */\n\n  };\n  let elementRect;\n\n  if (window.getComputedStyle(element).display === 'none') {\n    const oldVisibility = element.style.visibility;\n    element.style.visibility = 'hidden';\n    element.style.display = 'block';\n    elementRect = element.getBoundingClientRect();\n    element.style.removeProperty('display');\n    element.style.visibility = oldVisibility;\n  } else {\n    elementRect = element.getBoundingClientRect();\n  }\n\n  const pos = {\n    posX: positionX,\n    posY: positionY,\n    offsetX: offsetX,\n    offsetY: offsetY,\n    position: {\n      left: 0,\n      top: 0\n    }\n  };\n  targetContainer = viewPortElement;\n  parentDocument$1 = target.ownerDocument;\n  updateElementData(target, tEdge, pos, fixedParent, elementRect);\n  setPosition(eEdge, pos, elementRect);\n\n  if (axis.X) {\n    leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n  }\n\n  if (axis.Y && tEdge.TL.top > -1) {\n    topFlip(target, eEdge, tEdge, pos, elementRect, true);\n  }\n\n  setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\n\n\nfunction setPopup(element, pos, elementRect) {\n  //eslint-disable-next-line\n  let left = 0,\n      top = 0;\n\n  if (element.offsetParent != null && (getComputedStyle(element.offsetParent).position === 'absolute' || getComputedStyle(element.offsetParent).position === 'relative')) {\n    const data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n    left = data.left;\n    top = data.top;\n  }\n\n  element.style.top = pos.position.top + pos.offsetY - top + 'px';\n  element.style.left = pos.position.left + pos.offsetX - left + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\n\n\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n  pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n  edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n  edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n  edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n  edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\n\n\nfunction setPosition(eStatus, pos, elementRect) {\n  eStatus.TL = {\n    top: pos.position.top + pos.offsetY,\n    left: pos.position.left + pos.offsetX\n  };\n  eStatus.TR = {\n    top: eStatus.TL.top,\n    left: eStatus.TL.left + elementRect.width\n  };\n  eStatus.BL = {\n    top: eStatus.TL.top + elementRect.height,\n    left: eStatus.TL.left\n  };\n  eStatus.BR = {\n    top: eStatus.TL.top + elementRect.height,\n    left: eStatus.TL.left + elementRect.width\n  };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\n\n\nfunction leftCollideCheck(left, right) {\n  //eslint-disable-next-line\n  let leftSide = false,\n      rightSide = false;\n\n  if (left - getBodyScrollLeft$1() < ContainerLeft()) {\n    leftSide = true;\n  }\n\n  if (right > ContainerRight()) {\n    rightSide = true;\n  }\n\n  return {\n    leftSide: leftSide,\n    rightSide: rightSide\n  };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\n\n\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n  const collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n\n  if (tEdge.TL.left - getBodyScrollLeft$1() <= ContainerLeft()) {\n    collideSide.leftSide = false;\n  }\n\n  if (tEdge.TR.left > ContainerRight()) {\n    collideSide.rightSide = false;\n  }\n\n  if (collideSide.leftSide && !collideSide.rightSide || !collideSide.leftSide && collideSide.rightSide) {\n    if (pos.posX === 'right') {\n      pos.posX = 'left';\n    } else {\n      pos.posX = 'right';\n    }\n\n    pos.offsetX = pos.offsetX + elementRect.width;\n    pos.offsetX = -1 * pos.offsetX;\n    pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n    setPosition(edge, pos, elementRect);\n\n    if (deepCheck) {\n      leftFlip(target, edge, tEdge, pos, elementRect, false);\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\n\n\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n  const collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n\n  if (tEdge.TL.top - getBodyScrollTop$1() <= ContainerTop()) {\n    collideSide.topSide = false;\n  }\n\n  if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n    collideSide.bottomSide = false;\n  }\n\n  if (collideSide.topSide && !collideSide.bottomSide || !collideSide.topSide && collideSide.bottomSide) {\n    if (pos.posY === 'top') {\n      pos.posY = 'bottom';\n    } else {\n      pos.posY = 'top';\n    }\n\n    pos.offsetY = pos.offsetY + elementRect.height;\n    pos.offsetY = -1 * pos.offsetY;\n    pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n    setPosition(edge, pos, elementRect);\n\n    if (deepCheck) {\n      topFlip(target, edge, tEdge, pos, elementRect, false);\n    }\n  }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\n\n\nfunction topCollideCheck(top, bottom) {\n  //eslint-disable-next-line\n  let topSide = false,\n      bottomSide = false;\n\n  if (top - getBodyScrollTop$1() < ContainerTop()) {\n    topSide = true;\n  }\n\n  if (bottom > ContainerBottom()) {\n    bottomSide = true;\n  }\n\n  return {\n    topSide: topSide,\n    bottomSide: bottomSide\n  };\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerWidth() {\n  return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerHeight() {\n  return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerLeft() {\n  return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerTop() {\n  return targetContainer.getBoundingClientRect().top;\n} //eslint-disable-next-line\n\n\nfunction ContainerTop() {\n  if (targetContainer) {\n    return getTargetContainerTop();\n  }\n\n  return 0;\n} //eslint-disable-next-line\n\n\nfunction ContainerLeft() {\n  if (targetContainer) {\n    return getTargetContainerLeft();\n  }\n\n  return 0;\n} //eslint-disable-next-line\n\n\nfunction ContainerRight() {\n  if (targetContainer) {\n    return getBodyScrollLeft$1() + getTargetContainerLeft() + getTargetContainerWidth();\n  }\n\n  return getBodyScrollLeft$1() + getViewPortWidth();\n} //eslint-disable-next-line\n\n\nfunction ContainerBottom() {\n  if (targetContainer) {\n    return getBodyScrollTop$1() + getTargetContainerTop() + getTargetContainerHeight();\n  }\n\n  return getBodyScrollTop$1() + getViewPortHeight();\n}\n/**\n * @returns {void}\n */\n\n\nfunction getBodyScrollTop$1() {\n  // if(targetContainer)\n  //     return targetContainer.scrollTop;\n  return parentDocument$1.documentElement.scrollTop || parentDocument$1.body.scrollTop;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getBodyScrollLeft$1() {\n  // if(targetContainer)\n  //     return targetContainer.scrollLeft;\n  return parentDocument$1.documentElement.scrollLeft || parentDocument$1.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getViewPortHeight() {\n  return window.innerHeight;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getViewPortWidth() {\n  const windowWidth = window.innerWidth;\n  let documentReact = document.documentElement.getBoundingClientRect();\n  let offsetWidth = isNullOrUndefined(document.documentElement) ? 0 : documentReact.width;\n  return windowWidth - (windowWidth - offsetWidth);\n}\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the offset position values.\n */\n\n\nclass PositionData extends ChildProperty {}\n\n__decorate([Property('left')], PositionData.prototype, \"X\", void 0);\n\n__decorate([Property('top')], PositionData.prototype, \"Y\", void 0); // don't use space in classNames\n\n\nconst CLASSNAMES = {\n  ROOT: 'e-popup',\n  RTL: 'e-rtl',\n  OPEN: 'e-popup-open',\n  CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\n\nlet Popup = class Popup extends Component {\n  constructor(element, options) {\n    super(options, element);\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {PopupModel} newProp - specifies the new property\n   * @param {PopupModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'zIndex':\n          setStyleAttribute(this.element, {\n            'zIndex': newProp.zIndex\n          });\n          break;\n\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n\n        case 'position':\n        case 'relateTo':\n          this.refreshPosition();\n          break;\n\n        case 'offsetX':\n          // eslint-disable-next-line\n          let x = newProp.offsetX - oldProp.offsetX;\n          this.element.style.left = (parseInt(this.element.style.left, 10) + x).toString() + 'px';\n          break;\n\n        case 'offsetY':\n          // eslint-disable-next-line\n          let y = newProp.offsetY - oldProp.offsetY;\n          this.element.style.top = (parseInt(this.element.style.top, 10) + y).toString() + 'px';\n          break;\n\n        case 'content':\n          this.setContent();\n          break;\n\n        case 'actionOnScroll':\n          if (newProp.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n          } else {\n            this.unwireScrollEvents();\n          }\n\n          break;\n      }\n    }\n  }\n  /**\n   * gets the Component module name.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'popup';\n  }\n  /**\n   * To resolve if any collision occurs.\n   *\n   * @returns {void}\n   */\n\n\n  resolveCollision() {\n    this.checkCollision();\n  }\n  /**\n   * gets the persisted state properties of the Component.\n   *\n   * @returns {void}\n   */\n\n\n  getPersistData() {\n    return this.addOnPersist([]);\n  }\n  /**\n   * To destroy the control.\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n\n    if (this.element.classList.contains('e-popup-open')) {\n      this.unwireEvents();\n    }\n\n    super.destroy();\n  }\n  /**\n   * To Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  render() {\n    this.element.classList.add(CLASSNAMES.ROOT);\n    const styles = {};\n\n    if (this.zIndex !== 1000) {\n      styles.zIndex = this.zIndex;\n    }\n\n    if (this.width !== 'auto') {\n      styles.width = formatUnit(this.width);\n    }\n\n    if (this.height !== 'auto') {\n      styles.height = formatUnit(this.height);\n    }\n\n    setStyleAttribute(this.element, styles);\n    this.fixedParent = false;\n    this.setEnableRtl();\n    this.setContent();\n  }\n\n  wireEvents() {\n    if (Browser.isDevice) {\n      EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      this.wireScrollEvents();\n    }\n  }\n\n  wireScrollEvents() {\n    if (this.getRelateToElement()) {\n      for (const parent of this.getScrollableParent(this.getRelateToElement())) {\n        EventHandler.add(parent, 'scroll', this.scrollRefresh, this);\n      }\n    }\n  }\n\n  unwireEvents() {\n    if (Browser.isDevice) {\n      EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      this.unwireScrollEvents();\n    }\n  }\n\n  unwireScrollEvents() {\n    if (this.getRelateToElement()) {\n      for (const parent of this.getScrollableParent(this.getRelateToElement())) {\n        EventHandler.remove(parent, 'scroll', this.scrollRefresh);\n      }\n    }\n  }\n\n  getRelateToElement() {\n    const relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ? document.body : this.relateTo;\n    this.setProperties({\n      relateTo: relateToElement\n    }, true);\n    return typeof this.relateTo === 'string' ? document.querySelector(this.relateTo) : this.relateTo;\n  }\n\n  scrollRefresh(e) {\n    if (this.actionOnScroll === 'reposition') {\n      if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target || this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' && e.target.parentElement == null)) {\n        this.refreshPosition();\n      }\n    } else if (this.actionOnScroll === 'hide') {\n      this.hide();\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      if (this.getRelateToElement()) {\n        const targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n\n        if (!targetVisible && !this.targetInvisibleStatus) {\n          this.trigger('targetExitViewport');\n          this.targetInvisibleStatus = true;\n        } else if (targetVisible) {\n          this.targetInvisibleStatus = false;\n        }\n      }\n    }\n  }\n  /**\n   * This method is to get the element visibility on viewport when scroll\n   * the page. This method will returns true even though 1 px of element\n   * part is in visible.\n   *\n   * @param {HTMLElement} relateToElement - specifies the element\n   * @param {HTMLElement} scrollElement - specifies the scroll element\n   * @returns {boolean} - retruns the boolean\n   */\n  // eslint-disable-next-line\n\n\n  isElementOnViewport(relateToElement, scrollElement) {\n    const scrollParents = this.getScrollableParent(relateToElement);\n\n    for (let parent = 0; parent < scrollParents.length; parent++) {\n      if (this.isElementVisible(relateToElement, scrollParents[parent])) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  isElementVisible(relateToElement, scrollElement) {\n    const rect = this.checkGetBoundingClientRect(relateToElement);\n\n    if (!rect.height || !rect.width) {\n      return false;\n    }\n\n    if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n      const parent = scrollElement.getBoundingClientRect();\n      return !(rect.bottom < parent.top) && !(rect.bottom > parent.bottom) && !(rect.right > parent.right) && !(rect.left < parent.left);\n    } else {\n      const win = window;\n      const windowView = {\n        top: win.scrollY,\n        left: win.scrollX,\n        right: win.scrollX + win.outerWidth,\n        bottom: win.scrollY + win.outerHeight\n      };\n      const off = calculatePosition(relateToElement);\n      const ele = {\n        top: off.top,\n        left: off.left,\n        right: off.left + rect.width,\n        bottom: off.top + rect.height\n      };\n      const elementView = {\n        top: windowView.bottom - ele.top,\n        left: windowView.right - ele.left,\n        bottom: ele.bottom - windowView.top,\n        right: ele.right - windowView.left\n      };\n      return elementView.top > 0 && elementView.left > 0 && elementView.right > 0 && elementView.bottom > 0;\n    }\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  preRender() {//There is no event handler\n  }\n\n  setEnableRtl() {\n    this.reposition(); // eslint-disable-next-line\n\n    this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n  }\n\n  setContent() {\n    if (!isNullOrUndefined(this.content)) {\n      this.element.innerHTML = '';\n\n      if (typeof this.content === 'string') {\n        this.element.textContent = this.content;\n      } else {\n        const relateToElem = this.getRelateToElement(); // eslint-disable-next-line\n\n        const props = this.content.props;\n\n        if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n          this.element.appendChild(this.content);\n        }\n      }\n    }\n  }\n\n  orientationOnChange() {\n    setTimeout(() => {\n      this.refreshPosition();\n    }, 200);\n  } // eslint-disable-next-line\n\n  /**\n   * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n   *\n   * @returns {void}\n   */\n\n\n  refreshPosition(target, collision) {\n    if (!isNullOrUndefined(target)) {\n      this.checkFixedParent(target);\n    }\n\n    this.reposition();\n\n    if (!collision) {\n      this.checkCollision();\n    }\n  }\n\n  reposition() {\n    let pos;\n    let position;\n    const relateToElement = this.getRelateToElement();\n\n    if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n      pos = {\n        left: this.position.X,\n        top: this.position.Y\n      };\n    } else if (typeof this.position.X === 'string' && typeof this.position.Y === 'number' || typeof this.position.X === 'number' && typeof this.position.Y === 'string') {\n      let parentDisplay;\n      const display = this.element.style.display;\n      this.element.style.display = 'block';\n\n      if (this.element.classList.contains('e-dlg-modal')) {\n        parentDisplay = this.element.parentElement.style.display;\n        this.element.parentElement.style.display = 'block';\n      }\n\n      position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n\n      if (typeof this.position.X === 'string') {\n        pos = {\n          left: position.left,\n          top: this.position.Y\n        };\n      } else {\n        pos = {\n          left: this.position.X,\n          top: position.top\n        };\n      }\n\n      this.element.style.display = display;\n\n      if (this.element.classList.contains('e-dlg-modal')) {\n        this.element.parentElement.style.display = parentDisplay;\n      }\n    } else if (relateToElement) {\n      const display = this.element.style.display;\n      this.element.style.display = 'block';\n      pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n      this.element.style.display = display;\n    } else {\n      pos = {\n        left: 0,\n        top: 0\n      };\n    }\n\n    if (!isNullOrUndefined(pos)) {\n      this.element.style.left = pos.left + 'px';\n      this.element.style.top = pos.top + 'px';\n    }\n  }\n\n  checkGetBoundingClientRect(ele) {\n    let eleRect;\n\n    try {\n      eleRect = ele.getBoundingClientRect();\n      return eleRect;\n    } catch (error) {\n      return null;\n    }\n  }\n\n  getAnchorPosition(anchorEle, ele, position, offsetX, offsetY) {\n    const eleRect = this.checkGetBoundingClientRect(ele);\n    const anchorRect = this.checkGetBoundingClientRect(anchorEle);\n\n    if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n      return null;\n    }\n\n    const anchor = anchorEle;\n    let anchorPos = {\n      left: 0,\n      top: 0\n    };\n\n    if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n      anchorPos = calculatePosition(anchorEle);\n    } else {\n      if (ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY') {\n        ele = ele.parentElement;\n      }\n\n      anchorPos = calculateRelativeBasedPosition(anchor, ele);\n    }\n\n    switch (position.X) {\n      default:\n      case 'left':\n        break;\n\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth / 2 - eleRect.width / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width / 2 - eleRect.width / 2;\n        } else {\n          anchorPos.left += anchorRect.width / 2;\n        }\n\n        break;\n\n      case 'right':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth - eleRect.width;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width - eleRect.width;\n        } else {\n          anchorPos.left += anchorRect.width;\n        }\n\n        break;\n    }\n\n    switch (position.Y) {\n      default:\n      case 'top':\n        break;\n\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight / 2 - eleRect.height / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height / 2 - eleRect.height / 2;\n        } else {\n          anchorPos.top += anchorRect.height / 2;\n        }\n\n        break;\n\n      case 'bottom':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight - eleRect.height;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height - eleRect.height;\n        } else {\n          anchorPos.top += anchorRect.height;\n        }\n\n        break;\n    }\n\n    anchorPos.left += offsetX;\n    anchorPos.top += offsetY;\n    return anchorPos;\n  }\n\n  callFlip(param) {\n    const relateToElement = this.getRelateToElement();\n    flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n  }\n\n  callFit(param) {\n    if (isCollide(this.element, this.viewPortElement).length !== 0) {\n      if (isNullOrUndefined(this.viewPortElement)) {\n        const data = fit(this.element, this.viewPortElement, param);\n\n        if (param.X) {\n          this.element.style.left = data.left + 'px';\n        }\n\n        if (param.Y) {\n          this.element.style.top = data.top + 'px';\n        }\n      } else {\n        const elementRect = this.checkGetBoundingClientRect(this.element);\n        const viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n\n        if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n          return null;\n        }\n\n        if (param && param.Y === true) {\n          if (viewPortRect.top > elementRect.top) {\n            this.element.style.top = '0px';\n          } else if (viewPortRect.bottom < elementRect.bottom) {\n            this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n          }\n        }\n\n        if (param && param.X === true) {\n          if (viewPortRect.right < elementRect.right) {\n            this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n          } else if (viewPortRect.left > elementRect.left) {\n            this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n          }\n        }\n      }\n    }\n  }\n\n  checkCollision() {\n    const horz = this.collision.X;\n    const vert = this.collision.Y;\n\n    if (horz === 'none' && vert === 'none') {\n      return;\n    }\n\n    if (horz === 'flip' && vert === 'flip') {\n      this.callFlip({\n        X: true,\n        Y: true\n      });\n    } else if (horz === 'fit' && vert === 'fit') {\n      this.callFit({\n        X: true,\n        Y: true\n      });\n    } else {\n      if (horz === 'flip') {\n        this.callFlip({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'flip') {\n        this.callFlip({\n          Y: true,\n          X: false\n        });\n      }\n\n      if (horz === 'fit') {\n        this.callFit({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'fit') {\n        this.callFit({\n          X: false,\n          Y: true\n        });\n      }\n    }\n  }\n  /**\n   * Shows the popup element from screen.\n   *\n   * @returns {void}\n   * @param {AnimationModel} animationOptions - specifies the model\n   * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n   */\n\n\n  show(animationOptions, relativeElement) {\n    this.wireEvents();\n\n    if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n      const zIndexElement = isNullOrUndefined(relativeElement) ? this.element : relativeElement;\n      this.zIndex = getZindexPartial(zIndexElement);\n      setStyleAttribute(this.element, {\n        'zIndex': this.zIndex\n      });\n    }\n\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.showAnimation;\n\n    if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.checkCollision();\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n    }\n\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.begin = () => {\n        if (!this.isDestroyed) {\n          removeClass([this.element], CLASSNAMES.CLOSE);\n          addClass([this.element], CLASSNAMES.OPEN);\n        }\n      };\n\n      animationOptions.end = () => {\n        if (!this.isDestroyed) {\n          this.trigger('open');\n        }\n      };\n\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.trigger('open');\n    }\n  }\n  /**\n   * Hides the popup element from screen.\n   *\n   * @param {AnimationModel} animationOptions - To give the animation options.\n   * @returns {void}\n   */\n\n\n  hide(animationOptions) {\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.hideAnimation;\n\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.end = () => {\n        if (!this.isDestroyed) {\n          removeClass([this.element], CLASSNAMES.OPEN);\n          addClass([this.element], CLASSNAMES.CLOSE);\n          this.trigger('close');\n        }\n      };\n\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n      this.trigger('close');\n    }\n\n    this.unwireEvents();\n  }\n  /**\n   * Gets scrollable parent elements for the given element.\n   *\n   * @returns {void}\n   * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n   */\n\n\n  getScrollableParent(element) {\n    this.checkFixedParent(element);\n    return getScrollableParent(element, this.fixedParent);\n  }\n\n  checkFixedParent(element) {\n    let parent = element.parentElement;\n\n    while (parent && parent.tagName !== 'HTML') {\n      const parentStyle = getComputedStyle(parent);\n\n      if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n        this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top)) : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n        this.element.style.position = 'fixed';\n        this.fixedParent = true;\n      }\n\n      parent = parent.parentElement;\n\n      if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed' && this.element.style.position === 'fixed') {\n        this.fixedParent = true;\n      }\n    }\n  }\n\n};\n\n__decorate([Property('auto')], Popup.prototype, \"height\", void 0);\n\n__decorate([Property('auto')], Popup.prototype, \"width\", void 0);\n\n__decorate([Property(null)], Popup.prototype, \"content\", void 0);\n\n__decorate([Property('container')], Popup.prototype, \"targetType\", void 0);\n\n__decorate([Property(null)], Popup.prototype, \"viewPortElement\", void 0);\n\n__decorate([Property({\n  X: 'none',\n  Y: 'none'\n})], Popup.prototype, \"collision\", void 0);\n\n__decorate([Property('')], Popup.prototype, \"relateTo\", void 0);\n\n__decorate([Complex({}, PositionData)], Popup.prototype, \"position\", void 0);\n\n__decorate([Property(0)], Popup.prototype, \"offsetX\", void 0);\n\n__decorate([Property(0)], Popup.prototype, \"offsetY\", void 0);\n\n__decorate([Property(1000)], Popup.prototype, \"zIndex\", void 0);\n\n__decorate([Property(false)], Popup.prototype, \"enableRtl\", void 0);\n\n__decorate([Property('reposition')], Popup.prototype, \"actionOnScroll\", void 0);\n\n__decorate([Property(null)], Popup.prototype, \"showAnimation\", void 0);\n\n__decorate([Property(null)], Popup.prototype, \"hideAnimation\", void 0);\n\n__decorate([Event()], Popup.prototype, \"open\", void 0);\n\n__decorate([Event()], Popup.prototype, \"close\", void 0);\n\n__decorate([Event()], Popup.prototype, \"targetExitViewport\", void 0);\n\nPopup = __decorate([NotifyPropertyChanges], Popup);\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\n\nfunction getScrollableParent(element, fixedParent) {\n  const eleStyle = getComputedStyle(element);\n  const scrollParents = [];\n  const overflowRegex = /(auto|scroll)/;\n  let parent = element.parentElement;\n\n  while (parent && parent.tagName !== 'HTML') {\n    const parentStyle = getComputedStyle(parent);\n\n    if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static') && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n      scrollParents.push(parent);\n    }\n\n    parent = parent.parentElement;\n  }\n\n  if (!fixedParent) {\n    scrollParents.push(document);\n  }\n\n  return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\n\n\nfunction getZindexPartial(element) {\n  // upto body traversal\n  let parent = element.parentElement;\n  const parentZindex = [];\n\n  while (parent) {\n    if (parent.tagName !== 'BODY') {\n      const index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n      const position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        parentZindex.push(index);\n      }\n\n      parent = parent.parentElement;\n    } else {\n      break;\n    }\n  }\n\n  const childrenZindex = [];\n\n  for (let i = 0; i < document.body.children.length; i++) {\n    if (!element.isEqualNode(document.body.children[i])) {\n      const index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n      const position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        childrenZindex.push(index);\n      }\n    }\n  }\n\n  childrenZindex.push('999');\n  const siblingsZindex = [];\n\n  if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n    const childNodes = [].slice.call(element.parentElement.children);\n\n    for (let i = 0; i < childNodes.length; i++) {\n      if (!element.isEqualNode(childNodes[i])) {\n        const index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n        const position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n\n        if (index !== 'auto' && position !== 'static') {\n          siblingsZindex.push(index);\n        }\n      }\n    }\n  }\n\n  const finalValue = parentZindex.concat(childrenZindex, siblingsZindex); // eslint-disable-next-line\n\n  const currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\n\n\nfunction getMaxZindex(tagName = ['*']) {\n  const maxZindex = [];\n\n  for (let i = 0; i < tagName.length; i++) {\n    const elements = document.getElementsByTagName(tagName[i]);\n\n    for (let i = 0; i < elements.length; i++) {\n      const index = document.defaultView.getComputedStyle(elements[i], null).getPropertyValue('z-index');\n      const position = document.defaultView.getComputedStyle(elements[i], null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        maxZindex.push(index);\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  const currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Popup Components\n */\n\n/**\n * Popup Components\n */\n\n/**\n * Resize library\n */\n\n/* eslint-disable */\n\n\nconst elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nconst RESIZE_HANDLER = 'e-resize-handle';\nconst FOCUSED_HANDLER = 'e-focused-handle';\nconst DIALOG_RESIZABLE = 'e-dlg-resizable';\nconst RESTRICT_LEFT = ['e-restrict-left'];\nconst RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nconst dialogBorderResize = ['north', 'west', 'east', 'south'];\nlet targetElement;\nlet selectedHandler;\nlet originalWidth = 0;\nlet originalHeight = 0;\nlet originalX = 0;\nlet originalY = 0;\nlet originalMouseX = 0;\nlet originalMouseY = 0;\nlet minHeight;\nlet maxHeight;\nlet minWidth;\nlet maxWidth;\nlet containerElement;\n/* eslint-disable */\n\nlet resizeStart = null;\nlet resize = null;\nlet resizeEnd = null;\n/* eslint-enable */\n\nlet resizeWestWidth;\nlet setLeft = true;\nlet previousWidth = 0;\nlet setWidth = true; // eslint-disable-next-line\n\nlet proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\n\nfunction createResize(args) {\n  resizeStart = args.resizeBegin;\n  resize = args.resizing;\n  resizeEnd = args.resizeComplete;\n  targetElement = getDOMElement(args.element);\n  containerElement = getDOMElement(args.boundary);\n  const directions = args.direction.split(' ');\n\n  for (let i = 0; i < directions.length; i++) {\n    if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n      setBorderResizeElm(directions[i]);\n    } else if (directions[i].trim() !== '') {\n      const resizeHandler = createElement('div', {\n        className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i]\n      });\n      targetElement.appendChild(resizeHandler);\n    }\n  }\n\n  minHeight = args.minHeight;\n  minWidth = args.minWidth;\n  maxWidth = args.maxWidth;\n  maxHeight = args.maxHeight;\n\n  if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n    wireEvents(args.proxy);\n  } else {\n    wireEvents();\n  }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\n\n\nfunction setBorderResizeElm(direction) {\n  calculateValues();\n  const borderBottom = createElement('span', {\n    attrs: {\n      'unselectable': 'on',\n      'contenteditable': 'false'\n    }\n  });\n  borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n\n  if (direction === 'south') {\n    borderBottom.style.height = '2px';\n    borderBottom.style.width = '100%';\n    borderBottom.style.bottom = '0px';\n    borderBottom.style.left = '0px';\n  }\n\n  if (direction === 'north') {\n    borderBottom.style.height = '2px';\n    borderBottom.style.width = '100%';\n    borderBottom.style.top = '0px';\n    borderBottom.style.left = '0px';\n  }\n\n  if (direction === 'east') {\n    borderBottom.style.height = '100%';\n    borderBottom.style.width = '2px';\n    borderBottom.style.right = '0px';\n    borderBottom.style.top = '0px';\n  }\n\n  if (direction === 'west') {\n    borderBottom.style.height = '100%';\n    borderBottom.style.width = '2px';\n    borderBottom.style.left = '0px';\n    borderBottom.style.top = '0px';\n  }\n\n  targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\n\n\nfunction getDOMElement(element) {\n  let domElement;\n\n  if (!isNullOrUndefined(element)) {\n    if (typeof element === 'string') {\n      domElement = document.querySelector(element);\n    } else {\n      domElement = element;\n    }\n  }\n\n  return domElement;\n} // eslint-disable-next-line\n\n\nfunction wireEvents(args) {\n  if (isNullOrUndefined(args)) {\n    args = this;\n  }\n\n  const resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (let i = 0; i < resizers.length; i++) {\n    selectedHandler = resizers[i];\n    EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n    const eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n    EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n  }\n\n  const borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n\n  if (!isNullOrUndefined(borderResizers)) {\n    for (let i = 0; i < borderResizers.length; i++) {\n      selectedHandler = borderResizers[i];\n      EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n      const eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n      EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\n\n\nfunction getEventType(e) {\n  return e.indexOf('mouse') > -1 ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\n\n\nfunction onMouseDown(e) {\n  e.preventDefault();\n  targetElement = e.target.parentElement;\n  calculateValues();\n  originalMouseX = e.pageX;\n  originalMouseY = e.pageY;\n  e.target.classList.add(FOCUSED_HANDLER);\n\n  if (!isNullOrUndefined(resizeStart)) {\n    proxy = this;\n\n    if (resizeStart(e, proxy) === true) {\n      return;\n    }\n  }\n\n  if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n    containerElement = this.target === 'body' || 'document.body' || document.body ? null : this.targetEle;\n    maxWidth = this.targetEle.clientWidth;\n    maxHeight = this.targetEle.clientHeight;\n  }\n\n  const target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, 'mousemove', onMouseMove, this);\n  EventHandler.add(document, 'mouseup', onMouseUp, this);\n\n  for (let i = 0; i < RESTRICT_LEFT.length; i++) {\n    if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n      setLeft = false;\n    } else {\n      setLeft = true;\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onMouseUp(e) {\n  const touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  const touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  const target = isNullOrUndefined(containerElement) ? document : containerElement;\n  const eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n  EventHandler.remove(target, 'mousemove', onMouseMove);\n  EventHandler.remove(target, touchMoveEvent, onMouseMove);\n  EventHandler.remove(target, eventName, onMouseMove);\n\n  if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(resizeEnd)) {\n    proxy = this;\n    resizeEnd(e, proxy);\n  }\n\n  EventHandler.remove(document, 'mouseup', onMouseUp);\n  EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n\n/**\n * @returns {void}\n */\n\n\nfunction calculateValues() {\n  originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n  originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n  originalX = targetElement.getBoundingClientRect().left;\n  originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onTouchStart(e) {\n  targetElement = e.target.parentElement;\n  calculateValues();\n  const coordinates = e.touches ? e.changedTouches[0] : e;\n  originalMouseX = coordinates.pageX;\n  originalMouseY = coordinates.pageY;\n\n  if (!isNullOrUndefined(resizeStart)) {\n    proxy = this;\n\n    if (resizeStart(e, proxy) === true) {\n      return;\n    }\n  }\n\n  const touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  const touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  const target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n  EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onMouseMove(e) {\n  if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n    selectedHandler = e.target;\n  } else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(selectedHandler)) {\n    let resizeTowards = '';\n\n    for (let i = 0; i < elementClass.length; i++) {\n      if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n        resizeTowards = elementClass[i];\n      }\n    }\n\n    if (!isNullOrUndefined(resize)) {\n      proxy = this;\n      resize(e, proxy);\n    }\n\n    switch (resizeTowards) {\n      case 'south':\n        resizeSouth(e);\n        break;\n\n      case 'north':\n        resizeNorth(e);\n        break;\n\n      case 'west':\n        resizeWest(e);\n        break;\n\n      case 'east':\n        resizeEast(e);\n        break;\n\n      case 'south-east':\n        resizeSouth(e);\n        resizeEast(e);\n        break;\n\n      case 'south-west':\n        resizeSouth(e);\n        resizeWest(e);\n        break;\n\n      case 'north-east':\n        resizeNorth(e);\n        resizeEast(e);\n        break;\n\n      case 'north-west':\n        resizeNorth(e);\n        resizeWest(e);\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\n\n\nfunction getClientRectValues(element) {\n  return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeSouth(e) {\n  const documentHeight = document.documentElement.clientHeight;\n  let calculateValue = false;\n  const coordinates = e.touches ? e.changedTouches[0] : e;\n  const currentpageY = coordinates.pageY;\n  const targetRectValues = getClientRectValues(targetElement);\n  let containerRectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && (documentHeight - currentpageY >= 0 || targetRectValues.top < 0)) {\n    calculateValue = true;\n  }\n\n  let calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n  calculatedHeight = calculatedHeight > minHeight ? calculatedHeight : minHeight;\n  let containerTop = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerTop = containerRectValues.top;\n  }\n\n  const borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n  let topWithoutborder = targetRectValues.top - containerTop - borderValue / 2;\n  topWithoutborder = topWithoutborder < 0 ? 0 : topWithoutborder;\n\n  if (targetRectValues.top > 0 && topWithoutborder + calculatedHeight > maxHeight) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.height = maxHeight - parseInt(topWithoutborder.toString(), 10) + 'px';\n    return;\n  }\n\n  let targetTop = 0;\n\n  if (calculateValue) {\n    if (targetRectValues.top < 0 && documentHeight + (targetRectValues.height + targetRectValues.top) > 0) {\n      targetTop = targetRectValues.top;\n\n      if (calculatedHeight + targetTop <= 30) {\n        calculatedHeight = targetRectValues.height - (targetRectValues.height + targetRectValues.top) + 30;\n      }\n    }\n\n    if (calculatedHeight + targetRectValues.top >= maxHeight) {\n      targetElement.style.height = targetRectValues.height + (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n    }\n\n    const calculatedTop = isNullOrUndefined(containerElement) ? targetTop : topWithoutborder;\n\n    if (calculatedHeight >= minHeight && calculatedHeight + calculatedTop <= maxHeight) {\n      targetElement.style.height = calculatedHeight + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeNorth(e) {\n  let calculateValue = false;\n  let boundaryRectValues;\n  const pageY = getEventType(e.type) === 'mouse' ? e.pageY : e.touches[0].pageY;\n  const targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement)) {\n    boundaryRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement) && targetRectValues.top - boundaryRectValues.top > 0) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageY > 0) {\n    calculateValue = true;\n  }\n\n  const currentHeight = originalHeight - (pageY - originalMouseY);\n\n  if (calculateValue) {\n    if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n      let containerTop = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerTop = boundaryRectValues.top;\n      }\n\n      let top = originalY - containerTop + (pageY - originalMouseY);\n      top = top > 0 ? top : 1;\n      targetElement.style.height = currentHeight + 'px';\n      targetElement.style.top = top + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeWest(e) {\n  const documentWidth = document.documentElement.clientWidth;\n  let calculateValue = false;\n  let rectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    rectValues = getClientRectValues(containerElement);\n  }\n\n  const pageX = getEventType(e.type) === 'mouse' ? e.pageX : e.touches[0].pageX;\n  const targetRectValues = getClientRectValues(targetElement);\n  const borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n  /* eslint-disable */\n\n  let left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n  let containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n  /* eslint-enable */\n\n  if (isNullOrUndefined(resizeWestWidth)) {\n    if (!isNullOrUndefined(containerElement)) {\n      resizeWestWidth = targetRectValues.left - left - borderValue / 2 + targetRectValues.width;\n      resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n    } else {\n      resizeWestWidth = documentWidth;\n    }\n  }\n\n  if (!isNullOrUndefined(containerElement) && Math.floor(targetRectValues.left - rectValues.left + targetRectValues.width + (rectValues.right - targetRectValues.right)) - borderValue <= maxWidth) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n    calculateValue = true;\n  }\n\n  let calculatedWidth = originalWidth - (pageX - originalMouseX);\n\n  if (setLeft) {\n    calculatedWidth = calculatedWidth > resizeWestWidth ? resizeWestWidth : calculatedWidth;\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      let containerLeft = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerLeft = rectValues.left;\n      }\n\n      let left = originalX - containerLeft + (pageX - originalMouseX);\n      left = left > 0 ? left : 1;\n\n      if (calculatedWidth !== previousWidth && setWidth) {\n        targetElement.style.width = calculatedWidth + 'px';\n      }\n\n      if (setLeft) {\n        targetElement.style.left = left + 'px';\n\n        if (left === 1) {\n          setWidth = false;\n        } else {\n          setWidth = true;\n        }\n      }\n    }\n  }\n\n  previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeEast(e) {\n  const documentWidth = document.documentElement.clientWidth;\n  let calculateValue = false;\n  let containerRectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  const coordinates = e.touches ? e.changedTouches[0] : e;\n  const pageX = coordinates.pageX;\n  const targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement) && (targetRectValues.left - containerRectValues.left + targetRectValues.width <= maxWidth || targetRectValues.right - containerRectValues.left >= targetRectValues.width)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && documentWidth - pageX > 0) {\n    calculateValue = true;\n  }\n\n  const calculatedWidth = originalWidth + (pageX - originalMouseX);\n  let containerLeft = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerLeft = containerRectValues.left;\n  }\n\n  if (targetRectValues.left - containerLeft + calculatedWidth > maxWidth) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      targetElement.style.width = calculatedWidth + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\n\n\nfunction setMinHeight(minimumHeight) {\n  minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\n\n\nfunction setMaxWidth(value) {\n  maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\n\n\nfunction setMaxHeight(value) {\n  maxHeight = value;\n}\n/**\n * @returns {void}\n */\n\n\nfunction removeResize() {\n  const handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (let i = 0; i < handlers.length; i++) {\n    detach(handlers[i]);\n  }\n\n  const borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n\n  if (!isNullOrUndefined(borderResizers)) {\n    for (let i = 0; i < borderResizers.length; i++) {\n      detach(borderResizers[i]);\n    }\n  }\n}\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nclass ButtonProps extends ChildProperty {}\n\n__decorate$1([Property(true)], ButtonProps.prototype, \"isFlat\", void 0);\n\n__decorate$1([Property()], ButtonProps.prototype, \"buttonModel\", void 0);\n\n__decorate$1([Property('Button')], ButtonProps.prototype, \"type\", void 0);\n\n__decorate$1([Event()], ButtonProps.prototype, \"click\", void 0);\n/**\n * Configures the animation properties for both open and close the dialog.\n */\n\n\nclass AnimationSettings extends ChildProperty {}\n\n__decorate$1([Property('Fade')], AnimationSettings.prototype, \"effect\", void 0);\n\n__decorate$1([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n\n__decorate$1([Property(0)], AnimationSettings.prototype, \"delay\", void 0);\n\nconst ROOT = 'e-dialog';\nconst RTL = 'e-rtl';\nconst DLG_HEADER_CONTENT = 'e-dlg-header-content';\nconst DLG_HEADER = 'e-dlg-header';\nconst DLG_FOOTER_CONTENT = 'e-footer-content';\nconst MODAL_DLG = 'e-dlg-modal';\nconst DLG_CONTENT = 'e-dlg-content';\nconst DLG_CLOSE_ICON = 'e-icon-dlg-close';\nconst DLG_OVERLAY = 'e-dlg-overlay';\nconst DLG_TARGET = 'e-dlg-target';\nconst DLG_CONTAINER = 'e-dlg-container';\nconst SCROLL_DISABLED = 'e-scroll-disabled';\nconst DLG_PRIMARY_BUTTON = 'e-primary';\nconst ICON = 'e-icons';\nconst POPUP_ROOT = 'e-popup';\nconst DEVICE = 'e-device';\nconst FULLSCREEN = 'e-dlg-fullscreen';\nconst DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nconst DLG_HIDE = 'e-popup-close';\nconst DLG_SHOW = 'e-popup-open';\nconst DLG_UTIL_DEFAULT_TITLE = 'Information';\nconst DLG_UTIL_ROOT = 'e-scroll-disabled';\nconst DLG_UTIL_ALERT = 'e-alert-dialog';\nconst DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nconst DLG_RESIZABLE = 'e-dlg-resizable';\nconst DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nconst DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nconst DLG_REF_ELEMENT = 'e-dlg-ref-element';\nconst DLG_USER_ACTION_CLOSED = 'user action';\nconst DLG_CLOSE_ICON_CLOSED = 'close icon';\nconst DLG_ESCAPE_CLOSED = 'escape';\nconst DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nconst DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\n\nlet Dialog = class Dialog extends Component {\n  /*\n   * * Constructor for creating the widget\n   *\n   * @param\n   * @param\n   * @hidden\n   */\n  constructor(options, element) {\n    super(options, element);\n  }\n  /**\n   *Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  render() {\n    this.initialize();\n    this.initRender();\n    this.wireEvents();\n\n    if (this.width === '100%') {\n      this.element.style.width = '';\n    }\n\n    if (this.minHeight !== '') {\n      this.element.style.minHeight = formatUnit(this.minHeight);\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n\n      if (this.animationSettings.effect === 'None') {\n        this.getMinHeight();\n      }\n    }\n\n    this.renderComplete();\n  }\n\n  initializeValue() {\n    this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n  }\n  /**\n   *Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  preRender() {\n    this.initializeValue();\n    this.headerContent = null;\n    this.allowMaxHeight = true;\n    this.preventVisibility = true;\n    this.clonedEle = this.element.cloneNode(true);\n\n    this.closeIconClickEventHandler = event => {\n      this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n      this.hide(event);\n    }; // eslint-disable-next-line\n\n\n    this.dlgOverlayClickEventHandler = event => {\n      this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n      event.preventFocus = false;\n      this.trigger('overlayClick', event, overlayClickEventArgs => {\n        if (!overlayClickEventArgs.preventFocus) {\n          this.focusContent();\n        }\n\n        this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }; // eslint-disable-next-line\n\n\n    const localeText = {\n      close: 'Close'\n    };\n    this.l10n = new L10n('dialog', localeText, this.locale);\n    this.checkPositionData();\n\n    if (isNullOrUndefined(this.target)) {\n      const prevOnChange = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      this.target = document.body;\n      this.isProtectedOnChange = prevOnChange;\n    }\n  }\n\n  isNumberValue(value) {\n    const isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n    return isNumber;\n  }\n\n  checkPositionData() {\n    if (!isNullOrUndefined(this.position)) {\n      if (!isNullOrUndefined(this.position.X) && typeof this.position.X !== 'number') {\n        const isNumber = this.isNumberValue(this.position.X);\n\n        if (isNumber) {\n          const prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.X = parseFloat(this.position.X);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n\n      if (!isNullOrUndefined(this.position.Y) && typeof this.position.Y !== 'number') {\n        const isNumber = this.isNumberValue(this.position.Y);\n\n        if (isNumber) {\n          const prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.Y = parseFloat(this.position.Y);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n    }\n  }\n\n  getEle(list, selector) {\n    let element = undefined;\n\n    for (let i = 0; i < list.length; i++) {\n      if (list[i].classList.contains(selector)) {\n        element = list[i];\n        break;\n      }\n    }\n\n    return element;\n  }\n  /* istanbul ignore next */\n\n\n  getMinHeight() {\n    let computedHeaderHeight = '0px';\n    let computedFooterHeight = '0px';\n\n    if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n      computedHeaderHeight = getComputedStyle(this.headerContent).height;\n    }\n\n    const footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n\n    if (!isNullOrUndefined(footerEle)) {\n      computedFooterHeight = getComputedStyle(footerEle).height;\n    }\n\n    const headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n    const footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n    setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n    return headerHeight + 30 + footerHeight;\n  }\n\n  onResizeStart(args, dialogObj) {\n    dialogObj.trigger('resizeStart', args);\n    return args.cancel;\n  }\n\n  onResizing(args, dialogObj) {\n    dialogObj.trigger('resizing', args);\n  }\n\n  onResizeComplete(args, dialogObj) {\n    dialogObj.trigger('resizeStop', args);\n  }\n\n  setResize() {\n    if (this.enableResize) {\n      if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n        return;\n      }\n\n      this.element.classList.add(DLG_RESIZABLE);\n      const computedHeight = getComputedStyle(this.element).minHeight;\n      const computedWidth = getComputedStyle(this.element).minWidth;\n      let direction = '';\n\n      for (let i = 0; i < this.resizeHandles.length; i++) {\n        if (this.resizeHandles[i] === 'All') {\n          direction = 'south north east west north-east north-west south-east south-west';\n          break;\n        } else {\n          let directionValue = '';\n\n          switch (this.resizeHandles[i].toString()) {\n            case 'SouthEast':\n              directionValue = 'south-east';\n              break;\n\n            case 'SouthWest':\n              directionValue = 'south-west';\n              break;\n\n            case 'NorthEast':\n              directionValue = 'north-east';\n              break;\n\n            case 'NorthWest':\n              directionValue = 'north-west';\n              break;\n\n            default:\n              directionValue = this.resizeHandles[i].toString();\n              break;\n          }\n\n          direction += directionValue.toLocaleLowerCase() + ' ';\n        }\n      }\n\n      if (this.enableRtl && direction.trim() === 'south-east') {\n        direction = 'south-west';\n      } else if (this.enableRtl && direction.trim() === 'south-west') {\n        direction = 'south-east';\n      }\n\n      if (this.isModal && this.enableRtl) {\n        this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n      } else if (this.isModal && this.target === document.body) {\n        this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      createResize({\n        element: this.element,\n        direction: direction,\n        minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n        maxHeight: this.targetEle.clientHeight,\n        minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n        maxWidth: this.targetEle.clientWidth,\n        boundary: this.target === document.body ? null : this.targetEle,\n        resizeBegin: this.onResizeStart.bind(this),\n        resizeComplete: this.onResizeComplete.bind(this),\n        resizing: this.onResizing.bind(this),\n        proxy: this\n      });\n      this.wireWindowResizeEvent();\n    } else {\n      removeResize();\n      this.unWireWindowResizeEvent();\n\n      if (this.isModal) {\n        this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n      } else {\n        this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      this.element.classList.remove(DLG_RESIZABLE);\n    }\n  }\n\n  getFocusElement(target) {\n    const value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n    const items = target.querySelectorAll(value);\n    return {\n      element: items[items.length - 1]\n    };\n  }\n  /* istanbul ignore next */\n\n\n  keyDown(event) {\n    if (event.keyCode === 9) {\n      if (this.isModal) {\n        let buttonObj;\n\n        if (!isNullOrUndefined(this.btnObj)) {\n          buttonObj = this.btnObj[this.btnObj.length - 1];\n        }\n\n        if (isNullOrUndefined(this.btnObj) && !isNullOrUndefined(this.ftrTemplateContent)) {\n          buttonObj = this.getFocusElement(this.ftrTemplateContent);\n        }\n\n        if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n          buttonObj = this.getFocusElement(this.contentEle);\n        }\n\n        if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n          event.preventDefault();\n          this.focusableElements(this.element).focus();\n        }\n\n        if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n          event.preventDefault();\n\n          if (!isNullOrUndefined(buttonObj)) {\n            buttonObj.element.focus();\n          }\n        }\n      }\n    }\n\n    const element = document.activeElement;\n    const isTagName = ['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1;\n    let isContentEdit = false;\n\n    if (!isTagName) {\n      isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n    }\n\n    if (event.keyCode === 27 && this.closeOnEscape) {\n      this.dlgClosedBy = DLG_ESCAPE_CLOSED; // 'document.querySelector' is used to find the elements rendered based on body\n\n      if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n        this.hide(event);\n      }\n    }\n\n    if (event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' && isTagName && !isNullOrUndefined(this.primaryButtonEle) || event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' || isContentEdit) && !isNullOrUndefined(this.primaryButtonEle)) {\n      let buttonIndex; // eslint-disable-next-line\n\n      const firstPrimary = this.buttons.some((data, index) => {\n        buttonIndex = index; // eslint-disable-next-line\n\n        let buttonModel = data.buttonModel;\n        return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n      });\n\n      if (firstPrimary && typeof this.buttons[buttonIndex].click === 'function') {\n        setTimeout(() => {\n          this.buttons[buttonIndex].click.call(this, event);\n        });\n      }\n    }\n  }\n  /**\n   * Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  initialize() {\n    if (!isNullOrUndefined(this.target)) {\n      this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n    }\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], ROOT);\n    }\n\n    if (Browser.isDevice) {\n      addClass([this.element], DEVICE);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setCSSClass();\n    }\n\n    this.setMaxHeight();\n  }\n  /**\n   * Initialize the rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  initRender() {\n    this.initialRender = true;\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        role: 'dialog'\n      });\n    }\n\n    if (this.zIndex === 1000) {\n      this.setzIndex(this.element, false);\n      this.calculatezIndex = true;\n    } else {\n      this.calculatezIndex = false;\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n      this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setTargetContent();\n\n      if (this.header !== '' && !isNullOrUndefined(this.header)) {\n        this.setHeader();\n      }\n\n      this.renderCloseIcon();\n      this.setContent();\n\n      if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n        this.setFooterTemplate();\n      } else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n        this.setButton();\n      }\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n        this.setButton();\n      }\n    }\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        'aria-modal': this.isModal ? 'true' : 'false'\n      });\n\n      if (this.isModal) {\n        this.setIsModal();\n      }\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n      this.dlgContainer = this.element.parentElement;\n\n      for (let i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n        if (childNodes[i].classList.contains('e-dlg-overlay')) {\n          this.dlgOverlay = childNodes[i];\n        }\n      }\n    }\n\n    if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true && !isNullOrUndefined(this.element.parentElement)) {\n      const parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n      this.refElement = this.createElement('div', {\n        className: DLG_REF_ELEMENT\n      });\n      parentEle.insertBefore(this.refElement, this.isModal ? this.dlgContainer : this.element);\n    }\n\n    if (!isNullOrUndefined(this.targetEle)) {\n      // eslint-disable-next-line\n      this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n    }\n\n    this.popupObj = new Popup(this.element, {\n      height: this.height,\n      width: this.width,\n      zIndex: this.zIndex,\n      relateTo: this.target,\n      actionOnScroll: 'none',\n      enableRtl: this.enableRtl,\n      // eslint-disable-next-line\n      open: event => {\n        // eslint-disable-next-line\n        const eventArgs = {\n          container: this.isModal ? this.dlgContainer : this.element,\n          element: this.element,\n          target: this.target,\n          preventFocus: false\n        };\n\n        if (this.enableResize) {\n          this.resetResizeIcon();\n        } // eslint-disable-next-line\n\n\n        this.trigger('open', eventArgs, openEventArgs => {\n          if (!openEventArgs.preventFocus) {\n            this.focusContent();\n          }\n        });\n      },\n      // eslint-disable-next-line\n      close: event => {\n        if (this.isModal) {\n          addClass([this.dlgOverlay], 'e-fade');\n        }\n\n        this.unBindEvent(this.element);\n\n        if (this.isModal) {\n          this.dlgContainer.style.display = 'none';\n        }\n\n        this.trigger('close', this.closeArgs);\n        const activeEle = document.activeElement;\n\n        if (!isNullOrUndefined(activeEle) && !isNullOrUndefined(activeEle.blur)) {\n          activeEle.blur();\n        }\n\n        if (!isNullOrUndefined(this.storeActiveElement) && !isNullOrUndefined(this.storeActiveElement.focus)) {\n          this.storeActiveElement.focus();\n        }\n      }\n    });\n    this.positionChange();\n    this.setEnableRTL();\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], DLG_HIDE);\n\n      if (this.isModal) {\n        this.setOverlayZindex();\n      }\n    }\n\n    if (this.visible) {\n      this.show();\n    } else {\n      if (this.isModal) {\n        this.dlgOverlay.style.display = 'none';\n      }\n    }\n\n    this.initialRender = false;\n  }\n\n  resetResizeIcon() {\n    const dialogConHeight = this.getMinHeight();\n\n    if (this.targetEle.offsetHeight < dialogConHeight) {\n      const className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n      const resizeIcon = this.element.querySelector('.' + className);\n\n      if (!isNullOrUndefined(resizeIcon)) {\n        resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n      }\n    }\n  }\n\n  setOverlayZindex(zIndexValue) {\n    let zIndex;\n\n    if (isNullOrUndefined(zIndexValue)) {\n      zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n    } else {\n      zIndex = zIndexValue;\n    }\n\n    this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n    this.dlgContainer.style.zIndex = zIndex.toString();\n  }\n\n  positionChange() {\n    if (this.isModal) {\n      if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else if (!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)) || isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else {\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n      }\n    } else {\n      this.setPopupPosition();\n    }\n  }\n\n  setPopupPosition() {\n    this.popupObj.setProperties({\n      position: {\n        X: this.position.X,\n        Y: this.position.Y\n      }\n    });\n  }\n\n  setAllowDragging() {\n    const handleContent = '.' + DLG_HEADER_CONTENT;\n\n    if (!this.element.classList.contains(DLG_DRAG)) {\n      this.dragObj = new Draggable(this.element, {\n        clone: false,\n        isDragScroll: true,\n        abort: '.e-dlg-closeicon-btn',\n        handle: handleContent,\n        // eslint-disable-next-line\n        dragStart: event => {\n          // eslint-disable-next-line\n          this.trigger('dragStart', event, dragEventArgs => {\n            if (isBlazor()) {\n              dragEventArgs.bindEvents(event.dragElement);\n            }\n          });\n        },\n        // eslint-disable-next-line\n        dragStop: event => {\n          if (this.isModal) {\n            if (!isNullOrUndefined(this.position)) {\n              this.dlgContainer.classList.remove('e-dlg-' + this.position.X + '-' + this.position.Y);\n            } // Reset the dialog position after drag completion.\n\n\n            this.element.style.position = 'relative';\n          }\n\n          this.trigger('dragStop', event);\n          this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n        },\n        // eslint-disable-next-line\n        drag: event => {\n          this.trigger('drag', event);\n        }\n      });\n\n      if (!isNullOrUndefined(this.targetEle)) {\n        this.dragObj.dragArea = this.targetEle;\n      }\n    }\n  }\n\n  setButton() {\n    if (!this.isBlazorServerRender()) {\n      this.buttonContent = [];\n      this.btnObj = []; // eslint-disable-next-line\n\n      for (let i = 0; i < this.buttons.length; i++) {\n        const buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n        const btn = this.createElement('button', {\n          attrs: {\n            type: buttonType\n          }\n        });\n        this.buttonContent.push(btn.outerHTML);\n      }\n\n      this.setFooterTemplate();\n    }\n\n    let footerBtn;\n\n    for (let i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n      if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n        footerBtn = childNodes[i].querySelectorAll('button');\n      }\n    }\n\n    for (let i = 0; i < this.buttons.length; i++) {\n      if (!this.isBlazorServerRender()) {\n        this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n      }\n\n      if (this.isBlazorServerRender()) {\n        this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n      }\n\n      if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n        }\n\n        if (typeof this.buttons[i].click === 'object') {\n          EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n        }\n      }\n\n      if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n        this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n\n        if (this.buttons[i].isFlat) {\n          this.btnObj[i].element.classList.add('e-flat');\n        }\n\n        this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n      }\n    }\n  }\n\n  buttonClickHandler(index) {\n    this.trigger('buttons[' + index + '].click', {});\n  }\n\n  setContent() {\n    attributes(this.element, {\n      'aria-describedby': this.element.id + '_dialog-content'\n    });\n    this.contentEle = this.createElement('div', {\n      className: DLG_CONTENT,\n      id: this.element.id + '_dialog-content'\n    });\n\n    if (this.innerContentElement) {\n      this.contentEle.appendChild(this.innerContentElement);\n    } else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n      // eslint-disable-next-line\n      if (typeof this.content === 'string' && !isBlazor()) {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      } else if (this.content instanceof HTMLElement) {\n        this.contentEle.appendChild(this.content);\n      } else {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      }\n    }\n\n    if (!isNullOrUndefined(this.headerContent)) {\n      this.element.insertBefore(this.contentEle, this.element.children[1]);\n    } else {\n      this.element.insertBefore(this.contentEle, this.element.children[0]);\n    }\n\n    if (this.height === 'auto') {\n      if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n        this.element.style.width = formatUnit(this.width);\n      }\n\n      this.setMaxHeight();\n    }\n  }\n\n  setTemplate(template, toElement, prop) {\n    // eslint-disable-next-line\n    let templateFn;\n    let templateProps; // eslint-disable-next-line\n\n    if (toElement.classList.contains(DLG_HEADER)) {\n      templateProps = this.element.id + 'header';\n    } else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n      templateProps = this.element.id + 'footerTemplate';\n    } else {\n      templateProps = this.element.id + 'content';\n    }\n\n    let templateValue;\n\n    if (!isNullOrUndefined(template.outerHTML)) {\n      toElement.appendChild(template);\n    } else if (typeof template === 'string' || typeof template !== 'string' || isBlazor() && !this.isStringTemplate) {\n      if (typeof template === 'string') {\n        template = this.sanitizeHelper(template);\n      }\n\n      if (this.isVue || typeof template !== 'string') {\n        templateFn = compile(template);\n        templateValue = template;\n      } else {\n        toElement.innerHTML = template;\n      }\n    }\n\n    const fromElements = [];\n\n    if (!isNullOrUndefined(templateFn)) {\n      const isString = isBlazor() && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0 ? this.isStringTemplate : true;\n\n      for (const item of templateFn({}, this, prop, templateProps, isString)) {\n        fromElements.push(item);\n      }\n\n      append([].slice.call(fromElements), toElement);\n    }\n  }\n  /*\n   * @returns {void}\n   * @hidden\n   * @value\n   */\n\n\n  sanitizeHelper(value) {\n    if (this.enableHtmlSanitizer) {\n      const dialogItem = SanitizeHtmlHelper.beforeSanitize();\n      const beforeEvent = {\n        cancel: false,\n        helper: null\n      };\n      extend(dialogItem, dialogItem, beforeEvent);\n      this.trigger('beforeSanitizeHtml', dialogItem);\n\n      if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n        value = dialogItem.helper(value);\n      } else if (!dialogItem.cancel) {\n        value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n      }\n    }\n\n    return value;\n  }\n\n  setMaxHeight() {\n    if (!this.allowMaxHeight) {\n      return;\n    }\n\n    const display = this.element.style.display;\n    this.element.style.display = 'none';\n    this.element.style.maxHeight = !isNullOrUndefined(this.target) && this.targetEle.offsetHeight < window.innerHeight ? this.targetEle.offsetHeight - 20 + 'px' : window.innerHeight - 20 + 'px';\n    this.element.style.display = display;\n\n    if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle) && this.element.offsetHeight < this.contentEle.offsetHeight) {\n      this.element.style.height = 'inherit';\n    }\n  }\n\n  setEnableRTL() {\n    if (!this.isBlazorServerRender()) {\n      // eslint-disable-next-line\n      this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    }\n\n    if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n      removeResize();\n      this.setResize();\n    }\n  }\n\n  setTargetContent() {\n    if (isNullOrUndefined(this.content) || this.content === '') {\n      const isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n\n      if (this.element.children.length > 0 || isContent) {\n        this.innerContentElement = document.createDocumentFragment();\n        [].slice.call(this.element.childNodes).forEach(el => {\n          if (el.nodeType !== 8) {\n            this.innerContentElement.appendChild(el);\n          }\n        });\n      }\n    }\n  }\n\n  setHeader() {\n    if (this.headerEle) {\n      this.headerEle.innerHTML = '';\n    } else {\n      this.headerEle = this.createElement('div', {\n        id: this.element.id + '_title',\n        className: DLG_HEADER\n      });\n    }\n\n    this.createHeaderContent();\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n\n    this.headerContent.appendChild(this.headerEle);\n    this.setTemplate(this.header, this.headerEle, 'header');\n    attributes(this.element, {\n      'aria-labelledby': this.element.id\n    });\n    this.element.insertBefore(this.headerContent, this.element.children[0]);\n  }\n\n  setFooterTemplate() {\n    if (this.ftrTemplateContent) {\n      this.ftrTemplateContent.innerHTML = '';\n    } else {\n      this.ftrTemplateContent = this.createElement('div', {\n        className: DLG_FOOTER_CONTENT\n      });\n    }\n\n    if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n      this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n    } else {\n      this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n    }\n\n    this.element.appendChild(this.ftrTemplateContent);\n  }\n\n  createHeaderContent() {\n    if (isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.createElement('div', {\n        id: this.element.id + '_dialog-header',\n        className: DLG_HEADER_CONTENT\n      });\n    }\n  }\n\n  renderCloseIcon() {\n    if (this.showCloseIcon) {\n      this.closeIcon = this.createElement('button', {\n        className: DLG_CLOSE_ICON_BTN,\n        attrs: {\n          type: 'button'\n        }\n      });\n      this.closeIconBtnObj = new Button({\n        cssClass: 'e-flat',\n        iconCss: DLG_CLOSE_ICON + ' ' + ICON\n      });\n      this.closeIconTitle();\n\n      if (!isNullOrUndefined(this.headerContent)) {\n        prepend([this.closeIcon], this.headerContent);\n      } else {\n        this.createHeaderContent();\n        prepend([this.closeIcon], this.headerContent);\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n      }\n\n      this.closeIconBtnObj.appendTo(this.closeIcon);\n    }\n  }\n\n  closeIconTitle() {\n    this.l10n.setLocale(this.locale);\n    const closeIconTitle = this.l10n.getConstant('close');\n    this.closeIcon.setAttribute('title', closeIconTitle);\n    this.closeIcon.setAttribute('aria-label', closeIconTitle);\n  }\n\n  setCSSClass(oldCSSClass) {\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (oldCSSClass) {\n      removeClass([this.element], oldCSSClass.split(' '));\n    }\n  }\n\n  setIsModal() {\n    this.dlgContainer = this.createElement('div', {\n      className: DLG_CONTAINER\n    });\n    this.element.classList.remove(DLG_SHOW);\n    this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n    this.dlgContainer.appendChild(this.element);\n    addClass([this.element], MODAL_DLG);\n    this.dlgOverlay = this.createElement('div', {\n      className: DLG_OVERLAY\n    });\n    this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n    this.dlgContainer.appendChild(this.dlgOverlay);\n  }\n\n  getValidFocusNode(items) {\n    let node;\n\n    for (let u = 0; u < items.length; u++) {\n      node = items[u];\n\n      if ((node.clientHeight > 0 || node.tagName.toLowerCase() === 'a' && node.hasAttribute('href')) && node.tabIndex > -1 && !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n        return node;\n      } else {\n        node = null;\n      }\n    }\n\n    return node;\n  }\n\n  focusableElements(content) {\n    if (!isNullOrUndefined(content)) {\n      const value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n      const items = content.querySelectorAll(value);\n      return this.getValidFocusNode(items);\n    }\n\n    return null;\n  }\n\n  getAutoFocusNode(container) {\n    let node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n    const value = '[autofocus]';\n    const items = container.querySelectorAll(value);\n    let validNode = this.getValidFocusNode(items);\n\n    if (isBlazor()) {\n      this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n    }\n\n    if (!isNullOrUndefined(validNode)) {\n      node = validNode;\n    } else {\n      validNode = this.focusableElements(this.contentEle);\n\n      if (!isNullOrUndefined(validNode)) {\n        return node = validNode;\n      } else if (!isNullOrUndefined(this.primaryButtonEle)) {\n        return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n      }\n    }\n\n    return node;\n  }\n\n  disableElement(element, t) {\n    // eslint-disable-next-line\n    const elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n\n    if (elementMatch) {\n      for (; element; element = element.parentNode) {\n        if (element instanceof Element && elementMatch.call(element, t)) {\n          /* istanbul ignore next */\n          return element;\n        }\n      }\n    }\n\n    return null;\n  }\n\n  focusContent() {\n    const element = this.getAutoFocusNode(this.element);\n    const node = !isNullOrUndefined(element) ? element : this.element;\n    const userAgent = Browser.userAgent;\n\n    if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n      this.element.focus();\n    }\n\n    node.focus();\n    this.bindEvent(this.element);\n  }\n\n  bindEvent(element) {\n    EventHandler.add(element, 'keydown', this.keyDown, this);\n  }\n\n  unBindEvent(element) {\n    EventHandler.remove(element, 'keydown', this.keyDown);\n  }\n\n  updateSanitizeContent() {\n    if (!this.isBlazorServerRender()) {\n      this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n    }\n  }\n\n  isBlazorServerRender() {\n    return isBlazor() && this.isServerRendered;\n  }\n  /**\n   * Module required function\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  getModuleName() {\n    return 'dialog';\n  }\n  /**\n   * Called internally if any of the property value changed\n   *\n   * @param {DialogModel} newProp - specifies the new property\n   * @param {DialogModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'content':\n          if (!isNullOrUndefined(this.content) && this.content !== '') {\n            if (this.isBlazorServerRender()) {\n              this.contentEle = this.element.querySelector('.e-dlg-content');\n            }\n\n            if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n              if (!this.isBlazorServerRender()) {\n                this.contentEle.innerHTML = '';\n              } // eslint-disable-next-line\n\n\n              if (typeof this.content === 'function') {\n                this.clearTemplate(['content']);\n                detach(this.contentEle);\n                this.contentEle = null;\n                this.setContent();\n              } else {\n                typeof this.content === 'string' ? this.isBlazorServerRender() && this.contentEle.innerText === '' ? this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) : this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n              }\n\n              this.setMaxHeight();\n            } else {\n              if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                this.setContent();\n              }\n            }\n          } else if (!isNullOrUndefined(this.contentEle)) {\n            detach(this.contentEle);\n            this.contentEle = null;\n          }\n\n          break;\n\n        case 'header':\n          if (this.header === '' || isNullOrUndefined(this.header)) {\n            if (this.headerEle) {\n              detach(this.headerEle);\n              this.headerEle = null;\n            }\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n              this.setHeader();\n            }\n          }\n\n          break;\n\n        case 'footerTemplate':\n          if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n            if (!this.ftrTemplateContent) {\n              return;\n            }\n\n            detach(this.ftrTemplateContent);\n            this.ftrTemplateContent = null;\n            this.buttons = [{}];\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n              this.setFooterTemplate();\n            }\n\n            this.buttons = [{}];\n          }\n\n          break;\n\n        case 'showCloseIcon':\n          if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n            if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n              detach(this.headerContent);\n              this.headerContent = null;\n            } else if (!this.showCloseIcon) {\n              detach(this.closeIcon);\n            } else {\n              if (this.isBlazorServerRender()) {\n                this.wireEvents();\n              }\n            }\n          } else {\n            if (!this.isBlazorServerRender()) {\n              this.renderCloseIcon();\n            }\n\n            this.wireEvents();\n          }\n\n          break;\n\n        case 'locale':\n          if (this.showCloseIcon) {\n            this.closeIconTitle();\n          }\n\n          break;\n\n        case 'visible':\n          // eslint-disable-next-line\n          this.visible ? this.show() : this.hide();\n          break;\n\n        case 'isModal':\n          this.updateIsModal();\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'zIndex':\n          this.popupObj.zIndex = this.zIndex;\n\n          if (this.isModal) {\n            this.setOverlayZindex(this.zIndex);\n          }\n\n          if (this.element.style.zIndex !== this.zIndex.toString()) {\n            this.calculatezIndex = false;\n          }\n\n          break;\n\n        case 'cssClass':\n          this.setCSSClass(oldProp.cssClass);\n          break;\n\n        case 'buttons':\n          {\n            const buttonCount = this.buttons.length;\n\n            if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n              detach(this.ftrTemplateContent);\n              this.ftrTemplateContent = null;\n            }\n\n            for (let i = 0; i < buttonCount; i++) {\n              if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                this.footerTemplate = '';\n                this.setButton();\n              }\n            }\n\n            break;\n          }\n\n        case 'allowDragging':\n          if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n            this.setAllowDragging();\n          } else {\n            this.dragObj.destroy();\n          }\n\n          break;\n\n        case 'target':\n          this.setTarget(newProp.target);\n          break;\n\n        case 'position':\n          this.checkPositionData();\n\n          if (this.isModal) {\n            const positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n            const positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n\n            if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n              this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n            }\n          }\n\n          this.positionChange();\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n\n        case 'enableResize':\n          this.setResize();\n          break;\n\n        case 'minHeight':\n          if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n          }\n\n          break;\n      }\n    }\n  }\n\n  setTarget(target) {\n    this.popupObj.relateTo = target;\n    this.target = target;\n    this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n\n    if (this.dragObj) {\n      this.dragObj.dragArea = this.targetEle;\n    }\n\n    this.setMaxHeight();\n\n    if (this.isModal) {\n      this.updateIsModal();\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n    }\n  }\n\n  updateIsModal() {\n    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n\n    if (this.isModal) {\n      if (isNullOrUndefined(this.dlgOverlay)) {\n        this.setIsModal();\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n\n        if (!isNullOrUndefined(this.targetEle)) {\n          this.targetEle.appendChild(this.dlgContainer);\n        }\n      }\n    } else {\n      removeClass([this.element], MODAL_DLG);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n      detach(this.dlgOverlay);\n\n      while (this.dlgContainer.firstChild) {\n        this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n      }\n\n      this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n    }\n\n    if (this.visible) {\n      this.show();\n    }\n\n    this.positionChange();\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  }\n\n  setzIndex(zIndexElement, setPopupZindex) {\n    const prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    this.zIndex = getZindexPartial(zIndexElement);\n    this.isProtectedOnChange = prevOnChange;\n\n    if (setPopupZindex) {\n      this.popupObj.zIndex = this.zIndex;\n    }\n  }\n\n  windowResizeHandler() {\n    setMaxWidth(this.targetEle.clientWidth);\n    setMaxHeight(this.targetEle.clientHeight);\n    this.setMaxHeight();\n  }\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  getPersistData() {\n    return this.addOnPersist([]);\n  }\n  /**\n   * To destroy the widget\n   *\n   * @returns {void}\n   */\n\n\n  destroy() {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    const classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n    const attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n    removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n\n    if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n    }\n\n    if (this.isModal) {\n      removeClass([!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body], SCROLL_DISABLED);\n    }\n\n    this.unWireEvents();\n\n    if (!isNullOrUndefined(this.btnObj)) {\n      for (let i = 0; i < this.btnObj.length; i++) {\n        this.btnObj[i].destroy();\n      }\n    }\n\n    if (!isNullOrUndefined(this.dragObj)) {\n      this.dragObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], classArray);\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      removeClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n      this.refElement.parentElement.insertBefore(this.isModal ? this.dlgContainer : this.element, this.refElement);\n      detach(this.refElement);\n      this.refElement = undefined;\n    }\n\n    if (this.isModal && !this.isBlazorServerRender()) {\n      detach(this.dlgOverlay);\n      this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n      detach(this.dlgContainer);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.element.innerHTML = this.clonedEle.innerHTML;\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.element.children)) {\n        for (let i = 0; i <= this.element.children.length; i++) {\n          i = i - i;\n          detach(this.element.children[i]);\n        }\n      }\n    }\n\n    for (let i = 0; i < attrs.length; i++) {\n      this.element.removeAttribute(attrs[i]);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      super.destroy();\n    } else {\n      this.isDestroyed = true;\n    } // eslint-disable-next-line\n\n\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n  }\n\n  wireWindowResizeEvent() {\n    window.addEventListener('resize', this.windowResizeHandler.bind(this));\n  }\n\n  unWireWindowResizeEvent() {\n    window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n  }\n  /**\n   * Binding event to the element while widget creation\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  wireEvents() {\n    if (this.isBlazorServerRender() && this.showCloseIcon) {\n      this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n    }\n\n    if (this.showCloseIcon) {\n      EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n    }\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  }\n  /**\n   * Unbinding event to the element while widget destroy\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  unWireEvents() {\n    if (this.showCloseIcon) {\n      EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n    }\n\n    if (this.isModal) {\n      EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n    }\n\n    if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n      for (let i = 0; i < this.buttons.length; i++) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n        }\n      }\n    }\n  }\n  /**\n   * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n   *\n   * @returns {void}\n   */\n\n\n  refreshPosition() {\n    this.popupObj.refreshPosition();\n  }\n  /**\n   * Returns the current width and height of the Dialog\n   *\n   * @returns {DialogDimension}\n   * @public\n   */\n\n\n  getDimension() {\n    const dialogWidth = this.element.offsetWidth;\n    const dialogHeight = this.element.offsetHeight;\n    return {\n      width: dialogWidth,\n      height: dialogHeight\n    };\n  }\n  /**\n   * Opens the dialog if it is in hidden state.\n   * To open the dialog with full screen width, set the parameter to true.\n   *\n   * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n   * @returns {void}\n   */\n\n\n  show(isFullScreen) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (!this.element.classList.contains(DLG_SHOW) || !isNullOrUndefined(isFullScreen)) {\n      if (!isNullOrUndefined(isFullScreen)) {\n        this.fullScreen(isFullScreen);\n      }\n\n      const eventArgs = isBlazor() ? {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        maxHeight: this.element.style.maxHeight\n      } : {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        target: this.target,\n        maxHeight: this.element.style.maxHeight\n      };\n      this.trigger('beforeOpen', eventArgs, beforeOpenArgs => {\n        if (!beforeOpenArgs.cancel) {\n          if (this.element.style.maxHeight !== eventArgs.maxHeight) {\n            this.allowMaxHeight = false;\n            this.element.style.maxHeight = eventArgs.maxHeight;\n          }\n\n          this.storeActiveElement = document.activeElement;\n          this.element.tabIndex = -1;\n\n          if (this.isModal && !isNullOrUndefined(this.dlgOverlay)) {\n            this.dlgOverlay.style.display = 'block';\n            this.dlgContainer.style.display = 'flex';\n            removeClass([this.dlgOverlay], 'e-fade');\n\n            if (!isNullOrUndefined(this.targetEle)) {\n              if (this.targetEle === document.body) {\n                this.dlgContainer.style.position = 'fixed';\n              } else {\n                this.dlgContainer.style.position = 'absolute';\n              }\n\n              this.dlgOverlay.style.position = 'absolute';\n              this.element.style.position = 'relative';\n              addClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            } else {\n              addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          } // eslint-disable-next-line\n\n\n          const openAnimation = {\n            name: this.animationSettings.effect + 'In',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n          };\n          const zIndexElement = this.isModal ? this.element.parentElement : this.element;\n\n          if (this.calculatezIndex) {\n            this.setzIndex(zIndexElement, true);\n            setStyleAttribute(this.element, {\n              'zIndex': this.zIndex\n            });\n\n            if (this.isModal) {\n              this.setOverlayZindex(this.zIndex);\n            }\n          } // eslint-disable-next-line\n\n\n          this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n          this.dialogOpen = true;\n          const prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.visible = true;\n          this.preventVisibility = true;\n          this.isProtectedOnChange = prevOnChange;\n        }\n      });\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  }\n  /**\n   * Closes the dialog if it is in visible state.\n   *\n   * @param { Event } event - specifies the event\n   * @returns {void}\n   */\n\n\n  hide(event) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (this.preventVisibility) {\n      const eventArgs = isBlazor() ? {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event\n      } : {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        target: this.target,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event,\n        closedBy: this.dlgClosedBy\n      };\n      this.closeArgs = eventArgs;\n      this.trigger('beforeClose', eventArgs, beforeCloseArgs => {\n        if (!beforeCloseArgs.cancel) {\n          if (this.isModal) {\n            if (!isNullOrUndefined(this.targetEle)) {\n              removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          }\n\n          if (document.body.classList.contains(DLG_TARGET) && document.body.classList.contains(SCROLL_DISABLED)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n          } // eslint-disable-next-line\n\n\n          const closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n          }; // eslint-disable-next-line\n\n          this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n          this.dialogOpen = false;\n          const prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.visible = false;\n          this.preventVisibility = false;\n          this.isProtectedOnChange = prevOnChange;\n        }\n\n        this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }\n  } // eslint-disable-next-line\n\n  /**\n   * Specifies to view the Full screen Dialog.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  fullScreen(args) {\n    /* eslint-disable */\n    const top = this.element.offsetTop;\n    const left = this.element.offsetLeft;\n    /* eslint-enable */\n\n    if (args) {\n      this.element.style.top = document.scrollingElement.scrollTop + 'px';\n      addClass([this.element], FULLSCREEN);\n      const display = this.element.style.display;\n      this.element.style.display = 'none';\n      this.element.style.maxHeight = !isNullOrUndefined(this.target) ? this.targetEle.offsetHeight + 'px' : window.innerHeight + 'px';\n      this.element.style.display = display;\n      addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n        this.dragObj.destroy();\n      }\n    } else {\n      removeClass([this.element], FULLSCREEN);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n        this.setAllowDragging();\n      }\n    }\n\n    return args;\n  }\n  /**\n   * Returns the dialog button instances.\n   * Based on that, you can dynamically change the button states.\n   *\n   * @param { number } index - Index of the button.\n   * @returns {Button} - returns the button element\n   */\n\n\n  getButtons(index) {\n    if (!isNullOrUndefined(index)) {\n      return this.btnObj[index];\n    }\n\n    return this.btnObj;\n  }\n\n};\n\n__decorate$1([Property('')], Dialog.prototype, \"content\", void 0);\n\n__decorate$1([Property(true)], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$1([Property(false)], Dialog.prototype, \"showCloseIcon\", void 0);\n\n__decorate$1([Property(false)], Dialog.prototype, \"isModal\", void 0);\n\n__decorate$1([Property('')], Dialog.prototype, \"header\", void 0);\n\n__decorate$1([Property(true)], Dialog.prototype, \"visible\", void 0);\n\n__decorate$1([Property(false)], Dialog.prototype, \"enableResize\", void 0);\n\n__decorate$1([Property(['South-East'])], Dialog.prototype, \"resizeHandles\", void 0);\n\n__decorate$1([Property('auto')], Dialog.prototype, \"height\", void 0);\n\n__decorate$1([Property('')], Dialog.prototype, \"minHeight\", void 0);\n\n__decorate$1([Property('100%')], Dialog.prototype, \"width\", void 0);\n\n__decorate$1([Property('')], Dialog.prototype, \"cssClass\", void 0);\n\n__decorate$1([Property(1000)], Dialog.prototype, \"zIndex\", void 0);\n\n__decorate$1([Property(null)], Dialog.prototype, \"target\", void 0);\n\n__decorate$1([Property('')], Dialog.prototype, \"footerTemplate\", void 0);\n\n__decorate$1([Property(false)], Dialog.prototype, \"allowDragging\", void 0);\n\n__decorate$1([Collection([{}], ButtonProps)], Dialog.prototype, \"buttons\", void 0);\n\n__decorate$1([Property(true)], Dialog.prototype, \"closeOnEscape\", void 0);\n\n__decorate$1([Complex({}, AnimationSettings)], Dialog.prototype, \"animationSettings\", void 0);\n\n__decorate$1([Complex({\n  X: 'center',\n  Y: 'center'\n}, PositionData)], Dialog.prototype, \"position\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"created\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"open\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"beforeOpen\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"close\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"beforeClose\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"dragStart\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"dragStop\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"drag\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"overlayClick\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"resizeStart\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"resizing\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"resizeStop\", void 0);\n\n__decorate$1([Event()], Dialog.prototype, \"destroyed\", void 0);\n\nDialog = __decorate$1([NotifyPropertyChanges], Dialog);\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\n\nvar DialogUtility;\n\n(function (DialogUtility) {\n  /**\n   * An alert dialog box is used to display warning like messages to the users.\n   * ```\n   * Eg : DialogUtility.alert('Alert message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {AlertDialogArgs} args - specifies the string\n   * @returns {Dialog} - returns the dialog element.\n   */\n  function alert(args) {\n    // eslint-disable-next-line\n    const dialogElement = createElement('div', {\n      'className': DLG_UTIL_ALERT\n    });\n    document.body.appendChild(dialogElement);\n    let alertDialogObj;\n    const okButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      alertDialogObj = createDialog({\n        content: args,\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okButtonModel\n      }, dialogElement);\n    } else {\n      alertDialogObj = createDialog(alertOptions(args), dialogElement);\n    }\n\n    alertDialogObj.close = () => {\n      if (args && args.close) {\n        args.close.apply(alertDialogObj);\n      }\n\n      alertDialogObj.destroy();\n\n      if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n        alertDialogObj.element.parentElement.remove();\n        alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        alertDialogObj.element.remove();\n      }\n    };\n\n    return alertDialogObj;\n  }\n\n  DialogUtility.alert = alert;\n  /**\n   * A confirm dialog displays a specified message along with OK and Cancel button.\n   * ```\n   * Eg : DialogUtility.confirm('Confirm dialog message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {ConfirmDialogArgs} args - specifies the args\n   * @returns {Dialog} - returns te element\n   */\n\n  function confirm(args) {\n    // eslint-disable-next-line\n    const dialogElement = createElement('div', {\n      'className': DLG_UTIL_CONFIRM\n    });\n    document.body.appendChild(dialogElement);\n    let confirmDialogObj;\n    const okCancelButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }, {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      confirmDialogObj = createDialog({\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        content: args,\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okCancelButtonModel\n      }, dialogElement);\n    } else {\n      confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n    }\n\n    confirmDialogObj.close = () => {\n      if (args && args.close) {\n        args.close.apply(confirmDialogObj);\n      }\n\n      confirmDialogObj.destroy();\n\n      if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n        confirmDialogObj.element.parentElement.remove();\n        confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        confirmDialogObj.element.remove();\n      }\n    };\n\n    return confirmDialogObj;\n  }\n\n  DialogUtility.confirm = confirm; // eslint-disable-next-line\n\n  function createDialog(options, element) {\n    const dialogObject = new Dialog(options);\n    dialogObject.appendTo(element);\n    return dialogObject;\n  } // eslint-disable-next-line\n\n\n  function alertOptions(option) {\n    let options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setAlertButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function confirmOptions(option) {\n    let options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setConfirmButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formOptions(options, option) {\n    options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n    options.content = !isNullOrUndefined(option.content) ? option.content : '';\n    options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n    options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n    options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n    options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n    options.position = !isNullOrUndefined(option.position) ? option.position : {\n      X: 'center',\n      Y: 'top'\n    };\n    options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings : {\n      effect: 'Fade',\n      duration: 400,\n      delay: 0\n    };\n    options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n    options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n    options.open = !isNullOrUndefined(option.open) ? option.open : null;\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setAlertButtonModel(options, option) {\n    const alertButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n    } else {\n      options.buttons = alertButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setConfirmButtonModel(options, option) {\n    const okButtonModel = {\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n    const cancelButtonModel = {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n    } else {\n      options.buttons[0] = okButtonModel;\n    }\n\n    if (!isNullOrUndefined(option.cancelButton)) {\n      options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n    } else {\n      options.buttons[1] = cancelButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formButtonModel(buttonModel, option, buttonPropModel) {\n    const buttonProps = buttonPropModel;\n\n    if (!isNullOrUndefined(option.text)) {\n      buttonProps.buttonModel.content = option.text;\n    }\n\n    if (!isNullOrUndefined(option.icon)) {\n      buttonProps.buttonModel.iconCss = option.icon;\n    }\n\n    if (!isNullOrUndefined(option.cssClass)) {\n      buttonProps.buttonModel.cssClass = option.cssClass;\n    }\n\n    if (!isNullOrUndefined(option.click)) {\n      buttonProps.click = option.click;\n    }\n\n    return buttonProps;\n  }\n})(DialogUtility || (DialogUtility = {}));\n/**\n * Dialog Component\n */\n\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nconst TOUCHEND_HIDE_DELAY = 1500;\nconst TAPHOLD_THRESHOLD = 500;\nconst SHOW_POINTER_TIP_GAP = 0;\nconst HIDE_POINTER_TIP_GAP = 8;\nconst MOUSE_TRAIL_GAP = 2;\nconst POINTER_ADJUST = 2;\nconst ROOT$1 = 'e-tooltip';\nconst RTL$1 = 'e-rtl';\nconst DEVICE$1 = 'e-bigger';\nconst ICON$1 = 'e-icons';\nconst CLOSE = 'e-tooltip-close';\nconst TOOLTIP_WRAP = 'e-tooltip-wrap';\nconst CONTENT = 'e-tip-content';\nconst ARROW_TIP = 'e-arrow-tip';\nconst ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nconst ARROW_TIP_INNER = 'e-arrow-tip-inner';\nconst TIP_BOTTOM = 'e-tip-bottom';\nconst TIP_TOP = 'e-tip-top';\nconst TIP_LEFT = 'e-tip-left';\nconst TIP_RIGHT = 'e-tip-right';\nconst POPUP_ROOT$1 = 'e-popup';\nconst POPUP_OPEN = 'e-popup-open';\nconst POPUP_CLOSE = 'e-popup-close';\nconst POPUP_LIB = 'e-lib';\nconst HIDE_POPUP = 'e-hidden';\nconst POPUP_CONTAINER = 'e-tooltip-popup-container';\n\nclass Animation$1 extends ChildProperty {}\n\n__decorate$2([Property({\n  effect: 'FadeIn',\n  duration: 150,\n  delay: 0\n})], Animation$1.prototype, \"open\", void 0);\n\n__decorate$2([Property({\n  effect: 'FadeOut',\n  duration: 150,\n  delay: 0\n})], Animation$1.prototype, \"close\", void 0);\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\n\n\nlet Tooltip = class Tooltip extends Component {\n  /* eslint-enable */\n\n  /**\n   * Constructor for creating the Tooltip Component\n   *\n   * @param {TooltipModel} options - specifies the options for the constructor\n   * @param {string| HTMLElement} element - specifies the element for the constructor\n   *\n   */\n  constructor(options, element) {\n    super(options, element);\n    this.mouseMoveEvent = null;\n    this.mouseMoveTarget = null;\n    this.containerElement = null;\n    this.isBodyContainer = true;\n  }\n\n  initialize() {\n    this.formatPosition();\n    addClass([this.element], ROOT$1);\n  }\n\n  formatPosition() {\n    if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n      [this.tooltipPositionY, this.tooltipPositionX] = this.position.split(/(?=[A-Z])/);\n    } else {\n      [this.tooltipPositionX, this.tooltipPositionY] = this.position.split(/(?=[A-Z])/);\n    }\n  }\n\n  renderArrow() {\n    this.setTipClass(this.position);\n    const tip = this.createElement('div', {\n      className: ARROW_TIP + ' ' + this.tipClass\n    });\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_OUTER + ' ' + this.tipClass\n    }));\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_INNER + ' ' + this.tipClass\n    }));\n    this.tooltipEle.appendChild(tip);\n  }\n\n  setTipClass(position) {\n    if (position.indexOf('Right') === 0) {\n      this.tipClass = TIP_LEFT;\n    } else if (position.indexOf('Bottom') === 0) {\n      this.tipClass = TIP_TOP;\n    } else if (position.indexOf('Left') === 0) {\n      this.tipClass = TIP_RIGHT;\n    } else {\n      this.tipClass = TIP_BOTTOM;\n    }\n  }\n\n  renderPopup(target) {\n    const elePos = this.mouseTrail ? {\n      top: 0,\n      left: 0\n    } : this.getTooltipPosition(target);\n    this.tooltipEle.classList.remove(POPUP_LIB);\n    this.popupObj = new Popup(this.tooltipEle, {\n      height: this.height,\n      width: this.width,\n      position: {\n        X: elePos.left,\n        Y: elePos.top\n      },\n      enableRtl: this.enableRtl,\n      open: this.openPopupHandler.bind(this),\n      close: this.closePopupHandler.bind(this)\n    });\n  }\n\n  getTooltipPosition(target) {\n    this.tooltipEle.style.display = 'block';\n    const pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n    const offsetPos = this.calculateTooltipOffset(this.position);\n    const collisionPosition = this.calculateElementPosition(pos, offsetPos);\n    const collisionLeft = collisionPosition[0];\n    const collisionTop = collisionPosition[1];\n    const elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n    this.tooltipEle.style.display = '';\n    return elePos;\n  }\n\n  windowResize() {\n    this.reposition(this.findTarget());\n  }\n\n  reposition(target) {\n    if (this.popupObj && target) {\n      const elePos = this.getTooltipPosition(target);\n      this.popupObj.position = {\n        X: elePos.left,\n        Y: elePos.top\n      };\n      this.popupObj.dataBind();\n    }\n  }\n\n  openPopupHandler() {\n    if (!this.mouseTrail && this.needTemplateReposition()) {\n      this.reposition(this.findTarget());\n    }\n\n    this.trigger('afterOpen', this.tooltipEventArgs);\n  }\n\n  closePopupHandler() {\n    this.clearTemplate(['content']);\n    this.clear();\n    this.trigger('afterClose', this.tooltipEventArgs);\n  }\n\n  calculateTooltipOffset(position) {\n    const pos = {\n      top: 0,\n      left: 0\n    };\n    const tooltipEleWidth = this.tooltipEle.offsetWidth;\n    const tooltipEleHeight = this.tooltipEle.offsetHeight;\n    const arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    const tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n    const tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n    let tipAdjust = this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP;\n    const tipHeightAdjust = tipHeight / 2 + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n    const tipWidthAdjust = tipWidth / 2 + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n\n    if (this.mouseTrail) {\n      tipAdjust += MOUSE_TRAIL_GAP;\n    }\n\n    switch (position) {\n      case 'RightTop':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'RightCenter':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'RightBottom':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'BottomRight':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      case 'BottomCenter':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n\n      case 'BottomLeft':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'LeftBottom':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'LeftCenter':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'LeftTop':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'TopLeft':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'TopRight':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      default:\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n    }\n\n    pos.left += this.offsetX;\n    pos.top += this.offsetY;\n    return pos;\n  }\n\n  updateTipPosition(position) {\n    const selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n    const removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n    removeClass(selEle, removeList);\n    this.setTipClass(position);\n    addClass(selEle, this.tipClass);\n  }\n\n  adjustArrow(target, position, tooltipPositionX, tooltipPositionY) {\n    if (this.showTipPointer === false) {\n      return;\n    }\n\n    this.updateTipPosition(position);\n    let leftValue;\n    let topValue;\n    this.tooltipEle.style.display = 'block';\n    const tooltipWidth = this.tooltipEle.clientWidth;\n    const tooltipHeight = this.tooltipEle.clientHeight;\n    const arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    const arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n    const tipWidth = arrowEle.offsetWidth;\n    const tipHeight = arrowEle.offsetHeight;\n    this.tooltipEle.style.display = '';\n\n    if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n      if (this.tipClass === TIP_BOTTOM) {\n        topValue = '99.9%'; // Arrow icon aligned -2px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n      } else {\n        topValue = -(tipHeight - 1) + 'px'; // Arrow icon aligned -6px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n      }\n\n      if (target) {\n        const tipPosExclude = tooltipPositionX !== 'Center' || tooltipWidth > target.offsetWidth || this.mouseTrail;\n\n        if (tipPosExclude && tooltipPositionX === 'Left' || !tipPosExclude && this.tipPointerPosition === 'End') {\n          leftValue = tooltipWidth - tipWidth - POINTER_ADJUST + 'px';\n        } else if (tipPosExclude && tooltipPositionX === 'Right' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n          leftValue = POINTER_ADJUST + 'px';\n        } else if (tipPosExclude && (this.tipPointerPosition === 'End' || this.tipPointerPosition === 'Start')) {\n          leftValue = this.tipPointerPosition === 'End' ? target.offsetWidth + (this.tooltipEle.offsetWidth - target.offsetWidth) / 2 - tipWidth / 2 - POINTER_ADJUST + 'px' : (this.tooltipEle.offsetWidth - target.offsetWidth) / 2 - tipWidth / 2 + POINTER_ADJUST + 'px';\n        } else {\n          leftValue = tooltipWidth / 2 - tipWidth / 2 + 'px';\n        }\n      }\n    } else {\n      if (this.tipClass === TIP_RIGHT) {\n        leftValue = '99.9%'; // Arrow icon aligned -2px left from ArrowOuterTip div\n\n        arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n      } else {\n        leftValue = -(tipWidth - 1) + 'px'; // Arrow icon aligned -2px from ArrowOuterTip width\n\n        arrowInnerELe.style.left = -tipWidth + (tipWidth - 2) + 'px';\n      }\n\n      const tipPosExclude = tooltipPositionY !== 'Center' || tooltipHeight > target.offsetHeight || this.mouseTrail;\n\n      if (tipPosExclude && tooltipPositionY === 'Top' || !tipPosExclude && this.tipPointerPosition === 'End') {\n        topValue = tooltipHeight - tipHeight - POINTER_ADJUST + 'px';\n      } else if (tipPosExclude && tooltipPositionY === 'Bottom' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n        topValue = POINTER_ADJUST + 'px';\n      } else {\n        topValue = tooltipHeight / 2 - tipHeight / 2 + 'px';\n      }\n    }\n\n    arrowEle.style.top = topValue;\n    arrowEle.style.left = leftValue;\n  }\n\n  renderContent(target) {\n    const tooltipContent = select('.' + CONTENT, this.tooltipEle);\n\n    if (this.cssClass) {\n      addClass([this.tooltipEle], this.cssClass.split(' '));\n    }\n\n    if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n      target.setAttribute('data-content', target.getAttribute('title'));\n      target.removeAttribute('title');\n    }\n\n    if (!isNullOrUndefined(this.content)) {\n      tooltipContent.innerHTML = '';\n\n      if (this.content instanceof HTMLElement) {\n        tooltipContent.appendChild(this.content);\n      } else if (typeof this.content === 'string') {\n        if (this.enableHtmlSanitizer) {\n          this.setProperties({\n            content: SanitizeHtmlHelper.sanitize(this.content)\n          }, true);\n        } // eslint-disable-next-line\n\n\n        const tempFunction = compile(this.content);\n        const tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          if (this.enableHtmlParse) {\n            const nodeList = tempArr.length;\n\n            for (var i = 0; i < nodeList; i++) {\n              append(tempArr, tooltipContent);\n            }\n          } else {\n            tooltipContent['textContent'] = this.content;\n          }\n\n          this.enableHtmlParse ? append(tempArr, tooltipContent) : tooltipContent['textContent'] = this.content;\n        }\n      } else {\n        // eslint-disable-next-line\n        const templateFunction = compile(this.content);\n        const tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          append(tempArr, tooltipContent);\n        }\n\n        this.renderReactTemplates();\n      }\n    } else {\n      if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n        tooltipContent.innerHTML = target.getAttribute('data-content');\n      }\n    }\n  }\n\n  renderCloseIcon() {\n    if (!this.isSticky) {\n      return;\n    }\n\n    const tipClose = this.createElement('div', {\n      className: ICON$1 + ' ' + CLOSE\n    });\n    this.tooltipEle.appendChild(tipClose);\n    EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n  }\n\n  addDescribedBy(target, id) {\n    const describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n\n    if (describedby.indexOf(id) < 0) {\n      describedby.push(id);\n    }\n\n    attributes(target, {\n      'aria-describedby': describedby.join(' ').trim(),\n      'data-tooltip-id': id\n    });\n  }\n\n  removeDescribedBy(target) {\n    const id = target.getAttribute('data-tooltip-id');\n    const describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n    const index = describedby.indexOf(id);\n\n    if (index !== -1) {\n      describedby.splice(index, 1);\n    }\n\n    target.removeAttribute('data-tooltip-id');\n    const orgdescribedby = describedby.join(' ').trim();\n\n    if (orgdescribedby) {\n      target.setAttribute('aria-describedby', orgdescribedby);\n    } else {\n      target.removeAttribute('aria-describedby');\n    }\n  }\n\n  tapHoldHandler(evt) {\n    clearTimeout(this.autoCloseTimer);\n    this.targetHover(evt.originalEvent);\n  }\n\n  touchEndHandler(e) {\n    if (this.isSticky) {\n      return;\n    } // eslint-disable-next-line\n\n\n    const close = () => {\n      this.close();\n    };\n\n    this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n  }\n\n  targetClick(e) {\n    let target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    if (target.getAttribute('data-tooltip-id') === null) {\n      this.targetHover(e);\n    } else if (!this.isSticky) {\n      this.hideTooltip(this.animation.close, e, target);\n    }\n  }\n\n  targetHover(e) {\n    let target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0) {\n      return;\n    }\n\n    const targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n\n    for (const target of targetList) {\n      this.restoreElement(target);\n    }\n\n    this.showTooltip(target, this.animation.open, e);\n  }\n\n  mouseMoveBeforeOpen(e) {\n    this.mouseMoveEvent = e;\n  }\n\n  mouseMoveBeforeRemove() {\n    if (this.mouseMoveTarget) {\n      EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n    }\n  }\n\n  showTooltip(target, showAnimation, e) {\n    clearTimeout(this.showTimer);\n    clearTimeout(this.hideTimer);\n\n    if (this.openDelay && this.mouseTrail) {\n      this.mouseMoveBeforeRemove();\n      this.mouseMoveTarget = target;\n      EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    }; // eslint-disable-next-line\n\n    const observeCallback = beforeRenderArgs => {\n      this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n    };\n\n    this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n  }\n\n  beforeRenderCallback(beforeRenderArgs, target, e, showAnimation) {\n    if (beforeRenderArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n    } else {\n      this.isHidden = false;\n\n      if (isNullOrUndefined(this.tooltipEle)) {\n        this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n        this.tooltipEle = this.createElement('div', {\n          className: TOOLTIP_WRAP + ' ' + POPUP_ROOT$1 + ' ' + POPUP_LIB,\n          attrs: {\n            role: 'tooltip',\n            'aria-hidden': 'false',\n            'id': this.ctrlId + '_content'\n          },\n          styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n        });\n        this.tooltipBeforeRender(target, this);\n        this.tooltipAfterRender(target, e, showAnimation, this);\n      } else {\n        if (target) {\n          this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n          this.addDescribedBy(target, this.ctrlId + '_content');\n          this.renderContent(target);\n          Animation.stop(this.tooltipEle);\n          this.reposition(target);\n          this.tooltipAfterRender(target, e, showAnimation, this);\n        }\n      }\n    }\n  }\n\n  appendContainer(ctrlObj) {\n    if (typeof this.container == 'string') {\n      if (this.container === 'body') {\n        this.containerElement = document.body;\n      } else {\n        this.isBodyContainer = false;\n        this.containerElement = select(this.container, document);\n      }\n    } else if (this.container instanceof HTMLElement) {\n      this.containerElement = this.container;\n      this.isBodyContainer = this.containerElement.tagName === 'BODY';\n    }\n\n    if (!this.isBodyContainer) {\n      addClass([this.containerElement], POPUP_CONTAINER);\n    }\n\n    this.containerElement.appendChild(ctrlObj.tooltipEle);\n  }\n\n  tooltipBeforeRender(target, ctrlObj) {\n    if (target) {\n      if (Browser.isDevice) {\n        addClass([ctrlObj.tooltipEle], DEVICE$1);\n      }\n\n      if (ctrlObj.width !== 'auto') {\n        ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n      }\n\n      ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', {\n        className: CONTENT\n      }));\n      this.appendContainer(ctrlObj);\n      removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n      ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n      ctrlObj.renderContent(target);\n      addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n\n      if (ctrlObj.showTipPointer) {\n        ctrlObj.renderArrow();\n      }\n\n      ctrlObj.renderCloseIcon();\n      ctrlObj.renderPopup(target);\n      ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n      Animation.stop(ctrlObj.tooltipEle);\n      ctrlObj.reposition(target);\n    }\n  }\n\n  tooltipAfterRender(target, e, showAnimation, ctrlObj) {\n    if (target) {\n      removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n      addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n      ctrlObj.tooltipEventArgs = {\n        type: e ? e.type : null,\n        cancel: false,\n        target: target,\n        event: e ? e : null,\n        element: ctrlObj.tooltipEle,\n        isInteracted: !isNullOrUndefined(e)\n      };\n\n      if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n        ctrlObj.tooltipEle.style.display = 'none';\n      } // eslint-disable-next-line\n\n\n      const observeCallback = observedArgs => {\n        ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n      };\n\n      ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n    }\n  }\n\n  beforeOpenCallback(observedArgs, target, showAnimation, e) {\n    if (observedArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n      this.restoreElement(target);\n    } else {\n      // eslint-disable-next-line\n      let openAnimation = {\n        name: showAnimation.effect,\n        duration: showAnimation.duration,\n        delay: showAnimation.delay,\n        timingFunction: 'easeOut'\n      };\n\n      if (showAnimation.effect === 'None') {\n        openAnimation = undefined;\n      }\n\n      if (this.openDelay > 0) {\n        // eslint-disable-next-line\n        const show = () => {\n          if (this.mouseTrail) {\n            EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n          }\n\n          if (this.popupObj) {\n            this.popupObj.show(openAnimation, target);\n\n            if (this.mouseMoveEvent && this.mouseTrail) {\n              this.onMouseMove(this.mouseMoveEvent);\n            }\n          }\n        };\n\n        this.showTimer = setTimeout(show, this.openDelay);\n      } else {\n        if (this.popupObj) {\n          this.popupObj.show(openAnimation, target);\n        }\n      }\n    }\n\n    if (e) {\n      this.wireMouseEvents(e, target);\n    }\n  }\n\n  needTemplateReposition() {\n    // eslint-disable-next-line\n    const tooltip = this;\n    return !isNullOrUndefined(tooltip.viewContainerRef) && typeof tooltip.viewContainerRef !== 'string';\n  }\n\n  checkCollision(target, x, y) {\n    const elePos = {\n      left: x,\n      top: y,\n      position: this.position,\n      horizontal: this.tooltipPositionX,\n      vertical: this.tooltipPositionY\n    };\n    const affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n\n    if (affectedPos.length > 0) {\n      elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' : this.tooltipPositionX;\n      elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' : this.tooltipPositionY;\n    }\n\n    return elePos;\n  }\n\n  calculateElementPosition(pos, offsetPos) {\n    return [this.isBodyContainer ? pos.left + offsetPos.left : pos.left - this.containerElement.offsetLeft + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft, this.isBodyContainer ? pos.top + offsetPos.top : pos.top - this.containerElement.offsetTop + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n  }\n\n  collisionFlipFit(target, x, y) {\n    const elePos = this.checkCollision(target, x, y);\n    let newpos = elePos.position;\n\n    if (this.tooltipPositionY !== elePos.vertical) {\n      newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical;\n    }\n\n    if (this.tooltipPositionX !== elePos.horizontal) {\n      if (newpos.indexOf('Left') === 0) {\n        elePos.vertical = newpos === 'LeftTop' || newpos === 'LeftCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Left';\n      }\n\n      if (newpos.indexOf('Right') === 0) {\n        elePos.vertical = newpos === 'RightTop' || newpos === 'RightCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Right';\n      }\n\n      elePos.horizontal = this.tooltipPositionX;\n    }\n\n    this.tooltipEventArgs = {\n      type: null,\n      cancel: false,\n      target: target,\n      event: null,\n      element: this.tooltipEle,\n      collidedPosition: newpos\n    };\n    this.trigger('beforeCollision', this.tooltipEventArgs);\n    const elePosVertical = elePos.vertical;\n    const elePosHorizontal = elePos.horizontal;\n\n    if (elePos.position !== newpos) {\n      const pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n      const offsetPos = this.calculateTooltipOffset(newpos);\n      offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n      offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n      elePos.position = newpos;\n      const elePosition = this.calculateElementPosition(pos, offsetPos);\n      elePos.left = elePosition[0];\n      elePos.top = elePosition[1];\n    } else {\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n    }\n\n    const eleOffset = {\n      left: elePos.left,\n      top: elePos.top\n    };\n    const left = this.isBodyContainer ? fit(this.tooltipEle, this.checkCollideTarget(), {\n      X: true,\n      Y: false\n    }, eleOffset).left : eleOffset.left;\n    this.tooltipEle.style.display = 'block';\n\n    if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n      const arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n      let arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n\n      if (arrowleft < 0) {\n        arrowleft = 0;\n      } else if (arrowleft + arrowEle.offsetWidth > this.tooltipEle.clientWidth) {\n        arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n      }\n\n      arrowEle.style.left = arrowleft.toString() + 'px';\n    }\n\n    this.tooltipEle.style.display = '';\n    eleOffset.left = left;\n    return eleOffset;\n  }\n\n  getOffSetPosition(positionString, newPos, offsetType) {\n    return positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1 && positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1 ? 2 * offsetType : 0;\n  }\n\n  checkCollideTarget() {\n    return !this.windowCollision && this.target ? this.element : null;\n  }\n\n  hideTooltip(hideAnimation, e, targetElement) {\n    if (this.closeDelay > 0) {\n      clearTimeout(this.hideTimer);\n      clearTimeout(this.showTimer); // eslint-disable-next-line\n\n      const hide = () => {\n        if (this.closeDelay && this.tooltipEle && this.isTooltipOpen) {\n          return;\n        }\n\n        this.tooltipHide(hideAnimation, e, targetElement);\n      };\n\n      this.hideTimer = setTimeout(hide, this.closeDelay);\n    } else {\n      this.tooltipHide(hideAnimation, e, targetElement);\n    }\n  }\n\n  tooltipHide(hideAnimation, e, targetElement) {\n    let target;\n\n    if (e) {\n      target = this.target ? targetElement || e.target : this.element;\n    } else {\n      target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    }; // this line commented for close the tooltip popup element even the target element destroyed in a page.\n    //if (isNullOrUndefined(target)) { return; }\n\n    this.trigger('beforeClose', this.tooltipEventArgs, observedArgs => {\n      if (!observedArgs.cancel) {\n        this.mouseMoveBeforeRemove();\n        this.popupHide(hideAnimation, target);\n      } else {\n        this.isHidden = false;\n      }\n    });\n  }\n\n  popupHide(hideAnimation, target) {\n    if (target) {\n      this.restoreElement(target);\n    }\n\n    this.isHidden = true; // eslint-disable-next-line\n\n    let closeAnimation = {\n      name: hideAnimation.effect,\n      duration: hideAnimation.duration,\n      delay: hideAnimation.delay,\n      timingFunction: 'easeIn'\n    };\n\n    if (hideAnimation.effect === 'None') {\n      closeAnimation = undefined;\n    }\n\n    if (this.popupObj) {\n      this.popupObj.hide(closeAnimation);\n    }\n  }\n\n  restoreElement(target) {\n    this.unwireMouseEvents(target);\n\n    if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n      target.setAttribute('title', target.getAttribute('data-content'));\n      target.removeAttribute('data-content');\n    }\n\n    this.removeDescribedBy(target);\n  }\n\n  clear() {\n    if (this.tooltipEle) {\n      removeClass([this.tooltipEle], POPUP_CLOSE);\n      addClass([this.tooltipEle], POPUP_OPEN);\n    }\n\n    if (this.isHidden) {\n      if (this.popupObj) {\n        this.popupObj.destroy();\n      }\n\n      if (this.tooltipEle) {\n        remove(this.tooltipEle);\n      }\n\n      this.tooltipEle = null;\n      this.popupObj = null;\n    }\n  }\n\n  tooltipHover(e) {\n    if (this.tooltipEle) {\n      this.isTooltipOpen = true;\n    }\n  }\n\n  tooltipMouseOut(e) {\n    this.isTooltipOpen = false;\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n  }\n\n  onMouseOut(e) {\n    const enteredElement = e.relatedTarget; // don't close the tooltip only if it is tooltip content element\n\n    if (enteredElement && !this.mouseTrail) {\n      const checkForTooltipElement = closest(enteredElement, `.${TOOLTIP_WRAP}.${POPUP_LIB}.${POPUP_ROOT$1}`);\n\n      if (checkForTooltipElement) {\n        EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n      } else {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n\n        if (this.closeDelay === 0) {\n          this.clear();\n        }\n      }\n    } else {\n      this.hideTooltip(this.animation.close, e, this.findTarget());\n      this.clear();\n    }\n  }\n\n  tooltipElementMouseOut(e) {\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n    EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n    this.clear();\n  }\n\n  onStickyClose(e) {\n    this.close();\n  }\n\n  onMouseMove(event) {\n    let eventPageX = 0;\n    let eventPageY = 0;\n\n    if (event.type.indexOf('touch') > -1) {\n      event.preventDefault();\n      eventPageX = event.touches[0].pageX;\n      eventPageY = event.touches[0].pageY;\n    } else {\n      eventPageX = event.pageX;\n      eventPageY = event.pageY;\n    }\n\n    Animation.stop(this.tooltipEle);\n    removeClass([this.tooltipEle], POPUP_CLOSE);\n    addClass([this.tooltipEle], POPUP_OPEN);\n    this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n    const pos = this.calculateTooltipOffset(this.position);\n    const x = eventPageX + pos.left + this.offsetX;\n    const y = eventPageY + pos.top + this.offsetY;\n    const elePos = this.checkCollision(event.target, x, y);\n\n    if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n      const newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n      elePos.position = newpos;\n      this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n      const colpos = this.calculateTooltipOffset(elePos.position);\n      elePos.left = eventPageX + colpos.left - this.offsetX;\n      elePos.top = eventPageY + colpos.top - this.offsetY;\n    }\n\n    this.tooltipEle.style.left = elePos.left + 'px';\n    this.tooltipEle.style.top = elePos.top + 'px';\n  }\n\n  keyDown(event) {\n    if (this.tooltipEle && event.keyCode === 27) {\n      this.close();\n    }\n  }\n\n  touchEnd(e) {\n    if (this.tooltipEle && closest(e.target, '.' + ROOT$1) === null && !this.isSticky) {\n      this.close();\n    }\n  }\n\n  scrollHandler(e) {\n    if (this.tooltipEle) {\n      if (!closest(e.target, `.${TOOLTIP_WRAP}.${POPUP_LIB}.${POPUP_ROOT$1}`)) {\n        this.close();\n      }\n    }\n  }\n  /**\n   * Core method that initializes the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  render() {\n    this.initialize();\n    this.wireEvents(this.opensOn);\n    this.renderComplete();\n  }\n  /**\n   * Initializes the values of private members.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  preRender() {\n    this.tipClass = TIP_BOTTOM;\n    this.tooltipPositionX = 'Center';\n    this.tooltipPositionY = 'Top';\n    this.isHidden = true;\n  }\n  /**\n   * Binding events to the Tooltip element.\n   *\n   * @hidden\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  wireEvents(trigger) {\n    const triggerList = this.getTriggerList(trigger);\n\n    for (const opensOn of triggerList) {\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.wireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          this.touchModule = new Touch(this.element, {\n            tapHoldThreshold: TAPHOLD_THRESHOLD,\n            tapHold: this.tapHoldHandler.bind(this)\n          });\n          EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n        } else {\n          EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n        }\n      }\n    }\n\n    EventHandler.add(document, 'touchend', this.touchEnd, this);\n    EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    EventHandler.add(document, 'keydown', this.keyDown, this);\n  }\n\n  getTriggerList(trigger) {\n    if (trigger === 'Auto') {\n      trigger = Browser.isDevice ? 'Hover' : 'Hover Focus';\n    }\n\n    return trigger.split(' ');\n  }\n\n  wireFocusEvents() {\n    if (!isNullOrUndefined(this.target)) {\n      const targetList = [].slice.call(selectAll(this.target, this.element));\n\n      for (const target of targetList) {\n        EventHandler.add(target, 'focus', this.targetHover, this);\n      }\n    } else {\n      EventHandler.add(this.element, 'focus', this.targetHover, this);\n    }\n  }\n\n  wireMouseEvents(e, target) {\n    if (this.tooltipEle) {\n      if (!this.isSticky) {\n        if (e.type === 'focus') {\n          EventHandler.add(target, 'blur', this.onMouseOut, this);\n        }\n\n        if (e.type === 'mouseover') {\n          EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n        }\n\n        if (this.closeDelay) {\n          EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n          EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n        }\n      }\n\n      if (this.mouseTrail && this.openDelay === 0) {\n        EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n      }\n    }\n  }\n  /**\n   * Unbinding events from the element on widget destroy.\n   *\n   * @hidden\n   *\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  unwireEvents(trigger) {\n    const triggerList = this.getTriggerList(trigger);\n\n    for (const opensOn of triggerList) {\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.unwireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          if (this.touchModule) {\n            this.touchModule.destroy();\n          }\n\n          EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n        } else {\n          EventHandler.remove(this.element, 'mouseover', this.targetHover);\n        }\n      }\n    }\n\n    EventHandler.remove(document, 'touchend', this.touchEnd);\n    EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n    EventHandler.remove(window, 'resize', this.windowResize);\n    EventHandler.remove(document, 'keydown', this.keyDown);\n  }\n\n  unwireFocusEvents() {\n    if (!isNullOrUndefined(this.target)) {\n      const targetList = [].slice.call(selectAll(this.target, this.element));\n\n      for (const target of targetList) {\n        EventHandler.remove(target, 'focus', this.targetHover);\n      }\n    } else {\n      EventHandler.remove(this.element, 'focus', this.targetHover);\n    }\n  }\n\n  unwireMouseEvents(target) {\n    if (!this.isSticky) {\n      const triggerList = this.getTriggerList(this.opensOn);\n\n      for (const opensOn of triggerList) {\n        if (opensOn === 'Focus') {\n          EventHandler.remove(target, 'blur', this.onMouseOut);\n        }\n\n        if (opensOn === 'Hover' && !Browser.isDevice) {\n          EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n        }\n      }\n\n      if (this.closeDelay) {\n        EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n        EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n      }\n    }\n\n    if (this.mouseTrail) {\n      EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n    }\n  }\n\n  findTarget() {\n    const target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    return target;\n  }\n  /**\n   * Core method to return the component name.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns module name.\n   */\n\n\n  getModuleName() {\n    return 'tooltip';\n  }\n  /**\n   * Returns the properties to be maintained in the persisted state.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns persisted data.\n   */\n\n\n  getPersistData() {\n    return this.addOnPersist([]);\n  }\n  /**\n   * Called internally, if any of the property value changed.\n   *\n   * @private\n   *\n   * @param {TooltipModel} newProp - this param gives new property values to the method\n   * @param {TooltipModel} oldProp - this param gives old property values to the method\n   * @returns {void}\n   *\n   */\n\n\n  onPropertyChanged(newProp, oldProp) {\n    const targetElement = this.findTarget();\n\n    for (const prop of Object.keys(newProp)) {\n      switch (prop) {\n        case 'width':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'height':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.height = formatUnit(newProp.height);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'content':\n          if (this.tooltipEle) {\n            this.renderContent();\n          }\n\n          break;\n\n        case 'opensOn':\n          this.unwireEvents(oldProp.opensOn);\n          this.wireEvents(newProp.opensOn);\n          break;\n\n        case 'position':\n          this.formatPosition();\n\n          if (this.tooltipEle && targetElement) {\n            const arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n            arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'tipPointerPosition':\n          if (this.tooltipEle && targetElement) {\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'offsetX':\n          if (this.tooltipEle) {\n            const x = newProp.offsetX - oldProp.offsetX;\n            this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + x).toString() + 'px';\n          }\n\n          break;\n\n        case 'offsetY':\n          if (this.tooltipEle) {\n            const y = newProp.offsetY - oldProp.offsetY;\n            this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + y).toString() + 'px';\n          }\n\n          break;\n\n        case 'cssClass':\n          if (this.tooltipEle) {\n            if (oldProp.cssClass) {\n              removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n            }\n\n            if (newProp.cssClass) {\n              addClass([this.tooltipEle], newProp.cssClass.split(' '));\n            }\n          }\n\n          break;\n\n        case 'enableRtl':\n          if (this.tooltipEle) {\n            if (this.enableRtl) {\n              addClass([this.tooltipEle], RTL$1);\n            } else {\n              removeClass([this.tooltipEle], RTL$1);\n            }\n          }\n\n          break;\n\n        case 'container':\n          if (!isNullOrUndefined(this.containerElement)) {\n            removeClass([this.containerElement], POPUP_CONTAINER);\n          }\n\n          this.container = newProp.container;\n\n          if (this.tooltipEle && targetElement) {\n            this.appendContainer(this);\n            this.reposition(targetElement);\n          }\n\n      }\n    }\n  }\n  /**\n   * It is used to show the Tooltip on the specified target with specific animation settings.\n   *\n   * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  open(element, animation) {\n    if (isNullOrUndefined(animation)) {\n      animation = this.animation.open;\n    }\n\n    if (isNullOrUndefined(element)) {\n      element = this.element;\n    }\n\n    if (element.style.display === 'none') {\n      return;\n    }\n\n    this.showTooltip(element, animation);\n  }\n  /**\n   * It is used to hide the Tooltip with specific animation effect.\n   *\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  close(animation) {\n    if (!animation) {\n      animation = this.animation.close;\n    }\n\n    this.hideTooltip(animation);\n  }\n  /**\n   * It is used to refresh the Tooltip content and its position.\n   *\n   * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n   * @returns {void}\n   */\n\n\n  refresh(target) {\n    if (this.tooltipEle) {\n      this.renderContent(target);\n    }\n\n    if (this.popupObj && target) {\n      this.reposition(target);\n    }\n  }\n  /**\n   * It is used to destroy the Tooltip component.\n   * @method destroy\n   * @returns {void}\n   * @memberof Tooltip\n   */\n\n\n  destroy() {\n    super.destroy();\n\n    if (this.tooltipEle) {\n      remove(this.tooltipEle);\n    }\n\n    if (this.popupObj) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], ROOT$1);\n    this.unwireEvents(this.opensOn);\n    this.unwireMouseEvents(this.element);\n    this.tooltipEle = null;\n    this.popupObj = null;\n  }\n\n};\n\n__decorate$2([Property('auto')], Tooltip.prototype, \"width\", void 0);\n\n__decorate$2([Property('auto')], Tooltip.prototype, \"height\", void 0);\n\n__decorate$2([Property()], Tooltip.prototype, \"content\", void 0);\n\n__decorate$2([Property('body')], Tooltip.prototype, \"container\", void 0);\n\n__decorate$2([Property()], Tooltip.prototype, \"target\", void 0);\n\n__decorate$2([Property('TopCenter')], Tooltip.prototype, \"position\", void 0);\n\n__decorate$2([Property(0)], Tooltip.prototype, \"offsetX\", void 0);\n\n__decorate$2([Property(0)], Tooltip.prototype, \"offsetY\", void 0);\n\n__decorate$2([Property(true)], Tooltip.prototype, \"showTipPointer\", void 0);\n\n__decorate$2([Property(true)], Tooltip.prototype, \"enableHtmlParse\", void 0);\n\n__decorate$2([Property(false)], Tooltip.prototype, \"windowCollision\", void 0);\n\n__decorate$2([Property('Auto')], Tooltip.prototype, \"tipPointerPosition\", void 0);\n\n__decorate$2([Property('Auto')], Tooltip.prototype, \"opensOn\", void 0);\n\n__decorate$2([Property(false)], Tooltip.prototype, \"mouseTrail\", void 0);\n\n__decorate$2([Property(false)], Tooltip.prototype, \"isSticky\", void 0);\n\n__decorate$2([Complex({}, Animation$1)], Tooltip.prototype, \"animation\", void 0);\n\n__decorate$2([Property(0)], Tooltip.prototype, \"openDelay\", void 0);\n\n__decorate$2([Property(0)], Tooltip.prototype, \"closeDelay\", void 0);\n\n__decorate$2([Property()], Tooltip.prototype, \"cssClass\", void 0);\n\n__decorate$2([Property(false)], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"beforeRender\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"beforeOpen\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"afterOpen\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"beforeClose\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"afterClose\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"beforeCollision\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"created\", void 0);\n\n__decorate$2([Event()], Tooltip.prototype, \"destroyed\", void 0);\n\nTooltip = __decorate$2([NotifyPropertyChanges], Tooltip);\n/**\n * Tooltip modules\n */\n\nconst globalTimeOut = {};\nconst DEFT_MAT_WIDTH = 30;\nconst DEFT_FAB_WIDTH = 30;\nconst DEFT_FLUENT_WIDTH = 30;\nconst DEFT_BOOT_WIDTH = 30;\nconst DEFT_BOOT4_WIDTH = 36;\nconst DEFT_BOOT5_WIDTH = 36;\nconst CLS_SHOWSPIN = 'e-spin-show';\nconst CLS_HIDESPIN = 'e-spin-hide';\nconst CLS_MATERIALSPIN = 'e-spin-material';\nconst CLS_FABRICSPIN = 'e-spin-fabric';\nconst CLS_FLUENTSPIN = 'e-spin-fluent';\nconst CLS_TAILWINDSPIN = 'e-spin-tailwind';\nconst CLS_BOOTSPIN = 'e-spin-bootstrap';\nconst CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nconst CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nconst CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nconst CLS_SPINWRAP = 'e-spinner-pane';\nconst CLS_SPININWRAP = 'e-spinner-inner';\nconst CLS_SPINCIRCLE = 'e-path-circle';\nconst CLS_SPINARC = 'e-path-arc';\nconst CLS_SPINLABEL = 'e-spin-label';\nconst CLS_SPINTEMPLATE = 'e-spin-template';\nlet spinTemplate = null;\nlet spinCSSClass = null; // eslint-disable-next-line\n\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\n\nfunction Spinner(action, options, target, type) {\n  switch (action) {\n    case 'Create':\n      /* eslint-disable */\n      const element = document.querySelector(options.target);\n      let args = {\n        type: type,\n        target: element,\n        cssClass: options.cssClass,\n        label: options.label,\n        width: options.width\n      };\n      /* eslint-enable */\n\n      createSpinner(args);\n      break;\n\n    case 'Show':\n      showSpinner(document.querySelector(target));\n      break;\n\n    case 'Hide':\n      hideSpinner(document.querySelector(target));\n      break;\n\n    case 'Set':\n      // eslint-disable-next-line\n      const setArgs = {\n        cssClass: options.cssClass,\n        type: type\n      };\n      setSpinner(setArgs);\n      break;\n  }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\n\n\nfunction createSpinner(args, internalCreateElement) {\n  if (!args.target) {\n    return;\n  }\n\n  let radius;\n  const makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement; // eslint-disable-next-line\n\n  let container = create_spinner_container(args.target, makeElement);\n\n  if (!isNullOrUndefined(args.cssClass)) {\n    container.wrap.classList.add(args.cssClass);\n  }\n\n  if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n    const template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n    container.wrap.classList.add(CLS_SPINTEMPLATE);\n    replaceContent(container.wrap, template, spinCSSClass);\n  } else {\n    const theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n    const width = !isNullOrUndefined(args.width) ? args.width : undefined;\n    radius = calculateRadius(width, theme);\n    setTheme(theme, container.wrap, radius, makeElement);\n\n    if (!isNullOrUndefined(args.label)) {\n      createLabel(container.inner_wrap, args.label, makeElement);\n    }\n  }\n\n  container.wrap.classList.add(CLS_HIDESPIN);\n  container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\n\n\nfunction createLabel(container, label, makeElement) {\n  const labelEle = makeElement('div', {});\n  labelEle.classList.add(CLS_SPINLABEL);\n  labelEle.innerHTML = label;\n  container.appendChild(labelEle);\n  return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createMaterialSpinner(container, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Material',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n  mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap4',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n  mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap5',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n  mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n\n\nfunction startMatAnimate(container, uniqueID, radius) {\n  const globalObject = {};\n  const timeOutVar = 0;\n  globalTimeOut[uniqueID].timeOut = 0;\n  globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0); // eslint-disable-next-line\n\n  let spinnerInfo = {\n    uniqueID: uniqueID,\n    container: container,\n    globalInfo: globalObject,\n    timeOutVar: timeOutVar\n  };\n  animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createFabricSpinner(container, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Fabric',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createFluentSinner(container, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Fluent',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\n\nfunction createTailwindSpinner(container, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Tailwind',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createHighContrastSpinner(container, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'HighContrast',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\n\n\nfunction getTheme(container) {\n  const theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n  return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction setTheme(theme, container, radius, makeElement) {\n  const innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n  const svg = innerContainer.querySelector('svg');\n\n  if (!isNullOrUndefined(svg)) {\n    innerContainer.removeChild(svg);\n  }\n\n  switch (theme) {\n    case 'Material':\n      createMaterialSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Fabric':\n      createFabricSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Fluent':\n      createFluentSinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap':\n      createBootstrapSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'HighContrast':\n      createHighContrastSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap4':\n      createBootstrap4Spinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap5':\n      createBootstrap5Spinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Tailwind':\n    case 'Tailwind-dark':\n      createTailwindSpinner(innerContainer, radius, makeElement);\n      break;\n  }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n  const uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap',\n    radius: radius\n  };\n  create_bootstrap_element(innerContainer, uniqueID, makeElement);\n  boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n  const svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  const viewBoxValue = 64;\n  const trans = 32;\n  const defaultRadius = 2;\n  svgBoot.setAttribute('id', uniqueID);\n  svgBoot.setAttribute('class', CLS_BOOTSPIN);\n  svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n  innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n\n  for (let item = 0; item <= 7; item++) {\n    const bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n    bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n    bootCircle.setAttribute('r', defaultRadius + '');\n    bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n    svgBoot.appendChild(bootCircle);\n  }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction boot_calculate_attributes(innerContainer, radius) {\n  const svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n  const x = 0;\n  const y = 0;\n  const rad = 24;\n  svg.style.width = svg.style.height = radius + 'px';\n  let startArc = 90;\n\n  for (let item = 0; item <= 7; item++) {\n    const start = defineArcPoints(x, y, rad, startArc);\n    const circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n    circleEle.setAttribute('cx', start.x + '');\n    circleEle.setAttribute('cy', start.y + '');\n    startArc = startArc >= 360 ? 0 : startArc;\n    startArc = startArc + 45;\n  }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\n\n\nfunction generateSeries(begin, stop) {\n  const series = [];\n  const start = begin;\n  const end = stop; // eslint-disable-next-line\n\n  let increment = false,\n      count = 1;\n  formSeries(start);\n  /**\n   *\n   * @param {number} i - specifies the number\n   * @returns {void}\n   */\n\n  function formSeries(i) {\n    series.push(i);\n\n    if (i !== end || count === 1) {\n      if (i <= start && i > 1 && !increment) {\n        i = parseFloat((i - 0.2).toFixed(2));\n      } else if (i === 1) {\n        i = 7;\n        i = parseFloat((i + 0.2).toFixed(2));\n        increment = true;\n      } else if (i < 8 && increment) {\n        i = parseFloat((i + 0.2).toFixed(2));\n\n        if (i === 8) {\n          increment = false;\n        }\n      } else if (i <= 8 && !increment) {\n        i = parseFloat((i - 0.2).toFixed(2));\n      }\n\n      ++count;\n      formSeries(i);\n    }\n  }\n\n  return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\n\n\nfunction animateBootstrap(innerContainer) {\n  const svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n  const id = svg.getAttribute('id');\n\n  for (let i = 1; i <= 8; i++) {\n    const circleEle = innerContainer.getElementsByClassName('e-path-circle_' + (i === 8 ? 0 : i))[0];\n    rotation(circleEle, i, i, generateSeries(i, i), id);\n  }\n  /**\n   *\n   * @param {SVGCircleElement} circle - specifies the circl element\n   * @param {number} start - specifies the number\n   * @param {number} end - specifies the end number\n   * @param {number} series - specifies the series\n   * @param {string} id - specifies the id\n   * @returns {void}\n   */\n\n\n  function rotation(circle, start, end, series, id) {\n    let count = 0;\n    boot_animate(start); // eslint-disable-next-line\n\n    function boot_animate(radius) {\n      if (globalTimeOut[id].isAnimate) {\n        ++count;\n        circle.setAttribute('r', radius + '');\n\n        if (count >= series.length) {\n          count = 0;\n        } // eslint-disable-next-line\n\n\n        globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n      }\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\n\n\nfunction replaceContent(container, template, cssClass) {\n  if (!isNullOrUndefined(cssClass)) {\n    container.classList.add(cssClass);\n  }\n\n  const inner = container.querySelector('.e-spinner-inner');\n  inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\n\n\nfunction calculateRadius(width, theme) {\n  let defaultSize;\n\n  switch (theme) {\n    case 'Material':\n      defaultSize = DEFT_MAT_WIDTH;\n      break;\n\n    case 'Fabric':\n      defaultSize = DEFT_FAB_WIDTH;\n      break;\n\n    case 'Tailwind':\n    case 'Tailwind-dark':\n      defaultSize = DEFT_FAB_WIDTH;\n      break;\n\n    case 'Fluent':\n      defaultSize = DEFT_FLUENT_WIDTH;\n      break;\n\n    case 'Bootstrap4':\n      defaultSize = DEFT_BOOT4_WIDTH;\n      break;\n\n    case 'Bootstrap5':\n      defaultSize = DEFT_BOOT5_WIDTH;\n      break;\n\n    default:\n      defaultSize = DEFT_BOOT_WIDTH;\n  }\n\n  width = width ? parseFloat(width + '') : defaultSize;\n  return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\n\n\nfunction globalVariables(id, radius, count, previousId) {\n  return {\n    radius: radius,\n    count: count,\n    previousId: previousId\n  };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\n\n\nfunction random_generator() {\n  let random = '';\n  const combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < 5; i++) {\n    random += combine.charAt(Math.floor(Math.random() * combine.length));\n  }\n\n  return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n  const svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svgFabric.setAttribute('id', uniqueID);\n  svgFabric.setAttribute('class', themeClass);\n  const fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n  const fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  fabricCircleArc.setAttribute('class', CLS_SPINARC);\n  innerCon.insertBefore(svgFabric, innerCon.firstChild);\n  svgFabric.appendChild(fabricCirclePath);\n  svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n  const svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  const matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  svgMaterial.setAttribute('class', cls);\n  svgMaterial.setAttribute('id', uniqueID);\n  matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n  innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n  svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_spinner_container(target, makeElement) {\n  const spinnerContainer = makeElement('div', {});\n  const spinnerInnerContainer = makeElement('div', {});\n  spinnerContainer.classList.add(CLS_SPINWRAP);\n  spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n  target.appendChild(spinnerContainer);\n  spinnerContainer.appendChild(spinnerInnerContainer); // eslint-disable-next-line\n\n  return {\n    wrap: spinnerContainer,\n    inner_wrap: spinnerInnerContainer\n  };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\n\n\nfunction animateMaterial(spinnerInfo) {\n  const start = 1;\n  const end = 149;\n  const duration = 1333;\n  const max = 75;\n  createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n  spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n  const id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n  const startTime = new Date().getTime();\n  const change = end - start;\n  const diameter = getSize(spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2 + '');\n  const strokeSize = getStrokeSize(diameter);\n  const rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n  mat_animation(spinnerInfo); // eslint-disable-next-line\n\n  function mat_animation(spinnerInfo) {\n    const currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n    updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n\n    if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n      // eslint-disable-next-line\n      globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n    } else {\n      animateMaterial(spinnerInfo);\n    }\n  }\n  /**\n   *\n   * @param {number} value - specifies the number value\n   * @param {HTMLElement} container - specifies the container\n   * @returns {void}\n   */\n\n\n  function updatePath(value, container) {\n    if (!isNullOrUndefined(container.querySelector('svg.e-spin-material')) && !isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle'))) {\n      const svg = container.querySelector('svg.e-spin-material');\n      const path = svg.querySelector('path.e-path-circle');\n      path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n      path.setAttribute('transform', 'rotate(' + rotate + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n    }\n  }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction mat_calculate_attributes(radius, container, type, cls) {\n  const diameter = radius * 2;\n  const svg = container.querySelector('svg.' + cls);\n  const path = svg.querySelector('path.e-path-circle');\n  const strokeSize = getStrokeSize(diameter);\n  const transformOrigin = diameter / 2 + 'px';\n  svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n  svg.style.width = svg.style.height = diameter + 'px';\n  svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n  path.setAttribute('d', drawArc(diameter, strokeSize));\n\n  if (type === 'Material') {\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('stroke-dasharray', (diameter - strokeSize) * Math.PI * 0.75 + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n  }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\n\n\nfunction getSize(value) {\n  const parsed = parseFloat(value);\n  return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\n\n\nfunction drawArc(diameter, strokeSize) {\n  const radius = diameter / 2;\n  const offset = strokeSize / 2;\n  return 'M' + radius + ',' + offset + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\n\n\nfunction getStrokeSize(diameter) {\n  return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction getDashOffset(diameter, strokeSize, value, max) {\n  return (diameter - strokeSize) * Math.PI * (3 * max / 100 - value / 100);\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction easeAnimation(current, start, change, duration) {\n  const timestamp = (current /= duration) * current;\n  const timecount = timestamp * current;\n  return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n  const centerX = radius;\n  const centerY = radius;\n  const diameter = radius * 2; // eslint-disable-next-line\n\n  const startArc = 315,\n        endArc = 45;\n  const svg = innerConainer.querySelector('.' + trgClass);\n  const circle = svg.querySelector('.e-path-circle');\n  const path = svg.querySelector('.e-path-arc');\n  const transformOrigin = diameter / 2 + 'px';\n  circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n  path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n  svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n  svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n  svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n  const radians = (angle - 90) * Math.PI / 180.0;\n  return {\n    x: centerX + radius * Math.cos(radians),\n    y: centerY + radius * Math.sin(radians)\n  };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction defineArc(x, y, radius, startArc, endArc) {\n  const start = defineArcPoints(x, y, radius, endArc);\n  const end = defineArcPoints(x, y, radius, startArc);\n  const d = ['M', start.x, start.y, 'A', radius, radius, 0, 0, 0, end.x, end.y].join(' ');\n  return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\n\n\nfunction defineCircle(x, y, radius) {\n  const d = ['M', x, y, 'm', -radius, 0, 'a', radius, radius, 0, 1, 0, radius * 2, 0, 'a', radius, radius, 0, 1, 0, -radius * 2, 0].join(' ');\n  return d;\n} // eslint-disable-next-line\n\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\n\n\nfunction showSpinner(container) {\n  showHideSpinner(container, false);\n  container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\n\n\nfunction showHideSpinner(container, isHide) {\n  let spinnerWrap;\n\n  if (container) {\n    spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container : container.querySelector('.' + CLS_SPINWRAP);\n  }\n\n  if (container && spinnerWrap) {\n    const inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    let spinCheck; // eslint-disable-next-line\n\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) : !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n\n    if (spinCheck) {\n      const svgEle = spinnerWrap.querySelector('svg');\n\n      if (isNullOrUndefined(svgEle)) {\n        return;\n      }\n\n      const id = svgEle.getAttribute('id');\n      globalTimeOut[id].isAnimate = !isHide;\n\n      switch (globalTimeOut[id].type) {\n        case 'Material':\n          // eslint-disable-next-line\n          isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n          break;\n\n        case 'Bootstrap':\n          // eslint-disable-next-line\n          isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n          break;\n      }\n    } // eslint-disable-next-line\n\n\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n  }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\n\n\nfunction hideSpinner(container) {\n  showHideSpinner(container, true);\n  container = null;\n} // eslint-disable-next-line\n\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\n\n\nfunction setSpinner(args, internalCreateElement) {\n  const makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n\n  if (args.template !== undefined) {\n    spinTemplate = args.template;\n\n    if (args.template !== undefined) {\n      spinCSSClass = args.cssClass;\n    }\n  }\n\n  const container = document.querySelectorAll('.' + CLS_SPINWRAP);\n\n  for (let index = 0; index < container.length; index++) {\n    ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n  }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\n\n\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n  if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n    replaceTheme(container, theme, cssClass, makeEle);\n\n    if (container.classList.contains(CLS_SHOWSPIN)) {\n      container.classList.remove(CLS_SHOWSPIN);\n      showSpinner(container);\n    } else {\n      container.classList.remove(CLS_HIDESPIN);\n      hideSpinner(container);\n    }\n  } else {\n    spinTemplate = template;\n\n    if (!isNullOrUndefined(cssClass)) {\n      spinCSSClass = cssClass;\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\n\n\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n  if (!isNullOrUndefined(cssClass)) {\n    container.classList.add(cssClass);\n  }\n\n  const svgElement = container.querySelector('svg');\n  const radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n  const classNames = svgElement.getAttribute('class');\n  const svgClassList = classNames.split(/\\s/);\n\n  if (svgClassList.indexOf('e-spin-material') >= 0) {\n    const id = svgElement.getAttribute('id');\n    clearTimeout(globalTimeOut[id].timeOut);\n  }\n\n  setTheme(theme, container, radius, makeEle);\n}\n/**\n * spinner modules\n */\n\n/**\n * Popup Components\n */\n\n\nexport { PositionData, Popup, getScrollableParent, getZindexPartial, getMaxZindex, calculateRelativeBasedPosition, calculatePosition, fit, isCollide, flip, ButtonProps, AnimationSettings, Dialog, DialogUtility, Animation$1 as Animation, Tooltip, Spinner, createSpinner, showSpinner, hideSpinner, setSpinner };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Complex","Component","Draggable","Event","EventHandler","L10n","NotifyPropertyChanges","Property","SanitizeHtmlHelper","Touch","addClass","append","attributes","classList","closest","compile","createElement","detach","extend","formatUnit","getUniqueID","isBlazor","isNullOrUndefined","prepend","remove","removeClass","select","selectAll","setStyleAttribute","Button","elementRect","popupRect","element","parentDocument","fixedParent","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","left","top","tempAnchor","offsetParent","style","position","offsetLeft","offsetTop","scrollLeft","scrollTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","undefined","ownerDocument","pos","updatePosition","toLowerCase","setPosx","value","setPosy","posX","posY","getBoundingClientRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","documentElement","body","getBodyScrollLeft","bottom","height","popupWidth","contains","width","right","parentDocument$1","targetContainer","fit","viewPortElement","axis","X","Y","elemData","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","x","y","elemOffset","data","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","push","rightSide","leftSide","bottomSide","flip","target","offsetX","offsetY","tEdge","TL","TR","BL","BR","eEdge","window","getComputedStyle","display","oldVisibility","visibility","removeProperty","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","getBodyScrollLeft$1","deepCheck","collideSide","getBodyScrollTop$1","innerHeight","getTargetContainerLeft","getTargetContainerTop","windowWidth","innerWidth","documentReact","document","offsetWidth","__decorate","decorators","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","PositionData","prototype","CLASSNAMES","ROOT","RTL","OPEN","CLOSE","Popup","constructor","options","onPropertyChanged","newProp","oldProp","prop","keys","zIndex","setEnableRtl","refreshPosition","parseInt","toString","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","getModuleName","resolveCollision","checkCollision","getPersistData","addOnPersist","destroy","unwireEvents","render","add","styles","wireEvents","isDevice","orientationOnChange","getRelateToElement","parent","getScrollableParent","scrollRefresh","relateToElement","relateTo","setProperties","querySelector","e","tagName","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","trigger","scrollElement","scrollParents","isElementVisible","rect","checkGetBoundingClientRect","win","windowView","scrollY","scrollX","outerWidth","outerHeight","off","ele","elementView","preRender","reposition","enableRtl","content","innerHTML","textContent","relateToElem","props","appendChild","setTimeout","collision","checkFixedParent","parentDisplay","getAnchorPosition","eleRect","error","anchorEle","anchorRect","targetType","callFlip","param","callFit","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","getZindexPartial","showAnimation","begin","isDestroyed","end","animate","hideAnimation","parentStyle","eleStyle","overflowRegex","test","overflow","overflowY","overflowX","parentZindex","index","defaultView","getPropertyValue","childrenZindex","children","isEqualNode","siblingsZindex","childNodes","slice","call","finalValue","concat","currentZindexValue","Math","max","apply","getMaxZindex","maxZindex","elements","getElementsByTagName","elementClass","RESIZE_HANDLER","FOCUSED_HANDLER","DIALOG_RESIZABLE","RESTRICT_LEFT","RESIZE_WITHIN_VIEWPORT","dialogBorderResize","targetElement","selectedHandler","originalWidth","originalHeight","originalX","originalY","originalMouseX","originalMouseY","minHeight","maxHeight","minWidth","maxWidth","containerElement","resizeStart","resize","resizeEnd","resizeWestWidth","setLeft","previousWidth","setWidth","proxy","createResize","args","resizeBegin","resizing","resizeComplete","getDOMElement","boundary","directions","direction","split","indexOf","setBorderResizeElm","trim","resizeHandler","className","calculateValues","borderBottom","attrs","setAttribute","domElement","resizers","querySelectorAll","onMouseDown","eventName","info","name","onTouchStart","borderResizers","getEventType","preventDefault","pageX","pageY","targetEle","clientWidth","clientHeight","onMouseMove","onMouseUp","touchMoveEvent","touchEndEvent","parseFloat","replace","coordinates","touches","changedTouches","resizeTowards","resizeSouth","resizeNorth","resizeWest","resizeEast","getClientRectValues","documentHeight","calculateValue","currentpageY","targetRectValues","containerRectValues","calculatedHeight","borderValue","offsetHeight","topWithoutborder","targetTop","calculatedTop","boundaryRectValues","type","currentHeight","documentWidth","rectValues","floor","calculatedWidth","setMinHeight","minimumHeight","setMaxWidth","setMaxHeight","removeResize","handlers","__decorate$1","ButtonProps","AnimationSettings","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CONTENT","DLG_CLOSE_ICON","DLG_OVERLAY","DLG_TARGET","DLG_CONTAINER","SCROLL_DISABLED","DLG_PRIMARY_BUTTON","ICON","POPUP_ROOT","DEVICE","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_HIDE","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","DLG_REF_ELEMENT","DLG_USER_ACTION_CLOSED","DLG_CLOSE_ICON_CLOSED","DLG_ESCAPE_CLOSED","DLG_OVERLAYCLICK_CLOSED","DLG_DRAG","Dialog","initialize","initRender","enableResize","setResize","animationSettings","effect","getMinHeight","renderComplete","initializeValue","dlgClosedBy","headerContent","allowMaxHeight","preventVisibility","clonedEle","cloneNode","closeIconClickEventHandler","event","dlgOverlayClickEventHandler","preventFocus","overlayClickEventArgs","focusContent","localeText","close","l10n","locale","checkPositionData","prevOnChange","isProtectedOnChange","isNumberValue","isNumber","getEle","list","selector","computedHeaderHeight","computedFooterHeight","footerEle","headerHeight","footerHeight","isNaN","onResizeStart","dialogObj","cancel","onResizing","onResizeComplete","isBlazorServerRender","computedHeight","computedWidth","resizeHandles","directionValue","toLocaleLowerCase","isModal","bind","wireWindowResizeEvent","unWireWindowResizeEvent","getFocusElement","items","keyDown","keyCode","buttonObj","btnObj","ftrTemplateContent","contentEle","activeElement","shiftKey","focusableElements","focus","isTagName","isContentEdit","hasAttribute","getAttribute","closeOnEscape","ctrlKey","primaryButtonEle","buttonIndex","firstPrimary","buttons","some","buttonModel","isPrimary","click","setCSSClass","initialRender","role","setzIndex","calculatezIndex","getElementsByClassName","id","setTargetContent","header","setHeader","renderCloseIcon","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","setIsModal","dlgContainer","dlgOverlay","parentEle","refElement","insertBefore","popupObj","open","eventArgs","container","resetResizeIcon","openEventArgs","unBindEvent","closeArgs","activeEle","blur","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","dialogConHeight","resizeIcon","zIndexValue","setPopupPosition","handleContent","dragObj","clone","isDragScroll","abort","handle","dragStart","dragEventArgs","bindEvents","dragElement","dragStop","drag","dragArea","buttonContent","buttonType","btn","outerHTML","footerBtn","buttonClickHandler","appendTo","isFlat","innerContentElement","setTemplate","HTMLElement","isIE","template","toElement","templateFn","templateProps","templateValue","isStringTemplate","sanitizeHelper","isVue","fromElements","isString","item","enableHtmlSanitizer","dialogItem","beforeSanitize","beforeEvent","helper","serializeValue","isContent","createDocumentFragment","forEach","el","nodeType","headerEle","createHeaderContent","join","showCloseIcon","closeIcon","closeIconBtnObj","cssClass","iconCss","closeIconTitle","setLocale","getConstant","oldCSSClass","parentNode","getValidFocusNode","node","u","tabIndex","disabled","disableElement","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msGetRegionContent","Element","userAgent","bindEvent","updateSanitizeContent","isServerRendered","clearTemplate","innerText","insertAdjacentHTML","updateIsModal","buttonCount","setTarget","firstChild","removeChild","setPopupZindex","windowResizeHandler","classArray","unWireEvents","removeAttribute","isReact","addEventListener","removeEventListener","getDimension","dialogWidth","dialogHeight","isFullScreen","fullScreen","beforeOpenArgs","openAnimation","duration","delay","dialogOpen","renderReactTemplates","isInteracted","closedBy","beforeCloseArgs","closeAnimation","scrollingElement","getButtons","DialogUtility","alert","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","option","formOptions","setAlertButtonModel","setConfirmButtonModel","title","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","text","icon","__decorate$2","TOUCHEND_HIDE_DELAY","TAPHOLD_THRESHOLD","SHOW_POINTER_TIP_GAP","HIDE_POINTER_TIP_GAP","MOUSE_TRAIL_GAP","POINTER_ADJUST","ROOT$1","RTL$1","DEVICE$1","ICON$1","TOOLTIP_WRAP","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_ROOT$1","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","HIDE_POPUP","POPUP_CONTAINER","Animation$1","Tooltip","mouseMoveEvent","mouseMoveTarget","isBodyContainer","formatPosition","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionPosition","calculateElementPosition","collisionLeft","collisionTop","collisionFlipFit","windowResize","findTarget","dataBind","needTemplateReposition","tooltipEventArgs","clear","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","renderContent","tooltipContent","sanitize","tempFunction","tempArr","enableHtmlParse","nodeList","templateFunction","isSticky","tipClose","touchStartEvent","onStickyClose","addDescribedBy","describedby","removeDescribedBy","splice","orgdescribedby","tapHoldHandler","evt","clearTimeout","autoCloseTimer","targetHover","originalEvent","touchEndHandler","targetClick","hideTooltip","animation","closeDelay","targetList","ctrlId","restoreElement","showTooltip","mouseMoveBeforeOpen","mouseMoveBeforeRemove","showTimer","hideTimer","openDelay","observeCallback","beforeRenderArgs","beforeRenderCallback","isHidden","tooltipBeforeRender","tooltipAfterRender","stop","appendContainer","ctrlObj","observedArgs","beforeOpenCallback","timingFunction","wireMouseEvents","tooltip","viewContainerRef","horizontal","vertical","affectedPos","checkCollideTarget","pageXOffset","pageYOffset","newpos","collidedPosition","elePosVertical","elePosHorizontal","getOffSetPosition","elePosition","eleOffset","arrowleft","positionString","newPos","offsetType","windowCollision","isTooltipOpen","tooltipHide","popupHide","unwireMouseEvents","tooltipHover","tooltipMouseOut","onMouseOut","enteredElement","relatedTarget","checkForTooltipElement","tooltipElementMouseOut","eventPageX","eventPageY","colpos","touchEnd","scrollHandler","opensOn","triggerList","getTriggerList","wireFocusEvents","touchModule","tapHoldThreshold","tapHold","unwireFocusEvents","refresh","globalTimeOut","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_FLUENT_WIDTH","DEFT_BOOT_WIDTH","DEFT_BOOT4_WIDTH","DEFT_BOOT5_WIDTH","CLS_SHOWSPIN","CLS_HIDESPIN","CLS_MATERIALSPIN","CLS_FABRICSPIN","CLS_FLUENTSPIN","CLS_TAILWINDSPIN","CLS_BOOTSPIN","CLS_BOOT4SPIN","CLS_BOOT5SPIN","CLS_HIGHCONTRASTSPIN","CLS_SPINWRAP","CLS_SPININWRAP","CLS_SPINCIRCLE","CLS_SPINARC","CLS_SPINLABEL","CLS_SPINTEMPLATE","spinTemplate","spinCSSClass","Spinner","action","label","createSpinner","showSpinner","hideSpinner","setArgs","setSpinner","internalCreateElement","radius","makeElement","create_spinner_container","wrap","replaceContent","theme","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","labelEle","createMaterialSpinner","uniqueID","random_generator","timeOut","create_material_element","mat_calculate_attributes","createBootstrap4Spinner","createBootstrap5Spinner","startMatAnimate","globalObject","timeOutVar","globalVariables","spinnerInfo","globalInfo","animateMaterial","createFabricSpinner","create_fabric_element","fb_calculate_attributes","createFluentSinner","createTailwindSpinner","createHighContrastSpinner","innerContainer","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","createElementNS","viewBoxValue","trans","defaultRadius","bootCircle","rad","startArc","start","defineArcPoints","circleEle","generateSeries","series","increment","count","formSeries","toFixed","animateBootstrap","rotation","circle","boot_animate","isAnimate","inner","defaultSize","previousId","random","combine","charAt","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","cls","svgMaterial","matCirclePath","spinnerContainer","spinnerInnerContainer","createCircle","easeAnimation","easing","startTime","Date","getTime","change","diameter","getSize","strokeSize","getStrokeSize","rotate","mat_animation","currentTime","min","updatePath","path","getDashOffset","transformOrigin","drawArc","PI","parsed","offset","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","endArc","defineCircle","defineArc","angle","radians","cos","sin","showHideSpinner","isHide","spinnerWrap","spinCheck","svgEle","ensureTemplate","makeEle","replaceTheme","svgElement","classNames","svgClassList"],"sources":["D:/StageCap2022/e-learningProject__frontend/frontend/node_modules/@syncfusion/ej2-popups/dist/es6/ej2-popups.es2015.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Event, EventHandler, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getUniqueID, isBlazor, isNullOrUndefined, prepend, remove, removeClass, select, selectAll, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n\n/**\n * Position library\n */\nlet elementRect;\nlet popupRect;\nlet element;\nlet parentDocument;\nlet fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\nfunction calculateRelativeBasedPosition(anchor, element) {\n    let fixedElement = false;\n    const anchorPos = { left: 0, top: 0 };\n    const tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\nfunction calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    //eslint-disable-next-line\n    popupRect = undefined;\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    const pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementRight() {\n    const popupWidth = (element && element.classList.contains('e-date-range-wrapper')) ? (popupRect ? popupRect.width : 0) :\n        (popupRect && (elementRect.width >= popupRect.width) ? popupRect.width : 0);\n    return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n\n/**\n * Collision module.\n */\nlet parentDocument$1;\nlet targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\nfunction fit(element, viewPortElement = null, axis = { X: false, Y: false }, position) {\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    const elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument$1 = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        const containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        const containerLeft = ContainerLeft();\n        const containerRight = ContainerRight();\n        const overLeft = containerLeft - position.left;\n        const overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        const containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        const containerTop = ContainerTop();\n        const containerBottom = ContainerBottom();\n        const overTop = containerTop - position.top;\n        const overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\nfunction isCollide(element, viewPortElement = null, x, y) {\n    const elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    const data = [];\n    targetContainer = viewPortElement;\n    parentDocument$1 = element.ownerDocument;\n    const elementRect = element.getBoundingClientRect();\n    const top = elemOffset.top;\n    const left = elemOffset.left;\n    const right = elemOffset.left + elementRect.width;\n    const bottom = elemOffset.top + elementRect.height;\n    // eslint-disable-next-line\n    const yAxis = topCollideCheck(top, bottom);\n    const xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\nfunction flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement = null, \n/* eslint-disable */\naxis = { X: true, Y: true }, fixedParent) {\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    // eslint-disable-next-line\n    const tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    }, eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n        /* eslint-enable */\n    };\n    let elementRect;\n    if (window.getComputedStyle(element).display === 'none') {\n        const oldVisibility = element.style.visibility;\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        elementRect = element.getBoundingClientRect();\n        element.style.removeProperty('display');\n        element.style.visibility = oldVisibility;\n    }\n    else {\n        elementRect = element.getBoundingClientRect();\n    }\n    const pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument$1 = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction setPopup(element, pos, elementRect) {\n    //eslint-disable-next-line\n    let left = 0, top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        const data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\nfunction leftCollideCheck(left, right) {\n    //eslint-disable-next-line\n    let leftSide = false, rightSide = false;\n    if (((left - getBodyScrollLeft$1()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    const collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft$1()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left > ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    const collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop$1()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\nfunction topCollideCheck(top, bottom) {\n    //eslint-disable-next-line\n    let topSide = false, bottomSide = false;\n    if ((top - getBodyScrollTop$1()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\n//eslint-disable-next-line\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft$1() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft$1() + getViewPortWidth());\n}\n//eslint-disable-next-line\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop$1() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop$1() + getViewPortHeight());\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollTop$1() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument$1.documentElement.scrollTop || parentDocument$1.body.scrollTop;\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollLeft$1() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument$1.documentElement.scrollLeft || parentDocument$1.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortWidth() {\n    const windowWidth = window.innerWidth;\n    let documentReact = document.documentElement.getBoundingClientRect();\n    let offsetWidth = (isNullOrUndefined(document.documentElement)) ? 0 : documentReact.width;\n    return windowWidth - (windowWidth - offsetWidth);\n}\n\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the offset position values.\n */\nclass PositionData extends ChildProperty {\n}\n__decorate([\n    Property('left')\n], PositionData.prototype, \"X\", void 0);\n__decorate([\n    Property('top')\n], PositionData.prototype, \"Y\", void 0);\n// don't use space in classNames\nconst CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nlet Popup = class Popup extends Component {\n    constructor(element, options) {\n        super(options, element);\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PopupModel} newProp - specifies the new property\n     * @param {PopupModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    onPropertyChanged(newProp, oldProp) {\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    // eslint-disable-next-line\n                    let x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    // eslint-disable-next-line\n                    let y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    }\n    /**\n     * gets the Component module name.\n     *\n     * @returns {void}\n     * @private\n     */\n    getModuleName() {\n        return 'popup';\n    }\n    /**\n     * To resolve if any collision occurs.\n     *\n     * @returns {void}\n     */\n    resolveCollision() {\n        this.checkCollision();\n    }\n    /**\n     * gets the persisted state properties of the Component.\n     *\n     * @returns {void}\n     */\n    getPersistData() {\n        return this.addOnPersist([]);\n    }\n    /**\n     * To destroy the control.\n     *\n     * @returns {void}\n     */\n    destroy() {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n        if (this.element.classList.contains('e-popup-open')) {\n            this.unwireEvents();\n        }\n        super.destroy();\n    }\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        const styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n    }\n    wireEvents() {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    }\n    wireScrollEvents() {\n        if (this.getRelateToElement()) {\n            for (const parent of this.getScrollableParent(this.getRelateToElement())) {\n                EventHandler.add(parent, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    }\n    unwireEvents() {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    }\n    unwireScrollEvents() {\n        if (this.getRelateToElement()) {\n            for (const parent of this.getScrollableParent(this.getRelateToElement())) {\n                EventHandler.remove(parent, 'scroll', this.scrollRefresh);\n            }\n        }\n    }\n    getRelateToElement() {\n        const relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    }\n    scrollRefresh(e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                const targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    }\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     *\n     * @param {HTMLElement} relateToElement - specifies the element\n     * @param {HTMLElement} scrollElement - specifies the scroll element\n     * @returns {boolean} - retruns the boolean\n     */\n    // eslint-disable-next-line\n    isElementOnViewport(relateToElement, scrollElement) {\n        const scrollParents = this.getScrollableParent(relateToElement);\n        for (let parent = 0; parent < scrollParents.length; parent++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    isElementVisible(relateToElement, scrollElement) {\n        const rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            const parent = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent.top) &&\n                (!(rect.bottom > parent.bottom) &&\n                    (!(rect.right > parent.right) &&\n                        !(rect.left < parent.left)));\n        }\n        else {\n            const win = window;\n            const windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            const off = calculatePosition(relateToElement);\n            const ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            const elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        //There is no event handler\n    }\n    setEnableRtl() {\n        this.reposition();\n        // eslint-disable-next-line\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    }\n    setContent() {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                const relateToElem = this.getRelateToElement();\n                // eslint-disable-next-line\n                const props = this.content.props;\n                if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n                    this.element.appendChild(this.content);\n                }\n            }\n        }\n    }\n    orientationOnChange() {\n        setTimeout(() => {\n            this.refreshPosition();\n        }, 200);\n    }\n    // eslint-disable-next-line\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     *\n     * @returns {void}\n     */\n    refreshPosition(target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    }\n    reposition() {\n        let pos;\n        let position;\n        const relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            let parentDisplay;\n            const display = this.element.style.display;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            const display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    }\n    checkGetBoundingClientRect(ele) {\n        let eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    }\n    getAnchorPosition(anchorEle, ele, position, offsetX, offsetY) {\n        const eleRect = this.checkGetBoundingClientRect(ele);\n        const anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        const anchor = anchorEle;\n        let anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    }\n    callFlip(param) {\n        const relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    }\n    callFit(param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                const data = fit(this.element, this.viewPortElement, param);\n                if (param.X) {\n                    this.element.style.left = data.left + 'px';\n                }\n                if (param.Y) {\n                    this.element.style.top = data.top + 'px';\n                }\n            }\n            else {\n                const elementRect = this.checkGetBoundingClientRect(this.element);\n                const viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    }\n    checkCollision() {\n        const horz = this.collision.X;\n        const vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    }\n    /**\n     * Shows the popup element from screen.\n     *\n     * @returns {void}\n     * @param {AnimationModel} animationOptions - specifies the model\n     * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n     */\n    show(animationOptions, relativeElement) {\n        this.wireEvents();\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            const zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = () => {\n                if (!this.isDestroyed) {\n                    removeClass([this.element], CLASSNAMES.CLOSE);\n                    addClass([this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = () => {\n                if (!this.isDestroyed) {\n                    this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    }\n    /**\n     * Hides the popup element from screen.\n     *\n     * @param {AnimationModel} animationOptions - To give the animation options.\n     * @returns {void}\n     */\n    hide(animationOptions) {\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = () => {\n                if (!this.isDestroyed) {\n                    removeClass([this.element], CLASSNAMES.OPEN);\n                    addClass([this.element], CLASSNAMES.CLOSE);\n                    this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n        this.unwireEvents();\n    }\n    /**\n     * Gets scrollable parent elements for the given element.\n     *\n     * @returns {void}\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    getScrollableParent(element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    }\n    checkFixedParent(element) {\n        let parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            const parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top))\n                    : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    }\n};\n__decorate([\n    Property('auto')\n], Popup.prototype, \"height\", void 0);\n__decorate([\n    Property('auto')\n], Popup.prototype, \"width\", void 0);\n__decorate([\n    Property(null)\n], Popup.prototype, \"content\", void 0);\n__decorate([\n    Property('container')\n], Popup.prototype, \"targetType\", void 0);\n__decorate([\n    Property(null)\n], Popup.prototype, \"viewPortElement\", void 0);\n__decorate([\n    Property({ X: 'none', Y: 'none' })\n], Popup.prototype, \"collision\", void 0);\n__decorate([\n    Property('')\n], Popup.prototype, \"relateTo\", void 0);\n__decorate([\n    Complex({}, PositionData)\n], Popup.prototype, \"position\", void 0);\n__decorate([\n    Property(0)\n], Popup.prototype, \"offsetX\", void 0);\n__decorate([\n    Property(0)\n], Popup.prototype, \"offsetY\", void 0);\n__decorate([\n    Property(1000)\n], Popup.prototype, \"zIndex\", void 0);\n__decorate([\n    Property(false)\n], Popup.prototype, \"enableRtl\", void 0);\n__decorate([\n    Property('reposition')\n], Popup.prototype, \"actionOnScroll\", void 0);\n__decorate([\n    Property(null)\n], Popup.prototype, \"showAnimation\", void 0);\n__decorate([\n    Property(null)\n], Popup.prototype, \"hideAnimation\", void 0);\n__decorate([\n    Event()\n], Popup.prototype, \"open\", void 0);\n__decorate([\n    Event()\n], Popup.prototype, \"close\", void 0);\n__decorate([\n    Event()\n], Popup.prototype, \"targetExitViewport\", void 0);\nPopup = __decorate([\n    NotifyPropertyChanges\n], Popup);\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nfunction getScrollableParent(element, fixedParent) {\n    const eleStyle = getComputedStyle(element);\n    const scrollParents = [];\n    const overflowRegex = /(auto|scroll)/;\n    let parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        const parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nfunction getZindexPartial(element) {\n    // upto body traversal\n    let parent = element.parentElement;\n    const parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            const index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            const position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    const childrenZindex = [];\n    for (let i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            const index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            const position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    const siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        const childNodes = [].slice.call(element.parentElement.children);\n        for (let i = 0; i < childNodes.length; i++) {\n            if (!element.isEqualNode(childNodes[i])) {\n                const index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n                const position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    siblingsZindex.push(index);\n                }\n            }\n        }\n    }\n    const finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    // eslint-disable-next-line\n    const currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nfunction getMaxZindex(tagName = ['*']) {\n    const maxZindex = [];\n    for (let i = 0; i < tagName.length; i++) {\n        const elements = document.getElementsByTagName(tagName[i]);\n        for (let i = 0; i < elements.length; i++) {\n            const index = document.defaultView.getComputedStyle(elements[i], null).getPropertyValue('z-index');\n            const position = document.defaultView.getComputedStyle(elements[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    const currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n\n/**\n * Popup Components\n */\n\n/**\n * Popup Components\n */\n\n/**\n * Resize library\n */\n/* eslint-disable */\nconst elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nconst RESIZE_HANDLER = 'e-resize-handle';\nconst FOCUSED_HANDLER = 'e-focused-handle';\nconst DIALOG_RESIZABLE = 'e-dlg-resizable';\nconst RESTRICT_LEFT = ['e-restrict-left'];\nconst RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nconst dialogBorderResize = ['north', 'west', 'east', 'south'];\nlet targetElement;\nlet selectedHandler;\nlet originalWidth = 0;\nlet originalHeight = 0;\nlet originalX = 0;\nlet originalY = 0;\nlet originalMouseX = 0;\nlet originalMouseY = 0;\nlet minHeight;\nlet maxHeight;\nlet minWidth;\nlet maxWidth;\nlet containerElement;\n/* eslint-disable */\nlet resizeStart = null;\nlet resize = null;\nlet resizeEnd = null;\n/* eslint-enable */\nlet resizeWestWidth;\nlet setLeft = true;\nlet previousWidth = 0;\nlet setWidth = true;\n// eslint-disable-next-line\nlet proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\nfunction createResize(args) {\n    resizeStart = args.resizeBegin;\n    resize = args.resizing;\n    resizeEnd = args.resizeComplete;\n    targetElement = getDOMElement(args.element);\n    containerElement = getDOMElement(args.boundary);\n    const directions = args.direction.split(' ');\n    for (let i = 0; i < directions.length; i++) {\n        if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n            setBorderResizeElm(directions[i]);\n        }\n        else if (directions[i].trim() !== '') {\n            const resizeHandler = createElement('div', { className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i] });\n            targetElement.appendChild(resizeHandler);\n        }\n    }\n    minHeight = args.minHeight;\n    minWidth = args.minWidth;\n    maxWidth = args.maxWidth;\n    maxHeight = args.maxHeight;\n    if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n        wireEvents(args.proxy);\n    }\n    else {\n        wireEvents();\n    }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\nfunction setBorderResizeElm(direction) {\n    calculateValues();\n    const borderBottom = createElement('span', {\n        attrs: {\n            'unselectable': 'on', 'contenteditable': 'false'\n        }\n    });\n    borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n    if (direction === 'south') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.bottom = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'north') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.top = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'east') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.right = '0px';\n        borderBottom.style.top = '0px';\n    }\n    if (direction === 'west') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.left = '0px';\n        borderBottom.style.top = '0px';\n    }\n    targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction getDOMElement(element) {\n    let domElement;\n    if (!isNullOrUndefined(element)) {\n        if (typeof (element) === 'string') {\n            domElement = document.querySelector(element);\n        }\n        else {\n            domElement = element;\n        }\n    }\n    return domElement;\n}\n// eslint-disable-next-line\nfunction wireEvents(args) {\n    if (isNullOrUndefined(args)) {\n        args = this;\n    }\n    const resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (let i = 0; i < resizers.length; i++) {\n        selectedHandler = resizers[i];\n        EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n        const eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n        EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n    const borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNullOrUndefined(borderResizers)) {\n        for (let i = 0; i < borderResizers.length; i++) {\n            selectedHandler = borderResizers[i];\n            EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n            const eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n            EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\nfunction getEventType(e) {\n    return (e.indexOf('mouse') > -1) ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\nfunction onMouseDown(e) {\n    e.preventDefault();\n    targetElement = e.target.parentElement;\n    calculateValues();\n    originalMouseX = e.pageX;\n    originalMouseY = e.pageY;\n    e.target.classList.add(FOCUSED_HANDLER);\n    if (!isNullOrUndefined(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n        containerElement = this.target === 'body' || 'document.body' || document.body ? null : this.targetEle;\n        maxWidth = this.targetEle.clientWidth;\n        maxHeight = this.targetEle.clientHeight;\n    }\n    const target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, 'mousemove', onMouseMove, this);\n    EventHandler.add(document, 'mouseup', onMouseUp, this);\n    for (let i = 0; i < RESTRICT_LEFT.length; i++) {\n        if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n            setLeft = false;\n        }\n        else {\n            setLeft = true;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseUp(e) {\n    const touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    const touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    const target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    const eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n    EventHandler.remove(target, 'mousemove', onMouseMove);\n    EventHandler.remove(target, touchMoveEvent, onMouseMove);\n    EventHandler.remove(target, eventName, onMouseMove);\n    if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(resizeEnd)) {\n        proxy = this;\n        resizeEnd(e, proxy);\n    }\n    EventHandler.remove(document, 'mouseup', onMouseUp);\n    EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n * @returns {void}\n */\nfunction calculateValues() {\n    originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n    originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n    originalX = targetElement.getBoundingClientRect().left;\n    originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onTouchStart(e) {\n    targetElement = e.target.parentElement;\n    calculateValues();\n    const coordinates = e.touches ? e.changedTouches[0] : e;\n    originalMouseX = coordinates.pageX;\n    originalMouseY = coordinates.pageY;\n    if (!isNullOrUndefined(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    const touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    const touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    const target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n    EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseMove(e) {\n    if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n        selectedHandler = e.target;\n    }\n    else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(selectedHandler)) {\n        let resizeTowards = '';\n        for (let i = 0; i < elementClass.length; i++) {\n            if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n                resizeTowards = elementClass[i];\n            }\n        }\n        if (!isNullOrUndefined(resize)) {\n            proxy = this;\n            resize(e, proxy);\n        }\n        switch (resizeTowards) {\n            case 'south':\n                resizeSouth(e);\n                break;\n            case 'north':\n                resizeNorth(e);\n                break;\n            case 'west':\n                resizeWest(e);\n                break;\n            case 'east':\n                resizeEast(e);\n                break;\n            case 'south-east':\n                resizeSouth(e);\n                resizeEast(e);\n                break;\n            case 'south-west':\n                resizeSouth(e);\n                resizeWest(e);\n                break;\n            case 'north-east':\n                resizeNorth(e);\n                resizeEast(e);\n                break;\n            case 'north-west':\n                resizeNorth(e);\n                resizeWest(e);\n                break;\n            default: break;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\nfunction getClientRectValues(element) {\n    return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeSouth(e) {\n    const documentHeight = document.documentElement.clientHeight;\n    let calculateValue = false;\n    const coordinates = e.touches ? e.changedTouches[0] : e;\n    const currentpageY = coordinates.pageY;\n    const targetRectValues = getClientRectValues(targetElement);\n    let containerRectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && ((documentHeight - currentpageY) >= 0 || (targetRectValues.top < 0))) {\n        calculateValue = true;\n    }\n    let calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n    calculatedHeight = (calculatedHeight > minHeight) ? calculatedHeight : minHeight;\n    let containerTop = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerTop = containerRectValues.top;\n    }\n    const borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n    let topWithoutborder = (targetRectValues.top - containerTop) - (borderValue / 2);\n    topWithoutborder = (topWithoutborder < 0) ? 0 : topWithoutborder;\n    if (targetRectValues.top > 0 && (topWithoutborder + calculatedHeight) > maxHeight) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.height = (maxHeight - parseInt(topWithoutborder.toString(), 10)) + 'px';\n        return;\n    }\n    let targetTop = 0;\n    if (calculateValue) {\n        if (targetRectValues.top < 0 && (documentHeight + (targetRectValues.height + targetRectValues.top) > 0)) {\n            targetTop = targetRectValues.top;\n            if ((calculatedHeight + targetTop) <= 30) {\n                calculatedHeight = (targetRectValues.height - (targetRectValues.height + targetRectValues.top)) + 30;\n            }\n        }\n        if (((calculatedHeight + targetRectValues.top) >= maxHeight)) {\n            targetElement.style.height = targetRectValues.height +\n                (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n        }\n        const calculatedTop = (isNullOrUndefined(containerElement)) ? targetTop : topWithoutborder;\n        if (calculatedHeight >= minHeight && ((calculatedHeight + calculatedTop) <= maxHeight)) {\n            targetElement.style.height = calculatedHeight + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeNorth(e) {\n    let calculateValue = false;\n    let boundaryRectValues;\n    const pageY = (getEventType(e.type) === 'mouse') ? e.pageY : e.touches[0].pageY;\n    const targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement)) {\n        boundaryRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement) && (targetRectValues.top - boundaryRectValues.top) > 0) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageY > 0) {\n        calculateValue = true;\n    }\n    const currentHeight = originalHeight - (pageY - originalMouseY);\n    if (calculateValue) {\n        if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n            let containerTop = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerTop = boundaryRectValues.top;\n            }\n            let top = (originalY - containerTop) + (pageY - originalMouseY);\n            top = top > 0 ? top : 1;\n            targetElement.style.height = currentHeight + 'px';\n            targetElement.style.top = top + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeWest(e) {\n    const documentWidth = document.documentElement.clientWidth;\n    let calculateValue = false;\n    let rectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        rectValues = getClientRectValues(containerElement);\n    }\n    const pageX = (getEventType(e.type) === 'mouse') ? e.pageX : e.touches[0].pageX;\n    const targetRectValues = getClientRectValues(targetElement);\n    const borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n    /* eslint-disable */\n    let left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n    let containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n    /* eslint-enable */\n    if (isNullOrUndefined(resizeWestWidth)) {\n        if (!isNullOrUndefined(containerElement)) {\n            resizeWestWidth = (((targetRectValues.left - left) - borderValue / 2)) + targetRectValues.width;\n            resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n        }\n        else {\n            resizeWestWidth = documentWidth;\n        }\n    }\n    if (!isNullOrUndefined(containerElement) &&\n        (Math.floor((targetRectValues.left - rectValues.left) + targetRectValues.width +\n            (rectValues.right - targetRectValues.right)) - borderValue) <= maxWidth) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n        calculateValue = true;\n    }\n    let calculatedWidth = originalWidth - (pageX - originalMouseX);\n    if (setLeft) {\n        calculatedWidth = (calculatedWidth > resizeWestWidth) ? resizeWestWidth : calculatedWidth;\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            let containerLeft = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerLeft = rectValues.left;\n            }\n            let left = (originalX - containerLeft) + (pageX - originalMouseX);\n            left = (left > 0) ? left : 1;\n            if (calculatedWidth !== previousWidth && setWidth) {\n                targetElement.style.width = calculatedWidth + 'px';\n            }\n            if (setLeft) {\n                targetElement.style.left = left + 'px';\n                if (left === 1) {\n                    setWidth = false;\n                }\n                else {\n                    setWidth = true;\n                }\n            }\n        }\n    }\n    previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeEast(e) {\n    const documentWidth = document.documentElement.clientWidth;\n    let calculateValue = false;\n    let containerRectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    const coordinates = e.touches ? e.changedTouches[0] : e;\n    const pageX = coordinates.pageX;\n    const targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement) && (((targetRectValues.left - containerRectValues.left) + targetRectValues.width) <= maxWidth\n        || (targetRectValues.right - containerRectValues.left) >= targetRectValues.width)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && (documentWidth - pageX) > 0) {\n        calculateValue = true;\n    }\n    const calculatedWidth = originalWidth + (pageX - originalMouseX);\n    let containerLeft = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerLeft = containerRectValues.left;\n    }\n    if (((targetRectValues.left - containerLeft) + calculatedWidth) > maxWidth) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            targetElement.style.width = calculatedWidth + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\nfunction setMinHeight(minimumHeight) {\n    minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nfunction setMaxWidth(value) {\n    maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nfunction setMaxHeight(value) {\n    maxHeight = value;\n}\n/**\n * @returns {void}\n */\nfunction removeResize() {\n    const handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (let i = 0; i < handlers.length; i++) {\n        detach(handlers[i]);\n    }\n    const borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNullOrUndefined(borderResizers)) {\n        for (let i = 0; i < borderResizers.length; i++) {\n            detach(borderResizers[i]);\n        }\n    }\n}\n\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nclass ButtonProps extends ChildProperty {\n}\n__decorate$1([\n    Property(true)\n], ButtonProps.prototype, \"isFlat\", void 0);\n__decorate$1([\n    Property()\n], ButtonProps.prototype, \"buttonModel\", void 0);\n__decorate$1([\n    Property('Button')\n], ButtonProps.prototype, \"type\", void 0);\n__decorate$1([\n    Event()\n], ButtonProps.prototype, \"click\", void 0);\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nclass AnimationSettings extends ChildProperty {\n}\n__decorate$1([\n    Property('Fade')\n], AnimationSettings.prototype, \"effect\", void 0);\n__decorate$1([\n    Property(400)\n], AnimationSettings.prototype, \"duration\", void 0);\n__decorate$1([\n    Property(0)\n], AnimationSettings.prototype, \"delay\", void 0);\nconst ROOT = 'e-dialog';\nconst RTL = 'e-rtl';\nconst DLG_HEADER_CONTENT = 'e-dlg-header-content';\nconst DLG_HEADER = 'e-dlg-header';\nconst DLG_FOOTER_CONTENT = 'e-footer-content';\nconst MODAL_DLG = 'e-dlg-modal';\nconst DLG_CONTENT = 'e-dlg-content';\nconst DLG_CLOSE_ICON = 'e-icon-dlg-close';\nconst DLG_OVERLAY = 'e-dlg-overlay';\nconst DLG_TARGET = 'e-dlg-target';\nconst DLG_CONTAINER = 'e-dlg-container';\nconst SCROLL_DISABLED = 'e-scroll-disabled';\nconst DLG_PRIMARY_BUTTON = 'e-primary';\nconst ICON = 'e-icons';\nconst POPUP_ROOT = 'e-popup';\nconst DEVICE = 'e-device';\nconst FULLSCREEN = 'e-dlg-fullscreen';\nconst DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nconst DLG_HIDE = 'e-popup-close';\nconst DLG_SHOW = 'e-popup-open';\nconst DLG_UTIL_DEFAULT_TITLE = 'Information';\nconst DLG_UTIL_ROOT = 'e-scroll-disabled';\nconst DLG_UTIL_ALERT = 'e-alert-dialog';\nconst DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nconst DLG_RESIZABLE = 'e-dlg-resizable';\nconst DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nconst DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nconst DLG_REF_ELEMENT = 'e-dlg-ref-element';\nconst DLG_USER_ACTION_CLOSED = 'user action';\nconst DLG_CLOSE_ICON_CLOSED = 'close icon';\nconst DLG_ESCAPE_CLOSED = 'escape';\nconst DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nconst DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nlet Dialog = class Dialog extends Component {\n    /*\n     * * Constructor for creating the widget\n     *\n     * @param\n     * @param\n     * @hidden\n     */\n    constructor(options, element) {\n        super(options, element);\n    }\n    /**\n     *Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    render() {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    }\n    initializeValue() {\n        this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n    }\n    /**\n     *Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    preRender() {\n        this.initializeValue();\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = (event) => {\n            this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n            this.hide(event);\n        };\n        // eslint-disable-next-line\n        this.dlgOverlayClickEventHandler = (event) => {\n            this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n            event.preventFocus = false;\n            this.trigger('overlayClick', event, (overlayClickEventArgs) => {\n                if (!overlayClickEventArgs.preventFocus) {\n                    this.focusContent();\n                }\n                this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        };\n        // eslint-disable-next-line\n        const localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            const prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    }\n    isNumberValue(value) {\n        const isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    }\n    checkPositionData() {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                const isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    const prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                const isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    const prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    }\n    getEle(list, selector) {\n        let element = undefined;\n        for (let i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    }\n    /* istanbul ignore next */\n    getMinHeight() {\n        let computedHeaderHeight = '0px';\n        let computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        const footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        const headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        const footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n        return (headerHeight + 30 + footerHeight);\n    }\n    onResizeStart(args, dialogObj) {\n        dialogObj.trigger('resizeStart', args);\n        return args.cancel;\n    }\n    onResizing(args, dialogObj) {\n        dialogObj.trigger('resizing', args);\n    }\n    onResizeComplete(args, dialogObj) {\n        dialogObj.trigger('resizeStop', args);\n    }\n    setResize() {\n        if (this.enableResize) {\n            if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            const computedHeight = getComputedStyle(this.element).minHeight;\n            const computedWidth = getComputedStyle(this.element).minWidth;\n            let direction = '';\n            for (let i = 0; i < this.resizeHandles.length; i++) {\n                if (this.resizeHandles[i] === 'All') {\n                    direction = 'south north east west north-east north-west south-east south-west';\n                    break;\n                }\n                else {\n                    let directionValue = '';\n                    switch (this.resizeHandles[i].toString()) {\n                        case 'SouthEast':\n                            directionValue = 'south-east';\n                            break;\n                        case 'SouthWest':\n                            directionValue = 'south-west';\n                            break;\n                        case 'NorthEast':\n                            directionValue = 'north-east';\n                            break;\n                        case 'NorthWest':\n                            directionValue = 'north-west';\n                            break;\n                        default:\n                            directionValue = this.resizeHandles[i].toString();\n                            break;\n                    }\n                    direction += directionValue.toLocaleLowerCase() + ' ';\n                }\n            }\n            if (this.enableRtl && direction.trim() === 'south-east') {\n                direction = 'south-west';\n            }\n            else if (this.enableRtl && direction.trim() === 'south-west') {\n                direction = 'south-east';\n            }\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this),\n                proxy: this\n            });\n            this.wireWindowResizeEvent();\n        }\n        else {\n            removeResize();\n            this.unWireWindowResizeEvent();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    }\n    getFocusElement(target) {\n        const value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n        const items = target.querySelectorAll(value);\n        return { element: items[items.length - 1] };\n    }\n    /* istanbul ignore next */\n    keyDown(event) {\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                let buttonObj;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if ((isNullOrUndefined(this.btnObj)) && (!isNullOrUndefined(this.ftrTemplateContent))) {\n                    buttonObj = this.getFocusElement(this.ftrTemplateContent);\n                }\n                if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n                    buttonObj = this.getFocusElement(this.contentEle);\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        const element = document.activeElement;\n        const isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        let isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n            // 'document.querySelector' is used to find the elements rendered based on body\n            if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n                this.hide(event);\n            }\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            let buttonIndex;\n            // eslint-disable-next-line\n            const firstPrimary = this.buttons.some((data, index) => {\n                buttonIndex = index;\n                // eslint-disable-next-line\n                let buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex].click) === 'function') {\n                setTimeout(() => {\n                    this.buttons[buttonIndex].click.call(this, event);\n                });\n            }\n        }\n    }\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    initialize() {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    }\n    /**\n     * Initialize the rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    initRender() {\n        this.initialRender = true;\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n            this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            this.renderCloseIcon();\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            for (let i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n                if (childNodes[i].classList.contains('e-dlg-overlay')) {\n                    this.dlgOverlay = childNodes[i];\n                }\n            }\n        }\n        if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true\n            && !isNullOrUndefined(this.element.parentElement)) {\n            const parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n            this.refElement = this.createElement('div', { className: DLG_REF_ELEMENT });\n            parentEle.insertBefore(this.refElement, (this.isModal ? this.dlgContainer : this.element));\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            // eslint-disable-next-line\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            enableRtl: this.enableRtl,\n            // eslint-disable-next-line\n            open: (event) => {\n                // eslint-disable-next-line\n                const eventArgs = {\n                    container: this.isModal ? this.dlgContainer : this.element,\n                    element: this.element,\n                    target: this.target,\n                    preventFocus: false\n                };\n                if (this.enableResize) {\n                    this.resetResizeIcon();\n                }\n                // eslint-disable-next-line\n                this.trigger('open', eventArgs, (openEventArgs) => {\n                    if (!openEventArgs.preventFocus) {\n                        this.focusContent();\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            close: (event) => {\n                if (this.isModal) {\n                    addClass([this.dlgOverlay], 'e-fade');\n                }\n                this.unBindEvent(this.element);\n                if (this.isModal) {\n                    this.dlgContainer.style.display = 'none';\n                }\n                this.trigger('close', this.closeArgs);\n                const activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(this.storeActiveElement) && !isNullOrUndefined(this.storeActiveElement.focus)) {\n                    this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    }\n    resetResizeIcon() {\n        const dialogConHeight = this.getMinHeight();\n        if (this.targetEle.offsetHeight < dialogConHeight) {\n            const className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n            const resizeIcon = this.element.querySelector('.' + className);\n            if (!isNullOrUndefined(resizeIcon)) {\n                resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n            }\n        }\n    }\n    setOverlayZindex(zIndexValue) {\n        let zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    }\n    positionChange() {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    }\n    setPopupPosition() {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    }\n    setAllowDragging() {\n        const handleContent = '.' + DLG_HEADER_CONTENT;\n        if (!this.element.classList.contains(DLG_DRAG)) {\n            this.dragObj = new Draggable(this.element, {\n                clone: false,\n                isDragScroll: true,\n                abort: '.e-dlg-closeicon-btn',\n                handle: handleContent,\n                // eslint-disable-next-line\n                dragStart: (event) => {\n                    // eslint-disable-next-line\n                    this.trigger('dragStart', event, (dragEventArgs) => {\n                        if (isBlazor()) {\n                            dragEventArgs.bindEvents(event.dragElement);\n                        }\n                    });\n                },\n                // eslint-disable-next-line\n                dragStop: (event) => {\n                    if (this.isModal) {\n                        if (!isNullOrUndefined(this.position)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + this.position.X + '-' + this.position.Y);\n                        }\n                        // Reset the dialog position after drag completion.\n                        this.element.style.position = 'relative';\n                    }\n                    this.trigger('dragStop', event);\n                    this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n                },\n                // eslint-disable-next-line\n                drag: (event) => {\n                    this.trigger('drag', event);\n                }\n            });\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.dragObj.dragArea = this.targetEle;\n            }\n        }\n    }\n    setButton() {\n        if (!this.isBlazorServerRender()) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            // eslint-disable-next-line\n            for (let i = 0; i < this.buttons.length; i++) {\n                const buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                const btn = this.createElement('button', { attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        let footerBtn;\n        for (let i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n            if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n                footerBtn = childNodes[i].querySelectorAll('button');\n            }\n        }\n        for (let i = 0; i < this.buttons.length; i++) {\n            if (!this.isBlazorServerRender()) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (this.isBlazorServerRender()) {\n                this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n            }\n            if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n                }\n                if (typeof (this.buttons[i].click) === 'object') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n                }\n            }\n            if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                if (this.buttons[i].isFlat) {\n                    this.btnObj[i].element.classList.add('e-flat');\n                }\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    }\n    buttonClickHandler(index) {\n        this.trigger('buttons[' + index + '].click', {});\n    }\n    setContent() {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            // eslint-disable-next-line\n            if (typeof (this.content) === 'string' && !isBlazor()) {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n                this.element.style.width = formatUnit(this.width);\n            }\n            this.setMaxHeight();\n        }\n    }\n    setTemplate(template, toElement, prop) {\n        // eslint-disable-next-line\n        let templateFn;\n        let templateProps;\n        // eslint-disable-next-line\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        let templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template === 'string') || (typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            if ((typeof template === 'string')) {\n                template = this.sanitizeHelper(template);\n            }\n            if (this.isVue || typeof template !== 'string') {\n                templateFn = compile(template);\n                templateValue = template;\n            }\n            else {\n                toElement.innerHTML = template;\n            }\n        }\n        const fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            const isString = (isBlazor() &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (const item of templateFn({}, this, prop, templateProps, isString)) {\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n        }\n    }\n    /*\n     * @returns {void}\n     * @hidden\n     * @value\n     */\n    sanitizeHelper(value) {\n        if (this.enableHtmlSanitizer) {\n            const dialogItem = SanitizeHtmlHelper.beforeSanitize();\n            const beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(dialogItem, dialogItem, beforeEvent);\n            this.trigger('beforeSanitizeHtml', dialogItem);\n            if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n                value = dialogItem.helper(value);\n            }\n            else if (!dialogItem.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n            }\n        }\n        return value;\n    }\n    setMaxHeight() {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        const display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n        if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle)\n            && this.element.offsetHeight < this.contentEle.offsetHeight) {\n            this.element.style.height = 'inherit';\n        }\n    }\n    setEnableRTL() {\n        if (!this.isBlazorServerRender()) {\n            // eslint-disable-next-line\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    }\n    setTargetContent() {\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            const isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach((el) => {\n                    if (el.nodeType !== 8) {\n                        this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    }\n    setHeader() {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle, 'header');\n        attributes(this.element, { 'aria-labelledby': this.element.id });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    }\n    setFooterTemplate() {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    }\n    createHeaderContent() {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { id: this.element.id + '_dialog-header', className: DLG_HEADER_CONTENT });\n        }\n    }\n    renderCloseIcon() {\n        if (this.showCloseIcon) {\n            this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n            this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n            this.closeIconTitle();\n            if (!isNullOrUndefined(this.headerContent)) {\n                prepend([this.closeIcon], this.headerContent);\n            }\n            else {\n                this.createHeaderContent();\n                prepend([this.closeIcon], this.headerContent);\n                this.element.insertBefore(this.headerContent, this.element.children[0]);\n            }\n            this.closeIconBtnObj.appendTo(this.closeIcon);\n        }\n    }\n    closeIconTitle() {\n        this.l10n.setLocale(this.locale);\n        const closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    }\n    setCSSClass(oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    }\n    setIsModal() {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    }\n    getValidFocusNode(items) {\n        let node;\n        for (let u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n            else {\n                node = null;\n            }\n        }\n        return node;\n    }\n    focusableElements(content) {\n        if (!isNullOrUndefined(content)) {\n            const value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            const items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    }\n    getAutoFocusNode(container) {\n        let node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        const value = '[autofocus]';\n        const items = container.querySelectorAll(value);\n        let validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    }\n    disableElement(element, t) {\n        // eslint-disable-next-line\n        const elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    }\n    focusContent() {\n        const element = this.getAutoFocusNode(this.element);\n        const node = !isNullOrUndefined(element) ? element : this.element;\n        const userAgent = Browser.userAgent;\n        if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n            this.element.focus();\n        }\n        node.focus();\n        this.bindEvent(this.element);\n    }\n    bindEvent(element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    }\n    unBindEvent(element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    }\n    updateSanitizeContent() {\n        if (!this.isBlazorServerRender()) {\n            this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n        }\n    }\n    isBlazorServerRender() {\n        return isBlazor() && this.isServerRendered;\n    }\n    /**\n     * Module required function\n     *\n     * @returns {void}\n     * @private\n     */\n    getModuleName() {\n        return 'dialog';\n    }\n    /**\n     * Called internally if any of the property value changed\n     *\n     * @param {DialogModel} newProp - specifies the new property\n     * @param {DialogModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    onPropertyChanged(newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (this.isBlazorServerRender()) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!this.isBlazorServerRender()) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            // eslint-disable-next-line\n                            if (typeof (this.content) === 'function') {\n                                this.clearTemplate(['content']);\n                                detach(this.contentEle);\n                                this.contentEle = null;\n                                this.setContent();\n                            }\n                            else {\n                                typeof (this.content) === 'string' ? (this.isBlazorServerRender() && (this.contentEle.innerText === '')) ?\n                                    this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                    this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n                            }\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!this.isBlazorServerRender() ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (this.isBlazorServerRender()) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender()) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    // eslint-disable-next-line\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons': {\n                    const buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (let i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                }\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.setTarget(newProp.target);\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        const positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        const positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n                case 'minHeight':\n                    if (this.minHeight !== '') {\n                        this.element.style.minHeight = formatUnit(this.minHeight);\n                    }\n                    break;\n            }\n        }\n    }\n    setTarget(target) {\n        this.popupObj.relateTo = target;\n        this.target = target;\n        this.targetEle = ((typeof this.target) === 'string') ?\n            document.querySelector(this.target) : this.target;\n        if (this.dragObj) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n        this.setMaxHeight();\n        if (this.isModal) {\n            this.updateIsModal();\n        }\n        if (this.enableResize) {\n            this.setResize();\n        }\n    }\n    updateIsModal() {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            if (isNullOrUndefined(this.dlgOverlay)) {\n                this.setIsModal();\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    this.targetEle.appendChild(this.dlgContainer);\n                }\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    }\n    setzIndex(zIndexElement, setPopupZindex) {\n        const prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    }\n    windowResizeHandler() {\n        setMaxWidth(this.targetEle.clientWidth);\n        setMaxHeight(this.targetEle.clientHeight);\n        this.setMaxHeight();\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {void}\n     * @private\n     */\n    getPersistData() {\n        return this.addOnPersist([]);\n    }\n    /**\n     * To destroy the widget\n     *\n     * @returns {void}\n     */\n    destroy() {\n        if (this.isDestroyed) {\n            return;\n        }\n        const classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n        const attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n        removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n        if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n        }\n        if (this.isModal) {\n            removeClass([(!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body)], SCROLL_DISABLED);\n        }\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.btnObj)) {\n            for (let i = 0; i < this.btnObj.length; i++) {\n                this.btnObj[i].destroy();\n            }\n        }\n        if (!isNullOrUndefined(this.dragObj)) {\n            this.dragObj.destroy();\n        }\n        if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], classArray);\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n            this.refElement.parentElement.insertBefore((this.isModal ? this.dlgContainer : this.element), this.refElement);\n            detach(this.refElement);\n            this.refElement = undefined;\n        }\n        if (this.isModal && !this.isBlazorServerRender()) {\n            detach(this.dlgOverlay);\n            this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n            detach(this.dlgContainer);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.element.innerHTML = this.clonedEle.innerHTML;\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.element.children)) {\n                for (let i = 0; i <= this.element.children.length; i++) {\n                    i = i - i;\n                    detach(this.element.children[i]);\n                }\n            }\n        }\n        for (let i = 0; i < attrs.length; i++) {\n            this.element.removeAttribute(attrs[i]);\n        }\n        if (!this.isBlazorServerRender()) {\n            super.destroy();\n        }\n        else {\n            this.isDestroyed = true;\n        }\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    }\n    wireWindowResizeEvent() {\n        window.addEventListener('resize', this.windowResizeHandler.bind(this));\n    }\n    unWireWindowResizeEvent() {\n        window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n    }\n    /**\n     * Binding event to the element while widget creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    wireEvents() {\n        if (this.isBlazorServerRender() && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    }\n    /**\n     * Unbinding event to the element while widget destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    unWireEvents() {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            for (let i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    }\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     *\n     * @returns {void}\n     */\n    refreshPosition() {\n        this.popupObj.refreshPosition();\n    }\n    /**\n     * Returns the current width and height of the Dialog\n     *\n     * @returns {DialogDimension}\n     * @public\n     */\n    getDimension() {\n        const dialogWidth = this.element.offsetWidth;\n        const dialogHeight = this.element.offsetHeight;\n        return { width: dialogWidth, height: dialogHeight };\n    }\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     *\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @returns {void}\n     */\n    show(isFullScreen) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            const eventArgs = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs, (beforeOpenArgs) => {\n                if (!beforeOpenArgs.cancel) {\n                    if (this.element.style.maxHeight !== eventArgs.maxHeight) {\n                        this.allowMaxHeight = false;\n                        this.element.style.maxHeight = eventArgs.maxHeight;\n                    }\n                    this.storeActiveElement = document.activeElement;\n                    this.element.tabIndex = -1;\n                    if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                        this.dlgOverlay.style.display = 'block';\n                        this.dlgContainer.style.display = 'flex';\n                        removeClass([this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(this.targetEle)) {\n                            if (this.targetEle === document.body) {\n                                this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                this.dlgContainer.style.position = 'absolute';\n                            }\n                            this.dlgOverlay.style.position = 'absolute';\n                            this.element.style.position = 'relative';\n                            addClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                        else {\n                            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    const openAnimation = {\n                        name: this.animationSettings.effect + 'In',\n                        duration: this.animationSettings.duration,\n                        delay: this.animationSettings.delay\n                    };\n                    const zIndexElement = (this.isModal) ? this.element.parentElement : this.element;\n                    if (this.calculatezIndex) {\n                        this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n                        if (this.isModal) {\n                            this.setOverlayZindex(this.zIndex);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n                    this.dialogOpen = true;\n                    const prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.visible = true;\n                    this.preventVisibility = true;\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    }\n    /**\n     * Closes the dialog if it is in visible state.\n     *\n     * @param { Event } event - specifies the event\n     * @returns {void}\n     */\n    hide(event) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            const eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event,\n                closedBy: this.dlgClosedBy\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, (beforeCloseArgs) => {\n                if (!beforeCloseArgs.cancel) {\n                    if (this.isModal) {\n                        if (!isNullOrUndefined(this.targetEle)) {\n                            removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    if (document.body.classList.contains(DLG_TARGET) &&\n                        document.body.classList.contains(SCROLL_DISABLED)) {\n                        removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                    }\n                    // eslint-disable-next-line\n                    const closeAnimation = {\n                        name: this.animationSettings.effect + 'Out',\n                        duration: this.animationSettings.duration,\n                        delay: this.animationSettings.delay\n                    };\n                    // eslint-disable-next-line\n                    this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n                    this.dialogOpen = false;\n                    const prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.visible = false;\n                    this.preventVisibility = false;\n                    this.isProtectedOnChange = prevOnChange;\n                }\n                this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        }\n    }\n    // eslint-disable-next-line\n    /**\n     * Specifies to view the Full screen Dialog.\n     *\n     * @returns {void}\n     * @private\n     */\n    fullScreen(args) {\n        /* eslint-disable */\n        const top = this.element.offsetTop;\n        const left = this.element.offsetLeft;\n        /* eslint-enable */\n        if (args) {\n            this.element.style.top = document.scrollingElement.scrollTop + 'px';\n            addClass([this.element], FULLSCREEN);\n            const display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    }\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     *\n     * @param { number } index - Index of the button.\n     * @returns {Button} - returns the button element\n     */\n    getButtons(index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    }\n};\n__decorate$1([\n    Property('')\n], Dialog.prototype, \"content\", void 0);\n__decorate$1([\n    Property(true)\n], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$1([\n    Property(false)\n], Dialog.prototype, \"showCloseIcon\", void 0);\n__decorate$1([\n    Property(false)\n], Dialog.prototype, \"isModal\", void 0);\n__decorate$1([\n    Property('')\n], Dialog.prototype, \"header\", void 0);\n__decorate$1([\n    Property(true)\n], Dialog.prototype, \"visible\", void 0);\n__decorate$1([\n    Property(false)\n], Dialog.prototype, \"enableResize\", void 0);\n__decorate$1([\n    Property(['South-East'])\n], Dialog.prototype, \"resizeHandles\", void 0);\n__decorate$1([\n    Property('auto')\n], Dialog.prototype, \"height\", void 0);\n__decorate$1([\n    Property('')\n], Dialog.prototype, \"minHeight\", void 0);\n__decorate$1([\n    Property('100%')\n], Dialog.prototype, \"width\", void 0);\n__decorate$1([\n    Property('')\n], Dialog.prototype, \"cssClass\", void 0);\n__decorate$1([\n    Property(1000)\n], Dialog.prototype, \"zIndex\", void 0);\n__decorate$1([\n    Property(null)\n], Dialog.prototype, \"target\", void 0);\n__decorate$1([\n    Property('')\n], Dialog.prototype, \"footerTemplate\", void 0);\n__decorate$1([\n    Property(false)\n], Dialog.prototype, \"allowDragging\", void 0);\n__decorate$1([\n    Collection([{}], ButtonProps)\n], Dialog.prototype, \"buttons\", void 0);\n__decorate$1([\n    Property(true)\n], Dialog.prototype, \"closeOnEscape\", void 0);\n__decorate$1([\n    Complex({}, AnimationSettings)\n], Dialog.prototype, \"animationSettings\", void 0);\n__decorate$1([\n    Complex({ X: 'center', Y: 'center' }, PositionData)\n], Dialog.prototype, \"position\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"created\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"open\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"beforeOpen\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"close\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"beforeClose\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"dragStart\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"dragStop\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"drag\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"overlayClick\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"resizeStart\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"resizing\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"resizeStop\", void 0);\n__decorate$1([\n    Event()\n], Dialog.prototype, \"destroyed\", void 0);\nDialog = __decorate$1([\n    NotifyPropertyChanges\n], Dialog);\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nvar DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {AlertDialogArgs} args - specifies the string\n     * @returns {Dialog} - returns the dialog element.\n     */\n    function alert(args) {\n        // eslint-disable-next-line\n        const dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        let alertDialogObj;\n        const okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = () => {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {ConfirmDialogArgs} args - specifies the args\n     * @returns {Dialog} - returns te element\n     */\n    function confirm(args) {\n        // eslint-disable-next-line\n        const dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        let confirmDialogObj;\n        const okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = () => {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    // eslint-disable-next-line\n    function createDialog(options, element) {\n        const dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    // eslint-disable-next-line\n    function alertOptions(option) {\n        let options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function confirmOptions(option) {\n        let options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        return options;\n    }\n    // eslint-disable-next-line\n    function setAlertButtonModel(options, option) {\n        const alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function setConfirmButtonModel(options, option) {\n        const okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        const cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        const buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n\n/**\n * Dialog Component\n */\n\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nconst TOUCHEND_HIDE_DELAY = 1500;\nconst TAPHOLD_THRESHOLD = 500;\nconst SHOW_POINTER_TIP_GAP = 0;\nconst HIDE_POINTER_TIP_GAP = 8;\nconst MOUSE_TRAIL_GAP = 2;\nconst POINTER_ADJUST = 2;\nconst ROOT$1 = 'e-tooltip';\nconst RTL$1 = 'e-rtl';\nconst DEVICE$1 = 'e-bigger';\nconst ICON$1 = 'e-icons';\nconst CLOSE = 'e-tooltip-close';\nconst TOOLTIP_WRAP = 'e-tooltip-wrap';\nconst CONTENT = 'e-tip-content';\nconst ARROW_TIP = 'e-arrow-tip';\nconst ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nconst ARROW_TIP_INNER = 'e-arrow-tip-inner';\nconst TIP_BOTTOM = 'e-tip-bottom';\nconst TIP_TOP = 'e-tip-top';\nconst TIP_LEFT = 'e-tip-left';\nconst TIP_RIGHT = 'e-tip-right';\nconst POPUP_ROOT$1 = 'e-popup';\nconst POPUP_OPEN = 'e-popup-open';\nconst POPUP_CLOSE = 'e-popup-close';\nconst POPUP_LIB = 'e-lib';\nconst HIDE_POPUP = 'e-hidden';\nconst POPUP_CONTAINER = 'e-tooltip-popup-container';\nclass Animation$1 extends ChildProperty {\n}\n__decorate$2([\n    Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n], Animation$1.prototype, \"open\", void 0);\n__decorate$2([\n    Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n], Animation$1.prototype, \"close\", void 0);\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nlet Tooltip = class Tooltip extends Component {\n    /* eslint-enable */\n    /**\n     * Constructor for creating the Tooltip Component\n     *\n     * @param {TooltipModel} options - specifies the options for the constructor\n     * @param {string| HTMLElement} element - specifies the element for the constructor\n     *\n     */\n    constructor(options, element) {\n        super(options, element);\n        this.mouseMoveEvent = null;\n        this.mouseMoveTarget = null;\n        this.containerElement = null;\n        this.isBodyContainer = true;\n    }\n    initialize() {\n        this.formatPosition();\n        addClass([this.element], ROOT$1);\n    }\n    formatPosition() {\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            [this.tooltipPositionY, this.tooltipPositionX] = this.position.split(/(?=[A-Z])/);\n        }\n        else {\n            [this.tooltipPositionX, this.tooltipPositionY] = this.position.split(/(?=[A-Z])/);\n        }\n    }\n    renderArrow() {\n        this.setTipClass(this.position);\n        const tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    }\n    setTipClass(position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    }\n    renderPopup(target) {\n        const elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    }\n    getTooltipPosition(target) {\n        this.tooltipEle.style.display = 'block';\n        const pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n        const offsetPos = this.calculateTooltipOffset(this.position);\n        const collisionPosition = this.calculateElementPosition(pos, offsetPos);\n        const collisionLeft = collisionPosition[0];\n        const collisionTop = collisionPosition[1];\n        const elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    }\n    windowResize() {\n        this.reposition(this.findTarget());\n    }\n    reposition(target) {\n        if (this.popupObj && target) {\n            const elePos = this.getTooltipPosition(target);\n            this.popupObj.position = { X: elePos.left, Y: elePos.top };\n            this.popupObj.dataBind();\n        }\n    }\n    openPopupHandler() {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    }\n    closePopupHandler() {\n        this.clearTemplate(['content']);\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    }\n    calculateTooltipOffset(position) {\n        const pos = { top: 0, left: 0 };\n        const tooltipEleWidth = this.tooltipEle.offsetWidth;\n        const tooltipEleHeight = this.tooltipEle.offsetHeight;\n        const arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        const tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        const tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        let tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        const tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        const tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    }\n    updateTipPosition(position) {\n        const selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n        const removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    }\n    adjustArrow(target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        let leftValue;\n        let topValue;\n        this.tooltipEle.style.display = 'block';\n        const tooltipWidth = this.tooltipEle.clientWidth;\n        const tooltipHeight = this.tooltipEle.clientHeight;\n        const arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        const arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n        const tipWidth = arrowEle.offsetWidth;\n        const tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                const tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else if ((tipPosExclude) && (this.tipPointerPosition === 'End' || this.tipPointerPosition === 'Start')) {\n                    leftValue = (this.tipPointerPosition === 'End') ? ((target.offsetWidth + ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2)) - (tipWidth / 2)) - POINTER_ADJUST + 'px' : ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2) - (tipWidth / 2) + POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            const tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    }\n    renderContent(target) {\n        const tooltipContent = select('.' + CONTENT, this.tooltipEle);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                if (this.enableHtmlSanitizer) {\n                    this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                }\n                // eslint-disable-next-line\n                const tempFunction = compile(this.content);\n                const tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    if (this.enableHtmlParse) {\n                        const nodeList = tempArr.length;\n                        for (var i = 0; i < nodeList; i++) {\n                            append(tempArr, tooltipContent);\n                        }\n                    }\n                    else {\n                        tooltipContent['textContent'] = this.content;\n                    }\n                    this.enableHtmlParse ? append(tempArr, tooltipContent) : tooltipContent['textContent'] = this.content;\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                const templateFunction = compile(this.content);\n                const tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    append(tempArr, tooltipContent);\n                }\n                this.renderReactTemplates();\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    }\n    renderCloseIcon() {\n        if (!this.isSticky) {\n            return;\n        }\n        const tipClose = this.createElement('div', { className: ICON$1 + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    }\n    addDescribedBy(target, id) {\n        const describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    }\n    removeDescribedBy(target) {\n        const id = target.getAttribute('data-tooltip-id');\n        const describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        const index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        const orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    }\n    tapHoldHandler(evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    }\n    touchEndHandler(e) {\n        if (this.isSticky) {\n            return;\n        }\n        // eslint-disable-next-line\n        const close = () => {\n            this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    }\n    targetClick(e) {\n        let target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    }\n    targetHover(e) {\n        let target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || (target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0)) {\n            return;\n        }\n        const targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n        for (const target of targetList) {\n            this.restoreElement(target);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    }\n    mouseMoveBeforeOpen(e) {\n        this.mouseMoveEvent = e;\n    }\n    mouseMoveBeforeRemove() {\n        if (this.mouseMoveTarget) {\n            EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n        }\n    }\n    showTooltip(target, showAnimation, e) {\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        if (this.openDelay && this.mouseTrail) {\n            this.mouseMoveBeforeRemove();\n            this.mouseMoveTarget = target;\n            EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // eslint-disable-next-line\n        const observeCallback = (beforeRenderArgs) => {\n            this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    }\n    beforeRenderCallback(beforeRenderArgs, target, e, showAnimation) {\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                this.ctrlId = this.element.getAttribute('id') ?\n                    getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                this.tooltipEle = this.createElement('div', {\n                    className: TOOLTIP_WRAP + ' ' + POPUP_ROOT$1 + ' ' + POPUP_LIB, attrs: {\n                        role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                    }, styles: 'width:' +\n                        formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                });\n                this.tooltipBeforeRender(target, this);\n                this.tooltipAfterRender(target, e, showAnimation, this);\n            }\n            else {\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDescribedBy(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    Animation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.tooltipAfterRender(target, e, showAnimation, this);\n                }\n            }\n        }\n    }\n    appendContainer(ctrlObj) {\n        if (typeof this.container == 'string') {\n            if (this.container === 'body') {\n                this.containerElement = document.body;\n            }\n            else {\n                this.isBodyContainer = false;\n                this.containerElement = select(this.container, document);\n            }\n        }\n        else if (this.container instanceof HTMLElement) {\n            this.containerElement = this.container;\n            this.isBodyContainer = this.containerElement.tagName === 'BODY';\n        }\n        if (!this.isBodyContainer) {\n            addClass([this.containerElement], POPUP_CONTAINER);\n        }\n        this.containerElement.appendChild(ctrlObj.tooltipEle);\n    }\n    tooltipBeforeRender(target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE$1);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            this.appendContainer(ctrlObj);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            Animation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    }\n    tooltipAfterRender(target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            // eslint-disable-next-line\n            const observeCallback = (observedArgs) => {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    }\n    beforeOpenCallback(observedArgs, target, showAnimation, e) {\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n            this.restoreElement(target);\n        }\n        else {\n            // eslint-disable-next-line\n            let openAnimation = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation = undefined;\n            }\n            if (this.openDelay > 0) {\n                // eslint-disable-next-line\n                const show = () => {\n                    if (this.mouseTrail) {\n                        EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n                    }\n                    if (this.popupObj) {\n                        this.popupObj.show(openAnimation, target);\n                        if (this.mouseMoveEvent && this.mouseTrail) {\n                            this.onMouseMove(this.mouseMoveEvent);\n                        }\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    }\n    needTemplateReposition() {\n        // eslint-disable-next-line\n        const tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string';\n    }\n    checkCollision(target, x, y) {\n        const elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        const affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    }\n    calculateElementPosition(pos, offsetPos) {\n        return [this.isBodyContainer ? pos.left + offsetPos.left :\n                (pos.left - this.containerElement.offsetLeft) + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft,\n            this.isBodyContainer ? pos.top + offsetPos.top :\n                (pos.top - this.containerElement.offsetTop) + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n    }\n    collisionFlipFit(target, x, y) {\n        const elePos = this.checkCollision(target, x, y);\n        let newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        const elePosVertical = elePos.vertical;\n        const elePosHorizontal = elePos.horizontal;\n        if (elePos.position !== newpos) {\n            const pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n            const offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n            offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n            elePos.position = newpos;\n            const elePosition = this.calculateElementPosition(pos, offsetPos);\n            elePos.left = elePosition[0];\n            elePos.top = elePosition[1];\n        }\n        else {\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n        }\n        const eleOffset = { left: elePos.left, top: elePos.top };\n        const left = this.isBodyContainer ?\n            fit(this.tooltipEle, this.checkCollideTarget(), { X: true, Y: false }, eleOffset).left : eleOffset.left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            const arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n            let arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    }\n    getOffSetPosition(positionString, newPos, offsetType) {\n        return ((positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n            (positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * offsetType) : 0;\n    }\n    checkCollideTarget() {\n        return !this.windowCollision && this.target ? this.element : null;\n    }\n    hideTooltip(hideAnimation, e, targetElement) {\n        if (this.closeDelay > 0) {\n            clearTimeout(this.hideTimer);\n            clearTimeout(this.showTimer);\n            // eslint-disable-next-line\n            const hide = () => {\n                if (this.closeDelay && this.tooltipEle && this.isTooltipOpen) {\n                    return;\n                }\n                this.tooltipHide(hideAnimation, e, targetElement);\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            this.tooltipHide(hideAnimation, e, targetElement);\n        }\n    }\n    tooltipHide(hideAnimation, e, targetElement) {\n        let target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, (observedArgs) => {\n            if (!observedArgs.cancel) {\n                this.mouseMoveBeforeRemove();\n                this.popupHide(hideAnimation, target);\n            }\n            else {\n                this.isHidden = false;\n            }\n        });\n    }\n    popupHide(hideAnimation, target) {\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        // eslint-disable-next-line\n        let closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide(closeAnimation);\n        }\n    }\n    restoreElement(target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    }\n    clear() {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    }\n    tooltipHover(e) {\n        if (this.tooltipEle) {\n            this.isTooltipOpen = true;\n        }\n    }\n    tooltipMouseOut(e) {\n        this.isTooltipOpen = false;\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n    }\n    onMouseOut(e) {\n        const enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            const checkForTooltipElement = closest(enteredElement, `.${TOOLTIP_WRAP}.${POPUP_LIB}.${POPUP_ROOT$1}`);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    }\n    tooltipElementMouseOut(e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    }\n    onStickyClose(e) {\n        this.close();\n    }\n    onMouseMove(event) {\n        let eventPageX = 0;\n        let eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        Animation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        const pos = this.calculateTooltipOffset(this.position);\n        const x = eventPageX + pos.left + this.offsetX;\n        const y = eventPageY + pos.top + this.offsetY;\n        const elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            const newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            const colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    }\n    keyDown(event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    }\n    touchEnd(e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT$1) === null && !this.isSticky) {\n            this.close();\n        }\n    }\n    scrollHandler(e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, `.${TOOLTIP_WRAP}.${POPUP_LIB}.${POPUP_ROOT$1}`))) {\n                this.close();\n            }\n        }\n    }\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    render() {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    }\n    /**\n     * Initializes the values of private members.\n     *\n     * @private\n     * @returns {void}\n     */\n    preRender() {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    }\n    /**\n     * Binding events to the Tooltip element.\n     *\n     * @hidden\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    wireEvents(trigger) {\n        const triggerList = this.getTriggerList(trigger);\n        for (const opensOn of triggerList) {\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    }\n    getTriggerList(trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    }\n    wireFocusEvents() {\n        if (!isNullOrUndefined(this.target)) {\n            const targetList = [].slice.call(selectAll(this.target, this.element));\n            for (const target of targetList) {\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    }\n    wireMouseEvents(e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n                if (this.closeDelay) {\n                    EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n                    EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n                }\n            }\n            if (this.mouseTrail && this.openDelay === 0) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    }\n    /**\n     * Unbinding events from the element on widget destroy.\n     *\n     * @hidden\n     *\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    unwireEvents(trigger) {\n        const triggerList = this.getTriggerList(trigger);\n        for (const opensOn of triggerList) {\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    }\n    unwireFocusEvents() {\n        if (!isNullOrUndefined(this.target)) {\n            const targetList = [].slice.call(selectAll(this.target, this.element));\n            for (const target of targetList) {\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    }\n    unwireMouseEvents(target) {\n        if (!this.isSticky) {\n            const triggerList = this.getTriggerList(this.opensOn);\n            for (const opensOn of triggerList) {\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n            if (this.closeDelay) {\n                EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n                EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    }\n    findTarget() {\n        const target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        return target;\n    }\n    /**\n     * Core method to return the component name.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns module name.\n     */\n    getModuleName() {\n        return 'tooltip';\n    }\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns persisted data.\n     */\n    getPersistData() {\n        return this.addOnPersist([]);\n    }\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @private\n     *\n     * @param {TooltipModel} newProp - this param gives new property values to the method\n     * @param {TooltipModel} oldProp - this param gives old property values to the method\n     * @returns {void}\n     *\n     */\n    onPropertyChanged(newProp, oldProp) {\n        const targetElement = this.findTarget();\n        for (const prop of Object.keys(newProp)) {\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        const arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        const x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        const y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL$1);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL$1);\n                        }\n                    }\n                    break;\n                case 'container':\n                    if (!isNullOrUndefined(this.containerElement)) {\n                        removeClass([this.containerElement], POPUP_CONTAINER);\n                    }\n                    this.container = newProp.container;\n                    if (this.tooltipEle && targetElement) {\n                        this.appendContainer(this);\n                        this.reposition(targetElement);\n                    }\n            }\n        }\n    }\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     *\n     * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    open(element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    }\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     *\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    close(animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    }\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     *\n     * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n     * @returns {void}\n     */\n    refresh(target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    }\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @returns {void}\n     * @memberof Tooltip\n     */\n    destroy() {\n        super.destroy();\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT$1);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n    }\n};\n__decorate$2([\n    Property('auto')\n], Tooltip.prototype, \"width\", void 0);\n__decorate$2([\n    Property('auto')\n], Tooltip.prototype, \"height\", void 0);\n__decorate$2([\n    Property()\n], Tooltip.prototype, \"content\", void 0);\n__decorate$2([\n    Property('body')\n], Tooltip.prototype, \"container\", void 0);\n__decorate$2([\n    Property()\n], Tooltip.prototype, \"target\", void 0);\n__decorate$2([\n    Property('TopCenter')\n], Tooltip.prototype, \"position\", void 0);\n__decorate$2([\n    Property(0)\n], Tooltip.prototype, \"offsetX\", void 0);\n__decorate$2([\n    Property(0)\n], Tooltip.prototype, \"offsetY\", void 0);\n__decorate$2([\n    Property(true)\n], Tooltip.prototype, \"showTipPointer\", void 0);\n__decorate$2([\n    Property(true)\n], Tooltip.prototype, \"enableHtmlParse\", void 0);\n__decorate$2([\n    Property(false)\n], Tooltip.prototype, \"windowCollision\", void 0);\n__decorate$2([\n    Property('Auto')\n], Tooltip.prototype, \"tipPointerPosition\", void 0);\n__decorate$2([\n    Property('Auto')\n], Tooltip.prototype, \"opensOn\", void 0);\n__decorate$2([\n    Property(false)\n], Tooltip.prototype, \"mouseTrail\", void 0);\n__decorate$2([\n    Property(false)\n], Tooltip.prototype, \"isSticky\", void 0);\n__decorate$2([\n    Complex({}, Animation$1)\n], Tooltip.prototype, \"animation\", void 0);\n__decorate$2([\n    Property(0)\n], Tooltip.prototype, \"openDelay\", void 0);\n__decorate$2([\n    Property(0)\n], Tooltip.prototype, \"closeDelay\", void 0);\n__decorate$2([\n    Property()\n], Tooltip.prototype, \"cssClass\", void 0);\n__decorate$2([\n    Property(false)\n], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"beforeRender\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"beforeOpen\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"afterOpen\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"beforeClose\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"afterClose\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"beforeCollision\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"created\", void 0);\n__decorate$2([\n    Event()\n], Tooltip.prototype, \"destroyed\", void 0);\nTooltip = __decorate$2([\n    NotifyPropertyChanges\n], Tooltip);\n\n/**\n * Tooltip modules\n */\n\nconst globalTimeOut = {};\nconst DEFT_MAT_WIDTH = 30;\nconst DEFT_FAB_WIDTH = 30;\nconst DEFT_FLUENT_WIDTH = 30;\nconst DEFT_BOOT_WIDTH = 30;\nconst DEFT_BOOT4_WIDTH = 36;\nconst DEFT_BOOT5_WIDTH = 36;\nconst CLS_SHOWSPIN = 'e-spin-show';\nconst CLS_HIDESPIN = 'e-spin-hide';\nconst CLS_MATERIALSPIN = 'e-spin-material';\nconst CLS_FABRICSPIN = 'e-spin-fabric';\nconst CLS_FLUENTSPIN = 'e-spin-fluent';\nconst CLS_TAILWINDSPIN = 'e-spin-tailwind';\nconst CLS_BOOTSPIN = 'e-spin-bootstrap';\nconst CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nconst CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nconst CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nconst CLS_SPINWRAP = 'e-spinner-pane';\nconst CLS_SPININWRAP = 'e-spinner-inner';\nconst CLS_SPINCIRCLE = 'e-path-circle';\nconst CLS_SPINARC = 'e-path-arc';\nconst CLS_SPINLABEL = 'e-spin-label';\nconst CLS_SPINTEMPLATE = 'e-spin-template';\nlet spinTemplate = null;\nlet spinCSSClass = null;\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\nfunction Spinner(action, options, target, type) {\n    switch (action) {\n        case 'Create':\n            /* eslint-disable */\n            const element = document.querySelector(options.target);\n            let args = { type: type, target: element, cssClass: options.cssClass,\n                label: options.label, width: options.width };\n            /* eslint-enable */\n            createSpinner(args);\n            break;\n        case 'Show':\n            showSpinner(document.querySelector(target));\n            break;\n        case 'Hide':\n            hideSpinner(document.querySelector(target));\n            break;\n        case 'Set':\n            // eslint-disable-next-line\n            const setArgs = { cssClass: options.cssClass, type: type };\n            setSpinner(setArgs);\n            break;\n    }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\nfunction createSpinner(args, internalCreateElement) {\n    if (!args.target) {\n        return;\n    }\n    let radius;\n    const makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    // eslint-disable-next-line\n    let container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        const template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        const theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        const width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction createLabel(container, label, makeElement) {\n    const labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.innerHTML = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createMaterialSpinner(container, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n    mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap4', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap5', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\nfunction startMatAnimate(container, uniqueID, radius) {\n    const globalObject = {};\n    const timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    // eslint-disable-next-line\n    let spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFabricSpinner(container, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFluentSinner(container, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fluent', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\nfunction createTailwindSpinner(container, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Tailwind', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\nfunction getTheme(container) {\n    const theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction setTheme(theme, container, radius, makeElement) {\n    const innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    const svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fluent':\n            createFluentSinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap4':\n            createBootstrap4Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap5':\n            createBootstrap5Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            createTailwindSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    const uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    const svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    const viewBoxValue = 64;\n    const trans = 32;\n    const defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (let item = 0; item <= 7; item++) {\n        const bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction boot_calculate_attributes(innerContainer, radius) {\n    const svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    const x = 0;\n    const y = 0;\n    const rad = 24;\n    svg.style.width = svg.style.height = radius + 'px';\n    let startArc = 90;\n    for (let item = 0; item <= 7; item++) {\n        const start = defineArcPoints(x, y, rad, startArc);\n        const circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\nfunction generateSeries(begin, stop) {\n    const series = [];\n    const start = begin;\n    const end = stop;\n    // eslint-disable-next-line\n    let increment = false, count = 1;\n    formSeries(start);\n    /**\n     *\n     * @param {number} i - specifies the number\n     * @returns {void}\n     */\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\nfunction animateBootstrap(innerContainer) {\n    const svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    const id = svg.getAttribute('id');\n    for (let i = 1; i <= 8; i++) {\n        const circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    /**\n     *\n     * @param {SVGCircleElement} circle - specifies the circl element\n     * @param {number} start - specifies the number\n     * @param {number} end - specifies the end number\n     * @param {number} series - specifies the series\n     * @param {string} id - specifies the id\n     * @returns {void}\n     */\n    function rotation(circle, start, end, series, id) {\n        let count = 0;\n        boot_animate(start);\n        // eslint-disable-next-line\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                // eslint-disable-next-line\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    const inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\nfunction calculateRadius(width, theme) {\n    let defaultSize;\n    switch (theme) {\n        case 'Material':\n            defaultSize = DEFT_MAT_WIDTH;\n            break;\n        case 'Fabric':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Fluent':\n            defaultSize = DEFT_FLUENT_WIDTH;\n            break;\n        case 'Bootstrap4':\n            defaultSize = DEFT_BOOT4_WIDTH;\n            break;\n        case 'Bootstrap5':\n            defaultSize = DEFT_BOOT5_WIDTH;\n            break;\n        default:\n            defaultSize = DEFT_BOOT_WIDTH;\n    }\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\nfunction random_generator() {\n    let random = '';\n    const combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (let i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    const svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    const fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    const fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n    const svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    const matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    svgMaterial.setAttribute('class', cls);\n    svgMaterial.setAttribute('id', uniqueID);\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_spinner_container(target, makeElement) {\n    const spinnerContainer = makeElement('div', {});\n    const spinnerInnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    // eslint-disable-next-line\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\nfunction animateMaterial(spinnerInfo) {\n    const start = 1;\n    const end = 149;\n    const duration = 1333;\n    const max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    const id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    const startTime = new Date().getTime();\n    const change = end - start;\n    const diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    const strokeSize = getStrokeSize(diameter);\n    const rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    // eslint-disable-next-line\n    function mat_animation(spinnerInfo) {\n        const currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            // eslint-disable-next-line\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    /**\n     *\n     * @param {number} value - specifies the number value\n     * @param {HTMLElement} container - specifies the container\n     * @returns {void}\n     */\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            const svg = container.querySelector('svg.e-spin-material');\n            const path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction mat_calculate_attributes(radius, container, type, cls) {\n    const diameter = radius * 2;\n    const svg = container.querySelector('svg.' + cls);\n    const path = svg.querySelector('path.e-path-circle');\n    const strokeSize = getStrokeSize(diameter);\n    const transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    if (type === 'Material') {\n        path.setAttribute('stroke-width', strokeSize + '');\n        path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n    }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\nfunction getSize(value) {\n    const parsed = parseFloat(value);\n    return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\nfunction drawArc(diameter, strokeSize) {\n    const radius = diameter / 2;\n    const offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\nfunction easeAnimation(current, start, change, duration) {\n    const timestamp = (current /= duration) * current;\n    const timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    const centerX = radius;\n    const centerY = radius;\n    const diameter = radius * 2;\n    // eslint-disable-next-line\n    const startArc = 315, endArc = 45;\n    const svg = innerConainer.querySelector('.' + trgClass);\n    const circle = svg.querySelector('.e-path-circle');\n    const path = svg.querySelector('.e-path-arc');\n    const transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    const radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArc(x, y, radius, startArc, endArc) {\n    const start = defineArcPoints(x, y, radius, endArc);\n    const end = defineArcPoints(x, y, radius, startArc);\n    const d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\nfunction defineCircle(x, y, radius) {\n    const d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0\n    ].join(' ');\n    return d;\n}\n// eslint-disable-next-line\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nfunction showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\nfunction showHideSpinner(container, isHide) {\n    let spinnerWrap;\n    if (container) {\n        spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n            container.querySelector('.' + CLS_SPINWRAP);\n    }\n    if (container && spinnerWrap) {\n        const inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n        let spinCheck;\n        // eslint-disable-next-line\n        spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n            !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n        if (spinCheck) {\n            const svgEle = spinnerWrap.querySelector('svg');\n            if (isNullOrUndefined(svgEle)) {\n                return;\n            }\n            const id = svgEle.getAttribute('id');\n            globalTimeOut[id].isAnimate = !isHide;\n            switch (globalTimeOut[id].type) {\n                case 'Material':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                    break;\n                case 'Bootstrap':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                    break;\n            }\n        }\n        // eslint-disable-next-line\n        isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n        container = null;\n    }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nfunction hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\nfunction setSpinner(args, internalCreateElement) {\n    const makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    const container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (let index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    const svgElement = container.querySelector('svg');\n    const radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    const classNames = svgElement.getAttribute('class');\n    const svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        const id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n\n/**\n * spinner modules\n */\n\n/**\n * Popup Components\n */\n\nexport { PositionData, Popup, getScrollableParent, getZindexPartial, getMaxZindex, calculateRelativeBasedPosition, calculatePosition, fit, isCollide, flip, ButtonProps, AnimationSettings, Dialog, DialogUtility, Animation$1 as Animation, Tooltip, Spinner, createSpinner, showSpinner, hideSpinner, setSpinner };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}