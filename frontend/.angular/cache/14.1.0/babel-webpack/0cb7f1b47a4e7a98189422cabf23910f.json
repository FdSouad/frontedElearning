{"ast":null,"code":"import { Ajax, Browser, ChildProperty, Complex, Component, Draggable, Event, EventHandler, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, Touch, addClass, closest, createElement, detach, extend, formatUnit, getUniqueID, getValue, isNullOrUndefined, isVisible, matches, remove, removeClass, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { Splitter } from '@syncfusion/ej2-layouts';\nimport { Dialog, createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input, TextBox, Uploader } from '@syncfusion/ej2-inputs';\nimport { CheckBox, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ContextMenu, Toolbar, TreeView } from '@syncfusion/ej2-navigations';\nimport { ContextMenu as ContextMenu$1, Grid, Resize, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\n\n\nvar AjaxSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(AjaxSettings, _super);\n\n  function AjaxSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(null)], AjaxSettings.prototype, \"downloadUrl\", void 0);\n\n  __decorate([Property(null)], AjaxSettings.prototype, \"getImageUrl\", void 0);\n\n  __decorate([Property(null)], AjaxSettings.prototype, \"uploadUrl\", void 0);\n\n  __decorate([Property(null)], AjaxSettings.prototype, \"url\", void 0);\n\n  return AjaxSettings;\n}(ChildProperty);\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar toolbarItems = ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename', 'SortBy', 'Refresh', 'Selection', 'View', 'Details'];\n/**\n * Specifies the Toolbar settings of the FileManager.\n */\n\nvar ToolbarSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(ToolbarSettings, _super);\n\n  function ToolbarSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$1([Property(toolbarItems)], ToolbarSettings.prototype, \"items\", void 0);\n\n  __decorate$1([Property(true)], ToolbarSettings.prototype, \"visible\", void 0);\n\n  return ToolbarSettings;\n}(ChildProperty);\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Search settings of the File Manager.\n */\n\n\nvar SearchSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(SearchSettings, _super);\n\n  function SearchSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property(true)], SearchSettings.prototype, \"allowSearchOnTyping\", void 0);\n\n  __decorate$2([Property('contains')], SearchSettings.prototype, \"filterType\", void 0);\n\n  __decorate$2([Property(true)], SearchSettings.prototype, \"ignoreCase\", void 0);\n\n  __decorate$2([Property(null)], SearchSettings.prototype, \"placeholder\", void 0);\n\n  return SearchSettings;\n}(ChildProperty);\n\nvar __extends$3 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the columns in the details view of the file manager.\n */\n\n\nvar columnArray = [{\n  field: 'name',\n  headerText: 'Name',\n  minWidth: 120,\n  template: '<span class=\"e-fe-text\">${name}</span>',\n  customAttributes: {\n    class: 'e-fe-grid-name'\n  }\n}, {\n  field: '_fm_modified',\n  headerText: 'DateModified',\n  type: 'dateTime',\n  format: 'MMMM dd, yyyy HH:mm',\n  minWidth: 120,\n  width: '190'\n}, {\n  field: 'size',\n  headerText: 'Size',\n  minWidth: 90,\n  width: '110',\n  template: '<span class=\"e-fe-size\">${size}</span>'\n}];\n/**\n * Specifies the grid settings of the File Manager.\n */\n\nvar DetailsViewSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(DetailsViewSettings, _super);\n\n  function DetailsViewSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$3([Property(true)], DetailsViewSettings.prototype, \"columnResizing\", void 0);\n\n  __decorate$3([Property(columnArray)], DetailsViewSettings.prototype, \"columns\", void 0);\n\n  return DetailsViewSettings;\n}(ChildProperty);\n\nvar __extends$4 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar fileItems = ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Download', 'Rename', '|', 'Details'];\nvar folderItems = ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', 'Download', '|', 'Details'];\nvar layoutItems = ['SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'];\n/**\n * Specifies the ContextMenu settings of the File Manager.\n */\n\nvar ContextMenuSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(ContextMenuSettings, _super);\n\n  function ContextMenuSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$4([Property(fileItems)], ContextMenuSettings.prototype, \"file\", void 0);\n\n  __decorate$4([Property(folderItems)], ContextMenuSettings.prototype, \"folder\", void 0);\n\n  __decorate$4([Property(layoutItems)], ContextMenuSettings.prototype, \"layout\", void 0);\n\n  __decorate$4([Property(true)], ContextMenuSettings.prototype, \"visible\", void 0);\n\n  return ContextMenuSettings;\n}(ChildProperty);\n\nvar __extends$5 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$5 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the navigationpane settings of the File Manager.\n */\n\n\nvar NavigationPaneSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$5(NavigationPaneSettings, _super);\n\n  function NavigationPaneSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$5([Property('650px')], NavigationPaneSettings.prototype, \"maxWidth\", void 0);\n\n  __decorate$5([Property('240px')], NavigationPaneSettings.prototype, \"minWidth\", void 0);\n\n  __decorate$5([Property(true)], NavigationPaneSettings.prototype, \"visible\", void 0);\n\n  __decorate$5([Property('None')], NavigationPaneSettings.prototype, \"sortOrder\", void 0);\n\n  return NavigationPaneSettings;\n}(ChildProperty);\n\nvar __extends$6 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$6 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\n\n\nvar UploadSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$6(UploadSettings, _super);\n\n  function UploadSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$6([Property('')], UploadSettings.prototype, \"allowedExtensions\", void 0);\n\n  __decorate$6([Property(true)], UploadSettings.prototype, \"autoUpload\", void 0);\n\n  __decorate$6([Property(false)], UploadSettings.prototype, \"autoClose\", void 0);\n\n  __decorate$6([Property(false)], UploadSettings.prototype, \"directoryUpload\", void 0);\n\n  __decorate$6([Property(0)], UploadSettings.prototype, \"minFileSize\", void 0);\n\n  __decorate$6([Property(30000000)], UploadSettings.prototype, \"maxFileSize\", void 0);\n\n  return UploadSettings;\n}(ChildProperty);\n\nvar __extends$7 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$7 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Interface for a class Column\n */\n\n/* istanbul ignore next */\n\n\nvar Column =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(Column, _super);\n\n  function Column() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Property('')], Column.prototype, \"field\", void 0);\n\n  __decorate$7([Property('')], Column.prototype, \"headerText\", void 0);\n\n  __decorate$7([Property('')], Column.prototype, \"width\", void 0);\n\n  __decorate$7([Property('')], Column.prototype, \"minWidth\", void 0);\n\n  __decorate$7([Property('')], Column.prototype, \"maxWidth\", void 0);\n\n  __decorate$7([Property('Left')], Column.prototype, \"textAlign\", void 0);\n\n  __decorate$7([Property(null)], Column.prototype, \"headerTextAlign\", void 0);\n\n  __decorate$7([Property(null)], Column.prototype, \"type\", void 0);\n\n  __decorate$7([Property(null)], Column.prototype, \"format\", void 0);\n\n  __decorate$7([Property(null)], Column.prototype, \"template\", void 0);\n\n  __decorate$7([Property(null)], Column.prototype, \"headerTemplate\", void 0);\n\n  __decorate$7([Property(true)], Column.prototype, \"allowSorting\", void 0);\n\n  __decorate$7([Property(true)], Column.prototype, \"allowResizing\", void 0);\n\n  __decorate$7([Property(null)], Column.prototype, \"customAttributes\", void 0);\n\n  __decorate$7([Property('')], Column.prototype, \"hideAtMedia\", void 0);\n\n  __decorate$7([Property(null)], Column.prototype, \"customFormat\", void 0);\n\n  return Column;\n}(ChildProperty);\n/**\n * FileExplorer common modules\n */\n\n/**\n * Specifies the File Manager internal ID's\n */\n\n/** @hidden */\n\n\nvar TOOLBAR_ID = '_toolbar';\n/** @hidden */\n\nvar LAYOUT_ID = '_layout';\n/** @hidden */\n\nvar NAVIGATION_ID = '_navigation';\n/** @hidden */\n\nvar TREE_ID = '_tree';\n/** @hidden */\n\nvar GRID_ID = '_grid';\n/** @hidden */\n\nvar LARGEICON_ID = '_largeicons';\n/** @hidden */\n\nvar DIALOG_ID = '_dialog';\n/** @hidden */\n\nvar ALT_DIALOG_ID = '_alt_dialog';\n/** @hidden */\n\nvar IMG_DIALOG_ID = '_img_dialog';\n/** @hidden */\n\nvar EXTN_DIALOG_ID = '_extn_dialog';\n/** @hidden */\n\nvar UPLOAD_DIALOG_ID = '_upload_dialog';\n/** @hidden */\n\nvar RETRY_DIALOG_ID = '_retry_dialog';\n/** @hidden */\n\nvar CONTEXT_MENU_ID = '_contextmenu';\n/** @hidden */\n\nvar SORTBY_ID = '_sortby';\n/** @hidden */\n\nvar VIEW_ID = '_view';\n/** @hidden */\n\nvar SPLITTER_ID = '_splitter';\n/** @hidden */\n\nvar CONTENT_ID = '_content';\n/** @hidden */\n\nvar BREADCRUMBBAR_ID = '_breadcrumbbar';\n/** @hidden */\n\nvar UPLOAD_ID = '_upload';\n/** @hidden */\n\nvar RETRY_ID = '_retry';\n/** @hidden */\n\nvar SEARCH_ID = '_search';\n/**\n * Specifies the File Manager internal class names\n */\n\n/** @hidden */\n\nvar ROOT = 'e-filemanager';\n/** @hidden */\n\nvar CONTROL = 'e-control';\n/** @hidden */\n\nvar CHECK_SELECT = 'e-fe-cb-select';\n/** @hidden */\n\nvar ROOT_POPUP = 'e-fe-popup';\n/** @hidden */\n\nvar MOBILE = 'e-fe-mobile';\n/** @hidden */\n\nvar MOB_POPUP = 'e-fe-popup e-fe-mobile';\n/** @hidden */\n\nvar MULTI_SELECT = 'e-fe-m-select';\n/** @hidden */\n\nvar FILTER = 'e-fe-m-filter';\n/** @hidden */\n\nvar LAYOUT = 'e-layout';\n/** @hidden */\n\nvar NAVIGATION = 'e-navigation';\n/** @hidden */\n\nvar LAYOUT_CONTENT = 'e-layout-content';\n/** @hidden */\n\nvar LARGE_ICONS = 'e-large-icons';\n/** @hidden */\n\nvar TB_ITEM = 'e-toolbar-item';\n/** @hidden */\n\nvar LIST_ITEM = 'e-list-item';\n/** @hidden */\n\nvar LIST_TEXT = 'e-list-text';\n/** @hidden */\n\nvar LIST_PARENT = 'e-list-parent';\n/** @hidden */\n\nvar TB_OPTION_TICK = 'e-icons e-fe-tick';\n/** @hidden */\n\nvar TB_OPTION_DOT = 'e-icons e-fe-dot';\n/** @hidden */\n\nvar BLUR = 'e-blur';\n/** @hidden */\n\nvar ACTIVE = 'e-active';\n/** @hidden */\n\nvar HOVER = 'e-hover';\n/** @hidden */\n\nvar FOCUS = 'e-focus';\n/** @hidden */\n\nvar FOCUSED = 'e-focused';\n/** @hidden */\n\nvar CHECK = 'e-check';\n/** @hidden */\n\nvar FRAME = 'e-frame';\n/** @hidden */\n\nvar CB_WRAP = 'e-checkbox-wrapper';\n/** @hidden */\n\nvar ROW = 'e-row';\n/** @hidden */\n\nvar ROWCELL = 'e-rowcell';\n/** @hidden */\n\nvar EMPTY = 'e-empty';\n/** @hidden */\n\nvar EMPTY_CONTENT = 'e-empty-content';\n/** @hidden */\n\nvar EMPTY_INNER_CONTENT = 'e-empty-inner-content';\n/** @hidden */\n\nvar CLONE = 'e-fe-clone';\n/** @hidden */\n\nvar DROP_FOLDER = 'e-fe-drop-folder';\n/** @hidden */\n\nvar DROP_FILE = 'e-fe-drop-file';\n/** @hidden */\n\nvar FOLDER = 'e-fe-folder';\n/** @hidden */\n\nvar ICON_IMAGE = 'e-fe-image';\n/** @hidden */\n\nvar ICON_MUSIC = 'e-fe-music';\n/** @hidden */\n\nvar ICON_VIDEO = 'e-fe-video';\n/** @hidden */\n\nvar LARGE_ICON = 'e-large-icon';\n/** @hidden */\n\nvar LARGE_EMPTY_FOLDER = 'e-empty-icon e-fe-folder';\n/** @hidden */\n\nvar LARGE_EMPTY_FOLDER_TWO = 'e-empty-icon.e-fe-folder';\n/** @hidden */\n\nvar LARGE_ICON_FOLDER = 'e-fe-folder';\n/** @hidden */\n\nvar SELECTED_ITEMS = 'e-items';\n/** @hidden */\n\nvar TEXT_CONTENT = 'e-text-content';\n/** @hidden */\n\nvar GRID_HEADER = 'e-gridheader';\n/** @hidden */\n\nvar TEMPLATE_CELL = 'e-templatecell';\n/** @hidden */\n\nvar TREE_VIEW = 'e-treeview';\n/** @hidden */\n\nvar MENU_ITEM = 'e-menu-item';\n/** @hidden */\n\nvar MENU_ICON = 'e-menu-icon';\n/** @hidden */\n\nvar SUBMENU_ICON = 'e-caret';\n/** @hidden */\n\nvar GRID_VIEW = 'e-content';\n/** @hidden */\n\nvar GRID_CONTENT = 'e-gridcontent';\n/** @hidden */\n\nvar ICON_VIEW = 'e-list-parent';\n/** @hidden */\n\nvar ICON_OPEN = 'e-icons e-fe-open';\n/** @hidden */\n\nvar ICON_UPLOAD = 'e-icons e-fe-upload';\n/** @hidden */\n\nvar ICON_CUT = 'e-icons e-fe-cut';\n/** @hidden */\n\nvar ICON_COPY = 'e-icons e-fe-copy';\n/** @hidden */\n\nvar ICON_PASTE = 'e-icons e-fe-paste';\n/** @hidden */\n\nvar ICON_DELETE = 'e-icons e-fe-delete';\n/** @hidden */\n\nvar ICON_RENAME = 'e-icons e-fe-rename';\n/** @hidden */\n\nvar ICON_NEWFOLDER = 'e-icons e-fe-newfolder';\n/** @hidden */\n\nvar ICON_DETAILS = 'e-icons e-fe-details';\n/** @hidden */\n\nvar ICON_SHORTBY = 'e-icons e-fe-sort';\n/** @hidden */\n\nvar ICON_REFRESH = 'e-icons e-fe-refresh';\n/** @hidden */\n\nvar ICON_SELECTALL = 'e-icons e-fe-select';\n/** @hidden */\n\nvar ICON_DOWNLOAD = 'e-icons e-fe-download';\n/** @hidden */\n\nvar ICON_OPTIONS = 'e-icons e-fe-options';\n/** @hidden */\n\nvar ICON_GRID = 'e-icons e-fe-grid';\n/** @hidden */\n\nvar ICON_LARGE = 'e-icons e-fe-large';\n/** @hidden */\n\nvar ICON_BREADCRUMB = 'e-icons e-fe-breadcrumb';\n/** @hidden */\n\nvar ICON_CLEAR = 'e-icons e-fe-clear';\n/** @hidden */\n\nvar ICON_DROP_IN = 'e-icons e-fe-drop-in';\n/** @hidden */\n\nvar ICON_DROP_OUT = 'e-icons e-fe-drop-out';\n/** @hidden */\n\nvar ICON_NO_DROP = 'e-icons e-fe-no-drop';\n/** @hidden */\n\nvar ICONS = 'e-icons';\n/** @hidden */\n\nvar DETAILS_LABEL = 'e-detailslabel';\n/** @hidden */\n\nvar ERROR_CONTENT = 'e-fe-errorcontent';\n/** @hidden */\n\nvar STATUS = 'e-status';\n/** @hidden */\n\nvar BREADCRUMBS = 'e-address';\n/** @hidden */\n\nvar RTL = 'e-rtl';\n/** @hidden */\n\nvar DISPLAY_NONE = 'e-display-none';\n/** @hidden */\n\nvar COLLAPSED = 'e-node-collapsed';\n/** @hidden */\n\nvar FULLROW = 'e-fullrow';\n/** @hidden */\n\nvar ICON_COLLAPSIBLE = 'e-icon-collapsible';\n/** @hidden */\n\nvar SPLIT_BAR = 'e-split-bar';\n/** @hidden */\n\nvar HEADER_CHECK = 'e-headercheck';\n/** @hidden */\n\nvar OVERLAY = 'e-fe-overlay';\n/** @hidden */\n\nvar VALUE = 'e-fe-value';\n/**\n * Specifies the File Manager internal variables\n */\n\n/** @hidden */\n\nvar isFile = 'isFile';\n/**\n * Specifies the File Manager internal events\n */\n\n/** @hidden */\n\nvar modelChanged = 'model-changed';\n/** @hidden */\n\nvar initialEnd = 'initial-end';\n/** @hidden */\n\nvar finalizeEnd = 'finalize-end';\n/** @hidden */\n\nvar createEnd = 'create-end';\n/** @hidden */\n\nvar filterEnd = 'filter-end';\n/** @hidden */\n\nvar beforeDelete = 'before-delete';\n/** @hidden */\n\nvar pathDrag = 'path-drag';\n/** @hidden */\n\nvar deleteInit = 'delete-init';\n/** @hidden */\n\nvar deleteEnd = 'delete-end';\n/** @hidden */\n\nvar refreshEnd = 'refresh-end';\n/** @hidden */\n\nvar resizeEnd = 'resize-end';\n/** @hidden */\n\nvar splitterResize = 'splitter-resize';\n/** @hidden */\n\nvar pathChanged = 'path-changed';\n/** @hidden */\n\nvar destroy = 'destroy';\n/** @hidden */\n\nvar beforeRequest = 'before-request';\n/** @hidden */\n\nvar upload = 'upload';\n/** @hidden */\n\nvar skipUpload = 'skip-upload';\n/** @hidden */\n\nvar afterRequest = 'after-request';\n/** @hidden */\n\nvar download = 'download';\n/** @hidden */\n\nvar layoutRefresh = 'layout-refresh';\n/** @hidden */\n\nvar actionFailure = 'actionFailure';\n/** @hidden */\n\nvar search = 'search';\n/** @hidden */\n\nvar openInit = 'open-init';\n/** @hidden */\n\nvar openEnd = 'open-end';\n/** @hidden */\n\nvar selectionChanged = 'selection-changed';\n/** @hidden */\n\nvar selectAllInit = 'select-all-init';\n/** @hidden */\n\nvar clearAllInit = 'clear-all-init';\n/** @hidden */\n\nvar clearPathInit = 'clear-path-init';\n/** @hidden */\n\nvar layoutChange = 'layout-change';\n/** @hidden */\n\nvar sortByChange = 'sort-by-change';\n/** @hidden */\n\nvar nodeExpand = 'node-expand';\n/** @hidden */\n\nvar detailsInit = 'details-init';\n/** @hidden */\n\nvar menuItemData = 'menu-item-data';\n/** @hidden */\n\nvar renameInit = 'rename-init';\n/** @hidden */\n\nvar renameEndParent = 'rename-end-parent';\n/** @hidden */\n\nvar renameEnd = 'rename-end';\n/** @hidden */\n\nvar showPaste = 'show-paste';\n/** @hidden */\n\nvar hidePaste = 'hide-paste';\n/** @hidden */\n\nvar selectedData = 'selected-data';\n/** @hidden */\n\nvar cutCopyInit = 'cut-copy-init';\n/** @hidden */\n\nvar pasteInit = 'paste-init';\n/** @hidden */\n\nvar pasteEnd = 'paste-end';\n/** @hidden */\n\nvar cutEnd = 'cut-end';\n/** @hidden */\n\nvar hideLayout = 'hide-layout';\n/** @hidden */\n\nvar updateTreeSelection = 'update-tree-selection';\n/** @hidden */\n\nvar treeSelect = 'select-node';\n/** @hidden */\n\nvar sortColumn = 'sort-column';\n/** @hidden */\n\nvar pathColumn = 'path-column';\n/** @hidden */\n\nvar searchTextChange = 'search-change';\n/** @hidden */\n\nvar beforeDownload = 'before-download';\n/** @hidden */\n\nvar downloadInit = 'download-init';\n/** @hidden */\n\nvar dropInit = 'drop-init';\n/** @hidden */\n\nvar dragEnd = 'drag-end';\n/** @hidden */\n\nvar dropPath = 'drop-path';\n/** @hidden */\n\nvar dragHelper = 'drag-helper';\n/** @hidden */\n\nvar dragging = 'dragging';\n/** @hidden */\n\nvar updateSelectionData = 'update-selection-data';\n/** @hidden */\n\nvar methodCall = 'method-call';\n/** @hidden */\n\nvar permissionRead = 'read';\n/** @hidden */\n\nvar permissionEdit = 'write';\n/** @hidden */\n\nvar permissionEditContents = 'writeContents';\n/** @hidden */\n\nvar permissionCopy = 'copy';\n/** @hidden */\n\nvar permissionUpload = 'upload';\n/** @hidden */\n\nvar permissionDownload = 'download';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nfunction updatePath(node, data, instance) {\n  var text = getValue('name', data);\n  var id = node.getAttribute('data-id');\n  var newText = isNullOrUndefined(id) ? text : id;\n  instance.setProperties({\n    path: getPath(node, newText, instance.hasId)\n  }, true);\n  instance.pathId = getPathId(node);\n  instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\n\n\nfunction getPath(element, text, hasId) {\n  var matched = getParents(element, text, false, hasId);\n  var path = hasId ? '' : '/';\n  var len = matched.length - (hasId ? 1 : 2);\n\n  for (var i = len; i >= 0; i--) {\n    path += matched[i] + '/';\n  }\n\n  return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\n\n\nfunction getPathId(node) {\n  var matched = getParents(node, node.getAttribute('data-uid'), true);\n  var ids = [];\n\n  for (var i = matched.length - 1; i >= 0; i--) {\n    ids.push(matched[i]);\n  }\n\n  return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\n\n\nfunction getPathNames(element, text) {\n  var matched = getParents(element, text, false);\n  var names = [];\n\n  for (var i = matched.length - 1; i >= 0; i--) {\n    names.push(matched[i]);\n  }\n\n  return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\n\n\nfunction getParents(element, text, isId, hasId) {\n  var matched = [text];\n  var el = element.parentNode;\n\n  while (!isNullOrUndefined(el)) {\n    if (matches(el, '.' + LIST_ITEM)) {\n      var parentText = isId ? el.getAttribute('data-uid') : hasId ? el.getAttribute('data-id') : select('.' + LIST_TEXT, el).textContent;\n      matched.push(parentText);\n    }\n\n    el = el.parentNode;\n\n    if (el.classList.contains(TREE_VIEW)) {\n      break;\n    }\n  }\n\n  return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction generatePath(parent) {\n  var key = parent.hasId ? 'id' : 'name';\n  var newPath = parent.hasId ? '' : '/';\n  var i = parent.hasId ? 0 : 1;\n\n  for (i; i < parent.pathId.length; i++) {\n    // eslint-disable-next-line\n    var data = getValue(parent.pathId[i], parent.feParent);\n    newPath += getValue(key, data) + '/';\n  }\n\n  parent.setProperties({\n    path: newPath\n  }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction removeActive(parent) {\n  if (parent.isCut) {\n    removeBlur(parent);\n    parent.selectedNodes = [];\n    parent.actionRecords = [];\n    parent.enablePaste = false;\n    parent.notify(hidePaste, {});\n  }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\n\n\nfunction activeElement(action, parent) {\n  parent.isSearchCut = false;\n  parent.actionRecords = [];\n  parent.activeElements = [];\n  parent.notify(cutCopyInit, {});\n\n  if (parent.activeElements.length === 0) {\n    return false;\n  }\n\n  removeBlur(parent);\n  var blurEle = parent.activeElements;\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.targetPath = parent.path;\n  } else {\n    parent.targetPath = getParentPath(parent.path);\n  }\n\n  var i = 0;\n\n  if (blurEle) {\n    getModule(parent, blurEle[0]);\n\n    if (action === 'cut') {\n      while (i < blurEle.length) {\n        addBlur(blurEle[i]);\n        i++;\n      }\n    }\n  }\n\n  i = 0;\n  parent.selectedNodes = [];\n  parent.enablePaste = true;\n  parent.notify(showPaste, {});\n\n  while (i < parent.activeRecords.length) {\n    parent.actionRecords.push(parent.activeRecords[i]);\n    parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n    i++;\n  }\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && parent.activeModule !== 'navigationpane') {\n    parent.selectedNodes = [];\n    parent.isSearchCut = true;\n    var i_1 = 0;\n\n    while (i_1 < parent.selectedItems.length) {\n      parent.selectedNodes.push(parent.selectedItems[i_1]);\n      i_1++;\n    }\n  }\n\n  return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\n\n\nfunction addBlur(nodes) {\n  nodes.classList.add(BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\n\n\nfunction removeBlur(parent, hover) {\n  var blurEle = !hover ? parent.element.querySelectorAll('.' + BLUR) : parent.element.querySelectorAll('.' + HOVER);\n  var i = 0;\n\n  while (i < blurEle.length) {\n    blurEle[i].classList.remove(!hover ? BLUR : HOVER);\n    i++;\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\n\nfunction getModule(parent, element) {\n  if (element) {\n    if (element.classList.contains(ROW)) {\n      parent.activeModule = 'detailsview';\n    } else if (closest(element, '.' + LARGE_ICON)) {\n      parent.activeModule = 'largeiconsview';\n    } else {\n      parent.activeModule = 'navigationpane';\n    }\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\n\n\nfunction searchWordHandler(parent, value, isLayoutChange) {\n  var searchWord;\n\n  if (value.length === 0 && !parent.isFiltered) {\n    parent.notify(pathColumn, {\n      args: parent\n    });\n  }\n\n  if (parent.searchSettings.filterType === 'startsWith') {\n    searchWord = value + '*';\n  } else if (parent.searchSettings.filterType === 'endsWith') {\n    searchWord = '*' + value;\n  } else {\n    searchWord = '*' + value + '*';\n  }\n\n  parent.searchWord = searchWord;\n  parent.itemData = [getPathObject(parent)];\n\n  if (value.length > 0) {\n    var caseSensitive = parent.searchSettings.ignoreCase;\n    var hiddenItems = parent.showHiddenItems;\n    Search(parent, isLayoutChange ? layoutChange : search, parent.path, searchWord, hiddenItems, !caseSensitive);\n  } else {\n    if (!parent.isFiltered) {\n      if (parent.isSortByClicked) {\n        parent.notify(layoutChange, {\n          files: parent.oldView === 'Details' ? parent.detailsviewModule.gridObj.dataSource : parent.largeiconsviewModule.items\n        });\n        parent.isSortByClicked = false;\n      } else {\n        read(parent, isLayoutChange ? layoutChange : search, parent.path);\n      }\n    } else {\n      filter(parent, layoutChange);\n    }\n  }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\n\n\nfunction updateLayout(parent, view) {\n  parent.oldView = parent.view;\n  parent.setProperties({\n    view: view\n  }, true);\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n    parent.layoutSelectedItems = parent.selectedItems;\n  }\n\n  var searchWord = '';\n\n  if (parent.breadcrumbbarModule.searchObj.element.value) {\n    searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n  }\n\n  parent.isLayoutChange = true;\n  searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\n\nfunction getTargetModule(parent, element) {\n  var tartgetModule = '';\n\n  if (element) {\n    if (closest(element, '.' + ROOT + '.' + CONTROL + ' .' + GRID_CONTENT)) {\n      tartgetModule = 'detailsview';\n    } else if (closest(element, '.' + LARGE_ICONS)) {\n      tartgetModule = 'largeiconsview';\n    } else if (element.classList.contains('e-fullrow') || element.classList.contains('e-icon-expandable')) {\n      tartgetModule = 'navigationpane';\n    } else if (closest(element, '.e-address-list-item')) {\n      tartgetModule = 'breadcrumbbar';\n    } else {\n      tartgetModule = '';\n    }\n  }\n\n  parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction refresh(parent) {\n  parent.itemData = [getPathObject(parent)];\n\n  if (!hasReadAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], permissionRead);\n  } else {\n    read(parent, refreshEnd, parent.path);\n  }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction openAction(parent) {\n  read(parent, openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getPathObject(parent) {\n  return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction copyFiles(parent) {\n  if (!activeElement('copy', parent)) {\n    return;\n  } else {\n    parent.fileAction = 'copy';\n  }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction cutFiles(parent) {\n  if (!activeElement('cut', parent)) {\n    return;\n  } else {\n    parent.isCut = true;\n    parent.fileAction = 'move';\n  }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction fileType(file) {\n  var isFile$$1 = getValue('isFile', file);\n\n  if (!isFile$$1) {\n    return FOLDER;\n  }\n\n  var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n  var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n  var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n  var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc', 'xlsx', 'xls', 'xml', 'rtf', 'php'];\n  var filetype = getValue('type', file);\n  filetype = filetype.toLowerCase();\n\n  if (filetype.indexOf('.') !== -1) {\n    filetype = filetype.split('.').join('');\n  }\n\n  var iconType;\n\n  if (imageFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_IMAGE;\n  } else if (audioFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_MUSIC;\n  } else if (videoFormat.indexOf(filetype) !== -1) {\n    iconType = ICON_VIDEO;\n  } else if (knownFormat.indexOf(filetype) !== -1) {\n    iconType = 'e-fe-' + filetype;\n  } else {\n    iconType = 'e-fe-unknown e-fe-' + filetype;\n  }\n\n  return iconType;\n}\n/* istanbul ignore next */\n\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getImageUrl(parent, item) {\n  var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n  var imgUrl;\n  var fileName = encodeURIComponent(getValue('name', item));\n  var fPath = getValue('filterPath', item);\n\n  if (parent.hasId) {\n    var imgId = getValue('id', item);\n    imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n  } else if (!isNullOrUndefined(fPath)) {\n    imgUrl = baseUrl + '?path=' + encodeURIComponent(fPath.replace(/\\\\/g, '/')) + fileName;\n  } else {\n    imgUrl = baseUrl + '?path=' + parent.path + fileName;\n  }\n\n  imgUrl = imgUrl + '&time=' + new Date().getTime().toString();\n  var eventArgs = {\n    fileDetails: [item],\n    imageUrl: imgUrl\n  };\n  parent.trigger('beforeImageLoad', eventArgs);\n  return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getFullPath(parent, data, path) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n\n  if (!isNullOrUndefined(fPath)) {\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return path + filePath;\n  }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getName(parent, data) {\n  var name = getValue('name', data);\n  var fPath = getValue('filterPath', data);\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNullOrUndefined(fPath)) {\n    fPath = fPath.replace(/\\\\/g, '/');\n    name = fPath.replace(parent.path, '') + name;\n  }\n\n  return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getSortedData(parent, items) {\n  if (items.length === 0) {\n    return items;\n  }\n\n  var query;\n\n  if (parent.sortOrder !== 'None') {\n    query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n  } else {\n    query = new Query().group('isFile');\n  } // eslint-disable-next-line\n\n\n  var lists = new DataManager(items).executeLocal(query);\n  return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getObject(parent, key, value) {\n  // eslint-disable-next-line\n  var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n  var query = new Query().where(key, 'equal', value); // eslint-disable-next-line\n\n  var lists = new DataManager(currFiles).executeLocal(query);\n  return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\n\n\nfunction createEmptyElement(parent, element, args) {\n  var top;\n  var layoutElement = select('#' + parent.element.id + LAYOUT_ID, parent.element);\n  var addressBarHeight = select('#' + parent.element.id + BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n  top = layoutElement.offsetHeight - addressBarHeight;\n\n  if (parent.view === 'Details') {\n    top = top - select('.' + GRID_HEADER, layoutElement).offsetHeight;\n  }\n\n  if (isNullOrUndefined(element.querySelector('.' + EMPTY))) {\n    var emptyDiv = createElement('div', {\n      className: EMPTY\n    });\n    var emptyFolder = createElement('div', {\n      className: LARGE_EMPTY_FOLDER\n    });\n    var emptyEle = createElement('div', {\n      className: EMPTY_CONTENT\n    });\n    var dragFile = createElement('div', {\n      className: EMPTY_INNER_CONTENT\n    });\n\n    if (parent.view === 'Details') {\n      element.querySelector('.' + GRID_VIEW).appendChild(emptyDiv);\n    } else {\n      element.appendChild(emptyDiv);\n    }\n\n    emptyDiv.appendChild(emptyFolder);\n    emptyDiv.appendChild(emptyEle);\n    emptyDiv.appendChild(dragFile);\n  }\n\n  if (element.querySelector('.' + EMPTY)) {\n    if (!isNullOrUndefined(args.error)) {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n    } else if (parent.isFiltered) {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n    } else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n    } else {\n      element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n      element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n    }\n  }\n\n  var eDiv = select('.' + EMPTY, element);\n  top = (top - eDiv.offsetHeight) / 2;\n  eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getDirectories(files) {\n  return new DataManager(files).executeLocal(new Query().where(isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\n\n\nfunction setNodeId(result, rootId) {\n  // eslint-disable-next-line\n  var dirs = getDirectories(result.files);\n\n  for (var i = 0, len = dirs.length; i < len; i++) {\n    setValue('_fm_id', rootId + '_' + i, dirs[i]);\n  }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction setDateObject(args) {\n  for (var i = 0; i < args.length; i++) {\n    setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n    setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n  }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\n\n\nfunction getLocaleText(parent, text) {\n  var locale = parent.localeObj.getConstant(text);\n  return locale === '' ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\n\n\nfunction getCssClass(parent, css) {\n  var cssClass = parent.cssClass;\n  cssClass = isNullOrUndefined(cssClass) || cssClass === '' ? css : cssClass + ' ' + css;\n  return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction sortbyClickHandler(parent, args) {\n  var tick;\n  parent.isSortByClicked = true;\n\n  if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n    tick = true;\n  } else {\n    tick = false;\n  }\n\n  if (!tick) {\n    parent.sortBy = getSortField(args.item.id);\n  } else {\n    parent.sortOrder = getSortField(args.item.id);\n  }\n\n  parent.itemData = [getPathObject(parent)];\n\n  if (parent.view === 'Details') {\n    if (parent.isMobile) {\n      updateLayout(parent, 'Details');\n    } else {\n      parent.notify(sortColumn, {\n        module: 'detailsview'\n      });\n    }\n  }\n\n  if (parent.view === 'LargeIcons') {\n    updateLayout(parent, 'LargeIcons');\n  }\n\n  parent.notify(sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\n\n\nfunction getSortField(id) {\n  var text = id.substring(id.lastIndexOf('_') + 1);\n  var field = text;\n\n  switch (text) {\n    case 'date':\n      field = '_fm_modified';\n      break;\n\n    case 'ascending':\n      field = 'Ascending';\n      break;\n\n    case 'descending':\n      field = 'Descending';\n      break;\n\n    case 'none':\n      field = 'None';\n      break;\n  }\n\n  return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction setNextPath(parent, path) {\n  var currfolders = path.split('/');\n  var folders = parent.originalPath.split('/'); // eslint-disable-next-line\n\n  var root = getValue(parent.pathId[0], parent.feParent);\n  var key = isNullOrUndefined(getValue('id', root)) ? 'name' : 'id';\n\n  for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n    var eventName = folders[i + 1] === '' ? finalizeEnd : initialEnd;\n    var newPath = folders[i] === '' ? '/' : parent.path + folders[i] + '/'; // eslint-disable-next-line\n\n    var data = getObject(parent, key, folders[i]);\n    var id = getValue('_fm_id', data);\n    parent.setProperties({\n      path: newPath\n    }, true);\n    parent.pathId.push(id);\n    parent.itemData = [data];\n    parent.pathNames.push(getValue('name', data));\n    read(parent, eventName, parent.path);\n    break;\n  }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction openSearchFolder(parent, data) {\n  parent.notify(clearPathInit, {\n    selectedNode: parent.pathId[parent.pathId.length - 1]\n  });\n  parent.originalPath = getFullPath(parent, data, parent.path);\n  read(parent, parent.path !== parent.originalPath ? initialEnd : finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction pasteHandler(parent) {\n  parent.isDragDrop = false;\n\n  if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n    var path = parent.folderPath === '' ? parent.path : parent.folderPath; // eslint-disable-next-line\n\n    var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n\n    if (!subFolder) {\n      if (parent.fileAction === 'move' && parent.targetPath !== path || parent.fileAction === 'copy') {\n        parent.notify(pasteInit, {});\n        paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n      } else {\n        parent.enablePaste = false;\n        parent.notify(hidePaste, {});\n        removeBlur(parent);\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n      }\n    }\n  }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction validateSubFolder(parent, data, dropPath$$1, dragPath) {\n  var subFolder = false;\n\n  for (var i = 0; i < data.length; i++) {\n    if (!getValue('isFile', data[i])) {\n      var tempTarget = getFullPath(parent, data[i], dragPath);\n\n      if (dropPath$$1.indexOf(tempTarget) === 0) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Sub-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    } else {\n      var srcData = parent.dragNodes[i];\n      var len = 0;\n\n      if (srcData) {\n        len = srcData.lastIndexOf('/');\n      }\n\n      var path = '';\n\n      if (len > 0) {\n        path = dragPath + srcData.substring(0, len + 1);\n      }\n\n      if (path === dropPath$$1) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    }\n  }\n\n  return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction dropHandler(parent) {\n  parent.isDragDrop = true;\n\n  if (parent.dragData.length !== 0) {\n    parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n    parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n    var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n\n    if (!subFolder && parent.dragPath !== parent.dropPath) {\n      parent.itemData = [parent.dropData];\n      paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n      parent.notify(pasteInit, {});\n    }\n  }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\n\n\nfunction getParentPath(oldPath) {\n  var path = oldPath.split('/');\n  var newPath = path[0] + '/';\n\n  for (var i = 1; i < path.length - 2; i++) {\n    newPath += path[i] + '/';\n  }\n\n  return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\n\n\nfunction getDirectoryPath(parent, args) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n\n  if (!isNullOrUndefined(fPath)) {\n    if (fPath === '') {\n      return parent.hasId ? filePath : '/';\n    }\n\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return parent.path + filePath;\n  }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\n\n\nfunction doPasteUpdate(parent, operation, result) {\n  if (operation === 'move') {\n    if (!parent.isDragDrop) {\n      parent.enablePaste = false;\n      parent.notify(hidePaste, {});\n      parent.notify(cutEnd, result);\n    } else {\n      parent.notify(dragEnd, result);\n    }\n  }\n\n  if (parent.duplicateItems.length === 0) {\n    parent.pasteNodes = [];\n  }\n\n  var flag = false;\n\n  for (var count = 0; count < result.files.length && !flag; count++) {\n    parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n\n    if (parent.isDragDrop) {\n      parent.droppedObjects.push(result.files[count]);\n    }\n  }\n\n  parent.duplicateItems = [];\n  parent.duplicateRecords = [];\n\n  if (parent.isDragDrop && !parent.isPasteError) {\n    parent.isDropEnd = true;\n  } else {\n    parent.isDropEnd = false;\n  }\n\n  if (!parent.isDragDrop || parent.path === parent.dragPath || parent.path === parent.dropPath || parent.isSearchDrag) {\n    parent.isPathDrag = false;\n    read(parent, pasteEnd, parent.path);\n  } else {\n    readDropPath(parent);\n  }\n\n  parent.trigger('success', {\n    action: operation,\n    result: result\n  });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction readDropPath(parent) {\n  var pathId = getValue('_fm_id', parent.dropData);\n  parent.expandedId = pathId;\n  parent.itemData = [parent.dropData];\n\n  if (parent.isPathDrag) {\n    parent.notify(pathDrag, parent.itemData);\n  } else {\n    if (parent.navigationpaneModule) {\n      var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n\n      if (!node) {\n        var liElement = document.querySelector('[data-id = \"' + getValue('id', parent.dropData) + '\"]');\n        pathId = liElement.getAttribute(\"data-uid\");\n        node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n      }\n\n      updatePath(node, parent.dropData, parent);\n    }\n\n    read(parent, dropPath, parent.dropPath);\n  }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getDuplicateData(parent, name) {\n  // eslint-disable-next-line\n  var data = null; // eslint-disable-next-line\n\n  var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n\n  for (var i = 0; i < records.length; i++) {\n    if (getValue('name', records[i]) === name) {\n      data = records[i];\n      break;\n    }\n  }\n\n  return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction createVirtualDragElement(parent) {\n  parent.isSearchDrag = false;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n    parent.isSearchDrag = true;\n  }\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.dragNodes = [];\n    var i = 0;\n\n    while (i < parent.selectedItems.length) {\n      parent.dragNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n\n    if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n      parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n    }\n  }\n\n  var cloneIcon = parent.createElement('div', {\n    className: 'e-fe-icon ' + fileType(parent.dragData[0])\n  });\n  var cloneName = parent.createElement('div', {\n    className: 'e-fe-name',\n    innerHTML: parent.dragData[0].name\n  });\n  var virtualEle = parent.createElement('div', {\n    className: 'e-fe-content'\n  });\n  virtualEle.appendChild(cloneIcon);\n  virtualEle.appendChild(cloneName);\n  var ele = parent.createElement('div', {\n    className: CLONE\n  });\n  ele.appendChild(virtualEle);\n\n  if (parent.dragNodes.length > 1) {\n    var badge = parent.createElement('span', {\n      className: 'e-fe-count',\n      innerHTML: parent.dragNodes.length.toString(10)\n    });\n    ele.appendChild(badge);\n  }\n\n  parent.virtualDragElement = ele;\n  parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction dragStopHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeDropTarget(parent);\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  removeBlur(parent);\n  parent.uploadObj.dropArea = select('#' + parent.element.id + CONTENT_ID, parent.element);\n  var virtualEle = select('.' + CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n\n  getTargetModule(parent, args.target);\n  parent.notify(dropInit, args);\n  removeBlur(parent, 'hover');\n  dragArgs.fileDetails = parent.dragData;\n  parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n    if (!dragArgs.cancel && !isNullOrUndefined(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n      dropHandler(parent);\n    }\n\n    parent.dragCount = 0;\n  });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction dragStartHandler(parent, args, dragObj) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n  dragArgs.fileDetails = parent.dragData;\n  parent.dragCount = 0;\n  parent.droppedObjects = [];\n\n  if (!parent.allowDragAndDrop || parent.activeModule === 'navigationpane' && closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]) {\n    dragArgs.cancel = true;\n  }\n\n  if (parent.activeModule === 'navigationpane' && parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1) {\n    parent.isPathDrag = true;\n  } else {\n    parent.isPathDrag = false;\n  }\n\n  removeBlur(parent);\n\n  if (dragArgs.cancel) {\n    dragObj.intDestroy(args.event);\n    dragCancel(parent);\n  } else if (!dragArgs.cancel) {\n    var i = 0;\n\n    while (i < parent.activeElements.length) {\n      addBlur(parent.activeElements[i]);\n      i++;\n    }\n\n    parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n      if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n      } else {\n        parent.uploadObj.dropArea = null;\n      }\n    });\n  }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction dragCancel(parent) {\n  removeBlur(parent);\n  var virtualEle = select('.' + CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction removeDropTarget(parent) {\n  removeItemClass(parent, DROP_FOLDER);\n  removeItemClass(parent, DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\n\n\nfunction removeItemClass(parent, value) {\n  var ele = parent.element.querySelectorAll('.' + value);\n\n  for (var i = 0; i < ele.length; i++) {\n    ele[i].classList.remove(value);\n  }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction draggingHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.fileDetails = parent.dragData;\n  var canDrop = false;\n  getTargetModule(parent, args.target);\n  removeDropTarget(parent);\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeBlur(parent, 'hover');\n  var node = null;\n\n  if (parent.targetModule === 'navigationpane') {\n    node = closest(args.target, 'li');\n    node.classList.add(HOVER, DROP_FOLDER);\n    canDrop = true;\n    /* istanbul ignore next */\n\n    parent.treeExpandTimer = window.setTimeout(function () {\n      parent.notify(dragging, args);\n    }, 800);\n  } else if (parent.targetModule === 'detailsview') {\n    node = closest(args.target, 'tr');\n\n    if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(DROP_FOLDER);\n    } else if (node && !node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(DROP_FILE);\n    }\n\n    canDrop = true;\n  } else if (parent.targetModule === 'largeiconsview') {\n    node = closest(args.target, 'li');\n\n    if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n      node.classList.add(HOVER, DROP_FOLDER);\n    }\n\n    canDrop = true;\n    /* istanbul ignore next */\n  } else if (parent.targetModule === 'breadcrumbbar') {\n    canDrop = true;\n  }\n\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n  parent.dragCount = parent.dragCount + 1;\n  parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\n\n\nfunction objectToString(data) {\n  var str = '';\n  var keys = Object.keys(data);\n\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i] !== 'message') {\n      str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n    }\n  }\n\n  return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getItemName(parent, data) {\n  if (parent.hasId) {\n    return getValue('id', data);\n  }\n\n  return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction updateRenamingData(parent, data) {\n  parent.itemData = [data];\n  parent.currentItemText = getValue('name', data);\n  parent.isFile = getValue('isFile', data);\n  parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction doRename(parent) {\n  if (!hasEditAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], permissionEdit);\n  } else {\n    createDialog(parent, 'Rename');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction doDownload(parent) {\n  // eslint-disable-next-line\n  var items = parent.itemData;\n\n  for (var i = 0; i < items.length; i++) {\n    if (!hasDownloadAccess(items[i])) {\n      createDeniedDialog(parent, items[i], permissionDownload);\n      return;\n    }\n  }\n\n  if (parent.selectedItems.length > 0) {\n    Download(parent, parent.path, parent.selectedItems);\n  }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction doDeleteFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasEditAccess(data[i])) {\n      createDeniedDialog(parent, data[i], permissionEdit);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n  Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction doDownloadFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasDownloadAccess(data[i])) {\n      createDeniedDialog(parent, data[i], permissionDownload);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n\n  if (newIds.length > 0) {\n    Download(parent, parent.path, newIds);\n  }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction createDeniedDialog(parent, data, action) {\n  var message = getValue('message', getValue('permission', data));\n\n  if (message === '') {\n    message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n  }\n\n  var response = {\n    error: {\n      code: '401',\n      fileExists: null,\n      message: message\n    }\n  };\n  createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction getAccessClass(data) {\n  return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasReadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission && !getValue('read', permission) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasEditAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('write', permission) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasContentAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('writeContents', permission) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasUploadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('upload', permission) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction hasDownloadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('download', permission) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction createNewFolder(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n\n  if (!hasContentAccess(details)) {\n    createDeniedDialog(parent, details, permissionEditContents);\n  } else {\n    createDialog(parent, 'NewFolder');\n  }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\n\nfunction uploadItem(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n\n  if (!hasUploadAccess(details)) {\n    createDeniedDialog(parent, details, permissionUpload);\n  } else {\n    var eleId = '#' + parent.element.id + UPLOAD_ID;\n    var uploadEle = document.querySelector(eleId);\n    uploadEle.click();\n  }\n}\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction read(parent, event, path) {\n  // eslint-disable-next-line\n  var itemData = parent.itemData;\n\n  for (var i = 0; i < itemData.length; i++) {\n    if (isNullOrUndefined(getValue('hasChild', itemData[i]))) {\n      setValue('hasChild', false, itemData[i]);\n    }\n  } // eslint-disable-next-line\n\n\n  var data = {\n    action: 'read',\n    path: path,\n    showHiddenItems: parent.showHiddenItems,\n    data: itemData\n  };\n  createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\n\nfunction createFolder(parent, itemName) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'create',\n    path: parent.path,\n    name: itemName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction filter(parent, event) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'filter',\n    path: parent.path,\n    showHiddenItems: parent.showHiddenItems,\n    data: [getPathObject(parent)]\n  }; // eslint-disable-next-line\n\n  var filterData; // eslint-disable-next-line\n\n  var filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n  createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\n\n\nfunction rename(parent, path, itemNewName) {\n  var name;\n  var newName;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n    name = parent.currentItemText;\n    newName = itemNewName;\n  } else {\n    var fPath = parent.filterPath;\n\n    if (parent.hasId) {\n      name = parent.currentItemText;\n      newName = itemNewName;\n    } else {\n      fPath = fPath.replace(/\\\\/g, '/');\n      name = fPath.replace(path, '') + parent.currentItemText;\n      newName = fPath.replace(path, '') + itemNewName;\n    }\n  } // eslint-disable-next-line\n\n\n  var data = {\n    action: 'rename',\n    path: path,\n    name: name,\n    newName: newName,\n    data: parent.itemData\n  };\n  createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\n\n\nfunction paste(parent, path, names, targetPath, pasteOperation, // eslint-disable-next-line\nrenameItems, actionRecords) {\n  // eslint-disable-next-line\n  var data = {\n    action: pasteOperation,\n    path: path,\n    targetData: parent.itemData[0],\n    targetPath: targetPath,\n    names: names,\n    renameFiles: renameItems,\n    data: actionRecords\n  };\n  parent.destinationPath = targetPath;\n  createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction Delete(parent, items, path, operation) {\n  // eslint-disable-next-line\n  var data = {\n    action: operation,\n    path: path,\n    names: items,\n    data: parent.itemData\n  };\n  createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\n\n\nfunction GetDetails(parent, names, path, operation) {\n  // eslint-disable-next-line\n  var data = {\n    action: operation,\n    path: path,\n    names: names,\n    data: parent.itemData\n  };\n  createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\n\n\nfunction createAjax( // eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n  // eslint-disable-next-line\n  var ajaxSettings = {\n    url: parent.ajaxSettings.url,\n    type: 'POST',\n    mode: true,\n    dataType: 'json',\n    contentType: 'application/json',\n    data: JSON.stringify(data),\n    onSuccess: null,\n    onFailure: null,\n    beforeSend: null\n  };\n  var eventArgs = {\n    action: getValue('action', data),\n    ajaxSettings: ajaxSettings,\n    cancel: false\n  };\n  parent.trigger('beforeSend', eventArgs, function (beforeSendArgs) {\n    if (!beforeSendArgs.cancel) {\n      parent.notify(beforeRequest, {});\n      var ajax = new Ajax({\n        url: getValue('url', beforeSendArgs.ajaxSettings),\n        type: getValue('type', beforeSendArgs.ajaxSettings),\n        mode: getValue('mode', beforeSendArgs.ajaxSettings),\n        dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n        contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n        data: getValue('data', beforeSendArgs.ajaxSettings),\n        beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n        onSuccess: function (result) {\n          if (isNullOrUndefined(result)) {\n            var result_1 = {\n              error: {\n                fileExists: null,\n                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                code: '406'\n              },\n              files: null\n            };\n            triggerAjaxFailure(parent, beforeSendArgs, fn, result_1, event, operation, targetPath);\n            return;\n          }\n\n          if (typeof result === 'string') {\n            result = JSON.parse(result);\n          }\n\n          parent.notify(afterRequest, {\n            action: 'success'\n          });\n          var id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n\n          if (!isNullOrUndefined(result.cwd) && getValue('action', data) === 'read') {\n            result.cwd.name = parent.pathId.length === 1 ? parent.rootAliasName || result.cwd.name : result.cwd.name;\n            setValue('_fm_id', id, result.cwd);\n            setValue(id, result.cwd, parent.feParent);\n\n            if (!isNullOrUndefined(result.files) || result.error.code === '401') {\n              if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                // eslint-disable-next-line\n                var root = getValue(parent.pathId[0], parent.feParent);\n                parent.pathNames[0] = getValue('name', root);\n                parent.hasId = !isNullOrUndefined(getValue('id', root));\n              }\n\n              if (event === 'finalize-end') {\n                generatePath(parent);\n              }\n            }\n          }\n\n          if (!isNullOrUndefined(result.files)) {\n            setDateObject(result.files);\n\n            for (var i = 0, len = result.files.length; i < len; i++) {\n              // eslint-disable-next-line\n              var item = result.files[i];\n              setValue('_fm_iconClass', fileType(item), item);\n            }\n\n            if (getValue('action', data) === 'read') {\n              setNodeId(result, id);\n              setValue(id, result.files, parent.feFiles);\n            }\n          }\n\n          if (!isNullOrUndefined(result.details) && !isNullOrUndefined(parent.rootAliasName)) {\n            var rootName = parent.rootAliasName || getValue('name', result.details);\n            var location_1 = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n\n            if (getValue('path', data) === '/' || parent.hasId && getValue('path', data).match(/[/]/g).length === 1) {\n              if (getValue('names', data).length === 0) {\n                setValue('name', rootName, result.details);\n                location_1 = rootName;\n              } else {\n                location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n              }\n            } else {\n              location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n            }\n\n            setValue('location', location_1, result.details);\n          }\n\n          fn(parent, result, event, operation, targetPath);\n\n          if (!isNullOrUndefined(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n            parent.notify(searchTextChange, result);\n          }\n\n          if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n          }\n        },\n        onFailure: function () {\n          var result = {\n            files: null,\n            error: {\n              code: '404',\n              message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n              fileExists: null\n            }\n          };\n          triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n        }\n      });\n      ajax.send();\n    }\n  });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerAjaxFailure( // eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n  parent.notify(afterRequest, {\n    action: 'failure'\n  });\n  fn(parent, result, event, operation, targetPath);\n\n  if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n    getValue('onFailure', beforeSendArgs.ajaxSettings)();\n  }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction readSuccess(parent, result, event) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    parent.notify(selectionChanged, {});\n    var args = {\n      action: 'read',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    if (result.error.code === '401') {\n      result.files = [];\n      parent.notify(event, result);\n      parent.notify(selectionChanged, {});\n    }\n\n    onFailure(parent, result, 'read');\n    parent.setProperties({\n      path: parent.oldPath\n    }, true);\n    parent.pathNames.pop();\n  }\n\n  if (parent.isDragDrop && parent.isDropEnd) {\n    if (parent.droppedObjects.length !== 0) {\n      var args = {\n        fileDetails: parent.droppedObjects\n      };\n      parent.trigger('fileDropped', args);\n    }\n\n    parent.isDropEnd = parent.isDragDrop = false;\n  }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction filterSuccess(parent, result, event, action) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    var args = {\n      action: action,\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, action);\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\n\n\nfunction createSuccess(parent, result, itemName) {\n  if (!isNullOrUndefined(result.files)) {\n    if (parent.dialogObj && parent.dialogObj.visible) {\n      parent.dialogObj.hide();\n    }\n\n    parent.createdItem = result.files[0];\n    parent.breadcrumbbarModule.searchObj.value = '';\n    var args = {\n      action: 'create',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, createEnd, parent.path);\n  } else {\n    if (result.error.code === '400') {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        var ele = select('#newname', parent.dialogObj.element);\n        var error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n        ele.parentElement.nextElementSibling.innerHTML = error;\n      } else {\n        var result_2 = {\n          files: null,\n          error: {\n            code: '400',\n            message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result_2);\n      }\n\n      var args = {\n        action: 'create',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (parent.dialogObj && parent.dialogObj.visible) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'create');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\n\n\nfunction renameSuccess(parent, result, path) {\n  if (!isNullOrUndefined(result.files)) {\n    if (!isNullOrUndefined(parent.dialogObj)) {\n      parent.dialogObj.hide();\n    }\n\n    var args = {\n      action: 'rename',\n      result: result\n    };\n    parent.trigger('success', args);\n    parent.renamedItem = result.files[0];\n\n    if (parent.activeModule === 'navigationpane') {\n      parent.pathId.pop();\n      parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n      read(parent, renameEndParent, getParentPath(parent.path));\n    } else {\n      parent.itemData = [getPathObject(parent)];\n\n      if (parent.breadcrumbbarModule.searchObj.value !== '') {\n        Search(parent, renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n      } else {\n        if (parent.isFiltered) {\n          filter(parent, renameEnd);\n        } else {\n          read(parent, renameEnd, parent.path);\n        }\n      }\n    }\n  } else {\n    if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n      var ele = select('#rename', parent.dialogObj.element);\n      var error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n      error = error.replace('{1}', '\"' + ele.value + '\"');\n      ele.parentElement.nextElementSibling.innerHTML = error;\n      var args = {\n        action: 'rename',\n        error: result.error\n      };\n      parent.trigger('failure', args);\n    } else {\n      if (!isNullOrUndefined(parent.dialogObj)) {\n        parent.dialogObj.hide();\n      }\n\n      onFailure(parent, result, 'rename');\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction pasteSuccess(parent, result, path, operation) {\n  if (result.error && result.error.fileExists) {\n    parent.fileLength = 0;\n\n    if (!isNullOrUndefined(result.files)) {\n      parent.isPasteError = true;\n      doPasteUpdate(parent, operation, result);\n    }\n\n    createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n\n    if (result.error.code === '404') {\n      createDialog(parent, 'Error', result);\n    }\n  } else if (!result.error && !isNullOrUndefined(result.files)) {\n    parent.isPasteError = false;\n    doPasteUpdate(parent, operation, result);\n  } else if (result.error && !isNullOrUndefined(result.files)) {\n    parent.isPasteError = true;\n    doPasteUpdate(parent, operation, result);\n    createDialog(parent, 'Error', result);\n  } else {\n    onFailure(parent, result, operation);\n  }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\n\nfunction deleteSuccess(parent, result, path) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.setProperties({\n      path: path\n    }, true);\n    parent.itemData = [getPathObject(parent)];\n    read(parent, deleteEnd, parent.path);\n\n    if (result.error) {\n      onFailure(parent, result, 'delete');\n    } else {\n      var args = {\n        action: 'delete',\n        result: result\n      };\n      parent.trigger('success', args);\n    }\n  } else {\n    onFailure(parent, result, 'delete');\n  }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\n\n\nfunction detailsSuccess( // eslint:disable-next-line\nparent, result, path, operation) {\n  if (!isNullOrUndefined(result.details)) {\n    createDialog(parent, operation, null, result.details);\n    var args = {\n      action: 'details',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'details');\n  }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\n\n\nfunction onFailure(parent, result, action) {\n  createDialog(parent, 'Error', result);\n  var args = {\n    action: action,\n    error: result.error\n  };\n  parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\n\n\nfunction Search( // eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n  // eslint-disable-next-line\n  var data = {\n    action: 'search',\n    path: path,\n    searchString: searchString,\n    showHiddenItems: showHiddenItems,\n    caseSensitive: caseSensitive,\n    data: parent.itemData\n  };\n  createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\n\n\nfunction searchSuccess(parent, result, event) {\n  if (!isNullOrUndefined(result.files)) {\n    parent.notify(event, result);\n    var args = {\n      action: 'search',\n      result: result\n    };\n    parent.trigger('success', args);\n  } else {\n    onFailure(parent, result, 'search');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\n\n\nfunction Download(parent, path, items) {\n  var downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url; // eslint-disable-next-line\n\n  var data = {\n    'action': 'download',\n    'path': path,\n    'names': items,\n    'data': parent.itemData\n  };\n  var eventArgs = {\n    data: data,\n    cancel: false\n  };\n  parent.trigger('beforeDownload', eventArgs, function (downloadArgs) {\n    if (!downloadArgs.cancel) {\n      var form = createElement('form', {\n        id: parent.element.id + '_downloadForm',\n        attrs: {\n          action: downloadUrl,\n          method: 'post',\n          name: 'downloadForm',\n          'download': ''\n        }\n      });\n      var input = createElement('input', {\n        id: parent.element.id + '_hiddenForm',\n        attrs: {\n          name: 'downloadInput',\n          value: JSON.stringify(downloadArgs.data),\n          type: 'hidden'\n        }\n      });\n      form.appendChild(input);\n      parent.element.appendChild(form);\n      document.forms.namedItem('downloadForm').submit();\n      parent.element.removeChild(form);\n    }\n  });\n} // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\n\n\nfunction createDialog(parent, text, e, details, replaceItems) {\n  var options = getOptions(parent, text, e, details, replaceItems);\n\n  if (isNullOrUndefined(parent.dialogObj)) {\n    parent.dialogObj = new Dialog({\n      beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n      },\n      header: options.header,\n      content: options.content,\n      buttons: options.buttons,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      allowDragging: true,\n      isModal: true,\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      width: '350px',\n      open: options.open,\n      close: options.close,\n      enableRtl: parent.enableRtl,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.dialogObj.isStringTemplate = true;\n    parent.dialogObj.appendTo('#' + parent.element.id + DIALOG_ID);\n  } else {\n    changeOptions(parent, options);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\n\n\nfunction createExtDialog(parent, text, replaceItems, newPath) {\n  var extOptions = getExtOptions(parent, text, replaceItems, newPath);\n  parent.isApplySame = false;\n\n  if (isNullOrUndefined(parent.extDialogObj)) {\n    parent.extDialogObj = new Dialog({\n      beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n      },\n      content: extOptions.content,\n      header: extOptions.header,\n      closeOnEscape: true,\n      allowDragging: true,\n      animationSettings: {\n        effect: 'None'\n      },\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      enableRtl: parent.enableRtl,\n      showCloseIcon: true,\n      isModal: true,\n      width: 350,\n      buttons: extOptions.buttons,\n      open: extOptions.open,\n      close: extOptions.close,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.extDialogObj.isStringTemplate = true;\n    parent.extDialogObj.appendTo('#' + parent.element.id + EXTN_DIALOG_ID);\n  } else {\n    parent.extDialogObj.header = extOptions.header;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.open = extOptions.open;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.content = extOptions.content;\n    parent.extDialogObj.buttons = extOptions.buttons;\n    parent.extDialogObj.enableRtl = parent.enableRtl;\n    parent.extDialogObj.locale = parent.locale;\n    parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n\n    parent.extDialogObj.beforeClose = function (args) {\n      triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n    };\n\n    parent.extDialogObj.dataBind();\n    parent.extDialogObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n  var eventArgs = {\n    cancel: args.cancel,\n    popupName: dialogName,\n    popupModule: dlgModule\n  };\n  parent.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n    args.cancel = eventargs.cancel;\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n  var eventArgs = {\n    cancel: args.cancel,\n    popupModule: dlgModule,\n    popupName: dialogName\n  };\n  parent.trigger('beforePopupClose', eventArgs, function (eventargs) {\n    args.cancel = eventargs.cancel;\n\n    if (!args.cancel && args.isInteracted && (dialogName === 'Rename' || dialogName === 'Create Folder')) {\n      parent.trigger(actionFailure, {});\n    }\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n  var args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n  var args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupClose', args);\n} // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\n\n\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n  var options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  var duplicateContent;\n  var item;\n  var index;\n\n  options.open = function () {\n    triggerPopupOpen(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  options.close = function () {\n    triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  switch (text) {\n    case 'Extension':\n      options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n      options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function () {\n          parent.extDialogObj.hide();\n          rename(parent, newPath, parent.renameText);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.extDialogObj.hide();\n          parent.dialogObj.hide();\n        }\n      }];\n      options.dialogName = 'Extension Change';\n      break;\n\n    case 'DuplicateItems':\n      options.dialogName = 'Duplicate Items';\n      parent.replaceItems = replaceItems;\n      item = parent.replaceItems[parent.fileLength];\n      index = item.lastIndexOf('/');\n      item = index === -1 ? item : item.substring(index);\n      options.header = getLocaleText(parent, 'Header-Duplicate');\n      duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n      options.content = duplicateContent.replace('{0}', item);\n\n      options.close = function () {\n        if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n          var args = {\n            fileDetails: parent.droppedObjects\n          };\n          parent.trigger('fileDropped', args);\n          parent.isDropEnd = parent.isDragDrop = false;\n        }\n\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function () {\n          parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n          parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            var item_1 = parent.replaceItems[parent.fileLength];\n            var indexval = item_1.lastIndexOf('/');\n            item_1 = indexval === -1 ? item_1 : item_1.substring(indexval);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item_1);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n            var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n            var path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n            var action = parent.isDragDrop ? 'move' : parent.fileAction;\n            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n          }\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            var item_2 = parent.replaceItems[parent.fileLength];\n            var ind = item_2.lastIndexOf('/');\n            item_2 = ind === -1 ? item_2 : item_2.substring(ind);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item_2);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n\n            if (parent.duplicateItems.length !== 0) {\n              var action = parent.isDragDrop ? 'move' : parent.fileAction;\n              var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n              var path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n              paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n            }\n          }\n        }\n      }];\n      break;\n\n    case 'UploadRetry':\n      options.dialogName = 'Retry Upload';\n      options.header = getLocaleText(parent, 'Header-Retry');\n      options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' + getLocaleText(parent, 'Content-Retry') + '</div>';\n      options.open = onRetryOpen.bind(this, parent);\n\n      options.close = function () {\n        parent.isRetryOpened = false;\n        retryDlgClose(parent);\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Keep-Both')\n        },\n        click: function () {\n          retryDlgUpdate(parent, true);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Replace')\n        },\n        click: function () {\n          retryDlgUpdate(parent, false);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Skip')\n        },\n        click: function () {\n          var count = 0;\n\n          if (parent.isApplySame) {\n            count = parent.retryFiles.length;\n            parent.retryFiles = [];\n            retryDlgClose(parent);\n          } else {\n            count = 1;\n            parent.retryFiles.splice(0, 1);\n\n            if (parent.retryFiles.length !== 0) {\n              createExtDialog(parent, 'UploadRetry');\n            } else {\n              retryDlgClose(parent);\n            }\n          }\n\n          parent.notify(skipUpload, {\n            count: count\n          });\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgUpdate(parent, isKeepBoth) {\n  if (parent.isApplySame) {\n    if (isKeepBoth) {\n      onKeepBothAll(parent);\n    } else {\n      onReplaceAll(parent);\n    }\n\n    retryDlgClose(parent);\n  } else {\n    parent.retryArgs.push({\n      action: isKeepBoth ? 'keepboth' : 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n\n    if (parent.retryFiles.length !== 0) {\n      createExtDialog(parent, 'UploadRetry');\n    } else {\n      retryDlgClose(parent);\n    }\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgClose(parent) {\n  var flag = true;\n\n  if (parent.isRetryOpened) {\n    parent.isRetryOpened = false;\n  } else {\n    flag = false;\n  }\n\n  var ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n\n  if (ele) {\n    remove(ele);\n  }\n\n  if (flag) {\n    parent.extDialogObj.hide();\n  } else {\n    parent.retryFiles = [];\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction onRetryOpen(parent, args) {\n  parent.isRetryOpened = true;\n  var dialogEle = getValue('element', args);\n  var container = select('.e-dlg-content', dialogEle);\n  var checkContainer = parent.createElement('div', {\n    className: 'e-dlg-checkbox'\n  });\n  var checkbox = parent.createElement('input', {\n    id: parent.element.id + '_applyall'\n  });\n  checkContainer.appendChild(checkbox);\n  container.appendChild(checkContainer);\n  var checkBoxObj = new CheckBox({\n    label: getLocaleText(parent, 'ApplyAll-Label'),\n    change: function (args) {\n      parent.isApplySame = args.checked;\n    }\n  });\n  checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n  triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onKeepBothAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'keepboth',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReplaceAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction focusInput(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n  ele.focus();\n  ele.value = '';\n  var len = ele.value.length;\n  ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFolderDialogOpen(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n\n  if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n  }\n\n  ele.parentElement.nextElementSibling.innerHTML = '';\n\n  ele.oninput = function () {\n    onValidate(parent, ele);\n  };\n\n  ele.onkeyup = function (e) {\n    var code = getKeyCode(e);\n\n    if (code === 13) {\n      onSubmit(parent);\n    }\n  };\n\n  focusInput(parent);\n  triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onRenameDialogOpen(parent) {\n  var inputEle = select('#rename', parent.dialogObj.element);\n\n  if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n  }\n\n  inputEle.parentElement.nextElementSibling.innerHTML = '';\n\n  inputEle.oninput = function () {\n    onValidate(parent, inputEle);\n  };\n\n  inputEle.onkeyup = function (e) {\n    var code = getKeyCode(e);\n\n    if (code === 13) {\n      onReSubmit(parent);\n    }\n  };\n\n  onFocusRenameInput(parent, inputEle);\n  triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFocusRenameInput(parent, inputEle) {\n  inputEle.focus();\n  var txt = '';\n\n  if (parent.isFile && !parent.showFileExtension) {\n    var index = parent.currentItemText.lastIndexOf('.');\n    txt = index === -1 ? parent.currentItemText : parent.currentItemText.substring(0, index);\n  } else {\n    txt = parent.currentItemText;\n  }\n\n  inputEle.value = txt;\n\n  if (parent.isFile && parent.showFileExtension && inputEle.value.indexOf('.') !== -1) {\n    inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n  } else {\n    inputEle.setSelectionRange(0, inputEle.value.length);\n  }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\n\n\nfunction createInput(ele, placeholder) {\n  Input.createInput({\n    element: ele,\n    properties: {\n      placeholder: placeholder\n    }\n  });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\n\n\nfunction getOptions(parent, text, e, details, replaceItems) {\n  var options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  var permission;\n  var formattedString;\n  var intl;\n  var strArr;\n  var fileType$$1;\n  var location;\n\n  options.open = function () {\n    triggerPopupOpen(parent, parent.dialogObj, options.dialogName);\n  };\n\n  options.close = function () {\n    triggerPopupClose(parent, parent.dialogObj, options.dialogName);\n  };\n\n  text = details && details.multipleFiles === true ? 'MultipleFileDetails' : text;\n\n  switch (text) {\n    case 'NewFolder':\n      options.dialogName = 'Create Folder';\n      options.header = getLocaleText(parent, 'Header-NewFolder');\n      options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Create')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onSubmit(parent);\n        }\n      }];\n      options.open = onFolderDialogOpen.bind(this, parent);\n      break;\n\n    case 'Delete':\n      options.dialogName = 'Delete';\n\n      if (parent.selectedItems.length > 1) {\n        options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>').replace('{0}', parent.selectedItems.length.toString());\n        options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n      } else {\n        options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n        options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n      }\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function (e) {\n          onDeleteSubmit(parent);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Rename':\n      options.dialogName = 'Rename';\n      options.header = getLocaleText(parent, 'Header-Rename');\n      options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Save')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onReSubmit(parent);\n        }\n      }];\n      options.open = onRenameDialogOpen.bind(this, parent);\n      break;\n\n    case 'details':\n      options.dialogName = 'File Details';\n      intl = new Internationalization(parent.locale);\n      formattedString = intl.formatDate(new Date(details.modified), {\n        format: 'MMMM dd, yyyy HH:mm:ss'\n      });\n      permission = '';\n\n      if (!isNullOrUndefined(details.permission)) {\n        permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + VALUE + '\" >' + objectToString(details.permission) + '</td></tr>';\n      }\n\n      options.header = details.name;\n      options.content = '<table>' + '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + VALUE + '\" title=\"' + (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + VALUE + '\" title =\"' + details.size + '\">' + details.size + '</span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + VALUE + '\" title=\"' + details.location + '\">' + details.location + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + VALUE + '\" >' + formattedString + '</td></tr>' + permission + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'MultipleFileDetails':\n      var index_1;\n      options.dialogName = 'File Details';\n      strArr = parent.itemData.map(function (val) {\n        index_1 = val.name.indexOf('.') + 1;\n        return index_1 === 0 && !val.isFile ? 'Folder' : index_1 !== 0 ? val.name.substr(index_1).replace(' ', '') : 'undetermined';\n      });\n\n      if (strArr[0] == undefined) {\n        strArr = details.name.split(',').map(function (val) {\n          index_1 = val.indexOf('.') + 1;\n          return index_1 === 0 ? 'Folder' : val.substr(index_1).replace(' ', '');\n        });\n      }\n\n      fileType$$1 = strArr.every(function (val, i, arr) {\n        return val === arr[0];\n      }) ? strArr[0] === 'Folder' ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type' : 'Multiple Types';\n      location = details.location;\n      options.header = details.name;\n      options.content = '<table><tr><td>' + getLocaleText(parent, 'Type') + ':</td><td class=\"' + VALUE + '\">' + fileType$$1 + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' + details.size + '<span class=\"' + VALUE + '\" title =\"' + details.size + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + ':</td><td class=\"' + VALUE + '\" title=\"' + location + '\">' + location + '</td></tr>' + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Error':\n      parent.notify(actionFailure, {});\n      options.dialogName = 'Error';\n\n      if (e.error.code === '401') {\n        options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' + getLocaleText(parent, 'Access-Denied') + '</div>';\n      } else {\n        options.header = getLocaleText(parent, 'Error');\n      }\n\n      options.content = '<div class=\"' + ERROR_CONTENT + '\">' + e.error.message + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction keydownAction(parent, dialogName, args) {\n  var btnElement = selectAll('.e-btn', parent.dialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction beforeExtOpen(parent, dlgName, args) {\n  var btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\n\n\nfunction preventKeydown(btnElement) {\n  var _loop_1 = function (btnCount) {\n    btnElement[btnCount].onkeydown = function (e) {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n      }\n    };\n\n    btnElement[btnCount].onkeyup = function (e) {\n      if (e.keyCode === 13) {\n        btnElement[btnCount].click();\n      }\n    };\n  };\n\n  for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n    _loop_1(btnCount);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\n\n\nfunction changeOptions(parent, options) {\n  parent.dialogObj.header = options.header;\n  parent.dialogObj.content = options.content;\n  parent.dialogObj.buttons = options.buttons;\n  parent.dialogObj.enableRtl = parent.enableRtl;\n  parent.dialogObj.open = options.open;\n  parent.dialogObj.close = options.close;\n  parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n\n  parent.dialogObj.beforeClose = function (args) {\n    triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n  };\n\n  parent.dialogObj.dataBind();\n  parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmit(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReSubmit(parent) {\n  var ele = select('#rename', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  var text = ele.value;\n  var oIndex = parent.currentItemText.lastIndexOf('.');\n\n  if (parent.isFile && !parent.showFileExtension) {\n    var extn = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    text += extn;\n  }\n\n  parent.renameText = text;\n\n  if (parent.currentItemText === text) {\n    parent.dialogObj.hide();\n    return;\n  }\n\n  var newPath = parent.activeModule === 'navigationpane' ? getParentPath(parent.path) : parent.path;\n  parent.renamedId = getValue('id', parent.itemData[0]);\n\n  if (parent.isFile) {\n    var oldExtension = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    var nIndex = text.lastIndexOf('.');\n    var newExtension = nIndex === -1 ? '' : text.substr(nIndex);\n\n    if (parent.showFileExtension && oldExtension !== newExtension) {\n      createExtDialog(parent, 'Extension', null, newPath);\n    } else {\n      rename(parent, newPath, text);\n    }\n  } else {\n    rename(parent, newPath, text);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onDeleteSubmit(parent) {\n  parent.dialogObj.hide();\n  parent.notify(deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onValidate(parent, ele) {\n  if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n    addInvalid(parent, ele);\n  } else if (ele.value === '') {\n    ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = '';\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmitValidate(parent, ele) {\n  onValidate(parent, ele);\n  var len = ele.value.length - 1;\n\n  if (ele.value !== '' && (ele.value.lastIndexOf('.') === len || ele.value.lastIndexOf(' ') === len) && (parent.showFileExtension || parent.currentItemText.lastIndexOf('.') === -1)) {\n    addInvalid(parent, ele);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction addInvalid(parent, ele) {\n  var error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n\n  if (parent.enableHtmlSanitizer) {\n    ele.parentElement.nextElementSibling.textContent = error;\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = error;\n  }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\n\n\nfunction getKeyCode(e) {\n  var code;\n\n  if (e.keyCode) {\n    code = e.keyCode;\n  } else if (e.which) {\n    code = e.which;\n  } else {\n    code = e.charCode;\n  }\n\n  return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\n\n\nfunction createImageDialog(parent, header, imageUrl) {\n  var content = createElement('div', {\n    className: 'e-image-wrap'\n  });\n  var image = createElement('img', {\n    className: 'e-image',\n    attrs: {\n      src: imageUrl,\n      alt: header\n    }\n  });\n  content.appendChild(image);\n\n  if (isNullOrUndefined(parent.viewerObj)) {\n    parent.viewerObj = new Dialog({\n      header: header,\n      content: content,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      isModal: true,\n      width: '350px',\n      height: '350px',\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n      locale: parent.locale,\n      enableResize: true,\n      allowDragging: true,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: parent.enableRtl,\n      open: openImage.bind(this, parent),\n      close: function () {\n        triggerPopupClose(parent, parent.viewerObj, 'Image Preview');\n      },\n      beforeOpen: function (args) {\n        triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      resizing: updateImage.bind(this, parent),\n      resizeStop: updateImage.bind(this, parent)\n    });\n    parent.viewerObj.isStringTemplate = true;\n    parent.viewerObj.appendTo('#' + parent.element.id + IMG_DIALOG_ID);\n  } else {\n    parent.viewerObj.refresh();\n    parent.viewerObj.header = header;\n    parent.viewerObj.content = content;\n    parent.viewerObj.enableRtl = parent.enableRtl;\n    parent.viewerObj.dataBind();\n    parent.viewerObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction openImage(parent) {\n  setTimeout(function () {\n    if (parent.viewerObj) {\n      parent.viewerObj.element.focus();\n    }\n  });\n  updateImage(parent);\n  triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction updateImage(parent) {\n  var content = select('.e-dlg-content', parent.viewerObj.element);\n  var imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n  var cssObj = window.getComputedStyle(content, null);\n  var paddingWidth = cssObj ? 2 * parseFloat(cssObj.paddingRight) : 36;\n  var paddingHeight = cssObj ? 2 * parseFloat(cssObj.paddingBottom) : 20;\n  imgWrap.style.width = content.offsetWidth - paddingWidth + 'px';\n  imgWrap.style.height = content.offsetHeight - paddingHeight + 'px';\n}\n/**\n * File Manager common operations\n */\n\n/**\n * LargeIconsView module\n */\n\n\nvar LargeIconsView =\n/** @__PURE__ @class */\nfunction () {\n  /**\n   * Constructor for the LargeIcons module.\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  function LargeIconsView(parent) {\n    this.isInteraction = true;\n    this.uploadOperation = false;\n    this.count = 0;\n    this.isRendered = true;\n    this.tapCount = 0;\n    this.isPasteOperation = false;\n    this.isInteracted = true;\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n    addClass([this.element], LARGE_ICONS);\n    this.addEventListener();\n    this.keyConfigs = {\n      end: 'end',\n      home: 'home',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      ctrlUp: 'ctrl+uparrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftLeft: 'shift+leftarrow',\n      shiftRight: 'shift+rightarrow',\n      shiftUp: 'shift+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csLeft: 'ctrl+shift+leftarrow',\n      csRight: 'ctrl+shift+rightarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      ctrlA: 'ctrl+a',\n      enter: 'enter',\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      f2: 'f2',\n      shiftdel: 'shift+delete',\n      back: 'backspace',\n      ctrlD: 'ctrl+d'\n    };\n  }\n\n  LargeIconsView.prototype.render = function (args) {\n    this.parent.visitedItem = null;\n    this.startItem = null;\n    showSpinner(this.parent.element);\n\n    if (this.parent.view === 'LargeIcons') {\n      this.resetMultiSelect();\n      this.element.setAttribute('tabindex', '0');\n\n      if (this.listObj) {\n        this.unWireEvents();\n        this.removeEventListener();\n      }\n\n      this.parent.notify(hideLayout, {});\n      var iconsView = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n      var ul = select('ul', iconsView);\n\n      if (ul) {\n        remove(ul);\n      }\n\n      this.listObj = {\n        ariaAttributes: {\n          itemRole: 'option',\n          listRole: 'listbox',\n          itemText: '',\n          groupItemRole: 'group',\n          wrapperRole: ''\n        },\n        showIcon: true,\n        fields: {\n          text: 'name',\n          iconCss: '_fm_icon',\n          imageUrl: '_fm_imageUrl',\n          htmlAttributes: '_fm_htmlAttr'\n        },\n        sortOrder: this.parent.sortOrder,\n        itemCreated: this.onItemCreated.bind(this),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n      };\n      this.items = [];\n      this.items = this.renderList(args);\n      this.items = getSortedData(this.parent, this.items); // eslint-disable-next-line\n\n      this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n      this.itemList = Array.prototype.slice.call(selectAll('.' + LIST_ITEM, this.listElements));\n      this.element.appendChild(this.listElements);\n      this.preventImgDrag();\n      this.createDragObj();\n      iconsView.classList.remove(DISPLAY_NONE);\n\n      if (this.itemList.length === 0) {\n        var emptyList = this.element.querySelector('.' + LIST_PARENT);\n        this.element.removeChild(emptyList);\n        createEmptyElement(this.parent, this.element, args);\n      } else if (this.itemList.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n        this.element.removeChild(this.element.querySelector('.' + EMPTY));\n      }\n\n      if (this.isPasteOperation === true) {\n        this.selectItems(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      }\n      /* istanbul ignore next */\n\n\n      if (this.uploadOperation === true) {\n        this.selectItems(this.parent.uploadItem);\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n        this.count++;\n\n        if (this.count === this.parent.uploadItem.length) {\n          this.uploadOperation = false;\n          this.parent.uploadItem = [];\n        }\n      }\n\n      var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.parent.activeModule = 'largeiconsview';\n      }\n\n      for (var i = 0; i < activeEle.length; i++) {\n        activeEle[i].setAttribute('aria-selected', 'true');\n      }\n\n      this.adjustHeight();\n      this.element.style.maxHeight = '100%';\n      this.getItemCount();\n      this.addEventListener();\n      this.wireEvents();\n      this.isRendered = true;\n      hideSpinner(this.parent.element);\n\n      if (this.parent.selectedItems.length) {\n        this.checkItem();\n      }\n    }\n  };\n\n  LargeIconsView.prototype.preventImgDrag = function () {\n    var i = 0;\n\n    while (i < this.itemList.length) {\n      if (this.itemList[i].querySelector('img')) {\n        /* istanbul ignore next */\n        this.itemList[i].ondragstart = function () {\n          return false;\n        };\n      }\n\n      i++;\n    }\n  };\n\n  LargeIconsView.prototype.createDragObj = function () {\n    var _this = this;\n\n    if (!this.parent.isMobile && this.listObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.listElements, {\n          enableTailMode: true,\n          distance: 5,\n          enableAutoScroll: true,\n          dragTarget: '.' + LARGE_ICON,\n          helper: this.dragHelper.bind(this),\n          cursorAt: this.parent.dragCursorPosition,\n          dragArea: this.parent.element,\n          dragStop: dragStopHandler.bind(this, this.parent),\n          drag: draggingHandler.bind(this, this.parent),\n          clone: true,\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          }\n        });\n      } else if (this.dragObj && !this.parent.allowDragAndDrop) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n\n  LargeIconsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = closest(dragTarget, '.e-list-item');\n\n    if (!dragLi) {\n      return null;\n    }\n\n    if (dragLi && !dragLi.classList.contains('e-active')) {\n      this.setFocus(dragLi);\n    }\n\n    var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n    this.parent.activeElements = [];\n    this.parent.dragData = [];\n\n    for (var i = 0; i < activeEle.length; i++) {\n      // eslint-disable-next-line\n      this.parent.dragData.push(this.getItemObject(activeEle[i]));\n      this.parent.activeElements.push(activeEle[i]);\n    }\n\n    getModule(this.parent, dragLi);\n    this.parent.dragPath = this.parent.path;\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n\n  LargeIconsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var dropLi = closest(args.target, '.e-list-item'); // eslint-disable-next-line\n\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n\n      if (dropLi) {\n        // eslint-disable-next-line\n        var info = this.getItemObject(dropLi);\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      } else {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      }\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  LargeIconsView.prototype.getModuleName = function () {\n    return 'largeiconsview';\n  };\n\n  LargeIconsView.prototype.adjustHeight = function () {\n    var pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n    this.element.style.height = pane.offsetHeight - bar.offsetHeight + 'px';\n  };\n\n  LargeIconsView.prototype.onItemCreated = function (args) {\n    args.item.removeAttribute('aria-level');\n\n    if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n      var textEle = args.item.querySelector('.' + LIST_TEXT);\n      var txt = getValue('name', args.curData);\n      var type = getValue('type', args.curData);\n      textEle.innerHTML = txt.substr(0, txt.length - type.length);\n    }\n\n    this.renderCheckbox(args);\n    var eventArgs = {\n      element: args.item,\n      fileDetails: args.curData,\n      module: 'LargeIconsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n\n  LargeIconsView.prototype.renderCheckbox = function (args) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    var checkElement = createCheckBox(createElement, false, {\n      checked: false,\n      cssClass: 'e-small'\n    });\n    checkElement.setAttribute('role', 'checkbox');\n    checkElement.setAttribute('aria-checked', 'false');\n    args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n  };\n\n  LargeIconsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.destroy();\n      this.render(args);\n      /* istanbul ignore next */\n\n      if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' && this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n        var indexes = this.getIndexes(this.parent.selectedNodes);\n        var length_1 = 0;\n\n        while (length_1 < indexes.length) {\n          addBlur(this.itemList[indexes[length_1]]);\n          length_1++;\n        }\n      }\n\n      var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n\n      if (activeEle.length !== 0) {\n        this.element.focus();\n      }\n\n      this.checkItem();\n      this.parent.isLayoutChange = false;\n    } else {\n      this.element.setAttribute('tabindex', '-1');\n    }\n  };\n\n  LargeIconsView.prototype.checkItem = function () {\n    var checkEle = this.element.querySelectorAll('.' + ACTIVE);\n\n    if (checkEle) {\n      var checkLength = 0;\n\n      while (checkLength < checkEle.length) {\n        this.checkState(checkEle[checkLength], true);\n        checkLength++;\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.renderList = function (args) {\n    var i = 0; // eslint-disable-next-line\n\n    var items = JSON.parse(JSON.stringify(args.files));\n\n    while (i < items.length) {\n      var icon = fileType(items[i]);\n      var name_1 = getValue('name', items[i]);\n      var selected = getItemName(this.parent, items[i]);\n      var className = this.parent.selectedItems && this.parent.selectedItems.indexOf(selected) !== -1 ? LARGE_ICON + ' e-active' : LARGE_ICON;\n\n      if (!hasEditAccess(items[i])) {\n        className += ' ' + getAccessClass(items[i]);\n      }\n\n      if (icon === ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n        var imgUrl = getImageUrl(this.parent, items[i]);\n        setValue('_fm_imageUrl', imgUrl, items[i]);\n        setValue('_fm_imageAttr', {\n          alt: name_1\n        }, items[i]);\n      } else {\n        setValue('_fm_icon', icon, items[i]);\n      }\n\n      setValue('_fm_htmlAttr', {\n        class: className,\n        title: name_1\n      }, items[i]);\n      i++;\n    }\n\n    return items;\n  };\n\n  LargeIconsView.prototype.onFinalizeEnd = function (args) {\n    this.render(args);\n  };\n\n  LargeIconsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.clearSelect();\n    this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n    this.parent.createdItem = null;\n    this.parent.largeiconsviewModule.element.focus();\n  };\n\n  LargeIconsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.updateSelectedData();\n    }\n  };\n\n  LargeIconsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'largeiconsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n\n\n  LargeIconsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.clearSelect();\n  };\n\n  LargeIconsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.onLayoutChange(args);\n  };\n\n  LargeIconsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n\n  LargeIconsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n    /* istanbul ignore next */\n\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n      this.parent.searchedItems = [];\n    }\n\n    if (this.parent.view === 'LargeIcons') {\n      removeBlur(this.parent);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.onLayoutChange(args);\n\n      if (this.parent.renamedItem) {\n        this.clearSelect();\n        this.addSelection(this.parent.renamedItem);\n        this.parent.renamedItem = null;\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onOpenInit = function (args) {\n    if (this.parent.activeModule === 'largeiconsview') {\n      this.doOpenAction(args.target);\n    }\n  };\n\n  LargeIconsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'LargeIcons' && this.element) {\n      this.element.classList.add(DISPLAY_NONE);\n    }\n  };\n\n  LargeIconsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.startItem = this.getFirstItem();\n      var lastItem = this.getLastItem();\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      this.doSelection(lastItem, eveArgs);\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n\n  LargeIconsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'LargeIcons') {\n      this.clearSelection();\n      this.isInteraction = true;\n      this.isInteracted = true;\n    }\n  };\n\n  LargeIconsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n\n  LargeIconsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n  /* istanbul ignore next */\n\n\n  LargeIconsView.prototype.onSearch = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(selectionChanged, {});\n      this.parent.searchedItems = args.files;\n      this.onLayoutChange(args);\n    }\n  };\n\n  LargeIconsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.adjustHeight();\n  };\n\n  LargeIconsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    this.updateSelectedData();\n  };\n\n  LargeIconsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(this.listObj) && this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered && this.parent.sortBy === 'filterPath') {\n      this.parent.sortBy = 'name';\n      this.parent.notify(sortByChange, {});\n    }\n  };\n\n  LargeIconsView.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(pathColumn, this.onPathColumn);\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(search, this.onSearch);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(openEnd, this.onPathChanged);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(methodCall, this.onMethodCall);\n    this.parent.off(actionFailure, this.onActionFailure);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onPathChanged);\n    this.parent.off(hideLayout, this.onHideLayout);\n    this.parent.off(selectAllInit, this.onSelectAllInit);\n    this.parent.off(clearAllInit, this.onClearAllInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(beforeRequest, this.onBeforeRequest);\n    this.parent.off(afterRequest, this.onAfterRequest);\n    this.parent.off(splitterResize, this.splitterResizeHandler);\n    this.parent.off(resizeEnd, this.resizeHandler);\n    this.parent.off(pasteInit, this.onpasteInit);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n    this.parent.off(filterEnd, this.onPathChanged);\n  };\n\n  LargeIconsView.prototype.addEventListener = function () {\n    this.parent.on(pathColumn, this.onPathColumn, this);\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(pasteInit, this.onpasteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(search, this.onSearch, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onPathChanged, this);\n    this.parent.on(openEnd, this.onPathChanged, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(methodCall, this.onMethodCall, this);\n    this.parent.on(actionFailure, this.onActionFailure, this);\n    this.parent.on(hideLayout, this.onHideLayout, this);\n    this.parent.on(selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(clearAllInit, this.onClearAllInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(afterRequest, this.onAfterRequest, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(splitterResize, this.splitterResizeHandler, this);\n    this.parent.on(resizeEnd, this.resizeHandler, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n    this.parent.on(filterEnd, this.onPathChanged, this);\n  };\n\n  LargeIconsView.prototype.onActionFailure = function () {\n    this.isInteraction = true;\n    this.isInteracted = true;\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var ele = closest(args.target, 'li');\n      this.parent.itemData = [this.getItemObject(ele)];\n    }\n  };\n\n  LargeIconsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.updateSelectedData();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onpasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath === '' ? [getPathObject(this.parent)] : [this.getItemObject(select('.e-active', this.element))];\n    }\n  };\n\n  LargeIconsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n      this.parent.activeRecords = [];\n      this.parent.activeElements = [];\n\n      for (var i = 0; i < activeEle.length; i++) {\n        this.parent.activeElements.push(activeEle[i]);\n        this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'LargeIcons') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n\n  LargeIconsView.prototype.onPropertyChanged = function (e) {\n    var currentSelected;\n\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n\n        case 'height':\n          this.adjustHeight();\n          break;\n\n        case 'selectedItems':\n          this.isInteraction = false;\n          this.isInteracted = false;\n          currentSelected = isNullOrUndefined(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n          currentSelected = this.parent.allowMultiSelection ? currentSelected : currentSelected.slice(currentSelected.length - 1);\n          this.parent.setProperties({\n            selectedItems: []\n          }, true);\n          this.onClearAllInit();\n\n          if (currentSelected.length) {\n            this.selectItems(currentSelected);\n          }\n\n          this.parent.setProperties({\n            selectedItems: this.parent.selectedItems\n          }, true);\n          this.isInteraction = true;\n          this.isInteracted = true;\n          break;\n\n        case 'showThumbnail':\n          refresh(this.parent);\n          break;\n\n        case 'showFileExtension':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'showHiddenItems':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'allowMultiSelection':\n          if (this.parent.view !== 'LargeIcons') {\n            break;\n          }\n\n          refresh(this.parent);\n          break;\n\n        case 'view':\n          updateLayout(this.parent, 'LargeIcons');\n          break;\n      }\n    }\n  };\n\n  LargeIconsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.listObj) {\n      this.unWireEvents();\n    }\n  };\n\n  LargeIconsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n  };\n\n  LargeIconsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n  };\n  /* istanbul ignore next */\n\n\n  LargeIconsView.prototype.onMouseOver = function (e) {\n    var targetEle = closest(e.target, '.e-list-item');\n    removeBlur(this.parent, 'hover');\n\n    if (targetEle !== null) {\n      targetEle.classList.add(HOVER);\n    }\n  };\n\n  LargeIconsView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      var proxy_1 = this;\n      this.clickObj = new Touch(this.element, {\n        tap: function (eve) {\n          eve.originalEvent.preventDefault();\n\n          if (proxy_1.parent.isDevice) {\n            proxy_1.tapCount = eve.tapCount;\n            proxy_1.tapEvent = eve;\n            setTimeout(function () {\n              if (proxy_1.tapCount > 0) {\n                proxy_1.doTapAction(proxy_1.tapEvent);\n              }\n\n              proxy_1.tapCount = 0;\n            }, 350);\n          } else {\n            if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n              proxy_1.dblClickHandler(eve);\n            } else {\n              proxy_1.clickHandler(eve);\n            }\n          }\n        },\n        tapHold: function (e) {\n          if (proxy_1.parent.isDevice) {\n            proxy_1.multiSelect = proxy_1.parent.allowMultiSelection ? true : false;\n\n            if (proxy_1.parent.allowMultiSelection) {\n              addClass([proxy_1.parent.element], MULTI_SELECT);\n            }\n\n            proxy_1.clickHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n\n  LargeIconsView.prototype.doTapAction = function (eve) {\n    var target = eve.originalEvent.target;\n    var item = closest(target, '.' + LIST_ITEM);\n\n    if (this.multiSelect || target.classList.contains(LIST_PARENT) || isNullOrUndefined(item)) {\n      this.clickHandler(eve);\n    } else {\n      this.parent.isFile = false;\n      this.updateType(item);\n\n      if (!this.parent.isFile) {\n        this.dblClickHandler(eve);\n      } else if (eve.tapCount === 2) {\n        this.clickHandler(eve);\n        this.dblClickHandler(eve);\n      } else {\n        this.clickHandler(eve);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.clickHandler = function (e) {\n    var target = e.originalEvent.target;\n    removeBlur(this.parent, 'hover');\n    this.doSelection(target, e.originalEvent);\n    this.parent.activeModule = 'largeiconsview';\n  };\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  LargeIconsView.prototype.doSelection = function (target, e) {\n    var item = closest(target, '.' + LIST_ITEM);\n    var cList = target.classList;\n    this.parent.isFile = false;\n    var action = 'select';\n\n    if (e.which === 3 && !isNullOrUndefined(item) && item.classList.contains(ACTIVE)) {\n      this.updateType(item);\n      return;\n    } else if (!isNullOrUndefined(item)) {\n      if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE) && (e.ctrlKey || target.classList.contains(CHECK))) {\n        action = 'unselect';\n      }\n\n      var fileSelectionArgs = this.triggerSelection(action, item);\n\n      if (fileSelectionArgs.cancel !== true) {\n        if ((!this.parent.allowMultiSelection || !this.multiSelect && e && !e.ctrlKey) && !cList.contains(FRAME)) {\n          this.updateType(item);\n          this.clearSelect();\n        }\n\n        if (this.parent.allowMultiSelection && e.shiftKey) {\n          if (!(e && e.ctrlKey)) {\n            this.clearSelect();\n          }\n\n          if (!this.startItem) {\n            this.startItem = item;\n          }\n\n          var startIndex = this.itemList.indexOf(this.startItem);\n          var endIndex = this.itemList.indexOf(item);\n\n          if (startIndex > endIndex) {\n            for (var i = startIndex; i >= endIndex; i--) {\n              this.addActive(this.itemList[i]);\n            }\n          } else {\n            for (var i = startIndex; i <= endIndex; i++) {\n              this.addActive(this.itemList[i]);\n            }\n          }\n\n          this.addFocus(this.itemList[endIndex]);\n        } else {\n          this.startItem = item;\n\n          if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)) {\n            this.removeActive(item);\n          } else {\n            this.addActive(item);\n          }\n\n          this.addFocus(item);\n        }\n\n        if (this.parent.selectedItems.length === 0) {\n          this.resetMultiSelect();\n        }\n\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect(action, item);\n      }\n    } else {\n      this.clearSelection();\n    }\n\n    if (!isNullOrUndefined(item)) {\n      this.updateType(item);\n    }\n  };\n\n  LargeIconsView.prototype.dblClickHandler = function (e) {\n    this.parent.activeModule = 'largeiconsview';\n    var target = e.originalEvent.target;\n    this.doOpenAction(target);\n  };\n\n  LargeIconsView.prototype.clearSelection = function () {\n    this.clearSelect();\n    this.resetMultiSelect();\n    this.parent.notify(selectionChanged, {});\n  };\n\n  LargeIconsView.prototype.resetMultiSelect = function () {\n    this.multiSelect = false;\n    removeClass([this.parent.element], MULTI_SELECT);\n  };\n\n  LargeIconsView.prototype.doOpenAction = function (target) {\n    var _this = this;\n\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    var item = closest(target, '.' + LIST_ITEM);\n    this.parent.isFile = false;\n\n    if (!isNullOrUndefined(item)) {\n      this.updateType(item); // eslint-disable-next-line\n\n      var details_1 = this.getItemObject(item);\n\n      if (!hasReadAccess(details_1)) {\n        createDeniedDialog(this.parent, details_1, permissionRead);\n        return;\n      }\n\n      var eventArgs = {\n        cancel: false,\n        fileDetails: details_1,\n        module: 'LargeIconsView'\n      };\n      this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n        if (!fileOpenArgs.cancel) {\n          var text = getValue('name', details_1);\n\n          if (!_this.parent.isFile) {\n            var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n\n            if (val === '' && !_this.parent.isFiltered) {\n              var id = getValue('id', details_1);\n              _this.parent.oldPath = _this.parent.path;\n              var newPath = _this.parent.path + (isNullOrUndefined(id) ? text : id) + '/';\n\n              _this.parent.setProperties({\n                path: newPath\n              }, true);\n\n              _this.parent.pathNames.push(text);\n\n              _this.parent.pathId.push(getValue('_fm_id', details_1));\n\n              _this.parent.itemData = [details_1];\n              openAction(_this.parent);\n            } else {\n              openSearchFolder(_this.parent, details_1);\n            }\n\n            _this.parent.isFiltered = false;\n\n            _this.parent.setProperties({\n              selectedItems: []\n            }, true);\n          } else {\n            var icon = fileType(details_1);\n\n            if (icon === ICON_IMAGE) {\n              var imgUrl = getImageUrl(_this.parent, details_1);\n              createImageDialog(_this.parent, text, imgUrl);\n            }\n          }\n        }\n      });\n    }\n  };\n\n  LargeIconsView.prototype.updateType = function (item) {\n    var folder = select('.' + FOLDER, item);\n    this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  LargeIconsView.prototype.keydownActionHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'moveDown':\n      case 'moveLeft':\n      case 'moveRight':\n      case 'moveUp':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  LargeIconsView.prototype.keyActionHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    var fItem = this.getFocusedItem();\n    var firstItem = this.getFirstItem();\n    var lastItem = this.getLastItem();\n\n    switch (e.action) {\n      case 'end':\n        this.navigateItem(lastItem);\n        break;\n\n      case 'home':\n        this.navigateItem(firstItem);\n        break;\n\n      case 'tab':\n        if (!isNullOrUndefined(fItem)) {\n          this.addFocus(fItem);\n        } else if (!isNullOrUndefined(firstItem)) {\n          this.addFocus(firstItem);\n        }\n\n        break;\n\n      case 'moveDown':\n        this.navigateDown(fItem, true);\n        break;\n\n      case 'moveLeft':\n        this.navigateRight(fItem, false);\n        break;\n\n      case 'moveRight':\n        this.navigateRight(fItem, true);\n        break;\n\n      case 'moveUp':\n        this.navigateDown(fItem, false);\n        break;\n\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n        this.csEndKey(lastItem, e);\n        break;\n\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n        this.csHomeKey(firstItem, e);\n        break;\n\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n        this.csDownKey(fItem, e);\n        break;\n\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n        this.csLeftKey(fItem, e);\n        break;\n\n      case 'ctrlRight':\n      case 'shiftRight':\n      case 'csRight':\n        this.csRightKey(fItem, e);\n        break;\n\n      case 'ctrlUp':\n      case 'shiftUp':\n      case 'csUp':\n        this.csUpKey(fItem, e);\n        break;\n\n      case 'space':\n        this.spaceKey(fItem);\n        break;\n\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n        if (!isNullOrUndefined(fItem)) {\n          this.doSelection(fItem, e);\n        }\n\n        break;\n\n      case 'ctrlA':\n        this.ctrlAKey(firstItem, lastItem);\n        break;\n\n      case 'enter':\n        this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n        break;\n\n      case 'altEnter':\n        this.parent.notify(detailsInit, {});\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'f2':\n        this.performRename();\n        break;\n\n      case 'ctrlD':\n        this.doDownload();\n        break;\n    }\n  };\n\n  LargeIconsView.prototype.doDownload = function () {\n    this.updateSelectedData();\n    doDownload(this.parent);\n  };\n\n  LargeIconsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.updateSelectedData(); // eslint-disable-next-line\n\n      var data = this.parent.itemData;\n\n      for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n          createDeniedDialog(this.parent, data[i], permissionEdit);\n          return;\n        }\n      }\n\n      createDialog(this.parent, 'Delete');\n    }\n  };\n\n  LargeIconsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n\n  LargeIconsView.prototype.updateRenameData = function () {\n    var item = select('.' + LIST_ITEM + '.' + ACTIVE, this.element); // eslint-disable-next-line\n\n    var data = this.getItemObject(item);\n    updateRenamingData(this.parent, data);\n  };\n\n  LargeIconsView.prototype.getVisitedItem = function () {\n    var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n    var indexes = this.getIndexes([item], this.parent.hasId);\n    return this.itemList[indexes[0]];\n  };\n\n  LargeIconsView.prototype.getFocusedItem = function () {\n    return select('.' + LIST_ITEM + '.' + FOCUS, this.element);\n  };\n\n  LargeIconsView.prototype.getActiveItem = function () {\n    return select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n  };\n\n  LargeIconsView.prototype.getFirstItem = function () {\n    return this.itemList[0];\n  };\n\n  LargeIconsView.prototype.getLastItem = function () {\n    return this.itemList[this.itemList.length - 1];\n  };\n\n  LargeIconsView.prototype.navigateItem = function (item) {\n    this.setFocus(item);\n  };\n\n  LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n    this.setFocus(nItem);\n  };\n\n  LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n    var nItem = this.getNextItem(fItem, isTowards);\n    this.setFocus(nItem);\n  };\n\n  LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n    if (isNullOrUndefined(li)) {\n      return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n    }\n\n    var index = this.itemList.indexOf(li);\n    var nextItem;\n\n    do {\n      if (isTowards) {\n        index = perRow ? index + perRow : index + 1;\n      } else {\n        index = perRow ? index - perRow : index - 1;\n      }\n\n      nextItem = this.itemList[index];\n\n      if (isNullOrUndefined(nextItem)) {\n        return li;\n      }\n    } while (!isVisible(nextItem));\n\n    return nextItem;\n  };\n\n  LargeIconsView.prototype.setFocus = function (nextItem) {\n    if (!isNullOrUndefined(nextItem)) {\n      var fileSelectionArgs = this.triggerSelection('select', nextItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.startItem = nextItem;\n        this.clearSelect();\n        this.addActive(nextItem);\n        this.addFocus(nextItem);\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('select', nextItem);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.spaceKey = function (fItem) {\n    if (!isNullOrUndefined(fItem) && !fItem.classList.contains(ACTIVE)) {\n      var fileSelectionArgs = this.triggerSelection('select', fItem);\n\n      if (fileSelectionArgs.cancel !== true) {\n        this.addActive(fItem);\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('select', fItem);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n    if (this.parent.allowMultiSelection && !isNullOrUndefined(firstItem)) {\n      this.startItem = firstItem;\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: true\n      };\n      var liParent = this.element.querySelector('.' + LIST_PARENT);\n      var liScrPos = liParent.scrollTop;\n      var getCurFocusedItem = this.getFocusedItem();\n      this.doSelection(lastItem, eveArgs);\n      liParent.scrollTop = liScrPos;\n\n      if (!isNullOrUndefined(getCurFocusedItem)) {\n        this.addFocus(getCurFocusedItem);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(lastItem);\n    } else if (!isNullOrUndefined(lastItem)) {\n      if (e.action === 'ctrlEnd') {\n        this.addFocus(lastItem);\n      } else {\n        this.doSelection(lastItem, e);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateItem(firstItem);\n    } else if (!isNullOrUndefined(firstItem)) {\n      if (e.action === 'ctrlHome') {\n        this.addFocus(firstItem);\n      } else {\n        this.doSelection(firstItem, e);\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csDownKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, true);\n    } else {\n      var dItem = this.getNextItem(fItem, true, this.perRow);\n\n      if (!isNullOrUndefined(dItem)) {\n        if (e.action === 'ctrlDown') {\n          this.addFocus(dItem);\n        } else {\n          this.doSelection(dItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, false);\n    } else {\n      var lItem = this.getNextItem(fItem, false);\n\n      if (!isNullOrUndefined(lItem)) {\n        if (e.action === 'ctrlLeft') {\n          this.addFocus(lItem);\n        } else {\n          this.doSelection(lItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csRightKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateRight(fItem, true);\n    } else {\n      var rItem = this.getNextItem(fItem, true);\n\n      if (!isNullOrUndefined(rItem)) {\n        if (e.action === 'ctrlRight') {\n          this.addFocus(rItem);\n        } else {\n          this.doSelection(rItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.csUpKey = function (fItem, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.navigateDown(fItem, false);\n    } else {\n      var uItem = this.getNextItem(fItem, false, this.perRow);\n\n      if (!isNullOrUndefined(uItem)) {\n        if (e.action === 'ctrlUp') {\n          this.addFocus(uItem);\n        } else {\n          this.doSelection(uItem, e);\n        }\n      }\n    }\n  };\n\n  LargeIconsView.prototype.addActive = function (nextItem) {\n    if (!isNullOrUndefined(nextItem)) {\n      if (!nextItem.classList.contains(ACTIVE)) {\n        this.parent.selectedItems.push(this.getDataName(nextItem));\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n        addClass([nextItem], [ACTIVE]);\n        nextItem.setAttribute('aria-selected', 'true');\n        this.checkState(nextItem, true);\n      }\n\n      this.parent.visitedItem = nextItem;\n    }\n  };\n\n  LargeIconsView.prototype.removeActive = function (preItem) {\n    if (!isNullOrUndefined(preItem)) {\n      removeClass([preItem], [ACTIVE]);\n\n      if (this.parent.allowMultiSelection) {\n        preItem.setAttribute('aria-selected', 'false');\n      } else {\n        preItem.removeAttribute('aria-selected');\n      }\n\n      this.checkState(preItem, false);\n      var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n\n      if (index > -1) {\n        this.parent.selectedItems.splice(index, 1);\n        this.parent.setProperties({\n          selectedItems: this.parent.selectedItems\n        }, true);\n      }\n\n      this.parent.visitedItem = null;\n    }\n  };\n\n  LargeIconsView.prototype.getDataName = function (item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    return getItemName(this.parent, data);\n  };\n\n  LargeIconsView.prototype.addFocus = function (item) {\n    this.element.setAttribute('tabindex', '-1');\n    var fItem = this.getFocusedItem();\n\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [FOCUS]);\n    }\n\n    addClass([item], [FOCUS]);\n    item.setAttribute('tabindex', '0');\n    item.focus();\n  };\n\n  LargeIconsView.prototype.checkState = function (item, toCheck) {\n    if (!this.parent.allowMultiSelection) {\n      return;\n    }\n\n    var checkEle = select('.' + FRAME, item);\n\n    if (isNullOrUndefined(checkEle)) {\n      return;\n    }\n\n    if (toCheck) {\n      if (!checkEle.classList.contains(CHECK)) {\n        addClass([checkEle], CHECK);\n        closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'true');\n      }\n    } else {\n      if (checkEle.classList.contains(CHECK)) {\n        removeClass([checkEle], CHECK);\n        closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'false');\n      }\n    }\n  };\n\n  LargeIconsView.prototype.clearSelect = function () {\n    var eles = Array.prototype.slice.call(selectAll('.' + ACTIVE, this.listElements));\n    var fileSelectionArgs;\n\n    if (eles.length !== 0) {\n      fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n\n      if (fileSelectionArgs.cancel !== true) {\n        for (var i = 0, len = eles.length; i < len; i++) {\n          this.removeActive(eles[i]);\n        }\n      }\n\n      this.triggerSelect('unselect', eles[0]);\n    }\n  };\n\n  LargeIconsView.prototype.resizeHandler = function () {\n    this.getItemCount();\n\n    if (!isNullOrUndefined(this.listObj)) {\n      this.adjustHeight();\n    }\n  };\n\n  LargeIconsView.prototype.splitterResizeHandler = function () {\n    this.getItemCount();\n  };\n\n  LargeIconsView.prototype.getItemCount = function () {\n    var perRow = 1;\n\n    if (this.itemList) {\n      for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n        if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n          perRow++;\n        } else {\n          break;\n        }\n      }\n    }\n\n    this.perRow = perRow;\n  };\n\n  LargeIconsView.prototype.triggerSelection = function (action, item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    var eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteraction,\n      cancel: false,\n      target: item\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    this.isInteraction = true;\n    return eventArgs;\n  };\n\n  LargeIconsView.prototype.triggerSelect = function (action, item) {\n    // eslint-disable-next-line\n    var data = this.getItemObject(item);\n    this.parent.visitedData = data;\n    var eventArgs = {\n      action: action,\n      fileDetails: data,\n      isInteracted: this.isInteracted\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.isInteracted = true;\n  };\n\n  LargeIconsView.prototype.selectItems = function (items) {\n    var indexes = this.getIndexes(items, this.parent.hasId);\n\n    for (var j = 0, len = indexes.length; j < len; j++) {\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[indexes[j]], eveArgs);\n    }\n  };\n\n  LargeIconsView.prototype.getIndexes = function (items, byId) {\n    var indexes = [];\n    var filter$$1 = byId ? 'id' : 'name';\n\n    for (var i = 0, len = this.items.length; i < len; i++) {\n      if (items.indexOf(getValue(filter$$1, this.items[i])) !== -1) {\n        indexes.push(i);\n      }\n    }\n\n    return indexes;\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.getItemObject = function (item) {\n    var index = this.itemList.indexOf(item);\n    return this.items[index];\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.addSelection = function (data) {\n    // eslint-disable-next-line\n    var resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      var newData = new DataManager(this.items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n\n      if (newData.length > 0) {\n        resultData = new DataManager(newData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      var index = this.items.indexOf(resultData[0]);\n      var eveArgs = {\n        ctrlKey: true,\n        shiftKey: false\n      };\n      this.doSelection(this.itemList[index], eveArgs);\n    }\n  };\n\n  LargeIconsView.prototype.updateSelectedData = function () {\n    // eslint-disable-next-line\n    var data = [];\n    var items = selectAll('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n\n    for (var i = 0; i < items.length; i++) {\n      data[i] = this.getItemObject(items[i]);\n    }\n\n    this.parent.itemData = data;\n  }; // eslint-disable-next-line\n\n\n  LargeIconsView.prototype.onMethodCall = function (args) {\n    if (this.parent.view !== 'LargeIcons') {\n      return;\n    }\n\n    var action = getValue('action', args);\n\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', args));\n        break;\n\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', args));\n        break;\n\n      case 'openFile':\n        this.openFile(getValue('id', args));\n        break;\n\n      case 'renameFile':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.renameFile(getValue('id', args), getValue('newName', args));\n        break;\n\n      case 'createFolder':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        break;\n\n      case 'clearSelection':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onClearAllInit();\n        break;\n\n      case 'selectAll':\n        this.isInteraction = false;\n        this.isInteracted = false;\n        this.onSelectAllInit();\n        break;\n    }\n  };\n\n  LargeIconsView.prototype.getItemsIndex = function (items) {\n    var indexes = [];\n    var isFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filterName = this.parent.hasId ? 'id' : 'name';\n\n    if (this.parent.hasId || !isFilter) {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    } else {\n      for (var i = 0, len = this.items.length; i < len; i++) {\n        var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n\n        if (items.indexOf(name_2) !== -1 || items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n          indexes.push(i);\n        }\n      }\n    }\n\n    return indexes;\n  };\n\n  LargeIconsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNullOrUndefined(ids)) {\n      this.performDelete();\n      return;\n    }\n\n    var indexes = this.getItemsIndex(ids);\n\n    if (indexes.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var data = [];\n    var newIds = [];\n\n    for (var i = 0; i < indexes.length; i++) {\n      data[i] = this.items[indexes[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDeleteFiles(this.parent, data, newIds);\n  };\n\n  LargeIconsView.prototype.downloadFiles = function (ids) {\n    if (isNullOrUndefined(ids)) {\n      this.doDownload();\n      return;\n    }\n\n    var index = this.getItemsIndex(ids);\n\n    if (index.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var data = [];\n    var newIds = [];\n\n    for (var i = 0; i < index.length; i++) {\n      data[i] = this.items[index[i]];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDownloadFiles(this.parent, data, newIds);\n  };\n\n  LargeIconsView.prototype.openFile = function (id) {\n    if (isNullOrUndefined(id)) {\n      return;\n    }\n\n    var indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      this.doOpenAction(this.itemList[indexes[0]]);\n    }\n  };\n\n  LargeIconsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'largeiconsview';\n\n    if (isNullOrUndefined(id)) {\n      this.performRename();\n      return;\n    }\n\n    var indexes = this.getItemsIndex([id]);\n\n    if (indexes.length > 0) {\n      updateRenamingData(this.parent, this.items[indexes[0]]);\n\n      if (isNullOrUndefined(name)) {\n        doRename(this.parent);\n      } else {\n        if (!hasEditAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n        } else {\n          rename(this.parent, this.parent.path, name);\n        }\n      }\n    }\n  };\n\n  return LargeIconsView;\n}();\n/**\n * BreadCrumbBar module\n */\n\n\nvar BreadCrumbBar =\n/** @__PURE__ @class */\nfunction () {\n  /**\n   * constructor for addressbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies parent element.\n   * @private\n   *\n   */\n  function BreadCrumbBar(parent) {\n    this.addressPath = '';\n    this.addressBarLink = '';\n    this.searchTimer = null;\n    this.searchWrapWidth = null;\n    this.parent = parent;\n    this.keyConfigs = {\n      enter: 'enter'\n    };\n    this.render();\n  }\n\n  BreadCrumbBar.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      var value = e.newProp.searchSettings;\n\n      switch (prop) {\n        case 'searchSettings':\n          if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n            this.searchEventBind(value.allowSearchOnTyping);\n          }\n\n          if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' && !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) && isNullOrUndefined(value.ignoreCase))) {\n            searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n          }\n\n          break;\n      }\n    }\n  };\n\n  BreadCrumbBar.prototype.render = function () {\n    this.addEventListener();\n  };\n\n  BreadCrumbBar.prototype.onPathChange = function () {\n    var pathNames = this.parent.pathNames;\n    var paths = this.parent.path.split('/');\n    var addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    var addressbarLI = null;\n    var pathNamesLen = pathNames.length;\n\n    if (pathNames.length > 0) {\n      var id = '';\n\n      for (var i = 0; i < pathNamesLen; i++) {\n        var addressATag = null;\n        addressbarLI = this.parent.createElement('li', {\n          className: 'e-address-list-item'\n        });\n\n        for (var j = 0; j <= i; j++) {\n          id = id + paths[j] + '/';\n        }\n\n        addressbarLI.setAttribute('data-utext', id);\n\n        if (i !== 0) {\n          var icon = createElement('span', {\n            className: ICONS\n          });\n          addressbarLI.appendChild(icon);\n        }\n\n        if (pathNamesLen - i !== 1) {\n          addressATag = createElement('a', {\n            className: LIST_TEXT\n          });\n          addressbarLI.setAttribute('tabindex', '0');\n        } else {\n          addressATag = createElement('span', {\n            className: LIST_TEXT\n          });\n        }\n\n        id = '';\n        addressATag.innerText = pathNames[i];\n        addressbarLI.appendChild(addressATag);\n        addressbarUL.appendChild(addressbarLI);\n      }\n\n      var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n\n      if (!isNullOrUndefined(ulElement)) {\n        if (!isNullOrUndefined(this.subMenuObj)) {\n          this.subMenuObj.destroy();\n        }\n\n        remove(ulElement);\n      }\n\n      var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n\n      if (!searchWrap) {\n        this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n      } else {\n        this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n      }\n\n      this.updateBreadCrumbBar(addressbarUL);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.updateBreadCrumbBar = function (addresBarUL) {\n    var liElements = addresBarUL.querySelectorAll('li');\n    var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n    var style = window.getComputedStyle(ulElement, null);\n    var pRight = parseFloat(style.getPropertyValue('padding-right'));\n    var pLeft = parseFloat(style.getPropertyValue('padding-left'));\n    var breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n    var addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    var liElementsWidth = 0;\n    var liElementsWidths = [];\n\n    for (var i = 0; i < liElements.length; i++) {\n      var width = liElements[i].clientWidth;\n      liElementsWidths.push(width);\n      liElementsWidth = liElementsWidth + width;\n    }\n\n    if (!isNullOrUndefined(ulElement)) {\n      remove(ulElement);\n    }\n\n    var searchContainer = this.parent.createElement('div');\n    searchContainer.setAttribute('class', 'e-search-wrap');\n    var id = this.parent.element.id + SEARCH_ID;\n    var searchInput = createElement('input', {\n      id: id,\n      attrs: {\n        autocomplete: 'off',\n        'aria-label': getLocaleText(this.parent, 'Search')\n      }\n    });\n    searchContainer.appendChild(searchInput);\n    var searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n\n    if (isNullOrUndefined(searchEle)) {\n      this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n      var span = createElement('span', {\n        className: 'e-icons e-fe-search'\n      });\n      EventHandler.add(span, 'click', this.onShowInput, this);\n      searchInput.parentElement.insertBefore(span, searchInput);\n      this.searchObj = new TextBox({\n        value: '',\n        showClearButton: true,\n        placeholder: getLocaleText(this.parent, 'Search'),\n        focus: this.onFocus.bind(this),\n        blur: this.onBlur.bind(this)\n      });\n      this.searchObj.appendTo('#' + this.parent.element.id + SEARCH_ID);\n      this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n      var search$$1 = this.searchObj.element.nextElementSibling;\n      EventHandler.add(search$$1, 'mousedown', this.searchChangeHandler.bind(this), this);\n      EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n    }\n\n    var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n    breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n\n    if (liElementsWidth > breadCrumbBarWidth) {\n      var i = liElements.length;\n\n      while (i--) {\n        var diff = breadCrumbBarWidth - liElementsWidths[i];\n\n        if (diff > 40) {\n          addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n          breadCrumbBarWidth = diff;\n        } else {\n          // eslint-disable-next-line\n          var items = [];\n\n          for (var j = 0; j <= i; j++) {\n            var liElement = liElements[j];\n            items.push({\n              text: liElement.innerText,\n              utext: liElement.getAttribute('data-utext')\n            });\n          }\n\n          var subMenuLi = this.parent.createElement('li', {\n            className: 'e-breadcrumb-menu'\n          }); // eslint-disable-next-line\n\n          var attributes = {\n            className: 'e-breadcrumb-submenu'\n          };\n          var subMenuSpan = this.parent.createElement('button', attributes);\n          subMenuLi.appendChild(subMenuSpan);\n          addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n          this.subMenuObj = new DropDownButton({\n            items: items,\n            cssClass: 'e-caret-hide e-submenu',\n            iconCss: ICON_BREADCRUMB,\n            iconPosition: 'Top',\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.addSubMenuAttributes.bind(this),\n            select: this.subMenuSelectOperations.bind(this)\n          });\n          this.subMenuObj.isStringTemplate = true;\n          this.subMenuObj.appendTo(subMenuSpan);\n          break;\n        }\n      }\n\n      this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n    } else {\n      this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onFocus = function () {\n    var wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.add('e-focus');\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onKeyUp = function () {\n    this.parent.notify(pathColumn, {\n      args: this.parent\n    });\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onBlur = function () {\n    var wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.remove('e-focus');\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.subMenuSelectOperations = function (event) {\n    // eslint-disable-next-line\n    var args = {\n      target: event.element\n    };\n    this.addressPathClickHandler(args);\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.addSubMenuAttributes = function (args) {\n    args.element.setAttribute('data-utext', getValue('utext', args.item));\n    var anchor = this.parent.createElement('a', {\n      className: 'e-list-text'\n    });\n    args.element.appendChild(anchor);\n  };\n\n  BreadCrumbBar.prototype.searchEventBind = function (allow) {\n    if (allow) {\n      this.searchObj.input = this.searchChangeHandler.bind(this);\n      this.searchObj.change = null;\n    } else {\n      this.searchObj.change = this.searchChangeHandler.bind(this);\n      this.searchObj.input = null;\n    }\n  };\n\n  BreadCrumbBar.prototype.searchChangeHandler = function (args) {\n    var _this = this;\n\n    if (!isNullOrUndefined(args.value)) {\n      this.parent.isFiltered = false;\n\n      if (this.parent.searchSettings.allowSearchOnTyping) {\n        window.clearTimeout(this.searchTimer);\n        this.searchTimer = window.setTimeout(function () {\n          searchWordHandler(_this.parent, args.value, false);\n        }, 300);\n      } else {\n        searchWordHandler(this.parent, args.value, false);\n      }\n    }\n  };\n\n  BreadCrumbBar.prototype.addressPathClickHandler = function (e) {\n    var li = e.target;\n\n    if (li.nodeName === 'LI' || li.nodeName === 'A') {\n      var node = li.nodeName === 'LI' ? li.children[0] : li;\n\n      if (!isNullOrUndefined(node)) {\n        this.parent.isFiltered = false;\n        var currentPath = this.updatePath(node);\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n        this.triggerFileOpen(this.parent.itemData[0]);\n        read(this.parent, pathChanged, currentPath);\n        var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.parent.notify(updateTreeSelection, {\n          module: 'treeview',\n          selectedNode: treeNodeId\n        });\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  BreadCrumbBar.prototype.triggerFileOpen = function (data) {\n    var eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'BreadCrumbBar'\n    };\n    delete eventArgs.cancel;\n    this.parent.trigger('fileOpen', eventArgs);\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onShowInput = function () {\n    if (this.parent.isMobile) {\n      if (this.parent.element.classList.contains(FILTER)) {\n        removeClass([this.parent.element], FILTER);\n        this.searchWrapWidth = null;\n      } else {\n        var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        this.searchWrapWidth = searchWrap.offsetWidth;\n        addClass([this.parent.element], FILTER);\n        this.searchObj.element.focus();\n      }\n    }\n  };\n\n  BreadCrumbBar.prototype.updatePath = function (list) {\n    var li = closest(list, 'li');\n    var liElementId = li.getAttribute('data-utext');\n    this.addressBarLink = liElementId;\n    var link = this.addressBarLink.split('/');\n    var ids = this.parent.pathId;\n    var names = this.parent.pathNames;\n    this.parent.pathId = [];\n    this.parent.pathNames = [];\n    var newpath = '';\n\n    for (var i = 0, len = link.length - 1; i < len; i++) {\n      this.parent.pathId.push(ids[i]);\n      this.parent.pathNames.push(names[i]);\n      newpath += link[i] + '/';\n    }\n\n    this.parent.setProperties({\n      path: newpath\n    }, true);\n    return newpath;\n  };\n\n  BreadCrumbBar.prototype.onUpdatePath = function () {\n    this.onPathChange();\n    this.removeSearchValue();\n  };\n\n  BreadCrumbBar.prototype.onCreateEnd = function () {\n    this.onPathChange();\n  };\n\n  BreadCrumbBar.prototype.onRenameEnd = function () {\n    this.onPathChange();\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onDeleteEnd = function () {\n    this.onUpdatePath();\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.removeSearchValue = function () {\n    this.parent.isFiltered = false;\n\n    if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n      this.searchObj.value = '';\n      this.searchObj.element.value = '';\n      this.searchObj.dataBind();\n    }\n  };\n\n  BreadCrumbBar.prototype.onResize = function () {\n    this.onPathChange();\n  };\n\n  BreadCrumbBar.prototype.onPasteEnd = function () {\n    this.onPathChange();\n  };\n\n  BreadCrumbBar.prototype.addEventListener = function () {\n    this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(pathChanged, this.onUpdatePath, this);\n    this.parent.on(finalizeEnd, this.onUpdatePath, this);\n    this.parent.on(refreshEnd, this.onUpdatePath, this);\n    this.parent.on(openEnd, this.onUpdatePath, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(renameEnd, this.onRenameEnd, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(splitterResize, this.onResize, this);\n    this.parent.on(pasteEnd, this.onPasteEnd, this);\n    this.parent.on(resizeEnd, this.onResize, this);\n    this.parent.on(searchTextChange, this.onSearchTextChange, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(layoutRefresh, this.onResize, this);\n    this.parent.on(dropPath, this.onPathChange, this);\n  };\n\n  BreadCrumbBar.prototype.keyActionHandler = function (e) {\n    switch (e.action) {\n      case 'enter':\n        this.addressPathClickHandler(e);\n        break;\n    }\n  };\n\n  BreadCrumbBar.prototype.removeEventListener = function () {\n    this.keyboardModule.destroy();\n    this.parent.off(pathChanged, this.onUpdatePath);\n    this.parent.off(finalizeEnd, this.onUpdatePath);\n    this.parent.off(refreshEnd, this.onUpdatePath);\n    this.parent.off(openEnd, this.onUpdatePath);\n    this.parent.off(pasteEnd, this.onPasteEnd);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(renameEnd, this.onRenameEnd);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(splitterResize, this.onResize);\n    this.parent.off(resizeEnd, this.onResize);\n    this.parent.off(searchTextChange, this.onSearchTextChange);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(layoutRefresh, this.onResize);\n    this.parent.off(dropPath, this.onPathChange);\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var liEle = args.target.closest('li');\n      this.parent.dropPath = this.updatePath(liEle.children[0]);\n      this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      this.triggerFileOpen(this.parent.dropData);\n      var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n      this.parent.notify(updateTreeSelection, {\n        module: 'treeview',\n        selectedNode: treeNodeId\n      });\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name\n   * @private\n   */\n\n\n  BreadCrumbBar.prototype.getModuleName = function () {\n    return 'breadcrumbbar';\n  };\n\n  BreadCrumbBar.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    /* istanbul ignore next */\n\n    if (!isNullOrUndefined(this.subMenuObj)) {\n      this.subMenuObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.searchObj)) {\n      this.searchObj.destroy();\n    }\n  };\n\n  BreadCrumbBar.prototype.onSearchTextChange = function (args) {\n    this.searchObj.element.placeholder = this.parent.searchSettings.placeholder != null ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n  };\n\n  return BreadCrumbBar;\n}();\n/**\n * ContextMenu module\n */\n\n\nvar ContextMenu$2 =\n/** @__PURE__ @class */\nfunction () {\n  /**\n   * Constructor for the ContextMenu module\n   *\n   * @param {IFileManager} parent - Specifies the parent element.\n   * @hidden\n   */\n  function ContextMenu$$1(parent) {\n    this.currentItems = [];\n    this.currentElement = null;\n    this.disabledItems = [];\n    this.parent = parent;\n    this.render();\n  }\n\n  ContextMenu$$1.prototype.render = function () {\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      uparrow: 'uparrown'\n    };\n    this.contextMenu = new ContextMenu({\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      target: '#' + this.parent.element.id,\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      beforeItemRender: this.onBeforeItemRender.bind(this),\n      select: this.onSelect.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this),\n      cssClass: getCssClass(this.parent, ROOT_POPUP)\n    });\n    this.contextMenu.isStringTemplate = true;\n    this.contextMenu.appendTo('#' + this.parent.element.id + CONTEXT_MENU_ID);\n    this.addEventListener();\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu$$1.prototype.onBeforeItemRender = function (args) {\n    if (args.item.id === this.getMenuId('largeiconsview')) {\n      var iconSpan = createElement('span');\n      var element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', ICON_LARGE + ' ' + MENU_ICON);\n    }\n\n    if (args.item.id === this.getMenuId('detailsview')) {\n      var iconSpan = createElement('span');\n      var element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', ICON_GRID + ' ' + MENU_ICON);\n    }\n  };\n\n  ContextMenu$$1.prototype.onBeforeClose = function () {\n    this.menuTarget = null;\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu$$1.prototype.onBeforeOpen = function (args) {\n    var _this = this;\n\n    this.disabledItems = [];\n    var selected = false;\n    var uid; // eslint-disable-next-line\n\n    var data;\n    var treeFolder = false;\n    var target = args.event.target;\n    this.menuTarget = this.targetNodeElement = target;\n    this.currentElement = args.element;\n\n    if (target.classList.contains('e-spinner-pane')) {\n      target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(FULLROW)[0];\n      this.menuTarget = this.targetNodeElement = target;\n    }\n\n    this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n    var view = this.getTargetView(target);\n    this.updateActiveModule();\n    /* istanbul ignore next */\n\n    if (target.classList.contains(TREE_VIEW) || closest(target, 'th') || closest(target, '#' + this.parent.element.id + BREADCRUMBBAR_ID) || closest(target, '#' + this.parent.element.id + TOOLBAR_ID)) {\n      args.cancel = true; // eslint:disable-next-line\n    } else if (!(this.parent.view === 'LargeIcons') && this.targetElement && this.targetElement.classList.contains('e-emptyrow')) {\n      this.setLayoutItem(target);\n      /* istanbul ignore next */\n    } else if (closest(target, '.' + EMPTY)) {\n      this.setLayoutItem(target); // eslint:disable-next-line\n    } else if (!target.classList.contains(MENU_ITEM) && !target.classList.contains(MENU_ICON) && !target.classList.contains(SUBMENU_ICON)) {\n      /* istanbul ignore next */\n      // eslint:disable-next-line\n      if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + TREE_ID)) {\n        var eveArgs = {\n          ctrlKey: true,\n          shiftKey: true\n        };\n\n        if (!closest(target, 'li').classList.contains('e-active')) {\n          this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n        } // eslint-disable-next-line\n\n\n        data = this.parent.visitedData;\n        selected = true;\n      } else if (!isNullOrUndefined(closest(target, 'tr.e-row'))) {\n        uid = this.targetElement.getAttribute('data-uid'); // eslint-disable-next-line\n\n        data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n\n        if (isNullOrUndefined(this.targetElement.getAttribute('aria-selected'))) {\n          /* istanbul ignore next */\n          this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('data-rowindex'), 10)]);\n        }\n\n        selected = true;\n        /* istanbul ignore next */\n      } else if (closest(target, '#' + this.parent.element.id + TREE_ID)) {\n        uid = closest(target, 'li').getAttribute('data-uid');\n        treeFolder = true;\n      }\n      /* istanbul ignore next */\n\n\n      if (selected) {\n        if (getValue('isFile', data) === true) {\n          this.setFileItem();\n        } else {\n          this.setFolderItem(false);\n        }\n        /* istanbul ignore next */\n\n      } else if (treeFolder) {\n        this.setFolderItem(true);\n\n        if (uid === this.parent.pathId[0]) {\n          this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n        }\n        /* istanbul ignore next */\n        // eslint:disable-next-line\n\n      } else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n        this.setLayoutItem(target);\n        /* istanbul ignore next */\n      } else {\n        args.cancel = true;\n      }\n    }\n\n    var pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n\n    if (!args.cancel && !this.parent.enablePaste && pasteEle && !pasteEle.classList.contains('e-disabled')) {\n      this.disabledItems.push('Paste');\n    }\n\n    if (args.cancel) {\n      this.menuTarget = this.currentElement = null;\n      return;\n    }\n\n    this.contextMenu.dataBind();\n    var isSubMenu = false;\n\n    if (target.classList.contains(MENU_ITEM) || target.classList.contains(MENU_ICON) || target.classList.contains(SUBMENU_ICON)) {\n      isSubMenu = true;\n    }\n\n    this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n    var eventArgs = {\n      fileDetails: [this.menuItemData],\n      element: args.element,\n      target: target,\n      items: isSubMenu ? args.items : this.contextMenu.items,\n      menuModule: this.contextMenu,\n      cancel: false,\n      menuType: this.menuType,\n      isSubMenu: isSubMenu\n    };\n    this.currentItems = eventArgs.items;\n    this.parent.trigger('menuOpen', eventArgs, function (menuOpenArgs) {\n      if (!isSubMenu) {\n        _this.contextMenu.dataBind();\n\n        _this.contextMenu.items = menuOpenArgs.items;\n\n        _this.contextMenu.dataBind();\n      }\n\n      _this.enableItems(_this.disabledItems, false, true);\n\n      args.cancel = menuOpenArgs.cancel;\n\n      if (menuOpenArgs.cancel) {\n        _this.menuTarget = _this.targetNodeElement = _this.currentElement = null;\n      }\n    });\n  };\n\n  ContextMenu$$1.prototype.updateActiveModule = function () {\n    this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + TREE_ID) ? 'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + GRID_ID) ? 'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + LARGEICON_ID) ? 'largeiconsview' : this.parent.activeModule;\n  };\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @returns {string} -returns the target view.\n   * @hidden\n   */\n\n\n  ContextMenu$$1.prototype.getTargetView = function (target) {\n    return target.classList.contains(TREE_VIEW) ? 'TreeView' : target.classList.contains(GRID_VIEW) ? 'GridView' : target.classList.contains(ICON_VIEW) ? 'LargeIcon' : target.classList.contains(LARGE_ICONS) ? 'LargeIcon' : '';\n  };\n\n  ContextMenu$$1.prototype.getItemIndex = function (item) {\n    var itemId = this.getMenuId(item);\n\n    for (var i = 0; i < this.currentItems.length; i++) {\n      if (this.currentItems[i].id === itemId || this.currentItems[i].id === item) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  ContextMenu$$1.prototype.disableItem = function (items) {\n    if (items.length !== 0) {\n      this.disabledItems = this.disabledItems.concat(items);\n    }\n  };\n\n  ContextMenu$$1.prototype.enableItems = function (items, enable, isUniqueId) {\n    for (var i = 0; i < items.length; i++) {\n      if (this.checkValidItem(items[i]) === 1) {\n        this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n      } else if (this.checkValidItem(items[i]) === 2) {\n        this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n      }\n    }\n  };\n\n  ContextMenu$$1.prototype.setFolderItem = function (isTree) {\n    this.menuType = 'folder';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n\n    if (isTree) {\n      this.disabledItems.push('Open');\n    } else if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename', 'Paste');\n    }\n  };\n\n  ContextMenu$$1.prototype.setFileItem = function () {\n    this.menuType = 'file';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n\n    if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename');\n    }\n  };\n\n  ContextMenu$$1.prototype.setLayoutItem = function (target) {\n    this.menuType = 'layout';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n\n    if (!this.parent.allowMultiSelection || this.parent.view === 'LargeIcons' && closest(target, '#' + this.parent.element.id + LARGEICON_ID).getElementsByClassName(EMPTY).length !== 0 || this.parent.view === 'Details' && closest(target, '#' + this.parent.element.id + GRID_ID).getElementsByClassName(EMPTY).length !== 0) {\n      this.disabledItems.push('SelectAll');\n    }\n\n    if (this.parent.selectedNodes.length === 0) {\n      this.disabledItems.push('Paste');\n    }\n\n    this.contextMenu.dataBind();\n  };\n\n  ContextMenu$$1.prototype.checkValidItem = function (nameEle) {\n    if (!isNullOrUndefined(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n      return 1;\n    } else if (!isNullOrUndefined(select('#' + nameEle, this.currentElement))) {\n      return 2;\n    } else {\n      return -1;\n    }\n  }; // eslint-disable-next-line\n\n\n  ContextMenu$$1.prototype.getMenuItemData = function () {\n    if (this.menuType === 'layout') {\n      return getPathObject(this.parent);\n    } else {\n      // eslint-disable-next-line\n      var args = {\n        target: this.menuTarget\n      };\n      this.parent.notify(menuItemData, args);\n      return this.parent.itemData[0];\n    }\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu$$1.prototype.onSelect = function (args) {\n    var _this = this;\n\n    if (isNullOrUndefined(args.item) || !args.item.id) {\n      return;\n    }\n\n    var itemText = args.item.id.substr((this.parent.element.id + '_cm_').length); // eslint-disable-next-line\n\n    var details;\n\n    if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(selectedData, {});\n\n      if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n        details = [this.menuItemData];\n      } else {\n        details = this.parent.itemData;\n      }\n    }\n\n    var eventArgs = {\n      cancel: false,\n      element: args.element,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('menuClick', eventArgs, function (menuClickArgs) {\n      var sItems;\n\n      if (!menuClickArgs.cancel) {\n        // eslint:disable-next-line\n        switch (itemText) {\n          case 'cut':\n            cutFiles(_this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(_this.parent);\n            break;\n\n          case 'paste':\n            if (_this.menuType === 'folder') {\n              if (_this.parent.activeModule === 'largeiconsview' || _this.parent.activeModule === 'detailsview') {\n                _this.parent.folderPath = getFullPath(_this.parent, _this.menuItemData, _this.parent.path);\n              } else {\n                _this.parent.folderPath = '';\n              }\n            } else {\n              _this.parent.folderPath = '';\n            }\n\n            pasteHandler(_this.parent);\n            break;\n\n          case 'delete':\n            for (var j = 0; j < details.length; j++) {\n              if (!hasEditAccess(details[j])) {\n                createDeniedDialog(_this.parent, details[j], permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(_this.parent, 'Delete');\n            break;\n\n          /* istanbul ignore next */\n\n          case 'download':\n            for (var i = 0; i < details.length; i++) {\n              if (!hasDownloadAccess(details[i])) {\n                createDeniedDialog(_this.parent, details[i], permissionDownload);\n                return;\n              }\n            }\n\n            if (_this.parent.activeModule === 'navigationpane') {\n              _this.parent.notify(downloadInit, {});\n            } else if (_this.parent.selectedItems.length > 0) {\n              Download(_this.parent, _this.parent.path, _this.parent.selectedItems);\n            }\n\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(_this.parent, details[0], permissionEdit);\n            } else {\n              _this.parent.notify(renameInit, {});\n\n              createDialog(_this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'selectall':\n            /* istanbul ignore next */\n            _this.parent.notify(selectAllInit, {});\n\n            break;\n\n          case 'refresh':\n            refresh(_this.parent);\n            break;\n\n          case 'open':\n            if (_this.parent.visitedItem) {\n              _this.parent.notify(openInit, {\n                target: _this.parent.visitedItem\n              });\n            } else if (_this.parent.activeModule === 'navigationpane') {\n              _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n            }\n\n            break;\n\n          case 'details':\n            _this.parent.notify(detailsInit, {});\n\n            sItems = _this.parent.selectedItems;\n\n            if (_this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n            break;\n\n          case 'newfolder':\n            createNewFolder(_this.parent);\n            break;\n\n          case 'upload':\n            uploadItem(_this.parent);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'name':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'size':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'date':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'ascending':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'descending':\n            /* istanbul ignore next */\n            sortbyClickHandler(_this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'none':\n            /* istanbul ignore next */\n            sortbyClickHandler(_this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'largeiconsview':\n            updateLayout(_this.parent, 'LargeIcons');\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'detailsview':\n            updateLayout(_this.parent, 'Details');\n            break;\n        }\n      }\n    });\n  };\n\n  ContextMenu$$1.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'cssClass':\n          this.contextMenu.cssClass = getCssClass(this.parent, ROOT_POPUP);\n          break;\n      }\n    }\n  };\n\n  ContextMenu$$1.prototype.addEventListener = function () {\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  ContextMenu$$1.prototype.removeEventListener = function () {\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.keyboardModule.destroy();\n  };\n\n  ContextMenu$$1.prototype.keyActionHandler = function (e) {\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n        e.preventDefault();\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  ContextMenu$$1.prototype.getModuleName = function () {\n    return 'contextmenu';\n  };\n\n  ContextMenu$$1.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    this.contextMenu.destroy();\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu$$1.prototype.getItemData = function (data) {\n    var items = [];\n\n    for (var i = 0; i < data.length; i++) {\n      var item = void 0;\n      var itemId = this.getMenuId(data[i]);\n      var itemText = getLocaleText(this.parent, data[i]);\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            separator: true\n          };\n          break;\n\n        case 'Open':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_OPEN\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_UPLOAD\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_CUT\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_COPY\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_PASTE\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DELETE\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_RENAME\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_NEWFOLDER\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DETAILS\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_SHORTBY,\n            items: [{\n              id: this.getMenuId('Name'),\n              text: getLocaleText(this.parent, 'Name'),\n              iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Size'),\n              text: getLocaleText(this.parent, 'Size'),\n              iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Date'),\n              text: getLocaleText(this.parent, 'DateModified'),\n              iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : null\n            }, {\n              separator: true\n            }, {\n              id: this.getMenuId('Ascending'),\n              text: getLocaleText(this.parent, 'Ascending'),\n              iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('Descending'),\n              text: getLocaleText(this.parent, 'Descending'),\n              iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('None'),\n              text: getLocaleText(this.parent, 'None'),\n              iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'View':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n            items: [{\n              id: this.getMenuId('largeiconsview'),\n              text: getLocaleText(this.parent, 'View-LargeIcons'),\n              iconCss: this.parent.view === 'Details' ? null : TB_OPTION_TICK\n            }, {\n              id: this.getMenuId('detailsview'),\n              text: getLocaleText(this.parent, 'View-Details'),\n              iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_REFRESH\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_SELECTALL\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: ICON_DOWNLOAD\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  ContextMenu$$1.prototype.getMenuId = function (id) {\n    return this.parent.element.id + '_cm_' + id.toLowerCase();\n  };\n\n  return ContextMenu$$1;\n}();\n/**\n * Specifies the default locale of FileManager component\n */\n// eslint-disable-next-line\n\n\nvar defaultLocale = {\n  'NewFolder': 'New folder',\n  'Upload': 'Upload',\n  'Delete': 'Delete',\n  'Rename': 'Rename',\n  'Download': 'Download',\n  'Cut': 'Cut',\n  'Copy': 'Copy',\n  'Paste': 'Paste',\n  'SortBy': 'Sort by',\n  'Refresh': 'Refresh',\n  'Item-Selection': 'item selected',\n  'Items-Selection': 'items selected',\n  'View': 'View',\n  'Details': 'Details',\n  'SelectAll': 'Select all',\n  'Open': 'Open',\n  'Tooltip-NewFolder': 'New folder',\n  'Tooltip-Upload': 'Upload',\n  'Tooltip-Delete': 'Delete',\n  'Tooltip-Rename': 'Rename',\n  'Tooltip-Download': 'Download',\n  'Tooltip-Cut': 'Cut',\n  'Tooltip-Copy': 'Copy',\n  'Tooltip-Paste': 'Paste',\n  'Tooltip-SortBy': 'Sort by',\n  'Tooltip-Refresh': 'Refresh',\n  'Tooltip-Selection': 'Clear selection',\n  'Tooltip-View': 'View',\n  'Tooltip-Details': 'Details',\n  'Tooltip-SelectAll': 'Select all',\n  'Name': 'Name',\n  'Size': 'Size',\n  'DateModified': 'Modified',\n  'DateCreated': 'Date created',\n  'Path': 'Path',\n  'Modified': 'Modified',\n  'Created': 'Created',\n  'Location': 'Location',\n  'Type': 'Type',\n  'Permission': 'Permission',\n  'Ascending': 'Ascending',\n  'Descending': 'Descending',\n  'None': 'None',\n  'View-LargeIcons': 'Large icons',\n  'View-Details': 'Details',\n  'Search': 'Search',\n  'Button-Ok': 'OK',\n  'Button-Cancel': 'Cancel',\n  'Button-Yes': 'Yes',\n  'Button-No': 'No',\n  'Button-Create': 'Create',\n  'Button-Save': 'Save',\n  'Header-NewFolder': 'Folder',\n  'Content-NewFolder': 'Enter your folder name',\n  'Header-Rename': 'Rename',\n  'Content-Rename': 'Enter your new name',\n  'Header-Rename-Confirmation': 'Rename Confirmation',\n  'Content-Rename-Confirmation': 'If you change a file name extension, the file might become unstable. ' + 'Are you sure you want to change it?',\n  'Header-Delete': 'Delete File',\n  'Content-Delete': 'Are you sure you want to delete this file?',\n  'Header-Folder-Delete': 'Delete Folder',\n  'Content-Folder-Delete': 'Are you sure you want to delete this folder?',\n  'Header-Multiple-Delete': 'Delete Multiple Items',\n  'Content-Multiple-Delete': 'Are you sure you want to delete these {0} items?',\n  'Header-Duplicate': 'File/Folder exists',\n  'Content-Duplicate': '{0} already exists. Do you want to rename and paste?',\n  'Header-Upload': 'Upload Files',\n  'Error': 'Error',\n  'Validation-Empty': 'The file or folder name cannot be empty.',\n  'Validation-Invalid': 'The file or folder name {0} contains invalid characters. Please use a different name. ' + // eslint-disable-next-line no-useless-escape\n  'Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\\\/:*?\\\"<>|',\n  'Validation-NewFolder-Exists': 'A file or folder with the name {0} already exists.',\n  'Validation-Rename-Exists': 'Cannot rename {0} to {1}: destination already exists.',\n  'Folder-Empty': 'This folder is empty',\n  'File-Upload': 'Drag files here to upload',\n  'Search-Empty': 'No results found',\n  'Search-Key': 'Try with different keywords',\n  'Filter-Empty': 'No results found',\n  'Filter-Key': 'Try with different filter',\n  'Sub-Folder-Error': 'The destination folder is the subfolder of the source folder.',\n  'Same-Folder-Error': 'The destination folder is the same as the source folder.',\n  'Access-Denied': 'Access Denied',\n  'Access-Details': 'You don\"t have permission to access this folder.',\n  'Header-Retry': 'File Already Exists',\n  'Content-Retry': 'A file with this name already exists in this folder. What would you like to do?',\n  'Button-Keep-Both': 'Keep both',\n  'Button-Replace': 'Replace',\n  'Button-Skip': 'Skip',\n  'ApplyAll-Label': 'Do this for all current items',\n  'KB': 'KB',\n  'Access-Message': '{0} is not accessible. You need permission to perform the {1} action.',\n  'Network-Error': 'NetworkError: Failed to send on XMLHTTPRequest: Failed to load',\n  'Server-Error': 'ServerError: Invalid response from'\n};\n\nvar __extends$8 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$8 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * The FileManager component allows users to access and manage the file system through the web  browser. It can performs the\n * functionalities like add, rename, search, sort, upload and delete files or folders. And also it\n * provides an easy way of  dynamic injectable modules like toolbar, navigationpane, detailsview, largeiconsview.\n * ```html\n *  <div id=\"file\"></div>\n * ```\n * ```typescript,\n *  let feObj: FileManager = new FileManager();\n *  feObj.appendTo('#file');\n * ```\n */\n\n\nvar FileManager =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(FileManager, _super);\n\n  function FileManager(options, element) {\n    var _this = _super.call(this, options, element) || this; // eslint-disable-next-line\n\n\n    _this.filterData = null;\n    _this.selectedNodes = [];\n    _this.duplicateItems = []; // eslint-disable-next-line\n\n    _this.duplicateRecords = [];\n    _this.previousPath = [];\n    _this.nextPath = [];\n    _this.isLayoutChange = false;\n    _this.layoutSelectedItems = [];\n    _this.renamedId = null;\n    _this.uploadItem = [];\n    _this.deleteRecords = [];\n    _this.isFile = false;\n    _this.isCut = false;\n    _this.isSearchCut = false;\n    _this.isSearchDrag = false;\n    _this.isPasteError = false;\n    _this.folderPath = '';\n    _this.isSameAction = false;\n    _this.isFiltered = false; // Specifies whether the sort by option is clicked or not.\n\n    _this.isSortByClicked = false;\n    _this.enablePaste = false;\n    _this.persistData = false;\n    _this.retryArgs = [];\n    _this.isOpened = false;\n    _this.isRetryOpened = false;\n    _this.isPathDrag = false; // eslint-disable-next-line\n\n    _this.searchedItems = [];\n    _this.retryFiles = [];\n    _this.isApplySame = false; // eslint-disable-next-line\n\n    _this.dragData = [];\n    _this.dragNodes = [];\n    _this.dragPath = '';\n    _this.dropPath = '';\n    _this.isDragDrop = false;\n    _this.treeExpandTimer = null;\n    _this.dragCursorPosition = {\n      left: 44,\n      top: 18\n    };\n    _this.isDropEnd = false;\n    _this.dragCount = 0; // eslint-disable-next-line\n\n    _this.droppedObjects = [];\n    _this.uploadingCount = 0;\n    _this.uploadedCount = 0; //Specifies whether the operating system is MAC or not \n\n    _this.isMac = false;\n    FileManager_1.Inject(BreadCrumbBar, LargeIconsView, ContextMenu$2);\n    return _this;\n  }\n\n  FileManager_1 = FileManager;\n  /**\n   * Get component name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n  FileManager.prototype.getModuleName = function () {\n    return 'filemanager';\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.preRender = function () {\n    if (isNullOrUndefined(this.element.id) || this.element.id === '') {\n      this.element.setAttribute('id', getUniqueID('filemanager'));\n    }\n\n    this.ensurePath();\n    this.feParent = [];\n    this.feFiles = [];\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    this.isDevice = Browser.isDevice;\n    this.isMobile = this.checkMobile();\n\n    if (this.isMobile) {\n      this.setProperties({\n        navigationPaneSettings: {\n          visible: false\n        }\n      }, true);\n    }\n\n    var ele = closest(this.element, '.e-bigger');\n    this.isBigger = ele ? true : false;\n    this.activeModule = this.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n    createSpinner({\n      target: this.element\n    }, createElement);\n    this.addWrapper();\n    this.keyConfigs = {\n      altN: 'alt+n',\n      f5: 'f5',\n      ctrlShift1: 'ctrl+shift+1',\n      ctrlShift2: 'ctrl+shift+2',\n      ctrlU: 'ctrl+u'\n    };\n    this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n  };\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string} - returns the persisted data.\n   * @hidden\n   */\n\n\n  FileManager.prototype.getPersistData = function () {\n    var keyEntity = ['view', 'path', 'selectedItems'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * To provide the array of modules needed for component rendering\n   *\n   * @returns {ModuleDeclaration[]} - returns module declaration.\n   * @hidden\n   */\n\n\n  FileManager.prototype.requiredModules = function () {\n    var modules = [];\n    modules.push({\n      member: 'breadcrumbbar',\n      args: [this]\n    });\n    modules.push({\n      member: 'largeiconsview',\n      args: [this]\n    });\n\n    if (this.toolbarSettings.visible) {\n      modules.push({\n        member: 'toolbar',\n        args: [this]\n      });\n    }\n\n    if (this.navigationPaneSettings.visible) {\n      modules.push({\n        member: 'navigationpane',\n        args: [this]\n      });\n    }\n\n    if (this.view) {\n      modules.push({\n        member: 'detailsview',\n        args: [this]\n      });\n    }\n\n    if (this.contextMenuSettings.visible && !this.isDevice) {\n      modules.push({\n        member: 'contextmenu',\n        args: [this]\n      });\n    }\n\n    return modules;\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.render = function () {\n    this.initialize();\n    var slItems = isNullOrUndefined(this.selectedItems) ? [] : this.allowMultiSelection ? this.selectedItems : this.selectedItems.slice(this.selectedItems.length - 1);\n    this.setProperties({\n      selectedItems: slItems\n    }, true);\n    this.fileView = this.view;\n    this.isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n    this.setRtl(this.enableRtl);\n    this.addEventListeners();\n    read(this, this.path !== this.originalPath ? initialEnd : finalizeEnd, this.path);\n    this.adjustHeight();\n\n    if (isNullOrUndefined(this.navigationpaneModule)) {\n      this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n      var bar = select('.' + SPLIT_BAR, this.element);\n      bar.classList.add(DISPLAY_NONE);\n    }\n\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  FileManager.prototype.ensurePath = function () {\n    var currentPath = this.path;\n\n    if (isNullOrUndefined(currentPath)) {\n      currentPath = '/';\n    }\n\n    if (currentPath.lastIndexOf('/') !== currentPath.length - 1) {\n      currentPath = currentPath + '/';\n    }\n\n    this.originalPath = currentPath;\n    var paths = currentPath.split('/');\n    this.setProperties({\n      path: paths[0] + '/'\n    }, true);\n    this.pathNames = [];\n    this.pathId = ['fe_tree'];\n    this.itemData = [];\n  };\n\n  FileManager.prototype.initialize = function () {\n    if (this.isMobile) {\n      addClass([this.element], MOBILE);\n    }\n\n    if (this.allowMultiSelection) {\n      addClass([this.element], CHECK_SELECT);\n    }\n\n    this.addCssClass(null, this.cssClass);\n    this.renderFileUpload();\n  };\n\n  FileManager.prototype.addWrapper = function () {\n    var headerWrap = this.createElement('div', {\n      id: this.element.id + TOOLBAR_ID\n    });\n    this.element.appendChild(headerWrap);\n    var layoutWrap = this.createElement('div', {\n      id: this.element.id + LAYOUT_ID,\n      className: LAYOUT\n    });\n    this.element.appendChild(layoutWrap);\n    var navigationWrap = this.createElement('div', {\n      id: this.element.id + NAVIGATION_ID,\n      className: NAVIGATION\n    });\n    var treeWrap = this.createElement('div', {\n      id: this.element.id + TREE_ID\n    });\n    navigationWrap.appendChild(treeWrap);\n    var contentWrap = this.createElement('div', {\n      id: this.element.id + CONTENT_ID,\n      className: LAYOUT_CONTENT\n    });\n    this.breadCrumbBarNavigation = this.createElement('div', {\n      id: this.element.id + BREADCRUMBBAR_ID,\n      className: BREADCRUMBS\n    });\n    contentWrap.appendChild(this.breadCrumbBarNavigation);\n    var gridWrap = this.createElement('div', {\n      id: this.element.id + GRID_ID\n    });\n    contentWrap.appendChild(gridWrap);\n    var largeiconWrap = this.createElement('div', {\n      id: this.element.id + LARGEICON_ID,\n      className: LARGE_ICONS,\n      attrs: {\n        'role': 'group'\n      }\n    });\n    contentWrap.appendChild(largeiconWrap);\n    var overlay = this.createElement('span', {\n      className: OVERLAY\n    });\n    contentWrap.appendChild(overlay);\n    var paneSettings;\n\n    if (!this.enableRtl) {\n      layoutWrap.appendChild(navigationWrap);\n      layoutWrap.appendChild(contentWrap);\n      paneSettings = [{\n        size: '25%',\n        min: this.navigationPaneSettings.minWidth.toString(),\n        max: this.navigationPaneSettings.maxWidth.toString()\n      }, {\n        size: '75%',\n        min: '270px'\n      }];\n    } else {\n      layoutWrap.appendChild(contentWrap);\n      layoutWrap.appendChild(navigationWrap);\n      paneSettings = [{\n        size: '75%',\n        min: '270px'\n      }, {\n        size: '25%',\n        min: this.navigationPaneSettings.minWidth.toString(),\n        max: this.navigationPaneSettings.maxWidth.toString()\n      }];\n    }\n\n    this.splitterObj = new Splitter({\n      paneSettings: paneSettings,\n      width: '100%',\n      enableRtl: false,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      resizing: this.splitterResize.bind(this)\n    });\n    this.splitterObj.isStringTemplate = true;\n    this.splitterObj.appendTo(layoutWrap);\n    var dialogWrap = this.createElement('div', {\n      id: this.element.id + DIALOG_ID\n    });\n    this.element.appendChild(dialogWrap);\n    var menuWrap = this.createElement('ul', {\n      id: this.element.id + CONTEXT_MENU_ID\n    });\n    this.element.appendChild(menuWrap);\n    var dialogImgWrap = this.createElement('div', {\n      id: this.element.id + IMG_DIALOG_ID\n    });\n    this.element.appendChild(dialogImgWrap);\n    var extnDialogWrap = this.createElement('div', {\n      id: this.element.id + EXTN_DIALOG_ID\n    });\n    this.element.appendChild(extnDialogWrap);\n    var uploadDialogWrap = this.createElement('div', {\n      id: this.element.id + UPLOAD_DIALOG_ID\n    });\n    this.element.appendChild(uploadDialogWrap);\n  };\n\n  FileManager.prototype.adjustHeight = function () {\n    var toolbar = select('#' + this.element.id + TOOLBAR_ID, this.element);\n    var toolBarHeight = toolbar ? toolbar.offsetHeight : 0;\n\n    if (this.splitterObj) {\n      this.splitterObj.height = (this.element.clientHeight - toolBarHeight).toString();\n      this.splitterObj.dataBind();\n    }\n  };\n  /* istanbul ignore next */\n\n\n  FileManager.prototype.splitterResize = function () {\n    this.notify(splitterResize, {});\n  };\n\n  FileManager.prototype.splitterAdjust = function () {\n    var bar = select('.' + SPLIT_BAR, this.element);\n\n    if (this.navigationPaneSettings.visible) {\n      this.splitterObj.expand(this.enableRtl ? 1 : 0);\n      bar.classList.remove(DISPLAY_NONE);\n    } else {\n      this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n      bar.classList.add(DISPLAY_NONE);\n    }\n  };\n\n  FileManager.prototype.addCssClass = function (oldOne, newOne) {\n    if (!isNullOrUndefined(oldOne) && oldOne !== '') {\n      removeClass([this.element], oldOne.split(' '));\n    }\n\n    if (!isNullOrUndefined(newOne) && newOne !== '') {\n      addClass([this.element], newOne.split(' '));\n    }\n  };\n\n  FileManager.prototype.showSpinner = function () {\n    showSpinner(this.element);\n  };\n\n  FileManager.prototype.hideSpinner = function () {\n    hideSpinner(this.element);\n  };\n\n  FileManager.prototype.onContextMenu = function (e) {\n    e.preventDefault();\n  };\n\n  FileManager.prototype.checkMobile = function () {\n    return /iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(Browser.userAgent.toLowerCase()) && /mobile/i.test(Browser.userAgent.toLowerCase());\n  };\n\n  FileManager.prototype.renderFileUpload = function () {\n    var id = this.element.id + UPLOAD_ID;\n    var uploadEle = this.createElement('input', {\n      id: id,\n      attrs: {\n        name: 'uploadFiles',\n        type: 'file'\n      }\n    });\n    this.element.appendChild(uploadEle);\n    this.uploadDialogObj = new Dialog({\n      header: getLocaleText(this, 'Header-Upload'),\n      content: uploadEle,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: false,\n      isModal: true,\n      width: '350px',\n      target: this.popupTarget ? this.popupTarget : '#' + this.element.id,\n      cssClass: getCssClass(this, this.isMobile ? MOB_POPUP : ROOT_POPUP),\n      locale: this.locale,\n      allowDragging: true,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: this.enableRtl,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      open: this.onOpen.bind(this),\n      close: this.onClose.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this)\n    });\n    this.uploadDialogObj.appendTo('#' + this.element.id + UPLOAD_DIALOG_ID);\n    this.renderUploadBox();\n  };\n\n  FileManager.prototype.renderUploadBox = function () {\n    var uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n    this.uploadObj = new Uploader({\n      dropArea: select('#' + this.element.id + CONTENT_ID, this.element),\n      asyncSettings: {\n        saveUrl: uploadUrl,\n        removeUrl: uploadUrl\n      },\n      locale: this.locale,\n      enableRtl: this.enableRtl,\n      uploading: this.onUploading.bind(this),\n      removing: this.onRemoving.bind(this),\n      canceling: this.onCancel.bind(this),\n      clearing: this.onClearing.bind(this),\n      selected: this.onSelected.bind(this),\n      success: this.onUploadSuccess.bind(this),\n      failure: this.onUploadFailure.bind(this),\n      autoUpload: this.uploadSettings.autoUpload,\n      minFileSize: this.uploadSettings.minFileSize,\n      maxFileSize: this.uploadSettings.maxFileSize,\n      allowedExtensions: this.uploadSettings.allowedExtensions,\n      directoryUpload: this.uploadSettings.directoryUpload,\n      fileListRendering: this.onFileListRender.bind(this)\n    });\n    this.uploadObj.appendTo('#' + this.element.id + UPLOAD_ID);\n  };\n\n  FileManager.prototype.onFileListRender = function (args) {\n    this.trigger('uploadListCreate', args);\n  };\n\n  FileManager.prototype.updateUploader = function () {\n    this.uploadObj.autoUpload = this.uploadSettings.autoUpload;\n    this.uploadObj.minFileSize = this.uploadSettings.minFileSize;\n    this.uploadObj.maxFileSize = this.uploadSettings.maxFileSize;\n    this.uploadObj.allowedExtensions = this.uploadSettings.allowedExtensions;\n    this.uploadObj.directoryUpload = this.uploadSettings.directoryUpload;\n    this.uploadObj.dataBind();\n  };\n\n  FileManager.prototype.onBeforeOpen = function (args) {\n    var eventArgs = {\n      cancel: args.cancel,\n      popupName: 'Upload',\n      popupModule: this.uploadDialogObj\n    };\n    this.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n      args.cancel = eventargs.cancel;\n    });\n  };\n\n  FileManager.prototype.onBeforeClose = function (args) {\n    var eventArgs = {\n      cancel: args.cancel,\n      popupName: 'Upload',\n      popupModule: this.uploadDialogObj\n    };\n    this.trigger('beforePopupClose', eventArgs, function (eventargs) {\n      args.cancel = eventargs.cancel;\n    });\n  };\n\n  FileManager.prototype.onOpen = function () {\n    this.isOpened = true;\n    this.uploadDialogObj.element.focus();\n    var args = {\n      popupModule: this.uploadDialogObj,\n      popupName: 'Upload',\n      element: this.uploadDialogObj.element\n    };\n    this.trigger('popupOpen', args);\n  };\n\n  FileManager.prototype.onClose = function () {\n    this.isOpened = false;\n    this.uploadObj.clearAll();\n    var args = {\n      popupModule: this.uploadDialogObj,\n      popupName: 'Upload',\n      element: this.uploadDialogObj.element\n    };\n    this.trigger('popupClose', args);\n  };\n  /* istanbul ignore next */\n\n\n  FileManager.prototype.onUploading = function (args) {\n    var action = 'save';\n\n    if (this.retryArgs.length !== 0) {\n      for (var i = 0; i < this.retryArgs.length; i++) {\n        if (args.fileData.name === this.retryArgs[i].file.name) {\n          action = this.retryArgs[i].action;\n          this.retryArgs.splice(i, 1);\n          i = this.retryArgs.length;\n        }\n      }\n    }\n\n    var data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n    args.customFormData = [{\n      'path': this.path\n    }, {\n      'action': action\n    }, {\n      'data': data\n    }, {\n      'filename': args.fileData.name\n    }];\n    var uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url; // eslint-disable-next-line\n\n    var ajaxSettings = {\n      url: uploadUrl,\n      type: 'POST',\n      mode: true,\n      dataType: null,\n      contentType: null,\n      data: JSON.stringify(args.customFormData),\n      onSuccess: null,\n      onFailure: null,\n      beforeSend: null\n    };\n    this.uploadEventArgs = {\n      action: 'Upload',\n      ajaxSettings: ajaxSettings,\n      cancel: false\n    };\n    this.trigger('beforeSend', this.uploadEventArgs, function (uploadEventArgs) {\n      args.customFormData = JSON.parse(getValue('data', uploadEventArgs.ajaxSettings));\n      args.cancel = uploadEventArgs.cancel; // eslint-disable-next-line\n\n      var eventArgs = {\n        cancel: false,\n        httpRequest: args.currentRequest\n      };\n\n      if (typeof getValue('beforeSend', uploadEventArgs.ajaxSettings) === 'function') {\n        getValue('beforeSend', uploadEventArgs.ajaxSettings)(eventArgs);\n\n        if (getValue('cancel', eventArgs)) {\n          args.cancel = getValue('cancel', eventArgs);\n        }\n      }\n    });\n  };\n\n  FileManager.prototype.onRemoving = function () {\n    this.onFileUploadSuccess({\n      count: 1\n    });\n\n    if (this.uploadObj.getFilesData().length === 1) {\n      this.uploadDialogObj.hide();\n    }\n  };\n  /* istanbul ignore next */\n\n\n  FileManager.prototype.onCancel = function (args) {\n    var data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n    args.customFormData = [{\n      'path': this.path\n    }, {\n      'action': 'remove'\n    }, {\n      'data': data\n    }];\n  };\n  /* istanbul ignore next */\n\n\n  FileManager.prototype.onClearing = function () {\n    if (this.isOpened) {\n      this.uploadDialogObj.hide();\n    }\n  };\n  /* istanbul ignore next */\n\n\n  FileManager.prototype.onSelected = function (args) {\n    if (args.filesData.length === 0) {\n      return;\n    }\n\n    this.uploadingCount = args.filesData.length;\n    this.uploadedCount = 0; // eslint-disable-next-line\n\n    var details = getPathObject(this);\n\n    if (!hasUploadAccess(details)) {\n      args.cancel = true;\n      createDeniedDialog(this, details, permissionUpload);\n      return;\n    }\n\n    this.uploadDialogObj.show();\n  }; // eslint-disable-next-line\n\n\n  FileManager.prototype.onFileUploadSuccess = function (args) {\n    this.uploadedCount = this.uploadedCount + args.count;\n\n    if (this.uploadSettings.autoClose && this.uploadingCount === this.uploadedCount) {\n      this.uploadDialogObj.hide();\n    }\n  };\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  FileManager.prototype.onUploadSuccess = function (files) {\n    var args = {\n      action: 'Upload',\n      result: files\n    };\n    this.trigger('success', args);\n    this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n    read(this, pathChanged, this.path);\n    this.onFileUploadSuccess({\n      count: 1\n    });\n\n    if (typeof getValue('onSuccess', this.uploadEventArgs.ajaxSettings) === 'function') {\n      getValue('onSuccess', this.uploadEventArgs.ajaxSettings)();\n    }\n  };\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  FileManager.prototype.onUploadFailure = function (files) {\n    // eslint-disable-next-line\n    var response = getValue('response', files);\n    var statusText = getValue('statusText', response);\n\n    if (statusText !== '') {\n      setValue('statusText', statusText, files);\n    }\n\n    var args = {\n      action: 'Upload',\n      error: files\n    };\n    this.trigger('failure', args);\n\n    if (getValue('statusCode', response) === 400) {\n      this.retryFiles.push(getValue('file', files));\n\n      if (!this.isRetryOpened) {\n        createExtDialog(this, 'UploadRetry');\n      }\n    }\n\n    if (typeof getValue('onFailure', this.uploadEventArgs.ajaxSettings) === 'function') {\n      getValue('onFailure', this.uploadEventArgs.ajaxSettings)();\n    }\n  };\n\n  FileManager.prototype.onInitialEnd = function () {\n    setNextPath(this, this.path);\n  };\n\n  FileManager.prototype.addEventListeners = function () {\n    this.on(beforeRequest, this.showSpinner, this);\n    this.on(afterRequest, this.hideSpinner, this);\n    this.on(initialEnd, this.onInitialEnd, this);\n    this.on(detailsInit, this.onDetailsInit, this);\n    this.on(skipUpload, this.onFileUploadSuccess, this);\n    EventHandler.add(this.element, 'contextmenu', this.onContextMenu, this);\n  };\n\n  FileManager.prototype.removeEventListeners = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    this.off(beforeRequest, this.showSpinner);\n    this.off(afterRequest, this.hideSpinner);\n    this.off(initialEnd, this.onInitialEnd);\n    this.off(detailsInit, this.onDetailsInit);\n    this.off(skipUpload, this.onFileUploadSuccess);\n    EventHandler.remove(this.element, 'contextmenu', this.onContextMenu);\n  };\n\n  FileManager.prototype.onDetailsInit = function () {\n    if (isNullOrUndefined(this.activeModule)) {\n      this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n    }\n  };\n\n  FileManager.prototype.resizeHandler = function () {\n    this.adjustHeight();\n    this.notify(resizeEnd, {});\n  };\n\n  FileManager.prototype.keyActionHandler = function (e) {\n    var uploadEle;\n\n    switch (e.action) {\n      case 'altN':\n        e.preventDefault();\n        this.itemData = [getPathObject(this)];\n\n        if (!hasContentAccess(this.itemData[0])) {\n          createDeniedDialog(this, this.itemData[0], permissionEditContents);\n        } else {\n          createDialog(this, 'NewFolder');\n        }\n\n        break;\n\n      case 'f5':\n        e.preventDefault();\n        refresh(this);\n        break;\n\n      /* istanbul ignore next */\n\n      case 'ctrlShift1':\n        e.preventDefault();\n        this.fileView = 'Details';\n        this.setProperties({\n          view: 'Details'\n        }, true);\n        showSpinner(this.element);\n        updateLayout(this, 'Details');\n        break;\n\n      /* istanbul ignore next */\n\n      case 'ctrlShift2':\n        e.preventDefault();\n        this.fileView = 'LargeIcons';\n        this.setProperties({\n          view: 'LargeIcons'\n        }, true);\n        showSpinner(this.element);\n        updateLayout(this, 'LargeIcons');\n        break;\n\n      case 'ctrlU':\n        e.preventDefault();\n        uploadEle = select('#' + this.element.id + UPLOAD_ID, this.element);\n        uploadEle.click();\n        break;\n    }\n  };\n\n  FileManager.prototype.wireEvents = function () {\n    EventHandler.add(window, 'resize', this.resizeHandler, this);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  FileManager.prototype.unWireEvents = function () {\n    EventHandler.remove(window, 'resize', this.resizeHandler);\n    this.keyboardModule.destroy();\n  };\n\n  FileManager.prototype.setPath = function () {\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    this.ensurePath();\n    this.notify(clearPathInit, {\n      selectedNode: this.pathId[0]\n    });\n    read(this, this.path !== this.originalPath ? initialEnd : finalizeEnd, this.path);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param  {FileManager} newProp\n   * @param  {FileManager} oldProp\n   * @returns void\n   * @private\n   */\n\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  FileManager.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var height;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'ajaxSettings':\n          this.ajaxSettingSetModel(newProp);\n          break;\n\n        case 'allowDragAndDrop':\n          this.allowDragAndDrop = newProp.allowDragAndDrop;\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'allowMultiSelection':\n          if (this.allowMultiSelection) {\n            addClass([this.element], CHECK_SELECT);\n          } else {\n            if (this.selectedItems.length > 1) {\n              this.setProperties({\n                selectedItems: this.selectedItems.slice(this.selectedItems.length - 1)\n              }, true);\n            }\n\n            removeClass([this.element], CHECK_SELECT);\n          }\n\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'cssClass':\n          this.addCssClass(oldProp.cssClass, newProp.cssClass);\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'detailsViewSettings':\n          this.notify(modelChanged, {\n            module: 'detailsview',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'enableRtl':\n          this.enableRtl = newProp.enableRtl;\n          this.refresh();\n          break;\n\n        case 'rootAliasName':\n          this.rootAliasName = newProp.rootAliasName;\n          this.refresh();\n          break;\n\n        case 'height':\n          height = !isNullOrUndefined(newProp.height) ? formatUnit(newProp.height) : newProp.height;\n          setStyleAttribute(this.element, {\n            'height': height\n          });\n          this.adjustHeight();\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'locale':\n          if (!isNullOrUndefined(newProp.enableRtl)) {\n            this.setProperties({\n              enableRtl: newProp.enableRtl\n            }, true);\n          }\n\n          this.localeSetModelOption(newProp);\n          break;\n\n        case 'navigationPaneSettings':\n          this.splitterAdjust();\n          this.notify(modelChanged, {\n            module: 'navigationpane',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'path':\n          this.setPath();\n          break;\n\n        case 'searchSettings':\n          if (!isNullOrUndefined(newProp.searchSettings.allowSearchOnTyping)) {\n            this.setProperties({\n              searchSettings: {\n                allowSearchOnTyping: newProp.searchSettings.allowSearchOnTyping\n              }\n            }, true);\n          }\n\n          if (isNullOrUndefined(newProp.searchSettings.ignoreCase)) {\n            this.setProperties({\n              searchSettings: {\n                ignoreCase: newProp.searchSettings.ignoreCase\n              }\n            }, true);\n          }\n\n          if (isNullOrUndefined(newProp.searchSettings.filterType)) {\n            this.setProperties({\n              searchSettings: {\n                filterType: newProp.searchSettings.filterType\n              }\n            }, true);\n          }\n\n          this.notify(modelChanged, {\n            module: 'breadcrumbbar',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'selectedItems':\n          if (this.view === 'Details') {\n            this.notify(modelChanged, {\n              module: 'detailsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          } else if (this.view === 'LargeIcons') {\n            this.notify(modelChanged, {\n              module: 'largeiconsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          }\n\n          break;\n\n        case 'showFileExtension':\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'showHiddenItems':\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'showThumbnail':\n          this.notify(modelChanged, {\n            module: 'largeiconsview',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'toolbarSettings':\n          this.adjustHeight();\n          this.notify(modelChanged, {\n            module: 'toolbar',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'uploadSettings':\n          this.updateUploader();\n          break;\n\n        case 'view':\n          if (newProp.view === 'Details') {\n            this.notify(modelChanged, {\n              module: 'detailsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          } else if (newProp.view === 'LargeIcons') {\n            this.notify(modelChanged, {\n              module: 'largeiconsview',\n              newProp: newProp,\n              oldProp: oldProp\n            });\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': !isNullOrUndefined(newProp.width) ? formatUnit(newProp.width) : newProp.width\n          });\n          this.notify(modelChanged, {\n            module: 'common',\n            newProp: newProp,\n            oldProp: oldProp\n          });\n          break;\n\n        case 'sortOrder':\n          refresh(this);\n          this.notify(sortByChange, {});\n          break;\n\n        case 'sortBy':\n          refresh(this);\n          this.notify(sortByChange, {});\n\n          if (this.view === 'Details') {\n            this.notify(sortColumn, {});\n          }\n\n          break;\n\n        case 'popupTarget':\n          if (this.uploadDialogObj) {\n            this.uploadDialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.dialogObj) {\n            this.dialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.extDialogObj) {\n            this.extDialogObj.target = newProp.popupTarget;\n          }\n\n          if (this.viewerObj) {\n            this.viewerObj.target = newProp.popupTarget;\n          }\n\n          break;\n      }\n    }\n  };\n  /* istanbul ignore next */\n\n\n  FileManager.prototype.ajaxSettingSetModel = function (newProp) {\n    if (!isNullOrUndefined(newProp.ajaxSettings.url)) {\n      this.setProperties({\n        ajaxSettings: {\n          url: newProp.ajaxSettings.url\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.uploadUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          uploadUrl: newProp.ajaxSettings.uploadUrl\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.downloadUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          downloadUrl: newProp.ajaxSettings.downloadUrl\n        }\n      }, true);\n    }\n\n    if (!isNullOrUndefined(newProp.ajaxSettings.getImageUrl)) {\n      this.setProperties({\n        ajaxSettings: {\n          getImageUrl: newProp.ajaxSettings.getImageUrl\n        }\n      }, true);\n    }\n\n    this.setProperties({\n      path: '/'\n    }, true);\n    this.setProperties({\n      selectedItems: []\n    }, true);\n\n    _super.prototype.refresh.call(this);\n  };\n  /* istanbul ignore next */\n\n\n  FileManager.prototype.localeSetModelOption = function (newProp) {\n    this.uploadObj.locale = newProp.locale;\n\n    _super.prototype.refresh.call(this);\n  };\n  /**\n   * Triggers when the component is destroyed.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.destroy = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    if (!this.refreshing) {\n      this.notify(destroy, {});\n    }\n\n    this.uploadObj.destroy();\n    this.uploadObj = null;\n    this.uploadDialogObj.destroy();\n    this.uploadDialogObj = null;\n    this.splitterObj.destroy();\n    this.splitterObj = null;\n\n    if (this.dialogObj) {\n      this.dialogObj.destroy();\n      this.dialogObj = null;\n    }\n\n    if (this.viewerObj) {\n      this.viewerObj.destroy();\n      this.viewerObj = null;\n    }\n\n    if (this.extDialogObj) {\n      this.extDialogObj.destroy();\n      this.extDialogObj = null;\n    }\n\n    this.element.removeAttribute('style');\n    this.element.removeAttribute('tabindex');\n    this.removeEventListeners();\n    this.unWireEvents();\n    this.addCssClass(this.cssClass, null);\n    removeClass([this.element], [RTL, MOBILE, CHECK_SELECT]);\n    this.element.innerHTML = '';\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Creates a new folder in file manager.\n   *\n   * @param {string} name  Specifies the name of new folder in current path.\n   * If it is not specified, then the default new folder dialog will be opened.\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.createFolder = function (name) {\n    this.notify(methodCall, {\n      action: 'createFolder'\n    }); // eslint-disable-next-line\n\n    var details = [getPathObject(this)];\n    this.itemData = details;\n\n    if (name) {\n      if (/[/\\\\|*?\"<>:]/.test(name)) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(this, 'Validation-Invalid').replace('{0}', '\"' + name + '\"'),\n            fileExists: null\n          }\n        };\n        createDialog(this, 'Error', result);\n      } else {\n        if (!hasContentAccess(details[0])) {\n          createDeniedDialog(this, details[0], permissionEditContents);\n        } else {\n          createFolder(this, name);\n        }\n      }\n    } else {\n      createNewFolder(this);\n    }\n  };\n  /**\n   * Deletes the folders or files from the given unique identifiers.\n   *\n   * @param {string} ids - Specifies the name of folders or files in current path. If you want to delete the nested level folders or\n   * files, then specify the filter path along with name of the folders or files when performing the search or custom filtering.\n   * For ID based file provider, specify the unique identifier of folders or files.\n   * If it is not specified, then delete confirmation dialog will be opened for selected item.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.deleteFiles = function (ids) {\n    this.notify(methodCall, {\n      action: 'deleteFiles',\n      ids: ids\n    });\n  };\n  /**\n   * Disables the specified toolbar items of the file manager.\n   *\n   * @param {string[]} items - Specifies an array of items to be disabled.\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.disableToolbarItems = function (items) {\n    if (!isNullOrUndefined(items)) {\n      this.toolbarModule.enableItems(items, false);\n    }\n  };\n  /**\n   * Downloads the folders or files from the given unique identifiers.\n   *\n   * @param {string} ids - Specifies the name of folders or files in current path. If you want to download the nested level folders\n   * or files, then specify the filter path along with name of the folders or files when performing search or custom filtering.\n   * For ID based file provider, specify the unique identifier of folders or files.\n   * If it is not specified, then the selected items will be downloaded.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.downloadFiles = function (ids) {\n    this.notify(methodCall, {\n      action: 'downloadFiles',\n      ids: ids\n    });\n  };\n  /**\n   * Enables the specified toolbar items of the file manager.\n   *\n   * @param {string[]} items - Specifies an array of items to be enabled.\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.enableToolbarItems = function (items) {\n    if (!isNullOrUndefined(items)) {\n      this.toolbarModule.enableItems(items, true);\n    }\n  };\n  /**\n   * Disables the specified context menu items in file manager. This method is used only in the menuOpen event.\n   *\n   * @param {string[]} items - Specifies an array of items to be disabled.\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.disableMenuItems = function (items) {\n    if (!isNullOrUndefined(items) && !isNullOrUndefined(this.contextmenuModule.contextMenu)) {\n      this.contextmenuModule.disableItem(items);\n    }\n  };\n  /**\n   * Returns the index position of given current context menu item in file manager.\n   *\n   * @param {string} item - Specifies an item to get the index position.\n   * @returns {number} - returns menu item index.\n   */\n\n\n  FileManager.prototype.getMenuItemIndex = function (item) {\n    if (this.contextmenuModule) {\n      return this.contextmenuModule.getItemIndex(item);\n    } else {\n      return -1;\n    }\n  };\n  /**\n   * Returns the index position of given toolbar item in file manager.\n   *\n   * @param {string} item - Specifies an item to get the index position.\n   * @returns {number} - returns toolbar item index.\n   */\n\n\n  FileManager.prototype.getToolbarItemIndex = function (item) {\n    if (this.toolbarModule) {\n      return this.toolbarModule.getItemIndex(item);\n    } else {\n      return -1;\n    }\n  };\n  /**\n   * Display the custom filtering files in file manager.\n   *\n   * @param {Object} filterData - Specifies the custom filter details along with custom file action name,\n   * which needs to be sent to the server side. If you do not specify the details, then default action name will be `filter`.\n   *\n   * @returns {void}\n   */\n  // eslint-disable-next-line\n\n\n  FileManager.prototype.filterFiles = function (filterData) {\n    this.filterData = filterData ? filterData : null;\n    this.setProperties({\n      selectedItems: []\n    }, true);\n    this.notify(selectionChanged, {});\n    this.isFiltered = true;\n\n    if (this.breadcrumbbarModule.searchObj.element.value !== '') {\n      this.breadcrumbbarModule.searchObj.element.value = '';\n    }\n\n    filter(this, filterEnd);\n  };\n  /**\n   * Gets the details of the selected files in the file manager.\n   *\n   * @returns {Object[]} - returns selected files.\n   */\n  // eslint-disable-next-line\n\n\n  FileManager.prototype.getSelectedFiles = function () {\n    this.notify(updateSelectionData, {});\n    return this.itemData;\n  };\n  /**\n   * Opens the corresponding file or folder from the given unique identifier.\n   *\n   * @param {string} id - Specifies the name of folder or file in current path. If you want to open the nested level folder or\n   * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n   * file provider, specify the unique identifier of folder or file.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.openFile = function (id) {\n    this.notify(methodCall, {\n      action: 'openFile',\n      id: id\n    });\n  };\n  /**\n   * Refreshes the folder files of the file manager.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.refreshFiles = function () {\n    refresh(this);\n  };\n  /**\n   * Refreshes the layout of the file manager.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.refreshLayout = function () {\n    this.adjustHeight();\n    this.notify(layoutRefresh, {});\n  };\n  /**\n   * Selects the entire folders and files in current path.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.selectAll = function () {\n    this.notify(methodCall, {\n      action: 'selectAll'\n    });\n  };\n  /**\n   * Deselects the currently selected folders and files in current path.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.clearSelection = function () {\n    this.notify(methodCall, {\n      action: 'clearSelection'\n    });\n  };\n  /**\n   * Renames the file or folder with given new name in file manager.\n   *\n   * @param {string} id - Specifies the name of folder or file in current path. If you want to rename the nested level folder or\n   * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n   * file provider, specify the unique identifier of folder or file.\n   * If it is not specified, then rename dialog will be opened for selected item.\n   *\n   * @param {string} name  Specifies the new name of the file or folder in current path. If it is not specified, then rename dialog\n   * will be opened for given identifier.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.renameFile = function (id, name) {\n    this.notify(methodCall, {\n      action: 'renameFile',\n      id: id,\n      newName: name\n    });\n  };\n  /**\n   * Opens the upload dialog in file manager.\n   *\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.uploadFiles = function () {\n    // eslint-disable-next-line\n    var details = [getPathObject(this)];\n    this.itemData = details;\n    uploadItem(this);\n  };\n  /**\n   * Specifies the direction of FileManager\n   *\n   * @param {boolean} rtl - specifies rtl parameter.\n   * @returns {void}\n   */\n\n\n  FileManager.prototype.setRtl = function (rtl) {\n    if (rtl) {\n      this.addCssClass(null, RTL);\n    } else {\n      this.addCssClass(RTL, null);\n    }\n\n    if (this.uploadObj) {\n      this.uploadDialogObj.enableRtl = rtl;\n      this.uploadObj.enableRtl = rtl;\n    }\n  };\n\n  var FileManager_1;\n\n  __decorate$8([Complex({}, AjaxSettings)], FileManager.prototype, \"ajaxSettings\", void 0);\n\n  __decorate$8([Property(false)], FileManager.prototype, \"allowDragAndDrop\", void 0);\n\n  __decorate$8([Property(true)], FileManager.prototype, \"allowMultiSelection\", void 0);\n\n  __decorate$8([Complex({}, ContextMenuSettings)], FileManager.prototype, \"contextMenuSettings\", void 0);\n\n  __decorate$8([Property('')], FileManager.prototype, \"cssClass\", void 0);\n\n  __decorate$8([Complex({}, DetailsViewSettings)], FileManager.prototype, \"detailsViewSettings\", void 0);\n\n  __decorate$8([Property(true)], FileManager.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$8([Property(false)], FileManager.prototype, \"enablePersistence\", void 0);\n\n  __decorate$8([Property('400px')], FileManager.prototype, \"height\", void 0);\n\n  __decorate$8([Property('LargeIcons')], FileManager.prototype, \"view\", void 0);\n\n  __decorate$8([Complex({}, NavigationPaneSettings)], FileManager.prototype, \"navigationPaneSettings\", void 0);\n\n  __decorate$8([Property('/')], FileManager.prototype, \"path\", void 0);\n\n  __decorate$8([Property(null)], FileManager.prototype, \"popupTarget\", void 0);\n\n  __decorate$8([Complex({}, SearchSettings)], FileManager.prototype, \"searchSettings\", void 0);\n\n  __decorate$8([Property()], FileManager.prototype, \"selectedItems\", void 0);\n\n  __decorate$8([Property(true)], FileManager.prototype, \"showFileExtension\", void 0);\n\n  __decorate$8([Property(null)], FileManager.prototype, \"rootAliasName\", void 0);\n\n  __decorate$8([Property(false)], FileManager.prototype, \"showHiddenItems\", void 0);\n\n  __decorate$8([Property(true)], FileManager.prototype, \"showThumbnail\", void 0);\n\n  __decorate$8([Property('Ascending')], FileManager.prototype, \"sortOrder\", void 0);\n\n  __decorate$8([Property('name')], FileManager.prototype, \"sortBy\", void 0);\n\n  __decorate$8([Complex({}, ToolbarSettings)], FileManager.prototype, \"toolbarSettings\", void 0);\n\n  __decorate$8([Complex({}, UploadSettings)], FileManager.prototype, \"uploadSettings\", void 0);\n\n  __decorate$8([Property('100%')], FileManager.prototype, \"width\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileLoad\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileOpen\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"beforeDownload\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"beforeImageLoad\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"beforePopupClose\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"beforePopupOpen\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"beforeSend\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"created\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"destroyed\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileDragStart\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileDragging\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileDragStop\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileDropped\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileSelection\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"fileSelect\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"menuClick\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"menuOpen\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"failure\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"popupClose\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"popupOpen\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"success\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"toolbarClick\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"toolbarCreate\", void 0);\n\n  __decorate$8([Event()], FileManager.prototype, \"uploadListCreate\", void 0);\n\n  FileManager = FileManager_1 = __decorate$8([NotifyPropertyChanges], FileManager);\n  return FileManager;\n}(Component);\n/**\n * File Manager base modules\n */\n\n/**\n * Toolbar module\n */\n\n\nvar Toolbar$1 =\n/** @__PURE__ @class */\nfunction () {\n  /**\n   * Constructor for the Toolbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies the parent element.\n   * @private\n   */\n  function Toolbar$$1(parent) {\n    this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n    this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n    this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n    this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n    this.parent = parent;\n    this.render();\n    this.addEventListener();\n  }\n\n  Toolbar$$1.prototype.render = function () {\n    var _this = this;\n\n    this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map(function (item) {\n      return item.trim();\n    })));\n    var eventArgs = {\n      items: this.items\n    };\n    this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n      _this.items = toolbarCreateArgs.items;\n      _this.toolbarObj = new Toolbar({\n        items: _this.items,\n        created: _this.toolbarCreateHandler.bind(_this),\n        overflowMode: 'Popup',\n        clicked: _this.onClicked.bind(_this),\n        enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n        enableRtl: _this.parent.enableRtl\n      });\n      _this.toolbarObj.isStringTemplate = true;\n\n      _this.toolbarObj.appendTo('#' + _this.parent.element.id + TOOLBAR_ID);\n    });\n  };\n\n  Toolbar$$1.prototype.getItemIndex = function (item) {\n    var itemId = this.getId(item);\n\n    for (var i = 0; i < this.items.length; i++) {\n      if (this.items[i].id === itemId) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  Toolbar$$1.prototype.getItems = function (items) {\n    var currItems = items.slice();\n\n    if (this.parent.isDevice && this.parent.allowMultiSelection) {\n      currItems.push('SelectAll');\n    }\n\n    return currItems;\n  };\n  /* istanbul ignore next */\n\n\n  Toolbar$$1.prototype.onClicked = function (args) {\n    var _this = this;\n\n    if (isNullOrUndefined(args.item) || !args.item.id) {\n      return;\n    }\n\n    var tool = args.item.id.substr((this.parent.element.id + '_tb_').length); // eslint-disable-next-line\n\n    var details;\n\n    if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(selectedData, {});\n      details = this.parent.itemData;\n    }\n\n    var eventArgs = {\n      cancel: false,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('toolbarClick', eventArgs, function (toolbarClickArgs) {\n      var sItems;\n      var target;\n\n      if (!toolbarClickArgs.cancel) {\n        switch (tool) {\n          case 'sortby':\n            target = closest(args.originalEvent.target, '.' + TB_ITEM);\n\n            if (target && target.classList.contains('e-toolbar-popup')) {\n              args.cancel = true;\n            }\n\n            break;\n\n          case 'newfolder':\n            createNewFolder(_this.parent);\n            break;\n\n          case 'cut':\n            cutFiles(_this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(_this.parent);\n            break;\n\n          case 'delete':\n            for (var i = 0; i < details.length; i++) {\n              if (!hasEditAccess(details[i])) {\n                createDeniedDialog(_this.parent, details[i], permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(_this.parent, 'Delete');\n            break;\n\n          case 'details':\n            _this.parent.notify(detailsInit, {});\n\n            sItems = _this.parent.selectedItems;\n\n            if (_this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n            break;\n\n          case 'paste':\n            _this.parent.folderPath = '';\n            pasteHandler(_this.parent);\n            break;\n\n          case 'refresh':\n            refresh(_this.parent);\n            break;\n\n          case 'download':\n            doDownload(_this.parent);\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(_this.parent, details[0], permissionEdit);\n            } else {\n              _this.parent.notify(renameInit, {});\n\n              createDialog(_this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'upload':\n            uploadItem(_this.parent);\n            break;\n\n          case 'selectall':\n            _this.parent.notify(selectAllInit, {});\n\n            break;\n\n          case 'selection':\n            _this.parent.notify(clearAllInit, {});\n\n            break;\n        }\n      }\n    });\n  };\n\n  Toolbar$$1.prototype.toolbarCreateHandler = function () {\n    if (!isNullOrUndefined(select('#' + this.getId('SortBy'), this.parent.element))) {\n      var items = [{\n        id: this.getPupupId('name'),\n        text: getLocaleText(this.parent, 'Name'),\n        iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : ''\n      }, {\n        id: this.getPupupId('size'),\n        text: getLocaleText(this.parent, 'Size'),\n        iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : ''\n      }, {\n        id: this.getPupupId('date'),\n        text: getLocaleText(this.parent, 'DateModified'),\n        iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : ''\n      }, {\n        separator: true\n      }, {\n        id: this.getPupupId('ascending'),\n        text: getLocaleText(this.parent, 'Ascending'),\n        iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('descending'),\n        text: getLocaleText(this.parent, 'Descending'),\n        iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : ''\n      }, {\n        id: this.getPupupId('none'),\n        text: getLocaleText(this.parent, 'None'),\n        iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : ''\n      }];\n      this.buttonObj = new DropDownButton({\n        items: items,\n        cssClass: getCssClass(this.parent, ROOT_POPUP),\n        select: sortbyClickHandler.bind(this, this.parent),\n        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n        enableRtl: this.parent.enableRtl,\n        iconCss: ICON_SHORTBY\n      });\n      this.buttonObj.isStringTemplate = true;\n      this.buttonObj.appendTo('#' + this.getId('SortBy'));\n    }\n\n    if (!isNullOrUndefined(select('#' + this.getId('View'), this.parent.element))) {\n      var gridSpan = '<span class=\"' + ICON_GRID + ' ' + MENU_ICON + '\"></span>';\n      var largeIconSpan = '<span class=\"' + ICON_LARGE + ' ' + MENU_ICON + '\"></span>';\n      var layoutItems = [{\n        id: this.getPupupId('large'),\n        text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n        iconCss: this.parent.view === 'Details' ? '' : TB_OPTION_TICK\n      }, {\n        id: this.getPupupId('details'),\n        text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n        iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : ''\n      }];\n      this.layoutBtnObj = new DropDownButton({\n        iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n        cssClass: getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP),\n        items: layoutItems,\n        select: this.layoutChange.bind(this),\n        enableRtl: this.parent.enableRtl,\n        content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n      });\n      this.layoutBtnObj.isStringTemplate = true;\n      this.layoutBtnObj.appendTo('#' + this.getId('View'));\n    }\n\n    this.hideItems(this.default, true);\n    this.hideStatus();\n    var btnElement = selectAll('.e-btn', this.toolbarObj.element);\n\n    var _loop_1 = function (btnCount) {\n      /* istanbul ignore next */\n      btnElement[btnCount].onkeydown = function (e) {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          e.preventDefault();\n        }\n      };\n\n      btnElement[btnCount].onkeyup = function (e) {\n        if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n          btnElement[btnCount].click();\n        }\n      };\n    };\n\n    for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n      _loop_1(btnCount);\n    }\n\n    this.parent.refreshLayout();\n  };\n\n  Toolbar$$1.prototype.updateSortByButton = function () {\n    if (this.buttonObj) {\n      var items = this.buttonObj.items;\n\n      for (var itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('name')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'name' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('size')) {\n          items[itemCount].iconCss = this.parent.sortBy === 'size' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('date')) {\n          items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '';\n        } else if (items[itemCount].id === this.getPupupId('ascending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('descending')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('none')) {\n          items[itemCount].iconCss = this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '';\n        }\n      }\n    }\n  };\n\n  Toolbar$$1.prototype.getPupupId = function (id) {\n    return this.parent.element.id + '_ddl_' + id.toLowerCase();\n  };\n\n  Toolbar$$1.prototype.layoutChange = function (args) {\n    if (this.parent.view === 'Details') {\n      if (args.item.id === this.getPupupId('large')) {\n        updateLayout(this.parent, 'LargeIcons');\n      }\n    } else {\n      if (args.item.id === this.getPupupId('details')) {\n        updateLayout(this.parent, 'Details');\n      }\n    }\n  };\n\n  Toolbar$$1.prototype.toolbarItemData = function (data) {\n    var items = [];\n    var mode = 'Both';\n\n    if (this.parent.isMobile) {\n      mode = 'Overflow';\n    }\n\n    for (var i = 0; i < data.length; i++) {\n      var item = void 0;\n      var itemId = this.getId(data[i]);\n      var itemText = getLocaleText(this.parent, data[i]);\n      var itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n      var spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            type: 'Separator'\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_UPLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_REFRESH,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Selection':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            suffixIcon: ICON_CLEAR,\n            overflow: 'Show',\n            align: 'Right'\n          };\n          break;\n\n        case 'View':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow',\n            template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' + getLocaleText(this.parent, 'View') + '></button>'\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DETAILS,\n            overflow: 'Show',\n            align: 'Right',\n            text: itemText,\n            showTextOn: 'Overflow'\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_NEWFOLDER,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_CUT,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_COPY,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_PASTE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DELETE,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_RENAME,\n            showTextOn: mode\n          };\n          break;\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_DOWNLOAD,\n            showTextOn: mode\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip,\n            prefixIcon: ICON_SELECTALL,\n            showTextOn: mode\n          };\n          break;\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText,\n            tooltipText: itemTooltip\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  Toolbar$$1.prototype.getId = function (id) {\n    return this.parent.element.id + '_tb_' + id.toLowerCase();\n  };\n\n  Toolbar$$1.prototype.addEventListener = function () {\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(showPaste, this.showPaste, this);\n    this.parent.on(hidePaste, this.hidePaste, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(sortByChange, this.updateSortByButton, this);\n  };\n\n  Toolbar$$1.prototype.reRenderToolbar = function (e) {\n    var _this = this;\n\n    if (e.newProp.toolbarSettings.items !== undefined) {\n      this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map(function (item) {\n        return item.trim();\n      })));\n      var eventArgs = {\n        items: this.items\n      };\n      this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n        if (_this.buttonObj) {\n          _this.buttonObj.destroy();\n        }\n\n        if (_this.layoutBtnObj) {\n          _this.layoutBtnObj.destroy();\n        }\n\n        _this.items = toolbarCreateArgs.items;\n        _this.toolbarObj.items = _this.items;\n\n        _this.toolbarObj.dataBind();\n\n        _this.toolbarCreateHandler();\n      });\n    }\n  };\n\n  Toolbar$$1.prototype.onSelectionChanged = function () {\n    this.hideStatus();\n    this.hideItems(this.single, true);\n    this.hideItems(this.selection, false);\n\n    if (this.parent.selectedItems.length === 1) {\n      this.hideItems(this.single, false);\n      this.hideItems(this.selection, true);\n    } else if (this.parent.selectedItems.length > 1) {\n      this.hideItems(this.multiple, false);\n      this.hideItems(this.selection, true);\n    }\n\n    var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (this.parent.selectedItems.length > 0 && ele) {\n      var txt = void 0;\n\n      if (this.parent.selectedItems.length === 1) {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n      } else {\n        txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n      }\n\n      select('.e-tbar-btn-text', ele).textContent = txt;\n      this.toolbarObj.hideItem(ele.parentElement, false);\n    }\n  };\n\n  Toolbar$$1.prototype.hideItems = function (tools, toHide) {\n    for (var i = 0; i < tools.length; i++) {\n      var ele = select('#' + this.getId(tools[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.hideItem(ele.parentElement, toHide);\n      }\n    }\n  };\n\n  Toolbar$$1.prototype.hideStatus = function () {\n    var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n\n    if (ele) {\n      this.toolbarObj.hideItem(ele.parentElement, true);\n    }\n  };\n\n  Toolbar$$1.prototype.showPaste = function () {\n    this.hideItems(['Paste'], false);\n  };\n\n  Toolbar$$1.prototype.hidePaste = function () {\n    this.hideItems(['Paste'], true);\n  };\n\n  Toolbar$$1.prototype.onLayoutChange = function () {\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE;\n      var items = this.layoutBtnObj.items;\n\n      for (var itemCount = 0; itemCount < items.length; itemCount++) {\n        if (items[itemCount].id === this.getPupupId('large')) {\n          items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? TB_OPTION_TICK : '';\n        } else if (items[itemCount].id === this.getPupupId('details')) {\n          items[itemCount].iconCss = this.parent.view === 'Details' ? TB_OPTION_TICK : '';\n        }\n      }\n    }\n  };\n\n  Toolbar$$1.prototype.removeEventListener = function () {\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(selectionChanged, this.onSelectionChanged);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(showPaste, this.showPaste);\n    this.parent.off(hidePaste, this.hidePaste);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(sortByChange, this.updateSortByButton);\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n\n  Toolbar$$1.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n\n  Toolbar$$1.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'cssClass':\n          if (this.buttonObj) {\n            this.buttonObj.cssClass = getCssClass(this.parent, ROOT_POPUP);\n          }\n\n          if (this.layoutBtnObj) {\n            this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP);\n          }\n\n          break;\n\n        case 'height':\n        case 'width':\n          this.toolbarObj.refreshOverflow();\n          break;\n\n        case 'toolbarSettings':\n          this.reRenderToolbar(e);\n          break;\n      }\n    }\n  };\n\n  Toolbar$$1.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.buttonObj) {\n      this.buttonObj.destroy();\n    }\n\n    if (this.layoutBtnObj) {\n      this.layoutBtnObj.destroy();\n    }\n\n    this.toolbarObj.destroy();\n    this.parent.refreshLayout();\n  };\n\n  Toolbar$$1.prototype.enableItems = function (items, isEnable) {\n    for (var i = 0; i < items.length; i++) {\n      var ele = select('#' + this.getId(items[i]), this.parent.element);\n\n      if (ele) {\n        this.toolbarObj.enableItems(ele.parentElement, isEnable);\n      }\n    }\n  };\n\n  return Toolbar$$1;\n}();\n/**\n * File Manager actions modules\n */\n\n/**\n * NavigationPane module\n */\n\n\nvar NavigationPane =\n/** @__PURE__ @class */\nfunction () {\n  /**\n   * Constructor for the TreeView module\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n\n  /* istanbul ignore next */\n  function NavigationPane(parent) {\n    this.removeNodes = [];\n    this.moveNames = [];\n    this.expandTree = false;\n    this.isDrag = false;\n    this.isPathDragged = false;\n    this.isRenameParent = false;\n    this.isRightClick = false;\n    this.renameParent = null; // Specifies the previously selected nodes in the treeview control.\n\n    this.previousSelected = null; // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n\n    this.isNodeClickCalled = false; // Specifies whether to restrict node selection in the treeview control.\n\n    this.restrictSelecting = false;\n    this.parent = parent;\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftF10: 'shift+F10',\n      f2: 'f2'\n    };\n  }\n\n  NavigationPane.prototype.onInit = function () {\n    if (!isNullOrUndefined(this.treeObj)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n    setValue('_fm_icon', 'e-fe-folder', rootData); // eslint-disable-next-line\n\n    var attr = {};\n    var id = getValue('id', rootData);\n\n    if (!isNullOrUndefined(id)) {\n      setValue('data-id', id, attr);\n    }\n\n    if (!hasEditAccess(rootData)) {\n      setValue('class', getAccessClass(rootData), attr);\n    }\n\n    if (!isNullOrUndefined(attr)) {\n      setValue('_fm_htmlAttr', attr, rootData);\n    }\n\n    this.treeObj = new TreeView({\n      fields: {\n        dataSource: [rootData],\n        id: '_fm_id',\n        parentID: '_fm_pId',\n        expanded: '_fm_expanded',\n        selected: '_fm_selected',\n        text: 'name',\n        hasChildren: 'hasChild',\n        iconCss: '_fm_icon',\n        htmlAttributes: '_fm_htmlAttr',\n        tooltip: 'name'\n      },\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      sortOrder: this.parent.navigationPaneSettings.sortOrder,\n      nodeSelecting: this.onNodeSelecting.bind(this),\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeExpanding: this.onNodeExpand.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      allowEditing: true,\n      nodeEditing: this.onNodeEditing.bind(this),\n      drawNode: this.onDrowNode.bind(this),\n      enableRtl: this.parent.enableRtl,\n      dataBound: this.addDragDrop.bind(this)\n    });\n    this.treeObj.isStringTemplate = true;\n    this.treeObj.appendTo('#' + this.parent.element.id + TREE_ID);\n    this.wireEvents();\n  };\n\n  NavigationPane.prototype.addDragDrop = function () {\n    var _this = this;\n\n    if (!this.parent.isMobile && this.treeObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.treeObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          dragTarget: '.' + FULLROW,\n          distance: 5,\n          dragArea: this.parent.element,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableTailMode: true,\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n\n  NavigationPane.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n\n    if (!dragTarget.classList.contains(FULLROW)) {\n      return null;\n    }\n\n    var dragLi = closest(dragTarget, 'li');\n    this.parent.dragPath = '';\n    this.parent.dragData = [];\n    this.parent.activeElements = [];\n    this.parent.activeElements = [dragLi];\n    this.parent.dragNodes = [];\n    getModule(this.parent, dragLi); // eslint-disable-next-line\n\n    this.parent.dragData = this.getTreeData(dragLi);\n    this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n    this.parent.dragNodes.push(this.parent.dragData[0].name);\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n\n  NavigationPane.prototype.getDragPath = function (dragLi, text) {\n    var path = this.getDropPath(dragLi, text);\n    return getParentPath(path);\n  };\n\n  NavigationPane.prototype.getDropPath = function (node, text) {\n    var id = node.getAttribute('data-id');\n    var newText = this.parent.hasId ? id : text;\n    return getPath(node, newText, this.parent.hasId);\n  };\n\n  NavigationPane.prototype.onDrowNode = function (args) {\n    var eventArgs = {\n      element: args.node,\n      fileDetails: args.nodeData,\n      module: 'NavigationPane'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.addChild = function (files, target, prevent) {\n    // eslint-disable-next-line\n    var directories = getDirectories(files);\n\n    if (directories.length > 0) {\n      var length_1 = 0; // eslint-disable-next-line\n\n      var folders = directories;\n\n      while (length_1 < directories.length) {\n        // eslint-disable-next-line\n        folders[length_1]._fm_icon = 'e-fe-folder'; // eslint-disable-next-line\n\n        var attr = {};\n        var id = getValue('id', folders[length_1]);\n\n        if (!isNullOrUndefined(id)) {\n          setValue('data-id', id, attr);\n        }\n\n        if (!hasEditAccess(folders[length_1])) {\n          setValue('class', getAccessClass(folders[length_1]), attr);\n        }\n\n        if (!isNullOrUndefined(attr)) {\n          setValue('_fm_htmlAttr', attr, folders[length_1]);\n        }\n\n        length_1++;\n      } // eslint-disable-next-line\n\n\n      this.treeObj.addNodes(directories, target, null, prevent);\n    }\n  }; // Node Selecting event handler\n\n\n  NavigationPane.prototype.onNodeSelecting = function (args) {\n    if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n      this.restrictSelecting = false;\n      this.isNodeClickCalled = false;\n      return;\n    }\n\n    if (!this.renameParent) {\n      this.parent.activeModule = 'navigationpane'; // eslint-disable-next-line\n\n      var nodeData = this.getTreeData(getValue('id', args.nodeData));\n      var eventArgs = {\n        cancel: false,\n        fileDetails: nodeData[0],\n        module: 'NavigationPane'\n      };\n      this.parent.trigger('fileOpen', eventArgs);\n      args.cancel = eventArgs.cancel;\n\n      if (args.cancel) {\n        this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] !== args.node.getAttribute('data-uid') : false;\n        this.treeObj.selectedNodes = this.isNodeClickCalled ? this.previousSelected : this.treeObj.selectedNodes;\n        this.previousSelected = this.treeObj.selectedNodes;\n\n        if (!isNullOrUndefined(this.parent) && !isNullOrUndefined(this.parent.contextmenuModule)) {\n          this.parent.contextmenuModule.contextMenu.enableItems(['Open'], true);\n        }\n      }\n    }\n  }; // Opens the folder while clicking open context menu item in the treeview.\n\n\n  NavigationPane.prototype.openFileOnContextMenuClick = function (node) {\n    var data = this.treeObj.getTreeData(node); // eslint-disable-next-line\n\n    this.parent.selectedItems = [];\n    this.parent.itemData = data;\n    this.activeNode = node;\n    this.parent.activeModule = 'navigationpane';\n    updatePath(node, this.parent.itemData[0], this.parent);\n    read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n    this.parent.visitedItem = node;\n    this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n    this.treeObj.selectedNodes = [node.getAttribute('data-uid')];\n  };\n\n  NavigationPane.prototype.onNodeSelected = function (args) {\n    if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n      this.parent.breadcrumbbarModule.searchObj.element.value = '';\n      this.parent.isFiltered = false;\n    }\n\n    this.parent.searchedItems = [];\n\n    if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n      return;\n    }\n\n    this.activeNode = args.node;\n    this.parent.activeModule = 'navigationpane'; // eslint-disable-next-line\n\n    var nodeData = this.getTreeData(getValue('id', args.nodeData));\n    this.parent.selectedItems = [];\n    this.parent.itemData = nodeData;\n    var previousPath = this.parent.path;\n    updatePath(args.node, this.parent.itemData[0], this.parent);\n\n    if (previousPath !== this.parent.path) {\n      this.expandNodeTarget = null;\n\n      if (args.node.querySelector('.' + ICONS) && args.node.querySelector('.' + LIST_ITEM) === null) {\n        this.expandNodeTarget = 'add';\n      }\n\n      read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n      this.parent.visitedItem = args.node;\n    }\n\n    this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n  };\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  NavigationPane.prototype.onPathDrag = function (args) {\n    this.isPathDragged = true;\n    this.selectResultNode(args[0]);\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onNodeExpand = function (args) {\n    if (!args.isInteracted && !this.isDrag) {\n      return;\n    }\n\n    if (args.node.querySelector('.' + LIST_ITEM) === null) {\n      var text = getValue('text', args.nodeData);\n      var id = args.node.getAttribute('data-id');\n      var isId = isNullOrUndefined(id) ? false : true;\n      var newText = isNullOrUndefined(id) ? text : id;\n      var path = getPath(args.node, newText, isId);\n      this.expandNodeTarget = args.node.getAttribute('data-uid');\n      this.parent.expandedId = this.expandNodeTarget;\n      this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n      read(this.parent, nodeExpand, path);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onNodeExpanded = function (args) {\n    this.addChild(args.files, this.expandNodeTarget, false);\n    this.parent.expandedId = null;\n  };\n\n  NavigationPane.prototype.onNodeClicked = function (args) {\n    this.parent.activeModule = 'navigationpane';\n    this.previousSelected = this.treeObj.selectedNodes;\n    this.activeNode = args.node;\n\n    if (args.event.which === 3 && args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0]) {\n      this.isRightClick = true;\n      this.isNodeClickCalled = true;\n      this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n    } else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      var layout = this.parent.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n      this.parent.notify(modelChanged, {\n        module: layout,\n        newProp: {\n          selectedItems: []\n        }\n      });\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onNodeEditing = function (args) {\n    if (!isNullOrUndefined(args.innerHtml)) {\n      args.cancel = true;\n    }\n  };\n\n  NavigationPane.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false; // eslint-disable-next-line\n\n    var currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n\n    if (this.expandNodeTarget === 'add') {\n      var sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n      var ul = !isNullOrUndefined(sNode) ? select('.' + LIST_PARENT, sNode) : null;\n\n      if (isNullOrUndefined(ul)) {\n        this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n      }\n\n      this.expandNodeTarget = '';\n    }\n\n    this.expandTree = false;\n\n    if (isNullOrUndefined(currFiles)) {\n      setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n    }\n\n    if (this.parent.uploadObj.directoryUpload) this.updateTree(args);\n  };\n\n  NavigationPane.prototype.updateTree = function (args) {\n    if (this.treeObj) {\n      var id = this.treeObj.selectedNodes[0];\n      this.updateTreeNode(args, id);\n    }\n  };\n\n  NavigationPane.prototype.updateTreeNode = function (args, id) {\n    var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, !toExpand);\n  };\n\n  NavigationPane.prototype.removeChildNodes = function (id) {\n    var sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n    var parent = select('.' + LIST_PARENT, sNode);\n    var childs = parent ? Array.prototype.slice.call(parent.children) : null;\n\n    if (childs) {\n      this.treeObj.removeNodes(childs);\n    }\n  };\n\n  NavigationPane.prototype.onOpenEnd = function (args) {\n    var sleId = this.parent.pathId[this.parent.pathId.length - 1];\n    this.treeObj.expandAll(this.treeObj.selectedNodes);\n    this.treeObj.selectedNodes = [sleId];\n    this.expandNodeTarget = 'add';\n    this.onPathChanged(args);\n  };\n\n  NavigationPane.prototype.onOpenInit = function (args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      if (args.target.querySelector('.' + ICONS)) {\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n      }\n    }\n  };\n\n  NavigationPane.prototype.onInitialEnd = function (args) {\n    this.onInit();\n    this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n  };\n\n  NavigationPane.prototype.onFinalizeEnd = function (args) {\n    this.onInit();\n    var id = getValue('_fm_id', args.cwd);\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, false);\n    this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n  };\n\n  NavigationPane.prototype.onCreateEnd = function (args) {\n    this.updateTree(args);\n  };\n\n  NavigationPane.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateItemData();\n    }\n  };\n\n  NavigationPane.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateActionData();\n      var name_1 = getValue('name', this.parent.itemData[0]);\n      Delete(this.parent, [name_1], this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDeleteEnd = function (args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      var selectedNode = this.treeObj.selectedNodes[0];\n      var selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n      var selectedNodeEle = closest(selcetedEle, '.' + LIST_PARENT).parentElement;\n      this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n      this.treeObj.dataBind();\n    }\n\n    this.updateTree(args);\n  };\n\n  NavigationPane.prototype.onRefreshEnd = function (args) {\n    this.updateTree(args);\n  };\n\n  NavigationPane.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateRenameData();\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onRenameEndParent = function (args) {\n    var id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n    this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n    this.updateTreeNode(args, id);\n    this.parent.expandedId = null;\n\n    if (this.renameParent) {\n      this.renameParent = null;\n    } else {\n      // eslint-disable-next-line\n      var resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        var nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.isRenameParent = true;\n        var id_1 = getValue(this.treeObj.fields.id, resultData[0]);\n        this.treeObj.selectedNodes = [id_1];\n        this.treeObj.dataBind();\n      }\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onRenameEnd = function (args) {\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n      this.updateTree(args);\n    } else {\n      // eslint-disable-next-line\n      var data = this.treeObj.getTreeData(); // eslint-disable-next-line\n\n      var resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(data).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        var nData = new DataManager(data).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n        this.parent.expandedId = this.renameParent;\n        this.parent.itemData = this.getTreeData(this.renameParent);\n        read(this.parent, renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n      }\n    }\n  };\n\n  NavigationPane.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.addDragDrop();\n          break;\n\n        case 'navigationPaneSettings':\n          read(this.parent, finalizeEnd, '/');\n\n          if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n            this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n          }\n\n          break;\n      }\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDownLoadInit = function () {\n    this.doDownload();\n  };\n\n  NavigationPane.prototype.onSelectionChanged = function (e) {\n    this.treeObj.selectedNodes = [e.selectedNode];\n  };\n\n  NavigationPane.prototype.onClearPathInit = function (e) {\n    this.removeChildNodes(e.selectedNode);\n  };\n\n  NavigationPane.prototype.onDragEnd = function (args) {\n    var moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchDrag) {\n      moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.getMoveNames = function (files, flag, path) {\n    var moveNames = [];\n\n    for (var i = 0; i < files.length; i++) {\n      if (!files[i].isFile) {\n        if (!this.parent.hasId) {\n          var name_2 = files[i].previousName;\n\n          if (flag) {\n            path = path + files[i].previousName;\n            var index = path.lastIndexOf('/');\n            name_2 = path.substring(index + 1);\n            path = path.substring(0, index + 1);\n          } // eslint-disable-next-line\n\n\n          var resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name_2, false));\n\n          for (var j = 0; j < resultData.length; j++) {\n            var fPath = getValue('filterPath', resultData[j]);\n            fPath = fPath.replace(/\\\\/g, '/');\n\n            if (fPath === path) {\n              moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return moveNames;\n  };\n\n  NavigationPane.prototype.onCutEnd = function (args) {\n    var moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchCut) {\n      this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  };\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  NavigationPane.prototype.selectResultNode = function (resultObj) {\n    if (!this.parent.hasId) {\n      var path = getValue('filterPath', resultObj);\n      var itemname = getValue('name', resultObj); // eslint-disable-next-line\n\n      var data = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n\n      if (data.length > 0) {\n        // eslint-disable-next-line\n        var resultData = new DataManager(data).executeLocal(new Query().where('filterPath', 'equal', path, false));\n\n        if (resultData.length > 0) {\n          var id = getValue(this.treeObj.fields.id, resultData[0]);\n          this.treeObj.selectedNodes = [id];\n          this.treeObj.dataBind();\n        }\n      }\n    } else {\n      this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n      this.treeObj.dataBind();\n    }\n  };\n\n  NavigationPane.prototype.onDropPath = function (args) {\n    this.onpasteEnd(args);\n    this.selectResultNode(this.parent.dropData);\n    this.parent.isDropEnd = !this.parent.isPasteError;\n  };\n\n  NavigationPane.prototype.onpasteEnd = function (args) {\n    // eslint-disable-next-line\n    var resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n    } else {\n      // eslint-disable-next-line\n      var nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n\n      if (nData.length > 0) {\n        resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      var id = getValue(this.treeObj.fields.id, resultData[0]);\n      var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n      this.removeChildNodes(id);\n      this.addChild(args.files, id, toExpand);\n    }\n\n    this.parent.expandedId = null;\n    this.onPathChanged(args);\n\n    if (this.parent.isDragDrop) {\n      this.checkDropPath(args);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.checkDropPath = function (args) {\n    if (this.parent.hasId) {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n      readDropPath(this.parent);\n      return;\n    }\n\n    if (this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1) {\n      this.parent.isDropEnd = false;\n      readDropPath(this.parent);\n    } else {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n    }\n  };\n\n  NavigationPane.prototype.onpasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.updateItemData();\n    }\n\n    this.moveNames = []; // eslint-disable-next-line\n\n    var obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n\n    for (var i = 0; i < obj.length; i++) {\n      if (getValue('isFile', obj[i]) === false) {\n        this.moveNames.push(getValue('_fm_id', obj[i]));\n      }\n    }\n  };\n\n  NavigationPane.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.activeElements = [this.activeNode];\n    }\n  };\n\n  NavigationPane.prototype.addEventListener = function () {\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(downloadInit, this.onDownLoadInit, this);\n    this.parent.on(initialEnd, this.onInitialEnd, this);\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutEnd, this.onCutEnd, this);\n    this.parent.on(pasteInit, this.onpasteInit, this);\n    this.parent.on(nodeExpand, this.onNodeExpanded, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(updateTreeSelection, this.onSelectionChanged, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(openEnd, this.onOpenEnd, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onRenameEnd, this);\n    this.parent.on(renameEndParent, this.onRenameEndParent, this);\n    this.parent.on(clearPathInit, this.onClearPathInit, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(dragEnd, this.onDragEnd, this);\n    this.parent.on(dragging, this.onDragging, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(pathDrag, this.onPathDrag, this);\n  };\n\n  NavigationPane.prototype.removeEventListener = function () {\n    this.parent.off(initialEnd, this.onInitialEnd);\n    this.parent.off(downloadInit, this.onDownLoadInit);\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutEnd, this.onCutEnd);\n    this.parent.off(pasteInit, this.onpasteInit);\n    this.parent.off(updateTreeSelection, this.onSelectionChanged);\n    this.parent.off(nodeExpand, this.onNodeExpanded);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(openEnd, this.onOpenEnd);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onRenameEnd);\n    this.parent.off(renameEndParent, this.onRenameEndParent);\n    this.parent.off(clearPathInit, this.onClearPathInit);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(dragEnd, this.onDragEnd);\n    this.parent.off(dragging, this.onDragging);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(pathDrag, this.onPathDrag);\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      // eslint-disable-next-line\n      var dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.itemData = dataobj;\n    }\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var liEle = closest(args.target, 'li');\n      this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDragging = function (args) {\n    var ele = closest(args.target, 'li');\n\n    if (ele.classList.contains('e-node-collapsed')) {\n      this.isDrag = true;\n      var level = parseInt(ele.getAttribute('aria-level'), 10);\n      this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n      this.isDrag = false;\n    }\n  };\n\n  NavigationPane.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var dropLi = closest(args.target, 'li');\n      this.parent.dropData = this.getTreeData(dropLi)[0];\n      this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  NavigationPane.prototype.getModuleName = function () {\n    return 'navigationpane';\n  };\n\n  NavigationPane.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.treeObj) {\n      this.unWireEvents();\n      this.treeObj.destroy();\n    }\n  };\n\n  NavigationPane.prototype.wireEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n      keyAction: this.keyDown.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  NavigationPane.prototype.unWireEvents = function () {\n    this.keyboardModule.destroy();\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.keyDown = function (e) {\n    var action = e.action;\n\n    switch (action) {\n      case 'altEnter':\n        this.parent.notify(detailsInit, {});\n        GetDetails(this.parent, [], this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n        if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n          this.updateItemData();\n\n          if (!hasEditAccess(this.parent.itemData[0])) {\n            createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n          } else {\n            this.removeNodes = [];\n            createDialog(this.parent, 'Delete');\n          }\n        }\n\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'shiftF10':\n        this.updateItemData();\n\n        if (!hasDownloadAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionDownload);\n          return;\n        }\n\n        if (this.parent.selectedItems.length !== 0) {\n          this.doDownload();\n        }\n\n        break;\n\n      case 'f2':\n        if (this.parent.selectedItems.length === 0) {\n          // eslint-disable-next-line\n          var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n\n          if (!hasEditAccess(data)) {\n            createDeniedDialog(this.parent, data, permissionEdit);\n          } else {\n            this.updateRenameData();\n            createDialog(this.parent, 'Rename');\n          }\n        }\n\n        break;\n    }\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.getTreeData = function (args) {\n    // eslint-disable-next-line\n    var data = this.treeObj.getTreeData(args);\n\n    for (var i = 0; i < data.length; i++) {\n      if (isNullOrUndefined(getValue('hasChild', data[i]))) {\n        setValue('hasChild', false, data[i]);\n      }\n    }\n\n    return data;\n  };\n\n  NavigationPane.prototype.updateRenameData = function () {\n    this.updateItemData();\n    this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n  };\n\n  NavigationPane.prototype.updateItemData = function () {\n    // eslint-disable-next-line\n    var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n    this.parent.itemData = [data];\n    this.parent.isFile = false;\n  };\n\n  NavigationPane.prototype.updateActionData = function () {\n    this.updateItemData();\n    var newPath = getParentPath(this.parent.path);\n    this.parent.setProperties({\n      path: newPath\n    }, true);\n    this.parent.pathId.pop();\n    this.parent.pathNames.pop();\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.doDownload = function () {\n    var newPath = getParentPath(this.parent.path);\n    var itemId = this.treeObj.selectedNodes[0];\n    var name = itemId === this.parent.pathId[0] ? '' : getValue('name', this.parent.itemData[0]);\n    Download(this.parent, newPath, [name]);\n  };\n\n  return NavigationPane;\n}();\n/**\n * DetailsView module\n */\n\n\nvar DetailsView =\n/** @__PURE__ @class */\nfunction () {\n  /**\n   * Constructor for the GridView module\n   *\n   * @param {FileManager} parent - specifies the parent.\n   * @hidden\n   */\n  function DetailsView(parent) {\n    this.isInteracted = true;\n    this.interaction = true;\n    this.isPasteOperation = false;\n    this.isColumnRefresh = false;\n    this.dragObj = null;\n    this.startIndex = null;\n    this.firstItemIndex = null;\n    this.isSelectionUpdate = false;\n    this.currentSelectedItem = [];\n    this.count = 0;\n    this.isRendered = true;\n    this.isLoaded = false;\n    this.isNameWidth = false;\n    this.pasteOperation = false;\n    this.uploadOperation = false;\n    Grid.Inject(Resize, ContextMenu$1, Sort, VirtualScroll);\n    this.parent = parent;\n    this.element = select('#' + this.parent.element.id + GRID_ID, this.parent.element);\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      tab: 'tab',\n      moveDown: 'downarrow',\n      ctrlEnd: 'ctrl+end',\n      ctrlHome: 'ctrl+home',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlLeft: 'ctrl+leftarrow',\n      ctrlRight: 'ctrl+rightarrow',\n      shiftEnd: 'shift+end',\n      shiftHome: 'shift+home',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      ctrlUp: 'ctrl+uparrow',\n      csEnd: 'ctrl+shift+end',\n      csHome: 'ctrl+shift+home',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      space: 'space',\n      ctrlSpace: 'ctrl+space',\n      shiftSpace: 'shift+space',\n      csSpace: 'ctrl+shift+space',\n      end: 'end',\n      home: 'home',\n      moveUp: 'uparrow',\n      del: 'delete',\n      ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n      ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n      ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftdel: 'shift+delete',\n      ctrlD: 'ctrl+d',\n      f2: 'f2',\n      ctrlA: 'ctrl+a',\n      enter: 'enter'\n    };\n  }\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.render = function (args) {\n    showSpinner(this.parent.element);\n\n    if (this.parent.view === 'Details') {\n      removeClass([this.parent.element], MULTI_SELECT); // eslint-disable-next-line\n\n      var items = getSortedData(this.parent, args.files);\n      this.checkNameWidth();\n      var columns = this.getColumns();\n      var sortSettings = void 0;\n\n      if (this.parent.isMobile) {\n        sortSettings = [];\n      } else {\n        if (this.parent.sortOrder !== 'None') {\n          sortSettings = [{\n            direction: this.parent.sortOrder,\n            field: this.parent.sortBy\n          }];\n        }\n      }\n\n      this.gridObj = new Grid({\n        dataSource: items,\n        allowSorting: true,\n        rowSelecting: this.onSelection.bind(this, 'select'),\n        rowDeselecting: this.onSelection.bind(this, 'unselect'),\n        rowSelected: this.onSelected.bind(this),\n        rowDeselected: this.onDeSelection.bind(this),\n        allowResizing: this.parent.detailsViewSettings.columnResizing,\n        selectionSettings: {\n          type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n          checkboxMode: 'ResetOnRowClick'\n        },\n        enableRtl: this.parent.enableRtl,\n        pageSettings: {\n          pageSize: 20\n        },\n        sortSettings: {\n          allowUnsort: false,\n          columns: sortSettings\n        },\n        columns: columns,\n        recordDoubleClick: this.DblClickEvents.bind(this),\n        beforeDataBound: this.onBeforeDataBound.bind(this),\n        dataBound: this.onDataBound.bind(this),\n        rowDataBound: this.onRowDataBound.bind(this),\n        actionBegin: this.onActionBegin.bind(this),\n        headerCellInfo: this.onHeaderCellInfo.bind(this),\n        width: '100%',\n        beforeCopy: function (args) {\n          args.cancel = true;\n        },\n        // eslint-disable-next-line\n        load: function (args) {\n          this.focusModule.destroy();\n        },\n        locale: this.parent.locale\n      });\n      this.gridObj.isStringTemplate = true;\n      this.gridObj.appendTo('#' + this.parent.element.id + GRID_ID);\n      this.wireEvents();\n      this.adjustHeight();\n      this.emptyArgs = args;\n    }\n  };\n\n  DetailsView.prototype.checkNameWidth = function () {\n    var initialColumn = this.parent.detailsViewSettings.columns;\n    this.isNameWidth = false;\n\n    for (var i = 0; i < initialColumn.length; i++) {\n      if (initialColumn[i].field === 'name') {\n        this.isNameWidth = !isNullOrUndefined(initialColumn[i].width);\n        return;\n      }\n    }\n  };\n\n  DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n    if (this.isNameWidth && fieldName === 'name') {\n      return;\n    }\n\n    for (var i = 0; i < columns.length; i++) {\n      if (columns[i].field === fieldName) {\n        var nameWidth = void 0;\n\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n          nameWidth = this.element.clientWidth <= 500 ? '120px' : 'auto';\n        } else {\n          nameWidth = this.element.clientWidth <= 680 ? fieldName === 'name' ? '120px' : '180px' : 'auto';\n        }\n\n        columns[i].width = nameWidth;\n      }\n    }\n  };\n\n  DetailsView.prototype.getColumns = function () {\n    var columns;\n\n    if (this.parent.isMobile) {\n      columns = [{\n        field: 'name',\n        headerText: getLocaleText(this.parent, 'Name'),\n        width: 'auto',\n        minWidth: 120,\n        headerTextAlign: 'Left',\n        template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' + '<span class=\"e-fe-size\">${size}</span>'\n      }];\n    } else {\n      columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n      this.adjustWidth(columns, 'name');\n\n      for (var i = 0, len = columns.length; i < len; i++) {\n        columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n      }\n    }\n\n    var iWidth = this.parent.isMobile || this.parent.isBigger ? '54' : '46';\n    var icon = {\n      field: 'type',\n      width: iWidth,\n      minWidth: iWidth,\n      template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n      allowResizing: false,\n      allowSorting: true,\n      customAttributes: {\n        class: 'e-fe-grid-icon'\n      },\n      headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n    };\n    columns.unshift(icon);\n\n    if (this.parent.allowMultiSelection) {\n      var cWidth = this.parent.isBigger ? '36' : '26';\n      var cBox = {\n        type: 'checkbox',\n        width: cWidth,\n        minWidth: cWidth,\n        customAttributes: {\n          class: 'e-fe-checkbox'\n        },\n        allowResizing: false,\n        allowSorting: false\n      };\n\n      if (this.parent.isMobile) {\n        columns.push(cBox);\n      } else {\n        columns.unshift(cBox);\n      }\n    }\n\n    for (var i = 0, len = columns.length; i < len; i++) {\n      columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n    }\n\n    return columns;\n  };\n\n  DetailsView.prototype.adjustHeight = function () {\n    if (!this.gridObj) {\n      return;\n    }\n\n    var pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n    var bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n    var gridHeader = select('.' + GRID_HEADER, this.parent.element);\n    var height = pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight;\n    this.gridObj.height = height;\n    this.gridObj.dataBind();\n  };\n\n  DetailsView.prototype.renderCheckBox = function () {\n    this.gridObj.columns = this.getColumns();\n    this.isColumnRefresh = true;\n    this.gridObj.refreshColumns();\n  };\n\n  DetailsView.prototype.onRowDataBound = function (args) {\n    var td = select('.e-fe-grid-name', args.row);\n\n    if (!td) {\n      var columns = this.parent.detailsViewSettings.columns;\n\n      for (var i = 0; i < columns.length; i++) {\n        if (columns[i].field === 'name') {\n          td = args.row.children[this.parent.allowMultiSelection ? i + 2 : i + 1];\n          break;\n        }\n      }\n    }\n\n    if (td) {\n      td.setAttribute('title', getValue('name', args.data));\n    }\n\n    if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n      if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n        addBlur(args.row);\n      }\n    }\n\n    if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n      var textEle = args.row.querySelector('.e-fe-text');\n\n      if (textEle) {\n        var name_1 = getValue('name', args.data);\n        var type = getValue('type', args.data);\n        textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n      }\n    }\n\n    if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n      var sizeEle = args.row.querySelector('.e-fe-size');\n      var modifiedSize = void 0;\n\n      if (!getValue('isFile', args.data)) {\n        modifiedSize = '';\n      } else {\n        var sizeValue = getValue('size', args.data);\n        var intl = new Internationalization(this.parent.locale);\n        var value = intl.formatNumber(sizeValue / 1024, {\n          format: 'n'\n        });\n        modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n      }\n\n      sizeEle.innerHTML = modifiedSize;\n    }\n\n    if (this.parent.isMobile) {\n      if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n        var dateEle = args.row.querySelector('.e-fe-date');\n        var intl = new Internationalization(this.parent.locale);\n        var columns = this.parent.detailsViewSettings.columns; // eslint-disable-next-line\n\n        var format = void 0;\n\n        for (var i = 0; i < columns.length; i++) {\n          if (columns[i].field === 'dateModified') {\n            format = columns[i].format;\n            break;\n          }\n        }\n\n        var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n        dateEle.innerHTML = formattedString;\n      }\n    }\n\n    var checkWrap = args.row.querySelector('.' + CB_WRAP);\n\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n\n    if (!hasEditAccess(args.data)) {\n      args.row.className += ' ' + getAccessClass(args.data);\n    }\n\n    var eventArgs = {\n      element: args.row,\n      fileDetails: args.data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  };\n\n  DetailsView.prototype.onActionBegin = function (args) {\n    if (args.requestType === 'sorting') {\n      this.parent.setProperties({\n        sortOrder: args.direction\n      }, true);\n      this.parent.setProperties({\n        sortBy: args.columnName\n      }, true);\n\n      if (this.parent.selectedItems.length !== 0) {\n        this.sortItem = true;\n        var rows = this.gridObj.getSelectedRowIndexes();\n        var len = rows.length;\n        this.sortSelectedNodes = [];\n\n        while (len > 0) {\n          // eslint-disable-next-line\n          var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n          this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n          len--;\n        }\n      }\n\n      this.parent.notify(sortByChange, {});\n    }\n  };\n\n  DetailsView.prototype.onHeaderCellInfo = function (args) {\n    var checkWrap = args.node.querySelector('.' + CB_WRAP);\n\n    if (checkWrap) {\n      checkWrap.classList.add('e-small');\n    }\n  };\n\n  DetailsView.prototype.onBeforeDataBound = function (args) {\n    showSpinner(this.parent.element); // eslint-disable-next-line\n\n    var items = getSortedData(this.parent, this.gridObj.dataSource);\n    args.result = items;\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onDataBound = function () {\n    this.createDragObj();\n\n    if (this.parent.selectedItems.length !== 0) {\n      this.selectRecords(this.parent.selectedItems);\n    }\n\n    if (this.isPasteOperation === true) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.parent.pasteNodes);\n        this.isPasteOperation = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n\n    if (this.parent.createdItem) {\n      this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n      this.parent.createdItem = null;\n    }\n\n    if (this.parent.layoutSelectedItems.length) {\n      this.selectRecords(this.parent.layoutSelectedItems);\n    }\n\n    if (this.parent.renamedItem) {\n      this.addSelection(this.parent.renamedItem);\n      this.parent.renamedItem = null;\n    }\n\n    if (this.sortItem === true) {\n      this.selectRecords(this.sortSelectedNodes);\n      this.sortItem = false;\n    }\n\n    if (this.isSelectionUpdate) {\n      if (!this.isColumnRefresh) {\n        this.selectRecords(this.currentSelectedItem);\n        this.isSelectionUpdate = false;\n      } else {\n        this.isColumnRefresh = false;\n      }\n    }\n\n    if (this.uploadOperation === true) {\n      this.count++;\n      this.selectRecords(this.parent.uploadItem);\n\n      if (this.count === this.parent.uploadItem.length) {\n        this.uploadOperation = false;\n        this.parent.uploadItem = [];\n      }\n    }\n\n    if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n      var hdTable = this.gridObj.getHeaderContent();\n      hdTable.style.paddingRight = '';\n      hdTable.style.paddingLeft = '';\n      var hdContent = select('.e-headercontent', hdTable);\n      hdContent.style.borderRightWidth = '0';\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.style.overflowY = '';\n      cnTable.classList.add('e-scrollShow');\n    } else {\n      var hdTable = this.gridObj.getHeaderContent();\n\n      if (!this.parent.enableRtl) {\n        hdTable.style.paddingRight = '16px';\n      } else {\n        hdTable.style.paddingLeft = '16px';\n      }\n\n      var cnTable = this.gridObj.getContent().querySelector('.e-content');\n      cnTable.classList.remove('e-scrollShow');\n    }\n\n    this.isRendered = true;\n    this.parent.isLayoutChange = false;\n    hideSpinner(this.parent.element);\n    this.checkEmptyDiv(this.emptyArgs);\n    this.isInteracted = this.isLoaded ? true : this.isInteracted;\n    this.isLoaded = false;\n  };\n\n  DetailsView.prototype.selectRecords = function (nodes) {\n    // eslint-disable-next-line\n    var gridRecords = this.gridObj.getCurrentViewRecords();\n    var sRecords = [];\n\n    for (var i = 0, len = gridRecords.length; i < len; i++) {\n      var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n\n      if (nodes.indexOf(node) !== -1) {\n        sRecords.push(i);\n      }\n    }\n\n    if (sRecords.length !== 0) {\n      this.gridObj.selectRows(sRecords);\n      this.addFocus(this.gridObj.selectedRowIndex);\n    }\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.addSelection = function (data) {\n    // eslint-disable-next-line\n    var items = this.gridObj.getCurrentViewRecords(); // eslint-disable-next-line\n\n    var rData = [];\n\n    if (this.parent.hasId) {\n      rData = new DataManager(items).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n    } else {\n      // eslint-disable-next-line\n      var nData = new DataManager(items).executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n\n      if (nData.length > 0) {\n        rData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n      }\n    }\n\n    if (rData.length > 0) {\n      var index = items.indexOf(rData[0]);\n      this.gridObj.selectRows([index]);\n    }\n  };\n\n  DetailsView.prototype.onSortColumn = function () {\n    if (this.parent.sortOrder !== 'None') {\n      this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n    } else {\n      // eslint-disable-next-line\n      this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n    }\n  };\n\n  DetailsView.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.createDragObj();\n          break;\n\n        case 'height':\n          this.adjustHeight();\n          break;\n\n        case 'detailsViewSettings':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            this.gridObj.columns = columns;\n            this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n            this.gridObj.dataBind();\n            this.gridObj.refreshColumns();\n          }\n\n          break;\n\n        case 'selectedItems':\n          this.interaction = false;\n\n          if (this.parent.selectedItems.length !== 0) {\n            if (!this.parent.allowMultiSelection) {\n              var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n              this.parent.setProperties({\n                selectedItems: slItems\n              }, true);\n            }\n\n            this.selectRecords(this.parent.selectedItems);\n            this.parent.setProperties({\n              selectedItems: this.parent.selectedItems\n            }, true);\n          } else if (!isNullOrUndefined(this.gridObj)) {\n            this.gridObj.clearSelection();\n          }\n\n          break;\n\n        case 'showFileExtension':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'showHiddenItems':\n          read(this.parent, pathChanged, this.parent.path);\n          break;\n\n        case 'allowMultiSelection':\n          if (!isNullOrUndefined(this.gridObj)) {\n            this.currentSelectedItem = this.parent.selectedItems;\n            this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n            this.isSelectionUpdate = true;\n            this.renderCheckBox();\n          }\n\n          break;\n\n        case 'view':\n          updateLayout(this.parent, 'Details');\n          break;\n\n        case 'width':\n          this.onDetailsResize();\n      }\n    }\n  };\n\n  DetailsView.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false;\n\n    if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n      this.parent.searchedItems = [];\n\n      if (!this.parent.isFiltered) {\n        this.removePathColumn(false);\n      } else {\n        this.updatePathColumn();\n      }\n    }\n\n    removeBlur(this.parent);\n\n    if (this.parent.view === 'Details') {\n      /* istanbul ignore next */\n      this.isInteracted = false;\n      showSpinner(this.parent.element);\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    }\n\n    this.emptyArgs = args;\n  };\n\n  DetailsView.prototype.updatePathColumn = function () {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n\n    if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n      var pathColumn$$1 = {\n        field: 'filterPath',\n        headerText: getLocaleText(this.parent, 'Path'),\n        minWidth: 180,\n        width: 'auto'\n      };\n      this.gridObj.columns.push(pathColumn$$1);\n      this.adjustWidth(this.gridObj.columns, 'filterPath');\n      this.adjustWidth(this.gridObj.columns, 'name');\n      this.isColumnRefresh = true;\n      this.gridObj.refreshColumns();\n    }\n  };\n\n  DetailsView.prototype.checkEmptyDiv = function (args) {\n    // eslint-disable-next-line\n    var items = getSortedData(this.parent, args.files);\n\n    if (items.length === 0 && !isNullOrUndefined(this.element.querySelector('.' + GRID_VIEW))) {\n      createEmptyElement(this.parent, this.element, args);\n    } else if (items.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n      if (this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY)) {\n        var emptyDiv = this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY);\n        this.element.querySelector('.' + GRID_VIEW).removeChild(emptyDiv);\n      } else {\n        this.element.removeChild(this.element.querySelector('.' + EMPTY));\n      }\n    }\n  };\n\n  DetailsView.prototype.onOpenInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      // eslint-disable-next-line\n      var data = this.gridObj.getSelectedRecords()[0];\n      this.openContent(data);\n    }\n  };\n\n  DetailsView.prototype.DblClickEvents = function (args) {\n    this.gridObj.selectRows([args.rowIndex]); // eslint-disable-next-line\n\n    var data;\n\n    if (args.rowData) {\n      data = JSON.parse(JSON.stringify(args.rowData));\n      this.openContent(data);\n    }\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.openContent = function (data) {\n    var _this = this;\n\n    if (!hasReadAccess(data)) {\n      createDeniedDialog(this.parent, data, permissionRead);\n      return;\n    }\n\n    var eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'DetailsView'\n    };\n    this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n      if (!fileOpenArgs.cancel) {\n        var name_2 = getValue('name', data);\n\n        if (getValue('isFile', data)) {\n          var icon = fileType(data);\n\n          if (icon === ICON_IMAGE) {\n            var imgUrl = getImageUrl(_this.parent, data);\n            createImageDialog(_this.parent, name_2, imgUrl);\n          }\n        } else {\n          var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n\n          if (val === '' && !_this.parent.isFiltered) {\n            var id = getValue('id', data);\n            _this.parent.oldPath = _this.parent.path;\n            var newPath = _this.parent.path + (isNullOrUndefined(id) ? name_2 : id) + '/';\n\n            _this.parent.setProperties({\n              path: newPath\n            }, true);\n\n            _this.parent.pathNames.push(name_2);\n\n            _this.parent.pathId.push(getValue('_fm_id', data));\n\n            _this.parent.itemData = [data];\n            openAction(_this.parent);\n          } else {\n            openSearchFolder(_this.parent, data);\n          }\n\n          _this.parent.isFiltered = false;\n        }\n\n        _this.element.focus();\n      }\n    });\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onLayoutChange = function (args) {\n    if (this.parent.view === 'Details') {\n      if (!this.gridObj) {\n        this.render(args);\n      } else {\n        this.isLoaded = true;\n      }\n\n      if (this.parent.isFiltered) {\n        this.updatePathColumn();\n        this.parent.setProperties({\n          selectedItems: []\n        }, true);\n      }\n\n      this.gridObj.dataSource = getSortedData(this.parent, args.files);\n      this.parent.notify(hideLayout, {});\n      this.gridObj.element.classList.remove(DISPLAY_NONE);\n      this.isInteracted = false;\n      this.gridObj.clearSelection();\n\n      if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n        this.onSearchFiles(args);\n      }\n\n      this.adjustHeight();\n\n      if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n      }\n    }\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onSearchFiles = function (args) {\n    if (this.parent.view === 'Details') {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      this.parent.notify(selectionChanged, {});\n\n      if (!this.parent.isLayoutChange) {\n        this.parent.layoutSelectedItems = [];\n      }\n\n      this.updatePathColumn();\n      this.parent.searchedItems = args.files;\n      this.onPathChanged(args);\n    }\n  };\n\n  DetailsView.prototype.removePathColumn = function (isRefresh) {\n    var len = this.gridObj.columns.length;\n    var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n\n    if (columnData[len - 1].field && columnData[len - 1].field === 'filterPath') {\n      /* istanbul ignore next */\n      if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n        if (this.parent.sortOrder !== 'None') {\n          this.gridObj.sortColumn('name', this.parent.sortOrder);\n        } else {\n          // eslint-disable-next-line\n          this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n\n        this.parent.notify(sortByChange, {});\n      }\n\n      this.gridObj.columns.pop();\n\n      if (!isRefresh) {\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n      }\n    }\n  };\n\n  DetailsView.prototype.onFinalizeEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    if (!this.gridObj) {\n      this.render(args);\n    } else {\n      this.onPathChanged(args);\n    }\n  };\n\n  DetailsView.prototype.onCreateEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.onPathChanged(args);\n  };\n\n  DetailsView.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n    }\n  };\n\n  DetailsView.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      this.parent.itemData = this.gridObj.getSelectedRecords();\n    }\n  };\n\n  DetailsView.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'detailsview') {\n      Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onDeleteEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.onPathChanged(args);\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n  };\n\n  DetailsView.prototype.onRefreshEnd = function (args) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.isInteracted = false;\n    this.removePathColumn(false);\n    this.gridObj.dataSource = getSortedData(this.parent, args.files);\n    this.emptyArgs = args;\n  };\n\n  DetailsView.prototype.onHideLayout = function () {\n    if (this.parent.view !== 'Details' && this.gridObj) {\n      this.gridObj.element.classList.add(DISPLAY_NONE);\n    }\n  };\n\n  DetailsView.prototype.onSelectAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.isInteracted = false;\n\n      if (this.parent.allowMultiSelection) {\n        this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n      } else {\n        this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n      }\n\n      this.isInteracted = true;\n      this.interaction = true;\n    }\n  };\n\n  DetailsView.prototype.onClearAllInit = function () {\n    if (this.parent.view === 'Details') {\n      this.removeSelection();\n      this.interaction = true;\n    }\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onSelectionChanged = function () {\n    removeClass([this.element], HEADER_CHECK);\n\n    if (this.parent.selectedItems.length > 0) {\n      addClass([this.element], HEADER_CHECK);\n    }\n  };\n\n  DetailsView.prototype.onLayoutRefresh = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.adjustHeight();\n  };\n\n  DetailsView.prototype.onBeforeRequest = function () {\n    this.isRendered = false;\n  };\n\n  DetailsView.prototype.onAfterRequest = function () {\n    this.isRendered = true;\n  };\n\n  DetailsView.prototype.onUpdateSelectionData = function () {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    this.parent.itemData = this.gridObj.getSelectedRecords();\n  };\n\n  DetailsView.prototype.addEventListener = function () {\n    this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(destroy, this.destroy, this);\n    this.parent.on(layoutChange, this.onLayoutChange, this);\n    this.parent.on(pathChanged, this.onPathChanged, this);\n    this.parent.on(createEnd, this.onCreateEnd, this);\n    this.parent.on(dropInit, this.onDropInit, this);\n    this.parent.on(detailsInit, this.onDetailsInit, this);\n    this.parent.on(refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(search, this.onSearchFiles, this);\n    this.parent.on(methodCall, this.onMethodCall, this);\n    this.parent.on(actionFailure, this.onActionFailure, this);\n    this.parent.on(modelChanged, this.onPropertyChanged, this);\n    this.parent.on(deleteInit, this.onDeleteInit, this);\n    this.parent.on(deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(selectedData, this.onSelectedData, this);\n    this.parent.on(renameInit, this.onRenameInit, this);\n    this.parent.on(renameEnd, this.onPathChanged, this);\n    this.parent.on(openInit, this.onOpenInit, this);\n    this.parent.on(sortColumn, this.onSortColumn, this);\n    this.parent.on(openEnd, this.onPathChanged, this);\n    this.parent.on(filterEnd, this.onPathChanged, this);\n    this.parent.on(pasteInit, this.onPasteInit, this);\n    this.parent.on(hideLayout, this.onHideLayout, this);\n    this.parent.on(selectAllInit, this.onSelectAllInit, this);\n    this.parent.on(clearAllInit, this.onClearAllInit, this);\n    this.parent.on(pathColumn, this.onPathColumn, this);\n    this.parent.on(selectionChanged, this.onSelectionChanged, this);\n    this.parent.on(beforeRequest, this.onBeforeRequest, this);\n    this.parent.on(afterRequest, this.onAfterRequest, this);\n    this.parent.on(pasteEnd, this.onpasteEnd, this);\n    this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(menuItemData, this.onMenuItemData, this);\n    this.parent.on(resizeEnd, this.onDetailsResizeHandler, this);\n    this.parent.on(splitterResize, this.onDetailsResize, this);\n    this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n    this.parent.on(dropPath, this.onDropPath, this);\n    this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n  };\n\n  DetailsView.prototype.removeEventListener = function () {\n    this.parent.off(finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(destroy, this.destroy);\n    this.parent.off(layoutChange, this.onLayoutChange);\n    this.parent.off(pathChanged, this.onPathChanged);\n    this.parent.off(pasteInit, this.onPasteInit);\n    this.parent.off(createEnd, this.onCreateEnd);\n    this.parent.off(refreshEnd, this.onRefreshEnd);\n    this.parent.off(search, this.onSearchFiles);\n    this.parent.off(methodCall, this.onMethodCall);\n    this.parent.off(actionFailure, this.onActionFailure);\n    this.parent.off(modelChanged, this.onPropertyChanged);\n    this.parent.off(renameInit, this.onRenameInit);\n    this.parent.off(renameEnd, this.onPathChanged);\n    this.parent.off(filterEnd, this.onPathChanged);\n    this.parent.off(openInit, this.onOpenInit);\n    this.parent.off(sortColumn, this.onSortColumn);\n    this.parent.off(openEnd, this.onPathChanged);\n    this.parent.off(hideLayout, this.onHideLayout);\n    this.parent.off(selectAllInit, this.onSelectAllInit);\n    this.parent.off(clearAllInit, this.onClearAllInit);\n    this.parent.off(deleteInit, this.onDeleteInit);\n    this.parent.off(deleteEnd, this.onDeleteEnd);\n    this.parent.off(pathColumn, this.onPathColumn);\n    this.parent.off(selectionChanged, this.onSelectionChanged);\n    this.parent.off(beforeRequest, this.onBeforeRequest);\n    this.parent.off(afterRequest, this.onAfterRequest);\n    this.parent.off(pasteEnd, this.onpasteEnd);\n    this.parent.off(cutCopyInit, this.oncutCopyInit);\n    this.parent.off(dropInit, this.onDropInit);\n    this.parent.off(selectedData, this.onSelectedData);\n    this.parent.off(detailsInit, this.onDetailsInit);\n    this.parent.off(menuItemData, this.onMenuItemData);\n    this.parent.off(resizeEnd, this.onDetailsResizeHandler);\n    this.parent.off(splitterResize, this.onDetailsResize);\n    this.parent.off(layoutRefresh, this.onLayoutRefresh);\n    this.parent.off(dropPath, this.onDropPath);\n    this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n  };\n\n  DetailsView.prototype.onActionFailure = function () {\n    this.interaction = true;\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n    }\n  };\n\n  DetailsView.prototype.onPasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.itemData = this.parent.folderPath !== '' ? this.gridObj.getSelectedRecords() : [getPathObject(this.parent)];\n    }\n  };\n\n  DetailsView.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      if (this.parent.selectedItems.length !== 0) {\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n      } else {\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n      }\n    }\n  };\n\n  DetailsView.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n    var dragLi = dragTarget.closest('tr.e-row');\n\n    if (!dragLi) {\n      return null;\n    }\n\n    var name;\n\n    if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n      name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n    } else if (dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling) {\n      name = dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling.innerText;\n    }\n\n    if (dragLi && !dragLi.querySelector('.e-active')) {\n      this.selectRecords([name]);\n    }\n\n    getModule(this.parent, dragLi);\n    this.parent.activeElements = [];\n    this.parent.dragData = []; // eslint-disable-next-line\n\n    this.parent.dragData = this.gridObj.getSelectedRecords();\n    var dragRow;\n\n    if (this.parent.dragData.length === 0 && dragLi) {\n      dragRow = this.gridObj.getRowInfo(dragLi);\n    }\n\n    if (dragRow) {\n      this.parent.dragData.push(dragRow.rowData);\n    }\n\n    this.parent.dragPath = this.parent.path;\n    this.parent.activeElements = this.gridObj.getSelectedRows();\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onDetailsResize = function () {\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n      var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n      var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n      var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n      var gridHeaderColNames = this.gridObj.getColumns();\n\n      for (var i = 0; i < gridHeaderColNames.length; i++) {\n        if (!this.isNameWidth && gridHeaderColNames[i].field === 'name' || gridHeaderColNames[i].field === 'filterPath') {\n          if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            if (this.element.clientWidth <= 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n              gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n            } else if (this.element.clientWidth > 500) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          } else {\n            if (this.element.clientWidth <= 680) {\n              if (gridHeaderColNames[i].field === 'name') {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n              } else {\n                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n              }\n            } else if (this.element.clientWidth > 680) {\n              gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n              gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DetailsView.prototype.onDetailsResizeHandler = function () {\n    this.onDetailsResize();\n\n    if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n      this.adjustHeight();\n    }\n  };\n\n  DetailsView.prototype.createDragObj = function () {\n    var _this = this;\n\n    if (!this.parent.isMobile && this.gridObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.gridObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          distance: 5,\n          enableTailMode: true,\n          dragArea: this.parent.element,\n          dragTarget: '.' + ROW,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n\n  DetailsView.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      /* istanbul ignore next */\n      // eslint-disable-next-line\n      var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n\n      if (!args.target.closest('tr')) {\n        this.parent.dropPath = this.parent.path;\n        this.parent.dropData = cwdData;\n      } else {\n        // eslint-disable-next-line\n        var info = null; // eslint-disable-next-line\n\n        info = this.gridObj.getRowInfo(args.target).rowData;\n        this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n        this.parent.dropData = info.isFile ? cwdData : info;\n      }\n    }\n  };\n\n  DetailsView.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.gridObj.getSelectedRecords();\n      this.parent.activeElements = this.gridObj.getSelectedRows();\n    }\n  };\n\n  DetailsView.prototype.onpasteEnd = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n\n      if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n        this.onPathChanged(args);\n      }\n    }\n  };\n\n  DetailsView.prototype.onDropPath = function (args) {\n    if (this.parent.view === 'Details') {\n      this.isPasteOperation = true;\n      this.onPathChanged(args);\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns modules name.\n   * @private\n   */\n\n\n  DetailsView.prototype.getModuleName = function () {\n    return 'detailsview';\n  };\n\n  DetailsView.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.gridObj) {\n      this.unWireEvents();\n      this.gridObj.destroy();\n    }\n  };\n\n  DetailsView.prototype.updateType = function (item) {\n    var folder = select('.' + FOLDER, item);\n    this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onSelection = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction,\n      cancel: false,\n      target: args.target\n    };\n    this.parent.trigger('fileSelection', eventArgs);\n    args.cancel = eventArgs.cancel;\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onSelected = function (args) {\n    this.parent.activeModule = 'detailsview';\n\n    if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n      this.selectedRecords();\n    }\n\n    this.parent.notify(selectionChanged, {});\n\n    if (this.gridObj.getSelectedRowIndexes().length === 1) {\n      this.firstItemIndex = this.gridObj.selectedRowIndex;\n    }\n\n    this.gridObj.element.setAttribute('tabindex', '-1');\n    this.triggerSelect('select', args);\n    var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n    this.updateType(item);\n\n    if (!isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n      if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n        var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n        var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n        lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n      }\n\n      item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n    }\n\n    if (!isNullOrUndefined(this.gridObj) && !isNullOrUndefined(this.gridObj.element.querySelector('.e-checkselectall'))) {\n      this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n    }\n\n    var rows = this.gridObj.getSelectedRowIndexes();\n\n    if (!this.parent.allowMultiSelection) {\n      for (var i = 0; i < rows.length; i++) {\n        if (rows[i] === this.gridObj.selectedRowIndex) {\n          this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n        } else {\n          this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n        }\n      }\n    }\n\n    var len = rows.length;\n\n    if (len > 0) {\n      // eslint-disable-next-line\n      var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n      this.parent.currentItemText = getValue('name', data);\n    }\n\n    var indexes = getValue('rowIndexes', args);\n    var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n\n    if (this.parent.isDevice && isNullOrUndefined(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n      this.parent.isFile = getValue('isFile', args.data);\n\n      if (!this.parent.isFile) {\n        this.openContent(args.data);\n      }\n    }\n\n    this.parent.visitedItem = args.row;\n\n    if (this.parent.allowMultiSelection && !isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n      var checkItem = item.querySelector('.e-checkselect');\n      checkItem.focus();\n    }\n\n    this.addFocus(this.gridObj.selectedRowIndex);\n\n    if (!this.parent.isLayoutChange) {\n      this.isInteracted = true;\n    }\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.onPathColumn = function () {\n    if (this.parent.view === 'Details' && !isNullOrUndefined(this.gridObj)) {\n      if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n        this.removePathColumn(false);\n      }\n    }\n  };\n\n  DetailsView.prototype.selectedRecords = function () {\n    this.parent.setProperties({\n      selectedItems: []\n    }, true); // eslint-disable-next-line\n\n    var selectedRecords = this.gridSelectNodes();\n    var selectSize = 0;\n\n    while (selectSize < selectedRecords.length) {\n      var record = selectedRecords[selectSize];\n      var name_3 = getItemName(this.parent, record);\n      this.parent.selectedItems.push(name_3);\n      selectSize++;\n    }\n\n    this.parent.setProperties({\n      selectedItems: this.parent.selectedItems\n    }, true);\n  };\n\n  DetailsView.prototype.onDeSelection = function (args) {\n    /* istanbul ignore next */\n    if (!this.parent.allowMultiSelection && isNullOrUndefined(args.data)) {\n      this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n    } else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n      var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n      this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n    }\n\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.gridObj.element.setAttribute('tabindex', '0');\n    }\n\n    if (!this.isInteracted) {\n      this.isInteracted = true;\n      return;\n    }\n\n    this.selectedRecords();\n\n    if (this.parent.selectedItems.length === 0) {\n      setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n      removeClass([this.parent.element], MULTI_SELECT);\n    }\n\n    this.parent.notify(selectionChanged, {});\n    this.triggerSelect('unselect', args);\n    this.parent.visitedItem = null;\n  };\n\n  DetailsView.prototype.triggerSelect = function (action, args) {\n    var eventArgs = {\n      action: action,\n      fileDetails: args.data,\n      isInteracted: this.interaction\n    };\n    this.parent.trigger('fileSelect', eventArgs);\n    this.interaction = true;\n  };\n\n  DetailsView.prototype.wireEvents = function () {\n    this.wireClickEvent(true);\n    this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n      keyAction: this.keyupHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keyup'\n    });\n    this.keyboardDownModule = new KeyboardEvents(this.element, {\n      keyAction: this.keydownHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n  };\n\n  DetailsView.prototype.unWireEvents = function () {\n    this.wireClickEvent(false);\n    this.keyboardModule.destroy();\n    this.keyboardDownModule.destroy();\n    EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n  };\n\n  DetailsView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      // eslint-disable-next-line\n      var proxy_1 = this;\n      var ele = this.gridObj.getContent();\n      this.clickObj = new Touch(ele, {\n        tap: function (eve) {\n          if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n            proxy_1.onClearAllInit();\n          }\n        },\n        tapHold: function (e) {\n          if (proxy_1.parent.isDevice) {\n            e.originalEvent.preventDefault();\n\n            if (proxy_1.parent.allowMultiSelection) {\n              setValue('enableSelectMultiTouch', proxy_1.parent.allowMultiSelection, proxy_1.gridObj.selectionModule);\n              addClass([proxy_1.parent.element], MULTI_SELECT);\n            }\n\n            var target = e.originalEvent.target;\n\n            if (target) {\n              var row = closest(target, '.' + ROW);\n              var index = proxy_1.gridObj.getRows().indexOf(row);\n              proxy_1.gridObj.selectRow(index);\n            }\n          }\n        }\n      });\n    } else {\n      if (this.clickObj) {\n        this.clickObj.destroy();\n      }\n    }\n  };\n  /* istanbul ignore next */\n\n\n  DetailsView.prototype.removeSelection = function () {\n    removeClass([this.parent.element], MULTI_SELECT);\n    this.gridObj.clearSelection();\n    this.parent.setProperties({\n      selectedItems: []\n    }, true);\n    this.parent.notify(selectionChanged, {});\n\n    if (this.gridObj.selectedRowIndex === -1) {\n      this.startIndex = null;\n    }\n\n    this.isInteracted = true;\n  };\n\n  DetailsView.prototype.removeFocus = function () {\n    this.addFocus(null);\n  };\n\n  DetailsView.prototype.getFocusedItemIndex = function () {\n    return !isNullOrUndefined(this.getFocusedItem()) ? parseInt(this.getFocusedItem().getAttribute('data-rowindex'), 10) : null;\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  DetailsView.prototype.keydownHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    switch (e.action) {\n      case 'end':\n      case 'home':\n      case 'space':\n      case 'ctrlSpace':\n      case 'shiftSpace':\n      case 'csSpace':\n      case 'ctrlA':\n      case 'enter':\n      case 'altEnter':\n      case 'ctrlEnd':\n      case 'shiftEnd':\n      case 'csEnd':\n      case 'ctrlHome':\n      case 'shiftHome':\n      case 'csHome':\n      case 'ctrlDown':\n      case 'shiftDown':\n      case 'csDown':\n      case 'ctrlLeft':\n      case 'shiftLeft':\n      case 'csLeft':\n      case 'esc':\n      case 'del':\n      case 'shiftdel':\n      case 'ctrlC':\n      case 'ctrlV':\n      case 'ctrlX':\n      case 'f2':\n      case 'moveDown':\n      case 'moveUp':\n      case 'ctrlD':\n        e.preventDefault();\n        break;\n\n      default:\n        break;\n    }\n  };\n  /* istanbul ignore next */\n  // eslint:disable-next-line\n\n\n  DetailsView.prototype.keyupHandler = function (e) {\n    if (!this.isRendered) {\n      return;\n    }\n\n    e.preventDefault();\n    var action = e.action; // eslint-disable-next-line\n\n    var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n    var gridLength = gridItems.length;\n    var focItem = this.getFocusedItem();\n    var focIndex = this.getFocusedItemIndex();\n    var selIndex = this.gridObj.selectedRowIndex;\n    var selRowIndeces = this.gridObj.getSelectedRowIndexes(); // eslint-disable-next-line\n\n    var rowData;\n    var firstItem;\n    var lastItem;\n\n    switch (action) {\n      case 'altEnter':\n        GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n      case 'shiftdel':\n        this.performDelete();\n        break;\n\n      case 'enter':\n        if (this.gridObj.selectedRowIndex === -1) {\n          break;\n        }\n\n        rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n\n        if (rowData) {\n          // eslint-disable-next-line\n          var data = JSON.parse(JSON.stringify(rowData));\n          this.openContent(data);\n        }\n\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'ctrlD':\n        this.doDownload();\n        break;\n\n      case 'f2':\n        this.performRename();\n        break;\n\n      case 'ctrlA':\n        if (!isNullOrUndefined(gridItems[0]) && this.parent.allowMultiSelection) {\n          var cnTable = this.gridObj.getContent().querySelector('.e-content');\n          var crtSrlPos = cnTable.scrollTop;\n          var crtFocusIndex = this.gridObj.selectedRowIndex;\n          this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n          cnTable.scrollTop = crtSrlPos;\n\n          if (crtFocusIndex !== -1) {\n            this.addFocus(crtFocusIndex);\n          }\n        }\n\n        break;\n\n      case 'ctrlHome':\n      case 'tab':\n        if (!isNullOrUndefined(gridItems[0])) {\n          if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n            this.gridObj.selectRow(0);\n          } else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n            return;\n          } else {\n            this.addFocus(0);\n          }\n        }\n\n        break;\n\n      case 'ctrlEnd':\n        if (!isNullOrUndefined(gridItems[0])) {\n          if (!this.parent.allowMultiSelection) {\n            this.gridObj.selectRow(gridLength - 1);\n          } else {\n            this.addFocus(gridLength - 1);\n          }\n        }\n\n        break;\n\n      case 'shiftHome':\n      case 'shiftEnd':\n      case 'csHome':\n      case 'csEnd':\n        if (!this.parent.allowMultiSelection) {\n          this.gridObj.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : gridItems.length - 1);\n        } else {\n          if (!isNullOrUndefined(gridItems[0])) {\n            if (!isNullOrUndefined(selIndex) && selIndex !== -1) {\n              this.checkRowsKey(gridItems, selIndex, null, e);\n            } else {\n              if (e.action === 'csHome' || e.action === 'shiftHome') {\n                this.gridObj.selectRow(0);\n              } else {\n                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n              }\n            }\n          }\n        }\n\n        break;\n\n      case 'space':\n      case 'csSpace':\n      case 'shiftSpace':\n      case 'ctrlSpace':\n        this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n        break;\n\n      case 'csUp':\n      case 'csDown':\n      case 'shiftUp':\n      case 'shiftDown':\n        this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n        break;\n\n      case 'ctrlUp':\n      case 'ctrlDown':\n        if (!this.parent.allowMultiSelection) {\n          this.moveFunction(gridItems, e, selIndex);\n        } else {\n          this.ctrlMoveFunction(gridItems, e, selIndex);\n        }\n\n        break;\n\n      case 'home':\n        firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n        this.parent.setProperties({\n          selectedItems: firstItem\n        }, true);\n        this.selectRecords(firstItem);\n        break;\n\n      case 'moveUp':\n      case 'moveDown':\n        this.moveFunction(gridItems, e, selIndex);\n        break;\n\n      case 'end':\n        lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n        this.parent.setProperties({\n          selectedItems: lastItem\n        }, true);\n        this.selectRecords(lastItem);\n        break;\n    }\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.gridSelectNodes = function () {\n    return this.gridObj.getSelectedRecords();\n  };\n\n  DetailsView.prototype.doDownload = function () {\n    if (this.parent.selectedItems.length !== 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords(); // eslint-disable-next-line\n\n      var items = this.parent.itemData;\n\n      for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], permissionDownload);\n          return;\n        }\n      }\n\n      Download(this.parent, this.parent.path, this.parent.selectedItems);\n    }\n  };\n\n  DetailsView.prototype.performDelete = function () {\n    if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n      this.parent.itemData = this.gridObj.getSelectedRecords(); // eslint-disable-next-line\n\n      var items = this.parent.itemData;\n\n      for (var i = 0; i < items.length; i++) {\n        if (!hasEditAccess(items[i])) {\n          createDeniedDialog(this.parent, items[i], permissionEdit);\n          return;\n        }\n      }\n\n      createDialog(this.parent, 'Delete');\n    }\n  };\n\n  DetailsView.prototype.performRename = function () {\n    if (this.parent.selectedItems.length === 1) {\n      this.updateRenameData();\n      doRename(this.parent);\n    }\n  };\n\n  DetailsView.prototype.updateRenameData = function () {\n    // eslint-disable-next-line\n    var data = this.gridSelectNodes()[0];\n    updateRenamingData(this.parent, data);\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n    if (!this.parent.allowMultiSelection) {\n      this.moveFunction(gridItems, e, selIndex);\n    } else {\n      if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n        this.ctrlMoveFunction(gridItems, e, selIndex);\n      } else if (selIndex !== -1 && focIndex !== selIndex && !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n        this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n      } else {\n        this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n    if (!isNullOrUndefined(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n      if (e.action === 'moveDown') {\n        this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n      } else {\n        this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n      }\n    } else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n      if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectRow(rowIndex + (rowIndex !== selectedItems.length - 1 ? 1 : 0));\n      } else {\n        this.gridObj.selectRow(rowIndex - (rowIndex !== 0 ? 1 : 0));\n      }\n    } else {\n      if (!isNullOrUndefined(selectedItems[0])) {\n        this.gridObj.selectRow(0);\n      }\n    }\n  };\n\n  DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n    if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n      if (focIndex < selIndex) {\n        this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n      }\n    } else if (!isNullOrUndefined(this.getFocusedItem()) && focIndex !== selIndex) {\n      selRowIndeces.push(this.getFocusedItemIndex());\n      this.gridObj.selectRows(selRowIndeces);\n    } else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n      var lItem = selIndex;\n      selRowIndeces.pop();\n      this.gridObj.selectRows(selRowIndeces);\n      this.addFocus(lItem);\n    } else if (e.action === 'shiftSpace') {\n      this.gridObj.selectRow(selIndex);\n    }\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n    var nextItem;\n\n    if (!isNullOrUndefined(this.getFocusedItem())) {\n      var nextIndex = this.getFocusedItemIndex();\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? nextIndex + (nextIndex < items.length - 1 ? 1 : 0) : nextIndex - (nextIndex < 1 ? 0 : 1);\n    } else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n      nextItem = e.action === 'ctrlDown' || e.action === 'csDown' ? rowIndex + (rowIndex < items.length ? 1 : 0) : rowIndex - (rowIndex < 1 ? 0 : 1);\n    } else {\n      if (!isNullOrUndefined(items[0])) {\n        nextItem = 0;\n      }\n    }\n\n    this.addFocus(nextItem);\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n    if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n      if (e.action !== 'csHome' && e.action !== 'csEnd') {\n        if (isNullOrUndefined(this.startIndex) && this.firstItemIndex !== indexValue) {\n          this.firstItemIndex = indexValue;\n        }\n\n        if (e.action === 'shiftEnd') {\n          this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n        }\n\n        this.startIndex = indexValue;\n      } else {\n        if (e.action === 'csEnd') {\n          this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(indexValue) ? 0 : indexValue, isNullOrUndefined(focIndex) ? items.length - 1 : focIndex, e));\n        } else {\n          if (isNullOrUndefined(indexValue)) {\n            this.gridObj.selectRow(0);\n          } else {\n            this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(focIndex) ? 0 : focIndex, indexValue, e));\n          }\n        }\n      }\n    } else {\n      this.gridObj.selectionModule.selectRow(e.action === 'shiftHome' || e.action === 'csHome' ? 0 : items.length - 1);\n    }\n  };\n\n  DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n    var itemArr = this.gridObj.getSelectedRowIndexes();\n\n    if (e.action === 'csEnd') {\n      for (var i = fItem + 1; i <= lItem; i++) {\n        itemArr.push(i);\n      }\n    } else {\n      for (var i = lItem - 1; fItem <= i; i--) {\n        itemArr.push(i);\n      }\n    }\n\n    return itemArr;\n  };\n\n  DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n    var lItem = fIndex + (e.action === 'shiftDown' || e.action === 'csDown' ? 1 : -1);\n    var fItem = isNullOrUndefined(this.startIndex) ? selIndex : selRowIndexes[0];\n\n    if (fItem === lItem) {\n      this.gridObj.selectRow(fItem);\n    } else {\n      if (fItem < lItem) {\n        if (e.action === 'shiftDown' || e.action === 'csDown') {\n          this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n        } else {\n          this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n        }\n      } else if (e.action === 'shiftDown' || e.action === 'csDown') {\n        this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n      } else {\n        this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n      }\n    }\n\n    this.startIndex = this.gridObj.selectedRowIndex;\n  };\n\n  DetailsView.prototype.addFocus = function (item) {\n    var fItem = this.getFocusedItem();\n    var itemElement = this.gridObj.getRowByIndex(item);\n\n    if (fItem) {\n      fItem.removeAttribute('tabindex');\n      removeClass([fItem], [FOCUS, FOCUSED]);\n    }\n\n    if (!isNullOrUndefined(itemElement)) {\n      this.gridObj.element.setAttribute('tabindex', '-1');\n      itemElement.setAttribute('tabindex', '0');\n      itemElement.focus();\n      addClass([itemElement], [FOCUS, FOCUSED]);\n    }\n  };\n\n  DetailsView.prototype.getFocusedItem = function () {\n    return select('.' + FOCUSED, this.element);\n  };\n\n  DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n    var check = false;\n\n    for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n      if (selRowIndexes[i] === focIndex) {\n        check = true;\n        break;\n      }\n    }\n\n    return check;\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n    if (selIndex === -1) {\n      this.gridObj.selectRow(0);\n    } else {\n      if (isNullOrUndefined(this.startIndex) && e.shiftKey) {\n        this.startIndex = this.gridObj.selectedRowIndex;\n        this.gridObj.selectRows([selIndex, e.action === 'shiftDown' || e.action === 'csDown' ? selIndex + (selIndex !== gridItems.length - 1 ? 1 : 0) : selIndex - (selIndex !== 0 ? 1 : 0)]);\n      } else {\n        if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n          if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n            if (selIndex !== gridItems.length - 1) {\n              selRowIndexes.push(selIndex + 1);\n            }\n          } else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n            if (selIndex !== 0) {\n              selRowIndexes.push(selIndex - 1);\n            }\n          } else {\n            selRowIndexes.pop();\n          }\n\n          this.gridObj.selectRows(selRowIndexes);\n        } else {\n          if (e.action === 'csDown') {\n            if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n              selRowIndexes.push(this.getFocusedItemIndex() + 1);\n              this.gridObj.selectRows(selRowIndexes);\n            } else {\n              this.addFocus(this.getFocusedItemIndex() + 1);\n            }\n          } else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n            selRowIndexes.push(this.getFocusedItemIndex() - 1);\n            this.gridObj.selectRows(selRowIndexes);\n          } else {\n            this.addFocus(this.getFocusedItemIndex() - 1);\n          }\n        }\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.onMethodCall = function (e) {\n    if (this.parent.view !== 'Details') {\n      return;\n    }\n\n    var action = getValue('action', e);\n\n    switch (action) {\n      case 'deleteFiles':\n        this.deleteFiles(getValue('ids', e));\n        break;\n\n      case 'downloadFiles':\n        this.downloadFiles(getValue('ids', e));\n        break;\n\n      case 'openFile':\n        this.openFile(getValue('id', e));\n        break;\n\n      case 'createFolder':\n        this.interaction = false;\n        break;\n\n      case 'renameFile':\n        this.interaction = false;\n        this.renameFile(getValue('id', e), getValue('newName', e));\n        break;\n\n      case 'selectAll':\n        this.interaction = false;\n        this.onSelectAllInit();\n        break;\n\n      case 'clearSelection':\n        this.interaction = false;\n        this.onClearAllInit();\n        break;\n    }\n  }; // eslint-disable-next-line\n\n\n  DetailsView.prototype.getRecords = function (nodes) {\n    // eslint-disable-next-line\n    var gridRecords = this.gridObj.getCurrentViewRecords(); // eslint-disable-next-line\n\n    var records = [];\n    var hasFilter = this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered ? true : false;\n    var filter$$1 = this.parent.hasId ? 'id' : 'name';\n\n    if (this.parent.hasId || !hasFilter) {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        if (nodes.indexOf(getValue(filter$$1, gridRecords[i])) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    } else {\n      for (var i = 0, len = gridRecords.length; i < len; i++) {\n        var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n\n        if (nodes.indexOf(name_4) !== -1) {\n          records.push(gridRecords[i]);\n        }\n      }\n    }\n\n    return records;\n  };\n\n  DetailsView.prototype.deleteFiles = function (ids) {\n    this.parent.activeModule = 'detailsview';\n\n    if (isNullOrUndefined(ids)) {\n      this.performDelete();\n      return;\n    } // eslint-disable-next-line\n\n\n    var records = this.getRecords(ids);\n\n    if (records.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var data = [];\n    var newIds = [];\n\n    for (var i = 0; i < records.length; i++) {\n      data[i] = records[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDeleteFiles(this.parent, data, newIds);\n  };\n\n  DetailsView.prototype.downloadFiles = function (ids) {\n    if (isNullOrUndefined(ids)) {\n      this.doDownload();\n      return;\n    } // eslint-disable-next-line\n\n\n    var dRecords = this.getRecords(ids);\n\n    if (dRecords.length === 0) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var data = [];\n    var newIds = [];\n\n    for (var i = 0; i < dRecords.length; i++) {\n      data[i] = dRecords[i];\n      newIds[i] = getItemName(this.parent, data[i]);\n    }\n\n    doDownloadFiles(this.parent, data, newIds);\n  };\n\n  DetailsView.prototype.openFile = function (id) {\n    if (isNullOrUndefined(id)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var records = this.getRecords([id]);\n\n    if (records.length > 0) {\n      this.openContent(records[0]);\n    }\n  };\n\n  DetailsView.prototype.renameFile = function (id, name) {\n    this.parent.activeModule = 'detailsview';\n\n    if (isNullOrUndefined(id)) {\n      this.performRename();\n      return;\n    } // eslint-disable-next-line\n\n\n    var records = this.getRecords([id]);\n\n    if (records.length > 0) {\n      updateRenamingData(this.parent, records[0]);\n\n      if (!isNullOrUndefined(name)) {\n        if (hasEditAccess(this.parent.itemData[0])) {\n          rename(this.parent, this.parent.path, name);\n        } else {\n          createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n        }\n      } else {\n        doRename(this.parent);\n      }\n    }\n  };\n\n  return DetailsView;\n}();\n/**\n * File Manager layout modules\n */\n\n/**\n * File Manager pop-up modules\n */\n\n/**\n * File Manager modules\n */\n\n/**\n * File Manager all modules\n */\n\n\nexport { AjaxSettings, toolbarItems, ToolbarSettings, SearchSettings, columnArray, DetailsViewSettings, fileItems, folderItems, layoutItems, ContextMenuSettings, NavigationPaneSettings, UploadSettings, Column, TOOLBAR_ID, LAYOUT_ID, NAVIGATION_ID, TREE_ID, GRID_ID, LARGEICON_ID, DIALOG_ID, ALT_DIALOG_ID, IMG_DIALOG_ID, EXTN_DIALOG_ID, UPLOAD_DIALOG_ID, RETRY_DIALOG_ID, CONTEXT_MENU_ID, SORTBY_ID, VIEW_ID, SPLITTER_ID, CONTENT_ID, BREADCRUMBBAR_ID, UPLOAD_ID, RETRY_ID, SEARCH_ID, ROOT, CONTROL, CHECK_SELECT, ROOT_POPUP, MOBILE, MOB_POPUP, MULTI_SELECT, FILTER, LAYOUT, NAVIGATION, LAYOUT_CONTENT, LARGE_ICONS, TB_ITEM, LIST_ITEM, LIST_TEXT, LIST_PARENT, TB_OPTION_TICK, TB_OPTION_DOT, BLUR, ACTIVE, HOVER, FOCUS, FOCUSED, CHECK, FRAME, CB_WRAP, ROW, ROWCELL, EMPTY, EMPTY_CONTENT, EMPTY_INNER_CONTENT, CLONE, DROP_FOLDER, DROP_FILE, FOLDER, ICON_IMAGE, ICON_MUSIC, ICON_VIDEO, LARGE_ICON, LARGE_EMPTY_FOLDER, LARGE_EMPTY_FOLDER_TWO, LARGE_ICON_FOLDER, SELECTED_ITEMS, TEXT_CONTENT, GRID_HEADER, TEMPLATE_CELL, TREE_VIEW, MENU_ITEM, MENU_ICON, SUBMENU_ICON, GRID_VIEW, GRID_CONTENT, ICON_VIEW, ICON_OPEN, ICON_UPLOAD, ICON_CUT, ICON_COPY, ICON_PASTE, ICON_DELETE, ICON_RENAME, ICON_NEWFOLDER, ICON_DETAILS, ICON_SHORTBY, ICON_REFRESH, ICON_SELECTALL, ICON_DOWNLOAD, ICON_OPTIONS, ICON_GRID, ICON_LARGE, ICON_BREADCRUMB, ICON_CLEAR, ICON_DROP_IN, ICON_DROP_OUT, ICON_NO_DROP, ICONS, DETAILS_LABEL, ERROR_CONTENT, STATUS, BREADCRUMBS, RTL, DISPLAY_NONE, COLLAPSED, FULLROW, ICON_COLLAPSIBLE, SPLIT_BAR, HEADER_CHECK, OVERLAY, VALUE, isFile, modelChanged, initialEnd, finalizeEnd, createEnd, filterEnd, beforeDelete, pathDrag, deleteInit, deleteEnd, refreshEnd, resizeEnd, splitterResize, pathChanged, destroy, beforeRequest, upload, skipUpload, afterRequest, download, layoutRefresh, actionFailure, search, openInit, openEnd, selectionChanged, selectAllInit, clearAllInit, clearPathInit, layoutChange, sortByChange, nodeExpand, detailsInit, menuItemData, renameInit, renameEndParent, renameEnd, showPaste, hidePaste, selectedData, cutCopyInit, pasteInit, pasteEnd, cutEnd, hideLayout, updateTreeSelection, treeSelect, sortColumn, pathColumn, searchTextChange, beforeDownload, downloadInit, dropInit, dragEnd, dropPath, dragHelper, dragging, updateSelectionData, methodCall, permissionRead, permissionEdit, permissionEditContents, permissionCopy, permissionUpload, permissionDownload, FileManager, Toolbar$1 as Toolbar, BreadCrumbBar, NavigationPane, DetailsView, LargeIconsView, createDialog, createExtDialog, createImageDialog, ContextMenu$2 as ContextMenu };","map":{"version":3,"names":["Ajax","Browser","ChildProperty","Complex","Component","Draggable","Event","EventHandler","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","Property","Touch","addClass","closest","createElement","detach","extend","formatUnit","getUniqueID","getValue","isNullOrUndefined","isVisible","matches","remove","removeClass","select","selectAll","setStyleAttribute","setValue","Splitter","Dialog","createSpinner","hideSpinner","showSpinner","DataManager","Query","Input","TextBox","Uploader","CheckBox","createCheckBox","ListBase","DropDownButton","ContextMenu","Toolbar","TreeView","ContextMenu$1","Grid","Resize","Sort","VirtualScroll","__extends","undefined","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","AjaxSettings","_super","apply","__extends$1","__decorate$1","toolbarItems","ToolbarSettings","__extends$2","__decorate$2","SearchSettings","__extends$3","__decorate$3","columnArray","field","headerText","minWidth","template","customAttributes","class","type","format","width","DetailsViewSettings","__extends$4","__decorate$4","fileItems","folderItems","layoutItems","ContextMenuSettings","__extends$5","__decorate$5","NavigationPaneSettings","__extends$6","__decorate$6","UploadSettings","__extends$7","__decorate$7","Column","TOOLBAR_ID","LAYOUT_ID","NAVIGATION_ID","TREE_ID","GRID_ID","LARGEICON_ID","DIALOG_ID","ALT_DIALOG_ID","IMG_DIALOG_ID","EXTN_DIALOG_ID","UPLOAD_DIALOG_ID","RETRY_DIALOG_ID","CONTEXT_MENU_ID","SORTBY_ID","VIEW_ID","SPLITTER_ID","CONTENT_ID","BREADCRUMBBAR_ID","UPLOAD_ID","RETRY_ID","SEARCH_ID","ROOT","CONTROL","CHECK_SELECT","ROOT_POPUP","MOBILE","MOB_POPUP","MULTI_SELECT","FILTER","LAYOUT","NAVIGATION","LAYOUT_CONTENT","LARGE_ICONS","TB_ITEM","LIST_ITEM","LIST_TEXT","LIST_PARENT","TB_OPTION_TICK","TB_OPTION_DOT","BLUR","ACTIVE","HOVER","FOCUS","FOCUSED","CHECK","FRAME","CB_WRAP","ROW","ROWCELL","EMPTY","EMPTY_CONTENT","EMPTY_INNER_CONTENT","CLONE","DROP_FOLDER","DROP_FILE","FOLDER","ICON_IMAGE","ICON_MUSIC","ICON_VIDEO","LARGE_ICON","LARGE_EMPTY_FOLDER","LARGE_EMPTY_FOLDER_TWO","LARGE_ICON_FOLDER","SELECTED_ITEMS","TEXT_CONTENT","GRID_HEADER","TEMPLATE_CELL","TREE_VIEW","MENU_ITEM","MENU_ICON","SUBMENU_ICON","GRID_VIEW","GRID_CONTENT","ICON_VIEW","ICON_OPEN","ICON_UPLOAD","ICON_CUT","ICON_COPY","ICON_PASTE","ICON_DELETE","ICON_RENAME","ICON_NEWFOLDER","ICON_DETAILS","ICON_SHORTBY","ICON_REFRESH","ICON_SELECTALL","ICON_DOWNLOAD","ICON_OPTIONS","ICON_GRID","ICON_LARGE","ICON_BREADCRUMB","ICON_CLEAR","ICON_DROP_IN","ICON_DROP_OUT","ICON_NO_DROP","ICONS","DETAILS_LABEL","ERROR_CONTENT","STATUS","BREADCRUMBS","RTL","DISPLAY_NONE","COLLAPSED","FULLROW","ICON_COLLAPSIBLE","SPLIT_BAR","HEADER_CHECK","OVERLAY","VALUE","isFile","modelChanged","initialEnd","finalizeEnd","createEnd","filterEnd","beforeDelete","pathDrag","deleteInit","deleteEnd","refreshEnd","resizeEnd","splitterResize","pathChanged","destroy","beforeRequest","upload","skipUpload","afterRequest","download","layoutRefresh","actionFailure","search","openInit","openEnd","selectionChanged","selectAllInit","clearAllInit","clearPathInit","layoutChange","sortByChange","nodeExpand","detailsInit","menuItemData","renameInit","renameEndParent","renameEnd","showPaste","hidePaste","selectedData","cutCopyInit","pasteInit","pasteEnd","cutEnd","hideLayout","updateTreeSelection","treeSelect","sortColumn","pathColumn","searchTextChange","beforeDownload","downloadInit","dropInit","dragEnd","dropPath","dragHelper","dragging","updateSelectionData","methodCall","permissionRead","permissionEdit","permissionEditContents","permissionCopy","permissionUpload","permissionDownload","updatePath","node","data","instance","text","id","getAttribute","newText","setProperties","path","getPath","hasId","pathId","getPathId","pathNames","getPathNames","element","matched","getParents","len","ids","push","names","isId","el","parentNode","parentText","textContent","classList","contains","generatePath","parent","newPath","feParent","removeActive","isCut","removeBlur","selectedNodes","actionRecords","enablePaste","notify","activeElement","action","isSearchCut","activeElements","blurEle","activeModule","targetPath","getParentPath","getModule","addBlur","activeRecords","breadcrumbbarModule","searchObj","value","isFiltered","i_1","selectedItems","nodes","add","hover","querySelectorAll","searchWordHandler","isLayoutChange","searchWord","args","searchSettings","filterType","itemData","getPathObject","caseSensitive","ignoreCase","hiddenItems","showHiddenItems","Search","isSortByClicked","files","oldView","detailsviewModule","gridObj","dataSource","largeiconsviewModule","items","read","filter","updateLayout","view","layoutSelectedItems","getTargetModule","tartgetModule","targetModule","refresh","hasReadAccess","createDeniedDialog","openAction","copyFiles","fileAction","cutFiles","fileType","file","isFile$$1","imageFormat","audioFormat","videoFormat","knownFormat","filetype","toLowerCase","indexOf","split","join","iconType","getImageUrl","item","baseUrl","ajaxSettings","url","imgUrl","fileName","encodeURIComponent","fPath","imgId","replace","Date","getTime","toString","eventArgs","fileDetails","imageUrl","trigger","getFullPath","filePath","getName","name","getSortedData","query","sortOrder","sortBy","group","lists","executeLocal","getObject","currFiles","feFiles","where","createEmptyElement","top","layoutElement","addressBarHeight","offsetHeight","querySelector","emptyDiv","className","emptyFolder","emptyEle","dragFile","appendChild","error","innerHTML","getLocaleText","eDiv","style","marginTop","getDirectories","setNodeId","result","rootId","dirs","setDateObject","locale","localeObj","getConstant","getCssClass","css","cssClass","sortbyClickHandler","tick","getSortField","isMobile","module","substring","lastIndexOf","setNextPath","currfolders","folders","originalPath","root","eventName","openSearchFolder","selectedNode","pasteHandler","isDragDrop","folderPath","subFolder","validateSubFolder","paste","code","message","fileExists","createDialog","dropPath$$1","dragPath","tempTarget","srcData","dragNodes","dropHandler","dragData","dropData","oldPath","getDirectoryPath","cwd","doPasteUpdate","operation","duplicateItems","pasteNodes","flag","count","droppedObjects","duplicateRecords","isPasteError","isDropEnd","isSearchDrag","isPathDrag","readDropPath","expandedId","navigationpaneModule","treeObj","liElement","document","getDuplicateData","records","createVirtualDragElement","getItemName","cloneIcon","cloneName","virtualEle","ele","badge","virtualDragElement","dragStopHandler","dragArgs","cancel","treeExpandTimer","window","clearTimeout","removeDropTarget","uploadObj","dropArea","dragCount","dragStartHandler","dragObj","allowDragAndDrop","intDestroy","event","dragCancel","removeItemClass","draggingHandler","canDrop","setTimeout","objectToString","str","keys","updateRenamingData","currentItemText","filterPath","doRename","hasEditAccess","doDownload","hasDownloadAccess","Download","doDeleteFiles","newIds","Delete","doDownloadFiles","response","getAccessClass","permission","hasContentAccess","hasUploadAccess","createNewFolder","details","uploadItem","eleId","uploadEle","click","createAjax","readSuccess","createFolder","itemName","createSuccess","filterData","filterDataVal","filterSuccess","rename","itemNewName","newName","renameSuccess","pasteOperation","renameItems","targetData","renameFiles","destinationPath","pasteSuccess","deleteSuccess","GetDetails","detailsSuccess","fn","mode","dataType","contentType","JSON","stringify","onSuccess","onFailure","beforeSend","beforeSendArgs","ajax","result_1","triggerAjaxFailure","parse","rootAliasName","rootName","location_1","RegExp","match","send","pop","dialogObj","visible","hide","createdItem","parentElement","nextElementSibling","result_2","renamedItem","fileLength","createExtDialog","searchString","searchSuccess","downloadUrl","downloadArgs","form","attrs","method","input","forms","namedItem","submit","removeChild","e","replaceItems","options","getOptions","beforeOpen","keydownAction","bind","dialogName","beforeClose","triggerPopupBeforeClose","header","content","buttons","animationSettings","effect","showCloseIcon","closeOnEscape","allowDragging","isModal","popupTarget","open","close","enableRtl","enableHtmlSanitizer","isStringTemplate","appendTo","changeOptions","extOptions","getExtOptions","isApplySame","extDialogObj","beforeExtOpen","dataBind","show","triggerPopupBeforeOpen","dlgModule","popupName","popupModule","eventargs","isInteracted","triggerPopupOpen","triggerPopupClose","duplicateContent","index","buttonModel","isPrimary","renameText","item_1","indexval","item_2","ind","retryFiles","onRetryOpen","isRetryOpened","retryDlgClose","retryDlgUpdate","splice","isKeepBoth","onKeepBothAll","onReplaceAll","retryArgs","retry","dialogEle","container","checkContainer","checkbox","checkBoxObj","label","change","checked","focusInput","focus","setSelectionRange","onFolderDialogOpen","createInput","oninput","onValidate","onkeyup","getKeyCode","onSubmit","onRenameDialogOpen","inputEle","onReSubmit","onFocusRenameInput","txt","showFileExtension","placeholder","properties","formattedString","intl","strArr","fileType$$1","location","multipleFiles","onDeleteSubmit","formatDate","modified","size","index_1","map","val","substr","every","arr","toLocaleUpperCase","btnElement","preventKeydown","dlgName","_loop_1","btnCount","onkeydown","keyCode","preventDefault","onSubmitValidate","oIndex","extn","renamedId","oldExtension","nIndex","newExtension","test","addInvalid","which","charCode","createImageDialog","image","src","alt","viewerObj","height","enableResize","position","X","Y","openImage","resizing","updateImage","resizeStop","imgWrap","cssObj","getComputedStyle","paddingWidth","parseFloat","paddingRight","paddingHeight","paddingBottom","offsetWidth","LargeIconsView","isInteraction","uploadOperation","isRendered","tapCount","isPasteOperation","addEventListener","keyConfigs","end","home","tab","moveDown","moveLeft","moveRight","moveUp","ctrlEnd","ctrlHome","ctrlDown","ctrlLeft","ctrlRight","ctrlUp","shiftEnd","shiftHome","shiftDown","shiftLeft","shiftRight","shiftUp","csEnd","csHome","csDown","csLeft","csRight","csUp","space","ctrlSpace","shiftSpace","csSpace","ctrlA","enter","altEnter","esc","del","ctrlX","isMac","ctrlC","ctrlV","f2","shiftdel","back","ctrlD","render","visitedItem","startItem","resetMultiSelect","setAttribute","listObj","unWireEvents","removeEventListener","iconsView","ul","ariaAttributes","itemRole","listRole","itemText","groupItemRole","wrapperRole","showIcon","fields","iconCss","htmlAttributes","itemCreated","onItemCreated","renderList","listElements","createListFromJson","itemList","slice","call","preventImgDrag","createDragObj","emptyList","selectItems","activeEle","adjustHeight","maxHeight","getItemCount","wireEvents","checkItem","ondragstart","_this","enableTailMode","distance","enableAutoScroll","dragTarget","helper","cursorAt","dragCursorPosition","dragArea","dragStop","drag","clone","dragStart","sender","dragLi","setFocus","getItemObject","onDropInit","getModuleName","dropLi","cwdData","info","pane","bar","removeAttribute","curData","textEle","renderCheckbox","allowMultiSelection","checkElement","firstElementChild","insertBefore","childNodes","onLayoutChange","indexes","getIndexes","length_1","checkEle","checkLength","checkState","icon","name_1","selected","showThumbnail","title","onFinalizeEnd","onCreateEnd","clearSelect","onSelectedData","updateSelectedData","onDeleteInit","onDeleteEnd","onRefreshEnd","onRenameInit","updateRenameData","onPathChanged","searchedItems","addSelection","onOpenInit","doOpenAction","onHideLayout","onSelectAllInit","getFirstItem","lastItem","getLastItem","eveArgs","ctrlKey","shiftKey","doSelection","onClearAllInit","clearSelection","onBeforeRequest","onAfterRequest","onSearch","onLayoutRefresh","onUpdateSelectionData","onPathColumn","isDestroyed","off","onPropertyChanged","onMethodCall","onActionFailure","onMenuItemData","splitterResizeHandler","resizeHandler","onpasteInit","onpasteEnd","oncutCopyInit","onDetailsInit","onDropPath","on","currentSelected","_i","_a","newProp","prop","wireClickEvent","keyboardModule","keyAction","keyActionHandler","keyboardDownModule","keydownActionHandler","onMouseOver","targetEle","toBind","proxy_1","clickObj","tap","eve","originalEvent","isDevice","tapEvent","doTapAction","dblClickHandler","clickHandler","tapHold","multiSelect","updateType","cList","fileSelectionArgs","triggerSelection","startIndex","endIndex","addActive","addFocus","triggerSelect","details_1","fileOpenArgs","folder","fItem","getFocusedItem","firstItem","navigateItem","navigateDown","navigateRight","csEndKey","csHomeKey","csDownKey","csLeftKey","csRightKey","csUpKey","spaceKey","ctrlAKey","getVisitedItem","performDelete","performRename","getActiveItem","isTowards","nItem","getNextItem","perRow","li","nextItem","liParent","liScrPos","scrollTop","getCurFocusedItem","dItem","lItem","rItem","uItem","getDataName","preItem","toCheck","eles","getBoundingClientRect","visitedData","j","byId","filter$$1","resultData","newData","deleteFiles","downloadFiles","openFile","renameFile","getItemsIndex","isFilter","filterName","name_2","BreadCrumbBar","addressPath","addressBarLink","searchTimer","searchWrapWidth","allowSearchOnTyping","searchEventBind","onPathChange","paths","addressbarUL","addressbarLI","pathNamesLen","addressATag","innerText","ulElement","breadCrumbBarNavigation","subMenuObj","searchWrap","updateBreadCrumbBar","addresBarUL","liElements","pRight","getPropertyValue","pLeft","breadCrumbBarWidth","liElementsWidth","liElementsWidths","clientWidth","searchContainer","searchInput","autocomplete","searchEle","span","onShowInput","showClearButton","onFocus","blur","onBlur","search$$1","searchChangeHandler","onKeyUp","diff","utext","subMenuLi","attributes","subMenuSpan","iconPosition","beforeItemRender","addSubMenuAttributes","subMenuSelectOperations","wrap","addressPathClickHandler","anchor","allow","nodeName","children","currentPath","triggerFileOpen","treeNodeId","list","liElementId","link","newpath","onUpdatePath","removeSearchValue","onRenameEnd","onResize","onPasteEnd","onSearchTextChange","liEle","ContextMenu$2","ContextMenu$$1","currentItems","currentElement","disabledItems","downarrow","uparrow","contextMenu","onBeforeItemRender","onSelect","onBeforeOpen","onBeforeClose","getMenuId","iconSpan","menuTarget","uid","treeFolder","targetNodeElement","activeNode","getElementsByClassName","targetElement","getTargetView","updateActiveModule","setLayoutItem","getRowObjectFromUID","selectRows","parseInt","setFileItem","setFolderItem","pasteEle","isSubMenu","getMenuItemData","menuModule","menuType","menuOpenArgs","enableItems","getItemIndex","itemId","disableItem","concat","enable","isUniqueId","checkValidItem","isTree","getItemData","contextMenuSettings","trim","layout","nameEle","menuClickArgs","sItems","openFileOnContextMenuClick","separator","defaultLocale","__extends$8","__decorate$8","FileManager","previousPath","nextPath","deleteRecords","isSameAction","persistData","isOpened","left","uploadingCount","uploadedCount","FileManager_1","Inject","preRender","ensurePath","checkMobile","navigationPaneSettings","isBigger","addWrapper","altN","f5","ctrlShift1","ctrlShift2","ctrlU","getPersistData","keyEntity","addOnPersist","requiredModules","modules","member","toolbarSettings","initialize","slItems","fileView","navigator","platform","toUpperCase","setRtl","addEventListeners","splitterObj","collapse","renderComplete","addCssClass","renderFileUpload","headerWrap","layoutWrap","navigationWrap","treeWrap","contentWrap","gridWrap","largeiconWrap","overlay","paneSettings","min","max","maxWidth","dialogWrap","menuWrap","dialogImgWrap","extnDialogWrap","uploadDialogWrap","toolbar","toolBarHeight","clientHeight","splitterAdjust","expand","oldOne","newOne","onContextMenu","userAgent","uploadDialogObj","onOpen","onClose","renderUploadBox","uploadUrl","asyncSettings","saveUrl","removeUrl","uploading","onUploading","removing","onRemoving","canceling","onCancel","clearing","onClearing","onSelected","success","onUploadSuccess","failure","onUploadFailure","autoUpload","uploadSettings","minFileSize","maxFileSize","allowedExtensions","directoryUpload","fileListRendering","onFileListRender","updateUploader","clearAll","fileData","customFormData","uploadEventArgs","httpRequest","currentRequest","onFileUploadSuccess","getFilesData","filesData","autoClose","statusText","onInitialEnd","removeEventListeners","setPath","oldProp","ajaxSettingSetModel","localeSetModelOption","refreshing","disableToolbarItems","toolbarModule","enableToolbarItems","disableMenuItems","contextmenuModule","getMenuItemIndex","getToolbarItemIndex","filterFiles","getSelectedFiles","refreshFiles","refreshLayout","uploadFiles","rtl","Toolbar$1","Toolbar$$1","default","single","multiple","selection","toolbarItemData","getItems","toolbarCreateArgs","toolbarObj","created","toolbarCreateHandler","overflowMode","clicked","onClicked","getId","currItems","tool","toolbarClickArgs","getPupupId","buttonObj","gridSpan","largeIconSpan","layoutBtnObj","hideItems","hideStatus","updateSortByButton","itemCount","itemTooltip","spanElement","tooltipText","prefixIcon","showTextOn","suffixIcon","overflow","align","onSelectionChanged","reRenderToolbar","hideItem","tools","toHide","refreshOverflow","isEnable","NavigationPane","removeNodes","moveNames","expandTree","isDrag","isPathDragged","isRenameParent","isRightClick","renameParent","previousSelected","isNodeClickCalled","restrictSelecting","ctrlShiftN","shiftF10","onInit","rootData","attr","parentID","expanded","hasChildren","tooltip","nodeSelecting","onNodeSelecting","nodeSelected","onNodeSelected","nodeExpanding","onNodeExpand","nodeClicked","onNodeClicked","allowEditing","nodeEditing","onNodeEditing","drawNode","onDrowNode","dataBound","addDragDrop","getTreeData","getDragPath","getDropPath","nodeData","addChild","prevent","directories","_fm_icon","addNodes","expandNodeTarget","onPathDrag","selectResultNode","onNodeExpanded","innerHtml","sNode","updateTree","updateTreeNode","toExpand","expandedNodes","removeChildNodes","childs","onOpenEnd","sleId","expandAll","updateItemData","updateActionData","selcetedEle","selectedNodeEle","onRenameEndParent","nData","id_1","onDownLoadInit","onClearPathInit","onDragEnd","getMoveNames","previousName","onCutEnd","resultObj","itemname","checkDropPath","obj","onDragging","dataobj","level","keyDown","DetailsView","interaction","isColumnRefresh","firstItemIndex","isSelectionUpdate","currentSelectedItem","isLoaded","isNameWidth","checkNameWidth","columns","getColumns","sortSettings","direction","allowSorting","rowSelecting","onSelection","rowDeselecting","rowSelected","rowDeselected","onDeSelection","allowResizing","detailsViewSettings","columnResizing","selectionSettings","checkboxMode","pageSettings","pageSize","allowUnsort","recordDoubleClick","DblClickEvents","beforeDataBound","onBeforeDataBound","onDataBound","rowDataBound","onRowDataBound","actionBegin","onActionBegin","headerCellInfo","onHeaderCellInfo","beforeCopy","load","focusModule","emptyArgs","initialColumn","adjustWidth","fieldName","nameWidth","headerTextAlign","iWidth","headerTemplate","unshift","cWidth","cBox","disableHtmlEncode","gridHeader","renderCheckBox","refreshColumns","td","row","sizeEle","modifiedSize","sizeValue","formatNumber","dateEle","checkWrap","requestType","columnName","sortItem","rows","getSelectedRowIndexes","sortSelectedNodes","getRowsObject","selectRecords","currentViewData","getRowHeight","hdTable","getHeaderContent","paddingLeft","hdContent","borderRightWidth","cnTable","getContent","overflowY","checkEmptyDiv","gridRecords","getCurrentViewRecords","sRecords","selectedRowIndex","rData","onSortColumn","sortModule","onDetailsResize","removePathColumn","updatePathColumn","columnData","pathColumn$$1","getSelectedRecords","openContent","rowIndex","rowData","onSearchFiles","isRefresh","selectionModule","selectRowsByRange","getRows","selectRow","removeSelection","onPasteInit","onDetailsResizeHandler","getRowInfo","dragRow","getSelectedRows","gridHeaderColGroup","firstChild","gridContentColGroup","gridHeaderColNames","selectedRecords","getRowByIndex","lastItemIndex","gridSelectNodes","selectSize","record","name_3","keyupHandler","keydownHandler","removeFocus","getFocusedItemIndex","gridItems","gridLength","focItem","focIndex","selIndex","selRowIndeces","crtSrlPos","crtFocusIndex","checkRowsKey","spaceSelection","shiftMoveMethod","moveFunction","ctrlMoveFunction","isSelected","shiftSelectFocusItem","shiftSelectedItem","nextIndex","indexValue","checkAllRows","InnerItems","itemArr","fIndex","selRowIndexes","itemElement","check","getRecords","hasFilter","name_4","dRecords"],"sources":["C:/Users/High Tech Assistance/Desktop/e-learningProject__frontend - Copie/e-learningProject__frontend - Copie/frontend/node_modules/@syncfusion/ej2-filemanager/dist/es6/ej2-filemanager.es5.js"],"sourcesContent":["import { Ajax, Browser, ChildProperty, Complex, Component, Draggable, Event, EventHandler, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, Touch, addClass, closest, createElement, detach, extend, formatUnit, getUniqueID, getValue, isNullOrUndefined, isVisible, matches, remove, removeClass, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { Splitter } from '@syncfusion/ej2-layouts';\nimport { Dialog, createSpinner, hideSpinner, showSpinner } from '@syncfusion/ej2-popups';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input, TextBox, Uploader } from '@syncfusion/ej2-inputs';\nimport { CheckBox, createCheckBox } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { ContextMenu, Toolbar, TreeView } from '@syncfusion/ej2-navigations';\nimport { ContextMenu as ContextMenu$1, Grid, Resize, Sort, VirtualScroll } from '@syncfusion/ej2-grids';\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nvar AjaxSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends(AjaxSettings, _super);\n    function AjaxSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"downloadUrl\", void 0);\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"getImageUrl\", void 0);\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"uploadUrl\", void 0);\n    __decorate([\n        Property(null)\n    ], AjaxSettings.prototype, \"url\", void 0);\n    return AjaxSettings;\n}(ChildProperty));\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar toolbarItems = ['NewFolder', 'Upload', 'Cut', 'Copy', 'Paste', 'Delete', 'Download', 'Rename',\n    'SortBy', 'Refresh', 'Selection', 'View', 'Details'];\n/**\n * Specifies the Toolbar settings of the FileManager.\n */\nvar ToolbarSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(ToolbarSettings, _super);\n    function ToolbarSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$1([\n        Property(toolbarItems)\n    ], ToolbarSettings.prototype, \"items\", void 0);\n    __decorate$1([\n        Property(true)\n    ], ToolbarSettings.prototype, \"visible\", void 0);\n    return ToolbarSettings;\n}(ChildProperty));\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Search settings of the File Manager.\n */\nvar SearchSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property(true)\n    ], SearchSettings.prototype, \"allowSearchOnTyping\", void 0);\n    __decorate$2([\n        Property('contains')\n    ], SearchSettings.prototype, \"filterType\", void 0);\n    __decorate$2([\n        Property(true)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate$2([\n        Property(null)\n    ], SearchSettings.prototype, \"placeholder\", void 0);\n    return SearchSettings;\n}(ChildProperty));\n\nvar __extends$3 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the columns in the details view of the file manager.\n */\nvar columnArray = [\n    {\n        field: 'name', headerText: 'Name', minWidth: 120,\n        template: '<span class=\"e-fe-text\">${name}</span>', customAttributes: { class: 'e-fe-grid-name' }\n    },\n    {\n        field: '_fm_modified', headerText: 'DateModified', type: 'dateTime',\n        format: 'MMMM dd, yyyy HH:mm', minWidth: 120, width: '190'\n    },\n    {\n        field: 'size', headerText: 'Size', minWidth: 90, width: '110', template: '<span class=\"e-fe-size\">${size}</span>'\n    }\n];\n/**\n * Specifies the grid settings of the File Manager.\n */\nvar DetailsViewSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(DetailsViewSettings, _super);\n    function DetailsViewSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$3([\n        Property(true)\n    ], DetailsViewSettings.prototype, \"columnResizing\", void 0);\n    __decorate$3([\n        Property(columnArray)\n    ], DetailsViewSettings.prototype, \"columns\", void 0);\n    return DetailsViewSettings;\n}(ChildProperty));\n\nvar __extends$4 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar fileItems = ['Open', '|', 'Cut', 'Copy', '|', 'Delete', 'Download', 'Rename', '|', 'Details'];\nvar folderItems = ['Open', '|', 'Cut', 'Copy', 'Paste', '|', 'Delete', 'Rename', 'Download', '|', 'Details'];\nvar layoutItems = [\n    'SortBy', 'View', 'Refresh', '|', 'Paste', '|', 'NewFolder', 'Upload', '|', 'Details', '|', 'SelectAll'\n];\n/**\n * Specifies the ContextMenu settings of the File Manager.\n */\nvar ContextMenuSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(ContextMenuSettings, _super);\n    function ContextMenuSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$4([\n        Property(fileItems)\n    ], ContextMenuSettings.prototype, \"file\", void 0);\n    __decorate$4([\n        Property(folderItems)\n    ], ContextMenuSettings.prototype, \"folder\", void 0);\n    __decorate$4([\n        Property(layoutItems)\n    ], ContextMenuSettings.prototype, \"layout\", void 0);\n    __decorate$4([\n        Property(true)\n    ], ContextMenuSettings.prototype, \"visible\", void 0);\n    return ContextMenuSettings;\n}(ChildProperty));\n\nvar __extends$5 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the navigationpane settings of the File Manager.\n */\nvar NavigationPaneSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$5(NavigationPaneSettings, _super);\n    function NavigationPaneSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$5([\n        Property('650px')\n    ], NavigationPaneSettings.prototype, \"maxWidth\", void 0);\n    __decorate$5([\n        Property('240px')\n    ], NavigationPaneSettings.prototype, \"minWidth\", void 0);\n    __decorate$5([\n        Property(true)\n    ], NavigationPaneSettings.prototype, \"visible\", void 0);\n    __decorate$5([\n        Property('None')\n    ], NavigationPaneSettings.prototype, \"sortOrder\", void 0);\n    return NavigationPaneSettings;\n}(ChildProperty));\n\nvar __extends$6 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the Ajax settings of the File Manager.\n */\nvar UploadSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$6(UploadSettings, _super);\n    function UploadSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$6([\n        Property('')\n    ], UploadSettings.prototype, \"allowedExtensions\", void 0);\n    __decorate$6([\n        Property(true)\n    ], UploadSettings.prototype, \"autoUpload\", void 0);\n    __decorate$6([\n        Property(false)\n    ], UploadSettings.prototype, \"autoClose\", void 0);\n    __decorate$6([\n        Property(false)\n    ], UploadSettings.prototype, \"directoryUpload\", void 0);\n    __decorate$6([\n        Property(0)\n    ], UploadSettings.prototype, \"minFileSize\", void 0);\n    __decorate$6([\n        Property(30000000)\n    ], UploadSettings.prototype, \"maxFileSize\", void 0);\n    return UploadSettings;\n}(ChildProperty));\n\nvar __extends$7 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Interface for a class Column\n */\n/* istanbul ignore next */\nvar Column = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(Column, _super);\n    function Column() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Property('')\n    ], Column.prototype, \"field\", void 0);\n    __decorate$7([\n        Property('')\n    ], Column.prototype, \"headerText\", void 0);\n    __decorate$7([\n        Property('')\n    ], Column.prototype, \"width\", void 0);\n    __decorate$7([\n        Property('')\n    ], Column.prototype, \"minWidth\", void 0);\n    __decorate$7([\n        Property('')\n    ], Column.prototype, \"maxWidth\", void 0);\n    __decorate$7([\n        Property('Left')\n    ], Column.prototype, \"textAlign\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Column.prototype, \"headerTextAlign\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Column.prototype, \"type\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Column.prototype, \"format\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Column.prototype, \"template\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Column.prototype, \"headerTemplate\", void 0);\n    __decorate$7([\n        Property(true)\n    ], Column.prototype, \"allowSorting\", void 0);\n    __decorate$7([\n        Property(true)\n    ], Column.prototype, \"allowResizing\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Column.prototype, \"customAttributes\", void 0);\n    __decorate$7([\n        Property('')\n    ], Column.prototype, \"hideAtMedia\", void 0);\n    __decorate$7([\n        Property(null)\n    ], Column.prototype, \"customFormat\", void 0);\n    return Column;\n}(ChildProperty));\n\n/**\n * FileExplorer common modules\n */\n\n/**\n * Specifies the File Manager internal ID's\n */\n/** @hidden */\nvar TOOLBAR_ID = '_toolbar';\n/** @hidden */\nvar LAYOUT_ID = '_layout';\n/** @hidden */\nvar NAVIGATION_ID = '_navigation';\n/** @hidden */\nvar TREE_ID = '_tree';\n/** @hidden */\nvar GRID_ID = '_grid';\n/** @hidden */\nvar LARGEICON_ID = '_largeicons';\n/** @hidden */\nvar DIALOG_ID = '_dialog';\n/** @hidden */\nvar ALT_DIALOG_ID = '_alt_dialog';\n/** @hidden */\nvar IMG_DIALOG_ID = '_img_dialog';\n/** @hidden */\nvar EXTN_DIALOG_ID = '_extn_dialog';\n/** @hidden */\nvar UPLOAD_DIALOG_ID = '_upload_dialog';\n/** @hidden */\nvar RETRY_DIALOG_ID = '_retry_dialog';\n/** @hidden */\nvar CONTEXT_MENU_ID = '_contextmenu';\n/** @hidden */\nvar SORTBY_ID = '_sortby';\n/** @hidden */\nvar VIEW_ID = '_view';\n/** @hidden */\nvar SPLITTER_ID = '_splitter';\n/** @hidden */\nvar CONTENT_ID = '_content';\n/** @hidden */\nvar BREADCRUMBBAR_ID = '_breadcrumbbar';\n/** @hidden */\nvar UPLOAD_ID = '_upload';\n/** @hidden */\nvar RETRY_ID = '_retry';\n/** @hidden */\nvar SEARCH_ID = '_search';\n/**\n * Specifies the File Manager internal class names\n */\n/** @hidden */\nvar ROOT = 'e-filemanager';\n/** @hidden */\nvar CONTROL = 'e-control';\n/** @hidden */\nvar CHECK_SELECT = 'e-fe-cb-select';\n/** @hidden */\nvar ROOT_POPUP = 'e-fe-popup';\n/** @hidden */\nvar MOBILE = 'e-fe-mobile';\n/** @hidden */\nvar MOB_POPUP = 'e-fe-popup e-fe-mobile';\n/** @hidden */\nvar MULTI_SELECT = 'e-fe-m-select';\n/** @hidden */\nvar FILTER = 'e-fe-m-filter';\n/** @hidden */\nvar LAYOUT = 'e-layout';\n/** @hidden */\nvar NAVIGATION = 'e-navigation';\n/** @hidden */\nvar LAYOUT_CONTENT = 'e-layout-content';\n/** @hidden */\nvar LARGE_ICONS = 'e-large-icons';\n/** @hidden */\nvar TB_ITEM = 'e-toolbar-item';\n/** @hidden */\nvar LIST_ITEM = 'e-list-item';\n/** @hidden */\nvar LIST_TEXT = 'e-list-text';\n/** @hidden */\nvar LIST_PARENT = 'e-list-parent';\n/** @hidden */\nvar TB_OPTION_TICK = 'e-icons e-fe-tick';\n/** @hidden */\nvar TB_OPTION_DOT = 'e-icons e-fe-dot';\n/** @hidden */\nvar BLUR = 'e-blur';\n/** @hidden */\nvar ACTIVE = 'e-active';\n/** @hidden */\nvar HOVER = 'e-hover';\n/** @hidden */\nvar FOCUS = 'e-focus';\n/** @hidden */\nvar FOCUSED = 'e-focused';\n/** @hidden */\nvar CHECK = 'e-check';\n/** @hidden */\nvar FRAME = 'e-frame';\n/** @hidden */\nvar CB_WRAP = 'e-checkbox-wrapper';\n/** @hidden */\nvar ROW = 'e-row';\n/** @hidden */\nvar ROWCELL = 'e-rowcell';\n/** @hidden */\nvar EMPTY = 'e-empty';\n/** @hidden */\nvar EMPTY_CONTENT = 'e-empty-content';\n/** @hidden */\nvar EMPTY_INNER_CONTENT = 'e-empty-inner-content';\n/** @hidden */\nvar CLONE = 'e-fe-clone';\n/** @hidden */\nvar DROP_FOLDER = 'e-fe-drop-folder';\n/** @hidden */\nvar DROP_FILE = 'e-fe-drop-file';\n/** @hidden */\nvar FOLDER = 'e-fe-folder';\n/** @hidden */\nvar ICON_IMAGE = 'e-fe-image';\n/** @hidden */\nvar ICON_MUSIC = 'e-fe-music';\n/** @hidden */\nvar ICON_VIDEO = 'e-fe-video';\n/** @hidden */\nvar LARGE_ICON = 'e-large-icon';\n/** @hidden */\nvar LARGE_EMPTY_FOLDER = 'e-empty-icon e-fe-folder';\n/** @hidden */\nvar LARGE_EMPTY_FOLDER_TWO = 'e-empty-icon.e-fe-folder';\n/** @hidden */\nvar LARGE_ICON_FOLDER = 'e-fe-folder';\n/** @hidden */\nvar SELECTED_ITEMS = 'e-items';\n/** @hidden */\nvar TEXT_CONTENT = 'e-text-content';\n/** @hidden */\nvar GRID_HEADER = 'e-gridheader';\n/** @hidden */\nvar TEMPLATE_CELL = 'e-templatecell';\n/** @hidden */\nvar TREE_VIEW = 'e-treeview';\n/** @hidden */\nvar MENU_ITEM = 'e-menu-item';\n/** @hidden */\nvar MENU_ICON = 'e-menu-icon';\n/** @hidden */\nvar SUBMENU_ICON = 'e-caret';\n/** @hidden */\nvar GRID_VIEW = 'e-content';\n/** @hidden */\nvar GRID_CONTENT = 'e-gridcontent';\n/** @hidden */\nvar ICON_VIEW = 'e-list-parent';\n/** @hidden */\nvar ICON_OPEN = 'e-icons e-fe-open';\n/** @hidden */\nvar ICON_UPLOAD = 'e-icons e-fe-upload';\n/** @hidden */\nvar ICON_CUT = 'e-icons e-fe-cut';\n/** @hidden */\nvar ICON_COPY = 'e-icons e-fe-copy';\n/** @hidden */\nvar ICON_PASTE = 'e-icons e-fe-paste';\n/** @hidden */\nvar ICON_DELETE = 'e-icons e-fe-delete';\n/** @hidden */\nvar ICON_RENAME = 'e-icons e-fe-rename';\n/** @hidden */\nvar ICON_NEWFOLDER = 'e-icons e-fe-newfolder';\n/** @hidden */\nvar ICON_DETAILS = 'e-icons e-fe-details';\n/** @hidden */\nvar ICON_SHORTBY = 'e-icons e-fe-sort';\n/** @hidden */\nvar ICON_REFRESH = 'e-icons e-fe-refresh';\n/** @hidden */\nvar ICON_SELECTALL = 'e-icons e-fe-select';\n/** @hidden */\nvar ICON_DOWNLOAD = 'e-icons e-fe-download';\n/** @hidden */\nvar ICON_OPTIONS = 'e-icons e-fe-options';\n/** @hidden */\nvar ICON_GRID = 'e-icons e-fe-grid';\n/** @hidden */\nvar ICON_LARGE = 'e-icons e-fe-large';\n/** @hidden */\nvar ICON_BREADCRUMB = 'e-icons e-fe-breadcrumb';\n/** @hidden */\nvar ICON_CLEAR = 'e-icons e-fe-clear';\n/** @hidden */\nvar ICON_DROP_IN = 'e-icons e-fe-drop-in';\n/** @hidden */\nvar ICON_DROP_OUT = 'e-icons e-fe-drop-out';\n/** @hidden */\nvar ICON_NO_DROP = 'e-icons e-fe-no-drop';\n/** @hidden */\nvar ICONS = 'e-icons';\n/** @hidden */\nvar DETAILS_LABEL = 'e-detailslabel';\n/** @hidden */\nvar ERROR_CONTENT = 'e-fe-errorcontent';\n/** @hidden */\nvar STATUS = 'e-status';\n/** @hidden */\nvar BREADCRUMBS = 'e-address';\n/** @hidden */\nvar RTL = 'e-rtl';\n/** @hidden */\nvar DISPLAY_NONE = 'e-display-none';\n/** @hidden */\nvar COLLAPSED = 'e-node-collapsed';\n/** @hidden */\nvar FULLROW = 'e-fullrow';\n/** @hidden */\nvar ICON_COLLAPSIBLE = 'e-icon-collapsible';\n/** @hidden */\nvar SPLIT_BAR = 'e-split-bar';\n/** @hidden */\nvar HEADER_CHECK = 'e-headercheck';\n/** @hidden */\nvar OVERLAY = 'e-fe-overlay';\n/** @hidden */\nvar VALUE = 'e-fe-value';\n\n/**\n * Specifies the File Manager internal variables\n */\n/** @hidden */\nvar isFile = 'isFile';\n/**\n * Specifies the File Manager internal events\n */\n/** @hidden */\nvar modelChanged = 'model-changed';\n/** @hidden */\nvar initialEnd = 'initial-end';\n/** @hidden */\nvar finalizeEnd = 'finalize-end';\n/** @hidden */\nvar createEnd = 'create-end';\n/** @hidden */\nvar filterEnd = 'filter-end';\n/** @hidden */\nvar beforeDelete = 'before-delete';\n/** @hidden */\nvar pathDrag = 'path-drag';\n/** @hidden */\nvar deleteInit = 'delete-init';\n/** @hidden */\nvar deleteEnd = 'delete-end';\n/** @hidden */\nvar refreshEnd = 'refresh-end';\n/** @hidden */\nvar resizeEnd = 'resize-end';\n/** @hidden */\nvar splitterResize = 'splitter-resize';\n/** @hidden */\nvar pathChanged = 'path-changed';\n/** @hidden */\nvar destroy = 'destroy';\n/** @hidden */\nvar beforeRequest = 'before-request';\n/** @hidden */\nvar upload = 'upload';\n/** @hidden */\nvar skipUpload = 'skip-upload';\n/** @hidden */\nvar afterRequest = 'after-request';\n/** @hidden */\nvar download = 'download';\n/** @hidden */\nvar layoutRefresh = 'layout-refresh';\n/** @hidden */\nvar actionFailure = 'actionFailure';\n/** @hidden */\nvar search = 'search';\n/** @hidden */\nvar openInit = 'open-init';\n/** @hidden */\nvar openEnd = 'open-end';\n/** @hidden */\nvar selectionChanged = 'selection-changed';\n/** @hidden */\nvar selectAllInit = 'select-all-init';\n/** @hidden */\nvar clearAllInit = 'clear-all-init';\n/** @hidden */\nvar clearPathInit = 'clear-path-init';\n/** @hidden */\nvar layoutChange = 'layout-change';\n/** @hidden */\nvar sortByChange = 'sort-by-change';\n/** @hidden */\nvar nodeExpand = 'node-expand';\n/** @hidden */\nvar detailsInit = 'details-init';\n/** @hidden */\nvar menuItemData = 'menu-item-data';\n/** @hidden */\nvar renameInit = 'rename-init';\n/** @hidden */\nvar renameEndParent = 'rename-end-parent';\n/** @hidden */\nvar renameEnd = 'rename-end';\n/** @hidden */\nvar showPaste = 'show-paste';\n/** @hidden */\nvar hidePaste = 'hide-paste';\n/** @hidden */\nvar selectedData = 'selected-data';\n/** @hidden */\nvar cutCopyInit = 'cut-copy-init';\n/** @hidden */\nvar pasteInit = 'paste-init';\n/** @hidden */\nvar pasteEnd = 'paste-end';\n/** @hidden */\nvar cutEnd = 'cut-end';\n/** @hidden */\nvar hideLayout = 'hide-layout';\n/** @hidden */\nvar updateTreeSelection = 'update-tree-selection';\n/** @hidden */\nvar treeSelect = 'select-node';\n/** @hidden */\nvar sortColumn = 'sort-column';\n/** @hidden */\nvar pathColumn = 'path-column';\n/** @hidden */\nvar searchTextChange = 'search-change';\n/** @hidden */\nvar beforeDownload = 'before-download';\n/** @hidden */\nvar downloadInit = 'download-init';\n/** @hidden */\nvar dropInit = 'drop-init';\n/** @hidden */\nvar dragEnd = 'drag-end';\n/** @hidden */\nvar dropPath = 'drop-path';\n/** @hidden */\nvar dragHelper = 'drag-helper';\n/** @hidden */\nvar dragging = 'dragging';\n/** @hidden */\nvar updateSelectionData = 'update-selection-data';\n/** @hidden */\nvar methodCall = 'method-call';\n/** @hidden */\nvar permissionRead = 'read';\n/** @hidden */\nvar permissionEdit = 'write';\n/** @hidden */\nvar permissionEditContents = 'writeContents';\n/** @hidden */\nvar permissionCopy = 'copy';\n/** @hidden */\nvar permissionUpload = 'upload';\n/** @hidden */\nvar permissionDownload = 'download';\n\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction updatePath(node, data, instance) {\n    var text = getValue('name', data);\n    var id = node.getAttribute('data-id');\n    var newText = isNullOrUndefined(id) ? text : id;\n    instance.setProperties({ path: getPath(node, newText, instance.hasId) }, true);\n    instance.pathId = getPathId(node);\n    instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\nfunction getPath(element, text, hasId) {\n    var matched = getParents(element, text, false, hasId);\n    var path = hasId ? '' : '/';\n    var len = matched.length - (hasId ? 1 : 2);\n    for (var i = len; i >= 0; i--) {\n        path += matched[i] + '/';\n    }\n    return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\nfunction getPathId(node) {\n    var matched = getParents(node, node.getAttribute('data-uid'), true);\n    var ids = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        ids.push(matched[i]);\n    }\n    return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\nfunction getPathNames(element, text) {\n    var matched = getParents(element, text, false);\n    var names = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        names.push(matched[i]);\n    }\n    return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\nfunction getParents(element, text, isId, hasId) {\n    var matched = [text];\n    var el = element.parentNode;\n    while (!isNullOrUndefined(el)) {\n        if (matches(el, '.' + LIST_ITEM)) {\n            var parentText = isId ? el.getAttribute('data-uid') : (hasId ? el.getAttribute('data-id') :\n                select('.' + LIST_TEXT, el).textContent);\n            matched.push(parentText);\n        }\n        el = el.parentNode;\n        if (el.classList.contains(TREE_VIEW)) {\n            break;\n        }\n    }\n    return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction generatePath(parent) {\n    var key = parent.hasId ? 'id' : 'name';\n    var newPath = parent.hasId ? '' : '/';\n    var i = parent.hasId ? 0 : 1;\n    for (i; i < parent.pathId.length; i++) {\n        // eslint-disable-next-line\n        var data = getValue(parent.pathId[i], parent.feParent);\n        newPath += getValue(key, data) + '/';\n    }\n    parent.setProperties({ path: newPath }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction removeActive(parent) {\n    if (parent.isCut) {\n        removeBlur(parent);\n        parent.selectedNodes = [];\n        parent.actionRecords = [];\n        parent.enablePaste = false;\n        parent.notify(hidePaste, {});\n    }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\nfunction activeElement(action, parent) {\n    parent.isSearchCut = false;\n    parent.actionRecords = [];\n    parent.activeElements = [];\n    parent.notify(cutCopyInit, {});\n    if (parent.activeElements.length === 0) {\n        return false;\n    }\n    removeBlur(parent);\n    var blurEle = parent.activeElements;\n    if (parent.activeModule !== 'navigationpane') {\n        parent.targetPath = parent.path;\n    }\n    else {\n        parent.targetPath = getParentPath(parent.path);\n    }\n    var i = 0;\n    if (blurEle) {\n        getModule(parent, blurEle[0]);\n        if (action === 'cut') {\n            while (i < blurEle.length) {\n                addBlur(blurEle[i]);\n                i++;\n            }\n        }\n    }\n    i = 0;\n    parent.selectedNodes = [];\n    parent.enablePaste = true;\n    parent.notify(showPaste, {});\n    while (i < parent.activeRecords.length) {\n        parent.actionRecords.push(parent.activeRecords[i]);\n        parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n        i++;\n    }\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) &&\n        parent.activeModule !== 'navigationpane') {\n        parent.selectedNodes = [];\n        parent.isSearchCut = true;\n        var i_1 = 0;\n        while (i_1 < parent.selectedItems.length) {\n            parent.selectedNodes.push(parent.selectedItems[i_1]);\n            i_1++;\n        }\n    }\n    return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\nfunction addBlur(nodes) {\n    nodes.classList.add(BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\nfunction removeBlur(parent, hover) {\n    var blurEle = (!hover) ? parent.element.querySelectorAll('.' + BLUR) :\n        parent.element.querySelectorAll('.' + HOVER);\n    var i = 0;\n    while (i < blurEle.length) {\n        blurEle[i].classList.remove((!hover) ? BLUR : HOVER);\n        i++;\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nfunction getModule(parent, element) {\n    if (element) {\n        if (element.classList.contains(ROW)) {\n            parent.activeModule = 'detailsview';\n        }\n        else if (closest(element, '.' + LARGE_ICON)) {\n            parent.activeModule = 'largeiconsview';\n        }\n        else {\n            parent.activeModule = 'navigationpane';\n        }\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\nfunction searchWordHandler(parent, value, isLayoutChange) {\n    var searchWord;\n    if (value.length === 0 && !parent.isFiltered) {\n        parent.notify(pathColumn, { args: parent });\n    }\n    if (parent.searchSettings.filterType === 'startsWith') {\n        searchWord = value + '*';\n    }\n    else if (parent.searchSettings.filterType === 'endsWith') {\n        searchWord = '*' + value;\n    }\n    else {\n        searchWord = '*' + value + '*';\n    }\n    parent.searchWord = searchWord;\n    parent.itemData = [getPathObject(parent)];\n    if (value.length > 0) {\n        var caseSensitive = parent.searchSettings.ignoreCase;\n        var hiddenItems = parent.showHiddenItems;\n        Search(parent, isLayoutChange ? layoutChange : search, parent.path, searchWord, hiddenItems, !caseSensitive);\n    }\n    else {\n        if (!parent.isFiltered) {\n            if (parent.isSortByClicked) {\n                parent.notify(layoutChange, { files: (parent.oldView === 'Details') ? parent.detailsviewModule.gridObj.dataSource : parent.largeiconsviewModule.items });\n                parent.isSortByClicked = false;\n            }\n            else {\n                read(parent, isLayoutChange ? layoutChange : search, parent.path);\n            }\n        }\n        else {\n            filter(parent, layoutChange);\n        }\n    }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\nfunction updateLayout(parent, view) {\n    parent.oldView = parent.view;\n    parent.setProperties({ view: view }, true);\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n        parent.layoutSelectedItems = parent.selectedItems;\n    }\n    var searchWord = '';\n    if (parent.breadcrumbbarModule.searchObj.element.value) {\n        searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n    }\n    parent.isLayoutChange = true;\n    searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nfunction getTargetModule(parent, element) {\n    var tartgetModule = '';\n    if (element) {\n        if (closest(element, '.' + ROOT + '.' + CONTROL + ' .' + GRID_CONTENT)) {\n            tartgetModule = 'detailsview';\n        }\n        else if (closest(element, '.' + LARGE_ICONS)) {\n            tartgetModule = 'largeiconsview';\n        }\n        else if (element.classList.contains('e-fullrow') ||\n            element.classList.contains('e-icon-expandable')) {\n            tartgetModule = 'navigationpane';\n        }\n        else if (closest(element, '.e-address-list-item')) {\n            tartgetModule = 'breadcrumbbar';\n        }\n        else {\n            tartgetModule = '';\n        }\n    }\n    parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction refresh(parent) {\n    parent.itemData = [getPathObject(parent)];\n    if (!hasReadAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], permissionRead);\n    }\n    else {\n        read(parent, refreshEnd, parent.path);\n    }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openAction(parent) {\n    read(parent, openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\nfunction getPathObject(parent) {\n    return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction copyFiles(parent) {\n    if (!activeElement('copy', parent)) {\n        return;\n    }\n    else {\n        parent.fileAction = 'copy';\n    }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction cutFiles(parent) {\n    if (!activeElement('cut', parent)) {\n        return;\n    }\n    else {\n        parent.isCut = true;\n        parent.fileAction = 'move';\n    }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\nfunction fileType(file) {\n    var isFile$$1 = getValue('isFile', file);\n    if (!isFile$$1) {\n        return FOLDER;\n    }\n    var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n    var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n    var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n    var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc',\n        'xlsx', 'xls', 'xml', 'rtf', 'php'];\n    var filetype = getValue('type', file);\n    filetype = filetype.toLowerCase();\n    if (filetype.indexOf('.') !== -1) {\n        filetype = filetype.split('.').join('');\n    }\n    var iconType;\n    if (imageFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_IMAGE;\n    }\n    else if (audioFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_MUSIC;\n    }\n    else if (videoFormat.indexOf(filetype) !== -1) {\n        iconType = ICON_VIDEO;\n    }\n    else if (knownFormat.indexOf(filetype) !== -1) {\n        iconType = 'e-fe-' + filetype;\n    }\n    else {\n        iconType = 'e-fe-unknown e-fe-' + filetype;\n    }\n    return iconType;\n}\n/* istanbul ignore next */\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nfunction getImageUrl(parent, item) {\n    var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n    var imgUrl;\n    var fileName = encodeURIComponent(getValue('name', item));\n    var fPath = getValue('filterPath', item);\n    if (parent.hasId) {\n        var imgId = getValue('id', item);\n        imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n    }\n    else if (!isNullOrUndefined(fPath)) {\n        imgUrl = baseUrl + '?path=' + encodeURIComponent(fPath.replace(/\\\\/g, '/')) + fileName;\n    }\n    else {\n        imgUrl = baseUrl + '?path=' + parent.path + fileName;\n    }\n    imgUrl = imgUrl + '&time=' + (new Date().getTime()).toString();\n    var eventArgs = {\n        fileDetails: [item],\n        imageUrl: imgUrl\n    };\n    parent.trigger('beforeImageLoad', eventArgs);\n    return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nfunction getFullPath(parent, data, path) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n    if (!isNullOrUndefined(fPath)) {\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return path + filePath;\n    }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\nfunction getName(parent, data) {\n    var name = getValue('name', data);\n    var fPath = getValue('filterPath', data);\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNullOrUndefined(fPath)) {\n        fPath = fPath.replace(/\\\\/g, '/');\n        name = fPath.replace(parent.path, '') + name;\n    }\n    return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getSortedData(parent, items) {\n    if (items.length === 0) {\n        return items;\n    }\n    var query;\n    if (parent.sortOrder !== 'None') {\n        query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n    }\n    else {\n        query = new Query().group('isFile');\n    }\n    // eslint-disable-next-line\n    var lists = new DataManager(items).executeLocal(query);\n    return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getObject(parent, key, value) {\n    // eslint-disable-next-line\n    var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n    var query = new Query().where(key, 'equal', value);\n    // eslint-disable-next-line\n    var lists = new DataManager(currFiles).executeLocal(query);\n    return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\nfunction createEmptyElement(parent, element, args) {\n    var top;\n    var layoutElement = select('#' + parent.element.id + LAYOUT_ID, parent.element);\n    var addressBarHeight = select('#' + parent.element.id + BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n    top = layoutElement.offsetHeight - addressBarHeight;\n    if (parent.view === 'Details') {\n        top = top - select('.' + GRID_HEADER, layoutElement).offsetHeight;\n    }\n    if (isNullOrUndefined(element.querySelector('.' + EMPTY))) {\n        var emptyDiv = createElement('div', { className: EMPTY });\n        var emptyFolder = createElement('div', { className: LARGE_EMPTY_FOLDER });\n        var emptyEle = createElement('div', { className: EMPTY_CONTENT });\n        var dragFile = createElement('div', { className: EMPTY_INNER_CONTENT });\n        if (parent.view === 'Details') {\n            element.querySelector('.' + GRID_VIEW).appendChild(emptyDiv);\n        }\n        else {\n            element.appendChild(emptyDiv);\n        }\n        emptyDiv.appendChild(emptyFolder);\n        emptyDiv.appendChild(emptyEle);\n        emptyDiv.appendChild(dragFile);\n    }\n    if (element.querySelector('.' + EMPTY)) {\n        if (!isNullOrUndefined(args.error)) {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n        }\n        else if (parent.isFiltered) {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n        }\n        else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n        }\n        else {\n            element.querySelector('.' + EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n            element.querySelector('.' + EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n        }\n    }\n    var eDiv = select('.' + EMPTY, element);\n    top = (top - eDiv.offsetHeight) / 2;\n    eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nfunction getDirectories(files) {\n    return new DataManager(files).executeLocal(new Query().where(isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\nfunction setNodeId(result, rootId) {\n    // eslint-disable-next-line\n    var dirs = getDirectories(result.files);\n    for (var i = 0, len = dirs.length; i < len; i++) {\n        setValue('_fm_id', rootId + '_' + i, dirs[i]);\n    }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction setDateObject(args) {\n    for (var i = 0; i < args.length; i++) {\n        setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n        setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n    }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\nfunction getLocaleText(parent, text) {\n    var locale = parent.localeObj.getConstant(text);\n    return (locale === '') ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\nfunction getCssClass(parent, css) {\n    var cssClass = parent.cssClass;\n    cssClass = (isNullOrUndefined(cssClass) || cssClass === '') ? css : (cssClass + ' ' + css);\n    return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\nfunction sortbyClickHandler(parent, args) {\n    var tick;\n    parent.isSortByClicked = true;\n    if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n        tick = true;\n    }\n    else {\n        tick = false;\n    }\n    if (!tick) {\n        parent.sortBy = getSortField(args.item.id);\n    }\n    else {\n        parent.sortOrder = getSortField(args.item.id);\n    }\n    parent.itemData = [getPathObject(parent)];\n    if (parent.view === 'Details') {\n        if (parent.isMobile) {\n            updateLayout(parent, 'Details');\n        }\n        else {\n            parent.notify(sortColumn, { module: 'detailsview' });\n        }\n    }\n    if (parent.view === 'LargeIcons') {\n        updateLayout(parent, 'LargeIcons');\n    }\n    parent.notify(sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\nfunction getSortField(id) {\n    var text = id.substring(id.lastIndexOf('_') + 1);\n    var field = text;\n    switch (text) {\n        case 'date':\n            field = '_fm_modified';\n            break;\n        case 'ascending':\n            field = 'Ascending';\n            break;\n        case 'descending':\n            field = 'Descending';\n            break;\n        case 'none':\n            field = 'None';\n            break;\n    }\n    return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction setNextPath(parent, path) {\n    var currfolders = path.split('/');\n    var folders = parent.originalPath.split('/');\n    // eslint-disable-next-line\n    var root = getValue(parent.pathId[0], parent.feParent);\n    var key = isNullOrUndefined(getValue('id', root)) ? 'name' : 'id';\n    for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n        var eventName = (folders[i + 1] === '') ? finalizeEnd : initialEnd;\n        var newPath = (folders[i] === '') ? '/' : (parent.path + folders[i] + '/');\n        // eslint-disable-next-line\n        var data = getObject(parent, key, folders[i]);\n        var id = getValue('_fm_id', data);\n        parent.setProperties({ path: newPath }, true);\n        parent.pathId.push(id);\n        parent.itemData = [data];\n        parent.pathNames.push(getValue('name', data));\n        read(parent, eventName, parent.path);\n        break;\n    }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction openSearchFolder(parent, data) {\n    parent.notify(clearPathInit, { selectedNode: parent.pathId[parent.pathId.length - 1] });\n    parent.originalPath = getFullPath(parent, data, parent.path);\n    read(parent, (parent.path !== parent.originalPath) ? initialEnd : finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction pasteHandler(parent) {\n    parent.isDragDrop = false;\n    if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n        var path = (parent.folderPath === '') ? parent.path : parent.folderPath;\n        // eslint-disable-next-line\n        var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n        if (!subFolder) {\n            if ((parent.fileAction === 'move' && parent.targetPath !== path) || parent.fileAction === 'copy') {\n                parent.notify(pasteInit, {});\n                paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n            }\n            else {\n                parent.enablePaste = false;\n                parent.notify(hidePaste, {});\n                removeBlur(parent);\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n            }\n        }\n    }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\nfunction validateSubFolder(parent, data, dropPath$$1, dragPath) {\n    var subFolder = false;\n    for (var i = 0; i < data.length; i++) {\n        if (!getValue('isFile', data[i])) {\n            var tempTarget = getFullPath(parent, data[i], dragPath);\n            if (dropPath$$1.indexOf(tempTarget) === 0) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Sub-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n        else {\n            var srcData = parent.dragNodes[i];\n            var len = 0;\n            if (srcData) {\n                len = srcData.lastIndexOf('/');\n            }\n            var path = '';\n            if (len > 0) {\n                path = dragPath + srcData.substring(0, len + 1);\n            }\n            if (path === dropPath$$1) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n    }\n    return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction dropHandler(parent) {\n    parent.isDragDrop = true;\n    if (parent.dragData.length !== 0) {\n        parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n        parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n        var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n        if (!subFolder && (parent.dragPath !== parent.dropPath)) {\n            parent.itemData = [parent.dropData];\n            paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n            parent.notify(pasteInit, {});\n        }\n    }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\nfunction getParentPath(oldPath) {\n    var path = oldPath.split('/');\n    var newPath = path[0] + '/';\n    for (var i = 1; i < path.length - 2; i++) {\n        newPath += path[i] + '/';\n    }\n    return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\nfunction getDirectoryPath(parent, args) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n    if (!isNullOrUndefined(fPath)) {\n        if (fPath === '') {\n            return parent.hasId ? filePath : '/';\n        }\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return parent.path + filePath;\n    }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\nfunction doPasteUpdate(parent, operation, result) {\n    if (operation === 'move') {\n        if (!parent.isDragDrop) {\n            parent.enablePaste = false;\n            parent.notify(hidePaste, {});\n            parent.notify(cutEnd, result);\n        }\n        else {\n            parent.notify(dragEnd, result);\n        }\n    }\n    if (parent.duplicateItems.length === 0) {\n        parent.pasteNodes = [];\n    }\n    var flag = false;\n    for (var count = 0; (count < result.files.length) && !flag; count++) {\n        parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n        if (parent.isDragDrop) {\n            parent.droppedObjects.push(result.files[count]);\n        }\n    }\n    parent.duplicateItems = [];\n    parent.duplicateRecords = [];\n    if (parent.isDragDrop && !parent.isPasteError) {\n        parent.isDropEnd = true;\n    }\n    else {\n        parent.isDropEnd = false;\n    }\n    if (!parent.isDragDrop || (parent.path === parent.dragPath) || (parent.path === parent.dropPath)\n        || parent.isSearchDrag) {\n        parent.isPathDrag = false;\n        read(parent, pasteEnd, parent.path);\n    }\n    else {\n        readDropPath(parent);\n    }\n    parent.trigger('success', { action: operation, result: result });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction readDropPath(parent) {\n    var pathId = getValue('_fm_id', parent.dropData);\n    parent.expandedId = pathId;\n    parent.itemData = [parent.dropData];\n    if (parent.isPathDrag) {\n        parent.notify(pathDrag, parent.itemData);\n    }\n    else {\n        if (parent.navigationpaneModule) {\n            var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n            if (!node) {\n                var liElement = document.querySelector('[data-id = \"' + getValue('id', parent.dropData) + '\"]');\n                pathId = liElement.getAttribute(\"data-uid\");\n                node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n            }\n            updatePath(node, parent.dropData, parent);\n        }\n        read(parent, dropPath, parent.dropPath);\n    }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\nfunction getDuplicateData(parent, name) {\n    // eslint-disable-next-line\n    var data = null;\n    // eslint-disable-next-line\n    var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n    for (var i = 0; i < records.length; i++) {\n        if (getValue('name', records[i]) === name) {\n            data = records[i];\n            break;\n        }\n    }\n    return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction createVirtualDragElement(parent) {\n    parent.isSearchDrag = false;\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n        parent.isSearchDrag = true;\n    }\n    if (parent.activeModule !== 'navigationpane') {\n        parent.dragNodes = [];\n        var i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.dragNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n        if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n            parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n        }\n    }\n    var cloneIcon = parent.createElement('div', {\n        className: 'e-fe-icon ' + fileType(parent.dragData[0])\n    });\n    var cloneName = parent.createElement('div', {\n        className: 'e-fe-name',\n        innerHTML: parent.dragData[0].name\n    });\n    var virtualEle = parent.createElement('div', {\n        className: 'e-fe-content'\n    });\n    virtualEle.appendChild(cloneIcon);\n    virtualEle.appendChild(cloneName);\n    var ele = parent.createElement('div', {\n        className: CLONE\n    });\n    ele.appendChild(virtualEle);\n    if (parent.dragNodes.length > 1) {\n        var badge = parent.createElement('span', {\n            className: 'e-fe-count',\n            innerHTML: (parent.dragNodes.length).toString(10)\n        });\n        ele.appendChild(badge);\n    }\n    parent.virtualDragElement = ele;\n    parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nfunction dragStopHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeDropTarget(parent);\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    removeBlur(parent);\n    parent.uploadObj.dropArea = select('#' + parent.element.id + CONTENT_ID, parent.element);\n    var virtualEle = select('.' + CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n    getTargetModule(parent, args.target);\n    parent.notify(dropInit, args);\n    removeBlur(parent, 'hover');\n    dragArgs.fileDetails = parent.dragData;\n    parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n        if (!dragArgs.cancel && !isNullOrUndefined(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n            dropHandler(parent);\n        }\n        parent.dragCount = 0;\n    });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nfunction dragStartHandler(parent, args, dragObj) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    dragArgs.fileDetails = parent.dragData;\n    parent.dragCount = 0;\n    parent.droppedObjects = [];\n    if (!parent.allowDragAndDrop || ((parent.activeModule === 'navigationpane') &&\n        (closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]))) {\n        dragArgs.cancel = true;\n    }\n    if ((parent.activeModule === 'navigationpane') &&\n        (parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1)) {\n        parent.isPathDrag = true;\n    }\n    else {\n        parent.isPathDrag = false;\n    }\n    removeBlur(parent);\n    if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n    }\n    else if (!dragArgs.cancel) {\n        var i = 0;\n        while (i < parent.activeElements.length) {\n            addBlur(parent.activeElements[i]);\n            i++;\n        }\n        parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n            if (dragArgs.cancel) {\n                dragObj.intDestroy(args.event);\n                dragCancel(parent);\n            }\n            else {\n                parent.uploadObj.dropArea = null;\n            }\n        });\n    }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction dragCancel(parent) {\n    removeBlur(parent);\n    var virtualEle = select('.' + CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction removeDropTarget(parent) {\n    removeItemClass(parent, DROP_FOLDER);\n    removeItemClass(parent, DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\nfunction removeItemClass(parent, value) {\n    var ele = parent.element.querySelectorAll('.' + value);\n    for (var i = 0; i < ele.length; i++) {\n        ele[i].classList.remove(value);\n    }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\nfunction draggingHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.fileDetails = parent.dragData;\n    var canDrop = false;\n    getTargetModule(parent, args.target);\n    removeDropTarget(parent);\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeBlur(parent, 'hover');\n    var node = null;\n    if (parent.targetModule === 'navigationpane') {\n        node = closest(args.target, 'li');\n        node.classList.add(HOVER, DROP_FOLDER);\n        canDrop = true;\n        /* istanbul ignore next */\n        parent.treeExpandTimer = window.setTimeout(function () { parent.notify(dragging, args); }, 800);\n    }\n    else if (parent.targetModule === 'detailsview') {\n        node = closest(args.target, 'tr');\n        if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(DROP_FOLDER);\n        }\n        else if (node && !node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(DROP_FILE);\n        }\n        canDrop = true;\n    }\n    else if (parent.targetModule === 'largeiconsview') {\n        node = closest(args.target, 'li');\n        if (node && node.querySelector('.' + FOLDER) && !node.classList.contains(BLUR)) {\n            node.classList.add(HOVER, DROP_FOLDER);\n        }\n        canDrop = true;\n        /* istanbul ignore next */\n    }\n    else if (parent.targetModule === 'breadcrumbbar') {\n        canDrop = true;\n    }\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n    parent.dragCount = parent.dragCount + 1;\n    parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\nfunction objectToString(data) {\n    var str = '';\n    var keys = Object.keys(data);\n    for (var i = 0; i < keys.length; i++) {\n        if (keys[i] !== 'message') {\n            str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n        }\n    }\n    return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\nfunction getItemName(parent, data) {\n    if (parent.hasId) {\n        return getValue('id', data);\n    }\n    return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction updateRenamingData(parent, data) {\n    parent.itemData = [data];\n    parent.currentItemText = getValue('name', data);\n    parent.isFile = getValue('isFile', data);\n    parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction doRename(parent) {\n    if (!hasEditAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], permissionEdit);\n    }\n    else {\n        createDialog(parent, 'Rename');\n    }\n}\n/* istanbul ignore next */\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction doDownload(parent) {\n    // eslint-disable-next-line\n    var items = parent.itemData;\n    for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n            createDeniedDialog(parent, items[i], permissionDownload);\n            return;\n        }\n    }\n    if (parent.selectedItems.length > 0) {\n        Download(parent, parent.path, parent.selectedItems);\n    }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction doDeleteFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n            createDeniedDialog(parent, data[i], permissionEdit);\n            return;\n        }\n    }\n    parent.itemData = data;\n    Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction doDownloadFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasDownloadAccess(data[i])) {\n            createDeniedDialog(parent, data[i], permissionDownload);\n            return;\n        }\n    }\n    parent.itemData = data;\n    if (newIds.length > 0) {\n        Download(parent, parent.path, newIds);\n    }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction createDeniedDialog(parent, data, action) {\n    var message = getValue('message', getValue('permission', data));\n    if (message === '') {\n        message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n    }\n    var response = {\n        error: {\n            code: '401',\n            fileExists: null,\n            message: message\n        }\n    };\n    createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\nfunction getAccessClass(data) {\n    return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasReadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return (permission && !getValue('read', permission)) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasEditAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('write', permission))) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasContentAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('writeContents', permission))) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasUploadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('upload', permission))) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\nfunction hasDownloadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('download', permission))) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction createNewFolder(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasContentAccess(details)) {\n        createDeniedDialog(parent, details, permissionEditContents);\n    }\n    else {\n        createDialog(parent, 'NewFolder');\n    }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nfunction uploadItem(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasUploadAccess(details)) {\n        createDeniedDialog(parent, details, permissionUpload);\n    }\n    else {\n        var eleId = '#' + parent.element.id + UPLOAD_ID;\n        var uploadEle = document.querySelector(eleId);\n        uploadEle.click();\n    }\n}\n\n/**\n * Function to read the content from given path in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction read(parent, event, path) {\n    // eslint-disable-next-line\n    var itemData = parent.itemData;\n    for (var i = 0; i < itemData.length; i++) {\n        if (isNullOrUndefined(getValue('hasChild', itemData[i]))) {\n            setValue('hasChild', false, itemData[i]);\n        }\n    }\n    // eslint-disable-next-line\n    var data = { action: 'read', path: path, showHiddenItems: parent.showHiddenItems, data: itemData };\n    createAjax(parent, data, readSuccess, event);\n}\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createFolder(parent, itemName) {\n    // eslint-disable-next-line\n    var data = { action: 'create', path: parent.path, name: itemName, data: parent.itemData };\n    createAjax(parent, data, createSuccess, itemName);\n}\n/**\n * Function to filter the files in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string}  event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction filter(parent, event) {\n    // eslint-disable-next-line\n    var data = { action: 'filter', path: parent.path, showHiddenItems: parent.showHiddenItems, data: [getPathObject(parent)] };\n    // eslint-disable-next-line\n    var filterData;\n    // eslint-disable-next-line\n    var filterDataVal = parent.filterData ? extend(filterData, data, parent.filterData) : data;\n    createAjax(parent, filterDataVal, filterSuccess, event, getValue('action', filterDataVal));\n}\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string} itemNewName - specifies the item's new name.\n * @returns {void}\n * @private\n */\nfunction rename(parent, path, itemNewName) {\n    var name;\n    var newName;\n    if (parent.breadcrumbbarModule.searchObj.element.value === '' && !parent.isFiltered) {\n        name = parent.currentItemText;\n        newName = itemNewName;\n    }\n    else {\n        var fPath = parent.filterPath;\n        if (parent.hasId) {\n            name = parent.currentItemText;\n            newName = itemNewName;\n        }\n        else {\n            fPath = fPath.replace(/\\\\/g, '/');\n            name = fPath.replace(path, '') + parent.currentItemText;\n            newName = fPath.replace(path, '') + itemNewName;\n        }\n    }\n    // eslint-disable-next-line\n    var data = {\n        action: 'rename', path: path, name: name, newName: newName, data: parent.itemData\n    };\n    createAjax(parent, data, renameSuccess, path);\n}\n/**\n * Function to paste file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} names - specifies the names.\n * @param {string} targetPath - specifies the target path.\n * @param {string} pasteOperation - specifies the paste operation.\n * @param {string[]} renameItems - specifies the rename items.\n * @param {Object[]} actionRecords - specifies the action records.\n * @returns {void}\n * @private\n */\nfunction paste(parent, path, names, targetPath, pasteOperation, \n// eslint-disable-next-line\nrenameItems, actionRecords) {\n    // eslint-disable-next-line\n    var data = {\n        action: pasteOperation, path: path, targetData: parent.itemData[0],\n        targetPath: targetPath, names: names, renameFiles: renameItems, data: actionRecords\n    };\n    parent.destinationPath = targetPath;\n    createAjax(parent, data, pasteSuccess, path, pasteOperation, targetPath);\n}\n/**\n * Function to delete file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} items - specifies the items.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction Delete(parent, items, path, operation) {\n    // eslint-disable-next-line\n    var data = { action: operation, path: path, names: items, data: parent.itemData };\n    createAjax(parent, data, deleteSuccess, path);\n}\n/* istanbul ignore next */\n/**\n * Function to get details of file's and folder's in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string[]} names - specifies the names.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation data.\n * @returns {void}\n * @private\n */\nfunction GetDetails(parent, names, path, operation) {\n    // eslint-disable-next-line\n    var data = { action: operation, path: path, names: names, data: parent.itemData };\n    createAjax(parent, data, detailsSuccess, path, operation);\n}\n/**\n * Function for createAjax in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {Function} fn - specifies the fn.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the target path.\n * @returns {void}\n * @private\n */\nfunction createAjax(\n// eslint-disable-next-line\nparent, data, fn, event, operation, targetPath) {\n    // eslint-disable-next-line\n    var ajaxSettings = {\n        url: parent.ajaxSettings.url,\n        type: 'POST',\n        mode: true,\n        dataType: 'json',\n        contentType: 'application/json',\n        data: JSON.stringify(data),\n        onSuccess: null,\n        onFailure: null,\n        beforeSend: null\n    };\n    var eventArgs = { action: getValue('action', data), ajaxSettings: ajaxSettings, cancel: false };\n    parent.trigger('beforeSend', eventArgs, function (beforeSendArgs) {\n        if (!beforeSendArgs.cancel) {\n            parent.notify(beforeRequest, {});\n            var ajax = new Ajax({\n                url: getValue('url', beforeSendArgs.ajaxSettings),\n                type: getValue('type', beforeSendArgs.ajaxSettings),\n                mode: getValue('mode', beforeSendArgs.ajaxSettings),\n                dataType: getValue('dataType', beforeSendArgs.ajaxSettings),\n                contentType: getValue('contentType', beforeSendArgs.ajaxSettings),\n                data: getValue('data', beforeSendArgs.ajaxSettings),\n                beforeSend: getValue('beforeSend', beforeSendArgs.ajaxSettings),\n                onSuccess: function (result) {\n                    if (isNullOrUndefined(result)) {\n                        var result_1 = {\n                            error: {\n                                fileExists: null,\n                                message: getLocaleText(parent, 'Server-Error') + ' ' + parent.ajaxSettings.url,\n                                code: '406'\n                            },\n                            files: null\n                        };\n                        triggerAjaxFailure(parent, beforeSendArgs, fn, result_1, event, operation, targetPath);\n                        return;\n                    }\n                    if (typeof (result) === 'string') {\n                        result = JSON.parse(result);\n                    }\n                    parent.notify(afterRequest, { action: 'success' });\n                    var id = parent.expandedId ? parent.expandedId : parent.pathId[parent.pathId.length - 1];\n                    if (!isNullOrUndefined(result.cwd) && (getValue('action', data) === 'read')) {\n                        result.cwd.name = (parent.pathId.length === 1) ? (parent.rootAliasName || result.cwd.name) : result.cwd.name;\n                        setValue('_fm_id', id, result.cwd);\n                        setValue(id, result.cwd, parent.feParent);\n                        if (!isNullOrUndefined(result.files) || result.error.code === '401') {\n                            if ((event === 'finalize-end' || event === 'initial-end') && parent.pathNames.length === 0) {\n                                // eslint-disable-next-line\n                                var root = getValue(parent.pathId[0], parent.feParent);\n                                parent.pathNames[0] = getValue('name', root);\n                                parent.hasId = !isNullOrUndefined(getValue('id', root));\n                            }\n                            if (event === 'finalize-end') {\n                                generatePath(parent);\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(result.files)) {\n                        setDateObject(result.files);\n                        for (var i = 0, len = result.files.length; i < len; i++) {\n                            // eslint-disable-next-line\n                            var item = result.files[i];\n                            setValue('_fm_iconClass', fileType(item), item);\n                        }\n                        if (getValue('action', data) === 'read') {\n                            setNodeId(result, id);\n                            setValue(id, result.files, parent.feFiles);\n                        }\n                    }\n                    if (!isNullOrUndefined(result.details) && !isNullOrUndefined(parent.rootAliasName)) {\n                        var rootName = parent.rootAliasName || getValue('name', result.details);\n                        var location_1 = getValue('location', result.details).replace(new RegExp('/', 'g'), '\\\\');\n                        if ((getValue('path', data) === '/') || (parent.hasId && getValue('path', data).match(/[/]/g).length === 1)) {\n                            if (getValue('names', data).length === 0) {\n                                setValue('name', rootName, result.details);\n                                location_1 = rootName;\n                            }\n                            else {\n                                location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n                            }\n                        }\n                        else {\n                            location_1 = location_1.replace(location_1.substring(0, location_1.indexOf('\\\\')), rootName);\n                        }\n                        setValue('location', location_1, result.details);\n                    }\n                    fn(parent, result, event, operation, targetPath);\n                    if (!isNullOrUndefined(result.files) && (event === 'path-changed' || event === 'finalize-end' || event === 'open-end')) {\n                        parent.notify(searchTextChange, result);\n                    }\n                    if (typeof getValue('onSuccess', beforeSendArgs.ajaxSettings) === 'function') {\n                        getValue('onSuccess', beforeSendArgs.ajaxSettings)();\n                    }\n                },\n                onFailure: function () {\n                    var result = {\n                        files: null,\n                        error: {\n                            code: '404',\n                            message: getLocaleText(parent, 'Network-Error') + ' ' + parent.ajaxSettings.url,\n                            fileExists: null\n                        }\n                    };\n                    triggerAjaxFailure(parent, beforeSendArgs, fn, result, event, operation, targetPath);\n                }\n            });\n            ajax.send();\n        }\n    });\n}\n/**\n * Function for trigger Ajax failure in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {BeforeSendEventArgs} beforeSendArgs - specifies the beforeSendArgs.\n * @param {Function} fn - specifies the function.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} operation - specifies the operation.\n * @param {string} targetPath - specifies the targetPath.\n * @returns {void}\n * @private\n */\nfunction triggerAjaxFailure(\n// eslint-disable-next-line\nparent, beforeSendArgs, fn, result, event, operation, targetPath) {\n    parent.notify(afterRequest, { action: 'failure' });\n    fn(parent, result, event, operation, targetPath);\n    if (typeof getValue('onFailure', beforeSendArgs.ajaxSettings) === 'function') {\n        getValue('onFailure', beforeSendArgs.ajaxSettings)();\n    }\n}\n/**\n * Function for read success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction readSuccess(parent, result, event) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        parent.notify(selectionChanged, {});\n        var args = { action: 'read', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        if (result.error.code === '401') {\n            result.files = [];\n            parent.notify(event, result);\n            parent.notify(selectionChanged, {});\n        }\n        onFailure(parent, result, 'read');\n        parent.setProperties({ path: parent.oldPath }, true);\n        parent.pathNames.pop();\n    }\n    if (parent.isDragDrop && parent.isDropEnd) {\n        if (parent.droppedObjects.length !== 0) {\n            var args = { fileDetails: parent.droppedObjects };\n            parent.trigger('fileDropped', args);\n        }\n        parent.isDropEnd = parent.isDragDrop = false;\n    }\n}\n/**\n * Function for filter success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction filterSuccess(parent, result, event, action) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        var args = { action: action, result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, action);\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for create success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} itemName - specifies the item name.\n * @returns {void}\n * @private\n */\nfunction createSuccess(parent, result, itemName) {\n    if (!isNullOrUndefined(result.files)) {\n        if (parent.dialogObj && parent.dialogObj.visible) {\n            parent.dialogObj.hide();\n        }\n        parent.createdItem = result.files[0];\n        parent.breadcrumbbarModule.searchObj.value = '';\n        var args = { action: 'create', result: result };\n        parent.trigger('success', args);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, createEnd, parent.path);\n    }\n    else {\n        if (result.error.code === '400') {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                var ele = select('#newname', parent.dialogObj.element);\n                var error = getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + ele.value + '\"');\n                ele.parentElement.nextElementSibling.innerHTML = error;\n            }\n            else {\n                var result_2 = {\n                    files: null,\n                    error: {\n                        code: '400',\n                        message: getLocaleText(parent, 'Validation-NewFolder-Exists').replace('{0}', '\"' + itemName + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result_2);\n            }\n            var args = { action: 'create', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (parent.dialogObj && parent.dialogObj.visible) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'create');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to rename the folder/file in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path\n * @returns {void}\n * @private\n */\nfunction renameSuccess(parent, result, path) {\n    if (!isNullOrUndefined(result.files)) {\n        if (!isNullOrUndefined(parent.dialogObj)) {\n            parent.dialogObj.hide();\n        }\n        var args = { action: 'rename', result: result };\n        parent.trigger('success', args);\n        parent.renamedItem = result.files[0];\n        if (parent.activeModule === 'navigationpane') {\n            parent.pathId.pop();\n            parent.itemData = [getValue(parent.pathId[parent.pathId.length - 1], parent.feParent)];\n            read(parent, renameEndParent, getParentPath(parent.path));\n        }\n        else {\n            parent.itemData = [getPathObject(parent)];\n            if (parent.breadcrumbbarModule.searchObj.value !== '') {\n                Search(parent, renameEnd, parent.path, parent.searchWord, parent.showHiddenItems, !parent.searchSettings.ignoreCase);\n            }\n            else {\n                if (parent.isFiltered) {\n                    filter(parent, renameEnd);\n                }\n                else {\n                    read(parent, renameEnd, parent.path);\n                }\n            }\n        }\n    }\n    else {\n        if (result.error.code === '400' && parent.dialogObj && parent.dialogObj.visible) {\n            var ele = select('#rename', parent.dialogObj.element);\n            var error = getLocaleText(parent, 'Validation-Rename-Exists').replace('{0}', '\"' + parent.currentItemText + '\"');\n            error = error.replace('{1}', '\"' + ele.value + '\"');\n            ele.parentElement.nextElementSibling.innerHTML = error;\n            var args = { action: 'rename', error: result.error };\n            parent.trigger('failure', args);\n        }\n        else {\n            if (!isNullOrUndefined(parent.dialogObj)) {\n                parent.dialogObj.hide();\n            }\n            onFailure(parent, result, 'rename');\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n * Function to create new folder in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction pasteSuccess(parent, result, path, operation) {\n    if (result.error && result.error.fileExists) {\n        parent.fileLength = 0;\n        if (!isNullOrUndefined(result.files)) {\n            parent.isPasteError = true;\n            doPasteUpdate(parent, operation, result);\n        }\n        createExtDialog(parent, 'DuplicateItems', result.error.fileExists);\n        if (result.error.code === '404') {\n            createDialog(parent, 'Error', result);\n        }\n    }\n    else if (!result.error && !isNullOrUndefined(result.files)) {\n        parent.isPasteError = false;\n        doPasteUpdate(parent, operation, result);\n    }\n    else if (result.error && !isNullOrUndefined(result.files)) {\n        parent.isPasteError = true;\n        doPasteUpdate(parent, operation, result);\n        createDialog(parent, 'Error', result);\n    }\n    else {\n        onFailure(parent, result, operation);\n    }\n}\n/**\n * Function to delete success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nfunction deleteSuccess(parent, result, path) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.setProperties({ path: path }, true);\n        parent.itemData = [getPathObject(parent)];\n        read(parent, deleteEnd, parent.path);\n        if (result.error) {\n            onFailure(parent, result, 'delete');\n        }\n        else {\n            var args = { action: 'delete', result: result };\n            parent.trigger('success', args);\n        }\n    }\n    else {\n        onFailure(parent, result, 'delete');\n    }\n}\n/**\n * Function for details success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} path - specifies the path.\n * @param {string} operation - specifies the operation.\n * @returns {void}\n * @private\n */\nfunction detailsSuccess(\n// eslint:disable-next-line\nparent, result, path, operation) {\n    if (!isNullOrUndefined(result.details)) {\n        createDialog(parent, operation, null, result.details);\n        var args = { action: 'details', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'details');\n    }\n}\n/**\n * Function for on failure event in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} action - specifies the action.\n * @returns {void}\n * @private\n */\nfunction onFailure(parent, result, action) {\n    createDialog(parent, 'Error', result);\n    var args = { action: action, error: result.error };\n    parent.trigger('failure', args);\n}\n/**\n * Function for search in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} event - specifies the event.\n * @param {string} path - specifies the path.\n * @param {string} searchString - specifies the search string.\n * @param {boolean} showHiddenItems - specifies the hidden items.\n * @param {boolean} caseSensitive - specifies the casing of search text.\n * @returns {void}\n * @private\n */\nfunction Search(\n// eslint:disable-next-line\nparent, event, path, searchString, showHiddenItems, caseSensitive) {\n    // eslint-disable-next-line\n    var data = {\n        action: 'search', path: path, searchString: searchString, showHiddenItems: showHiddenItems, caseSensitive: caseSensitive,\n        data: parent.itemData\n    };\n    createAjax(parent, data, searchSuccess, event);\n}\n/* istanbul ignore next */\n/**\n * Function for search success in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {ReadArgs} result - specifies the result.\n * @param {string} event - specifies the event.\n * @returns {void}\n * @private\n */\nfunction searchSuccess(parent, result, event) {\n    if (!isNullOrUndefined(result.files)) {\n        parent.notify(event, result);\n        var args = { action: 'search', result: result };\n        parent.trigger('success', args);\n    }\n    else {\n        onFailure(parent, result, 'search');\n    }\n}\n/* istanbul ignore next */\n/**\n * Function for download in File Manager.\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @param {string[]} items - specifies the items.\n * @returns {void}\n * @private\n */\nfunction Download(parent, path, items) {\n    var downloadUrl = parent.ajaxSettings.downloadUrl ? parent.ajaxSettings.downloadUrl : parent.ajaxSettings.url;\n    // eslint-disable-next-line\n    var data = { 'action': 'download', 'path': path, 'names': items, 'data': parent.itemData };\n    var eventArgs = { data: data, cancel: false };\n    parent.trigger('beforeDownload', eventArgs, function (downloadArgs) {\n        if (!downloadArgs.cancel) {\n            var form = createElement('form', {\n                id: parent.element.id + '_downloadForm',\n                attrs: { action: downloadUrl, method: 'post', name: 'downloadForm', 'download': '' }\n            });\n            var input = createElement('input', {\n                id: parent.element.id + '_hiddenForm',\n                attrs: { name: 'downloadInput', value: JSON.stringify(downloadArgs.data), type: 'hidden' }\n            });\n            form.appendChild(input);\n            parent.element.appendChild(form);\n            document.forms.namedItem('downloadForm').submit();\n            parent.element.removeChild(form);\n        }\n    });\n}\n\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\nfunction createDialog(parent, text, e, details, replaceItems) {\n    var options = getOptions(parent, text, e, details, replaceItems);\n    if (isNullOrUndefined(parent.dialogObj)) {\n        parent.dialogObj = new Dialog({\n            beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n            },\n            header: options.header,\n            content: options.content,\n            buttons: options.buttons,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            allowDragging: true,\n            isModal: true,\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            width: '350px',\n            open: options.open,\n            close: options.close,\n            enableRtl: parent.enableRtl,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.dialogObj.isStringTemplate = true;\n        parent.dialogObj.appendTo('#' + parent.element.id + DIALOG_ID);\n    }\n    else {\n        changeOptions(parent, options);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\nfunction createExtDialog(parent, text, replaceItems, newPath) {\n    var extOptions = getExtOptions(parent, text, replaceItems, newPath);\n    parent.isApplySame = false;\n    if (isNullOrUndefined(parent.extDialogObj)) {\n        parent.extDialogObj = new Dialog({\n            beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n            },\n            content: extOptions.content,\n            header: extOptions.header,\n            closeOnEscape: true,\n            allowDragging: true,\n            animationSettings: { effect: 'None' },\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            enableRtl: parent.enableRtl,\n            showCloseIcon: true,\n            isModal: true,\n            width: 350,\n            buttons: extOptions.buttons,\n            open: extOptions.open,\n            close: extOptions.close,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.extDialogObj.isStringTemplate = true;\n        parent.extDialogObj.appendTo('#' + parent.element.id + EXTN_DIALOG_ID);\n    }\n    else {\n        parent.extDialogObj.header = extOptions.header;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.open = extOptions.open;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.content = extOptions.content;\n        parent.extDialogObj.buttons = extOptions.buttons;\n        parent.extDialogObj.enableRtl = parent.enableRtl;\n        parent.extDialogObj.locale = parent.locale;\n        parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n        parent.extDialogObj.beforeClose = function (args) {\n            triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n        };\n        parent.extDialogObj.dataBind();\n        parent.extDialogObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n    var eventArgs = {\n        cancel: args.cancel, popupName: dialogName, popupModule: dlgModule\n    };\n    parent.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n        args.cancel = eventargs.cancel;\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n    var eventArgs = {\n        cancel: args.cancel, popupModule: dlgModule, popupName: dialogName\n    };\n    parent.trigger('beforePopupClose', eventArgs, function (eventargs) {\n        args.cancel = eventargs.cancel;\n        if (!args.cancel && args.isInteracted && ((dialogName === 'Rename') || (dialogName === 'Create Folder'))) {\n            parent.trigger(actionFailure, {});\n        }\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n    var args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n    var args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupClose', args);\n}\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n    var options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    var duplicateContent;\n    var item;\n    var index;\n    options.open = function () { triggerPopupOpen(parent, parent.extDialogObj, options.dialogName); };\n    options.close = function () { triggerPopupClose(parent, parent.extDialogObj, options.dialogName); };\n    switch (text) {\n        case 'Extension':\n            options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n            options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n            options.buttons = [{\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function () {\n                        parent.extDialogObj.hide();\n                        rename(parent, newPath, parent.renameText);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.extDialogObj.hide();\n                        parent.dialogObj.hide();\n                    }\n                }];\n            options.dialogName = 'Extension Change';\n            break;\n        case 'DuplicateItems':\n            options.dialogName = 'Duplicate Items';\n            parent.replaceItems = replaceItems;\n            item = parent.replaceItems[parent.fileLength];\n            index = item.lastIndexOf('/');\n            item = index === -1 ? item : item.substring(index);\n            options.header = getLocaleText(parent, 'Header-Duplicate');\n            duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n            options.content = (duplicateContent).replace('{0}', item);\n            options.close = function () {\n                if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n                    var args = { fileDetails: parent.droppedObjects };\n                    parent.trigger('fileDropped', args);\n                    parent.isDropEnd = parent.isDragDrop = false;\n                }\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function () {\n                        parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n                        parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            var item_1 = parent.replaceItems[parent.fileLength];\n                            var indexval = item_1.lastIndexOf('/');\n                            item_1 = indexval === -1 ? item_1 : item_1.substring(indexval);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item_1);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                            var path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                parent.folderPath);\n                            var action = parent.isDragDrop ? 'move' : parent.fileAction;\n                            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                        }\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            var item_2 = parent.replaceItems[parent.fileLength];\n                            var ind = item_2.lastIndexOf('/');\n                            item_2 = ind === -1 ? item_2 : item_2.substring(ind);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item_2);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            if (parent.duplicateItems.length !== 0) {\n                                var action = parent.isDragDrop ? 'move' : parent.fileAction;\n                                var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                                var path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                    parent.folderPath);\n                                paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                            }\n                        }\n                    }\n                }\n            ];\n            break;\n        case 'UploadRetry':\n            options.dialogName = 'Retry Upload';\n            options.header = getLocaleText(parent, 'Header-Retry');\n            options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' +\n                (getLocaleText(parent, 'Content-Retry')) + '</div>';\n            options.open = onRetryOpen.bind(this, parent);\n            options.close = function () {\n                parent.isRetryOpened = false;\n                retryDlgClose(parent);\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Keep-Both') },\n                    click: function () {\n                        retryDlgUpdate(parent, true);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Replace') },\n                    click: function () {\n                        retryDlgUpdate(parent, false);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Skip') },\n                    click: function () {\n                        var count = 0;\n                        if (parent.isApplySame) {\n                            count = parent.retryFiles.length;\n                            parent.retryFiles = [];\n                            retryDlgClose(parent);\n                        }\n                        else {\n                            count = 1;\n                            parent.retryFiles.splice(0, 1);\n                            if (parent.retryFiles.length !== 0) {\n                                createExtDialog(parent, 'UploadRetry');\n                            }\n                            else {\n                                retryDlgClose(parent);\n                            }\n                        }\n                        parent.notify(skipUpload, { count: count });\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\nfunction retryDlgUpdate(parent, isKeepBoth) {\n    if (parent.isApplySame) {\n        if (isKeepBoth) {\n            onKeepBothAll(parent);\n        }\n        else {\n            onReplaceAll(parent);\n        }\n        retryDlgClose(parent);\n    }\n    else {\n        parent.retryArgs.push({\n            action: isKeepBoth ? 'keepboth' : 'replace',\n            file: parent.retryFiles[0]\n        });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n        if (parent.retryFiles.length !== 0) {\n            createExtDialog(parent, 'UploadRetry');\n        }\n        else {\n            retryDlgClose(parent);\n        }\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction retryDlgClose(parent) {\n    var flag = true;\n    if (parent.isRetryOpened) {\n        parent.isRetryOpened = false;\n    }\n    else {\n        flag = false;\n    }\n    var ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n    if (ele) {\n        remove(ele);\n    }\n    if (flag) {\n        parent.extDialogObj.hide();\n    }\n    else {\n        parent.retryFiles = [];\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction onRetryOpen(parent, args) {\n    parent.isRetryOpened = true;\n    var dialogEle = getValue('element', args);\n    var container = select('.e-dlg-content', dialogEle);\n    var checkContainer = parent.createElement('div', {\n        className: 'e-dlg-checkbox'\n    });\n    var checkbox = parent.createElement('input', {\n        id: parent.element.id + '_applyall'\n    });\n    checkContainer.appendChild(checkbox);\n    container.appendChild(checkContainer);\n    var checkBoxObj = new CheckBox({\n        label: getLocaleText(parent, 'ApplyAll-Label'),\n        change: function (args) {\n            parent.isApplySame = args.checked;\n        }\n    });\n    checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n    triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onKeepBothAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'keepboth', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReplaceAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'replace', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction focusInput(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    ele.focus();\n    ele.value = '';\n    var len = ele.value.length;\n    ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onFolderDialogOpen(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n    }\n    ele.parentElement.nextElementSibling.innerHTML = '';\n    ele.oninput = function () {\n        onValidate(parent, ele);\n    };\n    ele.onkeyup = function (e) {\n        var code = getKeyCode(e);\n        if (code === 13) {\n            onSubmit(parent);\n        }\n    };\n    focusInput(parent);\n    triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onRenameDialogOpen(parent) {\n    var inputEle = select('#rename', parent.dialogObj.element);\n    if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n    }\n    inputEle.parentElement.nextElementSibling.innerHTML = '';\n    inputEle.oninput = function () {\n        onValidate(parent, inputEle);\n    };\n    inputEle.onkeyup = function (e) {\n        var code = getKeyCode(e);\n        if (code === 13) {\n            onReSubmit(parent);\n        }\n    };\n    onFocusRenameInput(parent, inputEle);\n    triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onFocusRenameInput(parent, inputEle) {\n    inputEle.focus();\n    var txt = '';\n    if (parent.isFile && !parent.showFileExtension) {\n        var index = parent.currentItemText.lastIndexOf('.');\n        txt = (index === -1) ? parent.currentItemText : parent.currentItemText.substring(0, index);\n    }\n    else {\n        txt = parent.currentItemText;\n    }\n    inputEle.value = txt;\n    if (parent.isFile && parent.showFileExtension && (inputEle.value.indexOf('.') !== -1)) {\n        inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n    }\n    else {\n        inputEle.setSelectionRange(0, inputEle.value.length);\n    }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\nfunction createInput(ele, placeholder) {\n    Input.createInput({\n        element: ele,\n        properties: {\n            placeholder: placeholder\n        }\n    });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\nfunction getOptions(parent, text, e, details, replaceItems) {\n    var options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    var permission;\n    var formattedString;\n    var intl;\n    var strArr;\n    var fileType$$1;\n    var location;\n    options.open = function () { triggerPopupOpen(parent, parent.dialogObj, options.dialogName); };\n    options.close = function () { triggerPopupClose(parent, parent.dialogObj, options.dialogName); };\n    text = (details && details.multipleFiles === true) ? 'MultipleFileDetails' : text;\n    switch (text) {\n        case 'NewFolder':\n            options.dialogName = 'Create Folder';\n            options.header = getLocaleText(parent, 'Header-NewFolder');\n            options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Create') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onFolderDialogOpen.bind(this, parent);\n            break;\n        case 'Delete':\n            options.dialogName = 'Delete';\n            if (parent.selectedItems.length > 1) {\n                options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>')\n                    .replace('{0}', parent.selectedItems.length.toString());\n                options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n            }\n            else {\n                options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n                options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n            }\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function (e) {\n                        onDeleteSubmit(parent);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Rename':\n            options.dialogName = 'Rename';\n            options.header = getLocaleText(parent, 'Header-Rename');\n            options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Save') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onReSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onRenameDialogOpen.bind(this, parent);\n            break;\n        case 'details':\n            options.dialogName = 'File Details';\n            intl = new Internationalization(parent.locale);\n            formattedString = intl.formatDate(new Date(details.modified), { format: 'MMMM dd, yyyy HH:mm:ss' });\n            permission = '';\n            if (!isNullOrUndefined(details.permission)) {\n                permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + VALUE + '\" >'\n                    + objectToString(details.permission) + '</td></tr>';\n            }\n            options.header = details.name;\n            options.content = '<table>' +\n                '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + VALUE + '\" title=\"' +\n                (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + VALUE + '\" title =\"' +\n                details.size + '\">' + details.size + '</span></td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + VALUE + '\" title=\"' +\n                details.location + '\">' + details.location + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + VALUE + '\" >'\n                + formattedString + '</td></tr>'\n                + permission + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'MultipleFileDetails':\n            var index_1;\n            options.dialogName = 'File Details';\n            strArr = parent.itemData.map(function (val) {\n                index_1 = val.name.indexOf('.') + 1;\n                return (index_1 === 0 && (!val.isFile)) ? 'Folder' : ((index_1 !== 0) ? val.name.substr(index_1).replace(' ', '') : 'undetermined');\n            });\n            if (strArr[0] == undefined) {\n                strArr = details.name.split(',').map(function (val) {\n                    index_1 = val.indexOf('.') + 1;\n                    return (index_1 === 0) ? 'Folder' : val.substr(index_1).replace(' ', '');\n                });\n            }\n            fileType$$1 = strArr.every(function (val, i, arr) { return val === arr[0]; }) ?\n                ((strArr[0] === 'Folder') ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type') : 'Multiple Types';\n            location = details.location;\n            options.header = details.name;\n            options.content = '<table><tr><td>' + getLocaleText(parent, 'Type')\n                + ':</td><td class=\"' + VALUE + '\">' + fileType$$1 + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' +\n                details.size + '<span class=\"' + VALUE + '\" title =\"' + details.size\n                + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') +\n                ':</td><td class=\"' + VALUE + '\" title=\"' + location + '\">'\n                + location + '</td></tr>' + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Error':\n            parent.notify(actionFailure, {});\n            options.dialogName = 'Error';\n            if (e.error.code === '401') {\n                options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' +\n                    getLocaleText(parent, 'Access-Denied') + '</div>';\n            }\n            else {\n                options.header = getLocaleText(parent, 'Error');\n            }\n            options.content = '<div class=\"' + ERROR_CONTENT + '\">' + e.error.message + '</div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction keydownAction(parent, dialogName, args) {\n    var btnElement = selectAll('.e-btn', parent.dialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction beforeExtOpen(parent, dlgName, args) {\n    var btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\nfunction preventKeydown(btnElement) {\n    var _loop_1 = function (btnCount) {\n        btnElement[btnCount].onkeydown = function (e) {\n            if (e.keyCode === 13) {\n                e.preventDefault();\n            }\n        };\n        btnElement[btnCount].onkeyup = function (e) {\n            if (e.keyCode === 13) {\n                btnElement[btnCount].click();\n            }\n        };\n    };\n    for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n        _loop_1(btnCount);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\nfunction changeOptions(parent, options) {\n    parent.dialogObj.header = options.header;\n    parent.dialogObj.content = options.content;\n    parent.dialogObj.buttons = options.buttons;\n    parent.dialogObj.enableRtl = parent.enableRtl;\n    parent.dialogObj.open = options.open;\n    parent.dialogObj.close = options.close;\n    parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n    parent.dialogObj.beforeClose = function (args) {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n    };\n    parent.dialogObj.dataBind();\n    parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onSubmit(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReSubmit(parent) {\n    var ele = select('#rename', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    var text = ele.value;\n    var oIndex = parent.currentItemText.lastIndexOf('.');\n    if (parent.isFile && !parent.showFileExtension) {\n        var extn = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        text += extn;\n    }\n    parent.renameText = text;\n    if (parent.currentItemText === text) {\n        parent.dialogObj.hide();\n        return;\n    }\n    var newPath = (parent.activeModule === 'navigationpane') ? getParentPath(parent.path) : parent.path;\n    parent.renamedId = getValue('id', parent.itemData[0]);\n    if (parent.isFile) {\n        var oldExtension = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        var nIndex = text.lastIndexOf('.');\n        var newExtension = (nIndex === -1) ? '' : text.substr(nIndex);\n        if (parent.showFileExtension && oldExtension !== newExtension) {\n            createExtDialog(parent, 'Extension', null, newPath);\n        }\n        else {\n            rename(parent, newPath, text);\n        }\n    }\n    else {\n        rename(parent, newPath, text);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onDeleteSubmit(parent) {\n    parent.dialogObj.hide();\n    parent.notify(deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onValidate(parent, ele) {\n    if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n        addInvalid(parent, ele);\n    }\n    else if (ele.value === '') {\n        ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = '';\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onSubmitValidate(parent, ele) {\n    onValidate(parent, ele);\n    var len = ele.value.length - 1;\n    if (ele.value !== '' && ((ele.value.lastIndexOf('.') === len) || (ele.value.lastIndexOf(' ') === len)) &&\n        (parent.showFileExtension || (parent.currentItemText.lastIndexOf('.') === -1))) {\n        addInvalid(parent, ele);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction addInvalid(parent, ele) {\n    var error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n    if (parent.enableHtmlSanitizer) {\n        ele.parentElement.nextElementSibling.textContent = error;\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = error;\n    }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\nfunction getKeyCode(e) {\n    var code;\n    if (e.keyCode) {\n        code = e.keyCode;\n    }\n    else if (e.which) {\n        code = e.which;\n    }\n    else {\n        code = e.charCode;\n    }\n    return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\nfunction createImageDialog(parent, header, imageUrl) {\n    var content = createElement('div', { className: 'e-image-wrap' });\n    var image = createElement('img', { className: 'e-image', attrs: { src: imageUrl, alt: header } });\n    content.appendChild(image);\n    if (isNullOrUndefined(parent.viewerObj)) {\n        parent.viewerObj = new Dialog({\n            header: header,\n            content: content,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            isModal: true,\n            width: '350px',\n            height: '350px',\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? MOB_POPUP : ROOT_POPUP),\n            locale: parent.locale,\n            enableResize: true,\n            allowDragging: true,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: parent.enableRtl,\n            open: openImage.bind(this, parent),\n            close: function () { triggerPopupClose(parent, parent.viewerObj, 'Image Preview'); },\n            beforeOpen: function (args) {\n                triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            resizing: updateImage.bind(this, parent),\n            resizeStop: updateImage.bind(this, parent)\n        });\n        parent.viewerObj.isStringTemplate = true;\n        parent.viewerObj.appendTo('#' + parent.element.id + IMG_DIALOG_ID);\n    }\n    else {\n        parent.viewerObj.refresh();\n        parent.viewerObj.header = header;\n        parent.viewerObj.content = content;\n        parent.viewerObj.enableRtl = parent.enableRtl;\n        parent.viewerObj.dataBind();\n        parent.viewerObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openImage(parent) {\n    setTimeout(function () {\n        if (parent.viewerObj) {\n            parent.viewerObj.element.focus();\n        }\n    });\n    updateImage(parent);\n    triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction updateImage(parent) {\n    var content = select('.e-dlg-content', parent.viewerObj.element);\n    var imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n    var cssObj = window.getComputedStyle(content, null);\n    var paddingWidth = cssObj ? (2 * parseFloat(cssObj.paddingRight)) : 36;\n    var paddingHeight = cssObj ? (2 * parseFloat(cssObj.paddingBottom)) : 20;\n    imgWrap.style.width = (content.offsetWidth - paddingWidth) + 'px';\n    imgWrap.style.height = (content.offsetHeight - paddingHeight) + 'px';\n}\n\n/**\n * File Manager common operations\n */\n\n/**\n * LargeIconsView module\n */\nvar LargeIconsView = /** @__PURE__ @class */ (function () {\n    /**\n     * Constructor for the LargeIcons module.\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    function LargeIconsView(parent) {\n        this.isInteraction = true;\n        this.uploadOperation = false;\n        this.count = 0;\n        this.isRendered = true;\n        this.tapCount = 0;\n        this.isPasteOperation = false;\n        this.isInteracted = true;\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n        addClass([this.element], LARGE_ICONS);\n        this.addEventListener();\n        this.keyConfigs = {\n            end: 'end',\n            home: 'home',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            ctrlUp: 'ctrl+uparrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftLeft: 'shift+leftarrow',\n            shiftRight: 'shift+rightarrow',\n            shiftUp: 'shift+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csLeft: 'ctrl+shift+leftarrow',\n            csRight: 'ctrl+shift+rightarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            ctrlA: 'ctrl+a',\n            enter: 'enter',\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            f2: 'f2',\n            shiftdel: 'shift+delete',\n            back: 'backspace',\n            ctrlD: 'ctrl+d'\n        };\n    }\n    LargeIconsView.prototype.render = function (args) {\n        this.parent.visitedItem = null;\n        this.startItem = null;\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'LargeIcons') {\n            this.resetMultiSelect();\n            this.element.setAttribute('tabindex', '0');\n            if (this.listObj) {\n                this.unWireEvents();\n                this.removeEventListener();\n            }\n            this.parent.notify(hideLayout, {});\n            var iconsView = select('#' + this.parent.element.id + LARGEICON_ID, this.parent.element);\n            var ul = select('ul', iconsView);\n            if (ul) {\n                remove(ul);\n            }\n            this.listObj = {\n                ariaAttributes: {\n                    itemRole: 'option', listRole: 'listbox', itemText: '',\n                    groupItemRole: 'group', wrapperRole: ''\n                },\n                showIcon: true,\n                fields: { text: 'name', iconCss: '_fm_icon', imageUrl: '_fm_imageUrl', htmlAttributes: '_fm_htmlAttr' },\n                sortOrder: this.parent.sortOrder,\n                itemCreated: this.onItemCreated.bind(this),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer\n            };\n            this.items = [];\n            this.items = this.renderList(args);\n            this.items = getSortedData(this.parent, this.items);\n            // eslint-disable-next-line\n            this.listElements = ListBase.createListFromJson(createElement, this.items, this.listObj);\n            this.itemList = Array.prototype.slice.call(selectAll('.' + LIST_ITEM, this.listElements));\n            this.element.appendChild(this.listElements);\n            this.preventImgDrag();\n            this.createDragObj();\n            iconsView.classList.remove(DISPLAY_NONE);\n            if (this.itemList.length === 0) {\n                var emptyList = this.element.querySelector('.' + LIST_PARENT);\n                this.element.removeChild(emptyList);\n                createEmptyElement(this.parent, this.element, args);\n            }\n            else if (this.itemList.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n                this.element.removeChild(this.element.querySelector('.' + EMPTY));\n            }\n            if (this.isPasteOperation === true) {\n                this.selectItems(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            /* istanbul ignore next */\n            if (this.uploadOperation === true) {\n                this.selectItems(this.parent.uploadItem);\n                this.parent.setProperties({ selectedItems: [] }, true);\n                this.count++;\n                if (this.count === this.parent.uploadItem.length) {\n                    this.uploadOperation = false;\n                    this.parent.uploadItem = [];\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            if (activeEle.length !== 0) {\n                this.parent.activeModule = 'largeiconsview';\n            }\n            for (var i = 0; i < activeEle.length; i++) {\n                activeEle[i].setAttribute('aria-selected', 'true');\n            }\n            this.adjustHeight();\n            this.element.style.maxHeight = '100%';\n            this.getItemCount();\n            this.addEventListener();\n            this.wireEvents();\n            this.isRendered = true;\n            hideSpinner(this.parent.element);\n            if (this.parent.selectedItems.length) {\n                this.checkItem();\n            }\n        }\n    };\n    LargeIconsView.prototype.preventImgDrag = function () {\n        var i = 0;\n        while (i < this.itemList.length) {\n            if (this.itemList[i].querySelector('img')) {\n                /* istanbul ignore next */\n                this.itemList[i].ondragstart = function () { return false; };\n            }\n            i++;\n        }\n    };\n    LargeIconsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.listObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.listElements, {\n                    enableTailMode: true,\n                    distance: 5,\n                    enableAutoScroll: true,\n                    dragTarget: '.' + LARGE_ICON,\n                    helper: this.dragHelper.bind(this),\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragArea: this.parent.element,\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    drag: draggingHandler.bind(this, this.parent),\n                    clone: true,\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    }\n                });\n            }\n            else if (this.dragObj && !this.parent.allowDragAndDrop) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = closest(dragTarget, '.e-list-item');\n        if (!dragLi) {\n            return null;\n        }\n        if (dragLi && !dragLi.classList.contains('e-active')) {\n            this.setFocus(dragLi);\n        }\n        var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        for (var i = 0; i < activeEle.length; i++) {\n            // eslint-disable-next-line\n            this.parent.dragData.push(this.getItemObject(activeEle[i]));\n            this.parent.activeElements.push(activeEle[i]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.dragPath = this.parent.path;\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    LargeIconsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var dropLi = closest(args.target, '.e-list-item');\n            // eslint-disable-next-line\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (dropLi) {\n                // eslint-disable-next-line\n                var info = this.getItemObject(dropLi);\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n            else {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    LargeIconsView.prototype.getModuleName = function () {\n        return 'largeiconsview';\n    };\n    LargeIconsView.prototype.adjustHeight = function () {\n        var pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n        this.element.style.height = (pane.offsetHeight - bar.offsetHeight) + 'px';\n    };\n    LargeIconsView.prototype.onItemCreated = function (args) {\n        args.item.removeAttribute('aria-level');\n        if (!this.parent.showFileExtension && getValue('isFile', args.curData)) {\n            var textEle = args.item.querySelector('.' + LIST_TEXT);\n            var txt = getValue('name', args.curData);\n            var type = getValue('type', args.curData);\n            textEle.innerHTML = txt.substr(0, txt.length - type.length);\n        }\n        this.renderCheckbox(args);\n        var eventArgs = {\n            element: args.item,\n            fileDetails: args.curData,\n            module: 'LargeIconsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    LargeIconsView.prototype.renderCheckbox = function (args) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        var checkElement = createCheckBox(createElement, false, {\n            checked: false,\n            cssClass: 'e-small'\n        });\n        checkElement.setAttribute('role', 'checkbox');\n        checkElement.setAttribute('aria-checked', 'false');\n        args.item.firstElementChild.insertBefore(checkElement, args.item.firstElementChild.childNodes[0]);\n    };\n    LargeIconsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.destroy();\n            this.render(args);\n            /* istanbul ignore next */\n            if (getValue('name', args) === 'layout-change' && this.parent.fileAction === 'move' &&\n                this.parent.isCut && this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n                var indexes = this.getIndexes(this.parent.selectedNodes);\n                var length_1 = 0;\n                while (length_1 < indexes.length) {\n                    addBlur(this.itemList[indexes[length_1]]);\n                    length_1++;\n                }\n            }\n            var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            if (activeEle.length !== 0) {\n                this.element.focus();\n            }\n            this.checkItem();\n            this.parent.isLayoutChange = false;\n        }\n        else {\n            this.element.setAttribute('tabindex', '-1');\n        }\n    };\n    LargeIconsView.prototype.checkItem = function () {\n        var checkEle = this.element.querySelectorAll('.' + ACTIVE);\n        if (checkEle) {\n            var checkLength = 0;\n            while (checkLength < checkEle.length) {\n                this.checkState(checkEle[checkLength], true);\n                checkLength++;\n            }\n        }\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.renderList = function (args) {\n        var i = 0;\n        // eslint-disable-next-line\n        var items = JSON.parse(JSON.stringify(args.files));\n        while (i < items.length) {\n            var icon = fileType(items[i]);\n            var name_1 = getValue('name', items[i]);\n            var selected = getItemName(this.parent, items[i]);\n            var className = ((this.parent.selectedItems &&\n                this.parent.selectedItems.indexOf(selected) !== -1)) ?\n                LARGE_ICON + ' e-active' : LARGE_ICON;\n            if (!hasEditAccess(items[i])) {\n                className += ' ' + getAccessClass(items[i]);\n            }\n            if (icon === ICON_IMAGE && this.parent.showThumbnail && hasReadAccess(items[i])) {\n                var imgUrl = getImageUrl(this.parent, items[i]);\n                setValue('_fm_imageUrl', imgUrl, items[i]);\n                setValue('_fm_imageAttr', { alt: name_1 }, items[i]);\n            }\n            else {\n                setValue('_fm_icon', icon, items[i]);\n            }\n            setValue('_fm_htmlAttr', { class: className, title: name_1 }, items[i]);\n            i++;\n        }\n        return items;\n    };\n    LargeIconsView.prototype.onFinalizeEnd = function (args) {\n        this.render(args);\n    };\n    LargeIconsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.clearSelect();\n        this.selectItems([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n        this.parent.createdItem = null;\n        this.parent.largeiconsviewModule.element.focus();\n    };\n    LargeIconsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.updateSelectedData();\n        }\n    };\n    LargeIconsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'largeiconsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.clearSelect();\n    };\n    LargeIconsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.onLayoutChange(args);\n    };\n    LargeIconsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'largeiconsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    LargeIconsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        /* istanbul ignore next */\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '') {\n            this.parent.searchedItems = [];\n        }\n        if (this.parent.view === 'LargeIcons') {\n            removeBlur(this.parent);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.onLayoutChange(args);\n            if (this.parent.renamedItem) {\n                this.clearSelect();\n                this.addSelection(this.parent.renamedItem);\n                this.parent.renamedItem = null;\n            }\n        }\n    };\n    LargeIconsView.prototype.onOpenInit = function (args) {\n        if (this.parent.activeModule === 'largeiconsview') {\n            this.doOpenAction(args.target);\n        }\n    };\n    LargeIconsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'LargeIcons' && this.element) {\n            this.element.classList.add(DISPLAY_NONE);\n        }\n    };\n    LargeIconsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.startItem = this.getFirstItem();\n            var lastItem = this.getLastItem();\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            this.doSelection(lastItem, eveArgs);\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'LargeIcons') {\n            this.clearSelection();\n            this.isInteraction = true;\n            this.isInteracted = true;\n        }\n    };\n    LargeIconsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    LargeIconsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onSearch = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(selectionChanged, {});\n            this.parent.searchedItems = args.files;\n            this.onLayoutChange(args);\n        }\n    };\n    LargeIconsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.adjustHeight();\n    };\n    LargeIconsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        this.updateSelectedData();\n    };\n    LargeIconsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(this.listObj) &&\n            this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered\n            && this.parent.sortBy === 'filterPath') {\n            this.parent.sortBy = 'name';\n            this.parent.notify(sortByChange, {});\n        }\n    };\n    LargeIconsView.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(pathColumn, this.onPathColumn);\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(search, this.onSearch);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(openEnd, this.onPathChanged);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(methodCall, this.onMethodCall);\n        this.parent.off(actionFailure, this.onActionFailure);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onPathChanged);\n        this.parent.off(hideLayout, this.onHideLayout);\n        this.parent.off(selectAllInit, this.onSelectAllInit);\n        this.parent.off(clearAllInit, this.onClearAllInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(beforeRequest, this.onBeforeRequest);\n        this.parent.off(afterRequest, this.onAfterRequest);\n        this.parent.off(splitterResize, this.splitterResizeHandler);\n        this.parent.off(resizeEnd, this.resizeHandler);\n        this.parent.off(pasteInit, this.onpasteInit);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n        this.parent.off(filterEnd, this.onPathChanged);\n    };\n    LargeIconsView.prototype.addEventListener = function () {\n        this.parent.on(pathColumn, this.onPathColumn, this);\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(pasteInit, this.onpasteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(search, this.onSearch, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onPathChanged, this);\n        this.parent.on(openEnd, this.onPathChanged, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(methodCall, this.onMethodCall, this);\n        this.parent.on(actionFailure, this.onActionFailure, this);\n        this.parent.on(hideLayout, this.onHideLayout, this);\n        this.parent.on(selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(clearAllInit, this.onClearAllInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(afterRequest, this.onAfterRequest, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(splitterResize, this.splitterResizeHandler, this);\n        this.parent.on(resizeEnd, this.resizeHandler, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n        this.parent.on(filterEnd, this.onPathChanged, this);\n    };\n    LargeIconsView.prototype.onActionFailure = function () { this.isInteraction = true; this.isInteracted = true; };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var ele = closest(args.target, 'li');\n            this.parent.itemData = [this.getItemObject(ele)];\n        }\n    };\n    LargeIconsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.updateSelectedData();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath === '') ? [getPathObject(this.parent)] :\n                [this.getItemObject(select('.e-active', this.element))];\n        }\n    };\n    LargeIconsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var activeEle = this.element.querySelectorAll('.' + ACTIVE);\n            this.parent.activeRecords = [];\n            this.parent.activeElements = [];\n            for (var i = 0; i < activeEle.length; i++) {\n                this.parent.activeElements.push(activeEle[i]);\n                this.parent.activeRecords.push(this.getItemObject(activeEle[i]));\n            }\n        }\n    };\n    LargeIconsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    LargeIconsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'LargeIcons') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    LargeIconsView.prototype.onPropertyChanged = function (e) {\n        var currentSelected;\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'selectedItems':\n                    this.isInteraction = false;\n                    this.isInteracted = false;\n                    currentSelected = isNullOrUndefined(this.parent.selectedItems) ? [] : this.parent.selectedItems.slice(0);\n                    currentSelected = this.parent.allowMultiSelection ? currentSelected :\n                        currentSelected.slice(currentSelected.length - 1);\n                    this.parent.setProperties({ selectedItems: [] }, true);\n                    this.onClearAllInit();\n                    if (currentSelected.length) {\n                        this.selectItems(currentSelected);\n                    }\n                    this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    this.isInteraction = true;\n                    this.isInteracted = true;\n                    break;\n                case 'showThumbnail':\n                    refresh(this.parent);\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.parent.view !== 'LargeIcons') {\n                        break;\n                    }\n                    refresh(this.parent);\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'LargeIcons');\n                    break;\n            }\n        }\n    };\n    LargeIconsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.listObj) {\n            this.unWireEvents();\n        }\n    };\n    LargeIconsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    };\n    LargeIconsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n    };\n    /* istanbul ignore next */\n    LargeIconsView.prototype.onMouseOver = function (e) {\n        var targetEle = closest(e.target, '.e-list-item');\n        removeBlur(this.parent, 'hover');\n        if (targetEle !== null) {\n            targetEle.classList.add(HOVER);\n        }\n    };\n    LargeIconsView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            this.clickObj = new Touch(this.element, {\n                tap: function (eve) {\n                    eve.originalEvent.preventDefault();\n                    if (proxy_1.parent.isDevice) {\n                        proxy_1.tapCount = eve.tapCount;\n                        proxy_1.tapEvent = eve;\n                        setTimeout(function () {\n                            if (proxy_1.tapCount > 0) {\n                                proxy_1.doTapAction(proxy_1.tapEvent);\n                            }\n                            proxy_1.tapCount = 0;\n                        }, 350);\n                    }\n                    else {\n                        if (eve.tapCount === 2 && eve.originalEvent.which !== 3) {\n                            proxy_1.dblClickHandler(eve);\n                        }\n                        else {\n                            proxy_1.clickHandler(eve);\n                        }\n                    }\n                },\n                tapHold: function (e) {\n                    if (proxy_1.parent.isDevice) {\n                        proxy_1.multiSelect = proxy_1.parent.allowMultiSelection ? true : false;\n                        if (proxy_1.parent.allowMultiSelection) {\n                            addClass([proxy_1.parent.element], MULTI_SELECT);\n                        }\n                        proxy_1.clickHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    LargeIconsView.prototype.doTapAction = function (eve) {\n        var target = eve.originalEvent.target;\n        var item = closest(target, '.' + LIST_ITEM);\n        if (this.multiSelect || target.classList.contains(LIST_PARENT) || isNullOrUndefined(item)) {\n            this.clickHandler(eve);\n        }\n        else {\n            this.parent.isFile = false;\n            this.updateType(item);\n            if (!this.parent.isFile) {\n                this.dblClickHandler(eve);\n            }\n            else if (eve.tapCount === 2) {\n                this.clickHandler(eve);\n                this.dblClickHandler(eve);\n            }\n            else {\n                this.clickHandler(eve);\n            }\n        }\n    };\n    LargeIconsView.prototype.clickHandler = function (e) {\n        var target = e.originalEvent.target;\n        removeBlur(this.parent, 'hover');\n        this.doSelection(target, e.originalEvent);\n        this.parent.activeModule = 'largeiconsview';\n    };\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @param {TouchEventArgs | MouseEventArgs | KeyboardEventArgs} e - specifies event arguements.\n     * @returns {void}\n     * @hidden\n     */\n    LargeIconsView.prototype.doSelection = function (target, e) {\n        var item = closest(target, '.' + LIST_ITEM);\n        var cList = target.classList;\n        this.parent.isFile = false;\n        var action = 'select';\n        if (e.which === 3 && !isNullOrUndefined(item) && item.classList.contains(ACTIVE)) {\n            this.updateType(item);\n            return;\n        }\n        else if (!isNullOrUndefined(item)) {\n            if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)\n                && (e.ctrlKey || target.classList.contains(CHECK))) {\n                action = 'unselect';\n            }\n            var fileSelectionArgs = this.triggerSelection(action, item);\n            if (fileSelectionArgs.cancel !== true) {\n                if ((!this.parent.allowMultiSelection || (!this.multiSelect && (e && !e.ctrlKey)))\n                    && !cList.contains(FRAME)) {\n                    this.updateType(item);\n                    this.clearSelect();\n                }\n                if (this.parent.allowMultiSelection && e.shiftKey) {\n                    if (!(e && e.ctrlKey)) {\n                        this.clearSelect();\n                    }\n                    if (!this.startItem) {\n                        this.startItem = item;\n                    }\n                    var startIndex = this.itemList.indexOf(this.startItem);\n                    var endIndex = this.itemList.indexOf(item);\n                    if (startIndex > endIndex) {\n                        for (var i = startIndex; i >= endIndex; i--) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    else {\n                        for (var i = startIndex; i <= endIndex; i++) {\n                            this.addActive(this.itemList[i]);\n                        }\n                    }\n                    this.addFocus(this.itemList[endIndex]);\n                }\n                else {\n                    this.startItem = item;\n                    if (this.parent.allowMultiSelection && item.classList.contains(ACTIVE)) {\n                        this.removeActive(item);\n                    }\n                    else {\n                        this.addActive(item);\n                    }\n                    this.addFocus(item);\n                }\n                if (this.parent.selectedItems.length === 0) {\n                    this.resetMultiSelect();\n                }\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect(action, item);\n            }\n        }\n        else {\n            this.clearSelection();\n        }\n        if (!isNullOrUndefined(item)) {\n            this.updateType(item);\n        }\n    };\n    LargeIconsView.prototype.dblClickHandler = function (e) {\n        this.parent.activeModule = 'largeiconsview';\n        var target = e.originalEvent.target;\n        this.doOpenAction(target);\n    };\n    LargeIconsView.prototype.clearSelection = function () {\n        this.clearSelect();\n        this.resetMultiSelect();\n        this.parent.notify(selectionChanged, {});\n    };\n    LargeIconsView.prototype.resetMultiSelect = function () {\n        this.multiSelect = false;\n        removeClass([this.parent.element], MULTI_SELECT);\n    };\n    LargeIconsView.prototype.doOpenAction = function (target) {\n        var _this = this;\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        var item = closest(target, '.' + LIST_ITEM);\n        this.parent.isFile = false;\n        if (!isNullOrUndefined(item)) {\n            this.updateType(item);\n            // eslint-disable-next-line\n            var details_1 = this.getItemObject(item);\n            if (!hasReadAccess(details_1)) {\n                createDeniedDialog(this.parent, details_1, permissionRead);\n                return;\n            }\n            var eventArgs = { cancel: false, fileDetails: details_1, module: 'LargeIconsView' };\n            this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n                if (!fileOpenArgs.cancel) {\n                    var text = getValue('name', details_1);\n                    if (!_this.parent.isFile) {\n                        var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                        if (val === '' && !_this.parent.isFiltered) {\n                            var id = getValue('id', details_1);\n                            _this.parent.oldPath = _this.parent.path;\n                            var newPath = _this.parent.path + (isNullOrUndefined(id) ? text : id) + '/';\n                            _this.parent.setProperties({ path: newPath }, true);\n                            _this.parent.pathNames.push(text);\n                            _this.parent.pathId.push(getValue('_fm_id', details_1));\n                            _this.parent.itemData = [details_1];\n                            openAction(_this.parent);\n                        }\n                        else {\n                            openSearchFolder(_this.parent, details_1);\n                        }\n                        _this.parent.isFiltered = false;\n                        _this.parent.setProperties({ selectedItems: [] }, true);\n                    }\n                    else {\n                        var icon = fileType(details_1);\n                        if (icon === ICON_IMAGE) {\n                            var imgUrl = getImageUrl(_this.parent, details_1);\n                            createImageDialog(_this.parent, text, imgUrl);\n                        }\n                    }\n                }\n            });\n        }\n    };\n    LargeIconsView.prototype.updateType = function (item) {\n        var folder = select('.' + FOLDER, item);\n        this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    LargeIconsView.prototype.keydownActionHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'moveDown':\n            case 'moveLeft':\n            case 'moveRight':\n            case 'moveUp':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    LargeIconsView.prototype.keyActionHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        var fItem = this.getFocusedItem();\n        var firstItem = this.getFirstItem();\n        var lastItem = this.getLastItem();\n        switch (e.action) {\n            case 'end':\n                this.navigateItem(lastItem);\n                break;\n            case 'home':\n                this.navigateItem(firstItem);\n                break;\n            case 'tab':\n                if (!isNullOrUndefined(fItem)) {\n                    this.addFocus(fItem);\n                }\n                else if (!isNullOrUndefined(firstItem)) {\n                    this.addFocus(firstItem);\n                }\n                break;\n            case 'moveDown':\n                this.navigateDown(fItem, true);\n                break;\n            case 'moveLeft':\n                this.navigateRight(fItem, false);\n                break;\n            case 'moveRight':\n                this.navigateRight(fItem, true);\n                break;\n            case 'moveUp':\n                this.navigateDown(fItem, false);\n                break;\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n                this.csEndKey(lastItem, e);\n                break;\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n                this.csHomeKey(firstItem, e);\n                break;\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n                this.csDownKey(fItem, e);\n                break;\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n                this.csLeftKey(fItem, e);\n                break;\n            case 'ctrlRight':\n            case 'shiftRight':\n            case 'csRight':\n                this.csRightKey(fItem, e);\n                break;\n            case 'ctrlUp':\n            case 'shiftUp':\n            case 'csUp':\n                this.csUpKey(fItem, e);\n                break;\n            case 'space':\n                this.spaceKey(fItem);\n                break;\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n                if (!isNullOrUndefined(fItem)) {\n                    this.doSelection(fItem, e);\n                }\n                break;\n            case 'ctrlA':\n                this.ctrlAKey(firstItem, lastItem);\n                break;\n            case 'enter':\n                this.doOpenAction(this.parent.visitedItem ? this.parent.visitedItem : this.getVisitedItem());\n                break;\n            case 'altEnter':\n                this.parent.notify(detailsInit, {});\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n        }\n    };\n    LargeIconsView.prototype.doDownload = function () {\n        this.updateSelectedData();\n        doDownload(this.parent);\n    };\n    LargeIconsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.updateSelectedData();\n            // eslint-disable-next-line\n            var data = this.parent.itemData;\n            for (var i = 0; i < data.length; i++) {\n                if (!hasEditAccess(data[i])) {\n                    createDeniedDialog(this.parent, data[i], permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    LargeIconsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    LargeIconsView.prototype.updateRenameData = function () {\n        var item = select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        updateRenamingData(this.parent, data);\n    };\n    LargeIconsView.prototype.getVisitedItem = function () {\n        var item = this.parent.selectedItems[this.parent.selectedItems.length - 1];\n        var indexes = this.getIndexes([item], this.parent.hasId);\n        return this.itemList[indexes[0]];\n    };\n    LargeIconsView.prototype.getFocusedItem = function () {\n        return select('.' + LIST_ITEM + '.' + FOCUS, this.element);\n    };\n    LargeIconsView.prototype.getActiveItem = function () {\n        return select('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n    };\n    LargeIconsView.prototype.getFirstItem = function () {\n        return this.itemList[0];\n    };\n    LargeIconsView.prototype.getLastItem = function () {\n        return this.itemList[this.itemList.length - 1];\n    };\n    LargeIconsView.prototype.navigateItem = function (item) {\n        this.setFocus(item);\n    };\n    LargeIconsView.prototype.navigateDown = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards, this.perRow);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.navigateRight = function (fItem, isTowards) {\n        var nItem = this.getNextItem(fItem, isTowards);\n        this.setFocus(nItem);\n    };\n    LargeIconsView.prototype.getNextItem = function (li, isTowards, perRow) {\n        if (isNullOrUndefined(li)) {\n            return this.getFocusedItem() || this.getActiveItem() || this.getFirstItem();\n        }\n        var index = this.itemList.indexOf(li);\n        var nextItem;\n        do {\n            if (isTowards) {\n                index = perRow ? index + perRow : index + 1;\n            }\n            else {\n                index = perRow ? index - perRow : index - 1;\n            }\n            nextItem = this.itemList[index];\n            if (isNullOrUndefined(nextItem)) {\n                return li;\n            }\n        } while (!isVisible(nextItem));\n        return nextItem;\n    };\n    LargeIconsView.prototype.setFocus = function (nextItem) {\n        if (!isNullOrUndefined(nextItem)) {\n            var fileSelectionArgs = this.triggerSelection('select', nextItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.startItem = nextItem;\n                this.clearSelect();\n                this.addActive(nextItem);\n                this.addFocus(nextItem);\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect('select', nextItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.spaceKey = function (fItem) {\n        if (!isNullOrUndefined(fItem) && !fItem.classList.contains(ACTIVE)) {\n            var fileSelectionArgs = this.triggerSelection('select', fItem);\n            if (fileSelectionArgs.cancel !== true) {\n                this.addActive(fItem);\n                this.parent.notify(selectionChanged, {});\n                this.triggerSelect('select', fItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.ctrlAKey = function (firstItem, lastItem) {\n        if (this.parent.allowMultiSelection && !isNullOrUndefined(firstItem)) {\n            this.startItem = firstItem;\n            var eveArgs = { ctrlKey: true, shiftKey: true };\n            var liParent = this.element.querySelector('.' + LIST_PARENT);\n            var liScrPos = liParent.scrollTop;\n            var getCurFocusedItem = this.getFocusedItem();\n            this.doSelection(lastItem, eveArgs);\n            liParent.scrollTop = liScrPos;\n            if (!isNullOrUndefined(getCurFocusedItem)) {\n                this.addFocus(getCurFocusedItem);\n            }\n        }\n    };\n    LargeIconsView.prototype.csEndKey = function (lastItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(lastItem);\n        }\n        else if (!isNullOrUndefined(lastItem)) {\n            if (e.action === 'ctrlEnd') {\n                this.addFocus(lastItem);\n            }\n            else {\n                this.doSelection(lastItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csHomeKey = function (firstItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateItem(firstItem);\n        }\n        else if (!isNullOrUndefined(firstItem)) {\n            if (e.action === 'ctrlHome') {\n                this.addFocus(firstItem);\n            }\n            else {\n                this.doSelection(firstItem, e);\n            }\n        }\n    };\n    LargeIconsView.prototype.csDownKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, true);\n        }\n        else {\n            var dItem = this.getNextItem(fItem, true, this.perRow);\n            if (!isNullOrUndefined(dItem)) {\n                if (e.action === 'ctrlDown') {\n                    this.addFocus(dItem);\n                }\n                else {\n                    this.doSelection(dItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csLeftKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, false);\n        }\n        else {\n            var lItem = this.getNextItem(fItem, false);\n            if (!isNullOrUndefined(lItem)) {\n                if (e.action === 'ctrlLeft') {\n                    this.addFocus(lItem);\n                }\n                else {\n                    this.doSelection(lItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csRightKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateRight(fItem, true);\n        }\n        else {\n            var rItem = this.getNextItem(fItem, true);\n            if (!isNullOrUndefined(rItem)) {\n                if (e.action === 'ctrlRight') {\n                    this.addFocus(rItem);\n                }\n                else {\n                    this.doSelection(rItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.csUpKey = function (fItem, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.navigateDown(fItem, false);\n        }\n        else {\n            var uItem = this.getNextItem(fItem, false, this.perRow);\n            if (!isNullOrUndefined(uItem)) {\n                if (e.action === 'ctrlUp') {\n                    this.addFocus(uItem);\n                }\n                else {\n                    this.doSelection(uItem, e);\n                }\n            }\n        }\n    };\n    LargeIconsView.prototype.addActive = function (nextItem) {\n        if (!isNullOrUndefined(nextItem)) {\n            if (!nextItem.classList.contains(ACTIVE)) {\n                this.parent.selectedItems.push(this.getDataName(nextItem));\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                addClass([nextItem], [ACTIVE]);\n                nextItem.setAttribute('aria-selected', 'true');\n                this.checkState(nextItem, true);\n            }\n            this.parent.visitedItem = nextItem;\n        }\n    };\n    LargeIconsView.prototype.removeActive = function (preItem) {\n        if (!isNullOrUndefined(preItem)) {\n            removeClass([preItem], [ACTIVE]);\n            if (this.parent.allowMultiSelection) {\n                preItem.setAttribute('aria-selected', 'false');\n            }\n            else {\n                preItem.removeAttribute('aria-selected');\n            }\n            this.checkState(preItem, false);\n            var index = this.parent.selectedItems.indexOf(this.getDataName(preItem));\n            if (index > -1) {\n                this.parent.selectedItems.splice(index, 1);\n                this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n            }\n            this.parent.visitedItem = null;\n        }\n    };\n    LargeIconsView.prototype.getDataName = function (item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        return getItemName(this.parent, data);\n    };\n    LargeIconsView.prototype.addFocus = function (item) {\n        this.element.setAttribute('tabindex', '-1');\n        var fItem = this.getFocusedItem();\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [FOCUS]);\n        }\n        addClass([item], [FOCUS]);\n        item.setAttribute('tabindex', '0');\n        item.focus();\n    };\n    LargeIconsView.prototype.checkState = function (item, toCheck) {\n        if (!this.parent.allowMultiSelection) {\n            return;\n        }\n        var checkEle = select('.' + FRAME, item);\n        if (isNullOrUndefined(checkEle)) {\n            return;\n        }\n        if (toCheck) {\n            if (!checkEle.classList.contains(CHECK)) {\n                addClass([checkEle], CHECK);\n                closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'true');\n            }\n        }\n        else {\n            if (checkEle.classList.contains(CHECK)) {\n                removeClass([checkEle], CHECK);\n                closest(checkEle, '.' + CB_WRAP).setAttribute('aria-checked', 'false');\n            }\n        }\n    };\n    LargeIconsView.prototype.clearSelect = function () {\n        var eles = Array.prototype.slice.call(selectAll('.' + ACTIVE, this.listElements));\n        var fileSelectionArgs;\n        if (eles.length !== 0) {\n            fileSelectionArgs = this.triggerSelection('unselect', eles[0]);\n            if (fileSelectionArgs.cancel !== true) {\n                for (var i = 0, len = eles.length; i < len; i++) {\n                    this.removeActive(eles[i]);\n                }\n            }\n            this.triggerSelect('unselect', eles[0]);\n        }\n    };\n    LargeIconsView.prototype.resizeHandler = function () {\n        this.getItemCount();\n        if (!isNullOrUndefined(this.listObj)) {\n            this.adjustHeight();\n        }\n    };\n    LargeIconsView.prototype.splitterResizeHandler = function () {\n        this.getItemCount();\n    };\n    LargeIconsView.prototype.getItemCount = function () {\n        var perRow = 1;\n        if (this.itemList) {\n            for (var i = 0, len = this.itemList.length - 1; i < len; i++) {\n                if (this.itemList[i].getBoundingClientRect().top === this.itemList[i + 1].getBoundingClientRect().top) {\n                    perRow++;\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        this.perRow = perRow;\n    };\n    LargeIconsView.prototype.triggerSelection = function (action, item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        var eventArgs = {\n            action: action, fileDetails: data, isInteracted: this.isInteraction, cancel: false, target: item\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        this.isInteraction = true;\n        return eventArgs;\n    };\n    LargeIconsView.prototype.triggerSelect = function (action, item) {\n        // eslint-disable-next-line\n        var data = this.getItemObject(item);\n        this.parent.visitedData = data;\n        var eventArgs = { action: action, fileDetails: data, isInteracted: this.isInteracted };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.isInteracted = true;\n    };\n    LargeIconsView.prototype.selectItems = function (items) {\n        var indexes = this.getIndexes(items, this.parent.hasId);\n        for (var j = 0, len = indexes.length; j < len; j++) {\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[indexes[j]], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.getIndexes = function (items, byId) {\n        var indexes = [];\n        var filter$$1 = byId ? 'id' : 'name';\n        for (var i = 0, len = this.items.length; i < len; i++) {\n            if (items.indexOf(getValue(filter$$1, this.items[i])) !== -1) {\n                indexes.push(i);\n            }\n        }\n        return indexes;\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.getItemObject = function (item) {\n        var index = this.itemList.indexOf(item);\n        return this.items[index];\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.addSelection = function (data) {\n        // eslint-disable-next-line\n        var resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            var newData = new DataManager(this.items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (newData.length > 0) {\n                resultData = new DataManager(newData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (resultData.length > 0) {\n            var index = this.items.indexOf(resultData[0]);\n            var eveArgs = { ctrlKey: true, shiftKey: false };\n            this.doSelection(this.itemList[index], eveArgs);\n        }\n    };\n    LargeIconsView.prototype.updateSelectedData = function () {\n        // eslint-disable-next-line\n        var data = [];\n        var items = selectAll('.' + LIST_ITEM + '.' + ACTIVE, this.element);\n        for (var i = 0; i < items.length; i++) {\n            data[i] = this.getItemObject(items[i]);\n        }\n        this.parent.itemData = data;\n    };\n    // eslint-disable-next-line\n    LargeIconsView.prototype.onMethodCall = function (args) {\n        if (this.parent.view !== 'LargeIcons') {\n            return;\n        }\n        var action = getValue('action', args);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', args));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', args));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', args));\n                break;\n            case 'renameFile':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.renameFile(getValue('id', args), getValue('newName', args));\n                break;\n            case 'createFolder':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                break;\n            case 'clearSelection':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onClearAllInit();\n                break;\n            case 'selectAll':\n                this.isInteraction = false;\n                this.isInteracted = false;\n                this.onSelectAllInit();\n                break;\n        }\n    };\n    LargeIconsView.prototype.getItemsIndex = function (items) {\n        var indexes = [];\n        var isFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filterName = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !isFilter) {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                if (items.indexOf(getValue(filterName, this.items[i])) !== -1) {\n                    indexes.push(i);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = this.items.length; i < len; i++) {\n                var name_2 = getValue('filterPath', this.items[i]) + getValue('name', this.items[i]);\n                if ((items.indexOf(name_2) !== -1) || (items.indexOf(getValue(filterName, this.items[i])) !== -1)) {\n                    indexes.push(i);\n                }\n            }\n        }\n        return indexes;\n    };\n    LargeIconsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNullOrUndefined(ids)) {\n            this.performDelete();\n            return;\n        }\n        var indexes = this.getItemsIndex(ids);\n        if (indexes.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < indexes.length; i++) {\n            data[i] = this.items[indexes[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.downloadFiles = function (ids) {\n        if (isNullOrUndefined(ids)) {\n            this.doDownload();\n            return;\n        }\n        var index = this.getItemsIndex(ids);\n        if (index.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < index.length; i++) {\n            data[i] = this.items[index[i]];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    LargeIconsView.prototype.openFile = function (id) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            this.doOpenAction(this.itemList[indexes[0]]);\n        }\n    };\n    LargeIconsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'largeiconsview';\n        if (isNullOrUndefined(id)) {\n            this.performRename();\n            return;\n        }\n        var indexes = this.getItemsIndex([id]);\n        if (indexes.length > 0) {\n            updateRenamingData(this.parent, this.items[indexes[0]]);\n            if (isNullOrUndefined(name)) {\n                doRename(this.parent);\n            }\n            else {\n                if (!hasEditAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                }\n                else {\n                    rename(this.parent, this.parent.path, name);\n                }\n            }\n        }\n    };\n    return LargeIconsView;\n}());\n\n/**\n * BreadCrumbBar module\n */\nvar BreadCrumbBar = /** @__PURE__ @class */ (function () {\n    /**\n     * constructor for addressbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies parent element.\n     * @private\n     *\n     */\n    function BreadCrumbBar(parent) {\n        this.addressPath = '';\n        this.addressBarLink = '';\n        this.searchTimer = null;\n        this.searchWrapWidth = null;\n        this.parent = parent;\n        this.keyConfigs = {\n            enter: 'enter'\n        };\n        this.render();\n    }\n    BreadCrumbBar.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var value = e.newProp.searchSettings;\n            switch (prop) {\n                case 'searchSettings':\n                    if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n                        this.searchEventBind(value.allowSearchOnTyping);\n                    }\n                    if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' &&\n                        !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) &&\n                            isNullOrUndefined(value.ignoreCase))) {\n                        searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n                    }\n                    break;\n            }\n        }\n    };\n    BreadCrumbBar.prototype.render = function () {\n        this.addEventListener();\n    };\n    BreadCrumbBar.prototype.onPathChange = function () {\n        var pathNames = this.parent.pathNames;\n        var paths = this.parent.path.split('/');\n        var addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        var addressbarLI = null;\n        var pathNamesLen = pathNames.length;\n        if (pathNames.length > 0) {\n            var id = '';\n            for (var i = 0; i < pathNamesLen; i++) {\n                var addressATag = null;\n                addressbarLI = this.parent.createElement('li', { className: 'e-address-list-item' });\n                for (var j = 0; j <= i; j++) {\n                    id = id + paths[j] + '/';\n                }\n                addressbarLI.setAttribute('data-utext', id);\n                if (i !== 0) {\n                    var icon = createElement('span', { className: ICONS });\n                    addressbarLI.appendChild(icon);\n                }\n                if (pathNamesLen - i !== 1) {\n                    addressATag = createElement('a', { className: LIST_TEXT });\n                    addressbarLI.setAttribute('tabindex', '0');\n                }\n                else {\n                    addressATag = createElement('span', { className: LIST_TEXT });\n                }\n                id = '';\n                addressATag.innerText = pathNames[i];\n                addressbarLI.appendChild(addressATag);\n                addressbarUL.appendChild(addressbarLI);\n            }\n            var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n            if (!isNullOrUndefined(ulElement)) {\n                if (!isNullOrUndefined(this.subMenuObj)) {\n                    this.subMenuObj.destroy();\n                }\n                remove(ulElement);\n            }\n            var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n            if (!searchWrap) {\n                this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n            }\n            else {\n                this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n            }\n            this.updateBreadCrumbBar(addressbarUL);\n        }\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.updateBreadCrumbBar = function (addresBarUL) {\n        var liElements = addresBarUL.querySelectorAll('li');\n        var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n        var style = window.getComputedStyle(ulElement, null);\n        var pRight = parseFloat(style.getPropertyValue('padding-right'));\n        var pLeft = parseFloat(style.getPropertyValue('padding-left'));\n        var breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n        var addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        var liElementsWidth = 0;\n        var liElementsWidths = [];\n        for (var i = 0; i < liElements.length; i++) {\n            var width = liElements[i].clientWidth;\n            liElementsWidths.push(width);\n            liElementsWidth = liElementsWidth + width;\n        }\n        if (!isNullOrUndefined(ulElement)) {\n            remove(ulElement);\n        }\n        var searchContainer = this.parent.createElement('div');\n        searchContainer.setAttribute('class', 'e-search-wrap');\n        var id = this.parent.element.id + SEARCH_ID;\n        var searchInput = createElement('input', { id: id,\n            attrs: { autocomplete: 'off', 'aria-label': getLocaleText(this.parent, 'Search') } });\n        searchContainer.appendChild(searchInput);\n        var searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n        if (isNullOrUndefined(searchEle)) {\n            this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n            var span = createElement('span', { className: 'e-icons e-fe-search' });\n            EventHandler.add(span, 'click', this.onShowInput, this);\n            searchInput.parentElement.insertBefore(span, searchInput);\n            this.searchObj = new TextBox({\n                value: '',\n                showClearButton: true,\n                placeholder: getLocaleText(this.parent, 'Search'),\n                focus: this.onFocus.bind(this),\n                blur: this.onBlur.bind(this)\n            });\n            this.searchObj.appendTo('#' + this.parent.element.id + SEARCH_ID);\n            this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n            var search$$1 = this.searchObj.element.nextElementSibling;\n            EventHandler.add(search$$1, 'mousedown', this.searchChangeHandler.bind(this), this);\n            EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n        }\n        var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n        if (liElementsWidth > breadCrumbBarWidth) {\n            var i = liElements.length;\n            while (i--) {\n                var diff = breadCrumbBarWidth - liElementsWidths[i];\n                if (diff > 40) {\n                    addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n                    breadCrumbBarWidth = diff;\n                }\n                else {\n                    // eslint-disable-next-line\n                    var items = [];\n                    for (var j = 0; j <= i; j++) {\n                        var liElement = liElements[j];\n                        items.push({\n                            text: liElement.innerText,\n                            utext: liElement.getAttribute('data-utext')\n                        });\n                    }\n                    var subMenuLi = this.parent.createElement('li', { className: 'e-breadcrumb-menu' });\n                    // eslint-disable-next-line\n                    var attributes = { className: 'e-breadcrumb-submenu' };\n                    var subMenuSpan = this.parent.createElement('button', attributes);\n                    subMenuLi.appendChild(subMenuSpan);\n                    addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n                    this.subMenuObj = new DropDownButton({\n                        items: items,\n                        cssClass: 'e-caret-hide e-submenu',\n                        iconCss: ICON_BREADCRUMB,\n                        iconPosition: 'Top',\n                        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                        beforeItemRender: this.addSubMenuAttributes.bind(this),\n                        select: this.subMenuSelectOperations.bind(this)\n                    });\n                    this.subMenuObj.isStringTemplate = true;\n                    this.subMenuObj.appendTo(subMenuSpan);\n                    break;\n                }\n            }\n            this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n        }\n        else {\n            this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n        }\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onFocus = function () {\n        var wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.add('e-focus');\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onKeyUp = function () {\n        this.parent.notify(pathColumn, { args: this.parent });\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onBlur = function () {\n        var wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.remove('e-focus');\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.subMenuSelectOperations = function (event) {\n        // eslint-disable-next-line\n        var args = { target: event.element };\n        this.addressPathClickHandler(args);\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.addSubMenuAttributes = function (args) {\n        args.element.setAttribute('data-utext', getValue('utext', args.item));\n        var anchor = this.parent.createElement('a', { className: 'e-list-text' });\n        args.element.appendChild(anchor);\n    };\n    BreadCrumbBar.prototype.searchEventBind = function (allow) {\n        if (allow) {\n            this.searchObj.input = this.searchChangeHandler.bind(this);\n            this.searchObj.change = null;\n        }\n        else {\n            this.searchObj.change = this.searchChangeHandler.bind(this);\n            this.searchObj.input = null;\n        }\n    };\n    BreadCrumbBar.prototype.searchChangeHandler = function (args) {\n        var _this = this;\n        if (!isNullOrUndefined(args.value)) {\n            this.parent.isFiltered = false;\n            if (this.parent.searchSettings.allowSearchOnTyping) {\n                window.clearTimeout(this.searchTimer);\n                this.searchTimer = window.setTimeout(function () { searchWordHandler(_this.parent, args.value, false); }, 300);\n            }\n            else {\n                searchWordHandler(this.parent, args.value, false);\n            }\n        }\n    };\n    BreadCrumbBar.prototype.addressPathClickHandler = function (e) {\n        var li = e.target;\n        if (li.nodeName === 'LI' || li.nodeName === 'A') {\n            var node = li.nodeName === 'LI' ? li.children[0] : li;\n            if (!isNullOrUndefined(node)) {\n                this.parent.isFiltered = false;\n                var currentPath = this.updatePath(node);\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n                this.triggerFileOpen(this.parent.itemData[0]);\n                read(this.parent, pathChanged, currentPath);\n                var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n                this.parent.notify(updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n            }\n        }\n    };\n    // eslint-disable-next-line\n    BreadCrumbBar.prototype.triggerFileOpen = function (data) {\n        var eventArgs = { cancel: false, fileDetails: data, module: 'BreadCrumbBar' };\n        delete eventArgs.cancel;\n        this.parent.trigger('fileOpen', eventArgs);\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onShowInput = function () {\n        if (this.parent.isMobile) {\n            if (this.parent.element.classList.contains(FILTER)) {\n                removeClass([this.parent.element], FILTER);\n                this.searchWrapWidth = null;\n            }\n            else {\n                var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n                this.searchWrapWidth = searchWrap.offsetWidth;\n                addClass([this.parent.element], FILTER);\n                this.searchObj.element.focus();\n            }\n        }\n    };\n    BreadCrumbBar.prototype.updatePath = function (list) {\n        var li = closest(list, 'li');\n        var liElementId = li.getAttribute('data-utext');\n        this.addressBarLink = liElementId;\n        var link = this.addressBarLink.split('/');\n        var ids = this.parent.pathId;\n        var names = this.parent.pathNames;\n        this.parent.pathId = [];\n        this.parent.pathNames = [];\n        var newpath = '';\n        for (var i = 0, len = link.length - 1; i < len; i++) {\n            this.parent.pathId.push(ids[i]);\n            this.parent.pathNames.push(names[i]);\n            newpath += link[i] + '/';\n        }\n        this.parent.setProperties({ path: newpath }, true);\n        return newpath;\n    };\n    BreadCrumbBar.prototype.onUpdatePath = function () {\n        this.onPathChange();\n        this.removeSearchValue();\n    };\n    BreadCrumbBar.prototype.onCreateEnd = function () {\n        this.onPathChange();\n    };\n    BreadCrumbBar.prototype.onRenameEnd = function () {\n        this.onPathChange();\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onDeleteEnd = function () {\n        this.onUpdatePath();\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.removeSearchValue = function () {\n        this.parent.isFiltered = false;\n        if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n            this.searchObj.value = '';\n            this.searchObj.element.value = '';\n            this.searchObj.dataBind();\n        }\n    };\n    BreadCrumbBar.prototype.onResize = function () {\n        this.onPathChange();\n    };\n    BreadCrumbBar.prototype.onPasteEnd = function () {\n        this.onPathChange();\n    };\n    BreadCrumbBar.prototype.addEventListener = function () {\n        this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(pathChanged, this.onUpdatePath, this);\n        this.parent.on(finalizeEnd, this.onUpdatePath, this);\n        this.parent.on(refreshEnd, this.onUpdatePath, this);\n        this.parent.on(openEnd, this.onUpdatePath, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(renameEnd, this.onRenameEnd, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(splitterResize, this.onResize, this);\n        this.parent.on(pasteEnd, this.onPasteEnd, this);\n        this.parent.on(resizeEnd, this.onResize, this);\n        this.parent.on(searchTextChange, this.onSearchTextChange, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(layoutRefresh, this.onResize, this);\n        this.parent.on(dropPath, this.onPathChange, this);\n    };\n    BreadCrumbBar.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'enter':\n                this.addressPathClickHandler(e);\n                break;\n        }\n    };\n    BreadCrumbBar.prototype.removeEventListener = function () {\n        this.keyboardModule.destroy();\n        this.parent.off(pathChanged, this.onUpdatePath);\n        this.parent.off(finalizeEnd, this.onUpdatePath);\n        this.parent.off(refreshEnd, this.onUpdatePath);\n        this.parent.off(openEnd, this.onUpdatePath);\n        this.parent.off(pasteEnd, this.onPasteEnd);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(renameEnd, this.onRenameEnd);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(splitterResize, this.onResize);\n        this.parent.off(resizeEnd, this.onResize);\n        this.parent.off(searchTextChange, this.onSearchTextChange);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(layoutRefresh, this.onResize);\n        this.parent.off(dropPath, this.onPathChange);\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var liEle = args.target.closest('li');\n            this.parent.dropPath = this.updatePath((liEle.children[0]));\n            this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            this.triggerFileOpen(this.parent.dropData);\n            var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n            this.parent.notify(updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name\n     * @private\n     */\n    BreadCrumbBar.prototype.getModuleName = function () {\n        return 'breadcrumbbar';\n    };\n    BreadCrumbBar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        /* istanbul ignore next */\n        if (!isNullOrUndefined(this.subMenuObj)) {\n            this.subMenuObj.destroy();\n        }\n        if (!isNullOrUndefined(this.searchObj)) {\n            this.searchObj.destroy();\n        }\n    };\n    BreadCrumbBar.prototype.onSearchTextChange = function (args) {\n        this.searchObj.element.placeholder = (this.parent.searchSettings.placeholder != null) ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n    };\n    return BreadCrumbBar;\n}());\n\n/**\n * ContextMenu module\n */\nvar ContextMenu$2 = /** @__PURE__ @class */ (function () {\n    /**\n     * Constructor for the ContextMenu module\n     *\n     * @param {IFileManager} parent - Specifies the parent element.\n     * @hidden\n     */\n    function ContextMenu$$1(parent) {\n        this.currentItems = [];\n        this.currentElement = null;\n        this.disabledItems = [];\n        this.parent = parent;\n        this.render();\n    }\n    ContextMenu$$1.prototype.render = function () {\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            uparrow: 'uparrown'\n        };\n        this.contextMenu = new ContextMenu({\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            target: '#' + this.parent.element.id,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.onBeforeItemRender.bind(this),\n            select: this.onSelect.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this),\n            cssClass: getCssClass(this.parent, ROOT_POPUP)\n        });\n        this.contextMenu.isStringTemplate = true;\n        this.contextMenu.appendTo('#' + this.parent.element.id + CONTEXT_MENU_ID);\n        this.addEventListener();\n    };\n    /* istanbul ignore next */\n    ContextMenu$$1.prototype.onBeforeItemRender = function (args) {\n        if (args.item.id === this.getMenuId('largeiconsview')) {\n            var iconSpan = createElement('span');\n            var element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', ICON_LARGE + ' ' + MENU_ICON);\n        }\n        if (args.item.id === this.getMenuId('detailsview')) {\n            var iconSpan = createElement('span');\n            var element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', ICON_GRID + ' ' + MENU_ICON);\n        }\n    };\n    ContextMenu$$1.prototype.onBeforeClose = function () {\n        this.menuTarget = null;\n    };\n    /* istanbul ignore next */\n    ContextMenu$$1.prototype.onBeforeOpen = function (args) {\n        var _this = this;\n        this.disabledItems = [];\n        var selected = false;\n        var uid;\n        // eslint-disable-next-line\n        var data;\n        var treeFolder = false;\n        var target = args.event.target;\n        this.menuTarget = this.targetNodeElement = target;\n        this.currentElement = args.element;\n        if (target.classList.contains('e-spinner-pane')) {\n            target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(FULLROW)[0];\n            this.menuTarget = this.targetNodeElement = target;\n        }\n        this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n        var view = this.getTargetView(target);\n        this.updateActiveModule();\n        /* istanbul ignore next */\n        if (target.classList.contains(TREE_VIEW) || closest(target, 'th') ||\n            (closest(target, '#' + this.parent.element.id + BREADCRUMBBAR_ID)) ||\n            (closest(target, '#' + this.parent.element.id + TOOLBAR_ID))) {\n            args.cancel = true;\n            // eslint:disable-next-line\n        }\n        else if (!(this.parent.view === 'LargeIcons') && this.targetElement &&\n            this.targetElement.classList.contains('e-emptyrow')) {\n            this.setLayoutItem(target);\n            /* istanbul ignore next */\n        }\n        else if (closest(target, '.' + EMPTY)) {\n            this.setLayoutItem(target);\n            // eslint:disable-next-line\n        }\n        else if (!target.classList.contains(MENU_ITEM) &&\n            !target.classList.contains(MENU_ICON) && !target.classList.contains(SUBMENU_ICON)) {\n            /* istanbul ignore next */\n            // eslint:disable-next-line\n            if (this.parent.view === 'LargeIcons' && !isNullOrUndefined(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + TREE_ID)) {\n                var eveArgs = { ctrlKey: true, shiftKey: true };\n                if (!closest(target, 'li').classList.contains('e-active')) {\n                    this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n                }\n                // eslint-disable-next-line\n                data = this.parent.visitedData;\n                selected = true;\n            }\n            else if (!isNullOrUndefined(closest(target, 'tr.e-row'))) {\n                uid = this.targetElement.getAttribute('data-uid');\n                // eslint-disable-next-line\n                data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n                if (isNullOrUndefined(this.targetElement.getAttribute('aria-selected'))) {\n                    /* istanbul ignore next */\n                    this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('data-rowindex'), 10)]);\n                }\n                selected = true;\n                /* istanbul ignore next */\n            }\n            else if (closest(target, '#' + this.parent.element.id + TREE_ID)) {\n                uid = closest(target, 'li').getAttribute('data-uid');\n                treeFolder = true;\n            }\n            /* istanbul ignore next */\n            if (selected) {\n                if (getValue('isFile', data) === true) {\n                    this.setFileItem();\n                }\n                else {\n                    this.setFolderItem(false);\n                }\n                /* istanbul ignore next */\n            }\n            else if (treeFolder) {\n                this.setFolderItem(true);\n                if (uid === this.parent.pathId[0]) {\n                    this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n                }\n                /* istanbul ignore next */\n                // eslint:disable-next-line\n            }\n            else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n                this.setLayoutItem(target);\n                /* istanbul ignore next */\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        var pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n        if (!args.cancel && !this.parent.enablePaste &&\n            pasteEle && !pasteEle.classList.contains('e-disabled')) {\n            this.disabledItems.push('Paste');\n        }\n        if (args.cancel) {\n            this.menuTarget = this.currentElement = null;\n            return;\n        }\n        this.contextMenu.dataBind();\n        var isSubMenu = false;\n        if (target.classList.contains(MENU_ITEM) ||\n            target.classList.contains(MENU_ICON) || target.classList.contains(SUBMENU_ICON)) {\n            isSubMenu = true;\n        }\n        this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n        var eventArgs = {\n            fileDetails: [this.menuItemData],\n            element: args.element,\n            target: target,\n            items: isSubMenu ? args.items : this.contextMenu.items,\n            menuModule: this.contextMenu,\n            cancel: false,\n            menuType: this.menuType,\n            isSubMenu: isSubMenu\n        };\n        this.currentItems = eventArgs.items;\n        this.parent.trigger('menuOpen', eventArgs, function (menuOpenArgs) {\n            if (!isSubMenu) {\n                _this.contextMenu.dataBind();\n                _this.contextMenu.items = menuOpenArgs.items;\n                _this.contextMenu.dataBind();\n            }\n            _this.enableItems(_this.disabledItems, false, true);\n            args.cancel = menuOpenArgs.cancel;\n            if (menuOpenArgs.cancel) {\n                _this.menuTarget = _this.targetNodeElement = _this.currentElement = null;\n            }\n        });\n    };\n    ContextMenu$$1.prototype.updateActiveModule = function () {\n        this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + TREE_ID) ?\n            'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + GRID_ID) ?\n            'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + LARGEICON_ID) ?\n            'largeiconsview' : this.parent.activeModule;\n    };\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @returns {string} -returns the target view.\n     * @hidden\n     */\n    ContextMenu$$1.prototype.getTargetView = function (target) {\n        return target.classList.contains(TREE_VIEW) ?\n            'TreeView' : target.classList.contains(GRID_VIEW) ?\n            'GridView' : target.classList.contains(ICON_VIEW) ?\n            'LargeIcon' : target.classList.contains(LARGE_ICONS) ?\n            'LargeIcon' : '';\n    };\n    ContextMenu$$1.prototype.getItemIndex = function (item) {\n        var itemId = this.getMenuId(item);\n        for (var i = 0; i < this.currentItems.length; i++) {\n            if ((this.currentItems[i].id === itemId) || (this.currentItems[i].id === item)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    ContextMenu$$1.prototype.disableItem = function (items) {\n        if (items.length !== 0) {\n            this.disabledItems = this.disabledItems.concat(items);\n        }\n    };\n    ContextMenu$$1.prototype.enableItems = function (items, enable, isUniqueId) {\n        for (var i = 0; i < items.length; i++) {\n            if (this.checkValidItem(items[i]) === 1) {\n                this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n            }\n            else if (this.checkValidItem(items[i]) === 2) {\n                this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n            }\n        }\n    };\n    ContextMenu$$1.prototype.setFolderItem = function (isTree) {\n        this.menuType = 'folder';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (isTree) {\n            this.disabledItems.push('Open');\n        }\n        else if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename', 'Paste');\n        }\n    };\n    ContextMenu$$1.prototype.setFileItem = function () {\n        this.menuType = 'file';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename');\n        }\n    };\n    ContextMenu$$1.prototype.setLayoutItem = function (target) {\n        this.menuType = 'layout';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (!this.parent.allowMultiSelection || ((this.parent.view === 'LargeIcons' &&\n            (closest(target, '#' + this.parent.element.id + LARGEICON_ID).getElementsByClassName(EMPTY).length !== 0))\n            || (this.parent.view === 'Details' &&\n                (closest(target, '#' + this.parent.element.id + GRID_ID).getElementsByClassName(EMPTY).length !== 0)))) {\n            this.disabledItems.push('SelectAll');\n        }\n        if (this.parent.selectedNodes.length === 0) {\n            this.disabledItems.push('Paste');\n        }\n        this.contextMenu.dataBind();\n    };\n    ContextMenu$$1.prototype.checkValidItem = function (nameEle) {\n        if (!isNullOrUndefined(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n            return 1;\n        }\n        else if (!isNullOrUndefined(select('#' + nameEle, this.currentElement))) {\n            return 2;\n        }\n        else {\n            return -1;\n        }\n    };\n    // eslint-disable-next-line\n    ContextMenu$$1.prototype.getMenuItemData = function () {\n        if (this.menuType === 'layout') {\n            return getPathObject(this.parent);\n        }\n        else {\n            // eslint-disable-next-line\n            var args = { target: this.menuTarget };\n            this.parent.notify(menuItemData, args);\n            return this.parent.itemData[0];\n        }\n    };\n    /* istanbul ignore next */\n    ContextMenu$$1.prototype.onSelect = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(args.item) || !args.item.id) {\n            return;\n        }\n        var itemText = args.item.id.substr((this.parent.element.id + '_cm_').length);\n        // eslint-disable-next-line\n        var details;\n        if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(selectedData, {});\n            if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n                details = [this.menuItemData];\n            }\n            else {\n                details = this.parent.itemData;\n            }\n        }\n        var eventArgs = {\n            cancel: false,\n            element: args.element,\n            fileDetails: details,\n            item: args.item\n        };\n        this.parent.trigger('menuClick', eventArgs, function (menuClickArgs) {\n            var sItems;\n            if (!menuClickArgs.cancel) {\n                // eslint:disable-next-line\n                switch (itemText) {\n                    case 'cut':\n                        cutFiles(_this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(_this.parent);\n                        break;\n                    case 'paste':\n                        if (_this.menuType === 'folder') {\n                            if ((_this.parent.activeModule === 'largeiconsview') || (_this.parent.activeModule === 'detailsview')) {\n                                _this.parent.folderPath = getFullPath(_this.parent, _this.menuItemData, _this.parent.path);\n                            }\n                            else {\n                                _this.parent.folderPath = '';\n                            }\n                        }\n                        else {\n                            _this.parent.folderPath = '';\n                        }\n                        pasteHandler(_this.parent);\n                        break;\n                    case 'delete':\n                        for (var j = 0; j < details.length; j++) {\n                            if (!hasEditAccess(details[j])) {\n                                createDeniedDialog(_this.parent, details[j], permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(_this.parent, 'Delete');\n                        break;\n                    /* istanbul ignore next */\n                    case 'download':\n                        for (var i = 0; i < details.length; i++) {\n                            if (!hasDownloadAccess(details[i])) {\n                                createDeniedDialog(_this.parent, details[i], permissionDownload);\n                                return;\n                            }\n                        }\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            _this.parent.notify(downloadInit, {});\n                        }\n                        else if (_this.parent.selectedItems.length > 0) {\n                            Download(_this.parent, _this.parent.path, _this.parent.selectedItems);\n                        }\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(_this.parent, details[0], permissionEdit);\n                        }\n                        else {\n                            _this.parent.notify(renameInit, {});\n                            createDialog(_this.parent, 'Rename');\n                        }\n                        break;\n                    case 'selectall':\n                        /* istanbul ignore next */\n                        _this.parent.notify(selectAllInit, {});\n                        break;\n                    case 'refresh':\n                        refresh(_this.parent);\n                        break;\n                    case 'open':\n                        if (_this.parent.visitedItem) {\n                            _this.parent.notify(openInit, { target: _this.parent.visitedItem });\n                        }\n                        else if (_this.parent.activeModule === 'navigationpane') {\n                            _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n                        }\n                        break;\n                    case 'details':\n                        _this.parent.notify(detailsInit, {});\n                        sItems = _this.parent.selectedItems;\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n                        break;\n                    case 'newfolder':\n                        createNewFolder(_this.parent);\n                        break;\n                    case 'upload':\n                        uploadItem(_this.parent);\n                        break;\n                    /* istanbul ignore next */\n                    case 'name':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'size':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'date':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'ascending':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'descending':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(_this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    case 'none':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(_this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'largeiconsview':\n                        updateLayout(_this.parent, 'LargeIcons');\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'detailsview':\n                        updateLayout(_this.parent, 'Details');\n                        break;\n                }\n            }\n        });\n    };\n    ContextMenu$$1.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.contextMenu.cssClass = getCssClass(this.parent, ROOT_POPUP);\n                    break;\n            }\n        }\n    };\n    ContextMenu$$1.prototype.addEventListener = function () {\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    ContextMenu$$1.prototype.removeEventListener = function () {\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.keyboardModule.destroy();\n    };\n    ContextMenu$$1.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n                e.preventDefault();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    ContextMenu$$1.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu$$1.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        this.contextMenu.destroy();\n    };\n    /* istanbul ignore next */\n    ContextMenu$$1.prototype.getItemData = function (data) {\n        var items = [];\n        for (var i = 0; i < data.length; i++) {\n            var item = void 0;\n            var itemId = this.getMenuId(data[i]);\n            var itemText = getLocaleText(this.parent, data[i]);\n            switch (data[i]) {\n                case '|':\n                    item = { separator: true };\n                    break;\n                case 'Open':\n                    item = { id: itemId, text: itemText, iconCss: ICON_OPEN };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, iconCss: ICON_UPLOAD };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, iconCss: ICON_CUT };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, iconCss: ICON_COPY };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, iconCss: ICON_PASTE };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DELETE };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, iconCss: ICON_RENAME };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, iconCss: ICON_NEWFOLDER };\n                    break;\n                case 'Details':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DETAILS };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, text: itemText, iconCss: ICON_SHORTBY,\n                        items: [\n                            {\n                                id: this.getMenuId('Name'), text: getLocaleText(this.parent, 'Name'),\n                                iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Size'), text: getLocaleText(this.parent, 'Size'),\n                                iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Date'), text: getLocaleText(this.parent, 'DateModified'),\n                                iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : null\n                            },\n                            { separator: true },\n                            {\n                                id: this.getMenuId('Ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                                iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('Descending'), text: getLocaleText(this.parent, 'Descending'),\n                                iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('None'), text: getLocaleText(this.parent, 'None'),\n                                iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                /* istanbul ignore next */\n                case 'View':\n                    item = {\n                        id: itemId, text: itemText, iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                        items: [\n                            {\n                                id: this.getMenuId('largeiconsview'), text: getLocaleText(this.parent, 'View-LargeIcons'),\n                                iconCss: this.parent.view === 'Details' ? null : TB_OPTION_TICK\n                            },\n                            {\n                                id: this.getMenuId('detailsview'), text: getLocaleText(this.parent, 'View-Details'),\n                                iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, iconCss: ICON_REFRESH };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, iconCss: ICON_SELECTALL };\n                    break;\n                /* istanbul ignore next */\n                case 'Download':\n                    item = { id: itemId, text: itemText, iconCss: ICON_DOWNLOAD };\n                    break;\n                /* istanbul ignore next */\n                default:\n                    item = { id: itemId, text: itemText };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    };\n    ContextMenu$$1.prototype.getMenuId = function (id) {\n        return this.parent.element.id + '_cm_' + id.toLowerCase();\n    };\n    return ContextMenu$$1;\n}());\n\n/**\n * Specifies the default locale of FileManager component\n */\n// eslint-disable-next-line\nvar defaultLocale = {\n    'NewFolder': 'New folder',\n    'Upload': 'Upload',\n    'Delete': 'Delete',\n    'Rename': 'Rename',\n    'Download': 'Download',\n    'Cut': 'Cut',\n    'Copy': 'Copy',\n    'Paste': 'Paste',\n    'SortBy': 'Sort by',\n    'Refresh': 'Refresh',\n    'Item-Selection': 'item selected',\n    'Items-Selection': 'items selected',\n    'View': 'View',\n    'Details': 'Details',\n    'SelectAll': 'Select all',\n    'Open': 'Open',\n    'Tooltip-NewFolder': 'New folder',\n    'Tooltip-Upload': 'Upload',\n    'Tooltip-Delete': 'Delete',\n    'Tooltip-Rename': 'Rename',\n    'Tooltip-Download': 'Download',\n    'Tooltip-Cut': 'Cut',\n    'Tooltip-Copy': 'Copy',\n    'Tooltip-Paste': 'Paste',\n    'Tooltip-SortBy': 'Sort by',\n    'Tooltip-Refresh': 'Refresh',\n    'Tooltip-Selection': 'Clear selection',\n    'Tooltip-View': 'View',\n    'Tooltip-Details': 'Details',\n    'Tooltip-SelectAll': 'Select all',\n    'Name': 'Name',\n    'Size': 'Size',\n    'DateModified': 'Modified',\n    'DateCreated': 'Date created',\n    'Path': 'Path',\n    'Modified': 'Modified',\n    'Created': 'Created',\n    'Location': 'Location',\n    'Type': 'Type',\n    'Permission': 'Permission',\n    'Ascending': 'Ascending',\n    'Descending': 'Descending',\n    'None': 'None',\n    'View-LargeIcons': 'Large icons',\n    'View-Details': 'Details',\n    'Search': 'Search',\n    'Button-Ok': 'OK',\n    'Button-Cancel': 'Cancel',\n    'Button-Yes': 'Yes',\n    'Button-No': 'No',\n    'Button-Create': 'Create',\n    'Button-Save': 'Save',\n    'Header-NewFolder': 'Folder',\n    'Content-NewFolder': 'Enter your folder name',\n    'Header-Rename': 'Rename',\n    'Content-Rename': 'Enter your new name',\n    'Header-Rename-Confirmation': 'Rename Confirmation',\n    'Content-Rename-Confirmation': 'If you change a file name extension, the file might become unstable. ' +\n        'Are you sure you want to change it?',\n    'Header-Delete': 'Delete File',\n    'Content-Delete': 'Are you sure you want to delete this file?',\n    'Header-Folder-Delete': 'Delete Folder',\n    'Content-Folder-Delete': 'Are you sure you want to delete this folder?',\n    'Header-Multiple-Delete': 'Delete Multiple Items',\n    'Content-Multiple-Delete': 'Are you sure you want to delete these {0} items?',\n    'Header-Duplicate': 'File/Folder exists',\n    'Content-Duplicate': '{0} already exists. Do you want to rename and paste?',\n    'Header-Upload': 'Upload Files',\n    'Error': 'Error',\n    'Validation-Empty': 'The file or folder name cannot be empty.',\n    'Validation-Invalid': 'The file or folder name {0} contains invalid characters. Please use a different name. ' +\n        // eslint-disable-next-line no-useless-escape\n        'Valid file or folder names cannot end with a dot or space, and cannot contain any of the following characters: \\\\/:*?\\\"<>|',\n    'Validation-NewFolder-Exists': 'A file or folder with the name {0} already exists.',\n    'Validation-Rename-Exists': 'Cannot rename {0} to {1}: destination already exists.',\n    'Folder-Empty': 'This folder is empty',\n    'File-Upload': 'Drag files here to upload',\n    'Search-Empty': 'No results found',\n    'Search-Key': 'Try with different keywords',\n    'Filter-Empty': 'No results found',\n    'Filter-Key': 'Try with different filter',\n    'Sub-Folder-Error': 'The destination folder is the subfolder of the source folder.',\n    'Same-Folder-Error': 'The destination folder is the same as the source folder.',\n    'Access-Denied': 'Access Denied',\n    'Access-Details': 'You don\"t have permission to access this folder.',\n    'Header-Retry': 'File Already Exists',\n    'Content-Retry': 'A file with this name already exists in this folder. What would you like to do?',\n    'Button-Keep-Both': 'Keep both',\n    'Button-Replace': 'Replace',\n    'Button-Skip': 'Skip',\n    'ApplyAll-Label': 'Do this for all current items',\n    'KB': 'KB',\n    'Access-Message': '{0} is not accessible. You need permission to perform the {1} action.',\n    'Network-Error': 'NetworkError: Failed to send on XMLHTTPRequest: Failed to load',\n    'Server-Error': 'ServerError: Invalid response from'\n};\n\nvar __extends$8 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * The FileManager component allows users to access and manage the file system through the web  browser. It can performs the\n * functionalities like add, rename, search, sort, upload and delete files or folders. And also it\n * provides an easy way of  dynamic injectable modules like toolbar, navigationpane, detailsview, largeiconsview.\n * ```html\n *  <div id=\"file\"></div>\n * ```\n * ```typescript,\n *  let feObj: FileManager = new FileManager();\n *  feObj.appendTo('#file');\n * ```\n */\nvar FileManager = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(FileManager, _super);\n    function FileManager(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        // eslint-disable-next-line\n        _this.filterData = null;\n        _this.selectedNodes = [];\n        _this.duplicateItems = [];\n        // eslint-disable-next-line\n        _this.duplicateRecords = [];\n        _this.previousPath = [];\n        _this.nextPath = [];\n        _this.isLayoutChange = false;\n        _this.layoutSelectedItems = [];\n        _this.renamedId = null;\n        _this.uploadItem = [];\n        _this.deleteRecords = [];\n        _this.isFile = false;\n        _this.isCut = false;\n        _this.isSearchCut = false;\n        _this.isSearchDrag = false;\n        _this.isPasteError = false;\n        _this.folderPath = '';\n        _this.isSameAction = false;\n        _this.isFiltered = false;\n        // Specifies whether the sort by option is clicked or not.\n        _this.isSortByClicked = false;\n        _this.enablePaste = false;\n        _this.persistData = false;\n        _this.retryArgs = [];\n        _this.isOpened = false;\n        _this.isRetryOpened = false;\n        _this.isPathDrag = false;\n        // eslint-disable-next-line\n        _this.searchedItems = [];\n        _this.retryFiles = [];\n        _this.isApplySame = false;\n        // eslint-disable-next-line\n        _this.dragData = [];\n        _this.dragNodes = [];\n        _this.dragPath = '';\n        _this.dropPath = '';\n        _this.isDragDrop = false;\n        _this.treeExpandTimer = null;\n        _this.dragCursorPosition = { left: 44, top: 18 };\n        _this.isDropEnd = false;\n        _this.dragCount = 0;\n        // eslint-disable-next-line\n        _this.droppedObjects = [];\n        _this.uploadingCount = 0;\n        _this.uploadedCount = 0;\n        //Specifies whether the operating system is MAC or not \n        _this.isMac = false;\n        FileManager_1.Inject(BreadCrumbBar, LargeIconsView, ContextMenu$2);\n        return _this;\n    }\n    FileManager_1 = FileManager;\n    /**\n     * Get component name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    FileManager.prototype.getModuleName = function () {\n        return 'filemanager';\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.preRender = function () {\n        if (isNullOrUndefined(this.element.id) || this.element.id === '') {\n            this.element.setAttribute('id', getUniqueID('filemanager'));\n        }\n        this.ensurePath();\n        this.feParent = [];\n        this.feFiles = [];\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.isDevice = Browser.isDevice;\n        this.isMobile = this.checkMobile();\n        if (this.isMobile) {\n            this.setProperties({ navigationPaneSettings: { visible: false } }, true);\n        }\n        var ele = closest(this.element, '.e-bigger');\n        this.isBigger = ele ? true : false;\n        this.activeModule = (this.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n        createSpinner({ target: this.element }, createElement);\n        this.addWrapper();\n        this.keyConfigs = {\n            altN: 'alt+n',\n            f5: 'f5',\n            ctrlShift1: 'ctrl+shift+1',\n            ctrlShift2: 'ctrl+shift+2',\n            ctrlU: 'ctrl+u'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n    };\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string} - returns the persisted data.\n     * @hidden\n     */\n    FileManager.prototype.getPersistData = function () {\n        var keyEntity = ['view', 'path', 'selectedItems'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} - returns module declaration.\n     * @hidden\n     */\n    FileManager.prototype.requiredModules = function () {\n        var modules = [];\n        modules.push({\n            member: 'breadcrumbbar',\n            args: [this]\n        });\n        modules.push({\n            member: 'largeiconsview',\n            args: [this]\n        });\n        if (this.toolbarSettings.visible) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.navigationPaneSettings.visible) {\n            modules.push({\n                member: 'navigationpane',\n                args: [this]\n            });\n        }\n        if (this.view) {\n            modules.push({\n                member: 'detailsview',\n                args: [this]\n            });\n        }\n        if (this.contextMenuSettings.visible && !this.isDevice) {\n            modules.push({\n                member: 'contextmenu',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    FileManager.prototype.render = function () {\n        this.initialize();\n        var slItems = isNullOrUndefined(this.selectedItems) ? [] :\n            this.allowMultiSelection ? this.selectedItems : this.selectedItems.slice(this.selectedItems.length - 1);\n        this.setProperties({ selectedItems: slItems }, true);\n        this.fileView = this.view;\n        this.isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\n        this.setRtl(this.enableRtl);\n        this.addEventListeners();\n        read(this, (this.path !== this.originalPath) ? initialEnd : finalizeEnd, this.path);\n        this.adjustHeight();\n        if (isNullOrUndefined(this.navigationpaneModule)) {\n            this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n            var bar = select('.' + SPLIT_BAR, this.element);\n            bar.classList.add(DISPLAY_NONE);\n        }\n        this.wireEvents();\n        this.renderComplete();\n    };\n    FileManager.prototype.ensurePath = function () {\n        var currentPath = this.path;\n        if (isNullOrUndefined(currentPath)) {\n            currentPath = '/';\n        }\n        if (currentPath.lastIndexOf('/') !== (currentPath.length - 1)) {\n            currentPath = currentPath + '/';\n        }\n        this.originalPath = currentPath;\n        var paths = currentPath.split('/');\n        this.setProperties({ path: paths[0] + '/' }, true);\n        this.pathNames = [];\n        this.pathId = ['fe_tree'];\n        this.itemData = [];\n    };\n    FileManager.prototype.initialize = function () {\n        if (this.isMobile) {\n            addClass([this.element], MOBILE);\n        }\n        if (this.allowMultiSelection) {\n            addClass([this.element], CHECK_SELECT);\n        }\n        this.addCssClass(null, this.cssClass);\n        this.renderFileUpload();\n    };\n    FileManager.prototype.addWrapper = function () {\n        var headerWrap = this.createElement('div', { id: this.element.id + TOOLBAR_ID });\n        this.element.appendChild(headerWrap);\n        var layoutWrap = this.createElement('div', {\n            id: this.element.id + LAYOUT_ID, className: LAYOUT\n        });\n        this.element.appendChild(layoutWrap);\n        var navigationWrap = this.createElement('div', {\n            id: this.element.id + NAVIGATION_ID, className: NAVIGATION\n        });\n        var treeWrap = this.createElement('div', {\n            id: this.element.id + TREE_ID\n        });\n        navigationWrap.appendChild(treeWrap);\n        var contentWrap = this.createElement('div', {\n            id: this.element.id + CONTENT_ID, className: LAYOUT_CONTENT\n        });\n        this.breadCrumbBarNavigation = this.createElement('div', {\n            id: this.element.id + BREADCRUMBBAR_ID,\n            className: BREADCRUMBS\n        });\n        contentWrap.appendChild(this.breadCrumbBarNavigation);\n        var gridWrap = this.createElement('div', {\n            id: this.element.id + GRID_ID\n        });\n        contentWrap.appendChild(gridWrap);\n        var largeiconWrap = this.createElement('div', {\n            id: this.element.id + LARGEICON_ID,\n            className: LARGE_ICONS, attrs: { 'role': 'group' }\n        });\n        contentWrap.appendChild(largeiconWrap);\n        var overlay = this.createElement('span', { className: OVERLAY });\n        contentWrap.appendChild(overlay);\n        var paneSettings;\n        if (!this.enableRtl) {\n            layoutWrap.appendChild(navigationWrap);\n            layoutWrap.appendChild(contentWrap);\n            paneSettings = [\n                {\n                    size: '25%', min: this.navigationPaneSettings.minWidth.toString(),\n                    max: this.navigationPaneSettings.maxWidth.toString()\n                },\n                { size: '75%', min: '270px' }\n            ];\n        }\n        else {\n            layoutWrap.appendChild(contentWrap);\n            layoutWrap.appendChild(navigationWrap);\n            paneSettings = [\n                { size: '75%', min: '270px' },\n                {\n                    size: '25%', min: this.navigationPaneSettings.minWidth.toString(),\n                    max: this.navigationPaneSettings.maxWidth.toString()\n                }\n            ];\n        }\n        this.splitterObj = new Splitter({\n            paneSettings: paneSettings,\n            width: '100%',\n            enableRtl: false,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            resizing: this.splitterResize.bind(this)\n        });\n        this.splitterObj.isStringTemplate = true;\n        this.splitterObj.appendTo(layoutWrap);\n        var dialogWrap = this.createElement('div', { id: this.element.id + DIALOG_ID });\n        this.element.appendChild(dialogWrap);\n        var menuWrap = this.createElement('ul', { id: this.element.id + CONTEXT_MENU_ID });\n        this.element.appendChild(menuWrap);\n        var dialogImgWrap = this.createElement('div', { id: this.element.id + IMG_DIALOG_ID });\n        this.element.appendChild(dialogImgWrap);\n        var extnDialogWrap = this.createElement('div', { id: this.element.id + EXTN_DIALOG_ID });\n        this.element.appendChild(extnDialogWrap);\n        var uploadDialogWrap = this.createElement('div', { id: this.element.id + UPLOAD_DIALOG_ID });\n        this.element.appendChild(uploadDialogWrap);\n    };\n    FileManager.prototype.adjustHeight = function () {\n        var toolbar = select('#' + this.element.id + TOOLBAR_ID, this.element);\n        var toolBarHeight = toolbar ? toolbar.offsetHeight : 0;\n        if (this.splitterObj) {\n            this.splitterObj.height = (this.element.clientHeight - toolBarHeight).toString();\n            this.splitterObj.dataBind();\n        }\n    };\n    /* istanbul ignore next */\n    FileManager.prototype.splitterResize = function () {\n        this.notify(splitterResize, {});\n    };\n    FileManager.prototype.splitterAdjust = function () {\n        var bar = select('.' + SPLIT_BAR, this.element);\n        if (this.navigationPaneSettings.visible) {\n            this.splitterObj.expand(this.enableRtl ? 1 : 0);\n            bar.classList.remove(DISPLAY_NONE);\n        }\n        else {\n            this.splitterObj.collapse(this.enableRtl ? 1 : 0);\n            bar.classList.add(DISPLAY_NONE);\n        }\n    };\n    FileManager.prototype.addCssClass = function (oldOne, newOne) {\n        if (!isNullOrUndefined(oldOne) && oldOne !== '') {\n            removeClass([this.element], oldOne.split(' '));\n        }\n        if (!isNullOrUndefined(newOne) && newOne !== '') {\n            addClass([this.element], newOne.split(' '));\n        }\n    };\n    FileManager.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    FileManager.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    FileManager.prototype.onContextMenu = function (e) {\n        e.preventDefault();\n    };\n    FileManager.prototype.checkMobile = function () {\n        return (/iphone|ipod|android|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile/i.test(Browser.userAgent.toLowerCase())\n            && /mobile/i.test(Browser.userAgent.toLowerCase()));\n    };\n    FileManager.prototype.renderFileUpload = function () {\n        var id = this.element.id + UPLOAD_ID;\n        var uploadEle = this.createElement('input', { id: id, attrs: { name: 'uploadFiles', type: 'file' } });\n        this.element.appendChild(uploadEle);\n        this.uploadDialogObj = new Dialog({\n            header: getLocaleText(this, 'Header-Upload'),\n            content: uploadEle,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: false,\n            isModal: true,\n            width: '350px',\n            target: this.popupTarget ? this.popupTarget : '#' + this.element.id,\n            cssClass: getCssClass(this, this.isMobile ? MOB_POPUP : ROOT_POPUP),\n            locale: this.locale,\n            allowDragging: true,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: this.enableRtl,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            open: this.onOpen.bind(this),\n            close: this.onClose.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this)\n        });\n        this.uploadDialogObj.appendTo('#' + this.element.id + UPLOAD_DIALOG_ID);\n        this.renderUploadBox();\n    };\n    FileManager.prototype.renderUploadBox = function () {\n        var uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n        this.uploadObj = new Uploader({\n            dropArea: select('#' + this.element.id + CONTENT_ID, this.element),\n            asyncSettings: {\n                saveUrl: uploadUrl,\n                removeUrl: uploadUrl\n            },\n            locale: this.locale,\n            enableRtl: this.enableRtl,\n            uploading: this.onUploading.bind(this),\n            removing: this.onRemoving.bind(this),\n            canceling: this.onCancel.bind(this),\n            clearing: this.onClearing.bind(this),\n            selected: this.onSelected.bind(this),\n            success: this.onUploadSuccess.bind(this),\n            failure: this.onUploadFailure.bind(this),\n            autoUpload: this.uploadSettings.autoUpload,\n            minFileSize: this.uploadSettings.minFileSize,\n            maxFileSize: this.uploadSettings.maxFileSize,\n            allowedExtensions: this.uploadSettings.allowedExtensions,\n            directoryUpload: this.uploadSettings.directoryUpload,\n            fileListRendering: this.onFileListRender.bind(this)\n        });\n        this.uploadObj.appendTo('#' + this.element.id + UPLOAD_ID);\n    };\n    FileManager.prototype.onFileListRender = function (args) {\n        this.trigger('uploadListCreate', args);\n    };\n    FileManager.prototype.updateUploader = function () {\n        this.uploadObj.autoUpload = this.uploadSettings.autoUpload;\n        this.uploadObj.minFileSize = this.uploadSettings.minFileSize;\n        this.uploadObj.maxFileSize = this.uploadSettings.maxFileSize;\n        this.uploadObj.allowedExtensions = this.uploadSettings.allowedExtensions;\n        this.uploadObj.directoryUpload = this.uploadSettings.directoryUpload;\n        this.uploadObj.dataBind();\n    };\n    FileManager.prototype.onBeforeOpen = function (args) {\n        var eventArgs = {\n            cancel: args.cancel, popupName: 'Upload', popupModule: this.uploadDialogObj\n        };\n        this.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n            args.cancel = eventargs.cancel;\n        });\n    };\n    FileManager.prototype.onBeforeClose = function (args) {\n        var eventArgs = {\n            cancel: args.cancel, popupName: 'Upload', popupModule: this.uploadDialogObj\n        };\n        this.trigger('beforePopupClose', eventArgs, function (eventargs) {\n            args.cancel = eventargs.cancel;\n        });\n    };\n    FileManager.prototype.onOpen = function () {\n        this.isOpened = true;\n        this.uploadDialogObj.element.focus();\n        var args = {\n            popupModule: this.uploadDialogObj, popupName: 'Upload',\n            element: this.uploadDialogObj.element\n        };\n        this.trigger('popupOpen', args);\n    };\n    FileManager.prototype.onClose = function () {\n        this.isOpened = false;\n        this.uploadObj.clearAll();\n        var args = {\n            popupModule: this.uploadDialogObj, popupName: 'Upload',\n            element: this.uploadDialogObj.element\n        };\n        this.trigger('popupClose', args);\n    };\n    /* istanbul ignore next */\n    FileManager.prototype.onUploading = function (args) {\n        var action = 'save';\n        if ((this.retryArgs.length !== 0)) {\n            for (var i = 0; i < this.retryArgs.length; i++) {\n                if (args.fileData.name === this.retryArgs[i].file.name) {\n                    action = this.retryArgs[i].action;\n                    this.retryArgs.splice(i, 1);\n                    i = this.retryArgs.length;\n                }\n            }\n        }\n        var data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n        args.customFormData = [{ 'path': this.path }, { 'action': action }, { 'data': data }, { 'filename': args.fileData.name }];\n        var uploadUrl = this.ajaxSettings.uploadUrl ? this.ajaxSettings.uploadUrl : this.ajaxSettings.url;\n        // eslint-disable-next-line\n        var ajaxSettings = {\n            url: uploadUrl,\n            type: 'POST',\n            mode: true,\n            dataType: null,\n            contentType: null,\n            data: JSON.stringify(args.customFormData),\n            onSuccess: null,\n            onFailure: null,\n            beforeSend: null\n        };\n        this.uploadEventArgs = { action: 'Upload', ajaxSettings: ajaxSettings, cancel: false };\n        this.trigger('beforeSend', this.uploadEventArgs, function (uploadEventArgs) {\n            args.customFormData = JSON.parse(getValue('data', uploadEventArgs.ajaxSettings));\n            args.cancel = uploadEventArgs.cancel;\n            // eslint-disable-next-line\n            var eventArgs = {\n                cancel: false,\n                httpRequest: args.currentRequest\n            };\n            if (typeof getValue('beforeSend', uploadEventArgs.ajaxSettings) === 'function') {\n                getValue('beforeSend', uploadEventArgs.ajaxSettings)(eventArgs);\n                if (getValue('cancel', eventArgs)) {\n                    args.cancel = getValue('cancel', eventArgs);\n                }\n            }\n        });\n    };\n    FileManager.prototype.onRemoving = function () {\n        this.onFileUploadSuccess({ count: 1 });\n        if (this.uploadObj.getFilesData().length === 1) {\n            this.uploadDialogObj.hide();\n        }\n    };\n    /* istanbul ignore next */\n    FileManager.prototype.onCancel = function (args) {\n        var data = JSON.stringify(getValue(this.pathId[this.pathId.length - 1], this.feParent));\n        args.customFormData = [{ 'path': this.path }, { 'action': 'remove' }, { 'data': data }];\n    };\n    /* istanbul ignore next */\n    FileManager.prototype.onClearing = function () {\n        if (this.isOpened) {\n            this.uploadDialogObj.hide();\n        }\n    };\n    /* istanbul ignore next */\n    FileManager.prototype.onSelected = function (args) {\n        if (args.filesData.length === 0) {\n            return;\n        }\n        this.uploadingCount = args.filesData.length;\n        this.uploadedCount = 0;\n        // eslint-disable-next-line\n        var details = getPathObject(this);\n        if (!hasUploadAccess(details)) {\n            args.cancel = true;\n            createDeniedDialog(this, details, permissionUpload);\n            return;\n        }\n        this.uploadDialogObj.show();\n    };\n    // eslint-disable-next-line\n    FileManager.prototype.onFileUploadSuccess = function (args) {\n        this.uploadedCount = this.uploadedCount + args.count;\n        if (this.uploadSettings.autoClose && (this.uploadingCount === this.uploadedCount)) {\n            this.uploadDialogObj.hide();\n        }\n    };\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    FileManager.prototype.onUploadSuccess = function (files) {\n        var args = { action: 'Upload', result: files };\n        this.trigger('success', args);\n        this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n        read(this, pathChanged, this.path);\n        this.onFileUploadSuccess({ count: 1 });\n        if (typeof getValue('onSuccess', this.uploadEventArgs.ajaxSettings) === 'function') {\n            getValue('onSuccess', this.uploadEventArgs.ajaxSettings)();\n        }\n    };\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    FileManager.prototype.onUploadFailure = function (files) {\n        // eslint-disable-next-line\n        var response = getValue('response', files);\n        var statusText = getValue('statusText', response);\n        if (statusText !== '') {\n            setValue('statusText', statusText, files);\n        }\n        var args = { action: 'Upload', error: files };\n        this.trigger('failure', args);\n        if (getValue('statusCode', response) === 400) {\n            this.retryFiles.push(getValue('file', files));\n            if (!this.isRetryOpened) {\n                createExtDialog(this, 'UploadRetry');\n            }\n        }\n        if (typeof getValue('onFailure', this.uploadEventArgs.ajaxSettings) === 'function') {\n            getValue('onFailure', this.uploadEventArgs.ajaxSettings)();\n        }\n    };\n    FileManager.prototype.onInitialEnd = function () {\n        setNextPath(this, this.path);\n    };\n    FileManager.prototype.addEventListeners = function () {\n        this.on(beforeRequest, this.showSpinner, this);\n        this.on(afterRequest, this.hideSpinner, this);\n        this.on(initialEnd, this.onInitialEnd, this);\n        this.on(detailsInit, this.onDetailsInit, this);\n        this.on(skipUpload, this.onFileUploadSuccess, this);\n        EventHandler.add(this.element, 'contextmenu', this.onContextMenu, this);\n    };\n    FileManager.prototype.removeEventListeners = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        this.off(beforeRequest, this.showSpinner);\n        this.off(afterRequest, this.hideSpinner);\n        this.off(initialEnd, this.onInitialEnd);\n        this.off(detailsInit, this.onDetailsInit);\n        this.off(skipUpload, this.onFileUploadSuccess);\n        EventHandler.remove(this.element, 'contextmenu', this.onContextMenu);\n    };\n    FileManager.prototype.onDetailsInit = function () {\n        if (isNullOrUndefined(this.activeModule)) {\n            this.itemData = [getValue(this.pathId[this.pathId.length - 1], this.feParent)];\n        }\n    };\n    FileManager.prototype.resizeHandler = function () {\n        this.adjustHeight();\n        this.notify(resizeEnd, {});\n    };\n    FileManager.prototype.keyActionHandler = function (e) {\n        var uploadEle;\n        switch (e.action) {\n            case 'altN':\n                e.preventDefault();\n                this.itemData = [getPathObject(this)];\n                if (!hasContentAccess(this.itemData[0])) {\n                    createDeniedDialog(this, this.itemData[0], permissionEditContents);\n                }\n                else {\n                    createDialog(this, 'NewFolder');\n                }\n                break;\n            case 'f5':\n                e.preventDefault();\n                refresh(this);\n                break;\n            /* istanbul ignore next */\n            case 'ctrlShift1':\n                e.preventDefault();\n                this.fileView = 'Details';\n                this.setProperties({ view: 'Details' }, true);\n                showSpinner(this.element);\n                updateLayout(this, 'Details');\n                break;\n            /* istanbul ignore next */\n            case 'ctrlShift2':\n                e.preventDefault();\n                this.fileView = 'LargeIcons';\n                this.setProperties({ view: 'LargeIcons' }, true);\n                showSpinner(this.element);\n                updateLayout(this, 'LargeIcons');\n                break;\n            case 'ctrlU':\n                e.preventDefault();\n                uploadEle = select('#' + this.element.id + UPLOAD_ID, this.element);\n                uploadEle.click();\n                break;\n        }\n    };\n    FileManager.prototype.wireEvents = function () {\n        EventHandler.add(window, 'resize', this.resizeHandler, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    FileManager.prototype.unWireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resizeHandler);\n        this.keyboardModule.destroy();\n    };\n    FileManager.prototype.setPath = function () {\n        this.setProperties({ selectedItems: [] }, true);\n        this.ensurePath();\n        this.notify(clearPathInit, { selectedNode: this.pathId[0] });\n        read(this, (this.path !== this.originalPath) ? initialEnd : finalizeEnd, this.path);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {FileManager} newProp\n     * @param  {FileManager} oldProp\n     * @returns void\n     * @private\n     */\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    FileManager.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var height;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'ajaxSettings':\n                    this.ajaxSettingSetModel(newProp);\n                    break;\n                case 'allowDragAndDrop':\n                    this.allowDragAndDrop = newProp.allowDragAndDrop;\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'allowMultiSelection':\n                    if (this.allowMultiSelection) {\n                        addClass([this.element], CHECK_SELECT);\n                    }\n                    else {\n                        if (this.selectedItems.length > 1) {\n                            this.setProperties({ selectedItems: this.selectedItems.slice(this.selectedItems.length - 1) }, true);\n                        }\n                        removeClass([this.element], CHECK_SELECT);\n                    }\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'cssClass':\n                    this.addCssClass(oldProp.cssClass, newProp.cssClass);\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'detailsViewSettings':\n                    this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'enableRtl':\n                    this.enableRtl = newProp.enableRtl;\n                    this.refresh();\n                    break;\n                case 'rootAliasName':\n                    this.rootAliasName = newProp.rootAliasName;\n                    this.refresh();\n                    break;\n                case 'height':\n                    height = !isNullOrUndefined(newProp.height) ? formatUnit(newProp.height) : newProp.height;\n                    setStyleAttribute(this.element, { 'height': height });\n                    this.adjustHeight();\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'locale':\n                    if (!isNullOrUndefined(newProp.enableRtl)) {\n                        this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    }\n                    this.localeSetModelOption(newProp);\n                    break;\n                case 'navigationPaneSettings':\n                    this.splitterAdjust();\n                    this.notify(modelChanged, { module: 'navigationpane', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'path':\n                    this.setPath();\n                    break;\n                case 'searchSettings':\n                    if (!isNullOrUndefined(newProp.searchSettings.allowSearchOnTyping)) {\n                        this.setProperties({ searchSettings: { allowSearchOnTyping: newProp.searchSettings.allowSearchOnTyping } }, true);\n                    }\n                    if (isNullOrUndefined(newProp.searchSettings.ignoreCase)) {\n                        this.setProperties({ searchSettings: { ignoreCase: newProp.searchSettings.ignoreCase } }, true);\n                    }\n                    if (isNullOrUndefined(newProp.searchSettings.filterType)) {\n                        this.setProperties({ searchSettings: { filterType: newProp.searchSettings.filterType } }, true);\n                    }\n                    this.notify(modelChanged, { module: 'breadcrumbbar', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'selectedItems':\n                    if (this.view === 'Details') {\n                        this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    else if (this.view === 'LargeIcons') {\n                        this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    break;\n                case 'showFileExtension':\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'showHiddenItems':\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'showThumbnail':\n                    this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'toolbarSettings':\n                    this.adjustHeight();\n                    this.notify(modelChanged, { module: 'toolbar', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'uploadSettings':\n                    this.updateUploader();\n                    break;\n                case 'view':\n                    if (newProp.view === 'Details') {\n                        this.notify(modelChanged, { module: 'detailsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    else if (newProp.view === 'LargeIcons') {\n                        this.notify(modelChanged, { module: 'largeiconsview', newProp: newProp, oldProp: oldProp });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': !isNullOrUndefined(newProp.width) ? formatUnit(newProp.width) : newProp.width });\n                    this.notify(modelChanged, { module: 'common', newProp: newProp, oldProp: oldProp });\n                    break;\n                case 'sortOrder':\n                    refresh(this);\n                    this.notify(sortByChange, {});\n                    break;\n                case 'sortBy':\n                    refresh(this);\n                    this.notify(sortByChange, {});\n                    if (this.view === 'Details') {\n                        this.notify(sortColumn, {});\n                    }\n                    break;\n                case 'popupTarget':\n                    if (this.uploadDialogObj) {\n                        this.uploadDialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.dialogObj) {\n                        this.dialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.extDialogObj) {\n                        this.extDialogObj.target = newProp.popupTarget;\n                    }\n                    if (this.viewerObj) {\n                        this.viewerObj.target = newProp.popupTarget;\n                    }\n                    break;\n            }\n        }\n    };\n    /* istanbul ignore next */\n    FileManager.prototype.ajaxSettingSetModel = function (newProp) {\n        if (!isNullOrUndefined(newProp.ajaxSettings.url)) {\n            this.setProperties({ ajaxSettings: { url: newProp.ajaxSettings.url } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.uploadUrl)) {\n            this.setProperties({ ajaxSettings: { uploadUrl: newProp.ajaxSettings.uploadUrl } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.downloadUrl)) {\n            this.setProperties({ ajaxSettings: { downloadUrl: newProp.ajaxSettings.downloadUrl } }, true);\n        }\n        if (!isNullOrUndefined(newProp.ajaxSettings.getImageUrl)) {\n            this.setProperties({ ajaxSettings: { getImageUrl: newProp.ajaxSettings.getImageUrl } }, true);\n        }\n        this.setProperties({ path: '/' }, true);\n        this.setProperties({ selectedItems: [] }, true);\n        _super.prototype.refresh.call(this);\n    };\n    /* istanbul ignore next */\n    FileManager.prototype.localeSetModelOption = function (newProp) {\n        this.uploadObj.locale = newProp.locale;\n        _super.prototype.refresh.call(this);\n    };\n    /**\n     * Triggers when the component is destroyed.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        if (!this.refreshing) {\n            this.notify(destroy, {});\n        }\n        this.uploadObj.destroy();\n        this.uploadObj = null;\n        this.uploadDialogObj.destroy();\n        this.uploadDialogObj = null;\n        this.splitterObj.destroy();\n        this.splitterObj = null;\n        if (this.dialogObj) {\n            this.dialogObj.destroy();\n            this.dialogObj = null;\n        }\n        if (this.viewerObj) {\n            this.viewerObj.destroy();\n            this.viewerObj = null;\n        }\n        if (this.extDialogObj) {\n            this.extDialogObj.destroy();\n            this.extDialogObj = null;\n        }\n        this.element.removeAttribute('style');\n        this.element.removeAttribute('tabindex');\n        this.removeEventListeners();\n        this.unWireEvents();\n        this.addCssClass(this.cssClass, null);\n        removeClass([this.element], [RTL, MOBILE, CHECK_SELECT]);\n        this.element.innerHTML = '';\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Creates a new folder in file manager.\n     *\n     * @param {string} name  Specifies the name of new folder in current path.\n     * If it is not specified, then the default new folder dialog will be opened.\n     * @returns {void}\n     */\n    FileManager.prototype.createFolder = function (name) {\n        this.notify(methodCall, { action: 'createFolder' });\n        // eslint-disable-next-line\n        var details = [getPathObject(this)];\n        this.itemData = details;\n        if (name) {\n            if (/[/\\\\|*?\"<>:]/.test(name)) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(this, 'Validation-Invalid').replace('{0}', '\"' + name + '\"'),\n                        fileExists: null\n                    }\n                };\n                createDialog(this, 'Error', result);\n            }\n            else {\n                if (!hasContentAccess(details[0])) {\n                    createDeniedDialog(this, details[0], permissionEditContents);\n                }\n                else {\n                    createFolder(this, name);\n                }\n            }\n        }\n        else {\n            createNewFolder(this);\n        }\n    };\n    /**\n     * Deletes the folders or files from the given unique identifiers.\n     *\n     * @param {string} ids - Specifies the name of folders or files in current path. If you want to delete the nested level folders or\n     * files, then specify the filter path along with name of the folders or files when performing the search or custom filtering.\n     * For ID based file provider, specify the unique identifier of folders or files.\n     * If it is not specified, then delete confirmation dialog will be opened for selected item.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.deleteFiles = function (ids) {\n        this.notify(methodCall, { action: 'deleteFiles', ids: ids });\n    };\n    /**\n     * Disables the specified toolbar items of the file manager.\n     *\n     * @param {string[]} items - Specifies an array of items to be disabled.\n     * @returns {void}\n     */\n    FileManager.prototype.disableToolbarItems = function (items) {\n        if (!isNullOrUndefined(items)) {\n            this.toolbarModule.enableItems(items, false);\n        }\n    };\n    /**\n     * Downloads the folders or files from the given unique identifiers.\n     *\n     * @param {string} ids - Specifies the name of folders or files in current path. If you want to download the nested level folders\n     * or files, then specify the filter path along with name of the folders or files when performing search or custom filtering.\n     * For ID based file provider, specify the unique identifier of folders or files.\n     * If it is not specified, then the selected items will be downloaded.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.downloadFiles = function (ids) {\n        this.notify(methodCall, { action: 'downloadFiles', ids: ids });\n    };\n    /**\n     * Enables the specified toolbar items of the file manager.\n     *\n     * @param {string[]} items - Specifies an array of items to be enabled.\n     * @returns {void}\n     */\n    FileManager.prototype.enableToolbarItems = function (items) {\n        if (!isNullOrUndefined(items)) {\n            this.toolbarModule.enableItems(items, true);\n        }\n    };\n    /**\n     * Disables the specified context menu items in file manager. This method is used only in the menuOpen event.\n     *\n     * @param {string[]} items - Specifies an array of items to be disabled.\n     * @returns {void}\n     */\n    FileManager.prototype.disableMenuItems = function (items) {\n        if (!isNullOrUndefined(items) && !isNullOrUndefined(this.contextmenuModule.contextMenu)) {\n            this.contextmenuModule.disableItem(items);\n        }\n    };\n    /**\n     * Returns the index position of given current context menu item in file manager.\n     *\n     * @param {string} item - Specifies an item to get the index position.\n     * @returns {number} - returns menu item index.\n     */\n    FileManager.prototype.getMenuItemIndex = function (item) {\n        if (this.contextmenuModule) {\n            return this.contextmenuModule.getItemIndex(item);\n        }\n        else {\n            return -1;\n        }\n    };\n    /**\n     * Returns the index position of given toolbar item in file manager.\n     *\n     * @param {string} item - Specifies an item to get the index position.\n     * @returns {number} - returns toolbar item index.\n     */\n    FileManager.prototype.getToolbarItemIndex = function (item) {\n        if (this.toolbarModule) {\n            return this.toolbarModule.getItemIndex(item);\n        }\n        else {\n            return -1;\n        }\n    };\n    /**\n     * Display the custom filtering files in file manager.\n     *\n     * @param {Object} filterData - Specifies the custom filter details along with custom file action name,\n     * which needs to be sent to the server side. If you do not specify the details, then default action name will be `filter`.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line\n    FileManager.prototype.filterFiles = function (filterData) {\n        this.filterData = filterData ? filterData : null;\n        this.setProperties({ selectedItems: [] }, true);\n        this.notify(selectionChanged, {});\n        this.isFiltered = true;\n        if (this.breadcrumbbarModule.searchObj.element.value !== '') {\n            this.breadcrumbbarModule.searchObj.element.value = '';\n        }\n        filter(this, filterEnd);\n    };\n    /**\n     * Gets the details of the selected files in the file manager.\n     *\n     * @returns {Object[]} - returns selected files.\n     */\n    // eslint-disable-next-line\n    FileManager.prototype.getSelectedFiles = function () {\n        this.notify(updateSelectionData, {});\n        return this.itemData;\n    };\n    /**\n     * Opens the corresponding file or folder from the given unique identifier.\n     *\n     * @param {string} id - Specifies the name of folder or file in current path. If you want to open the nested level folder or\n     * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n     * file provider, specify the unique identifier of folder or file.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.openFile = function (id) {\n        this.notify(methodCall, { action: 'openFile', id: id });\n    };\n    /**\n     * Refreshes the folder files of the file manager.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.refreshFiles = function () {\n        refresh(this);\n    };\n    /**\n     * Refreshes the layout of the file manager.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.refreshLayout = function () {\n        this.adjustHeight();\n        this.notify(layoutRefresh, {});\n    };\n    /**\n     * Selects the entire folders and files in current path.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.selectAll = function () {\n        this.notify(methodCall, { action: 'selectAll' });\n    };\n    /**\n     * Deselects the currently selected folders and files in current path.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.clearSelection = function () {\n        this.notify(methodCall, { action: 'clearSelection' });\n    };\n    /**\n     * Renames the file or folder with given new name in file manager.\n     *\n     * @param {string} id - Specifies the name of folder or file in current path. If you want to rename the nested level folder or\n     * file, then specify the filter path along with name of the folder or file when performing search or custom filtering. For ID based\n     * file provider, specify the unique identifier of folder or file.\n     * If it is not specified, then rename dialog will be opened for selected item.\n     *\n     * @param {string} name  Specifies the new name of the file or folder in current path. If it is not specified, then rename dialog\n     * will be opened for given identifier.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.renameFile = function (id, name) {\n        this.notify(methodCall, { action: 'renameFile', id: id, newName: name });\n    };\n    /**\n     * Opens the upload dialog in file manager.\n     *\n     * @returns {void}\n     */\n    FileManager.prototype.uploadFiles = function () {\n        // eslint-disable-next-line\n        var details = [getPathObject(this)];\n        this.itemData = details;\n        uploadItem(this);\n    };\n    /**\n     * Specifies the direction of FileManager\n     *\n     * @param {boolean} rtl - specifies rtl parameter.\n     * @returns {void}\n     */\n    FileManager.prototype.setRtl = function (rtl) {\n        if (rtl) {\n            this.addCssClass(null, RTL);\n        }\n        else {\n            this.addCssClass(RTL, null);\n        }\n        if (this.uploadObj) {\n            this.uploadDialogObj.enableRtl = rtl;\n            this.uploadObj.enableRtl = rtl;\n        }\n    };\n    var FileManager_1;\n    __decorate$8([\n        Complex({}, AjaxSettings)\n    ], FileManager.prototype, \"ajaxSettings\", void 0);\n    __decorate$8([\n        Property(false)\n    ], FileManager.prototype, \"allowDragAndDrop\", void 0);\n    __decorate$8([\n        Property(true)\n    ], FileManager.prototype, \"allowMultiSelection\", void 0);\n    __decorate$8([\n        Complex({}, ContextMenuSettings)\n    ], FileManager.prototype, \"contextMenuSettings\", void 0);\n    __decorate$8([\n        Property('')\n    ], FileManager.prototype, \"cssClass\", void 0);\n    __decorate$8([\n        Complex({}, DetailsViewSettings)\n    ], FileManager.prototype, \"detailsViewSettings\", void 0);\n    __decorate$8([\n        Property(true)\n    ], FileManager.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$8([\n        Property(false)\n    ], FileManager.prototype, \"enablePersistence\", void 0);\n    __decorate$8([\n        Property('400px')\n    ], FileManager.prototype, \"height\", void 0);\n    __decorate$8([\n        Property('LargeIcons')\n    ], FileManager.prototype, \"view\", void 0);\n    __decorate$8([\n        Complex({}, NavigationPaneSettings)\n    ], FileManager.prototype, \"navigationPaneSettings\", void 0);\n    __decorate$8([\n        Property('/')\n    ], FileManager.prototype, \"path\", void 0);\n    __decorate$8([\n        Property(null)\n    ], FileManager.prototype, \"popupTarget\", void 0);\n    __decorate$8([\n        Complex({}, SearchSettings)\n    ], FileManager.prototype, \"searchSettings\", void 0);\n    __decorate$8([\n        Property()\n    ], FileManager.prototype, \"selectedItems\", void 0);\n    __decorate$8([\n        Property(true)\n    ], FileManager.prototype, \"showFileExtension\", void 0);\n    __decorate$8([\n        Property(null)\n    ], FileManager.prototype, \"rootAliasName\", void 0);\n    __decorate$8([\n        Property(false)\n    ], FileManager.prototype, \"showHiddenItems\", void 0);\n    __decorate$8([\n        Property(true)\n    ], FileManager.prototype, \"showThumbnail\", void 0);\n    __decorate$8([\n        Property('Ascending')\n    ], FileManager.prototype, \"sortOrder\", void 0);\n    __decorate$8([\n        Property('name')\n    ], FileManager.prototype, \"sortBy\", void 0);\n    __decorate$8([\n        Complex({}, ToolbarSettings)\n    ], FileManager.prototype, \"toolbarSettings\", void 0);\n    __decorate$8([\n        Complex({}, UploadSettings)\n    ], FileManager.prototype, \"uploadSettings\", void 0);\n    __decorate$8([\n        Property('100%')\n    ], FileManager.prototype, \"width\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileLoad\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileOpen\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"beforeDownload\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"beforeImageLoad\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"beforePopupClose\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"beforePopupOpen\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"beforeSend\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"created\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"destroyed\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileDragStart\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileDragging\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileDragStop\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileDropped\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileSelection\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"fileSelect\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"menuClick\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"menuOpen\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"failure\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"popupClose\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"popupOpen\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"success\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"toolbarClick\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"toolbarCreate\", void 0);\n    __decorate$8([\n        Event()\n    ], FileManager.prototype, \"uploadListCreate\", void 0);\n    FileManager = FileManager_1 = __decorate$8([\n        NotifyPropertyChanges\n    ], FileManager);\n    return FileManager;\n}(Component));\n\n/**\n * File Manager base modules\n */\n\n/**\n * Toolbar module\n */\nvar Toolbar$1 = /** @__PURE__ @class */ (function () {\n    /**\n     * Constructor for the Toolbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies the parent element.\n     * @private\n     */\n    function Toolbar$$1(parent) {\n        this.default = ['Delete', 'Rename', 'Download', 'Cut', 'Copy', 'Paste'];\n        this.single = ['Delete', 'Rename', 'Download', 'Cut', 'Copy'];\n        this.multiple = ['Delete', 'Download', 'Cut', 'Copy', 'Refresh'];\n        this.selection = ['NewFolder', 'Upload', 'SortBy', 'Refresh'];\n        this.parent = parent;\n        this.render();\n        this.addEventListener();\n    }\n    Toolbar$$1.prototype.render = function () {\n        var _this = this;\n        this.items = this.toolbarItemData(this.getItems(this.parent.toolbarSettings.items.map(function (item) { return item.trim(); })));\n        var eventArgs = { items: this.items };\n        this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n            _this.items = toolbarCreateArgs.items;\n            _this.toolbarObj = new Toolbar({\n                items: _this.items,\n                created: _this.toolbarCreateHandler.bind(_this),\n                overflowMode: 'Popup',\n                clicked: _this.onClicked.bind(_this),\n                enableHtmlSanitizer: _this.parent.enableHtmlSanitizer,\n                enableRtl: _this.parent.enableRtl\n            });\n            _this.toolbarObj.isStringTemplate = true;\n            _this.toolbarObj.appendTo('#' + _this.parent.element.id + TOOLBAR_ID);\n        });\n    };\n    Toolbar$$1.prototype.getItemIndex = function (item) {\n        var itemId = this.getId(item);\n        for (var i = 0; i < this.items.length; i++) {\n            if (this.items[i].id === itemId) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    Toolbar$$1.prototype.getItems = function (items) {\n        var currItems = items.slice();\n        if (this.parent.isDevice && this.parent.allowMultiSelection) {\n            currItems.push('SelectAll');\n        }\n        return currItems;\n    };\n    /* istanbul ignore next */\n    Toolbar$$1.prototype.onClicked = function (args) {\n        var _this = this;\n        if (isNullOrUndefined(args.item) || !args.item.id) {\n            return;\n        }\n        var tool = args.item.id.substr((this.parent.element.id + '_tb_').length);\n        // eslint-disable-next-line\n        var details;\n        if (tool === 'refresh' || tool === 'newfolder' || tool === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(selectedData, {});\n            details = this.parent.itemData;\n        }\n        var eventArgs = { cancel: false, fileDetails: details, item: args.item };\n        this.parent.trigger('toolbarClick', eventArgs, function (toolbarClickArgs) {\n            var sItems;\n            var target;\n            if (!toolbarClickArgs.cancel) {\n                switch (tool) {\n                    case 'sortby':\n                        target = closest(args.originalEvent.target, '.' + TB_ITEM);\n                        if (target && target.classList.contains('e-toolbar-popup')) {\n                            args.cancel = true;\n                        }\n                        break;\n                    case 'newfolder':\n                        createNewFolder(_this.parent);\n                        break;\n                    case 'cut':\n                        cutFiles(_this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(_this.parent);\n                        break;\n                    case 'delete':\n                        for (var i = 0; i < details.length; i++) {\n                            if (!hasEditAccess(details[i])) {\n                                createDeniedDialog(_this.parent, details[i], permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(_this.parent, 'Delete');\n                        break;\n                    case 'details':\n                        _this.parent.notify(detailsInit, {});\n                        sItems = _this.parent.selectedItems;\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n                        break;\n                    case 'paste':\n                        _this.parent.folderPath = '';\n                        pasteHandler(_this.parent);\n                        break;\n                    case 'refresh':\n                        refresh(_this.parent);\n                        break;\n                    case 'download':\n                        doDownload(_this.parent);\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(_this.parent, details[0], permissionEdit);\n                        }\n                        else {\n                            _this.parent.notify(renameInit, {});\n                            createDialog(_this.parent, 'Rename');\n                        }\n                        break;\n                    case 'upload':\n                        uploadItem(_this.parent);\n                        break;\n                    case 'selectall':\n                        _this.parent.notify(selectAllInit, {});\n                        break;\n                    case 'selection':\n                        _this.parent.notify(clearAllInit, {});\n                        break;\n                }\n            }\n        });\n    };\n    Toolbar$$1.prototype.toolbarCreateHandler = function () {\n        if (!isNullOrUndefined(select('#' + this.getId('SortBy'), this.parent.element))) {\n            var items = [\n                { id: this.getPupupId('name'), text: getLocaleText(this.parent, 'Name'),\n                    iconCss: this.parent.sortBy === 'name' ? TB_OPTION_DOT : '' },\n                { id: this.getPupupId('size'), text: getLocaleText(this.parent, 'Size'),\n                    iconCss: this.parent.sortBy === 'size' ? TB_OPTION_DOT : '' },\n                { id: this.getPupupId('date'), text: getLocaleText(this.parent, 'DateModified'),\n                    iconCss: this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '' },\n                { separator: true },\n                { id: this.getPupupId('ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                    iconCss: this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '' },\n                { id: this.getPupupId('descending'), text: getLocaleText(this.parent, 'Descending'),\n                    iconCss: this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '' },\n                { id: this.getPupupId('none'), text: getLocaleText(this.parent, 'None'),\n                    iconCss: this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '' }\n            ];\n            this.buttonObj = new DropDownButton({\n                items: items, cssClass: getCssClass(this.parent, ROOT_POPUP),\n                select: sortbyClickHandler.bind(this, this.parent),\n                enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                enableRtl: this.parent.enableRtl, iconCss: ICON_SHORTBY\n            });\n            this.buttonObj.isStringTemplate = true;\n            this.buttonObj.appendTo('#' + this.getId('SortBy'));\n        }\n        if (!isNullOrUndefined(select('#' + this.getId('View'), this.parent.element))) {\n            var gridSpan = '<span class=\"' + ICON_GRID + ' ' + MENU_ICON + '\"></span>';\n            var largeIconSpan = '<span class=\"' + ICON_LARGE + ' ' + MENU_ICON + '\"></span>';\n            var layoutItems = [\n                {\n                    id: this.getPupupId('large'), text: largeIconSpan + getLocaleText(this.parent, 'View-LargeIcons'),\n                    iconCss: this.parent.view === 'Details' ? '' : TB_OPTION_TICK\n                },\n                {\n                    id: this.getPupupId('details'), text: gridSpan + getLocaleText(this.parent, 'View-Details'),\n                    iconCss: this.parent.view === 'Details' ? TB_OPTION_TICK : ''\n                }\n            ];\n            this.layoutBtnObj = new DropDownButton({\n                iconCss: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                cssClass: getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP),\n                items: layoutItems, select: this.layoutChange.bind(this),\n                enableRtl: this.parent.enableRtl,\n                content: '<span class=\"e-tbar-btn-text\">' + getLocaleText(this.parent, 'View') + '</span>'\n            });\n            this.layoutBtnObj.isStringTemplate = true;\n            this.layoutBtnObj.appendTo('#' + this.getId('View'));\n        }\n        this.hideItems(this.default, true);\n        this.hideStatus();\n        var btnElement = selectAll('.e-btn', this.toolbarObj.element);\n        var _loop_1 = function (btnCount) {\n            /* istanbul ignore next */\n            btnElement[btnCount].onkeydown = function (e) {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    e.preventDefault();\n                }\n            };\n            btnElement[btnCount].onkeyup = function (e) {\n                if (e.keyCode === 13 && !e.target.classList.contains('e-fe-popup')) {\n                    btnElement[btnCount].click();\n                }\n            };\n        };\n        for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n            _loop_1(btnCount);\n        }\n        this.parent.refreshLayout();\n    };\n    Toolbar$$1.prototype.updateSortByButton = function () {\n        if (this.buttonObj) {\n            var items = this.buttonObj.items;\n            for (var itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('name')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'name' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('size')) {\n                    items[itemCount].iconCss = this.parent.sortBy === 'size' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('date')) {\n                    items[itemCount].iconCss = this.parent.sortBy === '_fm_modified' ? TB_OPTION_DOT : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('ascending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Ascending' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('descending')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'Descending' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('none')) {\n                    items[itemCount].iconCss = this.parent.sortOrder === 'None' ? TB_OPTION_TICK : '';\n                }\n            }\n        }\n    };\n    Toolbar$$1.prototype.getPupupId = function (id) {\n        return this.parent.element.id + '_ddl_' + id.toLowerCase();\n    };\n    Toolbar$$1.prototype.layoutChange = function (args) {\n        if (this.parent.view === 'Details') {\n            if (args.item.id === this.getPupupId('large')) {\n                updateLayout(this.parent, 'LargeIcons');\n            }\n        }\n        else {\n            if (args.item.id === this.getPupupId('details')) {\n                updateLayout(this.parent, 'Details');\n            }\n        }\n    };\n    Toolbar$$1.prototype.toolbarItemData = function (data) {\n        var items = [];\n        var mode = 'Both';\n        if (this.parent.isMobile) {\n            mode = 'Overflow';\n        }\n        for (var i = 0; i < data.length; i++) {\n            var item = void 0;\n            var itemId = this.getId(data[i]);\n            var itemText = getLocaleText(this.parent, data[i]);\n            var itemTooltip = getLocaleText(this.parent, 'Tooltip-' + data[i]);\n            var spanElement = '<span class=\"e-tbar-btn-text e-tbar-ddb-text\">' + itemText + '</span>';\n            switch (data[i]) {\n                case '|':\n                    item = { type: 'Separator' };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_UPLOAD, showTextOn: mode };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip,\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\">' + spanElement + '</button>'\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_REFRESH, showTextOn: mode };\n                    break;\n                case 'Selection':\n                    item = {\n                        id: itemId, text: itemText, tooltipText: itemTooltip, suffixIcon: ICON_CLEAR, overflow: 'Show',\n                        align: 'Right'\n                    };\n                    break;\n                case 'View':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE,\n                        overflow: 'Show', align: 'Right', text: itemText, showTextOn: 'Overflow',\n                        template: '<button id=\"' + itemId + '\" class=\"e-tbar-btn e-tbtn-txt\" tabindex=\"-1\" aria-label=' +\n                            getLocaleText(this.parent, 'View') + '></button>'\n                    };\n                    break;\n                case 'Details':\n                    item = {\n                        id: itemId, tooltipText: itemTooltip, prefixIcon: ICON_DETAILS, overflow: 'Show', align: 'Right',\n                        text: itemText, showTextOn: 'Overflow'\n                    };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_NEWFOLDER, showTextOn: mode };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_CUT, showTextOn: mode };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_COPY, showTextOn: mode };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_PASTE, showTextOn: mode };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_DELETE, showTextOn: mode };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_RENAME, showTextOn: mode };\n                    break;\n                case 'Download':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_DOWNLOAD, showTextOn: mode };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip, prefixIcon: ICON_SELECTALL, showTextOn: mode };\n                    break;\n                default:\n                    item = { id: itemId, text: itemText, tooltipText: itemTooltip };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    };\n    Toolbar$$1.prototype.getId = function (id) {\n        return this.parent.element.id + '_tb_' + id.toLowerCase();\n    };\n    Toolbar$$1.prototype.addEventListener = function () {\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(showPaste, this.showPaste, this);\n        this.parent.on(hidePaste, this.hidePaste, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(sortByChange, this.updateSortByButton, this);\n    };\n    Toolbar$$1.prototype.reRenderToolbar = function (e) {\n        var _this = this;\n        if (e.newProp.toolbarSettings.items !== undefined) {\n            this.items = this.toolbarItemData(this.getItems(e.newProp.toolbarSettings.items.map(function (item) { return item.trim(); })));\n            var eventArgs = { items: this.items };\n            this.parent.trigger('toolbarCreate', eventArgs, function (toolbarCreateArgs) {\n                if (_this.buttonObj) {\n                    _this.buttonObj.destroy();\n                }\n                if (_this.layoutBtnObj) {\n                    _this.layoutBtnObj.destroy();\n                }\n                _this.items = toolbarCreateArgs.items;\n                _this.toolbarObj.items = _this.items;\n                _this.toolbarObj.dataBind();\n                _this.toolbarCreateHandler();\n            });\n        }\n    };\n    Toolbar$$1.prototype.onSelectionChanged = function () {\n        this.hideStatus();\n        this.hideItems(this.single, true);\n        this.hideItems(this.selection, false);\n        if (this.parent.selectedItems.length === 1) {\n            this.hideItems(this.single, false);\n            this.hideItems(this.selection, true);\n        }\n        else if (this.parent.selectedItems.length > 1) {\n            this.hideItems(this.multiple, false);\n            this.hideItems(this.selection, true);\n        }\n        var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (this.parent.selectedItems.length > 0 && ele) {\n            var txt = void 0;\n            if (this.parent.selectedItems.length === 1) {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Item-Selection');\n            }\n            else {\n                txt = this.parent.selectedItems.length + ' ' + getLocaleText(this.parent, 'Items-Selection');\n            }\n            select('.e-tbar-btn-text', ele).textContent = txt;\n            this.toolbarObj.hideItem(ele.parentElement, false);\n        }\n    };\n    Toolbar$$1.prototype.hideItems = function (tools, toHide) {\n        for (var i = 0; i < tools.length; i++) {\n            var ele = select('#' + this.getId(tools[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.hideItem(ele.parentElement, toHide);\n            }\n        }\n    };\n    Toolbar$$1.prototype.hideStatus = function () {\n        var ele = select('#' + this.getId('Selection'), this.toolbarObj.element);\n        if (ele) {\n            this.toolbarObj.hideItem(ele.parentElement, true);\n        }\n    };\n    Toolbar$$1.prototype.showPaste = function () {\n        this.hideItems(['Paste'], false);\n    };\n    Toolbar$$1.prototype.hidePaste = function () {\n        this.hideItems(['Paste'], true);\n    };\n    Toolbar$$1.prototype.onLayoutChange = function () {\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.iconCss = this.parent.view === 'Details' ? ICON_GRID : ICON_LARGE;\n            var items = this.layoutBtnObj.items;\n            for (var itemCount = 0; itemCount < items.length; itemCount++) {\n                if (items[itemCount].id === this.getPupupId('large')) {\n                    items[itemCount].iconCss = this.parent.view === 'LargeIcons' ? TB_OPTION_TICK : '';\n                }\n                else if (items[itemCount].id === this.getPupupId('details')) {\n                    items[itemCount].iconCss = this.parent.view === 'Details' ? TB_OPTION_TICK : '';\n                }\n            }\n        }\n    };\n    Toolbar$$1.prototype.removeEventListener = function () {\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(selectionChanged, this.onSelectionChanged);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(showPaste, this.showPaste);\n        this.parent.off(hidePaste, this.hidePaste);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(sortByChange, this.updateSortByButton);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    Toolbar$$1.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar$$1.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    if (this.buttonObj) {\n                        this.buttonObj.cssClass = getCssClass(this.parent, ROOT_POPUP);\n                    }\n                    if (this.layoutBtnObj) {\n                        this.layoutBtnObj.cssClass = getCssClass(this.parent, 'e-caret-hide ' + ROOT_POPUP);\n                    }\n                    break;\n                case 'height':\n                case 'width':\n                    this.toolbarObj.refreshOverflow();\n                    break;\n                case 'toolbarSettings':\n                    this.reRenderToolbar(e);\n                    break;\n            }\n        }\n    };\n    Toolbar$$1.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.buttonObj) {\n            this.buttonObj.destroy();\n        }\n        if (this.layoutBtnObj) {\n            this.layoutBtnObj.destroy();\n        }\n        this.toolbarObj.destroy();\n        this.parent.refreshLayout();\n    };\n    Toolbar$$1.prototype.enableItems = function (items, isEnable) {\n        for (var i = 0; i < items.length; i++) {\n            var ele = select('#' + this.getId(items[i]), this.parent.element);\n            if (ele) {\n                this.toolbarObj.enableItems(ele.parentElement, isEnable);\n            }\n        }\n    };\n    return Toolbar$$1;\n}());\n\n/**\n * File Manager actions modules\n */\n\n/**\n * NavigationPane module\n */\nvar NavigationPane = /** @__PURE__ @class */ (function () {\n    /**\n     * Constructor for the TreeView module\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    /* istanbul ignore next */\n    function NavigationPane(parent) {\n        this.removeNodes = [];\n        this.moveNames = [];\n        this.expandTree = false;\n        this.isDrag = false;\n        this.isPathDragged = false;\n        this.isRenameParent = false;\n        this.isRightClick = false;\n        this.renameParent = null;\n        // Specifies the previously selected nodes in the treeview control.\n        this.previousSelected = null;\n        // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n        this.isNodeClickCalled = false;\n        // Specifies whether to restrict node selection in the treeview control.\n        this.restrictSelecting = false;\n        this.parent = parent;\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftF10: 'shift+F10',\n            f2: 'f2'\n        };\n    }\n    NavigationPane.prototype.onInit = function () {\n        if (!isNullOrUndefined(this.treeObj)) {\n            return;\n        }\n        // eslint-disable-next-line\n        var rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n        setValue('_fm_icon', 'e-fe-folder', rootData);\n        // eslint-disable-next-line\n        var attr = {};\n        var id = getValue('id', rootData);\n        if (!isNullOrUndefined(id)) {\n            setValue('data-id', id, attr);\n        }\n        if (!hasEditAccess(rootData)) {\n            setValue('class', getAccessClass(rootData), attr);\n        }\n        if (!isNullOrUndefined(attr)) {\n            setValue('_fm_htmlAttr', attr, rootData);\n        }\n        this.treeObj = new TreeView({\n            fields: {\n                dataSource: [rootData], id: '_fm_id', parentID: '_fm_pId', expanded: '_fm_expanded', selected: '_fm_selected', text: 'name',\n                hasChildren: 'hasChild', iconCss: '_fm_icon', htmlAttributes: '_fm_htmlAttr', tooltip: 'name'\n            },\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            sortOrder: this.parent.navigationPaneSettings.sortOrder,\n            nodeSelecting: this.onNodeSelecting.bind(this),\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeExpanding: this.onNodeExpand.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            allowEditing: true,\n            nodeEditing: this.onNodeEditing.bind(this),\n            drawNode: this.onDrowNode.bind(this),\n            enableRtl: this.parent.enableRtl,\n            dataBound: this.addDragDrop.bind(this)\n        });\n        this.treeObj.isStringTemplate = true;\n        this.treeObj.appendTo('#' + this.parent.element.id + TREE_ID);\n        this.wireEvents();\n    };\n    NavigationPane.prototype.addDragDrop = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.treeObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.treeObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragTarget: '.' + FULLROW,\n                    distance: 5,\n                    dragArea: this.parent.element,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableTailMode: true,\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    NavigationPane.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        if (!dragTarget.classList.contains(FULLROW)) {\n            return null;\n        }\n        var dragLi = closest(dragTarget, 'li');\n        this.parent.dragPath = '';\n        this.parent.dragData = [];\n        this.parent.activeElements = [];\n        this.parent.activeElements = [dragLi];\n        this.parent.dragNodes = [];\n        getModule(this.parent, dragLi);\n        // eslint-disable-next-line\n        this.parent.dragData = this.getTreeData(dragLi);\n        this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n        this.parent.dragNodes.push(this.parent.dragData[0].name);\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    NavigationPane.prototype.getDragPath = function (dragLi, text) {\n        var path = this.getDropPath(dragLi, text);\n        return getParentPath(path);\n    };\n    NavigationPane.prototype.getDropPath = function (node, text) {\n        var id = node.getAttribute('data-id');\n        var newText = this.parent.hasId ? id : text;\n        return getPath(node, newText, this.parent.hasId);\n    };\n    NavigationPane.prototype.onDrowNode = function (args) {\n        var eventArgs = {\n            element: args.node,\n            fileDetails: args.nodeData,\n            module: 'NavigationPane'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.addChild = function (files, target, prevent) {\n        // eslint-disable-next-line\n        var directories = getDirectories(files);\n        if (directories.length > 0) {\n            var length_1 = 0;\n            // eslint-disable-next-line\n            var folders = directories;\n            while (length_1 < directories.length) {\n                // eslint-disable-next-line\n                folders[length_1]._fm_icon = 'e-fe-folder';\n                // eslint-disable-next-line\n                var attr = {};\n                var id = getValue('id', folders[length_1]);\n                if (!isNullOrUndefined(id)) {\n                    setValue('data-id', id, attr);\n                }\n                if (!hasEditAccess(folders[length_1])) {\n                    setValue('class', getAccessClass(folders[length_1]), attr);\n                }\n                if (!isNullOrUndefined(attr)) {\n                    setValue('_fm_htmlAttr', attr, folders[length_1]);\n                }\n                length_1++;\n            }\n            // eslint-disable-next-line\n            this.treeObj.addNodes(directories, target, null, prevent);\n        }\n    };\n    // Node Selecting event handler\n    NavigationPane.prototype.onNodeSelecting = function (args) {\n        if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n            this.restrictSelecting = false;\n            this.isNodeClickCalled = false;\n            return;\n        }\n        if (!this.renameParent) {\n            this.parent.activeModule = 'navigationpane';\n            // eslint-disable-next-line\n            var nodeData = this.getTreeData(getValue('id', args.nodeData));\n            var eventArgs = { cancel: false, fileDetails: nodeData[0], module: 'NavigationPane' };\n            this.parent.trigger('fileOpen', eventArgs);\n            args.cancel = eventArgs.cancel;\n            if (args.cancel) {\n                this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] !== args.node.getAttribute('data-uid') : false;\n                this.treeObj.selectedNodes = this.isNodeClickCalled ? this.previousSelected : this.treeObj.selectedNodes;\n                this.previousSelected = this.treeObj.selectedNodes;\n                if (!isNullOrUndefined(this.parent) && !isNullOrUndefined(this.parent.contextmenuModule)) {\n                    this.parent.contextmenuModule.contextMenu.enableItems(['Open'], true);\n                }\n            }\n        }\n    };\n    // Opens the folder while clicking open context menu item in the treeview.\n    NavigationPane.prototype.openFileOnContextMenuClick = function (node) {\n        var data = this.treeObj.getTreeData(node);\n        // eslint-disable-next-line\n        this.parent.selectedItems = [];\n        this.parent.itemData = data;\n        this.activeNode = node;\n        this.parent.activeModule = 'navigationpane';\n        updatePath(node, this.parent.itemData[0], this.parent);\n        read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n        this.parent.visitedItem = node;\n        this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n        this.treeObj.selectedNodes = [node.getAttribute('data-uid')];\n    };\n    NavigationPane.prototype.onNodeSelected = function (args) {\n        if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n            this.parent.breadcrumbbarModule.searchObj.element.value = '';\n            this.parent.isFiltered = false;\n        }\n        this.parent.searchedItems = [];\n        if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n            return;\n        }\n        this.activeNode = args.node;\n        this.parent.activeModule = 'navigationpane';\n        // eslint-disable-next-line\n        var nodeData = this.getTreeData(getValue('id', args.nodeData));\n        this.parent.selectedItems = [];\n        this.parent.itemData = nodeData;\n        var previousPath = this.parent.path;\n        updatePath(args.node, this.parent.itemData[0], this.parent);\n        if (previousPath !== this.parent.path) {\n            this.expandNodeTarget = null;\n            if (args.node.querySelector('.' + ICONS) && args.node.querySelector('.' + LIST_ITEM) === null) {\n                this.expandNodeTarget = 'add';\n            }\n            read(this.parent, this.isPathDragged ? pasteEnd : pathChanged, this.parent.path);\n            this.parent.visitedItem = args.node;\n        }\n        this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n    };\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    NavigationPane.prototype.onPathDrag = function (args) {\n        this.isPathDragged = true;\n        this.selectResultNode(args[0]);\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeExpand = function (args) {\n        if (!args.isInteracted && !this.isDrag) {\n            return;\n        }\n        if (args.node.querySelector('.' + LIST_ITEM) === null) {\n            var text = getValue('text', args.nodeData);\n            var id = args.node.getAttribute('data-id');\n            var isId = isNullOrUndefined(id) ? false : true;\n            var newText = isNullOrUndefined(id) ? text : id;\n            var path = getPath(args.node, newText, isId);\n            this.expandNodeTarget = args.node.getAttribute('data-uid');\n            this.parent.expandedId = this.expandNodeTarget;\n            this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n            read(this.parent, nodeExpand, path);\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeExpanded = function (args) {\n        this.addChild(args.files, this.expandNodeTarget, false);\n        this.parent.expandedId = null;\n    };\n    NavigationPane.prototype.onNodeClicked = function (args) {\n        this.parent.activeModule = 'navigationpane';\n        this.previousSelected = this.treeObj.selectedNodes;\n        this.activeNode = args.node;\n        if ((args.event.which === 3) && (args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0])) {\n            this.isRightClick = true;\n            this.isNodeClickCalled = true;\n            this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n        }\n        else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            var layout = (this.parent.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n            this.parent.notify(modelChanged, { module: layout, newProp: { selectedItems: [] } });\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeEditing = function (args) {\n        if (!isNullOrUndefined(args.innerHtml)) {\n            args.cancel = true;\n        }\n    };\n    NavigationPane.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        // eslint-disable-next-line\n        var currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n        if (this.expandNodeTarget === 'add') {\n            var sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n            var ul = (!isNullOrUndefined(sNode)) ? select('.' + LIST_PARENT, sNode) : null;\n            if (isNullOrUndefined(ul)) {\n                this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n            }\n            this.expandNodeTarget = '';\n        }\n        this.expandTree = false;\n        if (isNullOrUndefined(currFiles)) {\n            setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n        }\n        if (this.parent.uploadObj.directoryUpload)\n            this.updateTree(args);\n    };\n    NavigationPane.prototype.updateTree = function (args) {\n        if (this.treeObj) {\n            var id = this.treeObj.selectedNodes[0];\n            this.updateTreeNode(args, id);\n        }\n    };\n    NavigationPane.prototype.updateTreeNode = function (args, id) {\n        var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, !toExpand);\n    };\n    NavigationPane.prototype.removeChildNodes = function (id) {\n        var sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n        var parent = select('.' + LIST_PARENT, sNode);\n        var childs = parent ? Array.prototype.slice.call(parent.children) : null;\n        if (childs) {\n            this.treeObj.removeNodes(childs);\n        }\n    };\n    NavigationPane.prototype.onOpenEnd = function (args) {\n        var sleId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n        this.treeObj.selectedNodes = [sleId];\n        this.expandNodeTarget = 'add';\n        this.onPathChanged(args);\n    };\n    NavigationPane.prototype.onOpenInit = function (args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            if (args.target.querySelector('.' + ICONS)) {\n                this.treeObj.expandAll(this.treeObj.selectedNodes);\n            }\n        }\n    };\n    NavigationPane.prototype.onInitialEnd = function (args) {\n        this.onInit();\n        this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n    };\n    NavigationPane.prototype.onFinalizeEnd = function (args) {\n        this.onInit();\n        var id = getValue('_fm_id', args.cwd);\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, false);\n        this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n    };\n    NavigationPane.prototype.onCreateEnd = function (args) {\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateItemData();\n        }\n    };\n    NavigationPane.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateActionData();\n            var name_1 = getValue('name', this.parent.itemData[0]);\n            Delete(this.parent, [name_1], this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDeleteEnd = function (args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            var selectedNode = this.treeObj.selectedNodes[0];\n            var selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n            var selectedNodeEle = closest(selcetedEle, '.' + LIST_PARENT).parentElement;\n            this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n            this.treeObj.dataBind();\n        }\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onRefreshEnd = function (args) {\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateRenameData();\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onRenameEndParent = function (args) {\n        var id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n        this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n        this.updateTreeNode(args, id);\n        this.parent.expandedId = null;\n        if (this.renameParent) {\n            this.renameParent = null;\n        }\n        else {\n            // eslint-disable-next-line\n            var resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                var nData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.isRenameParent = true;\n                var id_1 = getValue(this.treeObj.fields.id, resultData[0]);\n                this.treeObj.selectedNodes = [id_1];\n                this.treeObj.dataBind();\n            }\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onRenameEnd = function (args) {\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            this.updateTree(args);\n        }\n        else {\n            // eslint-disable-next-line\n            var data = this.treeObj.getTreeData();\n            // eslint-disable-next-line\n            var resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(data).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                var nData = new DataManager(data).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n                this.parent.expandedId = this.renameParent;\n                this.parent.itemData = this.getTreeData(this.renameParent);\n                read(this.parent, renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n            }\n        }\n    };\n    NavigationPane.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.addDragDrop();\n                    break;\n                case 'navigationPaneSettings':\n                    read(this.parent, finalizeEnd, '/');\n                    if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n                        this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n                    }\n                    break;\n            }\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDownLoadInit = function () {\n        this.doDownload();\n    };\n    NavigationPane.prototype.onSelectionChanged = function (e) {\n        this.treeObj.selectedNodes = [e.selectedNode];\n    };\n    NavigationPane.prototype.onClearPathInit = function (e) {\n        this.removeChildNodes(e.selectedNode);\n    };\n    NavigationPane.prototype.onDragEnd = function (args) {\n        var moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchDrag) {\n            moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.getMoveNames = function (files, flag, path) {\n        var moveNames = [];\n        for (var i = 0; i < files.length; i++) {\n            if (!files[i].isFile) {\n                if (!this.parent.hasId) {\n                    var name_2 = (files[i].previousName);\n                    if (flag) {\n                        path = path + files[i].previousName;\n                        var index = path.lastIndexOf('/');\n                        name_2 = path.substring(index + 1);\n                        path = path.substring(0, index + 1);\n                    }\n                    // eslint-disable-next-line\n                    var resultData = new DataManager(this.treeObj.getTreeData()).\n                        executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name_2, false));\n                    for (var j = 0; j < resultData.length; j++) {\n                        var fPath = getValue('filterPath', resultData[j]);\n                        fPath = fPath.replace(/\\\\/g, '/');\n                        if (fPath === path) {\n                            moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return moveNames;\n    };\n    NavigationPane.prototype.onCutEnd = function (args) {\n        var moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchCut) {\n            this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    };\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    NavigationPane.prototype.selectResultNode = function (resultObj) {\n        if (!this.parent.hasId) {\n            var path = getValue('filterPath', resultObj);\n            var itemname = getValue('name', resultObj);\n            // eslint-disable-next-line\n            var data = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n            if (data.length > 0) {\n                // eslint-disable-next-line\n                var resultData = new DataManager(data).\n                    executeLocal(new Query().where('filterPath', 'equal', path, false));\n                if (resultData.length > 0) {\n                    var id = getValue(this.treeObj.fields.id, resultData[0]);\n                    this.treeObj.selectedNodes = [id];\n                    this.treeObj.dataBind();\n                }\n            }\n        }\n        else {\n            this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n            this.treeObj.dataBind();\n        }\n    };\n    NavigationPane.prototype.onDropPath = function (args) {\n        this.onpasteEnd(args);\n        this.selectResultNode(this.parent.dropData);\n        this.parent.isDropEnd = !this.parent.isPasteError;\n    };\n    NavigationPane.prototype.onpasteEnd = function (args) {\n        // eslint-disable-next-line\n        var resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n        }\n        else {\n            // eslint-disable-next-line\n            var nData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n            if (nData.length > 0) {\n                resultData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n            }\n        }\n        if (resultData.length > 0) {\n            var id = getValue(this.treeObj.fields.id, resultData[0]);\n            var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n            this.removeChildNodes(id);\n            this.addChild(args.files, id, toExpand);\n        }\n        this.parent.expandedId = null;\n        this.onPathChanged(args);\n        if (this.parent.isDragDrop) {\n            this.checkDropPath(args);\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.checkDropPath = function (args) {\n        if (this.parent.hasId) {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n            readDropPath(this.parent);\n            return;\n        }\n        if ((this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1)) {\n            this.parent.isDropEnd = false;\n            readDropPath(this.parent);\n        }\n        else {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n        }\n    };\n    NavigationPane.prototype.onpasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.updateItemData();\n        }\n        this.moveNames = [];\n        // eslint-disable-next-line\n        var obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n        for (var i = 0; i < obj.length; i++) {\n            if (getValue('isFile', obj[i]) === false) {\n                this.moveNames.push(getValue('_fm_id', obj[i]));\n            }\n        }\n    };\n    NavigationPane.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.activeElements = [this.activeNode];\n        }\n    };\n    NavigationPane.prototype.addEventListener = function () {\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(downloadInit, this.onDownLoadInit, this);\n        this.parent.on(initialEnd, this.onInitialEnd, this);\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutEnd, this.onCutEnd, this);\n        this.parent.on(pasteInit, this.onpasteInit, this);\n        this.parent.on(nodeExpand, this.onNodeExpanded, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(updateTreeSelection, this.onSelectionChanged, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(openEnd, this.onOpenEnd, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onRenameEnd, this);\n        this.parent.on(renameEndParent, this.onRenameEndParent, this);\n        this.parent.on(clearPathInit, this.onClearPathInit, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(dragEnd, this.onDragEnd, this);\n        this.parent.on(dragging, this.onDragging, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(pathDrag, this.onPathDrag, this);\n    };\n    NavigationPane.prototype.removeEventListener = function () {\n        this.parent.off(initialEnd, this.onInitialEnd);\n        this.parent.off(downloadInit, this.onDownLoadInit);\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutEnd, this.onCutEnd);\n        this.parent.off(pasteInit, this.onpasteInit);\n        this.parent.off(updateTreeSelection, this.onSelectionChanged);\n        this.parent.off(nodeExpand, this.onNodeExpanded);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(openEnd, this.onOpenEnd);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onRenameEnd);\n        this.parent.off(renameEndParent, this.onRenameEndParent);\n        this.parent.off(clearPathInit, this.onClearPathInit);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(dragEnd, this.onDragEnd);\n        this.parent.off(dragging, this.onDragging);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(pathDrag, this.onPathDrag);\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            // eslint-disable-next-line\n            var dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.itemData = dataobj;\n        }\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var liEle = closest(args.target, 'li');\n            this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDragging = function (args) {\n        var ele = closest(args.target, 'li');\n        if (ele.classList.contains('e-node-collapsed')) {\n            this.isDrag = true;\n            var level = parseInt(ele.getAttribute('aria-level'), 10);\n            this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n            this.isDrag = false;\n        }\n    };\n    NavigationPane.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var dropLi = closest(args.target, 'li');\n            this.parent.dropData = this.getTreeData(dropLi)[0];\n            this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    NavigationPane.prototype.getModuleName = function () {\n        return 'navigationpane';\n    };\n    NavigationPane.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.treeObj) {\n            this.unWireEvents();\n            this.treeObj.destroy();\n        }\n    };\n    NavigationPane.prototype.wireEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n            keyAction: this.keyDown.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    NavigationPane.prototype.unWireEvents = function () {\n        this.keyboardModule.destroy();\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.keyDown = function (e) {\n        var action = e.action;\n        switch (action) {\n            case 'altEnter':\n                this.parent.notify(detailsInit, {});\n                GetDetails(this.parent, [], this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n                if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n                    this.updateItemData();\n                    if (!hasEditAccess(this.parent.itemData[0])) {\n                        createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                    }\n                    else {\n                        this.removeNodes = [];\n                        createDialog(this.parent, 'Delete');\n                    }\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'shiftF10':\n                this.updateItemData();\n                if (!hasDownloadAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionDownload);\n                    return;\n                }\n                if (this.parent.selectedItems.length !== 0) {\n                    this.doDownload();\n                }\n                break;\n            case 'f2':\n                if (this.parent.selectedItems.length === 0) {\n                    // eslint-disable-next-line\n                    var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n                    if (!hasEditAccess(data)) {\n                        createDeniedDialog(this.parent, data, permissionEdit);\n                    }\n                    else {\n                        this.updateRenameData();\n                        createDialog(this.parent, 'Rename');\n                    }\n                }\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.getTreeData = function (args) {\n        // eslint-disable-next-line\n        var data = this.treeObj.getTreeData(args);\n        for (var i = 0; i < data.length; i++) {\n            if (isNullOrUndefined(getValue('hasChild', data[i]))) {\n                setValue('hasChild', false, data[i]);\n            }\n        }\n        return data;\n    };\n    NavigationPane.prototype.updateRenameData = function () {\n        this.updateItemData();\n        this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n    };\n    NavigationPane.prototype.updateItemData = function () {\n        // eslint-disable-next-line\n        var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n        this.parent.itemData = [data];\n        this.parent.isFile = false;\n    };\n    NavigationPane.prototype.updateActionData = function () {\n        this.updateItemData();\n        var newPath = getParentPath(this.parent.path);\n        this.parent.setProperties({ path: newPath }, true);\n        this.parent.pathId.pop();\n        this.parent.pathNames.pop();\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.doDownload = function () {\n        var newPath = getParentPath(this.parent.path);\n        var itemId = this.treeObj.selectedNodes[0];\n        var name = (itemId === this.parent.pathId[0]) ? '' : getValue('name', this.parent.itemData[0]);\n        Download(this.parent, newPath, [name]);\n    };\n    return NavigationPane;\n}());\n\n/**\n * DetailsView module\n */\nvar DetailsView = /** @__PURE__ @class */ (function () {\n    /**\n     * Constructor for the GridView module\n     *\n     * @param {FileManager} parent - specifies the parent.\n     * @hidden\n     */\n    function DetailsView(parent) {\n        this.isInteracted = true;\n        this.interaction = true;\n        this.isPasteOperation = false;\n        this.isColumnRefresh = false;\n        this.dragObj = null;\n        this.startIndex = null;\n        this.firstItemIndex = null;\n        this.isSelectionUpdate = false;\n        this.currentSelectedItem = [];\n        this.count = 0;\n        this.isRendered = true;\n        this.isLoaded = false;\n        this.isNameWidth = false;\n        this.pasteOperation = false;\n        this.uploadOperation = false;\n        Grid.Inject(Resize, ContextMenu$1, Sort, VirtualScroll);\n        this.parent = parent;\n        this.element = select('#' + this.parent.element.id + GRID_ID, this.parent.element);\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            tab: 'tab',\n            moveDown: 'downarrow',\n            ctrlEnd: 'ctrl+end',\n            ctrlHome: 'ctrl+home',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlLeft: 'ctrl+leftarrow',\n            ctrlRight: 'ctrl+rightarrow',\n            shiftEnd: 'shift+end',\n            shiftHome: 'shift+home',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            ctrlUp: 'ctrl+uparrow',\n            csEnd: 'ctrl+shift+end',\n            csHome: 'ctrl+shift+home',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            space: 'space',\n            ctrlSpace: 'ctrl+space',\n            shiftSpace: 'shift+space',\n            csSpace: 'ctrl+shift+space',\n            end: 'end',\n            home: 'home',\n            moveUp: 'uparrow',\n            del: 'delete',\n            ctrlX: this.parent.isMac ? 'cmd+x' : 'ctrl+x',\n            ctrlC: this.parent.isMac ? 'cmd+c' : 'ctrl+c',\n            ctrlV: this.parent.isMac ? 'cmd+v' : 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftdel: 'shift+delete',\n            ctrlD: 'ctrl+d',\n            f2: 'f2',\n            ctrlA: 'ctrl+a',\n            enter: 'enter'\n        };\n    }\n    /* istanbul ignore next */\n    DetailsView.prototype.render = function (args) {\n        showSpinner(this.parent.element);\n        if (this.parent.view === 'Details') {\n            removeClass([this.parent.element], MULTI_SELECT);\n            // eslint-disable-next-line\n            var items = getSortedData(this.parent, args.files);\n            this.checkNameWidth();\n            var columns = this.getColumns();\n            var sortSettings = void 0;\n            if (this.parent.isMobile) {\n                sortSettings = [];\n            }\n            else {\n                if (this.parent.sortOrder !== 'None') {\n                    sortSettings = [{ direction: this.parent.sortOrder, field: this.parent.sortBy }];\n                }\n            }\n            this.gridObj = new Grid({\n                dataSource: items,\n                allowSorting: true,\n                rowSelecting: this.onSelection.bind(this, 'select'),\n                rowDeselecting: this.onSelection.bind(this, 'unselect'),\n                rowSelected: this.onSelected.bind(this),\n                rowDeselected: this.onDeSelection.bind(this),\n                allowResizing: this.parent.detailsViewSettings.columnResizing,\n                selectionSettings: {\n                    type: this.parent.allowMultiSelection ? 'Multiple' : 'Single',\n                    checkboxMode: 'ResetOnRowClick'\n                },\n                enableRtl: this.parent.enableRtl,\n                pageSettings: { pageSize: 20 },\n                sortSettings: { allowUnsort: false, columns: sortSettings },\n                columns: columns,\n                recordDoubleClick: this.DblClickEvents.bind(this),\n                beforeDataBound: this.onBeforeDataBound.bind(this),\n                dataBound: this.onDataBound.bind(this),\n                rowDataBound: this.onRowDataBound.bind(this),\n                actionBegin: this.onActionBegin.bind(this),\n                headerCellInfo: this.onHeaderCellInfo.bind(this),\n                width: '100%',\n                beforeCopy: function (args) { args.cancel = true; },\n                // eslint-disable-next-line\n                load: function (args) {\n                    this.focusModule.destroy();\n                },\n                locale: this.parent.locale\n            });\n            this.gridObj.isStringTemplate = true;\n            this.gridObj.appendTo('#' + this.parent.element.id + GRID_ID);\n            this.wireEvents();\n            this.adjustHeight();\n            this.emptyArgs = args;\n        }\n    };\n    DetailsView.prototype.checkNameWidth = function () {\n        var initialColumn = this.parent.detailsViewSettings.columns;\n        this.isNameWidth = false;\n        for (var i = 0; i < initialColumn.length; i++) {\n            if (initialColumn[i].field === 'name') {\n                this.isNameWidth = !isNullOrUndefined(initialColumn[i].width);\n                return;\n            }\n        }\n    };\n    DetailsView.prototype.adjustWidth = function (columns, fieldName) {\n        if (this.isNameWidth && (fieldName === 'name')) {\n            return;\n        }\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                var nameWidth = void 0;\n                if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                    nameWidth = (this.element.clientWidth <= 500) ? '120px' : 'auto';\n                }\n                else {\n                    nameWidth = (this.element.clientWidth <= 680) ? ((fieldName === 'name') ? '120px' : '180px') : 'auto';\n                }\n                columns[i].width = nameWidth;\n            }\n        }\n    };\n    DetailsView.prototype.getColumns = function () {\n        var columns;\n        if (this.parent.isMobile) {\n            columns = [\n                {\n                    field: 'name', headerText: getLocaleText(this.parent, 'Name'), width: 'auto', minWidth: 120, headerTextAlign: 'Left',\n                    template: '<div class=\"e-fe-text\">${name}</div><div class=\"e-fe-date\">${_fm_modified}</div>' +\n                        '<span class=\"e-fe-size\">${size}</span>'\n                }\n            ];\n        }\n        else {\n            columns = JSON.parse(JSON.stringify(this.parent.detailsViewSettings.columns));\n            this.adjustWidth(columns, 'name');\n            for (var i = 0, len = columns.length; i < len; i++) {\n                columns[i].headerText = getLocaleText(this.parent, columns[i].headerText);\n            }\n        }\n        var iWidth = ((this.parent.isMobile || this.parent.isBigger) ? '54' : '46');\n        var icon = {\n            field: 'type', width: iWidth, minWidth: iWidth, template: '<span class=\"e-fe-icon ${_fm_iconClass}\"></span>',\n            allowResizing: false, allowSorting: true, customAttributes: { class: 'e-fe-grid-icon' },\n            headerTemplate: '<span class=\"e-fe-icon e-fe-folder\"></span>'\n        };\n        columns.unshift(icon);\n        if (this.parent.allowMultiSelection) {\n            var cWidth = (this.parent.isBigger ? '36' : '26');\n            var cBox = {\n                type: 'checkbox', width: cWidth, minWidth: cWidth, customAttributes: { class: 'e-fe-checkbox' },\n                allowResizing: false, allowSorting: false\n            };\n            if (this.parent.isMobile) {\n                columns.push(cBox);\n            }\n            else {\n                columns.unshift(cBox);\n            }\n        }\n        for (var i = 0, len = columns.length; i < len; i++) {\n            columns[i].disableHtmlEncode = !this.parent.enableHtmlSanitizer;\n        }\n        return columns;\n    };\n    DetailsView.prototype.adjustHeight = function () {\n        if (!this.gridObj) {\n            return;\n        }\n        var pane = select('#' + this.parent.element.id + CONTENT_ID, this.parent.element);\n        var bar = select('#' + this.parent.element.id + BREADCRUMBBAR_ID, this.parent.element);\n        var gridHeader = select('.' + GRID_HEADER, this.parent.element);\n        var height = (pane.offsetHeight - bar.offsetHeight - gridHeader.offsetHeight);\n        this.gridObj.height = height;\n        this.gridObj.dataBind();\n    };\n    DetailsView.prototype.renderCheckBox = function () {\n        this.gridObj.columns = this.getColumns();\n        this.isColumnRefresh = true;\n        this.gridObj.refreshColumns();\n    };\n    DetailsView.prototype.onRowDataBound = function (args) {\n        var td = select('.e-fe-grid-name', args.row);\n        if (!td) {\n            var columns = this.parent.detailsViewSettings.columns;\n            for (var i = 0; i < columns.length; i++) {\n                if (columns[i].field === 'name') {\n                    td = args.row.children[this.parent.allowMultiSelection ? (i + 2) : (i + 1)];\n                    break;\n                }\n            }\n        }\n        if (td) {\n            td.setAttribute('title', getValue('name', args.data));\n        }\n        if (this.parent.isLayoutChange && this.parent.isCut && this.parent.fileAction === 'move' &&\n            this.parent.selectedNodes && this.parent.selectedNodes.length !== 0) {\n            if (this.parent.selectedNodes.indexOf(getValue('name', args.data)) !== -1) {\n                addBlur(args.row);\n            }\n        }\n        if (!this.parent.showFileExtension && getValue('isFile', args.data)) {\n            var textEle = args.row.querySelector('.e-fe-text');\n            if (textEle) {\n                var name_1 = getValue('name', args.data);\n                var type = getValue('type', args.data);\n                textEle.innerHTML = name_1.substr(0, name_1.length - type.length);\n            }\n        }\n        if (getValue('size', args.data) !== undefined && args.row.querySelector('.e-fe-size')) {\n            var sizeEle = args.row.querySelector('.e-fe-size');\n            var modifiedSize = void 0;\n            if (!getValue('isFile', args.data)) {\n                modifiedSize = '';\n            }\n            else {\n                var sizeValue = getValue('size', args.data);\n                var intl = new Internationalization(this.parent.locale);\n                var value = intl.formatNumber((sizeValue / 1024), { format: 'n' });\n                modifiedSize = value + ' ' + getLocaleText(this.parent, 'KB');\n            }\n            sizeEle.innerHTML = modifiedSize;\n        }\n        if (this.parent.isMobile) {\n            if (getValue('_fm_modified', args.data) !== undefined && args.row.querySelector('.e-fe-date')) {\n                var dateEle = args.row.querySelector('.e-fe-date');\n                var intl = new Internationalization(this.parent.locale);\n                var columns = this.parent.detailsViewSettings.columns;\n                // eslint-disable-next-line\n                var format = void 0;\n                for (var i = 0; i < columns.length; i++) {\n                    if (columns[i].field === 'dateModified') {\n                        format = columns[i].format;\n                        break;\n                    }\n                }\n                var formattedString = intl.formatDate(new Date(getValue('_fm_modified', args.data)), format);\n                dateEle.innerHTML = formattedString;\n            }\n        }\n        var checkWrap = args.row.querySelector('.' + CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n        if (!hasEditAccess(args.data)) {\n            args.row.className += ' ' + getAccessClass(args.data);\n        }\n        var eventArgs = {\n            element: args.row,\n            fileDetails: args.data,\n            module: 'DetailsView'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    DetailsView.prototype.onActionBegin = function (args) {\n        if (args.requestType === 'sorting') {\n            this.parent.setProperties({ sortOrder: args.direction }, true);\n            this.parent.setProperties({ sortBy: args.columnName }, true);\n            if (this.parent.selectedItems.length !== 0) {\n                this.sortItem = true;\n                var rows = this.gridObj.getSelectedRowIndexes();\n                var len = rows.length;\n                this.sortSelectedNodes = [];\n                while (len > 0) {\n                    // eslint-disable-next-line\n                    var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n                    this.sortSelectedNodes.push(getValue(this.parent.hasId ? 'id' : 'name', data));\n                    len--;\n                }\n            }\n            this.parent.notify(sortByChange, {});\n        }\n    };\n    DetailsView.prototype.onHeaderCellInfo = function (args) {\n        var checkWrap = args.node.querySelector('.' + CB_WRAP);\n        if (checkWrap) {\n            checkWrap.classList.add('e-small');\n        }\n    };\n    DetailsView.prototype.onBeforeDataBound = function (args) {\n        showSpinner(this.parent.element);\n        // eslint-disable-next-line\n        var items = getSortedData(this.parent, this.gridObj.dataSource);\n        args.result = items;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDataBound = function () {\n        this.createDragObj();\n        if (this.parent.selectedItems.length !== 0) {\n            this.selectRecords(this.parent.selectedItems);\n        }\n        if (this.isPasteOperation === true) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.parent.pasteNodes);\n                this.isPasteOperation = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.parent.createdItem) {\n            this.selectRecords([getValue(this.parent.hasId ? 'id' : 'name', this.parent.createdItem)]);\n            this.parent.createdItem = null;\n        }\n        if (this.parent.layoutSelectedItems.length) {\n            this.selectRecords(this.parent.layoutSelectedItems);\n        }\n        if (this.parent.renamedItem) {\n            this.addSelection(this.parent.renamedItem);\n            this.parent.renamedItem = null;\n        }\n        if (this.sortItem === true) {\n            this.selectRecords(this.sortSelectedNodes);\n            this.sortItem = false;\n        }\n        if (this.isSelectionUpdate) {\n            if (!this.isColumnRefresh) {\n                this.selectRecords(this.currentSelectedItem);\n                this.isSelectionUpdate = false;\n            }\n            else {\n                this.isColumnRefresh = false;\n            }\n        }\n        if (this.uploadOperation === true) {\n            this.count++;\n            this.selectRecords(this.parent.uploadItem);\n            if (this.count === this.parent.uploadItem.length) {\n                this.uploadOperation = false;\n                this.parent.uploadItem = [];\n            }\n        }\n        if (this.gridObj.currentViewData.length * this.gridObj.getRowHeight() < this.gridObj.height) {\n            var hdTable = this.gridObj.getHeaderContent();\n            hdTable.style.paddingRight = '';\n            hdTable.style.paddingLeft = '';\n            var hdContent = select('.e-headercontent', hdTable);\n            hdContent.style.borderRightWidth = '0';\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.style.overflowY = '';\n            cnTable.classList.add('e-scrollShow');\n        }\n        else {\n            var hdTable = this.gridObj.getHeaderContent();\n            if (!this.parent.enableRtl) {\n                hdTable.style.paddingRight = '16px';\n            }\n            else {\n                hdTable.style.paddingLeft = '16px';\n            }\n            var cnTable = this.gridObj.getContent().querySelector('.e-content');\n            cnTable.classList.remove('e-scrollShow');\n        }\n        this.isRendered = true;\n        this.parent.isLayoutChange = false;\n        hideSpinner(this.parent.element);\n        this.checkEmptyDiv(this.emptyArgs);\n        this.isInteracted = this.isLoaded ? true : this.isInteracted;\n        this.isLoaded = false;\n    };\n    DetailsView.prototype.selectRecords = function (nodes) {\n        // eslint-disable-next-line\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        var sRecords = [];\n        for (var i = 0, len = gridRecords.length; i < len; i++) {\n            var node = this.parent.hasId ? getValue('id', gridRecords[i]) : getName(this.parent, gridRecords[i]);\n            if (nodes.indexOf(node) !== -1) {\n                sRecords.push(i);\n            }\n        }\n        if (sRecords.length !== 0) {\n            this.gridObj.selectRows(sRecords);\n            this.addFocus(this.gridObj.selectedRowIndex);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.addSelection = function (data) {\n        // eslint-disable-next-line\n        var items = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        var rData = [];\n        if (this.parent.hasId) {\n            rData = new DataManager(items).\n                executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n        }\n        else {\n            // eslint-disable-next-line\n            var nData = new DataManager(items).\n                executeLocal(new Query().where('name', 'equal', getValue('name', data), false));\n            if (nData.length > 0) {\n                rData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n            }\n        }\n        if (rData.length > 0) {\n            var index = items.indexOf(rData[0]);\n            this.gridObj.selectRows([index]);\n        }\n    };\n    DetailsView.prototype.onSortColumn = function () {\n        if (this.parent.sortOrder !== 'None') {\n            this.gridObj.sortModule.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n        }\n        else {\n            // eslint-disable-next-line\n            this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n        }\n    };\n    DetailsView.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.createDragObj();\n                    break;\n                case 'height':\n                    this.adjustHeight();\n                    break;\n                case 'detailsViewSettings':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.checkNameWidth();\n                        var columns = this.getColumns();\n                        this.gridObj.columns = columns;\n                        this.gridObj.allowResizing = this.parent.detailsViewSettings.columnResizing;\n                        this.gridObj.dataBind();\n                        this.gridObj.refreshColumns();\n                    }\n                    break;\n                case 'selectedItems':\n                    this.interaction = false;\n                    if (this.parent.selectedItems.length !== 0) {\n                        if (!this.parent.allowMultiSelection) {\n                            var slItems = this.parent.selectedItems.slice(this.parent.selectedItems.length - 1);\n                            this.parent.setProperties({ selectedItems: slItems }, true);\n                        }\n                        this.selectRecords(this.parent.selectedItems);\n                        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n                    }\n                    else if (!isNullOrUndefined(this.gridObj)) {\n                        this.gridObj.clearSelection();\n                    }\n                    break;\n                case 'showFileExtension':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'showHiddenItems':\n                    read(this.parent, pathChanged, this.parent.path);\n                    break;\n                case 'allowMultiSelection':\n                    if (!isNullOrUndefined(this.gridObj)) {\n                        this.currentSelectedItem = this.parent.selectedItems;\n                        this.gridObj.selectionSettings.type = e.newProp.allowMultiSelection ? 'Multiple' : 'Single';\n                        this.isSelectionUpdate = true;\n                        this.renderCheckBox();\n                    }\n                    break;\n                case 'view':\n                    updateLayout(this.parent, 'Details');\n                    break;\n                case 'width':\n                    this.onDetailsResize();\n            }\n        }\n    };\n    DetailsView.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() === '' && this.gridObj) {\n            this.parent.searchedItems = [];\n            if (!this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n            else {\n                this.updatePathColumn();\n            }\n        }\n        removeBlur(this.parent);\n        if (this.parent.view === 'Details') {\n            /* istanbul ignore next */\n            this.isInteracted = false;\n            showSpinner(this.parent.element);\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        }\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.updatePathColumn = function () {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && columnData[len - 1].field !== 'filterPath' && !this.parent.isMobile) {\n            var pathColumn$$1 = {\n                field: 'filterPath', headerText: getLocaleText(this.parent, 'Path'), minWidth: 180, width: 'auto'\n            };\n            this.gridObj.columns.push(pathColumn$$1);\n            this.adjustWidth(this.gridObj.columns, 'filterPath');\n            this.adjustWidth(this.gridObj.columns, 'name');\n            this.isColumnRefresh = true;\n            this.gridObj.refreshColumns();\n        }\n    };\n    DetailsView.prototype.checkEmptyDiv = function (args) {\n        // eslint-disable-next-line\n        var items = getSortedData(this.parent, args.files);\n        if (items.length === 0 && !isNullOrUndefined(this.element.querySelector('.' + GRID_VIEW))) {\n            createEmptyElement(this.parent, this.element, args);\n        }\n        else if (items.length !== 0 && this.element.querySelector('.' + EMPTY)) {\n            if (this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY)) {\n                var emptyDiv = this.element.querySelector('.' + GRID_VIEW).querySelector('.' + EMPTY);\n                this.element.querySelector('.' + GRID_VIEW).removeChild(emptyDiv);\n            }\n            else {\n                this.element.removeChild(this.element.querySelector('.' + EMPTY));\n            }\n        }\n    };\n    DetailsView.prototype.onOpenInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            // eslint-disable-next-line\n            var data = this.gridObj.getSelectedRecords()[0];\n            this.openContent(data);\n        }\n    };\n    DetailsView.prototype.DblClickEvents = function (args) {\n        this.gridObj.selectRows([args.rowIndex]);\n        // eslint-disable-next-line\n        var data;\n        if (args.rowData) {\n            data = JSON.parse(JSON.stringify(args.rowData));\n            this.openContent(data);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.openContent = function (data) {\n        var _this = this;\n        if (!hasReadAccess(data)) {\n            createDeniedDialog(this.parent, data, permissionRead);\n            return;\n        }\n        var eventArgs = { cancel: false, fileDetails: data, module: 'DetailsView' };\n        this.parent.trigger('fileOpen', eventArgs, function (fileOpenArgs) {\n            if (!fileOpenArgs.cancel) {\n                var name_2 = getValue('name', data);\n                if (getValue('isFile', data)) {\n                    var icon = fileType(data);\n                    if (icon === ICON_IMAGE) {\n                        var imgUrl = getImageUrl(_this.parent, data);\n                        createImageDialog(_this.parent, name_2, imgUrl);\n                    }\n                }\n                else {\n                    var val = _this.parent.breadcrumbbarModule.searchObj.element.value;\n                    if (val === '' && !_this.parent.isFiltered) {\n                        var id = getValue('id', data);\n                        _this.parent.oldPath = _this.parent.path;\n                        var newPath = _this.parent.path + (isNullOrUndefined(id) ? name_2 : id) + '/';\n                        _this.parent.setProperties({ path: newPath }, true);\n                        _this.parent.pathNames.push(name_2);\n                        _this.parent.pathId.push(getValue('_fm_id', data));\n                        _this.parent.itemData = [data];\n                        openAction(_this.parent);\n                    }\n                    else {\n                        openSearchFolder(_this.parent, data);\n                    }\n                    _this.parent.isFiltered = false;\n                }\n                _this.element.focus();\n            }\n        });\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onLayoutChange = function (args) {\n        if (this.parent.view === 'Details') {\n            if (!this.gridObj) {\n                this.render(args);\n            }\n            else {\n                this.isLoaded = true;\n            }\n            if (this.parent.isFiltered) {\n                this.updatePathColumn();\n                this.parent.setProperties({ selectedItems: [] }, true);\n            }\n            this.gridObj.dataSource = getSortedData(this.parent, args.files);\n            this.parent.notify(hideLayout, {});\n            this.gridObj.element.classList.remove(DISPLAY_NONE);\n            this.isInteracted = false;\n            this.gridObj.clearSelection();\n            if (this.parent.breadcrumbbarModule.searchObj.element.value.trim() !== '') {\n                this.onSearchFiles(args);\n            }\n            this.adjustHeight();\n            if (this.gridObj.sortSettings.columns.length > 0 && this.gridObj.sortSettings.columns[0].field !== this.parent.sortBy) {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn(this.parent.sortBy, this.parent.sortOrder);\n                }\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSearchFiles = function (args) {\n        if (this.parent.view === 'Details') {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            this.parent.notify(selectionChanged, {});\n            if (!this.parent.isLayoutChange) {\n                this.parent.layoutSelectedItems = [];\n            }\n            this.updatePathColumn();\n            this.parent.searchedItems = args.files;\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.removePathColumn = function (isRefresh) {\n        var len = this.gridObj.columns.length;\n        var columnData = JSON.parse(JSON.stringify(this.gridObj.columns));\n        if (columnData[len - 1].field && (columnData[len - 1].field === 'filterPath')) {\n            /* istanbul ignore next */\n            if (this.gridObj.sortSettings.columns[0].field === 'filterPath') {\n                if (this.parent.sortOrder !== 'None') {\n                    this.gridObj.sortColumn('name', this.parent.sortOrder);\n                }\n                else {\n                    // eslint-disable-next-line\n                    this.gridObj.dataSource = getSortedData(this.parent, this.gridObj.dataSource);\n                }\n                this.parent.notify(sortByChange, {});\n            }\n            this.gridObj.columns.pop();\n            if (!isRefresh) {\n                this.isColumnRefresh = true;\n                this.gridObj.refreshColumns();\n            }\n        }\n    };\n    DetailsView.prototype.onFinalizeEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        if (!this.gridObj) {\n            this.render(args);\n        }\n        else {\n            this.onPathChanged(args);\n        }\n    };\n    DetailsView.prototype.onCreateEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n    };\n    DetailsView.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'detailsview' && this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n        }\n    };\n    DetailsView.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n        }\n    };\n    DetailsView.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'detailsview') {\n            Delete(this.parent, this.parent.selectedItems, this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDeleteEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.onPathChanged(args);\n        this.parent.setProperties({ selectedItems: [] }, true);\n    };\n    DetailsView.prototype.onRefreshEnd = function (args) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.isInteracted = false;\n        this.removePathColumn(false);\n        this.gridObj.dataSource = getSortedData(this.parent, args.files);\n        this.emptyArgs = args;\n    };\n    DetailsView.prototype.onHideLayout = function () {\n        if (this.parent.view !== 'Details' && this.gridObj) {\n            this.gridObj.element.classList.add(DISPLAY_NONE);\n        }\n    };\n    DetailsView.prototype.onSelectAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.isInteracted = false;\n            if (this.parent.allowMultiSelection) {\n                this.gridObj.selectionModule.selectRowsByRange(0, this.gridObj.getRows().length);\n            }\n            else {\n                this.gridObj.selectRow(this.gridObj.getRows().length - 1);\n            }\n            this.isInteracted = true;\n            this.interaction = true;\n        }\n    };\n    DetailsView.prototype.onClearAllInit = function () {\n        if (this.parent.view === 'Details') {\n            this.removeSelection();\n            this.interaction = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelectionChanged = function () {\n        removeClass([this.element], HEADER_CHECK);\n        if (this.parent.selectedItems.length > 0) {\n            addClass([this.element], HEADER_CHECK);\n        }\n    };\n    DetailsView.prototype.onLayoutRefresh = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.adjustHeight();\n    };\n    DetailsView.prototype.onBeforeRequest = function () {\n        this.isRendered = false;\n    };\n    DetailsView.prototype.onAfterRequest = function () {\n        this.isRendered = true;\n    };\n    DetailsView.prototype.onUpdateSelectionData = function () {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        this.parent.itemData = this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.addEventListener = function () {\n        this.parent.on(finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(destroy, this.destroy, this);\n        this.parent.on(layoutChange, this.onLayoutChange, this);\n        this.parent.on(pathChanged, this.onPathChanged, this);\n        this.parent.on(createEnd, this.onCreateEnd, this);\n        this.parent.on(dropInit, this.onDropInit, this);\n        this.parent.on(detailsInit, this.onDetailsInit, this);\n        this.parent.on(refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(search, this.onSearchFiles, this);\n        this.parent.on(methodCall, this.onMethodCall, this);\n        this.parent.on(actionFailure, this.onActionFailure, this);\n        this.parent.on(modelChanged, this.onPropertyChanged, this);\n        this.parent.on(deleteInit, this.onDeleteInit, this);\n        this.parent.on(deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(selectedData, this.onSelectedData, this);\n        this.parent.on(renameInit, this.onRenameInit, this);\n        this.parent.on(renameEnd, this.onPathChanged, this);\n        this.parent.on(openInit, this.onOpenInit, this);\n        this.parent.on(sortColumn, this.onSortColumn, this);\n        this.parent.on(openEnd, this.onPathChanged, this);\n        this.parent.on(filterEnd, this.onPathChanged, this);\n        this.parent.on(pasteInit, this.onPasteInit, this);\n        this.parent.on(hideLayout, this.onHideLayout, this);\n        this.parent.on(selectAllInit, this.onSelectAllInit, this);\n        this.parent.on(clearAllInit, this.onClearAllInit, this);\n        this.parent.on(pathColumn, this.onPathColumn, this);\n        this.parent.on(selectionChanged, this.onSelectionChanged, this);\n        this.parent.on(beforeRequest, this.onBeforeRequest, this);\n        this.parent.on(afterRequest, this.onAfterRequest, this);\n        this.parent.on(pasteEnd, this.onpasteEnd, this);\n        this.parent.on(cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(menuItemData, this.onMenuItemData, this);\n        this.parent.on(resizeEnd, this.onDetailsResizeHandler, this);\n        this.parent.on(splitterResize, this.onDetailsResize, this);\n        this.parent.on(layoutRefresh, this.onLayoutRefresh, this);\n        this.parent.on(dropPath, this.onDropPath, this);\n        this.parent.on(updateSelectionData, this.onUpdateSelectionData, this);\n    };\n    DetailsView.prototype.removeEventListener = function () {\n        this.parent.off(finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(destroy, this.destroy);\n        this.parent.off(layoutChange, this.onLayoutChange);\n        this.parent.off(pathChanged, this.onPathChanged);\n        this.parent.off(pasteInit, this.onPasteInit);\n        this.parent.off(createEnd, this.onCreateEnd);\n        this.parent.off(refreshEnd, this.onRefreshEnd);\n        this.parent.off(search, this.onSearchFiles);\n        this.parent.off(methodCall, this.onMethodCall);\n        this.parent.off(actionFailure, this.onActionFailure);\n        this.parent.off(modelChanged, this.onPropertyChanged);\n        this.parent.off(renameInit, this.onRenameInit);\n        this.parent.off(renameEnd, this.onPathChanged);\n        this.parent.off(filterEnd, this.onPathChanged);\n        this.parent.off(openInit, this.onOpenInit);\n        this.parent.off(sortColumn, this.onSortColumn);\n        this.parent.off(openEnd, this.onPathChanged);\n        this.parent.off(hideLayout, this.onHideLayout);\n        this.parent.off(selectAllInit, this.onSelectAllInit);\n        this.parent.off(clearAllInit, this.onClearAllInit);\n        this.parent.off(deleteInit, this.onDeleteInit);\n        this.parent.off(deleteEnd, this.onDeleteEnd);\n        this.parent.off(pathColumn, this.onPathColumn);\n        this.parent.off(selectionChanged, this.onSelectionChanged);\n        this.parent.off(beforeRequest, this.onBeforeRequest);\n        this.parent.off(afterRequest, this.onAfterRequest);\n        this.parent.off(pasteEnd, this.onpasteEnd);\n        this.parent.off(cutCopyInit, this.oncutCopyInit);\n        this.parent.off(dropInit, this.onDropInit);\n        this.parent.off(selectedData, this.onSelectedData);\n        this.parent.off(detailsInit, this.onDetailsInit);\n        this.parent.off(menuItemData, this.onMenuItemData);\n        this.parent.off(resizeEnd, this.onDetailsResizeHandler);\n        this.parent.off(splitterResize, this.onDetailsResize);\n        this.parent.off(layoutRefresh, this.onLayoutRefresh);\n        this.parent.off(dropPath, this.onDropPath);\n        this.parent.off(updateSelectionData, this.onUpdateSelectionData);\n    };\n    DetailsView.prototype.onActionFailure = function () { this.interaction = true; };\n    // eslint-disable-next-line\n    DetailsView.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = [this.gridObj.getRowInfo(args.target).rowData];\n        }\n    };\n    DetailsView.prototype.onPasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.itemData = (this.parent.folderPath !== '') ? this.gridObj.getSelectedRecords() :\n                [getPathObject(this.parent)];\n        }\n    };\n    DetailsView.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            if (this.parent.selectedItems.length !== 0) {\n                this.parent.itemData = this.gridObj.getSelectedRecords();\n            }\n            else {\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n            }\n        }\n    };\n    DetailsView.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        var dragLi = dragTarget.closest('tr.e-row');\n        if (!dragLi) {\n            return null;\n        }\n        var name;\n        if (dragLi.getElementsByClassName('e-fe-text')[0]) {\n            name = dragLi.getElementsByClassName('e-fe-text')[0].innerText;\n        }\n        else if (dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling) {\n            name = dragLi.getElementsByClassName(\"e-rowcell e-templatecell\")[0].nextElementSibling.innerText;\n        }\n        if (dragLi && !dragLi.querySelector('.e-active')) {\n            this.selectRecords([name]);\n        }\n        getModule(this.parent, dragLi);\n        this.parent.activeElements = [];\n        this.parent.dragData = [];\n        // eslint-disable-next-line\n        this.parent.dragData = this.gridObj.getSelectedRecords();\n        var dragRow;\n        if (this.parent.dragData.length === 0 && dragLi) {\n            dragRow = this.gridObj.getRowInfo(dragLi);\n        }\n        if (dragRow) {\n            this.parent.dragData.push(dragRow.rowData);\n        }\n        this.parent.dragPath = this.parent.path;\n        this.parent.activeElements = this.gridObj.getSelectedRows();\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onDetailsResize = function () {\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n            var gridHeader = this.gridObj.getHeaderContent().querySelector('.e-headercontent');\n            var gridHeaderColGroup = gridHeader.firstChild.childNodes[0];\n            var gridContentColGroup = this.gridObj.getContent().querySelector('.e-content .e-table').children[0];\n            var gridHeaderColNames = this.gridObj.getColumns();\n            for (var i = 0; i < gridHeaderColNames.length; i++) {\n                if ((!this.isNameWidth && gridHeaderColNames[i].field === 'name') || gridHeaderColNames[i].field === 'filterPath') {\n                    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                        if (this.element.clientWidth <= 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                        }\n                        else if (this.element.clientWidth > 500) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                    else {\n                        if (this.element.clientWidth <= 680) {\n                            if (gridHeaderColNames[i].field === 'name') {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 120px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 120px');\n                            }\n                            else {\n                                gridHeaderColGroup.children[i].setAttribute('style', 'width: 180px');\n                                gridContentColGroup.children[i].setAttribute('style', 'width: 180px');\n                            }\n                        }\n                        else if (this.element.clientWidth > 680) {\n                            gridHeaderColGroup.children[i].setAttribute('style', 'width: auto');\n                            gridContentColGroup.children[i].setAttribute('style', 'width: auto');\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DetailsView.prototype.onDetailsResizeHandler = function () {\n        this.onDetailsResize();\n        if (this.parent.view === 'Details' && !this.parent.isMobile && !isNullOrUndefined(this.gridObj)) {\n            this.adjustHeight();\n        }\n    };\n    DetailsView.prototype.createDragObj = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.gridObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.gridObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    distance: 5,\n                    enableTailMode: true,\n                    dragArea: this.parent.element,\n                    dragTarget: '.' + ROW,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    DetailsView.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            /* istanbul ignore next */\n            // eslint-disable-next-line\n            var cwdData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            if (!args.target.closest('tr')) {\n                this.parent.dropPath = this.parent.path;\n                this.parent.dropData = cwdData;\n            }\n            else {\n                // eslint-disable-next-line\n                var info = null;\n                // eslint-disable-next-line\n                info = this.gridObj.getRowInfo(args.target).rowData;\n                this.parent.dropPath = info.isFile ? this.parent.path : getFullPath(this.parent, info, this.parent.path);\n                this.parent.dropData = info.isFile ? cwdData : info;\n            }\n        }\n    };\n    DetailsView.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.gridObj.getSelectedRecords();\n            this.parent.activeElements = this.gridObj.getSelectedRows();\n        }\n    };\n    DetailsView.prototype.onpasteEnd = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            if (this.parent.path === this.parent.destinationPath || this.parent.path === getDirectoryPath(this.parent, args)) {\n                this.onPathChanged(args);\n            }\n        }\n    };\n    DetailsView.prototype.onDropPath = function (args) {\n        if (this.parent.view === 'Details') {\n            this.isPasteOperation = true;\n            this.onPathChanged(args);\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns modules name.\n     * @private\n     */\n    DetailsView.prototype.getModuleName = function () {\n        return 'detailsview';\n    };\n    DetailsView.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.gridObj) {\n            this.unWireEvents();\n            this.gridObj.destroy();\n        }\n    };\n    DetailsView.prototype.updateType = function (item) {\n        var folder = select('.' + FOLDER, item);\n        this.parent.isFile = isNullOrUndefined(folder) ? true : false;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelection = function (action, args) {\n        var eventArgs = {\n            action: action, fileDetails: args.data, isInteracted: this.interaction, cancel: false, target: args.target\n        };\n        this.parent.trigger('fileSelection', eventArgs);\n        args.cancel = eventArgs.cancel;\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onSelected = function (args) {\n        this.parent.activeModule = 'detailsview';\n        if (!this.parent.isLayoutChange || this.parent.isFiltered) {\n            this.selectedRecords();\n        }\n        this.parent.notify(selectionChanged, {});\n        if (this.gridObj.getSelectedRowIndexes().length === 1) {\n            this.firstItemIndex = this.gridObj.selectedRowIndex;\n        }\n        this.gridObj.element.setAttribute('tabindex', '-1');\n        this.triggerSelect('select', args);\n        var item = this.gridObj.getRowByIndex(this.gridObj.selectedRowIndex);\n        this.updateType(item);\n        if (!isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n            if (this.gridObj.getSelectedRowIndexes().length !== 1) {\n                var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n                var lastItem = this.gridObj.getRowByIndex(lastItemIndex);\n                lastItem.querySelector('.e-checkselect').setAttribute('tabindex', '-1');\n            }\n            item.querySelector('.e-rowcell.e-fe-checkbox').removeAttribute('tabindex');\n        }\n        if (!isNullOrUndefined(this.gridObj) && !isNullOrUndefined(this.gridObj.element.querySelector('.e-checkselectall'))) {\n            this.gridObj.element.querySelector('.e-checkselectall').setAttribute('tabindex', '-1');\n        }\n        var rows = this.gridObj.getSelectedRowIndexes();\n        if (!this.parent.allowMultiSelection) {\n            for (var i = 0; i < rows.length; i++) {\n                if (rows[i] === this.gridObj.selectedRowIndex) {\n                    this.gridObj.getRowByIndex(rows[i]).setAttribute('tabindex', '0');\n                }\n                else {\n                    this.gridObj.getRowByIndex(rows[i]).removeAttribute('tabindex');\n                }\n            }\n        }\n        var len = rows.length;\n        if (len > 0) {\n            // eslint-disable-next-line\n            var data = this.gridObj.getRowsObject()[rows[len - 1]].data;\n            this.parent.currentItemText = getValue('name', data);\n        }\n        var indexes = getValue('rowIndexes', args);\n        var multiSelect = getValue('enableSelectMultiTouch', this.gridObj.selectionModule);\n        if (this.parent.isDevice && isNullOrUndefined(indexes) && args.target && !multiSelect && !args.target.closest('.e-headercell')) {\n            this.parent.isFile = getValue('isFile', args.data);\n            if (!this.parent.isFile) {\n                this.openContent(args.data);\n            }\n        }\n        this.parent.visitedItem = args.row;\n        if (this.parent.allowMultiSelection && !isNullOrUndefined(item) && !isNullOrUndefined(item.querySelector('.e-checkselect'))) {\n            var checkItem = item.querySelector('.e-checkselect');\n            checkItem.focus();\n        }\n        this.addFocus(this.gridObj.selectedRowIndex);\n        if (!this.parent.isLayoutChange) {\n            this.isInteracted = true;\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.onPathColumn = function () {\n        if (this.parent.view === 'Details' && !isNullOrUndefined(this.gridObj)) {\n            if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n                this.removePathColumn(false);\n            }\n        }\n    };\n    DetailsView.prototype.selectedRecords = function () {\n        this.parent.setProperties({ selectedItems: [] }, true);\n        // eslint-disable-next-line\n        var selectedRecords = this.gridSelectNodes();\n        var selectSize = 0;\n        while (selectSize < selectedRecords.length) {\n            var record = selectedRecords[selectSize];\n            var name_3 = getItemName(this.parent, record);\n            this.parent.selectedItems.push(name_3);\n            selectSize++;\n        }\n        this.parent.setProperties({ selectedItems: this.parent.selectedItems }, true);\n    };\n    DetailsView.prototype.onDeSelection = function (args) {\n        /* istanbul ignore next */\n        if (!this.parent.allowMultiSelection && isNullOrUndefined(args.data)) {\n            this.gridObj.getRowByIndex(args.rowIndex).removeAttribute('tabindex');\n        }\n        else if (this.gridObj.getSelectedRowIndexes().length > 1) {\n            var lastItemIndex = this.gridObj.getSelectedRowIndexes()[this.gridObj.getSelectedRowIndexes().length - 2];\n            this.gridObj.getRowByIndex(lastItemIndex).querySelector('.e-checkselect').removeAttribute('tabindex');\n        }\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.gridObj.element.setAttribute('tabindex', '0');\n        }\n        if (!this.isInteracted) {\n            this.isInteracted = true;\n            return;\n        }\n        this.selectedRecords();\n        if (this.parent.selectedItems.length === 0) {\n            setValue('enableSelectMultiTouch', false, this.gridObj.selectionModule);\n            removeClass([this.parent.element], MULTI_SELECT);\n        }\n        this.parent.notify(selectionChanged, {});\n        this.triggerSelect('unselect', args);\n        this.parent.visitedItem = null;\n    };\n    DetailsView.prototype.triggerSelect = function (action, args) {\n        var eventArgs = { action: action, fileDetails: args.data, isInteracted: this.interaction };\n        this.parent.trigger('fileSelect', eventArgs);\n        this.interaction = true;\n    };\n    DetailsView.prototype.wireEvents = function () {\n        this.wireClickEvent(true);\n        this.keyboardModule = new KeyboardEvents(this.gridObj.element, {\n            keyAction: this.keyupHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keyup'\n        });\n        this.keyboardDownModule = new KeyboardEvents(this.element, {\n            keyAction: this.keydownHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        EventHandler.add(this.gridObj.element, 'blur', this.removeFocus, this);\n    };\n    DetailsView.prototype.unWireEvents = function () {\n        this.wireClickEvent(false);\n        this.keyboardModule.destroy();\n        this.keyboardDownModule.destroy();\n        EventHandler.remove(this.gridObj.element, 'blur', this.removeFocus);\n    };\n    DetailsView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            // eslint-disable-next-line\n            var proxy_1 = this;\n            var ele = this.gridObj.getContent();\n            this.clickObj = new Touch(ele, {\n                tap: function (eve) {\n                    if (eve.tapCount === 1 && eve.originalEvent.target.classList.contains('e-content')) {\n                        proxy_1.onClearAllInit();\n                    }\n                },\n                tapHold: function (e) {\n                    if (proxy_1.parent.isDevice) {\n                        e.originalEvent.preventDefault();\n                        if (proxy_1.parent.allowMultiSelection) {\n                            setValue('enableSelectMultiTouch', proxy_1.parent.allowMultiSelection, proxy_1.gridObj.selectionModule);\n                            addClass([proxy_1.parent.element], MULTI_SELECT);\n                        }\n                        var target = e.originalEvent.target;\n                        if (target) {\n                            var row = closest(target, '.' + ROW);\n                            var index = proxy_1.gridObj.getRows().indexOf(row);\n                            proxy_1.gridObj.selectRow(index);\n                        }\n                    }\n                }\n            });\n        }\n        else {\n            if (this.clickObj) {\n                this.clickObj.destroy();\n            }\n        }\n    };\n    /* istanbul ignore next */\n    DetailsView.prototype.removeSelection = function () {\n        removeClass([this.parent.element], MULTI_SELECT);\n        this.gridObj.clearSelection();\n        this.parent.setProperties({ selectedItems: [] }, true);\n        this.parent.notify(selectionChanged, {});\n        if (this.gridObj.selectedRowIndex === -1) {\n            this.startIndex = null;\n        }\n        this.isInteracted = true;\n    };\n    DetailsView.prototype.removeFocus = function () {\n        this.addFocus(null);\n    };\n    DetailsView.prototype.getFocusedItemIndex = function () {\n        return (!isNullOrUndefined(this.getFocusedItem())) ?\n            parseInt(this.getFocusedItem().getAttribute('data-rowindex'), 10) : null;\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    DetailsView.prototype.keydownHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        switch (e.action) {\n            case 'end':\n            case 'home':\n            case 'space':\n            case 'ctrlSpace':\n            case 'shiftSpace':\n            case 'csSpace':\n            case 'ctrlA':\n            case 'enter':\n            case 'altEnter':\n            case 'ctrlEnd':\n            case 'shiftEnd':\n            case 'csEnd':\n            case 'ctrlHome':\n            case 'shiftHome':\n            case 'csHome':\n            case 'ctrlDown':\n            case 'shiftDown':\n            case 'csDown':\n            case 'ctrlLeft':\n            case 'shiftLeft':\n            case 'csLeft':\n            case 'esc':\n            case 'del':\n            case 'shiftdel':\n            case 'ctrlC':\n            case 'ctrlV':\n            case 'ctrlX':\n            case 'f2':\n            case 'moveDown':\n            case 'moveUp':\n            case 'ctrlD':\n                e.preventDefault();\n                break;\n            default:\n                break;\n        }\n    };\n    /* istanbul ignore next */\n    // eslint:disable-next-line\n    DetailsView.prototype.keyupHandler = function (e) {\n        if (!this.isRendered) {\n            return;\n        }\n        e.preventDefault();\n        var action = e.action;\n        // eslint-disable-next-line\n        var gridItems = getSortedData(this.parent, this.gridObj.dataSource);\n        var gridLength = gridItems.length;\n        var focItem = this.getFocusedItem();\n        var focIndex = this.getFocusedItemIndex();\n        var selIndex = this.gridObj.selectedRowIndex;\n        var selRowIndeces = this.gridObj.getSelectedRowIndexes();\n        // eslint-disable-next-line\n        var rowData;\n        var firstItem;\n        var lastItem;\n        switch (action) {\n            case 'altEnter':\n                GetDetails(this.parent, this.parent.selectedItems, this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n            case 'shiftdel':\n                this.performDelete();\n                break;\n            case 'enter':\n                if (this.gridObj.selectedRowIndex === -1) {\n                    break;\n                }\n                rowData = this.gridObj.getRowsObject()[this.gridObj.selectedRowIndex].data;\n                if (rowData) {\n                    // eslint-disable-next-line\n                    var data = JSON.parse(JSON.stringify(rowData));\n                    this.openContent(data);\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'ctrlD':\n                this.doDownload();\n                break;\n            case 'f2':\n                this.performRename();\n                break;\n            case 'ctrlA':\n                if (!isNullOrUndefined(gridItems[0]) && this.parent.allowMultiSelection) {\n                    var cnTable = this.gridObj.getContent().querySelector('.e-content');\n                    var crtSrlPos = cnTable.scrollTop;\n                    var crtFocusIndex = this.gridObj.selectedRowIndex;\n                    this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                    cnTable.scrollTop = crtSrlPos;\n                    if (crtFocusIndex !== -1) {\n                        this.addFocus(crtFocusIndex);\n                    }\n                }\n                break;\n            case 'ctrlHome':\n            case 'tab':\n                if (!isNullOrUndefined(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection && e.action === 'ctrlHome') {\n                        this.gridObj.selectRow(0);\n                    }\n                    else if (this.gridObj.selectedRowIndex !== -1 && e.action === 'tab') {\n                        return;\n                    }\n                    else {\n                        this.addFocus(0);\n                    }\n                }\n                break;\n            case 'ctrlEnd':\n                if (!isNullOrUndefined(gridItems[0])) {\n                    if (!this.parent.allowMultiSelection) {\n                        this.gridObj.selectRow(gridLength - 1);\n                    }\n                    else {\n                        this.addFocus(gridLength - 1);\n                    }\n                }\n                break;\n            case 'shiftHome':\n            case 'shiftEnd':\n            case 'csHome':\n            case 'csEnd':\n                if (!this.parent.allowMultiSelection) {\n                    this.gridObj.selectRow((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : gridItems.length - 1);\n                }\n                else {\n                    if (!isNullOrUndefined(gridItems[0])) {\n                        if (!isNullOrUndefined(selIndex) && selIndex !== -1) {\n                            this.checkRowsKey(gridItems, selIndex, null, e);\n                        }\n                        else {\n                            if (e.action === 'csHome' || e.action === 'shiftHome') {\n                                this.gridObj.selectRow(0);\n                            }\n                            else {\n                                this.gridObj.selectionModule.selectRowsByRange(0, gridItems.length - 1);\n                            }\n                        }\n                    }\n                }\n                break;\n            case 'space':\n            case 'csSpace':\n            case 'shiftSpace':\n            case 'ctrlSpace':\n                this.spaceSelection(selRowIndeces, focIndex, selIndex, e);\n                break;\n            case 'csUp':\n            case 'csDown':\n            case 'shiftUp':\n            case 'shiftDown':\n                this.shiftMoveMethod(gridItems, selIndex, focIndex, selRowIndeces, e);\n                break;\n            case 'ctrlUp':\n            case 'ctrlDown':\n                if (!this.parent.allowMultiSelection) {\n                    this.moveFunction(gridItems, e, selIndex);\n                }\n                else {\n                    this.ctrlMoveFunction(gridItems, e, selIndex);\n                }\n                break;\n            case 'home':\n                firstItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[0])];\n                this.parent.setProperties({ selectedItems: firstItem }, true);\n                this.selectRecords(firstItem);\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                this.moveFunction(gridItems, e, selIndex);\n                break;\n            case 'end':\n                lastItem = [getValue(this.parent.hasId ? 'id' : 'name', gridItems[gridLength - 1])];\n                this.parent.setProperties({ selectedItems: lastItem }, true);\n                this.selectRecords(lastItem);\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.gridSelectNodes = function () {\n        return this.gridObj.getSelectedRecords();\n    };\n    DetailsView.prototype.doDownload = function () {\n        if (this.parent.selectedItems.length !== 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasDownloadAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], permissionDownload);\n                    return;\n                }\n            }\n            Download(this.parent, this.parent.path, this.parent.selectedItems);\n        }\n    };\n    DetailsView.prototype.performDelete = function () {\n        if (this.parent.selectedItems && this.parent.selectedItems.length > 0) {\n            this.parent.itemData = this.gridObj.getSelectedRecords();\n            // eslint-disable-next-line\n            var items = this.parent.itemData;\n            for (var i = 0; i < items.length; i++) {\n                if (!hasEditAccess(items[i])) {\n                    createDeniedDialog(this.parent, items[i], permissionEdit);\n                    return;\n                }\n            }\n            createDialog(this.parent, 'Delete');\n        }\n    };\n    DetailsView.prototype.performRename = function () {\n        if (this.parent.selectedItems.length === 1) {\n            this.updateRenameData();\n            doRename(this.parent);\n        }\n    };\n    DetailsView.prototype.updateRenameData = function () {\n        // eslint-disable-next-line\n        var data = this.gridSelectNodes()[0];\n        updateRenamingData(this.parent, data);\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.shiftMoveMethod = function (gridItems, selIndex, focIndex, selRowIndeces, e) {\n        if (!this.parent.allowMultiSelection) {\n            this.moveFunction(gridItems, e, selIndex);\n        }\n        else {\n            if (selIndex === -1 && (e.action === 'csUp' || e.action === 'csDown')) {\n                this.ctrlMoveFunction(gridItems, e, selIndex);\n            }\n            else if (selIndex !== -1 && focIndex !== selIndex &&\n                !((e.action === 'csUp' || e.action === 'csDown') && this.isSelected(selRowIndeces, focIndex))) {\n                this.shiftSelectFocusItem(selIndex, focIndex, selRowIndeces, e);\n            }\n            else {\n                this.shiftSelectedItem(selIndex, selRowIndeces, gridItems, e);\n            }\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.moveFunction = function (selectedItems, e, rowIndex) {\n        if (!isNullOrUndefined(this.getFocusedItem()) && this.parent.allowMultiSelection) {\n            if (e.action === 'moveDown') {\n                this.gridObj.selectRow(this.getFocusedItemIndex() + 1);\n            }\n            else {\n                this.gridObj.selectRow(this.getFocusedItemIndex() - 1);\n            }\n        }\n        else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n            if (e.action === 'moveDown' || e.action === 'ctrlDown' || e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectRow(rowIndex + ((rowIndex !== selectedItems.length - 1) ? 1 : 0));\n            }\n            else {\n                this.gridObj.selectRow(rowIndex - ((rowIndex !== 0) ? 1 : 0));\n            }\n        }\n        else {\n            if (!isNullOrUndefined(selectedItems[0])) {\n                this.gridObj.selectRow(0);\n            }\n        }\n    };\n    DetailsView.prototype.spaceSelection = function (selRowIndeces, focIndex, selIndex, e) {\n        if (!this.isSelected(selRowIndeces, focIndex) && selIndex !== -1 && (e.action === 'shiftSpace' || e.action === 'csSpace')) {\n            if (focIndex < selIndex) {\n                this.gridObj.selectionModule.selectRowsByRange(focIndex, selIndex);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(selIndex, focIndex);\n            }\n        }\n        else if (!isNullOrUndefined(this.getFocusedItem()) && focIndex !== selIndex) {\n            selRowIndeces.push(this.getFocusedItemIndex());\n            this.gridObj.selectRows(selRowIndeces);\n        }\n        else if (selIndex !== -1 && e.action === 'ctrlSpace' && this.parent.allowMultiSelection) {\n            var lItem = selIndex;\n            selRowIndeces.pop();\n            this.gridObj.selectRows(selRowIndeces);\n            this.addFocus(lItem);\n        }\n        else if (e.action === 'shiftSpace') {\n            this.gridObj.selectRow(selIndex);\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.ctrlMoveFunction = function (items, e, rowIndex) {\n        var nextItem;\n        if (!isNullOrUndefined(this.getFocusedItem())) {\n            var nextIndex = this.getFocusedItemIndex();\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                nextIndex + ((nextIndex < items.length - 1) ? 1 : 0) : nextIndex - ((nextIndex < 1) ? 0 : 1);\n        }\n        else if (!isNullOrUndefined(rowIndex) && rowIndex !== -1) {\n            nextItem = (e.action === 'ctrlDown' || e.action === 'csDown') ?\n                rowIndex + ((rowIndex < items.length) ? 1 : 0) : rowIndex - ((rowIndex < 1) ? 0 : 1);\n        }\n        else {\n            if (!isNullOrUndefined(items[0])) {\n                nextItem = 0;\n            }\n        }\n        this.addFocus(nextItem);\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.checkRowsKey = function (items, indexValue, focIndex, e) {\n        if (this.gridObj.checkAllRows === 'Uncheck' || this.gridObj.checkAllRows === 'Intermediate') {\n            if (e.action !== 'csHome' && e.action !== 'csEnd') {\n                if (isNullOrUndefined(this.startIndex) && this.firstItemIndex !== indexValue) {\n                    this.firstItemIndex = indexValue;\n                }\n                if (e.action === 'shiftEnd') {\n                    this.gridObj.selectionModule.selectRowsByRange(this.firstItemIndex, items.length - 1);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(0, this.firstItemIndex);\n                }\n                this.startIndex = indexValue;\n            }\n            else {\n                if (e.action === 'csEnd') {\n                    this.gridObj.\n                        selectRows(this.InnerItems(isNullOrUndefined(indexValue) ? 0 : indexValue, isNullOrUndefined(focIndex) ? items.length - 1 : focIndex, e));\n                }\n                else {\n                    if (isNullOrUndefined(indexValue)) {\n                        this.gridObj.selectRow(0);\n                    }\n                    else {\n                        this.gridObj.selectRows(this.InnerItems(isNullOrUndefined(focIndex) ? 0 : focIndex, indexValue, e));\n                    }\n                }\n            }\n        }\n        else {\n            this.gridObj.selectionModule.selectRow(((e.action === 'shiftHome' || e.action === 'csHome') ? 0 : items.length - 1));\n        }\n    };\n    DetailsView.prototype.InnerItems = function (fItem, lItem, e) {\n        var itemArr = this.gridObj.getSelectedRowIndexes();\n        if (e.action === 'csEnd') {\n            for (var i = fItem + 1; i <= lItem; i++) {\n                itemArr.push(i);\n            }\n        }\n        else {\n            for (var i = lItem - 1; fItem <= i; i--) {\n                itemArr.push(i);\n            }\n        }\n        return itemArr;\n    };\n    DetailsView.prototype.shiftSelectFocusItem = function (selIndex, fIndex, selRowIndexes, e) {\n        var lItem = fIndex + ((e.action === 'shiftDown' || e.action === 'csDown') ? 1 : -1);\n        var fItem = isNullOrUndefined(this.startIndex) ? selIndex : selRowIndexes[0];\n        if (fItem === lItem) {\n            this.gridObj.selectRow(fItem);\n        }\n        else {\n            if (fItem < lItem) {\n                if (e.action === 'shiftDown' || e.action === 'csDown') {\n                    this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n                }\n                else {\n                    this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n                }\n            }\n            else if (e.action === 'shiftDown' || e.action === 'csDown') {\n                this.gridObj.selectionModule.selectRowsByRange(lItem, fItem);\n            }\n            else {\n                this.gridObj.selectionModule.selectRowsByRange(fItem, lItem);\n            }\n        }\n        this.startIndex = this.gridObj.selectedRowIndex;\n    };\n    DetailsView.prototype.addFocus = function (item) {\n        var fItem = this.getFocusedItem();\n        var itemElement = this.gridObj.getRowByIndex(item);\n        if (fItem) {\n            fItem.removeAttribute('tabindex');\n            removeClass([fItem], [FOCUS, FOCUSED]);\n        }\n        if (!isNullOrUndefined(itemElement)) {\n            this.gridObj.element.setAttribute('tabindex', '-1');\n            itemElement.setAttribute('tabindex', '0');\n            itemElement.focus();\n            addClass([itemElement], [FOCUS, FOCUSED]);\n        }\n    };\n    DetailsView.prototype.getFocusedItem = function () {\n        return select('.' + FOCUSED, this.element);\n    };\n    DetailsView.prototype.isSelected = function (selRowIndexes, focIndex) {\n        var check = false;\n        for (var i = 0; i <= selRowIndexes.length - 1; i++) {\n            if (selRowIndexes[i] === focIndex) {\n                check = true;\n                break;\n            }\n        }\n        return check;\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.shiftSelectedItem = function (selIndex, selRowIndexes, gridItems, e) {\n        if (selIndex === -1) {\n            this.gridObj.selectRow(0);\n        }\n        else {\n            if (isNullOrUndefined(this.startIndex) && e.shiftKey) {\n                this.startIndex = this.gridObj.selectedRowIndex;\n                this.gridObj.selectRows([selIndex, (e.action === 'shiftDown' || e.action === 'csDown') ?\n                        (selIndex + ((selIndex !== gridItems.length - 1) ? 1 : 0)) : (selIndex - ((selIndex !== 0) ? 1 : 0))]);\n            }\n            else {\n                if (e.action === 'shiftDown' || e.action === 'shiftUp') {\n                    if (e.action === 'shiftDown' && selRowIndexes.indexOf(selIndex + 1) === -1) {\n                        if (selIndex !== gridItems.length - 1) {\n                            selRowIndexes.push(selIndex + 1);\n                        }\n                    }\n                    else if (e.action === 'shiftUp' && selRowIndexes.indexOf(selIndex - 1) === -1) {\n                        if (selIndex !== 0) {\n                            selRowIndexes.push(selIndex - 1);\n                        }\n                    }\n                    else {\n                        selRowIndexes.pop();\n                    }\n                    this.gridObj.selectRows(selRowIndexes);\n                }\n                else {\n                    if (e.action === 'csDown') {\n                        if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() + 1)) {\n                            selRowIndexes.push((this.getFocusedItemIndex() + 1));\n                            this.gridObj.selectRows(selRowIndexes);\n                        }\n                        else {\n                            this.addFocus(this.getFocusedItemIndex() + 1);\n                        }\n                    }\n                    else if (!this.isSelected(selRowIndexes, this.getFocusedItemIndex() - 1)) {\n                        selRowIndexes.push((this.getFocusedItemIndex() - 1));\n                        this.gridObj.selectRows(selRowIndexes);\n                    }\n                    else {\n                        this.addFocus(this.getFocusedItemIndex() - 1);\n                    }\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.onMethodCall = function (e) {\n        if (this.parent.view !== 'Details') {\n            return;\n        }\n        var action = getValue('action', e);\n        switch (action) {\n            case 'deleteFiles':\n                this.deleteFiles(getValue('ids', e));\n                break;\n            case 'downloadFiles':\n                this.downloadFiles(getValue('ids', e));\n                break;\n            case 'openFile':\n                this.openFile(getValue('id', e));\n                break;\n            case 'createFolder':\n                this.interaction = false;\n                break;\n            case 'renameFile':\n                this.interaction = false;\n                this.renameFile(getValue('id', e), getValue('newName', e));\n                break;\n            case 'selectAll':\n                this.interaction = false;\n                this.onSelectAllInit();\n                break;\n            case 'clearSelection':\n                this.interaction = false;\n                this.onClearAllInit();\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    DetailsView.prototype.getRecords = function (nodes) {\n        // eslint-disable-next-line\n        var gridRecords = this.gridObj.getCurrentViewRecords();\n        // eslint-disable-next-line\n        var records = [];\n        var hasFilter = (this.parent.breadcrumbbarModule.searchObj.element.value !== '' || this.parent.isFiltered) ? true : false;\n        var filter$$1 = this.parent.hasId ? 'id' : 'name';\n        if (this.parent.hasId || !hasFilter) {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                if (nodes.indexOf(getValue(filter$$1, gridRecords[i])) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        else {\n            for (var i = 0, len = gridRecords.length; i < len; i++) {\n                var name_4 = getValue('filterPath', gridRecords[i]) + getValue('name', gridRecords[i]);\n                if (nodes.indexOf(name_4) !== -1) {\n                    records.push(gridRecords[i]);\n                }\n            }\n        }\n        return records;\n    };\n    DetailsView.prototype.deleteFiles = function (ids) {\n        this.parent.activeModule = 'detailsview';\n        if (isNullOrUndefined(ids)) {\n            this.performDelete();\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords(ids);\n        if (records.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < records.length; i++) {\n            data[i] = records[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDeleteFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.downloadFiles = function (ids) {\n        if (isNullOrUndefined(ids)) {\n            this.doDownload();\n            return;\n        }\n        // eslint-disable-next-line\n        var dRecords = this.getRecords(ids);\n        if (dRecords.length === 0) {\n            return;\n        }\n        // eslint-disable-next-line\n        var data = [];\n        var newIds = [];\n        for (var i = 0; i < dRecords.length; i++) {\n            data[i] = dRecords[i];\n            newIds[i] = getItemName(this.parent, data[i]);\n        }\n        doDownloadFiles(this.parent, data, newIds);\n    };\n    DetailsView.prototype.openFile = function (id) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            this.openContent(records[0]);\n        }\n    };\n    DetailsView.prototype.renameFile = function (id, name) {\n        this.parent.activeModule = 'detailsview';\n        if (isNullOrUndefined(id)) {\n            this.performRename();\n            return;\n        }\n        // eslint-disable-next-line\n        var records = this.getRecords([id]);\n        if (records.length > 0) {\n            updateRenamingData(this.parent, records[0]);\n            if (!isNullOrUndefined(name)) {\n                if (hasEditAccess(this.parent.itemData[0])) {\n                    rename(this.parent, this.parent.path, name);\n                }\n                else {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], permissionEdit);\n                }\n            }\n            else {\n                doRename(this.parent);\n            }\n        }\n    };\n    return DetailsView;\n}());\n\n/**\n * File Manager layout modules\n */\n\n/**\n * File Manager pop-up modules\n */\n\n/**\n * File Manager modules\n */\n\n/**\n * File Manager all modules\n */\n\nexport { AjaxSettings, toolbarItems, ToolbarSettings, SearchSettings, columnArray, DetailsViewSettings, fileItems, folderItems, layoutItems, ContextMenuSettings, NavigationPaneSettings, UploadSettings, Column, TOOLBAR_ID, LAYOUT_ID, NAVIGATION_ID, TREE_ID, GRID_ID, LARGEICON_ID, DIALOG_ID, ALT_DIALOG_ID, IMG_DIALOG_ID, EXTN_DIALOG_ID, UPLOAD_DIALOG_ID, RETRY_DIALOG_ID, CONTEXT_MENU_ID, SORTBY_ID, VIEW_ID, SPLITTER_ID, CONTENT_ID, BREADCRUMBBAR_ID, UPLOAD_ID, RETRY_ID, SEARCH_ID, ROOT, CONTROL, CHECK_SELECT, ROOT_POPUP, MOBILE, MOB_POPUP, MULTI_SELECT, FILTER, LAYOUT, NAVIGATION, LAYOUT_CONTENT, LARGE_ICONS, TB_ITEM, LIST_ITEM, LIST_TEXT, LIST_PARENT, TB_OPTION_TICK, TB_OPTION_DOT, BLUR, ACTIVE, HOVER, FOCUS, FOCUSED, CHECK, FRAME, CB_WRAP, ROW, ROWCELL, EMPTY, EMPTY_CONTENT, EMPTY_INNER_CONTENT, CLONE, DROP_FOLDER, DROP_FILE, FOLDER, ICON_IMAGE, ICON_MUSIC, ICON_VIDEO, LARGE_ICON, LARGE_EMPTY_FOLDER, LARGE_EMPTY_FOLDER_TWO, LARGE_ICON_FOLDER, SELECTED_ITEMS, TEXT_CONTENT, GRID_HEADER, TEMPLATE_CELL, TREE_VIEW, MENU_ITEM, MENU_ICON, SUBMENU_ICON, GRID_VIEW, GRID_CONTENT, ICON_VIEW, ICON_OPEN, ICON_UPLOAD, ICON_CUT, ICON_COPY, ICON_PASTE, ICON_DELETE, ICON_RENAME, ICON_NEWFOLDER, ICON_DETAILS, ICON_SHORTBY, ICON_REFRESH, ICON_SELECTALL, ICON_DOWNLOAD, ICON_OPTIONS, ICON_GRID, ICON_LARGE, ICON_BREADCRUMB, ICON_CLEAR, ICON_DROP_IN, ICON_DROP_OUT, ICON_NO_DROP, ICONS, DETAILS_LABEL, ERROR_CONTENT, STATUS, BREADCRUMBS, RTL, DISPLAY_NONE, COLLAPSED, FULLROW, ICON_COLLAPSIBLE, SPLIT_BAR, HEADER_CHECK, OVERLAY, VALUE, isFile, modelChanged, initialEnd, finalizeEnd, createEnd, filterEnd, beforeDelete, pathDrag, deleteInit, deleteEnd, refreshEnd, resizeEnd, splitterResize, pathChanged, destroy, beforeRequest, upload, skipUpload, afterRequest, download, layoutRefresh, actionFailure, search, openInit, openEnd, selectionChanged, selectAllInit, clearAllInit, clearPathInit, layoutChange, sortByChange, nodeExpand, detailsInit, menuItemData, renameInit, renameEndParent, renameEnd, showPaste, hidePaste, selectedData, cutCopyInit, pasteInit, pasteEnd, cutEnd, hideLayout, updateTreeSelection, treeSelect, sortColumn, pathColumn, searchTextChange, beforeDownload, downloadInit, dropInit, dragEnd, dropPath, dragHelper, dragging, updateSelectionData, methodCall, permissionRead, permissionEdit, permissionEditContents, permissionCopy, permissionUpload, permissionDownload, FileManager, Toolbar$1 as Toolbar, BreadCrumbBar, NavigationPane, DetailsView, LargeIconsView, createDialog, createExtDialog, createImageDialog, ContextMenu$2 as ContextMenu };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}