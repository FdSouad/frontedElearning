{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Event, EventHandler, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getUniqueID, isBlazor, isNullOrUndefined, prepend, remove, removeClass, select, selectAll, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n/**\n * Position library\n */\n\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\n\nfunction calculateRelativeBasedPosition(anchor, element) {\n  var fixedElement = false;\n  var anchorPos = {\n    left: 0,\n    top: 0\n  };\n  var tempAnchor = anchor;\n\n  if (!anchor || !element) {\n    return anchorPos;\n  }\n\n  if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n    fixedElement = true;\n  }\n\n  while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n    anchorPos.left += anchor.offsetLeft;\n    anchorPos.top += anchor.offsetTop;\n    anchor = anchor.offsetParent;\n  }\n\n  anchor = tempAnchor;\n\n  while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n    anchorPos.left -= anchor.scrollLeft;\n    anchorPos.top -= anchor.scrollTop;\n    anchor = anchor.parentElement;\n  }\n\n  return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\n\n\nfunction calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n  //eslint-disable-next-line\n  popupRect = undefined;\n  popupRect = targetValues;\n  fixedParent = parentElement ? true : false;\n\n  if (!currentElement) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  if (!positionX) {\n    positionX = 'left';\n  }\n\n  if (!positionY) {\n    positionY = 'top';\n  }\n\n  parentDocument = currentElement.ownerDocument;\n  element = currentElement;\n  var pos = {\n    left: 0,\n    top: 0\n  };\n  return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\n\n\nfunction setPosx(value, pos) {\n  pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\n\n\nfunction setPosy(value, pos) {\n  pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\n\n\nfunction updatePosition(posX, posY, pos) {\n  elementRect = element.getBoundingClientRect();\n\n  switch (posY + posX) {\n    case 'topcenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n\n    case 'topright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n\n    case 'centercenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'centerright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'centerleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'bottomcenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    case 'bottomright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    case 'bottomleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    default:\n    case 'topleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n  }\n\n  return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getBodyScrollTop() {\n  return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getBodyScrollLeft() {\n  return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementBottom() {\n  return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementVCenter() {\n  return getElementTop() + elementRect.height / 2;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementTop() {\n  return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementLeft() {\n  return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementRight() {\n  var popupWidth = element && element.classList.contains('e-date-range-wrapper') ? popupRect ? popupRect.width : 0 : popupRect && elementRect.width >= popupRect.width ? popupRect.width : 0;\n  return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementHCenter() {\n  return getElementLeft() + elementRect.width / 2;\n}\n/**\n * Collision module.\n */\n\n\nvar parentDocument$1;\nvar targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\n\nfunction fit(element, viewPortElement, axis, position) {\n  if (viewPortElement === void 0) {\n    viewPortElement = null;\n  }\n\n  if (axis === void 0) {\n    axis = {\n      X: false,\n      Y: false\n    };\n  }\n\n  if (!axis.Y && !axis.X) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  var elemData = element.getBoundingClientRect();\n  targetContainer = viewPortElement;\n  parentDocument$1 = element.ownerDocument;\n\n  if (!position) {\n    position = calculatePosition(element, 'left', 'top');\n  }\n\n  if (axis.X) {\n    var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n    var containerLeft = ContainerLeft();\n    var containerRight = ContainerRight();\n    var overLeft = containerLeft - position.left;\n    var overRight = position.left + elemData.width - containerRight;\n\n    if (elemData.width > containerWidth) {\n      if (overLeft > 0 && overRight <= 0) {\n        position.left = containerRight - elemData.width;\n      } else if (overRight > 0 && overLeft <= 0) {\n        position.left = containerLeft;\n      } else {\n        position.left = overLeft > overRight ? containerRight - elemData.width : containerLeft;\n      }\n    } else if (overLeft > 0) {\n      position.left += overLeft;\n    } else if (overRight > 0) {\n      position.left -= overRight;\n    }\n  }\n\n  if (axis.Y) {\n    var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n    var containerTop = ContainerTop();\n    var containerBottom = ContainerBottom();\n    var overTop = containerTop - position.top;\n    var overBottom = position.top + elemData.height - containerBottom;\n\n    if (elemData.height > containerHeight) {\n      if (overTop > 0 && overBottom <= 0) {\n        position.top = containerBottom - elemData.height;\n      } else if (overBottom > 0 && overTop <= 0) {\n        position.top = containerTop;\n      } else {\n        position.top = overTop > overBottom ? containerBottom - elemData.height : containerTop;\n      }\n    } else if (overTop > 0) {\n      position.top += overTop;\n    } else if (overBottom > 0) {\n      position.top -= overBottom;\n    }\n  }\n\n  return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\n\n\nfunction isCollide(element, viewPortElement, x, y) {\n  if (viewPortElement === void 0) {\n    viewPortElement = null;\n  }\n\n  var elemOffset = calculatePosition(element, 'left', 'top');\n\n  if (x) {\n    elemOffset.left = x;\n  }\n\n  if (y) {\n    elemOffset.top = y;\n  }\n\n  var data = [];\n  targetContainer = viewPortElement;\n  parentDocument$1 = element.ownerDocument;\n  var elementRect = element.getBoundingClientRect();\n  var top = elemOffset.top;\n  var left = elemOffset.left;\n  var right = elemOffset.left + elementRect.width;\n  var bottom = elemOffset.top + elementRect.height; // eslint-disable-next-line\n\n  var yAxis = topCollideCheck(top, bottom);\n  var xAxis = leftCollideCheck(left, right);\n\n  if (yAxis.topSide) {\n    data.push('top');\n  }\n\n  if (xAxis.rightSide) {\n    data.push('right');\n  }\n\n  if (xAxis.leftSide) {\n    data.push('left');\n  }\n\n  if (yAxis.bottomSide) {\n    data.push('bottom');\n  }\n\n  return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\n\n\nfunction flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement,\n/* eslint-disable */\naxis, fixedParent) {\n  if (viewPortElement === void 0) {\n    viewPortElement = null;\n  }\n\n  if (axis === void 0) {\n    axis = {\n      X: true,\n      Y: true\n    };\n  }\n\n  if (!target || !element || !positionX || !positionY || !axis.X && !axis.Y) {\n    return;\n  } // eslint-disable-next-line\n\n\n  var tEdge = {\n    TL: null,\n    TR: null,\n    BL: null,\n    BR: null\n  },\n      eEdge = {\n    TL: null,\n    TR: null,\n    BL: null,\n    BR: null\n    /* eslint-enable */\n\n  };\n  var elementRect;\n\n  if (window.getComputedStyle(element).display === 'none') {\n    var oldVisibility = element.style.visibility;\n    element.style.visibility = 'hidden';\n    element.style.display = 'block';\n    elementRect = element.getBoundingClientRect();\n    element.style.removeProperty('display');\n    element.style.visibility = oldVisibility;\n  } else {\n    elementRect = element.getBoundingClientRect();\n  }\n\n  var pos = {\n    posX: positionX,\n    posY: positionY,\n    offsetX: offsetX,\n    offsetY: offsetY,\n    position: {\n      left: 0,\n      top: 0\n    }\n  };\n  targetContainer = viewPortElement;\n  parentDocument$1 = target.ownerDocument;\n  updateElementData(target, tEdge, pos, fixedParent, elementRect);\n  setPosition(eEdge, pos, elementRect);\n\n  if (axis.X) {\n    leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n  }\n\n  if (axis.Y && tEdge.TL.top > -1) {\n    topFlip(target, eEdge, tEdge, pos, elementRect, true);\n  }\n\n  setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\n\n\nfunction setPopup(element, pos, elementRect) {\n  //eslint-disable-next-line\n  var left = 0,\n      top = 0;\n\n  if (element.offsetParent != null && (getComputedStyle(element.offsetParent).position === 'absolute' || getComputedStyle(element.offsetParent).position === 'relative')) {\n    var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n    left = data.left;\n    top = data.top;\n  }\n\n  element.style.top = pos.position.top + pos.offsetY - top + 'px';\n  element.style.left = pos.position.left + pos.offsetX - left + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\n\n\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n  pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n  edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n  edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n  edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n  edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\n\n\nfunction setPosition(eStatus, pos, elementRect) {\n  eStatus.TL = {\n    top: pos.position.top + pos.offsetY,\n    left: pos.position.left + pos.offsetX\n  };\n  eStatus.TR = {\n    top: eStatus.TL.top,\n    left: eStatus.TL.left + elementRect.width\n  };\n  eStatus.BL = {\n    top: eStatus.TL.top + elementRect.height,\n    left: eStatus.TL.left\n  };\n  eStatus.BR = {\n    top: eStatus.TL.top + elementRect.height,\n    left: eStatus.TL.left + elementRect.width\n  };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\n\n\nfunction leftCollideCheck(left, right) {\n  //eslint-disable-next-line\n  var leftSide = false,\n      rightSide = false;\n\n  if (left - getBodyScrollLeft$1() < ContainerLeft()) {\n    leftSide = true;\n  }\n\n  if (right > ContainerRight()) {\n    rightSide = true;\n  }\n\n  return {\n    leftSide: leftSide,\n    rightSide: rightSide\n  };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\n\n\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n  var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n\n  if (tEdge.TL.left - getBodyScrollLeft$1() <= ContainerLeft()) {\n    collideSide.leftSide = false;\n  }\n\n  if (tEdge.TR.left > ContainerRight()) {\n    collideSide.rightSide = false;\n  }\n\n  if (collideSide.leftSide && !collideSide.rightSide || !collideSide.leftSide && collideSide.rightSide) {\n    if (pos.posX === 'right') {\n      pos.posX = 'left';\n    } else {\n      pos.posX = 'right';\n    }\n\n    pos.offsetX = pos.offsetX + elementRect.width;\n    pos.offsetX = -1 * pos.offsetX;\n    pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n    setPosition(edge, pos, elementRect);\n\n    if (deepCheck) {\n      leftFlip(target, edge, tEdge, pos, elementRect, false);\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\n\n\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n  var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n\n  if (tEdge.TL.top - getBodyScrollTop$1() <= ContainerTop()) {\n    collideSide.topSide = false;\n  }\n\n  if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n    collideSide.bottomSide = false;\n  }\n\n  if (collideSide.topSide && !collideSide.bottomSide || !collideSide.topSide && collideSide.bottomSide) {\n    if (pos.posY === 'top') {\n      pos.posY = 'bottom';\n    } else {\n      pos.posY = 'top';\n    }\n\n    pos.offsetY = pos.offsetY + elementRect.height;\n    pos.offsetY = -1 * pos.offsetY;\n    pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n    setPosition(edge, pos, elementRect);\n\n    if (deepCheck) {\n      topFlip(target, edge, tEdge, pos, elementRect, false);\n    }\n  }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\n\n\nfunction topCollideCheck(top, bottom) {\n  //eslint-disable-next-line\n  var topSide = false,\n      bottomSide = false;\n\n  if (top - getBodyScrollTop$1() < ContainerTop()) {\n    topSide = true;\n  }\n\n  if (bottom > ContainerBottom()) {\n    bottomSide = true;\n  }\n\n  return {\n    topSide: topSide,\n    bottomSide: bottomSide\n  };\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerWidth() {\n  return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerHeight() {\n  return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerLeft() {\n  return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerTop() {\n  return targetContainer.getBoundingClientRect().top;\n} //eslint-disable-next-line\n\n\nfunction ContainerTop() {\n  if (targetContainer) {\n    return getTargetContainerTop();\n  }\n\n  return 0;\n} //eslint-disable-next-line\n\n\nfunction ContainerLeft() {\n  if (targetContainer) {\n    return getTargetContainerLeft();\n  }\n\n  return 0;\n} //eslint-disable-next-line\n\n\nfunction ContainerRight() {\n  if (targetContainer) {\n    return getBodyScrollLeft$1() + getTargetContainerLeft() + getTargetContainerWidth();\n  }\n\n  return getBodyScrollLeft$1() + getViewPortWidth();\n} //eslint-disable-next-line\n\n\nfunction ContainerBottom() {\n  if (targetContainer) {\n    return getBodyScrollTop$1() + getTargetContainerTop() + getTargetContainerHeight();\n  }\n\n  return getBodyScrollTop$1() + getViewPortHeight();\n}\n/**\n * @returns {void}\n */\n\n\nfunction getBodyScrollTop$1() {\n  // if(targetContainer)\n  //     return targetContainer.scrollTop;\n  return parentDocument$1.documentElement.scrollTop || parentDocument$1.body.scrollTop;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getBodyScrollLeft$1() {\n  // if(targetContainer)\n  //     return targetContainer.scrollLeft;\n  return parentDocument$1.documentElement.scrollLeft || parentDocument$1.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getViewPortHeight() {\n  return window.innerHeight;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getViewPortWidth() {\n  var windowWidth = window.innerWidth;\n  var documentReact = document.documentElement.getBoundingClientRect();\n  var offsetWidth = isNullOrUndefined(document.documentElement) ? 0 : documentReact.width;\n  return windowWidth - (windowWidth - offsetWidth);\n}\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the offset position values.\n */\n\n\nvar PositionData =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(PositionData, _super);\n\n  function PositionData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('left')], PositionData.prototype, \"X\", void 0);\n\n  __decorate([Property('top')], PositionData.prototype, \"Y\", void 0);\n\n  return PositionData;\n}(ChildProperty); // don't use space in classNames\n\n\nvar CLASSNAMES = {\n  ROOT: 'e-popup',\n  RTL: 'e-rtl',\n  OPEN: 'e-popup-open',\n  CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\n\nvar Popup =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(Popup, _super);\n\n  function Popup(element, options) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {PopupModel} newProp - specifies the new property\n   * @param {PopupModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n\n\n  Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'zIndex':\n          setStyleAttribute(this.element, {\n            'zIndex': newProp.zIndex\n          });\n          break;\n\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n\n        case 'position':\n        case 'relateTo':\n          this.refreshPosition();\n          break;\n\n        case 'offsetX':\n          // eslint-disable-next-line\n          var x = newProp.offsetX - oldProp.offsetX;\n          this.element.style.left = (parseInt(this.element.style.left, 10) + x).toString() + 'px';\n          break;\n\n        case 'offsetY':\n          // eslint-disable-next-line\n          var y = newProp.offsetY - oldProp.offsetY;\n          this.element.style.top = (parseInt(this.element.style.top, 10) + y).toString() + 'px';\n          break;\n\n        case 'content':\n          this.setContent();\n          break;\n\n        case 'actionOnScroll':\n          if (newProp.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n          } else {\n            this.unwireScrollEvents();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * gets the Component module name.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Popup.prototype.getModuleName = function () {\n    return 'popup';\n  };\n  /**\n   * To resolve if any collision occurs.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.resolveCollision = function () {\n    this.checkCollision();\n  };\n  /**\n   * gets the persisted state properties of the Component.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * To destroy the control.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.destroy = function () {\n    this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n\n    if (this.element.classList.contains('e-popup-open')) {\n      this.unwireEvents();\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Popup.prototype.render = function () {\n    this.element.classList.add(CLASSNAMES.ROOT);\n    var styles = {};\n\n    if (this.zIndex !== 1000) {\n      styles.zIndex = this.zIndex;\n    }\n\n    if (this.width !== 'auto') {\n      styles.width = formatUnit(this.width);\n    }\n\n    if (this.height !== 'auto') {\n      styles.height = formatUnit(this.height);\n    }\n\n    setStyleAttribute(this.element, styles);\n    this.fixedParent = false;\n    this.setEnableRtl();\n    this.setContent();\n  };\n\n  Popup.prototype.wireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      this.wireScrollEvents();\n    }\n  };\n\n  Popup.prototype.wireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_1 = _a[_i];\n        EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n      }\n    }\n  };\n\n  Popup.prototype.unwireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      this.unwireScrollEvents();\n    }\n  };\n\n  Popup.prototype.unwireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_2 = _a[_i];\n        EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n      }\n    }\n  };\n\n  Popup.prototype.getRelateToElement = function () {\n    var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ? document.body : this.relateTo;\n    this.setProperties({\n      relateTo: relateToElement\n    }, true);\n    return typeof this.relateTo === 'string' ? document.querySelector(this.relateTo) : this.relateTo;\n  };\n\n  Popup.prototype.scrollRefresh = function (e) {\n    if (this.actionOnScroll === 'reposition') {\n      if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target || this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' && e.target.parentElement == null)) {\n        this.refreshPosition();\n      }\n    } else if (this.actionOnScroll === 'hide') {\n      this.hide();\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      if (this.getRelateToElement()) {\n        var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n\n        if (!targetVisible && !this.targetInvisibleStatus) {\n          this.trigger('targetExitViewport');\n          this.targetInvisibleStatus = true;\n        } else if (targetVisible) {\n          this.targetInvisibleStatus = false;\n        }\n      }\n    }\n  };\n  /**\n   * This method is to get the element visibility on viewport when scroll\n   * the page. This method will returns true even though 1 px of element\n   * part is in visible.\n   *\n   * @param {HTMLElement} relateToElement - specifies the element\n   * @param {HTMLElement} scrollElement - specifies the scroll element\n   * @returns {boolean} - retruns the boolean\n   */\n  // eslint-disable-next-line\n\n\n  Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n    var scrollParents = this.getScrollableParent(relateToElement);\n\n    for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n      if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n    var rect = this.checkGetBoundingClientRect(relateToElement);\n\n    if (!rect.height || !rect.width) {\n      return false;\n    }\n\n    if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n      var parent_4 = scrollElement.getBoundingClientRect();\n      return !(rect.bottom < parent_4.top) && !(rect.bottom > parent_4.bottom) && !(rect.right > parent_4.right) && !(rect.left < parent_4.left);\n    } else {\n      var win = window;\n      var windowView = {\n        top: win.scrollY,\n        left: win.scrollX,\n        right: win.scrollX + win.outerWidth,\n        bottom: win.scrollY + win.outerHeight\n      };\n      var off = calculatePosition(relateToElement);\n      var ele = {\n        top: off.top,\n        left: off.left,\n        right: off.left + rect.width,\n        bottom: off.top + rect.height\n      };\n      var elementView = {\n        top: windowView.bottom - ele.top,\n        left: windowView.right - ele.left,\n        bottom: ele.bottom - windowView.top,\n        right: ele.right - windowView.left\n      };\n      return elementView.top > 0 && elementView.left > 0 && elementView.right > 0 && elementView.bottom > 0;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Popup.prototype.preRender = function () {//There is no event handler\n  };\n\n  Popup.prototype.setEnableRtl = function () {\n    this.reposition(); // eslint-disable-next-line\n\n    this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n  };\n\n  Popup.prototype.setContent = function () {\n    if (!isNullOrUndefined(this.content)) {\n      this.element.innerHTML = '';\n\n      if (typeof this.content === 'string') {\n        this.element.textContent = this.content;\n      } else {\n        var relateToElem = this.getRelateToElement(); // eslint-disable-next-line\n\n        var props = this.content.props;\n\n        if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n          this.element.appendChild(this.content);\n        }\n      }\n    }\n  };\n\n  Popup.prototype.orientationOnChange = function () {\n    var _this = this;\n\n    setTimeout(function () {\n      _this.refreshPosition();\n    }, 200);\n  }; // eslint-disable-next-line\n\n  /**\n   * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.refreshPosition = function (target, collision) {\n    if (!isNullOrUndefined(target)) {\n      this.checkFixedParent(target);\n    }\n\n    this.reposition();\n\n    if (!collision) {\n      this.checkCollision();\n    }\n  };\n\n  Popup.prototype.reposition = function () {\n    var pos;\n    var position;\n    var relateToElement = this.getRelateToElement();\n\n    if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n      pos = {\n        left: this.position.X,\n        top: this.position.Y\n      };\n    } else if (typeof this.position.X === 'string' && typeof this.position.Y === 'number' || typeof this.position.X === 'number' && typeof this.position.Y === 'string') {\n      var parentDisplay = void 0;\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n\n      if (this.element.classList.contains('e-dlg-modal')) {\n        parentDisplay = this.element.parentElement.style.display;\n        this.element.parentElement.style.display = 'block';\n      }\n\n      position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n\n      if (typeof this.position.X === 'string') {\n        pos = {\n          left: position.left,\n          top: this.position.Y\n        };\n      } else {\n        pos = {\n          left: this.position.X,\n          top: position.top\n        };\n      }\n\n      this.element.style.display = display;\n\n      if (this.element.classList.contains('e-dlg-modal')) {\n        this.element.parentElement.style.display = parentDisplay;\n      }\n    } else if (relateToElement) {\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n      pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n      this.element.style.display = display;\n    } else {\n      pos = {\n        left: 0,\n        top: 0\n      };\n    }\n\n    if (!isNullOrUndefined(pos)) {\n      this.element.style.left = pos.left + 'px';\n      this.element.style.top = pos.top + 'px';\n    }\n  };\n\n  Popup.prototype.checkGetBoundingClientRect = function (ele) {\n    var eleRect;\n\n    try {\n      eleRect = ele.getBoundingClientRect();\n      return eleRect;\n    } catch (error) {\n      return null;\n    }\n  };\n\n  Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n    var eleRect = this.checkGetBoundingClientRect(ele);\n    var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n\n    if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n      return null;\n    }\n\n    var anchor = anchorEle;\n    var anchorPos = {\n      left: 0,\n      top: 0\n    };\n\n    if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n      anchorPos = calculatePosition(anchorEle);\n    } else {\n      if (ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY') {\n        ele = ele.parentElement;\n      }\n\n      anchorPos = calculateRelativeBasedPosition(anchor, ele);\n    }\n\n    switch (position.X) {\n      default:\n      case 'left':\n        break;\n\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth / 2 - eleRect.width / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width / 2 - eleRect.width / 2;\n        } else {\n          anchorPos.left += anchorRect.width / 2;\n        }\n\n        break;\n\n      case 'right':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth - eleRect.width;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width - eleRect.width;\n        } else {\n          anchorPos.left += anchorRect.width;\n        }\n\n        break;\n    }\n\n    switch (position.Y) {\n      default:\n      case 'top':\n        break;\n\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight / 2 - eleRect.height / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height / 2 - eleRect.height / 2;\n        } else {\n          anchorPos.top += anchorRect.height / 2;\n        }\n\n        break;\n\n      case 'bottom':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight - eleRect.height;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height - eleRect.height;\n        } else {\n          anchorPos.top += anchorRect.height;\n        }\n\n        break;\n    }\n\n    anchorPos.left += offsetX;\n    anchorPos.top += offsetY;\n    return anchorPos;\n  };\n\n  Popup.prototype.callFlip = function (param) {\n    var relateToElement = this.getRelateToElement();\n    flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n  };\n\n  Popup.prototype.callFit = function (param) {\n    if (isCollide(this.element, this.viewPortElement).length !== 0) {\n      if (isNullOrUndefined(this.viewPortElement)) {\n        var data = fit(this.element, this.viewPortElement, param);\n\n        if (param.X) {\n          this.element.style.left = data.left + 'px';\n        }\n\n        if (param.Y) {\n          this.element.style.top = data.top + 'px';\n        }\n      } else {\n        var elementRect = this.checkGetBoundingClientRect(this.element);\n        var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n\n        if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n          return null;\n        }\n\n        if (param && param.Y === true) {\n          if (viewPortRect.top > elementRect.top) {\n            this.element.style.top = '0px';\n          } else if (viewPortRect.bottom < elementRect.bottom) {\n            this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n          }\n        }\n\n        if (param && param.X === true) {\n          if (viewPortRect.right < elementRect.right) {\n            this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n          } else if (viewPortRect.left > elementRect.left) {\n            this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n          }\n        }\n      }\n    }\n  };\n\n  Popup.prototype.checkCollision = function () {\n    var horz = this.collision.X;\n    var vert = this.collision.Y;\n\n    if (horz === 'none' && vert === 'none') {\n      return;\n    }\n\n    if (horz === 'flip' && vert === 'flip') {\n      this.callFlip({\n        X: true,\n        Y: true\n      });\n    } else if (horz === 'fit' && vert === 'fit') {\n      this.callFit({\n        X: true,\n        Y: true\n      });\n    } else {\n      if (horz === 'flip') {\n        this.callFlip({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'flip') {\n        this.callFlip({\n          Y: true,\n          X: false\n        });\n      }\n\n      if (horz === 'fit') {\n        this.callFit({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'fit') {\n        this.callFit({\n          X: false,\n          Y: true\n        });\n      }\n    }\n  };\n  /**\n   * Shows the popup element from screen.\n   *\n   * @returns {void}\n   * @param {AnimationModel} animationOptions - specifies the model\n   * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n   */\n\n\n  Popup.prototype.show = function (animationOptions, relativeElement) {\n    var _this = this;\n\n    this.wireEvents();\n\n    if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n      var zIndexElement = isNullOrUndefined(relativeElement) ? this.element : relativeElement;\n      this.zIndex = getZindexPartial(zIndexElement);\n      setStyleAttribute(this.element, {\n        'zIndex': this.zIndex\n      });\n    }\n\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.showAnimation;\n\n    if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.checkCollision();\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n    }\n\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.begin = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.CLOSE);\n          addClass([_this.element], CLASSNAMES.OPEN);\n        }\n      };\n\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          _this.trigger('open');\n        }\n      };\n\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.trigger('open');\n    }\n  };\n  /**\n   * Hides the popup element from screen.\n   *\n   * @param {AnimationModel} animationOptions - To give the animation options.\n   * @returns {void}\n   */\n\n\n  Popup.prototype.hide = function (animationOptions) {\n    var _this = this;\n\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.hideAnimation;\n\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.OPEN);\n          addClass([_this.element], CLASSNAMES.CLOSE);\n\n          _this.trigger('close');\n        }\n      };\n\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n      this.trigger('close');\n    }\n\n    this.unwireEvents();\n  };\n  /**\n   * Gets scrollable parent elements for the given element.\n   *\n   * @returns {void}\n   * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n   */\n\n\n  Popup.prototype.getScrollableParent = function (element) {\n    this.checkFixedParent(element);\n    return getScrollableParent(element, this.fixedParent);\n  };\n\n  Popup.prototype.checkFixedParent = function (element) {\n    var parent = element.parentElement;\n\n    while (parent && parent.tagName !== 'HTML') {\n      var parentStyle = getComputedStyle(parent);\n\n      if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n        this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top)) : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n        this.element.style.position = 'fixed';\n        this.fixedParent = true;\n      }\n\n      parent = parent.parentElement;\n\n      if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed' && this.element.style.position === 'fixed') {\n        this.fixedParent = true;\n      }\n    }\n  };\n\n  __decorate([Property('auto')], Popup.prototype, \"height\", void 0);\n\n  __decorate([Property('auto')], Popup.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"content\", void 0);\n\n  __decorate([Property('container')], Popup.prototype, \"targetType\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"viewPortElement\", void 0);\n\n  __decorate([Property({\n    X: 'none',\n    Y: 'none'\n  })], Popup.prototype, \"collision\", void 0);\n\n  __decorate([Property('')], Popup.prototype, \"relateTo\", void 0);\n\n  __decorate([Complex({}, PositionData)], Popup.prototype, \"position\", void 0);\n\n  __decorate([Property(0)], Popup.prototype, \"offsetX\", void 0);\n\n  __decorate([Property(0)], Popup.prototype, \"offsetY\", void 0);\n\n  __decorate([Property(1000)], Popup.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(false)], Popup.prototype, \"enableRtl\", void 0);\n\n  __decorate([Property('reposition')], Popup.prototype, \"actionOnScroll\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"showAnimation\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"hideAnimation\", void 0);\n\n  __decorate([Event()], Popup.prototype, \"open\", void 0);\n\n  __decorate([Event()], Popup.prototype, \"close\", void 0);\n\n  __decorate([Event()], Popup.prototype, \"targetExitViewport\", void 0);\n\n  Popup = __decorate([NotifyPropertyChanges], Popup);\n  return Popup;\n}(Component);\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\n\n\nfunction getScrollableParent(element, fixedParent) {\n  var eleStyle = getComputedStyle(element);\n  var scrollParents = [];\n  var overflowRegex = /(auto|scroll)/;\n  var parent = element.parentElement;\n\n  while (parent && parent.tagName !== 'HTML') {\n    var parentStyle = getComputedStyle(parent);\n\n    if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static') && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n      scrollParents.push(parent);\n    }\n\n    parent = parent.parentElement;\n  }\n\n  if (!fixedParent) {\n    scrollParents.push(document);\n  }\n\n  return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\n\n\nfunction getZindexPartial(element) {\n  // upto body traversal\n  var parent = element.parentElement;\n  var parentZindex = [];\n\n  while (parent) {\n    if (parent.tagName !== 'BODY') {\n      var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        parentZindex.push(index);\n      }\n\n      parent = parent.parentElement;\n    } else {\n      break;\n    }\n  }\n\n  var childrenZindex = [];\n\n  for (var i = 0; i < document.body.children.length; i++) {\n    if (!element.isEqualNode(document.body.children[i])) {\n      var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        childrenZindex.push(index);\n      }\n    }\n  }\n\n  childrenZindex.push('999');\n  var siblingsZindex = [];\n\n  if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n    var childNodes = [].slice.call(element.parentElement.children);\n\n    for (var i = 0; i < childNodes.length; i++) {\n      if (!element.isEqualNode(childNodes[i])) {\n        var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n        var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n\n        if (index !== 'auto' && position !== 'static') {\n          siblingsZindex.push(index);\n        }\n      }\n    }\n  }\n\n  var finalValue = parentZindex.concat(childrenZindex, siblingsZindex); // eslint-disable-next-line\n\n  var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\n\n\nfunction getMaxZindex(tagName) {\n  if (tagName === void 0) {\n    tagName = ['*'];\n  }\n\n  var maxZindex = [];\n\n  for (var i = 0; i < tagName.length; i++) {\n    var elements = document.getElementsByTagName(tagName[i]);\n\n    for (var i_1 = 0; i_1 < elements.length; i_1++) {\n      var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        maxZindex.push(index);\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Popup Components\n */\n\n/**\n * Popup Components\n */\n\n/**\n * Resize library\n */\n\n/* eslint-disable */\n\n\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar DIALOG_RESIZABLE = 'e-dlg-resizable';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar dialogBorderResize = ['north', 'west', 'east', 'south'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\n/* eslint-disable */\n\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\n/* eslint-enable */\n\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true; // eslint-disable-next-line\n\nvar proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\n\nfunction createResize(args) {\n  resizeStart = args.resizeBegin;\n  resize = args.resizing;\n  resizeEnd = args.resizeComplete;\n  targetElement = getDOMElement(args.element);\n  containerElement = getDOMElement(args.boundary);\n  var directions = args.direction.split(' ');\n\n  for (var i = 0; i < directions.length; i++) {\n    if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n      setBorderResizeElm(directions[i]);\n    } else if (directions[i].trim() !== '') {\n      var resizeHandler = createElement('div', {\n        className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i]\n      });\n      targetElement.appendChild(resizeHandler);\n    }\n  }\n\n  minHeight = args.minHeight;\n  minWidth = args.minWidth;\n  maxWidth = args.maxWidth;\n  maxHeight = args.maxHeight;\n\n  if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n    wireEvents(args.proxy);\n  } else {\n    wireEvents();\n  }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\n\n\nfunction setBorderResizeElm(direction) {\n  calculateValues();\n  var borderBottom = createElement('span', {\n    attrs: {\n      'unselectable': 'on',\n      'contenteditable': 'false'\n    }\n  });\n  borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n\n  if (direction === 'south') {\n    borderBottom.style.height = '2px';\n    borderBottom.style.width = '100%';\n    borderBottom.style.bottom = '0px';\n    borderBottom.style.left = '0px';\n  }\n\n  if (direction === 'north') {\n    borderBottom.style.height = '2px';\n    borderBottom.style.width = '100%';\n    borderBottom.style.top = '0px';\n    borderBottom.style.left = '0px';\n  }\n\n  if (direction === 'east') {\n    borderBottom.style.height = '100%';\n    borderBottom.style.width = '2px';\n    borderBottom.style.right = '0px';\n    borderBottom.style.top = '0px';\n  }\n\n  if (direction === 'west') {\n    borderBottom.style.height = '100%';\n    borderBottom.style.width = '2px';\n    borderBottom.style.left = '0px';\n    borderBottom.style.top = '0px';\n  }\n\n  targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\n\n\nfunction getDOMElement(element) {\n  var domElement;\n\n  if (!isNullOrUndefined(element)) {\n    if (typeof element === 'string') {\n      domElement = document.querySelector(element);\n    } else {\n      domElement = element;\n    }\n  }\n\n  return domElement;\n} // eslint-disable-next-line\n\n\nfunction wireEvents(args) {\n  if (isNullOrUndefined(args)) {\n    args = this;\n  }\n\n  var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (var i = 0; i < resizers.length; i++) {\n    selectedHandler = resizers[i];\n    EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n    var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n    EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n  }\n\n  var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n\n  if (!isNullOrUndefined(borderResizers)) {\n    for (var i = 0; i < borderResizers.length; i++) {\n      selectedHandler = borderResizers[i];\n      EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n      var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n      EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\n\n\nfunction getEventType(e) {\n  return e.indexOf('mouse') > -1 ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\n\n\nfunction onMouseDown(e) {\n  e.preventDefault();\n  targetElement = e.target.parentElement;\n  calculateValues();\n  originalMouseX = e.pageX;\n  originalMouseY = e.pageY;\n  e.target.classList.add(FOCUSED_HANDLER);\n\n  if (!isNullOrUndefined(resizeStart)) {\n    proxy = this;\n\n    if (resizeStart(e, proxy) === true) {\n      return;\n    }\n  }\n\n  if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n    containerElement = this.target === 'body' || 'document.body' || document.body ? null : this.targetEle;\n    maxWidth = this.targetEle.clientWidth;\n    maxHeight = this.targetEle.clientHeight;\n  }\n\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, 'mousemove', onMouseMove, this);\n  EventHandler.add(document, 'mouseup', onMouseUp, this);\n\n  for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n    if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n      setLeft = false;\n    } else {\n      setLeft = true;\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onMouseUp(e) {\n  var touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  var touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n  EventHandler.remove(target, 'mousemove', onMouseMove);\n  EventHandler.remove(target, touchMoveEvent, onMouseMove);\n  EventHandler.remove(target, eventName, onMouseMove);\n\n  if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(resizeEnd)) {\n    proxy = this;\n    resizeEnd(e, proxy);\n  }\n\n  EventHandler.remove(document, 'mouseup', onMouseUp);\n  EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n\n/**\n * @returns {void}\n */\n\n\nfunction calculateValues() {\n  originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n  originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n  originalX = targetElement.getBoundingClientRect().left;\n  originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onTouchStart(e) {\n  targetElement = e.target.parentElement;\n  calculateValues();\n  var coordinates = e.touches ? e.changedTouches[0] : e;\n  originalMouseX = coordinates.pageX;\n  originalMouseY = coordinates.pageY;\n\n  if (!isNullOrUndefined(resizeStart)) {\n    proxy = this;\n\n    if (resizeStart(e, proxy) === true) {\n      return;\n    }\n  }\n\n  var touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  var touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n  EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onMouseMove(e) {\n  if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n    selectedHandler = e.target;\n  } else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(selectedHandler)) {\n    var resizeTowards = '';\n\n    for (var i = 0; i < elementClass.length; i++) {\n      if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n        resizeTowards = elementClass[i];\n      }\n    }\n\n    if (!isNullOrUndefined(resize)) {\n      proxy = this;\n      resize(e, proxy);\n    }\n\n    switch (resizeTowards) {\n      case 'south':\n        resizeSouth(e);\n        break;\n\n      case 'north':\n        resizeNorth(e);\n        break;\n\n      case 'west':\n        resizeWest(e);\n        break;\n\n      case 'east':\n        resizeEast(e);\n        break;\n\n      case 'south-east':\n        resizeSouth(e);\n        resizeEast(e);\n        break;\n\n      case 'south-west':\n        resizeSouth(e);\n        resizeWest(e);\n        break;\n\n      case 'north-east':\n        resizeNorth(e);\n        resizeEast(e);\n        break;\n\n      case 'north-west':\n        resizeNorth(e);\n        resizeWest(e);\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\n\n\nfunction getClientRectValues(element) {\n  return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeSouth(e) {\n  var documentHeight = document.documentElement.clientHeight;\n  var calculateValue = false;\n  var coordinates = e.touches ? e.changedTouches[0] : e;\n  var currentpageY = coordinates.pageY;\n  var targetRectValues = getClientRectValues(targetElement);\n  var containerRectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && (documentHeight - currentpageY >= 0 || targetRectValues.top < 0)) {\n    calculateValue = true;\n  }\n\n  var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n  calculatedHeight = calculatedHeight > minHeight ? calculatedHeight : minHeight;\n  var containerTop = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerTop = containerRectValues.top;\n  }\n\n  var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n  var topWithoutborder = targetRectValues.top - containerTop - borderValue / 2;\n  topWithoutborder = topWithoutborder < 0 ? 0 : topWithoutborder;\n\n  if (targetRectValues.top > 0 && topWithoutborder + calculatedHeight > maxHeight) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.height = maxHeight - parseInt(topWithoutborder.toString(), 10) + 'px';\n    return;\n  }\n\n  var targetTop = 0;\n\n  if (calculateValue) {\n    if (targetRectValues.top < 0 && documentHeight + (targetRectValues.height + targetRectValues.top) > 0) {\n      targetTop = targetRectValues.top;\n\n      if (calculatedHeight + targetTop <= 30) {\n        calculatedHeight = targetRectValues.height - (targetRectValues.height + targetRectValues.top) + 30;\n      }\n    }\n\n    if (calculatedHeight + targetRectValues.top >= maxHeight) {\n      targetElement.style.height = targetRectValues.height + (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n    }\n\n    var calculatedTop = isNullOrUndefined(containerElement) ? targetTop : topWithoutborder;\n\n    if (calculatedHeight >= minHeight && calculatedHeight + calculatedTop <= maxHeight) {\n      targetElement.style.height = calculatedHeight + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeNorth(e) {\n  var calculateValue = false;\n  var boundaryRectValues;\n  var pageY = getEventType(e.type) === 'mouse' ? e.pageY : e.touches[0].pageY;\n  var targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement)) {\n    boundaryRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement) && targetRectValues.top - boundaryRectValues.top > 0) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageY > 0) {\n    calculateValue = true;\n  }\n\n  var currentHeight = originalHeight - (pageY - originalMouseY);\n\n  if (calculateValue) {\n    if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n      var containerTop = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerTop = boundaryRectValues.top;\n      }\n\n      var top_1 = originalY - containerTop + (pageY - originalMouseY);\n      top_1 = top_1 > 0 ? top_1 : 1;\n      targetElement.style.height = currentHeight + 'px';\n      targetElement.style.top = top_1 + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeWest(e) {\n  var documentWidth = document.documentElement.clientWidth;\n  var calculateValue = false;\n  var rectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    rectValues = getClientRectValues(containerElement);\n  }\n\n  var pageX = getEventType(e.type) === 'mouse' ? e.pageX : e.touches[0].pageX;\n  var targetRectValues = getClientRectValues(targetElement);\n  var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n  /* eslint-disable */\n\n  var left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n  var containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n  /* eslint-enable */\n\n  if (isNullOrUndefined(resizeWestWidth)) {\n    if (!isNullOrUndefined(containerElement)) {\n      resizeWestWidth = targetRectValues.left - left - borderValue / 2 + targetRectValues.width;\n      resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n    } else {\n      resizeWestWidth = documentWidth;\n    }\n  }\n\n  if (!isNullOrUndefined(containerElement) && Math.floor(targetRectValues.left - rectValues.left + targetRectValues.width + (rectValues.right - targetRectValues.right)) - borderValue <= maxWidth) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n    calculateValue = true;\n  }\n\n  var calculatedWidth = originalWidth - (pageX - originalMouseX);\n\n  if (setLeft) {\n    calculatedWidth = calculatedWidth > resizeWestWidth ? resizeWestWidth : calculatedWidth;\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      var containerLeft = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerLeft = rectValues.left;\n      }\n\n      var left_1 = originalX - containerLeft + (pageX - originalMouseX);\n      left_1 = left_1 > 0 ? left_1 : 1;\n\n      if (calculatedWidth !== previousWidth && setWidth) {\n        targetElement.style.width = calculatedWidth + 'px';\n      }\n\n      if (setLeft) {\n        targetElement.style.left = left_1 + 'px';\n\n        if (left_1 === 1) {\n          setWidth = false;\n        } else {\n          setWidth = true;\n        }\n      }\n    }\n  }\n\n  previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeEast(e) {\n  var documentWidth = document.documentElement.clientWidth;\n  var calculateValue = false;\n  var containerRectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  var coordinates = e.touches ? e.changedTouches[0] : e;\n  var pageX = coordinates.pageX;\n  var targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement) && (targetRectValues.left - containerRectValues.left + targetRectValues.width <= maxWidth || targetRectValues.right - containerRectValues.left >= targetRectValues.width)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && documentWidth - pageX > 0) {\n    calculateValue = true;\n  }\n\n  var calculatedWidth = originalWidth + (pageX - originalMouseX);\n  var containerLeft = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerLeft = containerRectValues.left;\n  }\n\n  if (targetRectValues.left - containerLeft + calculatedWidth > maxWidth) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      targetElement.style.width = calculatedWidth + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\n\n\nfunction setMinHeight(minimumHeight) {\n  minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\n\n\nfunction setMaxWidth(value) {\n  maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\n\n\nfunction setMaxHeight(value) {\n  maxHeight = value;\n}\n/**\n * @returns {void}\n */\n\n\nfunction removeResize() {\n  var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (var i = 0; i < handlers.length; i++) {\n    detach(handlers[i]);\n  }\n\n  var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n\n  if (!isNullOrUndefined(borderResizers)) {\n    for (var i = 0; i < borderResizers.length; i++) {\n      detach(borderResizers[i]);\n    }\n  }\n}\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ButtonProps =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(ButtonProps, _super);\n\n  function ButtonProps() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$1([Property(true)], ButtonProps.prototype, \"isFlat\", void 0);\n\n  __decorate$1([Property()], ButtonProps.prototype, \"buttonModel\", void 0);\n\n  __decorate$1([Property('Button')], ButtonProps.prototype, \"type\", void 0);\n\n  __decorate$1([Event()], ButtonProps.prototype, \"click\", void 0);\n\n  return ButtonProps;\n}(ChildProperty);\n/**\n * Configures the animation properties for both open and close the dialog.\n */\n\n\nvar AnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(AnimationSettings, _super);\n\n  function AnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$1([Property('Fade')], AnimationSettings.prototype, \"effect\", void 0);\n\n  __decorate$1([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n\n  __decorate$1([Property(0)], AnimationSettings.prototype, \"delay\", void 0);\n\n  return AnimationSettings;\n}(ChildProperty);\n\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\n\nvar Dialog =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(Dialog, _super);\n  /*\n   * * Constructor for creating the widget\n   *\n   * @param\n   * @param\n   * @hidden\n   */\n\n\n  function Dialog(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.needsID = true;\n    return _this;\n  }\n  /**\n   *Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.render = function () {\n    this.initialize();\n    this.initRender();\n    this.wireEvents();\n\n    if (this.width === '100%') {\n      this.element.style.width = '';\n    }\n\n    if (this.minHeight !== '') {\n      this.element.style.minHeight = formatUnit(this.minHeight);\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n\n      if (this.animationSettings.effect === 'None') {\n        this.getMinHeight();\n      }\n    }\n\n    this.renderComplete();\n  };\n\n  Dialog.prototype.initializeValue = function () {\n    this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n  };\n  /**\n   *Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.preRender = function () {\n    var _this = this;\n\n    this.initializeValue();\n    this.headerContent = null;\n    this.allowMaxHeight = true;\n    this.preventVisibility = true;\n    this.clonedEle = this.element.cloneNode(true);\n\n    this.closeIconClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n\n      _this.hide(event);\n    }; // eslint-disable-next-line\n\n\n    this.dlgOverlayClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n      event.preventFocus = false;\n\n      _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n        if (!overlayClickEventArgs.preventFocus) {\n          _this.focusContent();\n        }\n\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }; // eslint-disable-next-line\n\n\n    var localeText = {\n      close: 'Close'\n    };\n    this.l10n = new L10n('dialog', localeText, this.locale);\n    this.checkPositionData();\n\n    if (isNullOrUndefined(this.target)) {\n      var prevOnChange = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      this.target = document.body;\n      this.isProtectedOnChange = prevOnChange;\n    }\n  };\n\n  Dialog.prototype.isNumberValue = function (value) {\n    var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n    return isNumber;\n  };\n\n  Dialog.prototype.checkPositionData = function () {\n    if (!isNullOrUndefined(this.position)) {\n      if (!isNullOrUndefined(this.position.X) && typeof this.position.X !== 'number') {\n        var isNumber = this.isNumberValue(this.position.X);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.X = parseFloat(this.position.X);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n\n      if (!isNullOrUndefined(this.position.Y) && typeof this.position.Y !== 'number') {\n        var isNumber = this.isNumberValue(this.position.Y);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.Y = parseFloat(this.position.Y);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n    }\n  };\n\n  Dialog.prototype.getEle = function (list, selector) {\n    var element = undefined;\n\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].classList.contains(selector)) {\n        element = list[i];\n        break;\n      }\n    }\n\n    return element;\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.getMinHeight = function () {\n    var computedHeaderHeight = '0px';\n    var computedFooterHeight = '0px';\n\n    if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n      computedHeaderHeight = getComputedStyle(this.headerContent).height;\n    }\n\n    var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n\n    if (!isNullOrUndefined(footerEle)) {\n      computedFooterHeight = getComputedStyle(footerEle).height;\n    }\n\n    var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n    var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n    setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n    return headerHeight + 30 + footerHeight;\n  };\n\n  Dialog.prototype.onResizeStart = function (args, dialogObj) {\n    dialogObj.trigger('resizeStart', args);\n    return args.cancel;\n  };\n\n  Dialog.prototype.onResizing = function (args, dialogObj) {\n    dialogObj.trigger('resizing', args);\n  };\n\n  Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n    dialogObj.trigger('resizeStop', args);\n  };\n\n  Dialog.prototype.setResize = function () {\n    if (this.enableResize) {\n      if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n        return;\n      }\n\n      this.element.classList.add(DLG_RESIZABLE);\n      var computedHeight = getComputedStyle(this.element).minHeight;\n      var computedWidth = getComputedStyle(this.element).minWidth;\n      var direction = '';\n\n      for (var i = 0; i < this.resizeHandles.length; i++) {\n        if (this.resizeHandles[i] === 'All') {\n          direction = 'south north east west north-east north-west south-east south-west';\n          break;\n        } else {\n          var directionValue = '';\n\n          switch (this.resizeHandles[i].toString()) {\n            case 'SouthEast':\n              directionValue = 'south-east';\n              break;\n\n            case 'SouthWest':\n              directionValue = 'south-west';\n              break;\n\n            case 'NorthEast':\n              directionValue = 'north-east';\n              break;\n\n            case 'NorthWest':\n              directionValue = 'north-west';\n              break;\n\n            default:\n              directionValue = this.resizeHandles[i].toString();\n              break;\n          }\n\n          direction += directionValue.toLocaleLowerCase() + ' ';\n        }\n      }\n\n      if (this.enableRtl && direction.trim() === 'south-east') {\n        direction = 'south-west';\n      } else if (this.enableRtl && direction.trim() === 'south-west') {\n        direction = 'south-east';\n      }\n\n      if (this.isModal && this.enableRtl) {\n        this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n      } else if (this.isModal && this.target === document.body) {\n        this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      createResize({\n        element: this.element,\n        direction: direction,\n        minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n        maxHeight: this.targetEle.clientHeight,\n        minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n        maxWidth: this.targetEle.clientWidth,\n        boundary: this.target === document.body ? null : this.targetEle,\n        resizeBegin: this.onResizeStart.bind(this),\n        resizeComplete: this.onResizeComplete.bind(this),\n        resizing: this.onResizing.bind(this),\n        proxy: this\n      });\n      this.wireWindowResizeEvent();\n    } else {\n      removeResize();\n      this.unWireWindowResizeEvent();\n\n      if (this.isModal) {\n        this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n      } else {\n        this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      this.element.classList.remove(DLG_RESIZABLE);\n    }\n  };\n\n  Dialog.prototype.getFocusElement = function (target) {\n    var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n    var items = target.querySelectorAll(value);\n    return {\n      element: items[items.length - 1]\n    };\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.keyDown = function (event) {\n    var _this = this;\n\n    if (event.keyCode === 9) {\n      if (this.isModal) {\n        var buttonObj = void 0;\n\n        if (!isNullOrUndefined(this.btnObj)) {\n          buttonObj = this.btnObj[this.btnObj.length - 1];\n        }\n\n        if (isNullOrUndefined(this.btnObj) && !isNullOrUndefined(this.ftrTemplateContent)) {\n          buttonObj = this.getFocusElement(this.ftrTemplateContent);\n        }\n\n        if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n          buttonObj = this.getFocusElement(this.contentEle);\n        }\n\n        if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n          event.preventDefault();\n          this.focusableElements(this.element).focus();\n        }\n\n        if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n          event.preventDefault();\n\n          if (!isNullOrUndefined(buttonObj)) {\n            buttonObj.element.focus();\n          }\n        }\n      }\n    }\n\n    var element = document.activeElement;\n    var isTagName = ['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1;\n    var isContentEdit = false;\n\n    if (!isTagName) {\n      isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n    }\n\n    if (event.keyCode === 27 && this.closeOnEscape) {\n      this.dlgClosedBy = DLG_ESCAPE_CLOSED; // 'document.querySelector' is used to find the elements rendered based on body\n\n      if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n        this.hide(event);\n      }\n    }\n\n    if (event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' && isTagName && !isNullOrUndefined(this.primaryButtonEle) || event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' || isContentEdit) && !isNullOrUndefined(this.primaryButtonEle)) {\n      var buttonIndex_1; // eslint-disable-next-line\n\n      var firstPrimary = this.buttons.some(function (data, index) {\n        buttonIndex_1 = index; // eslint-disable-next-line\n\n        var buttonModel = data.buttonModel;\n        return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n      });\n\n      if (firstPrimary && typeof this.buttons[buttonIndex_1].click === 'function') {\n        setTimeout(function () {\n          _this.buttons[buttonIndex_1].click.call(_this, event);\n        });\n      }\n    }\n  };\n  /**\n   * Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.initialize = function () {\n    if (!isNullOrUndefined(this.target)) {\n      this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n    }\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], ROOT);\n    }\n\n    if (Browser.isDevice) {\n      addClass([this.element], DEVICE);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setCSSClass();\n    }\n\n    this.setMaxHeight();\n  };\n  /**\n   * Initialize the rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.initRender = function () {\n    var _this = this;\n\n    this.initialRender = true;\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        role: 'dialog'\n      });\n    }\n\n    if (this.zIndex === 1000) {\n      this.setzIndex(this.element, false);\n      this.calculatezIndex = true;\n    } else {\n      this.calculatezIndex = false;\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n      this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setTargetContent();\n\n      if (this.header !== '' && !isNullOrUndefined(this.header)) {\n        this.setHeader();\n      }\n\n      this.renderCloseIcon();\n      this.setContent();\n\n      if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n        this.setFooterTemplate();\n      } else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n        this.setButton();\n      }\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n        this.setButton();\n      }\n    }\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        'aria-modal': this.isModal ? 'true' : 'false'\n      });\n\n      if (this.isModal) {\n        this.setIsModal();\n      }\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n      this.dlgContainer = this.element.parentElement;\n\n      for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n        if (childNodes[i].classList.contains('e-dlg-overlay')) {\n          this.dlgOverlay = childNodes[i];\n        }\n      }\n    }\n\n    if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true && !isNullOrUndefined(this.element.parentElement)) {\n      var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n      this.refElement = this.createElement('div', {\n        className: DLG_REF_ELEMENT\n      });\n      parentEle.insertBefore(this.refElement, this.isModal ? this.dlgContainer : this.element);\n    }\n\n    if (!isNullOrUndefined(this.targetEle)) {\n      // eslint-disable-next-line\n      this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n    }\n\n    this.popupObj = new Popup(this.element, {\n      height: this.height,\n      width: this.width,\n      zIndex: this.zIndex,\n      relateTo: this.target,\n      actionOnScroll: 'none',\n      enableRtl: this.enableRtl,\n      // eslint-disable-next-line\n      open: function (event) {\n        // eslint-disable-next-line\n        var eventArgs = {\n          container: _this.isModal ? _this.dlgContainer : _this.element,\n          element: _this.element,\n          target: _this.target,\n          preventFocus: false\n        };\n\n        if (_this.enableResize) {\n          _this.resetResizeIcon();\n        } // eslint-disable-next-line\n\n\n        _this.trigger('open', eventArgs, function (openEventArgs) {\n          if (!openEventArgs.preventFocus) {\n            _this.focusContent();\n          }\n        });\n      },\n      // eslint-disable-next-line\n      close: function (event) {\n        if (_this.isModal) {\n          addClass([_this.dlgOverlay], 'e-fade');\n        }\n\n        _this.unBindEvent(_this.element);\n\n        if (_this.isModal) {\n          _this.dlgContainer.style.display = 'none';\n        }\n\n        _this.trigger('close', _this.closeArgs);\n\n        var activeEle = document.activeElement;\n\n        if (!isNullOrUndefined(activeEle) && !isNullOrUndefined(activeEle.blur)) {\n          activeEle.blur();\n        }\n\n        if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n          _this.storeActiveElement.focus();\n        }\n      }\n    });\n    this.positionChange();\n    this.setEnableRTL();\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], DLG_HIDE);\n\n      if (this.isModal) {\n        this.setOverlayZindex();\n      }\n    }\n\n    if (this.visible) {\n      this.show();\n    } else {\n      if (this.isModal) {\n        this.dlgOverlay.style.display = 'none';\n      }\n    }\n\n    this.initialRender = false;\n  };\n\n  Dialog.prototype.resetResizeIcon = function () {\n    var dialogConHeight = this.getMinHeight();\n\n    if (this.targetEle.offsetHeight < dialogConHeight) {\n      var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n      var resizeIcon = this.element.querySelector('.' + className);\n\n      if (!isNullOrUndefined(resizeIcon)) {\n        resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n      }\n    }\n  };\n\n  Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n    var zIndex;\n\n    if (isNullOrUndefined(zIndexValue)) {\n      zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n    } else {\n      zIndex = zIndexValue;\n    }\n\n    this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n    this.dlgContainer.style.zIndex = zIndex.toString();\n  };\n\n  Dialog.prototype.positionChange = function () {\n    if (this.isModal) {\n      if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else if (!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)) || isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else {\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n      }\n    } else {\n      this.setPopupPosition();\n    }\n  };\n\n  Dialog.prototype.setPopupPosition = function () {\n    this.popupObj.setProperties({\n      position: {\n        X: this.position.X,\n        Y: this.position.Y\n      }\n    });\n  };\n\n  Dialog.prototype.setAllowDragging = function () {\n    var _this = this;\n\n    var handleContent = '.' + DLG_HEADER_CONTENT;\n\n    if (!this.element.classList.contains(DLG_DRAG)) {\n      this.dragObj = new Draggable(this.element, {\n        clone: false,\n        isDragScroll: true,\n        abort: '.e-dlg-closeicon-btn',\n        handle: handleContent,\n        // eslint-disable-next-line\n        dragStart: function (event) {\n          // eslint-disable-next-line\n          _this.trigger('dragStart', event, function (dragEventArgs) {\n            if (isBlazor()) {\n              dragEventArgs.bindEvents(event.dragElement);\n            }\n          });\n        },\n        // eslint-disable-next-line\n        dragStop: function (event) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.position)) {\n              _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n            } // Reset the dialog position after drag completion.\n\n\n            _this.element.style.position = 'relative';\n          }\n\n          _this.trigger('dragStop', event);\n\n          _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n        },\n        // eslint-disable-next-line\n        drag: function (event) {\n          _this.trigger('drag', event);\n        }\n      });\n\n      if (!isNullOrUndefined(this.targetEle)) {\n        this.dragObj.dragArea = this.targetEle;\n      }\n    }\n  };\n\n  Dialog.prototype.setButton = function () {\n    if (!this.isBlazorServerRender()) {\n      this.buttonContent = [];\n      this.btnObj = []; // eslint-disable-next-line\n\n      for (var i = 0; i < this.buttons.length; i++) {\n        var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n        var btn = this.createElement('button', {\n          className: this.cssClass,\n          attrs: {\n            type: buttonType\n          }\n        });\n        this.buttonContent.push(btn.outerHTML);\n      }\n\n      this.setFooterTemplate();\n    }\n\n    var footerBtn;\n\n    for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n      if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n        footerBtn = childNodes[i].querySelectorAll('button');\n      }\n    }\n\n    for (var i = 0; i < this.buttons.length; i++) {\n      if (!this.isBlazorServerRender()) {\n        this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n      }\n\n      if (this.isBlazorServerRender()) {\n        this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n      }\n\n      if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n        }\n\n        if (typeof this.buttons[i].click === 'object') {\n          EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n        }\n      }\n\n      if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n        this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n\n        if (this.buttons[i].isFlat) {\n          this.btnObj[i].element.classList.add('e-flat');\n        }\n\n        this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n      }\n    }\n  };\n\n  Dialog.prototype.buttonClickHandler = function (index) {\n    this.trigger('buttons[' + index + '].click', {});\n  };\n\n  Dialog.prototype.setContent = function () {\n    attributes(this.element, {\n      'aria-describedby': this.element.id + '_dialog-content'\n    });\n    this.contentEle = this.createElement('div', {\n      className: DLG_CONTENT,\n      id: this.element.id + '_dialog-content'\n    });\n\n    if (this.innerContentElement) {\n      this.contentEle.appendChild(this.innerContentElement);\n    } else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n      // eslint-disable-next-line\n      if (typeof this.content === 'string' && !isBlazor()) {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      } else if (this.content instanceof HTMLElement) {\n        this.contentEle.appendChild(this.content);\n      } else {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      }\n    }\n\n    if (!isNullOrUndefined(this.headerContent)) {\n      this.element.insertBefore(this.contentEle, this.element.children[1]);\n    } else {\n      this.element.insertBefore(this.contentEle, this.element.children[0]);\n    }\n\n    if (this.height === 'auto') {\n      if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n        this.element.style.width = formatUnit(this.width);\n      }\n\n      this.setMaxHeight();\n    }\n  };\n\n  Dialog.prototype.setTemplate = function (template, toElement, prop) {\n    // eslint-disable-next-line\n    var templateFn;\n    var templateProps; // eslint-disable-next-line\n\n    if (toElement.classList.contains(DLG_HEADER)) {\n      templateProps = this.element.id + 'header';\n    } else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n      templateProps = this.element.id + 'footerTemplate';\n    } else {\n      templateProps = this.element.id + 'content';\n    }\n\n    var templateValue;\n\n    if (!isNullOrUndefined(template.outerHTML)) {\n      toElement.appendChild(template);\n    } else if (typeof template === 'string' || typeof template !== 'string' || isBlazor() && !this.isStringTemplate) {\n      if (typeof template === 'string') {\n        template = this.sanitizeHelper(template);\n      }\n\n      if (this.isVue || typeof template !== 'string') {\n        templateFn = compile(template);\n        templateValue = template;\n      } else {\n        toElement.innerHTML = template;\n      }\n    }\n\n    var fromElements = [];\n\n    if (!isNullOrUndefined(templateFn)) {\n      var isString = isBlazor() && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0 ? this.isStringTemplate : true;\n\n      for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n        var item = _a[_i];\n        fromElements.push(item);\n      }\n\n      append([].slice.call(fromElements), toElement);\n    }\n  };\n  /*\n   * @returns {void}\n   * @hidden\n   * @value\n   */\n\n\n  Dialog.prototype.sanitizeHelper = function (value) {\n    if (this.enableHtmlSanitizer) {\n      var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n      var beforeEvent = {\n        cancel: false,\n        helper: null\n      };\n      extend(dialogItem, dialogItem, beforeEvent);\n      this.trigger('beforeSanitizeHtml', dialogItem);\n\n      if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n        value = dialogItem.helper(value);\n      } else if (!dialogItem.cancel) {\n        value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n      }\n    }\n\n    return value;\n  };\n\n  Dialog.prototype.setMaxHeight = function () {\n    if (!this.allowMaxHeight) {\n      return;\n    }\n\n    var display = this.element.style.display;\n    this.element.style.display = 'none';\n    this.element.style.maxHeight = !isNullOrUndefined(this.target) && this.targetEle.offsetHeight < window.innerHeight ? this.targetEle.offsetHeight - 20 + 'px' : window.innerHeight - 20 + 'px';\n    this.element.style.display = display;\n\n    if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle) && this.element.offsetHeight < this.contentEle.offsetHeight) {\n      this.element.style.height = 'inherit';\n    }\n  };\n\n  Dialog.prototype.setEnableRTL = function () {\n    if (!this.isBlazorServerRender()) {\n      // eslint-disable-next-line\n      this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    }\n\n    if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n      removeResize();\n      this.setResize();\n    }\n  };\n\n  Dialog.prototype.setTargetContent = function () {\n    var _this = this;\n\n    if (isNullOrUndefined(this.content) || this.content === '') {\n      var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n\n      if (this.element.children.length > 0 || isContent) {\n        this.innerContentElement = document.createDocumentFragment();\n        [].slice.call(this.element.childNodes).forEach(function (el) {\n          if (el.nodeType !== 8) {\n            _this.innerContentElement.appendChild(el);\n          }\n        });\n      }\n    }\n  };\n\n  Dialog.prototype.setHeader = function () {\n    if (this.headerEle) {\n      this.headerEle.innerHTML = '';\n    } else {\n      this.headerEle = this.createElement('div', {\n        id: this.element.id + '_title',\n        className: DLG_HEADER\n      });\n    }\n\n    this.createHeaderContent();\n    this.headerContent.appendChild(this.headerEle);\n    this.setTemplate(this.header, this.headerEle, 'header');\n    attributes(this.element, {\n      'aria-labelledby': this.element.id\n    });\n    this.element.insertBefore(this.headerContent, this.element.children[0]);\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n  };\n\n  Dialog.prototype.setFooterTemplate = function () {\n    if (this.ftrTemplateContent) {\n      this.ftrTemplateContent.innerHTML = '';\n    } else {\n      this.ftrTemplateContent = this.createElement('div', {\n        className: DLG_FOOTER_CONTENT\n      });\n    }\n\n    if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n      this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n    } else {\n      this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n    }\n\n    this.element.appendChild(this.ftrTemplateContent);\n  };\n\n  Dialog.prototype.createHeaderContent = function () {\n    if (isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.createElement('div', {\n        id: this.element.id + '_dialog-header',\n        className: DLG_HEADER_CONTENT\n      });\n    }\n  };\n\n  Dialog.prototype.renderCloseIcon = function () {\n    if (this.showCloseIcon) {\n      this.closeIcon = this.createElement('button', {\n        className: DLG_CLOSE_ICON_BTN,\n        attrs: {\n          type: 'button'\n        }\n      });\n      this.closeIconBtnObj = new Button({\n        cssClass: 'e-flat',\n        iconCss: DLG_CLOSE_ICON + ' ' + ICON\n      });\n      this.closeIconTitle();\n\n      if (!isNullOrUndefined(this.headerContent)) {\n        prepend([this.closeIcon], this.headerContent);\n      } else {\n        this.createHeaderContent();\n        prepend([this.closeIcon], this.headerContent);\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n      }\n\n      this.closeIconBtnObj.appendTo(this.closeIcon);\n    }\n  };\n\n  Dialog.prototype.closeIconTitle = function () {\n    this.l10n.setLocale(this.locale);\n    var closeIconTitle = this.l10n.getConstant('close');\n    this.closeIcon.setAttribute('title', closeIconTitle);\n    this.closeIcon.setAttribute('aria-label', closeIconTitle);\n  };\n\n  Dialog.prototype.setCSSClass = function (oldCSSClass) {\n    if (oldCSSClass) {\n      removeClass([this.element], oldCSSClass.split(' '));\n\n      if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n        removeClass([this.dlgContainer], oldCSSClass.split(' '));\n      }\n    }\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n\n      if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n        addClass([this.dlgContainer], this.cssClass.split(' '));\n      }\n    }\n  };\n\n  Dialog.prototype.setIsModal = function () {\n    this.dlgContainer = this.createElement('div', {\n      className: DLG_CONTAINER\n    });\n    this.setCSSClass();\n    this.element.classList.remove(DLG_SHOW);\n    this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n    this.dlgContainer.appendChild(this.element);\n    addClass([this.element], MODAL_DLG);\n    this.dlgOverlay = this.createElement('div', {\n      className: DLG_OVERLAY\n    });\n    this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n    this.dlgContainer.appendChild(this.dlgOverlay);\n  };\n\n  Dialog.prototype.getValidFocusNode = function (items) {\n    var node;\n\n    for (var u = 0; u < items.length; u++) {\n      node = items[u];\n\n      if ((node.clientHeight > 0 || node.tagName.toLowerCase() === 'a' && node.hasAttribute('href')) && node.tabIndex > -1 && !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n        return node;\n      } else {\n        node = null;\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.focusableElements = function (content) {\n    if (!isNullOrUndefined(content)) {\n      var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n      var items = content.querySelectorAll(value);\n      return this.getValidFocusNode(items);\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.getAutoFocusNode = function (container) {\n    var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n    var value = '[autofocus]';\n    var items = container.querySelectorAll(value);\n    var validNode = this.getValidFocusNode(items);\n\n    if (isBlazor()) {\n      this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n    }\n\n    if (!isNullOrUndefined(validNode)) {\n      node = validNode;\n    } else {\n      validNode = this.focusableElements(this.contentEle);\n\n      if (!isNullOrUndefined(validNode)) {\n        return node = validNode;\n      } else if (!isNullOrUndefined(this.primaryButtonEle)) {\n        return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.disableElement = function (element, t) {\n    // eslint-disable-next-line\n    var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n\n    if (elementMatch) {\n      for (; element; element = element.parentNode) {\n        if (element instanceof Element && elementMatch.call(element, t)) {\n          /* istanbul ignore next */\n          return element;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.focusContent = function () {\n    var element = this.getAutoFocusNode(this.element);\n    var node = !isNullOrUndefined(element) ? element : this.element;\n    var userAgent = Browser.userAgent;\n\n    if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n      this.element.focus();\n    }\n\n    node.focus();\n    this.bindEvent(this.element);\n  };\n\n  Dialog.prototype.bindEvent = function (element) {\n    EventHandler.add(element, 'keydown', this.keyDown, this);\n  };\n\n  Dialog.prototype.unBindEvent = function (element) {\n    EventHandler.remove(element, 'keydown', this.keyDown);\n  };\n\n  Dialog.prototype.updateSanitizeContent = function () {\n    if (!this.isBlazorServerRender()) {\n      this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n    }\n  };\n\n  Dialog.prototype.isBlazorServerRender = function () {\n    return isBlazor() && this.isServerRendered;\n  };\n  /**\n   * Module required function\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.getModuleName = function () {\n    return 'dialog';\n  };\n  /**\n   * Called internally if any of the property value changed\n   *\n   * @param {DialogModel} newProp - specifies the new property\n   * @param {DialogModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'content':\n          if (!isNullOrUndefined(this.content) && this.content !== '') {\n            if (this.isBlazorServerRender()) {\n              this.contentEle = this.element.querySelector('.e-dlg-content');\n            }\n\n            if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n              if (!this.isBlazorServerRender()) {\n                this.contentEle.innerHTML = '';\n              } // eslint-disable-next-line\n\n\n              if (typeof this.content === 'function') {\n                this.clearTemplate(['content']);\n                detach(this.contentEle);\n                this.contentEle = null;\n                this.setContent();\n              } else {\n                typeof this.content === 'string' ? this.isBlazorServerRender() && this.contentEle.innerText === '' ? this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) : this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n              }\n\n              this.setMaxHeight();\n            } else {\n              if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                this.setContent();\n              }\n            }\n          } else if (!isNullOrUndefined(this.contentEle)) {\n            detach(this.contentEle);\n            this.contentEle = null;\n          }\n\n          break;\n\n        case 'header':\n          if (this.header === '' || isNullOrUndefined(this.header)) {\n            if (this.headerEle) {\n              detach(this.headerEle);\n              this.headerEle = null;\n            }\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n              this.setHeader();\n            }\n          }\n\n          break;\n\n        case 'footerTemplate':\n          if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n            if (!this.ftrTemplateContent) {\n              return;\n            }\n\n            detach(this.ftrTemplateContent);\n            this.ftrTemplateContent = null;\n            this.buttons = [{}];\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n              this.setFooterTemplate();\n            }\n\n            this.buttons = [{}];\n          }\n\n          break;\n\n        case 'showCloseIcon':\n          if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n            if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n              detach(this.headerContent);\n              this.headerContent = null;\n            } else if (!this.showCloseIcon) {\n              detach(this.closeIcon);\n            } else {\n              if (this.isBlazorServerRender()) {\n                this.wireEvents();\n              }\n            }\n          } else {\n            if (!this.isBlazorServerRender()) {\n              this.renderCloseIcon();\n            }\n\n            this.wireEvents();\n          }\n\n          break;\n\n        case 'locale':\n          if (this.showCloseIcon) {\n            this.closeIconTitle();\n          }\n\n          break;\n\n        case 'visible':\n          // eslint-disable-next-line\n          this.visible ? this.show() : this.hide();\n          break;\n\n        case 'isModal':\n          this.updateIsModal();\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'zIndex':\n          this.popupObj.zIndex = this.zIndex;\n\n          if (this.isModal) {\n            this.setOverlayZindex(this.zIndex);\n          }\n\n          if (this.element.style.zIndex !== this.zIndex.toString()) {\n            this.calculatezIndex = false;\n          }\n\n          break;\n\n        case 'cssClass':\n          this.setCSSClass(oldProp.cssClass);\n          break;\n\n        case 'buttons':\n          {\n            var buttonCount = this.buttons.length;\n\n            if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n              detach(this.ftrTemplateContent);\n              this.ftrTemplateContent = null;\n            }\n\n            for (var i = 0; i < buttonCount; i++) {\n              if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                this.footerTemplate = '';\n                this.setButton();\n              }\n            }\n\n            break;\n          }\n\n        case 'allowDragging':\n          if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n            this.setAllowDragging();\n          } else {\n            this.dragObj.destroy();\n          }\n\n          break;\n\n        case 'target':\n          this.setTarget(newProp.target);\n          break;\n\n        case 'position':\n          this.checkPositionData();\n\n          if (this.isModal) {\n            var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n            var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n\n            if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n              this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n            }\n          }\n\n          this.positionChange();\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n\n        case 'enableResize':\n          this.setResize();\n          break;\n\n        case 'minHeight':\n          if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n          }\n\n          break;\n      }\n    }\n  };\n\n  Dialog.prototype.setTarget = function (target) {\n    this.popupObj.relateTo = target;\n    this.target = target;\n    this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n\n    if (this.dragObj) {\n      this.dragObj.dragArea = this.targetEle;\n    }\n\n    this.setMaxHeight();\n\n    if (this.isModal) {\n      this.updateIsModal();\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n    }\n  };\n\n  Dialog.prototype.updateIsModal = function () {\n    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n\n    if (this.isModal) {\n      if (isNullOrUndefined(this.dlgOverlay)) {\n        this.setIsModal();\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n\n        if (!isNullOrUndefined(this.targetEle)) {\n          this.targetEle.appendChild(this.dlgContainer);\n        }\n      }\n    } else {\n      removeClass([this.element], MODAL_DLG);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n      detach(this.dlgOverlay);\n\n      while (this.dlgContainer.firstChild) {\n        this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n      }\n\n      this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n    }\n\n    if (this.visible) {\n      this.show();\n    }\n\n    this.positionChange();\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n\n  Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    this.zIndex = getZindexPartial(zIndexElement);\n    this.isProtectedOnChange = prevOnChange;\n\n    if (setPopupZindex) {\n      this.popupObj.zIndex = this.zIndex;\n    }\n  };\n\n  Dialog.prototype.windowResizeHandler = function () {\n    setMaxWidth(this.targetEle.clientWidth);\n    setMaxHeight(this.targetEle.clientHeight);\n    this.setMaxHeight();\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * To destroy the widget\n   *\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.destroy = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n    var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n    removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n\n    if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n    }\n\n    if (this.isModal) {\n      removeClass([!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body], SCROLL_DISABLED);\n    }\n\n    this.unWireEvents();\n\n    if (!isNullOrUndefined(this.btnObj)) {\n      for (var i = 0; i < this.btnObj.length; i++) {\n        this.btnObj[i].destroy();\n      }\n    }\n\n    if (!isNullOrUndefined(this.dragObj)) {\n      this.dragObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], classArray);\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      removeClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n      this.refElement.parentElement.insertBefore(this.isModal ? this.dlgContainer : this.element, this.refElement);\n      detach(this.refElement);\n      this.refElement = undefined;\n    }\n\n    if (this.isModal && !this.isBlazorServerRender()) {\n      detach(this.dlgOverlay);\n      this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n      detach(this.dlgContainer);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.element.innerHTML = this.clonedEle.innerHTML;\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.element.children)) {\n        for (var i = 0; i <= this.element.children.length; i++) {\n          i = i - i;\n          detach(this.element.children[i]);\n        }\n      }\n    }\n\n    for (var i = 0; i < attrs.length; i++) {\n      this.element.removeAttribute(attrs[i]);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      _super.prototype.destroy.call(this);\n    } else {\n      this.isDestroyed = true;\n    } // eslint-disable-next-line\n\n\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n  };\n\n  Dialog.prototype.wireWindowResizeEvent = function () {\n    window.addEventListener('resize', this.windowResizeHandler.bind(this));\n  };\n\n  Dialog.prototype.unWireWindowResizeEvent = function () {\n    window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n  };\n  /**\n   * Binding event to the element while widget creation\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Dialog.prototype.wireEvents = function () {\n    if (this.isBlazorServerRender() && this.showCloseIcon) {\n      this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n    }\n\n    if (this.showCloseIcon) {\n      EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n    }\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n  /**\n   * Unbinding event to the element while widget destroy\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Dialog.prototype.unWireEvents = function () {\n    if (this.showCloseIcon) {\n      EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n    }\n\n    if (this.isModal) {\n      EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n    }\n\n    if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n      for (var i = 0; i < this.buttons.length; i++) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n        }\n      }\n    }\n  };\n  /**\n   * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n   *\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.refreshPosition = function () {\n    this.popupObj.refreshPosition();\n  };\n  /**\n   * Returns the current width and height of the Dialog\n   *\n   * @returns {DialogDimension}\n   * @public\n   */\n\n\n  Dialog.prototype.getDimension = function () {\n    var dialogWidth = this.element.offsetWidth;\n    var dialogHeight = this.element.offsetHeight;\n    return {\n      width: dialogWidth,\n      height: dialogHeight\n    };\n  };\n  /**\n   * Opens the dialog if it is in hidden state.\n   * To open the dialog with full screen width, set the parameter to true.\n   *\n   * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.show = function (isFullScreen) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (!this.element.classList.contains(DLG_SHOW) || !isNullOrUndefined(isFullScreen)) {\n      if (!isNullOrUndefined(isFullScreen)) {\n        this.fullScreen(isFullScreen);\n      }\n\n      var eventArgs_1 = isBlazor() ? {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        maxHeight: this.element.style.maxHeight\n      } : {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        target: this.target,\n        maxHeight: this.element.style.maxHeight\n      };\n      this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n        if (!beforeOpenArgs.cancel) {\n          if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n            _this.allowMaxHeight = false;\n            _this.element.style.maxHeight = eventArgs_1.maxHeight;\n          }\n\n          _this.storeActiveElement = document.activeElement;\n          _this.element.tabIndex = -1;\n\n          if (_this.isModal && !isNullOrUndefined(_this.dlgOverlay)) {\n            _this.dlgOverlay.style.display = 'block';\n            _this.dlgContainer.style.display = 'flex';\n            removeClass([_this.dlgOverlay], 'e-fade');\n\n            if (!isNullOrUndefined(_this.targetEle)) {\n              if (_this.targetEle === document.body) {\n                _this.dlgContainer.style.position = 'fixed';\n              } else {\n                _this.dlgContainer.style.position = 'absolute';\n              }\n\n              _this.dlgOverlay.style.position = 'absolute';\n              _this.element.style.position = 'relative';\n              addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            } else {\n              addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          } // eslint-disable-next-line\n\n\n          var openAnimation = {\n            name: _this.animationSettings.effect + 'In',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          };\n          var zIndexElement = _this.isModal ? _this.element.parentElement : _this.element;\n\n          if (_this.calculatezIndex) {\n            _this.setzIndex(zIndexElement, true);\n\n            setStyleAttribute(_this.element, {\n              'zIndex': _this.zIndex\n            });\n\n            if (_this.isModal) {\n              _this.setOverlayZindex(_this.zIndex);\n            }\n          } // eslint-disable-next-line\n\n\n          _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n          _this.dialogOpen = true;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = true;\n          _this.preventVisibility = true;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n      });\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Closes the dialog if it is in visible state.\n   *\n   * @param { Event } event - specifies the event\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.hide = function (event) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (this.preventVisibility) {\n      var eventArgs = isBlazor() ? {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event\n      } : {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        target: this.target,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event,\n        closedBy: this.dlgClosedBy\n      };\n      this.closeArgs = eventArgs;\n      this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n        if (!beforeCloseArgs.cancel) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.targetEle)) {\n              removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          }\n\n          if (document.body.classList.contains(DLG_TARGET) && document.body.classList.contains(SCROLL_DISABLED)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n          } // eslint-disable-next-line\n\n\n          var closeAnimation = {\n            name: _this.animationSettings.effect + 'Out',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          }; // eslint-disable-next-line\n\n          _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n          _this.dialogOpen = false;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = false;\n          _this.preventVisibility = false;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }\n  }; // eslint-disable-next-line\n\n  /**\n   * Specifies to view the Full screen Dialog.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.fullScreen = function (args) {\n    /* eslint-disable */\n    var top = this.element.offsetTop;\n    var left = this.element.offsetLeft;\n    /* eslint-enable */\n\n    if (args) {\n      this.element.style.top = document.scrollingElement.scrollTop + 'px';\n      addClass([this.element], FULLSCREEN);\n      var display = this.element.style.display;\n      this.element.style.display = 'none';\n      this.element.style.maxHeight = !isNullOrUndefined(this.target) ? this.targetEle.offsetHeight + 'px' : window.innerHeight + 'px';\n      this.element.style.display = display;\n      addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n        this.dragObj.destroy();\n      }\n    } else {\n      removeClass([this.element], FULLSCREEN);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n        this.setAllowDragging();\n      }\n    }\n\n    return args;\n  };\n  /**\n   * Returns the dialog button instances.\n   * Based on that, you can dynamically change the button states.\n   *\n   * @param { number } index - Index of the button.\n   * @returns {Button} - returns the button element\n   */\n\n\n  Dialog.prototype.getButtons = function (index) {\n    if (!isNullOrUndefined(index)) {\n      return this.btnObj[index];\n    }\n\n    return this.btnObj;\n  };\n\n  __decorate$1([Property('')], Dialog.prototype, \"content\", void 0);\n\n  __decorate$1([Property(true)], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"showCloseIcon\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"isModal\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"header\", void 0);\n\n  __decorate$1([Property(true)], Dialog.prototype, \"visible\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"enableResize\", void 0);\n\n  __decorate$1([Property(['South-East'])], Dialog.prototype, \"resizeHandles\", void 0);\n\n  __decorate$1([Property('auto')], Dialog.prototype, \"height\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"minHeight\", void 0);\n\n  __decorate$1([Property('100%')], Dialog.prototype, \"width\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"cssClass\", void 0);\n\n  __decorate$1([Property(1000)], Dialog.prototype, \"zIndex\", void 0);\n\n  __decorate$1([Property(null)], Dialog.prototype, \"target\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"footerTemplate\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"allowDragging\", void 0);\n\n  __decorate$1([Collection([{}], ButtonProps)], Dialog.prototype, \"buttons\", void 0);\n\n  __decorate$1([Property(true)], Dialog.prototype, \"closeOnEscape\", void 0);\n\n  __decorate$1([Complex({}, AnimationSettings)], Dialog.prototype, \"animationSettings\", void 0);\n\n  __decorate$1([Complex({\n    X: 'center',\n    Y: 'center'\n  }, PositionData)], Dialog.prototype, \"position\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"created\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"open\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"beforeOpen\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"close\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"beforeClose\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"dragStart\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"dragStop\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"drag\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"overlayClick\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"resizeStart\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"resizing\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"resizeStop\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"destroyed\", void 0);\n\n  Dialog = __decorate$1([NotifyPropertyChanges], Dialog);\n  return Dialog;\n}(Component);\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\n\n\nvar DialogUtility;\n\n(function (DialogUtility) {\n  /**\n   * An alert dialog box is used to display warning like messages to the users.\n   * ```\n   * Eg : DialogUtility.alert('Alert message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {AlertDialogArgs} args - specifies the string\n   * @returns {Dialog} - returns the dialog element.\n   */\n  function alert(args) {\n    // eslint-disable-next-line\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_ALERT\n    });\n    document.body.appendChild(dialogElement);\n    var alertDialogObj;\n    var okButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      alertDialogObj = createDialog({\n        content: args,\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okButtonModel\n      }, dialogElement);\n    } else {\n      alertDialogObj = createDialog(alertOptions(args), dialogElement);\n    }\n\n    alertDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(alertDialogObj);\n      }\n\n      alertDialogObj.destroy();\n\n      if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n        alertDialogObj.element.parentElement.remove();\n        alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        alertDialogObj.element.remove();\n      }\n    };\n\n    return alertDialogObj;\n  }\n\n  DialogUtility.alert = alert;\n  /**\n   * A confirm dialog displays a specified message along with ‘OK’ and ‘Cancel’ button.\n   * ```\n   * Eg : DialogUtility.confirm('Confirm dialog message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {ConfirmDialogArgs} args - specifies the args\n   * @returns {Dialog} - returns te element\n   */\n\n  function confirm(args) {\n    // eslint-disable-next-line\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_CONFIRM\n    });\n    document.body.appendChild(dialogElement);\n    var confirmDialogObj;\n    var okCancelButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }, {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      confirmDialogObj = createDialog({\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        content: args,\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okCancelButtonModel\n      }, dialogElement);\n    } else {\n      confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n    }\n\n    confirmDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(confirmDialogObj);\n      }\n\n      confirmDialogObj.destroy();\n\n      if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n        confirmDialogObj.element.parentElement.remove();\n        confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        confirmDialogObj.element.remove();\n      }\n    };\n\n    return confirmDialogObj;\n  }\n\n  DialogUtility.confirm = confirm; // eslint-disable-next-line\n\n  function createDialog(options, element) {\n    var dialogObject = new Dialog(options);\n    dialogObject.appendTo(element);\n    return dialogObject;\n  } // eslint-disable-next-line\n\n\n  function alertOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setAlertButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function confirmOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setConfirmButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formOptions(options, option) {\n    options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n    options.content = !isNullOrUndefined(option.content) ? option.content : '';\n    options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n    options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n    options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n    options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n    options.position = !isNullOrUndefined(option.position) ? option.position : {\n      X: 'center',\n      Y: 'top'\n    };\n    options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings : {\n      effect: 'Fade',\n      duration: 400,\n      delay: 0\n    };\n    options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n    options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n    options.open = !isNullOrUndefined(option.open) ? option.open : null;\n    options.width = !isNullOrUndefined(option.width) ? option.width : '100%';\n    options.height = !isNullOrUndefined(option.height) ? option.height : 'auto';\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setAlertButtonModel(options, option) {\n    var alertButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n    } else {\n      options.buttons = alertButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setConfirmButtonModel(options, option) {\n    var okButtonModel = {\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n    var cancelButtonModel = {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n    } else {\n      options.buttons[0] = okButtonModel;\n    }\n\n    if (!isNullOrUndefined(option.cancelButton)) {\n      options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n    } else {\n      options.buttons[1] = cancelButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formButtonModel(buttonModel, option, buttonPropModel) {\n    var buttonProps = buttonPropModel;\n\n    if (!isNullOrUndefined(option.text)) {\n      buttonProps.buttonModel.content = option.text;\n    }\n\n    if (!isNullOrUndefined(option.icon)) {\n      buttonProps.buttonModel.iconCss = option.icon;\n    }\n\n    if (!isNullOrUndefined(option.cssClass)) {\n      buttonProps.buttonModel.cssClass = option.cssClass;\n    }\n\n    if (!isNullOrUndefined(option.click)) {\n      buttonProps.click = option.click;\n    }\n\n    return buttonProps;\n  }\n})(DialogUtility || (DialogUtility = {}));\n/**\n * Dialog Component\n */\n\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT$1 = 'e-tooltip';\nvar RTL$1 = 'e-rtl';\nvar DEVICE$1 = 'e-bigger';\nvar ICON$1 = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT$1 = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\n\nvar Animation$1 =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(Animation$$1, _super);\n\n  function Animation$$1() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property({\n    effect: 'FadeIn',\n    duration: 150,\n    delay: 0\n  })], Animation$$1.prototype, \"open\", void 0);\n\n  __decorate$2([Property({\n    effect: 'FadeOut',\n    duration: 150,\n    delay: 0\n  })], Animation$$1.prototype, \"close\", void 0);\n\n  return Animation$$1;\n}(ChildProperty);\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\n\n\nvar Tooltip =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(Tooltip, _super);\n  /* eslint-enable */\n\n  /**\n   * Constructor for creating the Tooltip Component\n   *\n   * @param {TooltipModel} options - specifies the options for the constructor\n   * @param {string| HTMLElement} element - specifies the element for the constructor\n   *\n   */\n\n\n  function Tooltip(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.mouseMoveEvent = null;\n    _this.mouseMoveTarget = null;\n    _this.containerElement = null;\n    _this.isBodyContainer = true;\n    return _this;\n  }\n\n  Tooltip.prototype.initialize = function () {\n    this.formatPosition();\n    addClass([this.element], ROOT$1);\n  };\n\n  Tooltip.prototype.formatPosition = function () {\n    var _a, _b;\n\n    if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n      _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n    } else {\n      _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n    }\n  };\n\n  Tooltip.prototype.renderArrow = function () {\n    this.setTipClass(this.position);\n    var tip = this.createElement('div', {\n      className: ARROW_TIP + ' ' + this.tipClass\n    });\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_OUTER + ' ' + this.tipClass\n    }));\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_INNER + ' ' + this.tipClass\n    }));\n    this.tooltipEle.appendChild(tip);\n  };\n\n  Tooltip.prototype.setTipClass = function (position) {\n    if (position.indexOf('Right') === 0) {\n      this.tipClass = TIP_LEFT;\n    } else if (position.indexOf('Bottom') === 0) {\n      this.tipClass = TIP_TOP;\n    } else if (position.indexOf('Left') === 0) {\n      this.tipClass = TIP_RIGHT;\n    } else {\n      this.tipClass = TIP_BOTTOM;\n    }\n  };\n\n  Tooltip.prototype.renderPopup = function (target) {\n    var elePos = this.mouseTrail ? {\n      top: 0,\n      left: 0\n    } : this.getTooltipPosition(target);\n    this.tooltipEle.classList.remove(POPUP_LIB);\n    this.popupObj = new Popup(this.tooltipEle, {\n      height: this.height,\n      width: this.width,\n      position: {\n        X: elePos.left,\n        Y: elePos.top\n      },\n      enableRtl: this.enableRtl,\n      open: this.openPopupHandler.bind(this),\n      close: this.closePopupHandler.bind(this)\n    });\n  };\n\n  Tooltip.prototype.getTooltipPosition = function (target) {\n    this.tooltipEle.style.display = 'block';\n    var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n    var offsetPos = this.calculateTooltipOffset(this.position);\n    var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n    var collisionLeft = collisionPosition[0];\n    var collisionTop = collisionPosition[1];\n    var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n    this.tooltipEle.style.display = '';\n    return elePos;\n  };\n\n  Tooltip.prototype.windowResize = function () {\n    this.reposition(this.findTarget());\n  };\n\n  Tooltip.prototype.reposition = function (target) {\n    if (this.popupObj && target) {\n      var elePos = this.getTooltipPosition(target);\n      this.popupObj.position = {\n        X: elePos.left,\n        Y: elePos.top\n      };\n      this.popupObj.dataBind();\n    }\n  };\n\n  Tooltip.prototype.openPopupHandler = function () {\n    if (!this.mouseTrail && this.needTemplateReposition()) {\n      this.reposition(this.findTarget());\n    }\n\n    this.trigger('afterOpen', this.tooltipEventArgs);\n  };\n\n  Tooltip.prototype.closePopupHandler = function () {\n    this.clearTemplate(['content']);\n    this.clear();\n    this.trigger('afterClose', this.tooltipEventArgs);\n  };\n\n  Tooltip.prototype.calculateTooltipOffset = function (position) {\n    var pos = {\n      top: 0,\n      left: 0\n    };\n    var tooltipEleWidth = this.tooltipEle.offsetWidth;\n    var tooltipEleHeight = this.tooltipEle.offsetHeight;\n    var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n    var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n    var tipAdjust = this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP;\n    var tipHeightAdjust = tipHeight / 2 + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n    var tipWidthAdjust = tipWidth / 2 + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n\n    if (this.mouseTrail) {\n      tipAdjust += MOUSE_TRAIL_GAP;\n    }\n\n    switch (position) {\n      case 'RightTop':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'RightCenter':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'RightBottom':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'BottomRight':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      case 'BottomCenter':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n\n      case 'BottomLeft':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'LeftBottom':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'LeftCenter':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'LeftTop':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'TopLeft':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'TopRight':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      default:\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n    }\n\n    pos.left += this.offsetX;\n    pos.top += this.offsetY;\n    return pos;\n  };\n\n  Tooltip.prototype.updateTipPosition = function (position) {\n    var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n    var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n    removeClass(selEle, removeList);\n    this.setTipClass(position);\n    addClass(selEle, this.tipClass);\n  };\n\n  Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n    if (this.showTipPointer === false) {\n      return;\n    }\n\n    this.updateTipPosition(position);\n    var leftValue;\n    var topValue;\n    this.tooltipEle.style.display = 'block';\n    var tooltipWidth = this.tooltipEle.clientWidth;\n    var tooltipHeight = this.tooltipEle.clientHeight;\n    var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n    var tipWidth = arrowEle.offsetWidth;\n    var tipHeight = arrowEle.offsetHeight;\n    this.tooltipEle.style.display = '';\n\n    if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n      if (this.tipClass === TIP_BOTTOM) {\n        topValue = '99.9%'; // Arrow icon aligned -2px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n      } else {\n        topValue = -(tipHeight - 1) + 'px'; // Arrow icon aligned -6px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n      }\n\n      if (target) {\n        var tipPosExclude = tooltipPositionX !== 'Center' || tooltipWidth > target.offsetWidth || this.mouseTrail;\n\n        if (tipPosExclude && tooltipPositionX === 'Left' || !tipPosExclude && this.tipPointerPosition === 'End') {\n          leftValue = tooltipWidth - tipWidth - POINTER_ADJUST + 'px';\n        } else if (tipPosExclude && tooltipPositionX === 'Right' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n          leftValue = POINTER_ADJUST + 'px';\n        } else if (tipPosExclude && (this.tipPointerPosition === 'End' || this.tipPointerPosition === 'Start')) {\n          leftValue = this.tipPointerPosition === 'End' ? target.offsetWidth + (this.tooltipEle.offsetWidth - target.offsetWidth) / 2 - tipWidth / 2 - POINTER_ADJUST + 'px' : (this.tooltipEle.offsetWidth - target.offsetWidth) / 2 - tipWidth / 2 + POINTER_ADJUST + 'px';\n        } else {\n          leftValue = tooltipWidth / 2 - tipWidth / 2 + 'px';\n        }\n      }\n    } else {\n      if (this.tipClass === TIP_RIGHT) {\n        leftValue = '99.9%'; // Arrow icon aligned -2px left from ArrowOuterTip div\n\n        arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n      } else {\n        leftValue = -(tipWidth - 1) + 'px'; // Arrow icon aligned -2px from ArrowOuterTip width\n\n        arrowInnerELe.style.left = -tipWidth + (tipWidth - 2) + 'px';\n      }\n\n      var tipPosExclude = tooltipPositionY !== 'Center' || tooltipHeight > target.offsetHeight || this.mouseTrail;\n\n      if (tipPosExclude && tooltipPositionY === 'Top' || !tipPosExclude && this.tipPointerPosition === 'End') {\n        topValue = tooltipHeight - tipHeight - POINTER_ADJUST + 'px';\n      } else if (tipPosExclude && tooltipPositionY === 'Bottom' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n        topValue = POINTER_ADJUST + 'px';\n      } else {\n        topValue = tooltipHeight / 2 - tipHeight / 2 + 'px';\n      }\n    }\n\n    arrowEle.style.top = topValue;\n    arrowEle.style.left = leftValue;\n  };\n\n  Tooltip.prototype.renderContent = function (target) {\n    var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n\n    if (this.cssClass) {\n      addClass([this.tooltipEle], this.cssClass.split(' '));\n    }\n\n    if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n      target.setAttribute('data-content', target.getAttribute('title'));\n      target.removeAttribute('title');\n    }\n\n    if (!isNullOrUndefined(this.content)) {\n      tooltipContent.innerHTML = '';\n\n      if (this.content instanceof HTMLElement) {\n        tooltipContent.appendChild(this.content);\n      } else if (typeof this.content === 'string') {\n        if (this.enableHtmlSanitizer) {\n          this.setProperties({\n            content: SanitizeHtmlHelper.sanitize(this.content)\n          }, true);\n        } // eslint-disable-next-line\n\n\n        var tempFunction = compile(this.content);\n        var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          if (this.enableHtmlParse) {\n            var nodeList = tempArr.length;\n\n            for (var i = 0; i < nodeList; i++) {\n              tooltipContent[(append(tempArr, tooltipContent), 'innerHTML')] = this.content;\n            }\n          } else {\n            tooltipContent['textContent'] = this.content;\n          }\n        }\n      } else {\n        // eslint-disable-next-line\n        var templateFunction = compile(this.content);\n        var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          append(tempArr, tooltipContent);\n        }\n\n        this.renderReactTemplates();\n      }\n    } else {\n      if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n        tooltipContent.innerHTML = target.getAttribute('data-content');\n      }\n    }\n  };\n\n  Tooltip.prototype.renderCloseIcon = function () {\n    if (!this.isSticky) {\n      return;\n    }\n\n    var tipClose = this.createElement('div', {\n      className: ICON$1 + ' ' + CLOSE\n    });\n    this.tooltipEle.appendChild(tipClose);\n    EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n  };\n\n  Tooltip.prototype.addDescribedBy = function (target, id) {\n    var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n\n    if (describedby.indexOf(id) < 0) {\n      describedby.push(id);\n    }\n\n    attributes(target, {\n      'aria-describedby': describedby.join(' ').trim(),\n      'data-tooltip-id': id\n    });\n  };\n\n  Tooltip.prototype.removeDescribedBy = function (target) {\n    var id = target.getAttribute('data-tooltip-id');\n    var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n    var index = describedby.indexOf(id);\n\n    if (index !== -1) {\n      describedby.splice(index, 1);\n    }\n\n    target.removeAttribute('data-tooltip-id');\n    var orgdescribedby = describedby.join(' ').trim();\n\n    if (orgdescribedby) {\n      target.setAttribute('aria-describedby', orgdescribedby);\n    } else {\n      target.removeAttribute('aria-describedby');\n    }\n  };\n\n  Tooltip.prototype.tapHoldHandler = function (evt) {\n    clearTimeout(this.autoCloseTimer);\n    this.targetHover(evt.originalEvent);\n  };\n\n  Tooltip.prototype.touchEndHandler = function (e) {\n    var _this = this;\n\n    if (this.isSticky) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var close = function () {\n      _this.close();\n    };\n\n    this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n  };\n\n  Tooltip.prototype.targetClick = function (e) {\n    var target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    if (target.getAttribute('data-tooltip-id') === null) {\n      this.targetHover(e);\n    } else if (!this.isSticky) {\n      this.hideTooltip(this.animation.close, e, target);\n    }\n  };\n\n  Tooltip.prototype.targetHover = function (e) {\n    var target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0) {\n      return;\n    }\n\n    var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n\n    for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n      var target_1 = targetList_1[_i];\n      this.restoreElement(target_1);\n    }\n\n    this.showTooltip(target, this.animation.open, e);\n  };\n\n  Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n    this.mouseMoveEvent = e;\n  };\n\n  Tooltip.prototype.mouseMoveBeforeRemove = function () {\n    if (this.mouseMoveTarget) {\n      EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n    }\n  };\n\n  Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n    var _this = this;\n\n    clearTimeout(this.showTimer);\n    clearTimeout(this.hideTimer);\n\n    if (this.openDelay && this.mouseTrail) {\n      this.mouseMoveBeforeRemove();\n      this.mouseMoveTarget = target;\n      EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    }; // eslint-disable-next-line\n\n    var observeCallback = function (beforeRenderArgs) {\n      _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n    };\n\n    this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n  };\n\n  Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n    if (beforeRenderArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n    } else {\n      this.isHidden = false;\n\n      if (isNullOrUndefined(this.tooltipEle)) {\n        this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n        this.tooltipEle = this.createElement('div', {\n          className: TOOLTIP_WRAP + ' ' + POPUP_ROOT$1 + ' ' + POPUP_LIB,\n          attrs: {\n            role: 'tooltip',\n            'aria-hidden': 'false',\n            'id': this.ctrlId + '_content'\n          },\n          styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n        });\n        this.tooltipBeforeRender(target, this);\n        this.tooltipAfterRender(target, e, showAnimation, this);\n      } else {\n        if (target) {\n          this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n          this.addDescribedBy(target, this.ctrlId + '_content');\n          this.renderContent(target);\n          Animation.stop(this.tooltipEle);\n          this.reposition(target);\n          this.tooltipAfterRender(target, e, showAnimation, this);\n        }\n      }\n    }\n  };\n\n  Tooltip.prototype.appendContainer = function (ctrlObj) {\n    if (typeof this.container == 'string') {\n      if (this.container === 'body') {\n        this.containerElement = document.body;\n      } else {\n        this.isBodyContainer = false;\n        this.containerElement = select(this.container, document);\n      }\n    } else if (this.container instanceof HTMLElement) {\n      this.containerElement = this.container;\n      this.isBodyContainer = this.containerElement.tagName === 'BODY';\n    }\n\n    if (!this.isBodyContainer) {\n      addClass([this.containerElement], POPUP_CONTAINER);\n    }\n\n    this.containerElement.appendChild(ctrlObj.tooltipEle);\n  };\n\n  Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n    if (target) {\n      if (Browser.isDevice) {\n        addClass([ctrlObj.tooltipEle], DEVICE$1);\n      }\n\n      if (ctrlObj.width !== 'auto') {\n        ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n      }\n\n      ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', {\n        className: CONTENT\n      }));\n      this.appendContainer(ctrlObj);\n      removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n      ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n      ctrlObj.renderContent(target);\n      addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n\n      if (ctrlObj.showTipPointer) {\n        ctrlObj.renderArrow();\n      }\n\n      ctrlObj.renderCloseIcon();\n      ctrlObj.renderPopup(target);\n      ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n      Animation.stop(ctrlObj.tooltipEle);\n      ctrlObj.reposition(target);\n    }\n  };\n\n  Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n    if (target) {\n      removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n      addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n      ctrlObj.tooltipEventArgs = {\n        type: e ? e.type : null,\n        cancel: false,\n        target: target,\n        event: e ? e : null,\n        element: ctrlObj.tooltipEle,\n        isInteracted: !isNullOrUndefined(e)\n      };\n\n      if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n        ctrlObj.tooltipEle.style.display = 'none';\n      } // eslint-disable-next-line\n\n\n      var observeCallback = function (observedArgs) {\n        ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n      };\n\n      ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n    }\n  };\n\n  Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n    var _this = this;\n\n    if (observedArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n      this.restoreElement(target);\n    } else {\n      // eslint-disable-next-line\n      var openAnimation_1 = {\n        name: showAnimation.effect,\n        duration: showAnimation.duration,\n        delay: showAnimation.delay,\n        timingFunction: 'easeOut'\n      };\n\n      if (showAnimation.effect === 'None') {\n        openAnimation_1 = undefined;\n      }\n\n      if (this.openDelay > 0) {\n        // eslint-disable-next-line\n        var show = function () {\n          if (_this.mouseTrail) {\n            EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n          }\n\n          if (_this.popupObj) {\n            _this.popupObj.show(openAnimation_1, target);\n\n            if (_this.mouseMoveEvent && _this.mouseTrail) {\n              _this.onMouseMove(_this.mouseMoveEvent);\n            }\n          }\n        };\n\n        this.showTimer = setTimeout(show, this.openDelay);\n      } else {\n        if (this.popupObj) {\n          this.popupObj.show(openAnimation_1, target);\n        }\n      }\n    }\n\n    if (e) {\n      this.wireMouseEvents(e, target);\n    }\n  };\n\n  Tooltip.prototype.needTemplateReposition = function () {\n    // eslint-disable-next-line\n    var tooltip = this;\n    return !isNullOrUndefined(tooltip.viewContainerRef) && typeof tooltip.viewContainerRef !== 'string';\n  };\n\n  Tooltip.prototype.checkCollision = function (target, x, y) {\n    var elePos = {\n      left: x,\n      top: y,\n      position: this.position,\n      horizontal: this.tooltipPositionX,\n      vertical: this.tooltipPositionY\n    };\n    var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n\n    if (affectedPos.length > 0) {\n      elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' : this.tooltipPositionX;\n      elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' : this.tooltipPositionY;\n    }\n\n    return elePos;\n  };\n\n  Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n    return [this.isBodyContainer ? pos.left + offsetPos.left : pos.left - this.containerElement.offsetLeft + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft, this.isBodyContainer ? pos.top + offsetPos.top : pos.top - this.containerElement.offsetTop + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n  };\n\n  Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n    var elePos = this.checkCollision(target, x, y);\n    var newpos = elePos.position;\n\n    if (this.tooltipPositionY !== elePos.vertical) {\n      newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical;\n    }\n\n    if (this.tooltipPositionX !== elePos.horizontal) {\n      if (newpos.indexOf('Left') === 0) {\n        elePos.vertical = newpos === 'LeftTop' || newpos === 'LeftCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Left';\n      }\n\n      if (newpos.indexOf('Right') === 0) {\n        elePos.vertical = newpos === 'RightTop' || newpos === 'RightCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Right';\n      }\n\n      elePos.horizontal = this.tooltipPositionX;\n    }\n\n    this.tooltipEventArgs = {\n      type: null,\n      cancel: false,\n      target: target,\n      event: null,\n      element: this.tooltipEle,\n      collidedPosition: newpos\n    };\n    this.trigger('beforeCollision', this.tooltipEventArgs);\n    var elePosVertical = elePos.vertical;\n    var elePosHorizontal = elePos.horizontal;\n\n    if (elePos.position !== newpos) {\n      var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n      var offsetPos = this.calculateTooltipOffset(newpos);\n      offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n      offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n      elePos.position = newpos;\n      var elePosition = this.calculateElementPosition(pos, offsetPos);\n      elePos.left = elePosition[0];\n      elePos.top = elePosition[1];\n    } else {\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n    }\n\n    var eleOffset = {\n      left: elePos.left,\n      top: elePos.top\n    };\n    var left = this.isBodyContainer ? fit(this.tooltipEle, this.checkCollideTarget(), {\n      X: true,\n      Y: false\n    }, eleOffset).left : eleOffset.left;\n    this.tooltipEle.style.display = 'block';\n\n    if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n      var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n      var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n\n      if (arrowleft < 0) {\n        arrowleft = 0;\n      } else if (arrowleft + arrowEle.offsetWidth > this.tooltipEle.clientWidth) {\n        arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n      }\n\n      arrowEle.style.left = arrowleft.toString() + 'px';\n    }\n\n    this.tooltipEle.style.display = '';\n    eleOffset.left = left;\n    return eleOffset;\n  };\n\n  Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n    return positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1 && positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1 ? 2 * offsetType : 0;\n  };\n\n  Tooltip.prototype.checkCollideTarget = function () {\n    return !this.windowCollision && this.target ? this.element : null;\n  };\n\n  Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n    var _this = this;\n\n    if (this.closeDelay > 0) {\n      clearTimeout(this.hideTimer);\n      clearTimeout(this.showTimer); // eslint-disable-next-line\n\n      var hide = function () {\n        if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n          return;\n        }\n\n        _this.tooltipHide(hideAnimation, e, targetElement);\n      };\n\n      this.hideTimer = setTimeout(hide, this.closeDelay);\n    } else {\n      this.tooltipHide(hideAnimation, e, targetElement);\n    }\n  };\n\n  Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n    var _this = this;\n\n    var target;\n\n    if (e) {\n      target = this.target ? targetElement || e.target : this.element;\n    } else {\n      target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    }; // this line commented for close the tooltip popup element even the target element destroyed in a page.\n    //if (isNullOrUndefined(target)) { return; }\n\n    this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        _this.mouseMoveBeforeRemove();\n\n        _this.popupHide(hideAnimation, target);\n      } else {\n        _this.isHidden = false;\n      }\n    });\n  };\n\n  Tooltip.prototype.popupHide = function (hideAnimation, target) {\n    if (target) {\n      this.restoreElement(target);\n    }\n\n    this.isHidden = true; // eslint-disable-next-line\n\n    var closeAnimation = {\n      name: hideAnimation.effect,\n      duration: hideAnimation.duration,\n      delay: hideAnimation.delay,\n      timingFunction: 'easeIn'\n    };\n\n    if (hideAnimation.effect === 'None') {\n      closeAnimation = undefined;\n    }\n\n    if (this.popupObj) {\n      this.popupObj.hide(closeAnimation);\n    }\n  };\n\n  Tooltip.prototype.restoreElement = function (target) {\n    this.unwireMouseEvents(target);\n\n    if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n      target.setAttribute('title', target.getAttribute('data-content'));\n      target.removeAttribute('data-content');\n    }\n\n    this.removeDescribedBy(target);\n  };\n\n  Tooltip.prototype.clear = function () {\n    if (this.tooltipEle) {\n      removeClass([this.tooltipEle], POPUP_CLOSE);\n      addClass([this.tooltipEle], POPUP_OPEN);\n    }\n\n    if (this.isHidden) {\n      if (this.popupObj) {\n        this.popupObj.destroy();\n      }\n\n      if (this.tooltipEle) {\n        remove(this.tooltipEle);\n      }\n\n      this.tooltipEle = null;\n      this.popupObj = null;\n    }\n  };\n\n  Tooltip.prototype.tooltipHover = function (e) {\n    if (this.tooltipEle) {\n      this.isTooltipOpen = true;\n    }\n  };\n\n  Tooltip.prototype.tooltipMouseOut = function (e) {\n    this.isTooltipOpen = false;\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n  };\n\n  Tooltip.prototype.onMouseOut = function (e) {\n    var enteredElement = e.relatedTarget; // don't close the tooltip only if it is tooltip content element\n\n    if (enteredElement && !this.mouseTrail) {\n      var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1);\n\n      if (checkForTooltipElement) {\n        EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n      } else {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n\n        if (this.closeDelay === 0) {\n          this.clear();\n        }\n      }\n    } else {\n      this.hideTooltip(this.animation.close, e, this.findTarget());\n      this.clear();\n    }\n  };\n\n  Tooltip.prototype.tooltipElementMouseOut = function (e) {\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n    EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n    this.clear();\n  };\n\n  Tooltip.prototype.onStickyClose = function (e) {\n    this.close();\n  };\n\n  Tooltip.prototype.onMouseMove = function (event) {\n    var eventPageX = 0;\n    var eventPageY = 0;\n\n    if (event.type.indexOf('touch') > -1) {\n      event.preventDefault();\n      eventPageX = event.touches[0].pageX;\n      eventPageY = event.touches[0].pageY;\n    } else {\n      eventPageX = event.pageX;\n      eventPageY = event.pageY;\n    }\n\n    Animation.stop(this.tooltipEle);\n    removeClass([this.tooltipEle], POPUP_CLOSE);\n    addClass([this.tooltipEle], POPUP_OPEN);\n    this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n    var pos = this.calculateTooltipOffset(this.position);\n    var x = eventPageX + pos.left + this.offsetX;\n    var y = eventPageY + pos.top + this.offsetY;\n    var elePos = this.checkCollision(event.target, x, y);\n\n    if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n      var newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n      elePos.position = newpos;\n      this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n      var colpos = this.calculateTooltipOffset(elePos.position);\n      elePos.left = eventPageX + colpos.left - this.offsetX;\n      elePos.top = eventPageY + colpos.top - this.offsetY;\n    }\n\n    this.tooltipEle.style.left = elePos.left + 'px';\n    this.tooltipEle.style.top = elePos.top + 'px';\n  };\n\n  Tooltip.prototype.keyDown = function (event) {\n    if (this.tooltipEle && event.keyCode === 27) {\n      this.close();\n    }\n  };\n\n  Tooltip.prototype.touchEnd = function (e) {\n    if (this.tooltipEle && closest(e.target, '.' + ROOT$1) === null && !this.isSticky) {\n      this.close();\n    }\n  };\n\n  Tooltip.prototype.scrollHandler = function (e) {\n    if (this.tooltipEle) {\n      if (!closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1)) {\n        this.close();\n      }\n    }\n  };\n  /**\n   * Core method that initializes the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.render = function () {\n    this.initialize();\n    this.wireEvents(this.opensOn);\n    this.renderComplete();\n  };\n  /**\n   * Initializes the values of private members.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.preRender = function () {\n    this.tipClass = TIP_BOTTOM;\n    this.tooltipPositionX = 'Center';\n    this.tooltipPositionY = 'Top';\n    this.isHidden = true;\n  };\n  /**\n   * Binding events to the Tooltip element.\n   *\n   * @hidden\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.wireEvents = function (trigger) {\n    var triggerList = this.getTriggerList(trigger);\n\n    for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n      var opensOn = triggerList_1[_i];\n\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.wireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          this.touchModule = new Touch(this.element, {\n            tapHoldThreshold: TAPHOLD_THRESHOLD,\n            tapHold: this.tapHoldHandler.bind(this)\n          });\n          EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n        } else {\n          EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n        }\n      }\n    }\n\n    EventHandler.add(document, 'touchend', this.touchEnd, this);\n    EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    EventHandler.add(document, 'keydown', this.keyDown, this);\n  };\n\n  Tooltip.prototype.getTriggerList = function (trigger) {\n    if (trigger === 'Auto') {\n      trigger = Browser.isDevice ? 'Hover' : 'Hover Focus';\n    }\n\n    return trigger.split(' ');\n  };\n\n  Tooltip.prototype.wireFocusEvents = function () {\n    if (!isNullOrUndefined(this.target)) {\n      var targetList = [].slice.call(selectAll(this.target, this.element));\n\n      for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n        var target = targetList_2[_i];\n        EventHandler.add(target, 'focus', this.targetHover, this);\n      }\n    } else {\n      EventHandler.add(this.element, 'focus', this.targetHover, this);\n    }\n  };\n\n  Tooltip.prototype.wireMouseEvents = function (e, target) {\n    if (this.tooltipEle) {\n      if (!this.isSticky) {\n        if (e.type === 'focus') {\n          EventHandler.add(target, 'blur', this.onMouseOut, this);\n        }\n\n        if (e.type === 'mouseover') {\n          EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n        }\n\n        if (this.closeDelay) {\n          EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n          EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n        }\n      }\n\n      if (this.mouseTrail && this.openDelay === 0) {\n        EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n      }\n    }\n  };\n  /**\n   * Unbinding events from the element on widget destroy.\n   *\n   * @hidden\n   *\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.unwireEvents = function (trigger) {\n    var triggerList = this.getTriggerList(trigger);\n\n    for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n      var opensOn = triggerList_2[_i];\n\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.unwireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          if (this.touchModule) {\n            this.touchModule.destroy();\n          }\n\n          EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n        } else {\n          EventHandler.remove(this.element, 'mouseover', this.targetHover);\n        }\n      }\n    }\n\n    EventHandler.remove(document, 'touchend', this.touchEnd);\n    EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n    EventHandler.remove(window, 'resize', this.windowResize);\n    EventHandler.remove(document, 'keydown', this.keyDown);\n  };\n\n  Tooltip.prototype.unwireFocusEvents = function () {\n    if (!isNullOrUndefined(this.target)) {\n      var targetList = [].slice.call(selectAll(this.target, this.element));\n\n      for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n        var target = targetList_3[_i];\n        EventHandler.remove(target, 'focus', this.targetHover);\n      }\n    } else {\n      EventHandler.remove(this.element, 'focus', this.targetHover);\n    }\n  };\n\n  Tooltip.prototype.unwireMouseEvents = function (target) {\n    if (!this.isSticky) {\n      var triggerList = this.getTriggerList(this.opensOn);\n\n      for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n        var opensOn = triggerList_3[_i];\n\n        if (opensOn === 'Focus') {\n          EventHandler.remove(target, 'blur', this.onMouseOut);\n        }\n\n        if (opensOn === 'Hover' && !Browser.isDevice) {\n          EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n        }\n      }\n\n      if (this.closeDelay) {\n        EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n        EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n      }\n    }\n\n    if (this.mouseTrail) {\n      EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n    }\n  };\n\n  Tooltip.prototype.findTarget = function () {\n    var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    return target;\n  };\n  /**\n   * Core method to return the component name.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns module name.\n   */\n\n\n  Tooltip.prototype.getModuleName = function () {\n    return 'tooltip';\n  };\n  /**\n   * Returns the properties to be maintained in the persisted state.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns persisted data.\n   */\n\n\n  Tooltip.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Called internally, if any of the property value changed.\n   *\n   * @private\n   *\n   * @param {TooltipModel} newProp - this param gives new property values to the method\n   * @param {TooltipModel} oldProp - this param gives old property values to the method\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var targetElement = this.findTarget();\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'height':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.height = formatUnit(newProp.height);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'content':\n          if (this.tooltipEle) {\n            this.renderContent();\n          }\n\n          break;\n\n        case 'opensOn':\n          this.unwireEvents(oldProp.opensOn);\n          this.wireEvents(newProp.opensOn);\n          break;\n\n        case 'position':\n          this.formatPosition();\n\n          if (this.tooltipEle && targetElement) {\n            var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n            arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'tipPointerPosition':\n          if (this.tooltipEle && targetElement) {\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'offsetX':\n          if (this.tooltipEle) {\n            var x = newProp.offsetX - oldProp.offsetX;\n            this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + x).toString() + 'px';\n          }\n\n          break;\n\n        case 'offsetY':\n          if (this.tooltipEle) {\n            var y = newProp.offsetY - oldProp.offsetY;\n            this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + y).toString() + 'px';\n          }\n\n          break;\n\n        case 'cssClass':\n          if (this.tooltipEle) {\n            if (oldProp.cssClass) {\n              removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n            }\n\n            if (newProp.cssClass) {\n              addClass([this.tooltipEle], newProp.cssClass.split(' '));\n            }\n          }\n\n          break;\n\n        case 'enableRtl':\n          if (this.tooltipEle) {\n            if (this.enableRtl) {\n              addClass([this.tooltipEle], RTL$1);\n            } else {\n              removeClass([this.tooltipEle], RTL$1);\n            }\n          }\n\n          break;\n\n        case 'container':\n          if (!isNullOrUndefined(this.containerElement)) {\n            removeClass([this.containerElement], POPUP_CONTAINER);\n          }\n\n          this.container = newProp.container;\n\n          if (this.tooltipEle && targetElement) {\n            this.appendContainer(this);\n            this.reposition(targetElement);\n          }\n\n      }\n    }\n  };\n  /**\n   * It is used to show the Tooltip on the specified target with specific animation settings.\n   *\n   * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.open = function (element, animation) {\n    if (isNullOrUndefined(animation)) {\n      animation = this.animation.open;\n    }\n\n    if (isNullOrUndefined(element)) {\n      element = this.element;\n    }\n\n    if (element.style.display === 'none') {\n      return;\n    }\n\n    this.showTooltip(element, animation);\n  };\n  /**\n   * It is used to hide the Tooltip with specific animation effect.\n   *\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.close = function (animation) {\n    if (!animation) {\n      animation = this.animation.close;\n    }\n\n    this.hideTooltip(animation);\n  };\n  /**\n   * It is used to refresh the Tooltip content and its position.\n   *\n   * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.refresh = function (target) {\n    if (this.tooltipEle) {\n      this.renderContent(target);\n    }\n\n    if (this.popupObj && target) {\n      this.reposition(target);\n    }\n  };\n  /**\n   * It is used to destroy the Tooltip component.\n   * @method destroy\n   * @returns {void}\n   * @memberof Tooltip\n   */\n\n\n  Tooltip.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.tooltipEle) {\n      remove(this.tooltipEle);\n    }\n\n    if (this.popupObj) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], ROOT$1);\n    this.unwireEvents(this.opensOn);\n    this.unwireMouseEvents(this.element);\n    this.tooltipEle = null;\n    this.popupObj = null;\n  };\n\n  __decorate$2([Property('auto')], Tooltip.prototype, \"width\", void 0);\n\n  __decorate$2([Property('auto')], Tooltip.prototype, \"height\", void 0);\n\n  __decorate$2([Property()], Tooltip.prototype, \"content\", void 0);\n\n  __decorate$2([Property('body')], Tooltip.prototype, \"container\", void 0);\n\n  __decorate$2([Property()], Tooltip.prototype, \"target\", void 0);\n\n  __decorate$2([Property('TopCenter')], Tooltip.prototype, \"position\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"offsetX\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"offsetY\", void 0);\n\n  __decorate$2([Property(true)], Tooltip.prototype, \"showTipPointer\", void 0);\n\n  __decorate$2([Property(true)], Tooltip.prototype, \"enableHtmlParse\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"windowCollision\", void 0);\n\n  __decorate$2([Property('Auto')], Tooltip.prototype, \"tipPointerPosition\", void 0);\n\n  __decorate$2([Property('Auto')], Tooltip.prototype, \"opensOn\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"mouseTrail\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"isSticky\", void 0);\n\n  __decorate$2([Complex({}, Animation$1)], Tooltip.prototype, \"animation\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"openDelay\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"closeDelay\", void 0);\n\n  __decorate$2([Property()], Tooltip.prototype, \"cssClass\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeRender\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeOpen\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"afterOpen\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeClose\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"afterClose\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeCollision\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"created\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"destroyed\", void 0);\n\n  Tooltip = __decorate$2([NotifyPropertyChanges], Tooltip);\n  return Tooltip;\n}(Component);\n/**\n * Tooltip modules\n */\n\n\nvar globalTimeOut = {};\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_FLUENT_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar DEFT_BOOT5_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_FLUENTSPIN = 'e-spin-fluent';\nvar CLS_TAILWINDSPIN = 'e-spin-tailwind';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\nvar spinTemplate = null;\nvar spinCSSClass = null; // eslint-disable-next-line\n\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\n\nfunction Spinner(action, options, target, type) {\n  switch (action) {\n    case 'Create':\n      /* eslint-disable */\n      var element = document.querySelector(options.target);\n      var args = {\n        type: type,\n        target: element,\n        cssClass: options.cssClass,\n        label: options.label,\n        width: options.width\n      };\n      /* eslint-enable */\n\n      createSpinner(args);\n      break;\n\n    case 'Show':\n      showSpinner(document.querySelector(target));\n      break;\n\n    case 'Hide':\n      hideSpinner(document.querySelector(target));\n      break;\n\n    case 'Set':\n      // eslint-disable-next-line\n      var setArgs = {\n        cssClass: options.cssClass,\n        type: type\n      };\n      setSpinner(setArgs);\n      break;\n  }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\n\n\nfunction createSpinner(args, internalCreateElement) {\n  if (!args.target) {\n    return;\n  }\n\n  var radius;\n  var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement; // eslint-disable-next-line\n\n  var container = create_spinner_container(args.target, makeElement);\n\n  if (!isNullOrUndefined(args.cssClass)) {\n    container.wrap.classList.add(args.cssClass);\n  }\n\n  if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n    var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n    container.wrap.classList.add(CLS_SPINTEMPLATE);\n    replaceContent(container.wrap, template, spinCSSClass);\n  } else {\n    var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n    var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n    radius = calculateRadius(width, theme);\n    setTheme(theme, container.wrap, radius, makeElement);\n\n    if (!isNullOrUndefined(args.label)) {\n      createLabel(container.inner_wrap, args.label, makeElement);\n    }\n  }\n\n  container.wrap.classList.add(CLS_HIDESPIN);\n  container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\n\n\nfunction createLabel(container, label, makeElement) {\n  var labelEle = makeElement('div', {});\n  labelEle.classList.add(CLS_SPINLABEL);\n  labelEle.innerHTML = label;\n  container.appendChild(labelEle);\n  return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createMaterialSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Material',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n  mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap4',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n  mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap5',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n  mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n\n\nfunction startMatAnimate(container, uniqueID, radius) {\n  var globalObject = {};\n  var timeOutVar = 0;\n  globalTimeOut[uniqueID].timeOut = 0;\n  globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0); // eslint-disable-next-line\n\n  var spinnerInfo = {\n    uniqueID: uniqueID,\n    container: container,\n    globalInfo: globalObject,\n    timeOutVar: timeOutVar\n  };\n  animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createFabricSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Fabric',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createFluentSinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Fluent',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\n\nfunction createTailwindSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Tailwind',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createHighContrastSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'HighContrast',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\n\n\nfunction getTheme(container) {\n  var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n  return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction setTheme(theme, container, radius, makeElement) {\n  var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n  var svg = innerContainer.querySelector('svg');\n\n  if (!isNullOrUndefined(svg)) {\n    innerContainer.removeChild(svg);\n  }\n\n  switch (theme) {\n    case 'Material':\n      createMaterialSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Fabric':\n      createFabricSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Fluent':\n      createFluentSinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap':\n      createBootstrapSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'HighContrast':\n      createHighContrastSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap4':\n      createBootstrap4Spinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap5':\n      createBootstrap5Spinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Tailwind':\n    case 'Tailwind-dark':\n      createTailwindSpinner(innerContainer, radius, makeElement);\n      break;\n  }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap',\n    radius: radius\n  };\n  create_bootstrap_element(innerContainer, uniqueID, makeElement);\n  boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n  var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  var viewBoxValue = 64;\n  var trans = 32;\n  var defaultRadius = 2;\n  svgBoot.setAttribute('id', uniqueID);\n  svgBoot.setAttribute('class', CLS_BOOTSPIN);\n  svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n  innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n\n  for (var item = 0; item <= 7; item++) {\n    var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n    bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n    bootCircle.setAttribute('r', defaultRadius + '');\n    bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n    svgBoot.appendChild(bootCircle);\n  }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction boot_calculate_attributes(innerContainer, radius) {\n  var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n  var x = 0;\n  var y = 0;\n  var rad = 24;\n  svg.style.width = svg.style.height = radius + 'px';\n  var startArc = 90;\n\n  for (var item = 0; item <= 7; item++) {\n    var start = defineArcPoints(x, y, rad, startArc);\n    var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n    circleEle.setAttribute('cx', start.x + '');\n    circleEle.setAttribute('cy', start.y + '');\n    startArc = startArc >= 360 ? 0 : startArc;\n    startArc = startArc + 45;\n  }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\n\n\nfunction generateSeries(begin, stop) {\n  var series = [];\n  var start = begin;\n  var end = stop; // eslint-disable-next-line\n\n  var increment = false,\n      count = 1;\n  formSeries(start);\n  /**\n   *\n   * @param {number} i - specifies the number\n   * @returns {void}\n   */\n\n  function formSeries(i) {\n    series.push(i);\n\n    if (i !== end || count === 1) {\n      if (i <= start && i > 1 && !increment) {\n        i = parseFloat((i - 0.2).toFixed(2));\n      } else if (i === 1) {\n        i = 7;\n        i = parseFloat((i + 0.2).toFixed(2));\n        increment = true;\n      } else if (i < 8 && increment) {\n        i = parseFloat((i + 0.2).toFixed(2));\n\n        if (i === 8) {\n          increment = false;\n        }\n      } else if (i <= 8 && !increment) {\n        i = parseFloat((i - 0.2).toFixed(2));\n      }\n\n      ++count;\n      formSeries(i);\n    }\n  }\n\n  return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\n\n\nfunction animateBootstrap(innerContainer) {\n  var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n  var id = svg.getAttribute('id');\n\n  for (var i = 1; i <= 8; i++) {\n    var circleEle = innerContainer.getElementsByClassName('e-path-circle_' + (i === 8 ? 0 : i))[0];\n    rotation(circleEle, i, i, generateSeries(i, i), id);\n  }\n  /**\n   *\n   * @param {SVGCircleElement} circle - specifies the circl element\n   * @param {number} start - specifies the number\n   * @param {number} end - specifies the end number\n   * @param {number} series - specifies the series\n   * @param {string} id - specifies the id\n   * @returns {void}\n   */\n\n\n  function rotation(circle, start, end, series, id) {\n    var count = 0;\n    boot_animate(start); // eslint-disable-next-line\n\n    function boot_animate(radius) {\n      if (globalTimeOut[id].isAnimate) {\n        ++count;\n        circle.setAttribute('r', radius + '');\n\n        if (count >= series.length) {\n          count = 0;\n        } // eslint-disable-next-line\n\n\n        globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n      }\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\n\n\nfunction replaceContent(container, template, cssClass) {\n  if (!isNullOrUndefined(cssClass)) {\n    container.classList.add(cssClass);\n  }\n\n  var inner = container.querySelector('.e-spinner-inner');\n  inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\n\n\nfunction calculateRadius(width, theme) {\n  var defaultSize;\n\n  switch (theme) {\n    case 'Material':\n      defaultSize = DEFT_MAT_WIDTH;\n      break;\n\n    case 'Fabric':\n      defaultSize = DEFT_FAB_WIDTH;\n      break;\n\n    case 'Tailwind':\n    case 'Tailwind-dark':\n      defaultSize = DEFT_FAB_WIDTH;\n      break;\n\n    case 'Fluent':\n      defaultSize = DEFT_FLUENT_WIDTH;\n      break;\n\n    case 'Bootstrap4':\n      defaultSize = DEFT_BOOT4_WIDTH;\n      break;\n\n    case 'Bootstrap5':\n      defaultSize = DEFT_BOOT5_WIDTH;\n      break;\n\n    default:\n      defaultSize = DEFT_BOOT_WIDTH;\n  }\n\n  width = width ? parseFloat(width + '') : defaultSize;\n  return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\n\n\nfunction globalVariables(id, radius, count, previousId) {\n  return {\n    radius: radius,\n    count: count,\n    previousId: previousId\n  };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\n\n\nfunction random_generator() {\n  var random = '';\n  var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i < 5; i++) {\n    random += combine.charAt(Math.floor(Math.random() * combine.length));\n  }\n\n  return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n  var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svgFabric.setAttribute('id', uniqueID);\n  svgFabric.setAttribute('class', themeClass);\n  var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n  var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  fabricCircleArc.setAttribute('class', CLS_SPINARC);\n  innerCon.insertBefore(svgFabric, innerCon.firstChild);\n  svgFabric.appendChild(fabricCirclePath);\n  svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n  var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  svgMaterial.setAttribute('class', cls);\n  svgMaterial.setAttribute('id', uniqueID);\n  matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n  innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n  svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_spinner_container(target, makeElement) {\n  var spinnerContainer = makeElement('div', {});\n  var spinnerInnerContainer = makeElement('div', {});\n  spinnerContainer.classList.add(CLS_SPINWRAP);\n  spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n  target.appendChild(spinnerContainer);\n  spinnerContainer.appendChild(spinnerInnerContainer); // eslint-disable-next-line\n\n  return {\n    wrap: spinnerContainer,\n    inner_wrap: spinnerInnerContainer\n  };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\n\n\nfunction animateMaterial(spinnerInfo) {\n  var start = 1;\n  var end = 149;\n  var duration = 1333;\n  var max = 75;\n  createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n  spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n  var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n  var startTime = new Date().getTime();\n  var change = end - start;\n  var diameter = getSize(spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2 + '');\n  var strokeSize = getStrokeSize(diameter);\n  var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n  mat_animation(spinnerInfo); // eslint-disable-next-line\n\n  function mat_animation(spinnerInfo) {\n    var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n    updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n\n    if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n      // eslint-disable-next-line\n      globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n    } else {\n      animateMaterial(spinnerInfo);\n    }\n  }\n  /**\n   *\n   * @param {number} value - specifies the number value\n   * @param {HTMLElement} container - specifies the container\n   * @returns {void}\n   */\n\n\n  function updatePath(value, container) {\n    if (!isNullOrUndefined(container.querySelector('svg.e-spin-material')) && !isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle'))) {\n      var svg = container.querySelector('svg.e-spin-material');\n      var path = svg.querySelector('path.e-path-circle');\n      path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n      path.setAttribute('transform', 'rotate(' + rotate + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n    }\n  }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction mat_calculate_attributes(radius, container, type, cls) {\n  var diameter = radius * 2;\n  var svg = container.querySelector('svg.' + cls);\n  var path = svg.querySelector('path.e-path-circle');\n  var strokeSize = getStrokeSize(diameter);\n  var transformOrigin = diameter / 2 + 'px';\n  svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n  svg.style.width = svg.style.height = diameter + 'px';\n  svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n  path.setAttribute('d', drawArc(diameter, strokeSize));\n\n  if (type === 'Material') {\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('stroke-dasharray', (diameter - strokeSize) * Math.PI * 0.75 + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n  }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\n\n\nfunction getSize(value) {\n  var parsed = parseFloat(value);\n  return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\n\n\nfunction drawArc(diameter, strokeSize) {\n  var radius = diameter / 2;\n  var offset = strokeSize / 2;\n  return 'M' + radius + ',' + offset + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\n\n\nfunction getStrokeSize(diameter) {\n  return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction getDashOffset(diameter, strokeSize, value, max) {\n  return (diameter - strokeSize) * Math.PI * (3 * max / 100 - value / 100);\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction easeAnimation(current, start, change, duration) {\n  var timestamp = (current /= duration) * current;\n  var timecount = timestamp * current;\n  return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n  var centerX = radius;\n  var centerY = radius;\n  var diameter = radius * 2; // eslint-disable-next-line\n\n  var startArc = 315,\n      endArc = 45;\n  var svg = innerConainer.querySelector('.' + trgClass);\n  var circle = svg.querySelector('.e-path-circle');\n  var path = svg.querySelector('.e-path-arc');\n  var transformOrigin = diameter / 2 + 'px';\n  circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n  path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n  svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n  svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n  svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n  var radians = (angle - 90) * Math.PI / 180.0;\n  return {\n    x: centerX + radius * Math.cos(radians),\n    y: centerY + radius * Math.sin(radians)\n  };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction defineArc(x, y, radius, startArc, endArc) {\n  var start = defineArcPoints(x, y, radius, endArc);\n  var end = defineArcPoints(x, y, radius, startArc);\n  var d = ['M', start.x, start.y, 'A', radius, radius, 0, 0, 0, end.x, end.y].join(' ');\n  return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\n\n\nfunction defineCircle(x, y, radius) {\n  var d = ['M', x, y, 'm', -radius, 0, 'a', radius, radius, 0, 1, 0, radius * 2, 0, 'a', radius, radius, 0, 1, 0, -radius * 2, 0].join(' ');\n  return d;\n} // eslint-disable-next-line\n\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\n\n\nfunction showSpinner(container) {\n  showHideSpinner(container, false);\n  container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\n\n\nfunction showHideSpinner(container, isHide) {\n  var spinnerWrap;\n\n  if (container) {\n    spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container : container.querySelector('.' + CLS_SPINWRAP);\n  }\n\n  if (container && spinnerWrap) {\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck = void 0; // eslint-disable-next-line\n\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) : !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n\n    if (spinCheck) {\n      var svgEle = spinnerWrap.querySelector('svg');\n\n      if (isNullOrUndefined(svgEle)) {\n        return;\n      }\n\n      var id = svgEle.getAttribute('id');\n      globalTimeOut[id].isAnimate = !isHide;\n\n      switch (globalTimeOut[id].type) {\n        case 'Material':\n          // eslint-disable-next-line\n          isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n          break;\n\n        case 'Bootstrap':\n          // eslint-disable-next-line\n          isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n          break;\n      }\n    } // eslint-disable-next-line\n\n\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n  }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\n\n\nfunction hideSpinner(container) {\n  showHideSpinner(container, true);\n  container = null;\n} // eslint-disable-next-line\n\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\n\n\nfunction setSpinner(args, internalCreateElement) {\n  var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n\n  if (args.template !== undefined) {\n    spinTemplate = args.template;\n\n    if (args.template !== undefined) {\n      spinCSSClass = args.cssClass;\n    }\n  }\n\n  var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n\n  for (var index = 0; index < container.length; index++) {\n    ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n  }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\n\n\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n  if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n    replaceTheme(container, theme, cssClass, makeEle);\n\n    if (container.classList.contains(CLS_SHOWSPIN)) {\n      container.classList.remove(CLS_SHOWSPIN);\n      showSpinner(container);\n    } else {\n      container.classList.remove(CLS_HIDESPIN);\n      hideSpinner(container);\n    }\n  } else {\n    spinTemplate = template;\n\n    if (!isNullOrUndefined(cssClass)) {\n      spinCSSClass = cssClass;\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\n\n\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n  if (!isNullOrUndefined(cssClass)) {\n    container.classList.add(cssClass);\n  }\n\n  var svgElement = container.querySelector('svg');\n  var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n  var classNames = svgElement.getAttribute('class');\n  var svgClassList = classNames.split(/\\s/);\n\n  if (svgClassList.indexOf('e-spin-material') >= 0) {\n    var id = svgElement.getAttribute('id');\n    clearTimeout(globalTimeOut[id].timeOut);\n  }\n\n  setTheme(theme, container, radius, makeEle);\n}\n/**\n * spinner modules\n */\n\n/**\n * Popup Components\n */\n\n\nexport { PositionData, Popup, getScrollableParent, getZindexPartial, getMaxZindex, calculateRelativeBasedPosition, calculatePosition, fit, isCollide, flip, ButtonProps, AnimationSettings, Dialog, DialogUtility, Animation$1 as Animation, Tooltip, Spinner, createSpinner, showSpinner, hideSpinner, setSpinner };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Complex","Component","Draggable","Event","EventHandler","L10n","NotifyPropertyChanges","Property","SanitizeHtmlHelper","Touch","addClass","append","attributes","classList","closest","compile","createElement","detach","extend","formatUnit","getUniqueID","isBlazor","isNullOrUndefined","prepend","remove","removeClass","select","selectAll","setStyleAttribute","Button","elementRect","popupRect","element","parentDocument","fixedParent","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","left","top","tempAnchor","offsetParent","style","position","offsetLeft","offsetTop","scrollLeft","scrollTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","undefined","ownerDocument","pos","updatePosition","toLowerCase","setPosx","value","setPosy","posX","posY","getBoundingClientRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","documentElement","body","getBodyScrollLeft","bottom","height","popupWidth","contains","width","right","parentDocument$1","targetContainer","fit","viewPortElement","axis","X","Y","elemData","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","x","y","elemOffset","data","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","push","rightSide","leftSide","bottomSide","flip","target","offsetX","offsetY","tEdge","TL","TR","BL","BR","eEdge","window","getComputedStyle","display","oldVisibility","visibility","removeProperty","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","getBodyScrollLeft$1","deepCheck","collideSide","getBodyScrollTop$1","innerHeight","getTargetContainerLeft","getTargetContainerTop","windowWidth","innerWidth","documentReact","document","offsetWidth","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","PositionData","_super","apply","CLASSNAMES","ROOT","RTL","OPEN","CLOSE","Popup","options","call","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","zIndex","setEnableRtl","refreshPosition","parseInt","toString","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","getModuleName","resolveCollision","checkCollision","getPersistData","addOnPersist","destroy","unwireEvents","render","add","styles","wireEvents","isDevice","orientationOnChange","getRelateToElement","getScrollableParent","parent_1","scrollRefresh","parent_2","relateToElement","relateTo","setProperties","querySelector","e","tagName","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","trigger","scrollElement","scrollParents","parent_3","isElementVisible","rect","checkGetBoundingClientRect","parent_4","win","windowView","scrollY","scrollX","outerWidth","outerHeight","off","ele","elementView","preRender","reposition","enableRtl","content","innerHTML","textContent","relateToElem","props","appendChild","_this","setTimeout","collision","checkFixedParent","parentDisplay","getAnchorPosition","eleRect","error","anchorEle","anchorRect","targetType","callFlip","param","callFit","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","getZindexPartial","showAnimation","begin","isDestroyed","end","animate","hideAnimation","parent","parentStyle","eleStyle","overflowRegex","test","overflow","overflowY","overflowX","parentZindex","index","defaultView","getPropertyValue","childrenZindex","children","isEqualNode","siblingsZindex","childNodes","slice","finalValue","concat","currentZindexValue","Math","max","getMaxZindex","maxZindex","elements","getElementsByTagName","i_1","elementClass","RESIZE_HANDLER","FOCUSED_HANDLER","DIALOG_RESIZABLE","RESTRICT_LEFT","RESIZE_WITHIN_VIEWPORT","dialogBorderResize","targetElement","selectedHandler","originalWidth","originalHeight","originalX","originalY","originalMouseX","originalMouseY","minHeight","maxHeight","minWidth","maxWidth","containerElement","resizeStart","resize","resizeEnd","resizeWestWidth","setLeft","previousWidth","setWidth","proxy","createResize","args","resizeBegin","resizing","resizeComplete","getDOMElement","boundary","directions","direction","split","indexOf","setBorderResizeElm","trim","resizeHandler","className","calculateValues","borderBottom","attrs","setAttribute","domElement","resizers","querySelectorAll","onMouseDown","eventName","info","name","onTouchStart","borderResizers","getEventType","preventDefault","pageX","pageY","targetEle","clientWidth","clientHeight","onMouseMove","onMouseUp","touchMoveEvent","touchEndEvent","parseFloat","replace","coordinates","touches","changedTouches","resizeTowards","resizeSouth","resizeNorth","resizeWest","resizeEast","getClientRectValues","documentHeight","calculateValue","currentpageY","targetRectValues","containerRectValues","calculatedHeight","borderValue","offsetHeight","topWithoutborder","targetTop","calculatedTop","boundaryRectValues","type","currentHeight","top_1","documentWidth","rectValues","floor","calculatedWidth","left_1","setMinHeight","minimumHeight","setMaxWidth","setMaxHeight","removeResize","handlers","__extends$1","__decorate$1","ButtonProps","AnimationSettings","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CONTENT","DLG_CLOSE_ICON","DLG_OVERLAY","DLG_TARGET","DLG_CONTAINER","SCROLL_DISABLED","DLG_PRIMARY_BUTTON","ICON","POPUP_ROOT","DEVICE","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_HIDE","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","DLG_REF_ELEMENT","DLG_USER_ACTION_CLOSED","DLG_CLOSE_ICON_CLOSED","DLG_ESCAPE_CLOSED","DLG_OVERLAYCLICK_CLOSED","DLG_DRAG","Dialog","needsID","initialize","initRender","enableResize","setResize","animationSettings","effect","getMinHeight","renderComplete","initializeValue","dlgClosedBy","headerContent","allowMaxHeight","preventVisibility","clonedEle","cloneNode","closeIconClickEventHandler","event","dlgOverlayClickEventHandler","preventFocus","overlayClickEventArgs","focusContent","localeText","close","l10n","locale","checkPositionData","prevOnChange","isProtectedOnChange","isNumberValue","isNumber","getEle","list","selector","computedHeaderHeight","computedFooterHeight","footerEle","headerHeight","footerHeight","isNaN","onResizeStart","dialogObj","cancel","onResizing","onResizeComplete","isBlazorServerRender","computedHeight","computedWidth","resizeHandles","directionValue","toLocaleLowerCase","isModal","bind","wireWindowResizeEvent","unWireWindowResizeEvent","getFocusElement","items","keyDown","keyCode","buttonObj","btnObj","ftrTemplateContent","contentEle","activeElement","shiftKey","focusableElements","focus","isTagName","isContentEdit","hasAttribute","getAttribute","closeOnEscape","ctrlKey","primaryButtonEle","buttonIndex_1","firstPrimary","buttons","some","buttonModel","isPrimary","click","setCSSClass","initialRender","role","setzIndex","calculatezIndex","getElementsByClassName","id","setTargetContent","header","setHeader","renderCloseIcon","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","setIsModal","dlgContainer","dlgOverlay","parentEle","refElement","insertBefore","popupObj","open","eventArgs","container","resetResizeIcon","openEventArgs","unBindEvent","closeArgs","activeEle","blur","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","dialogConHeight","resizeIcon","zIndexValue","setPopupPosition","handleContent","dragObj","clone","isDragScroll","abort","handle","dragStart","dragEventArgs","bindEvents","dragElement","dragStop","drag","dragArea","buttonContent","buttonType","btn","cssClass","outerHTML","footerBtn","buttonClickHandler","appendTo","isFlat","innerContentElement","setTemplate","HTMLElement","isIE","template","toElement","templateFn","templateProps","templateValue","isStringTemplate","sanitizeHelper","isVue","fromElements","isString","item","enableHtmlSanitizer","dialogItem","beforeSanitize","beforeEvent","helper","serializeValue","isContent","createDocumentFragment","forEach","el","nodeType","headerEle","createHeaderContent","join","showCloseIcon","closeIcon","closeIconBtnObj","iconCss","closeIconTitle","setLocale","getConstant","oldCSSClass","parentNode","getValidFocusNode","node","u","tabIndex","disabled","disableElement","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msGetRegionContent","Element","userAgent","bindEvent","updateSanitizeContent","isServerRendered","clearTemplate","innerText","insertAdjacentHTML","updateIsModal","buttonCount","setTarget","firstChild","removeChild","setPopupZindex","windowResizeHandler","classArray","unWireEvents","removeAttribute","isReact","addEventListener","removeEventListener","getDimension","dialogWidth","dialogHeight","isFullScreen","fullScreen","eventArgs_1","beforeOpenArgs","openAnimation","duration","delay","dialogOpen","renderReactTemplates","isInteracted","closedBy","beforeCloseArgs","closeAnimation","scrollingElement","getButtons","DialogUtility","alert","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","option","formOptions","setAlertButtonModel","setConfirmButtonModel","title","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","text","icon","__extends$2","__decorate$2","TOUCHEND_HIDE_DELAY","TAPHOLD_THRESHOLD","SHOW_POINTER_TIP_GAP","HIDE_POINTER_TIP_GAP","MOUSE_TRAIL_GAP","POINTER_ADJUST","ROOT$1","RTL$1","DEVICE$1","ICON$1","TOOLTIP_WRAP","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_ROOT$1","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","HIDE_POPUP","POPUP_CONTAINER","Animation$1","Animation$$1","Tooltip","mouseMoveEvent","mouseMoveTarget","isBodyContainer","formatPosition","_b","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionPosition","calculateElementPosition","collisionLeft","collisionTop","collisionFlipFit","windowResize","findTarget","dataBind","needTemplateReposition","tooltipEventArgs","clear","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","renderContent","tooltipContent","sanitize","tempFunction","tempArr","enableHtmlParse","nodeList","templateFunction","isSticky","tipClose","touchStartEvent","onStickyClose","addDescribedBy","describedby","removeDescribedBy","splice","orgdescribedby","tapHoldHandler","evt","clearTimeout","autoCloseTimer","targetHover","originalEvent","touchEndHandler","targetClick","hideTooltip","animation","closeDelay","targetList","ctrlId","targetList_1","target_1","restoreElement","showTooltip","mouseMoveBeforeOpen","mouseMoveBeforeRemove","showTimer","hideTimer","openDelay","observeCallback","beforeRenderArgs","beforeRenderCallback","isHidden","tooltipBeforeRender","tooltipAfterRender","stop","appendContainer","ctrlObj","observedArgs","beforeOpenCallback","openAnimation_1","timingFunction","wireMouseEvents","tooltip","viewContainerRef","horizontal","vertical","affectedPos","checkCollideTarget","pageXOffset","pageYOffset","newpos","collidedPosition","elePosVertical","elePosHorizontal","getOffSetPosition","elePosition","eleOffset","arrowleft","positionString","newPos","offsetType","windowCollision","isTooltipOpen","tooltipHide","popupHide","unwireMouseEvents","tooltipHover","tooltipMouseOut","onMouseOut","enteredElement","relatedTarget","checkForTooltipElement","tooltipElementMouseOut","eventPageX","eventPageY","colpos","touchEnd","scrollHandler","opensOn","triggerList","getTriggerList","triggerList_1","wireFocusEvents","touchModule","tapHoldThreshold","tapHold","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","refresh","globalTimeOut","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_FLUENT_WIDTH","DEFT_BOOT_WIDTH","DEFT_BOOT4_WIDTH","DEFT_BOOT5_WIDTH","CLS_SHOWSPIN","CLS_HIDESPIN","CLS_MATERIALSPIN","CLS_FABRICSPIN","CLS_FLUENTSPIN","CLS_TAILWINDSPIN","CLS_BOOTSPIN","CLS_BOOT4SPIN","CLS_BOOT5SPIN","CLS_HIGHCONTRASTSPIN","CLS_SPINWRAP","CLS_SPININWRAP","CLS_SPINCIRCLE","CLS_SPINARC","CLS_SPINLABEL","CLS_SPINTEMPLATE","spinTemplate","spinCSSClass","Spinner","action","label","createSpinner","showSpinner","hideSpinner","setArgs","setSpinner","internalCreateElement","radius","makeElement","create_spinner_container","wrap","replaceContent","theme","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","labelEle","createMaterialSpinner","uniqueID","random_generator","timeOut","create_material_element","mat_calculate_attributes","createBootstrap4Spinner","createBootstrap5Spinner","startMatAnimate","globalObject","timeOutVar","globalVariables","spinnerInfo","globalInfo","animateMaterial","createFabricSpinner","create_fabric_element","fb_calculate_attributes","createFluentSinner","createTailwindSpinner","createHighContrastSpinner","innerContainer","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","createElementNS","viewBoxValue","trans","defaultRadius","bootCircle","rad","startArc","start","defineArcPoints","circleEle","generateSeries","series","increment","count","formSeries","toFixed","animateBootstrap","rotation","circle","boot_animate","isAnimate","inner","defaultSize","previousId","random","combine","charAt","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","cls","svgMaterial","matCirclePath","spinnerContainer","spinnerInnerContainer","createCircle","easeAnimation","easing","startTime","Date","getTime","change","diameter","getSize","strokeSize","getStrokeSize","rotate","mat_animation","currentTime","min","updatePath","path","getDashOffset","transformOrigin","drawArc","PI","parsed","offset","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","endArc","defineCircle","defineArc","angle","radians","cos","sin","showHideSpinner","isHide","spinnerWrap","spinCheck","svgEle","ensureTemplate","makeEle","replaceTheme","svgElement","classNames","svgClassList"],"sources":["C:/Users/High Tech Assistance/Desktop/e-learningProject__frontend - Copie/e-learningProject__frontend - Copie/frontend/node_modules/@syncfusion/ej2-richtexteditor/node_modules/@syncfusion/ej2-popups/dist/es6/ej2-popups.es5.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Event, EventHandler, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getUniqueID, isBlazor, isNullOrUndefined, prepend, remove, removeClass, select, selectAll, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n\n/**\n * Position library\n */\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\nfunction calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\nfunction calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    //eslint-disable-next-line\n    popupRect = undefined;\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementRight() {\n    var popupWidth = (element && element.classList.contains('e-date-range-wrapper')) ? (popupRect ? popupRect.width : 0) :\n        (popupRect && (elementRect.width >= popupRect.width) ? popupRect.width : 0);\n    return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n\n/**\n * Collision module.\n */\nvar parentDocument$1;\nvar targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\nfunction fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument$1 = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\nfunction isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument$1 = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    // eslint-disable-next-line\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\nfunction flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, \n/* eslint-disable */\naxis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    // eslint-disable-next-line\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    }, eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n        /* eslint-enable */\n    };\n    var elementRect;\n    if (window.getComputedStyle(element).display === 'none') {\n        var oldVisibility = element.style.visibility;\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        elementRect = element.getBoundingClientRect();\n        element.style.removeProperty('display');\n        element.style.visibility = oldVisibility;\n    }\n    else {\n        elementRect = element.getBoundingClientRect();\n    }\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument$1 = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction setPopup(element, pos, elementRect) {\n    //eslint-disable-next-line\n    var left = 0, top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\nfunction leftCollideCheck(left, right) {\n    //eslint-disable-next-line\n    var leftSide = false, rightSide = false;\n    if (((left - getBodyScrollLeft$1()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft$1()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left > ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop$1()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\nfunction topCollideCheck(top, bottom) {\n    //eslint-disable-next-line\n    var topSide = false, bottomSide = false;\n    if ((top - getBodyScrollTop$1()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\n//eslint-disable-next-line\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft$1() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft$1() + getViewPortWidth());\n}\n//eslint-disable-next-line\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop$1() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop$1() + getViewPortHeight());\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollTop$1() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument$1.documentElement.scrollTop || parentDocument$1.body.scrollTop;\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollLeft$1() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument$1.documentElement.scrollLeft || parentDocument$1.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortWidth() {\n    var windowWidth = window.innerWidth;\n    var documentReact = document.documentElement.getBoundingClientRect();\n    var offsetWidth = (isNullOrUndefined(document.documentElement)) ? 0 : documentReact.width;\n    return windowWidth - (windowWidth - offsetWidth);\n}\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @__PURE__ @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @__PURE__ @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PopupModel} newProp - specifies the new property\n     * @param {PopupModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    // eslint-disable-next-line\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    // eslint-disable-next-line\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * To resolve if any collision occurs.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.resolveCollision = function () {\n        this.checkCollision();\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n        if (this.element.classList.contains('e-popup-open')) {\n            this.unwireEvents();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     *\n     * @param {HTMLElement} relateToElement - specifies the element\n     * @param {HTMLElement} scrollElement - specifies the scroll element\n     * @returns {boolean} - retruns the boolean\n     */\n    // eslint-disable-next-line\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        // eslint-disable-next-line\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                var relateToElem = this.getRelateToElement();\n                // eslint-disable-next-line\n                var props = this.content.props;\n                if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n                    this.element.appendChild(this.content);\n                }\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    // eslint-disable-next-line\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var position;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            var parentDisplay = void 0;\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                if (param.X) {\n                    this.element.style.left = data.left + 'px';\n                }\n                if (param.Y) {\n                    this.element.style.top = data.top + 'px';\n                }\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     *\n     * @returns {void}\n     * @param {AnimationModel} animationOptions - specifies the model\n     * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        this.wireEvents();\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     *\n     * @param {AnimationModel} animationOptions - To give the animation options.\n     * @returns {void}\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n        this.unwireEvents();\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     *\n     * @returns {void}\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent &&\n                this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.top = window.scrollY > parseInt(this.element.style.top) ? formatUnit(window.scrollY - parseInt(this.element.style.top))\n                    : formatUnit(parseInt(this.element.style.top) - window.scrollY);\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nfunction getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nfunction getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            if (!element.isEqualNode(childNodes[i])) {\n                var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    siblingsZindex.push(index);\n                }\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nfunction getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n\n/**\n * Popup Components\n */\n\n/**\n * Popup Components\n */\n\n/**\n * Resize library\n */\n/* eslint-disable */\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar DIALOG_RESIZABLE = 'e-dlg-resizable';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar dialogBorderResize = ['north', 'west', 'east', 'south'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\n/* eslint-disable */\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\n/* eslint-enable */\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true;\n// eslint-disable-next-line\nvar proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\nfunction createResize(args) {\n    resizeStart = args.resizeBegin;\n    resize = args.resizing;\n    resizeEnd = args.resizeComplete;\n    targetElement = getDOMElement(args.element);\n    containerElement = getDOMElement(args.boundary);\n    var directions = args.direction.split(' ');\n    for (var i = 0; i < directions.length; i++) {\n        if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n            setBorderResizeElm(directions[i]);\n        }\n        else if (directions[i].trim() !== '') {\n            var resizeHandler = createElement('div', { className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i] });\n            targetElement.appendChild(resizeHandler);\n        }\n    }\n    minHeight = args.minHeight;\n    minWidth = args.minWidth;\n    maxWidth = args.maxWidth;\n    maxHeight = args.maxHeight;\n    if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n        wireEvents(args.proxy);\n    }\n    else {\n        wireEvents();\n    }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\nfunction setBorderResizeElm(direction) {\n    calculateValues();\n    var borderBottom = createElement('span', {\n        attrs: {\n            'unselectable': 'on', 'contenteditable': 'false'\n        }\n    });\n    borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n    if (direction === 'south') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.bottom = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'north') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.top = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'east') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.right = '0px';\n        borderBottom.style.top = '0px';\n    }\n    if (direction === 'west') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.left = '0px';\n        borderBottom.style.top = '0px';\n    }\n    targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction getDOMElement(element) {\n    var domElement;\n    if (!isNullOrUndefined(element)) {\n        if (typeof (element) === 'string') {\n            domElement = document.querySelector(element);\n        }\n        else {\n            domElement = element;\n        }\n    }\n    return domElement;\n}\n// eslint-disable-next-line\nfunction wireEvents(args) {\n    if (isNullOrUndefined(args)) {\n        args = this;\n    }\n    var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < resizers.length; i++) {\n        selectedHandler = resizers[i];\n        EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n        var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n        EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNullOrUndefined(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            selectedHandler = borderResizers[i];\n            EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n            var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n            EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\nfunction getEventType(e) {\n    return (e.indexOf('mouse') > -1) ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\nfunction onMouseDown(e) {\n    e.preventDefault();\n    targetElement = e.target.parentElement;\n    calculateValues();\n    originalMouseX = e.pageX;\n    originalMouseY = e.pageY;\n    e.target.classList.add(FOCUSED_HANDLER);\n    if (!isNullOrUndefined(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n        containerElement = this.target === 'body' || 'document.body' || document.body ? null : this.targetEle;\n        maxWidth = this.targetEle.clientWidth;\n        maxHeight = this.targetEle.clientHeight;\n    }\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, 'mousemove', onMouseMove, this);\n    EventHandler.add(document, 'mouseup', onMouseUp, this);\n    for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n        if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n            setLeft = false;\n        }\n        else {\n            setLeft = true;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseUp(e) {\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n    EventHandler.remove(target, 'mousemove', onMouseMove);\n    EventHandler.remove(target, touchMoveEvent, onMouseMove);\n    EventHandler.remove(target, eventName, onMouseMove);\n    if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(resizeEnd)) {\n        proxy = this;\n        resizeEnd(e, proxy);\n    }\n    EventHandler.remove(document, 'mouseup', onMouseUp);\n    EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n * @returns {void}\n */\nfunction calculateValues() {\n    originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n    originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n    originalX = targetElement.getBoundingClientRect().left;\n    originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onTouchStart(e) {\n    targetElement = e.target.parentElement;\n    calculateValues();\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    originalMouseX = coordinates.pageX;\n    originalMouseY = coordinates.pageY;\n    if (!isNullOrUndefined(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n    EventHandler.add(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseMove(e) {\n    if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n        selectedHandler = e.target;\n    }\n    else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(selectedHandler)) {\n        var resizeTowards = '';\n        for (var i = 0; i < elementClass.length; i++) {\n            if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n                resizeTowards = elementClass[i];\n            }\n        }\n        if (!isNullOrUndefined(resize)) {\n            proxy = this;\n            resize(e, proxy);\n        }\n        switch (resizeTowards) {\n            case 'south':\n                resizeSouth(e);\n                break;\n            case 'north':\n                resizeNorth(e);\n                break;\n            case 'west':\n                resizeWest(e);\n                break;\n            case 'east':\n                resizeEast(e);\n                break;\n            case 'south-east':\n                resizeSouth(e);\n                resizeEast(e);\n                break;\n            case 'south-west':\n                resizeSouth(e);\n                resizeWest(e);\n                break;\n            case 'north-east':\n                resizeNorth(e);\n                resizeEast(e);\n                break;\n            case 'north-west':\n                resizeNorth(e);\n                resizeWest(e);\n                break;\n            default: break;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\nfunction getClientRectValues(element) {\n    return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeSouth(e) {\n    var documentHeight = document.documentElement.clientHeight;\n    var calculateValue = false;\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var currentpageY = coordinates.pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    var containerRectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && ((documentHeight - currentpageY) >= 0 || (targetRectValues.top < 0))) {\n        calculateValue = true;\n    }\n    var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n    calculatedHeight = (calculatedHeight > minHeight) ? calculatedHeight : minHeight;\n    var containerTop = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerTop = containerRectValues.top;\n    }\n    var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n    var topWithoutborder = (targetRectValues.top - containerTop) - (borderValue / 2);\n    topWithoutborder = (topWithoutborder < 0) ? 0 : topWithoutborder;\n    if (targetRectValues.top > 0 && (topWithoutborder + calculatedHeight) > maxHeight) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.height = (maxHeight - parseInt(topWithoutborder.toString(), 10)) + 'px';\n        return;\n    }\n    var targetTop = 0;\n    if (calculateValue) {\n        if (targetRectValues.top < 0 && (documentHeight + (targetRectValues.height + targetRectValues.top) > 0)) {\n            targetTop = targetRectValues.top;\n            if ((calculatedHeight + targetTop) <= 30) {\n                calculatedHeight = (targetRectValues.height - (targetRectValues.height + targetRectValues.top)) + 30;\n            }\n        }\n        if (((calculatedHeight + targetRectValues.top) >= maxHeight)) {\n            targetElement.style.height = targetRectValues.height +\n                (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n        }\n        var calculatedTop = (isNullOrUndefined(containerElement)) ? targetTop : topWithoutborder;\n        if (calculatedHeight >= minHeight && ((calculatedHeight + calculatedTop) <= maxHeight)) {\n            targetElement.style.height = calculatedHeight + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeNorth(e) {\n    var calculateValue = false;\n    var boundaryRectValues;\n    var pageY = (getEventType(e.type) === 'mouse') ? e.pageY : e.touches[0].pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement)) {\n        boundaryRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement) && (targetRectValues.top - boundaryRectValues.top) > 0) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageY > 0) {\n        calculateValue = true;\n    }\n    var currentHeight = originalHeight - (pageY - originalMouseY);\n    if (calculateValue) {\n        if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n            var containerTop = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerTop = boundaryRectValues.top;\n            }\n            var top_1 = (originalY - containerTop) + (pageY - originalMouseY);\n            top_1 = top_1 > 0 ? top_1 : 1;\n            targetElement.style.height = currentHeight + 'px';\n            targetElement.style.top = top_1 + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeWest(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var rectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        rectValues = getClientRectValues(containerElement);\n    }\n    var pageX = (getEventType(e.type) === 'mouse') ? e.pageX : e.touches[0].pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n    /* eslint-disable */\n    var left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n    var containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n    /* eslint-enable */\n    if (isNullOrUndefined(resizeWestWidth)) {\n        if (!isNullOrUndefined(containerElement)) {\n            resizeWestWidth = (((targetRectValues.left - left) - borderValue / 2)) + targetRectValues.width;\n            resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n        }\n        else {\n            resizeWestWidth = documentWidth;\n        }\n    }\n    if (!isNullOrUndefined(containerElement) &&\n        (Math.floor((targetRectValues.left - rectValues.left) + targetRectValues.width +\n            (rectValues.right - targetRectValues.right)) - borderValue) <= maxWidth) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth - (pageX - originalMouseX);\n    if (setLeft) {\n        calculatedWidth = (calculatedWidth > resizeWestWidth) ? resizeWestWidth : calculatedWidth;\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            var containerLeft = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerLeft = rectValues.left;\n            }\n            var left_1 = (originalX - containerLeft) + (pageX - originalMouseX);\n            left_1 = (left_1 > 0) ? left_1 : 1;\n            if (calculatedWidth !== previousWidth && setWidth) {\n                targetElement.style.width = calculatedWidth + 'px';\n            }\n            if (setLeft) {\n                targetElement.style.left = left_1 + 'px';\n                if (left_1 === 1) {\n                    setWidth = false;\n                }\n                else {\n                    setWidth = true;\n                }\n            }\n        }\n    }\n    previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeEast(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var containerRectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var pageX = coordinates.pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement) && (((targetRectValues.left - containerRectValues.left) + targetRectValues.width) <= maxWidth\n        || (targetRectValues.right - containerRectValues.left) >= targetRectValues.width)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && (documentWidth - pageX) > 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth + (pageX - originalMouseX);\n    var containerLeft = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerLeft = containerRectValues.left;\n    }\n    if (((targetRectValues.left - containerLeft) + calculatedWidth) > maxWidth) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            targetElement.style.width = calculatedWidth + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\nfunction setMinHeight(minimumHeight) {\n    minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nfunction setMaxWidth(value) {\n    maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nfunction setMaxHeight(value) {\n    maxHeight = value;\n}\n/**\n * @returns {void}\n */\nfunction removeResize() {\n    var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < handlers.length; i++) {\n        detach(handlers[i]);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNullOrUndefined(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            detach(borderResizers[i]);\n        }\n    }\n}\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ButtonProps = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$1([\n        Property(true)\n    ], ButtonProps.prototype, \"isFlat\", void 0);\n    __decorate$1([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate$1([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate$1([\n        Event()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$1([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate$1([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate$1([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(Dialog, _super);\n    /*\n     * * Constructor for creating the widget\n     *\n     * @param\n     * @param\n     * @hidden\n     */\n    function Dialog(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.needsID = true;\n        return _this;\n    }\n    /**\n     *Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    };\n    Dialog.prototype.initializeValue = function () {\n        this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n    };\n    /**\n     *Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.initializeValue();\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n            _this.hide(event);\n        };\n        // eslint-disable-next-line\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n            event.preventFocus = false;\n            _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n                if (!overlayClickEventArgs.preventFocus) {\n                    _this.focusContent();\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        };\n        // eslint-disable-next-line\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    Dialog.prototype.isNumberValue = function (value) {\n        var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    };\n    Dialog.prototype.checkPositionData = function () {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    };\n    Dialog.prototype.getEle = function (list, selector) {\n        var element = undefined;\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.getMinHeight = function () {\n        var computedHeaderHeight = '0px';\n        var computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n        return (headerHeight + 30 + footerHeight);\n    };\n    Dialog.prototype.onResizeStart = function (args, dialogObj) {\n        dialogObj.trigger('resizeStart', args);\n        return args.cancel;\n    };\n    Dialog.prototype.onResizing = function (args, dialogObj) {\n        dialogObj.trigger('resizing', args);\n    };\n    Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n        dialogObj.trigger('resizeStop', args);\n    };\n    Dialog.prototype.setResize = function () {\n        if (this.enableResize) {\n            if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            var computedHeight = getComputedStyle(this.element).minHeight;\n            var computedWidth = getComputedStyle(this.element).minWidth;\n            var direction = '';\n            for (var i = 0; i < this.resizeHandles.length; i++) {\n                if (this.resizeHandles[i] === 'All') {\n                    direction = 'south north east west north-east north-west south-east south-west';\n                    break;\n                }\n                else {\n                    var directionValue = '';\n                    switch (this.resizeHandles[i].toString()) {\n                        case 'SouthEast':\n                            directionValue = 'south-east';\n                            break;\n                        case 'SouthWest':\n                            directionValue = 'south-west';\n                            break;\n                        case 'NorthEast':\n                            directionValue = 'north-east';\n                            break;\n                        case 'NorthWest':\n                            directionValue = 'north-west';\n                            break;\n                        default:\n                            directionValue = this.resizeHandles[i].toString();\n                            break;\n                    }\n                    direction += directionValue.toLocaleLowerCase() + ' ';\n                }\n            }\n            if (this.enableRtl && direction.trim() === 'south-east') {\n                direction = 'south-west';\n            }\n            else if (this.enableRtl && direction.trim() === 'south-west') {\n                direction = 'south-east';\n            }\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this),\n                proxy: this\n            });\n            this.wireWindowResizeEvent();\n        }\n        else {\n            removeResize();\n            this.unWireWindowResizeEvent();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    };\n    Dialog.prototype.getFocusElement = function (target) {\n        var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n        var items = target.querySelectorAll(value);\n        return { element: items[items.length - 1] };\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if ((isNullOrUndefined(this.btnObj)) && (!isNullOrUndefined(this.ftrTemplateContent))) {\n                    buttonObj = this.getFocusElement(this.ftrTemplateContent);\n                }\n                if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n                    buttonObj = this.getFocusElement(this.contentEle);\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n            // 'document.querySelector' is used to find the elements rendered based on body\n            if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n                this.hide(event);\n            }\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            // eslint-disable-next-line\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                // eslint-disable-next-line\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n            this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            this.renderCloseIcon();\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n                if (childNodes[i].classList.contains('e-dlg-overlay')) {\n                    this.dlgOverlay = childNodes[i];\n                }\n            }\n        }\n        if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true\n            && !isNullOrUndefined(this.element.parentElement)) {\n            var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n            this.refElement = this.createElement('div', { className: DLG_REF_ELEMENT });\n            parentEle.insertBefore(this.refElement, (this.isModal ? this.dlgContainer : this.element));\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            // eslint-disable-next-line\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            enableRtl: this.enableRtl,\n            // eslint-disable-next-line\n            open: function (event) {\n                // eslint-disable-next-line\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target,\n                    preventFocus: false\n                };\n                if (_this.enableResize) {\n                    _this.resetResizeIcon();\n                }\n                // eslint-disable-next-line\n                _this.trigger('open', eventArgs, function (openEventArgs) {\n                    if (!openEventArgs.preventFocus) {\n                        _this.focusContent();\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                var activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.resetResizeIcon = function () {\n        var dialogConHeight = this.getMinHeight();\n        if (this.targetEle.offsetHeight < dialogConHeight) {\n            var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n            var resizeIcon = this.element.querySelector('.' + className);\n            if (!isNullOrUndefined(resizeIcon)) {\n                resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n            }\n        }\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        if (!this.element.classList.contains(DLG_DRAG)) {\n            this.dragObj = new Draggable(this.element, {\n                clone: false,\n                isDragScroll: true,\n                abort: '.e-dlg-closeicon-btn',\n                handle: handleContent,\n                // eslint-disable-next-line\n                dragStart: function (event) {\n                    // eslint-disable-next-line\n                    _this.trigger('dragStart', event, function (dragEventArgs) {\n                        if (isBlazor()) {\n                            dragEventArgs.bindEvents(event.dragElement);\n                        }\n                    });\n                },\n                // eslint-disable-next-line\n                dragStop: function (event) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.position)) {\n                            _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                        }\n                        // Reset the dialog position after drag completion.\n                        _this.element.style.position = 'relative';\n                    }\n                    _this.trigger('dragStop', event);\n                    _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n                },\n                // eslint-disable-next-line\n                drag: function (event) {\n                    _this.trigger('drag', event);\n                }\n            });\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.dragObj.dragArea = this.targetEle;\n            }\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        if (!this.isBlazorServerRender()) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            // eslint-disable-next-line\n            for (var i = 0; i < this.buttons.length; i++) {\n                var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                var btn = this.createElement('button', { className: this.cssClass, attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        var footerBtn;\n        for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n            if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n                footerBtn = childNodes[i].querySelectorAll('button');\n            }\n        }\n        for (var i = 0; i < this.buttons.length; i++) {\n            if (!this.isBlazorServerRender()) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (this.isBlazorServerRender()) {\n                this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n            }\n            if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n                }\n                if (typeof (this.buttons[i].click) === 'object') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n                }\n            }\n            if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                if (this.buttons[i].isFlat) {\n                    this.btnObj[i].element.classList.add('e-flat');\n                }\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    };\n    Dialog.prototype.buttonClickHandler = function (index) {\n        this.trigger('buttons[' + index + '].click', {});\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            // eslint-disable-next-line\n            if (typeof (this.content) === 'string' && !isBlazor()) {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n                this.element.style.width = formatUnit(this.width);\n            }\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement, prop) {\n        // eslint-disable-next-line\n        var templateFn;\n        var templateProps;\n        // eslint-disable-next-line\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        var templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template === 'string') || (typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            if ((typeof template === 'string')) {\n                template = this.sanitizeHelper(template);\n            }\n            if (this.isVue || typeof template !== 'string') {\n                templateFn = compile(template);\n                templateValue = template;\n            }\n            else {\n                toElement.innerHTML = template;\n            }\n        }\n        var fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            var isString = (isBlazor() &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n                var item = _a[_i];\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n        }\n    };\n    /*\n     * @returns {void}\n     * @hidden\n     * @value\n     */\n    Dialog.prototype.sanitizeHelper = function (value) {\n        if (this.enableHtmlSanitizer) {\n            var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n            var beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(dialogItem, dialogItem, beforeEvent);\n            this.trigger('beforeSanitizeHtml', dialogItem);\n            if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n                value = dialogItem.helper(value);\n            }\n            else if (!dialogItem.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n            }\n        }\n        return value;\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n        if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle)\n            && this.element.offsetHeight < this.contentEle.offsetHeight) {\n            this.element.style.height = 'inherit';\n        }\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        if (!this.isBlazorServerRender()) {\n            // eslint-disable-next-line\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach(function (el) {\n                    if (el.nodeType !== 8) {\n                        _this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle, 'header');\n        attributes(this.element, { 'aria-labelledby': this.element.id });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { id: this.element.id + '_dialog-header', className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        if (this.showCloseIcon) {\n            this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n            this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n            this.closeIconTitle();\n            if (!isNullOrUndefined(this.headerContent)) {\n                prepend([this.closeIcon], this.headerContent);\n            }\n            else {\n                this.createHeaderContent();\n                prepend([this.closeIcon], this.headerContent);\n                this.element.insertBefore(this.headerContent, this.element.children[0]);\n            }\n            this.closeIconBtnObj.appendTo(this.closeIcon);\n        }\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n            if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n                removeClass([this.dlgContainer], oldCSSClass.split(' '));\n            }\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n            if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n                addClass([this.dlgContainer], this.cssClass.split(' '));\n            }\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.setCSSClass();\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n            else {\n                node = null;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        // eslint-disable-next-line\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        var userAgent = Browser.userAgent;\n        if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n            this.element.focus();\n        }\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    Dialog.prototype.updateSanitizeContent = function () {\n        if (!this.isBlazorServerRender()) {\n            this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n        }\n    };\n    Dialog.prototype.isBlazorServerRender = function () {\n        return isBlazor() && this.isServerRendered;\n    };\n    /**\n     * Module required function\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     *\n     * @param {DialogModel} newProp - specifies the new property\n     * @param {DialogModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (this.isBlazorServerRender()) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!this.isBlazorServerRender()) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            // eslint-disable-next-line\n                            if (typeof (this.content) === 'function') {\n                                this.clearTemplate(['content']);\n                                detach(this.contentEle);\n                                this.contentEle = null;\n                                this.setContent();\n                            }\n                            else {\n                                typeof (this.content) === 'string' ? (this.isBlazorServerRender() && (this.contentEle.innerText === '')) ?\n                                    this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                    this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n                            }\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!this.isBlazorServerRender() ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (this.isBlazorServerRender()) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender()) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    // eslint-disable-next-line\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons': {\n                    var buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (var i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                }\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.setTarget(newProp.target);\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n                case 'minHeight':\n                    if (this.minHeight !== '') {\n                        this.element.style.minHeight = formatUnit(this.minHeight);\n                    }\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.setTarget = function (target) {\n        this.popupObj.relateTo = target;\n        this.target = target;\n        this.targetEle = ((typeof this.target) === 'string') ?\n            document.querySelector(this.target) : this.target;\n        if (this.dragObj) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n        this.setMaxHeight();\n        if (this.isModal) {\n            this.updateIsModal();\n        }\n        if (this.enableResize) {\n            this.setResize();\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            if (isNullOrUndefined(this.dlgOverlay)) {\n                this.setIsModal();\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    this.targetEle.appendChild(this.dlgContainer);\n                }\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    Dialog.prototype.windowResizeHandler = function () {\n        setMaxWidth(this.targetEle.clientWidth);\n        setMaxHeight(this.targetEle.clientHeight);\n        this.setMaxHeight();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n        var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n        removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n        if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n        }\n        if (this.isModal) {\n            removeClass([(!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body)], SCROLL_DISABLED);\n        }\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.btnObj)) {\n            for (var i = 0; i < this.btnObj.length; i++) {\n                this.btnObj[i].destroy();\n            }\n        }\n        if (!isNullOrUndefined(this.dragObj)) {\n            this.dragObj.destroy();\n        }\n        if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], classArray);\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n            this.refElement.parentElement.insertBefore((this.isModal ? this.dlgContainer : this.element), this.refElement);\n            detach(this.refElement);\n            this.refElement = undefined;\n        }\n        if (this.isModal && !this.isBlazorServerRender()) {\n            detach(this.dlgOverlay);\n            this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n            detach(this.dlgContainer);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.element.innerHTML = this.clonedEle.innerHTML;\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.element.children)) {\n                for (var i = 0; i <= this.element.children.length; i++) {\n                    i = i - i;\n                    detach(this.element.children[i]);\n                }\n            }\n        }\n        for (var i = 0; i < attrs.length; i++) {\n            this.element.removeAttribute(attrs[i]);\n        }\n        if (!this.isBlazorServerRender()) {\n            _super.prototype.destroy.call(this);\n        }\n        else {\n            this.isDestroyed = true;\n        }\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    Dialog.prototype.wireWindowResizeEvent = function () {\n        window.addEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    Dialog.prototype.unWireWindowResizeEvent = function () {\n        window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    /**\n     * Binding event to the element while widget creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.isBlazorServerRender() && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Returns the current width and height of the Dialog\n     *\n     * @returns {DialogDimension}\n     * @public\n     */\n    Dialog.prototype.getDimension = function () {\n        var dialogWidth = this.element.offsetWidth;\n        var dialogHeight = this.element.offsetHeight;\n        return { width: dialogWidth, height: dialogHeight };\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     *\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @returns {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs_1 = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n                if (!beforeOpenArgs.cancel) {\n                    if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n                        _this.allowMaxHeight = false;\n                        _this.element.style.maxHeight = eventArgs_1.maxHeight;\n                    }\n                    _this.storeActiveElement = document.activeElement;\n                    _this.element.tabIndex = -1;\n                    if (_this.isModal && (!isNullOrUndefined(_this.dlgOverlay))) {\n                        _this.dlgOverlay.style.display = 'block';\n                        _this.dlgContainer.style.display = 'flex';\n                        removeClass([_this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            if (_this.targetEle === document.body) {\n                                _this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                _this.dlgContainer.style.position = 'absolute';\n                            }\n                            _this.dlgOverlay.style.position = 'absolute';\n                            _this.element.style.position = 'relative';\n                            addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                        else {\n                            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    var openAnimation = {\n                        name: _this.animationSettings.effect + 'In',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    var zIndexElement = (_this.isModal) ? _this.element.parentElement : _this.element;\n                    if (_this.calculatezIndex) {\n                        _this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(_this.element, { 'zIndex': _this.zIndex });\n                        if (_this.isModal) {\n                            _this.setOverlayZindex(_this.zIndex);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n                    _this.dialogOpen = true;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = true;\n                    _this.preventVisibility = true;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     *\n     * @param { Event } event - specifies the event\n     * @returns {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            var eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event,\n                closedBy: this.dlgClosedBy\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n                if (!beforeCloseArgs.cancel) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    if (document.body.classList.contains(DLG_TARGET) &&\n                        document.body.classList.contains(SCROLL_DISABLED)) {\n                        removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                    }\n                    // eslint-disable-next-line\n                    var closeAnimation = {\n                        name: _this.animationSettings.effect + 'Out',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n                    _this.dialogOpen = false;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = false;\n                    _this.preventVisibility = false;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        }\n    };\n    // eslint-disable-next-line\n    /**\n     * Specifies to view the Full screen Dialog.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        /* eslint-disable */\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        /* eslint-enable */\n        if (args) {\n            this.element.style.top = document.scrollingElement.scrollTop + 'px';\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     *\n     * @param { number } index - Index of the button.\n     * @returns {Button} - returns the button element\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate$1([\n        Property(true)\n    ], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate$1([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"enableResize\", void 0);\n    __decorate$1([\n        Property(['South-East'])\n    ], Dialog.prototype, \"resizeHandles\", void 0);\n    __decorate$1([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"minHeight\", void 0);\n    __decorate$1([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate$1([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate$1([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate$1([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate$1([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate$1([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate$1([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"resizeStart\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"resizing\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"resizeStop\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"destroyed\", void 0);\n    Dialog = __decorate$1([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nvar DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {AlertDialogArgs} args - specifies the string\n     * @returns {Dialog} - returns the dialog element.\n     */\n    function alert(args) {\n        // eslint-disable-next-line\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with ‘OK’ and ‘Cancel’ button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {ConfirmDialogArgs} args - specifies the args\n     * @returns {Dialog} - returns te element\n     */\n    function confirm(args) {\n        // eslint-disable-next-line\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    // eslint-disable-next-line\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    // eslint-disable-next-line\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        options.width = !isNullOrUndefined(option.width) ? option.width : '100%';\n        options.height = !isNullOrUndefined(option.height) ? option.height : 'auto';\n        return options;\n    }\n    // eslint-disable-next-line\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n\n/**\n * Dialog Component\n */\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT$1 = 'e-tooltip';\nvar RTL$1 = 'e-rtl';\nvar DEVICE$1 = 'e-bigger';\nvar ICON$1 = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT$1 = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\nvar Animation$1 = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(Animation$$1, _super);\n    function Animation$$1() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation$$1.prototype, \"open\", void 0);\n    __decorate$2([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation$$1.prototype, \"close\", void 0);\n    return Animation$$1;\n}(ChildProperty));\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(Tooltip, _super);\n    /* eslint-enable */\n    /**\n     * Constructor for creating the Tooltip Component\n     *\n     * @param {TooltipModel} options - specifies the options for the constructor\n     * @param {string| HTMLElement} element - specifies the element for the constructor\n     *\n     */\n    function Tooltip(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseMoveEvent = null;\n        _this.mouseMoveTarget = null;\n        _this.containerElement = null;\n        _this.isBodyContainer = true;\n        return _this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT$1);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'block';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n        var collisionLeft = collisionPosition[0];\n        var collisionTop = collisionPosition[1];\n        var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    };\n    Tooltip.prototype.windowResize = function () {\n        this.reposition(this.findTarget());\n    };\n    Tooltip.prototype.reposition = function (target) {\n        if (this.popupObj && target) {\n            var elePos = this.getTooltipPosition(target);\n            this.popupObj.position = { X: elePos.left, Y: elePos.top };\n            this.popupObj.dataBind();\n        }\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clearTemplate(['content']);\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        this.tooltipEle.style.display = 'block';\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else if ((tipPosExclude) && (this.tipPointerPosition === 'End' || this.tipPointerPosition === 'Start')) {\n                    leftValue = (this.tipPointerPosition === 'End') ? ((target.offsetWidth + ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2)) - (tipWidth / 2)) - POINTER_ADJUST + 'px'\n                        : ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2) - (tipWidth / 2) + POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                if (this.enableHtmlSanitizer) {\n                    this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                }\n                // eslint-disable-next-line\n                var tempFunction = compile(this.content);\n                var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    if (this.enableHtmlParse) {\n                        var nodeList = tempArr.length;\n                        for (var i = 0; i < nodeList; i++) {\n                            tooltipContent[append(tempArr, tooltipContent), 'innerHTML'] = this.content;\n                        }\n                    }\n                    else {\n                        tooltipContent['textContent'] = this.content;\n                    }\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                var templateFunction = compile(this.content);\n                var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    append(tempArr, tooltipContent);\n                }\n                this.renderReactTemplates();\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON$1 + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        // eslint-disable-next-line\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || (target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0)) {\n            return;\n        }\n        var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    };\n    Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n        this.mouseMoveEvent = e;\n    };\n    Tooltip.prototype.mouseMoveBeforeRemove = function () {\n        if (this.mouseMoveTarget) {\n            EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n        }\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        if (this.openDelay && this.mouseTrail) {\n            this.mouseMoveBeforeRemove();\n            this.mouseMoveTarget = target;\n            EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // eslint-disable-next-line\n        var observeCallback = function (beforeRenderArgs) {\n            _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    };\n    Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                this.ctrlId = this.element.getAttribute('id') ?\n                    getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                this.tooltipEle = this.createElement('div', {\n                    className: TOOLTIP_WRAP + ' ' + POPUP_ROOT$1 + ' ' + POPUP_LIB, attrs: {\n                        role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                    }, styles: 'width:' +\n                        formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                });\n                this.tooltipBeforeRender(target, this);\n                this.tooltipAfterRender(target, e, showAnimation, this);\n            }\n            else {\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDescribedBy(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    Animation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.tooltipAfterRender(target, e, showAnimation, this);\n                }\n            }\n        }\n    };\n    Tooltip.prototype.appendContainer = function (ctrlObj) {\n        if (typeof this.container == 'string') {\n            if (this.container === 'body') {\n                this.containerElement = document.body;\n            }\n            else {\n                this.isBodyContainer = false;\n                this.containerElement = select(this.container, document);\n            }\n        }\n        else if (this.container instanceof HTMLElement) {\n            this.containerElement = this.container;\n            this.isBodyContainer = this.containerElement.tagName === 'BODY';\n        }\n        if (!this.isBodyContainer) {\n            addClass([this.containerElement], POPUP_CONTAINER);\n        }\n        this.containerElement.appendChild(ctrlObj.tooltipEle);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE$1);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            this.appendContainer(ctrlObj);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDescribedBy(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            Animation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    };\n    Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            // eslint-disable-next-line\n            var observeCallback = function (observedArgs) {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    };\n    Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n        var _this = this;\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n            this.restoreElement(target);\n        }\n        else {\n            // eslint-disable-next-line\n            var openAnimation_1 = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation_1 = undefined;\n            }\n            if (this.openDelay > 0) {\n                // eslint-disable-next-line\n                var show = function () {\n                    if (_this.mouseTrail) {\n                        EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n                    }\n                    if (_this.popupObj) {\n                        _this.popupObj.show(openAnimation_1, target);\n                        if (_this.mouseMoveEvent && _this.mouseTrail) {\n                            _this.onMouseMove(_this.mouseMoveEvent);\n                        }\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation_1, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    };\n    Tooltip.prototype.needTemplateReposition = function () {\n        // eslint-disable-next-line\n        var tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string';\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n        return [this.isBodyContainer ? pos.left + offsetPos.left :\n                (pos.left - this.containerElement.offsetLeft) + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft,\n            this.isBodyContainer ? pos.top + offsetPos.top :\n                (pos.top - this.containerElement.offsetTop) + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        var elePosVertical = elePos.vertical;\n        var elePosHorizontal = elePos.horizontal;\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n            offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n            elePos.position = newpos;\n            var elePosition = this.calculateElementPosition(pos, offsetPos);\n            elePos.left = elePosition[0];\n            elePos.top = elePosition[1];\n        }\n        else {\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = this.isBodyContainer ?\n            fit(this.tooltipEle, this.checkCollideTarget(), { X: true, Y: false }, eleOffset).left : eleOffset.left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n        return ((positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n            (positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * offsetType) : 0;\n    };\n    Tooltip.prototype.checkCollideTarget = function () {\n        return !this.windowCollision && this.target ? this.element : null;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        if (this.closeDelay > 0) {\n            clearTimeout(this.hideTimer);\n            clearTimeout(this.showTimer);\n            // eslint-disable-next-line\n            var hide = function () {\n                if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n                    return;\n                }\n                _this.tooltipHide(hideAnimation, e, targetElement);\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            this.tooltipHide(hideAnimation, e, targetElement);\n        }\n    };\n    Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.mouseMoveBeforeRemove();\n                _this.popupHide(hideAnimation, target);\n            }\n            else {\n                _this.isHidden = false;\n            }\n        });\n    };\n    Tooltip.prototype.popupHide = function (hideAnimation, target) {\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        // eslint-disable-next-line\n        var closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide(closeAnimation);\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.tooltipHover = function (e) {\n        if (this.tooltipEle) {\n            this.isTooltipOpen = true;\n        }\n    };\n    Tooltip.prototype.tooltipMouseOut = function (e) {\n        this.isTooltipOpen = false;\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        var enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    };\n    Tooltip.prototype.tooltipElementMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        Animation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT$1) === null && !this.isSticky) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1))) {\n                this.close();\n            }\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    };\n    /**\n     * Initializes the values of private members.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     *\n     * @hidden\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n                if (this.closeDelay) {\n                    EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n                    EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n                }\n            }\n            if (this.mouseTrail && this.openDelay === 0) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     *\n     * @hidden\n     *\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(selectAll(this.target, this.element));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n            if (this.closeDelay) {\n                EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n                EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns persisted data.\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @private\n     *\n     * @param {TooltipModel} newProp - this param gives new property values to the method\n     * @param {TooltipModel} oldProp - this param gives old property values to the method\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL$1);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL$1);\n                        }\n                    }\n                    break;\n                case 'container':\n                    if (!isNullOrUndefined(this.containerElement)) {\n                        removeClass([this.containerElement], POPUP_CONTAINER);\n                    }\n                    this.container = newProp.container;\n                    if (this.tooltipEle && targetElement) {\n                        this.appendContainer(this);\n                        this.reposition(targetElement);\n                    }\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     *\n     * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     *\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     *\n     * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n     * @returns {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @returns {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT$1);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate$2([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate$2([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate$2([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate$2([\n        Property('body')\n    ], Tooltip.prototype, \"container\", void 0);\n    __decorate$2([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate$2([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate$2([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate$2([\n        Property(true)\n    ], Tooltip.prototype, \"enableHtmlParse\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"windowCollision\", void 0);\n    __decorate$2([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate$2([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate$2([\n        Complex({}, Animation$1)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate$2([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate$2([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\n\n/**\n * Tooltip modules\n */\n\nvar globalTimeOut = {};\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_FLUENT_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar DEFT_BOOT5_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_FLUENTSPIN = 'e-spin-fluent';\nvar CLS_TAILWINDSPIN = 'e-spin-tailwind';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\nvar spinTemplate = null;\nvar spinCSSClass = null;\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\nfunction Spinner(action, options, target, type) {\n    switch (action) {\n        case 'Create':\n            /* eslint-disable */\n            var element = document.querySelector(options.target);\n            var args = { type: type, target: element, cssClass: options.cssClass,\n                label: options.label, width: options.width };\n            /* eslint-enable */\n            createSpinner(args);\n            break;\n        case 'Show':\n            showSpinner(document.querySelector(target));\n            break;\n        case 'Hide':\n            hideSpinner(document.querySelector(target));\n            break;\n        case 'Set':\n            // eslint-disable-next-line\n            var setArgs = { cssClass: options.cssClass, type: type };\n            setSpinner(setArgs);\n            break;\n    }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\nfunction createSpinner(args, internalCreateElement) {\n    if (!args.target) {\n        return;\n    }\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    // eslint-disable-next-line\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.innerHTML = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n    mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap4', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap5', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    // eslint-disable-next-line\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFluentSinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fluent', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\nfunction createTailwindSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Tailwind', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fluent':\n            createFluentSinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap4':\n            createBootstrap4Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap5':\n            createBootstrap5Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            createTailwindSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    svg.style.width = svg.style.height = radius + 'px';\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    // eslint-disable-next-line\n    var increment = false, count = 1;\n    formSeries(start);\n    /**\n     *\n     * @param {number} i - specifies the number\n     * @returns {void}\n     */\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    /**\n     *\n     * @param {SVGCircleElement} circle - specifies the circl element\n     * @param {number} start - specifies the number\n     * @param {number} end - specifies the end number\n     * @param {number} series - specifies the series\n     * @param {string} id - specifies the id\n     * @returns {void}\n     */\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        // eslint-disable-next-line\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                // eslint-disable-next-line\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\nfunction calculateRadius(width, theme) {\n    var defaultSize;\n    switch (theme) {\n        case 'Material':\n            defaultSize = DEFT_MAT_WIDTH;\n            break;\n        case 'Fabric':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Fluent':\n            defaultSize = DEFT_FLUENT_WIDTH;\n            break;\n        case 'Bootstrap4':\n            defaultSize = DEFT_BOOT4_WIDTH;\n            break;\n        case 'Bootstrap5':\n            defaultSize = DEFT_BOOT5_WIDTH;\n            break;\n        default:\n            defaultSize = DEFT_BOOT_WIDTH;\n    }\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    svgMaterial.setAttribute('class', cls);\n    svgMaterial.setAttribute('id', uniqueID);\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    // eslint-disable-next-line\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    // eslint-disable-next-line\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            // eslint-disable-next-line\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    /**\n     *\n     * @param {number} value - specifies the number value\n     * @param {HTMLElement} container - specifies the container\n     * @returns {void}\n     */\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction mat_calculate_attributes(radius, container, type, cls) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.' + cls);\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    if (type === 'Material') {\n        path.setAttribute('stroke-width', strokeSize + '');\n        path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n    }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    // eslint-disable-next-line\n    var startArc = 315, endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0\n    ].join(' ');\n    return d;\n}\n// eslint-disable-next-line\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nfunction showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap;\n    if (container) {\n        spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n            container.querySelector('.' + CLS_SPINWRAP);\n    }\n    if (container && spinnerWrap) {\n        var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n        var spinCheck = void 0;\n        // eslint-disable-next-line\n        spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n            !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n        if (spinCheck) {\n            var svgEle = spinnerWrap.querySelector('svg');\n            if (isNullOrUndefined(svgEle)) {\n                return;\n            }\n            var id = svgEle.getAttribute('id');\n            globalTimeOut[id].isAnimate = !isHide;\n            switch (globalTimeOut[id].type) {\n                case 'Material':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                    break;\n                case 'Bootstrap':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                    break;\n            }\n        }\n        // eslint-disable-next-line\n        isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n        container = null;\n    }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nfunction hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\nfunction setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n\n/**\n * spinner modules\n */\n\n/**\n * Popup Components\n */\n\nexport { PositionData, Popup, getScrollableParent, getZindexPartial, getMaxZindex, calculateRelativeBasedPosition, calculatePosition, fit, isCollide, flip, ButtonProps, AnimationSettings, Dialog, DialogUtility, Animation$1 as Animation, Tooltip, Spinner, createSpinner, showSpinner, hideSpinner, setSpinner };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}