{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./token.service\";\nexport let JwtInterception = /*#__PURE__*/(() => {\n  class JwtInterception {\n    constructor(tokenService) {\n      this.tokenService = tokenService;\n    }\n\n    intercept(request, next) {\n      const register = \"http://localhost:8081/user/demand\";\n      const acceptDemand = \"http://localhost:8081/user/create\";\n      const login = \"http://localhost:8081/user/login2\";\n      const subscribe = \"http://localhost:8081/subscriber/add\";\n      const generateCode = \"http://localhost:8081/user/generateCode\";\n      const compareCodes = \"http://localhost:8081/user/compareCodes\";\n      const resetPassword = \"http://localhost:8081/user/resetPassword\";\n      const getPoles = \"http://localhost:8081/pope/getpoles\";\n      const getPerimetres = \"http://localhost:8081/pope/getperimetres\"; // Exclude interceptor for login request:\n\n      if (request.url.search(register) === -1 && request.url.search(acceptDemand) === -1 && request.url.search(login) === -1 && request.url.search(subscribe) === -1 && request.url.search(generateCode) === -1 && request.url.search(compareCodes) === -1 && request.url.search(getPoles) === -1 && request.url.search(getPerimetres) === -1 && request.url.search(resetPassword) === -1) {\n        // console.log('request header: ' + localStorage.getItem('token'));\n        request = request.clone({\n          setHeaders: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n      } // console.log('NEW REQUEST: ', request);\n\n\n      return next.handle(request);\n    }\n\n  }\n\n  JwtInterception.ɵfac = function JwtInterception_Factory(t) {\n    return new (t || JwtInterception)(i0.ɵɵinject(i1.TokenService));\n  };\n\n  JwtInterception.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: JwtInterception,\n    factory: JwtInterception.ɵfac\n  });\n  return JwtInterception;\n})();","map":null,"metadata":{},"sourceType":"module"}