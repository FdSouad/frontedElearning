{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Droppable, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getElement, getInstance, getRandomId, getUniqueID, getValue, isBlazor, isNullOrUndefined, isRippleEnabled, isUndefined, isVisible, matches, merge, remove, removeClass, rippleEffect, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup, calculatePosition, createSpinner, fit, getScrollableParent, getZindexPartial, hideSpinner, isCollide, showSpinner } from '@syncfusion/ej2-popups';\nimport { Button, createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input } from '@syncfusion/ej2-inputs';\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\n\nvar HScroll =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(HScroll, _super);\n  /**\n   * Initializes a new instance of the HScroll class.\n   *\n   * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n   */\n\n\n  function HScroll(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  HScroll.prototype.preRender = function () {\n    this.browser = Browser.info.name;\n    this.browserCheck = this.browser === 'mozilla';\n    this.isDevice = Browser.isDevice;\n    this.customStep = true;\n    var element = this.element;\n    this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n    this.initialize();\n\n    if (element.id === '') {\n      element.id = getUniqueID('hscroll');\n      this.uniqueId = true;\n    }\n\n    element.style.display = 'block';\n\n    if (this.enableRtl) {\n      element.classList.add(CLS_RTL);\n    }\n  };\n  /**\n   * To Initialize the horizontal scroll  rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  HScroll.prototype.render = function () {\n    this.touchModule = new Touch(this.element, {\n      scroll: this.touchHandler.bind(this),\n      swipe: this.swipeHandler.bind(this)\n    });\n    EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n\n    if (!this.isDevice) {\n      this.createNavIcon(this.element);\n    } else {\n      this.element.classList.add(CLS_DEVICE);\n      this.createOverlay(this.element);\n    }\n\n    this.setScrollState();\n  };\n\n  HScroll.prototype.setScrollState = function () {\n    if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n      this.scrollStep = this.scrollEle.offsetWidth;\n      this.customStep = false;\n    } else {\n      this.customStep = true;\n    }\n  };\n\n  HScroll.prototype.initialize = function () {\n    var scrollEle = this.createElement('div', {\n      className: CLS_HSCROLLCON\n    });\n    var scrollDiv = this.createElement('div', {\n      className: CLS_HSCROLLBAR\n    });\n    scrollDiv.setAttribute('tabindex', '-1');\n    var ele = this.element;\n    var innerEle = [].slice.call(ele.children);\n\n    for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n      var ele_1 = innerEle_1[_i];\n      scrollEle.appendChild(ele_1);\n    }\n\n    scrollDiv.appendChild(scrollEle);\n    ele.appendChild(scrollDiv);\n    scrollDiv.style.overflowX = 'hidden';\n    this.scrollEle = scrollDiv;\n    this.scrollItems = scrollEle;\n  };\n\n  HScroll.prototype.getPersistData = function () {\n    var keyEntity = ['scrollStep'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  HScroll.prototype.getModuleName = function () {\n    return 'hScroll';\n  };\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  HScroll.prototype.destroy = function () {\n    var ele = this.element;\n    ele.style.display = '';\n    ele.classList.remove(CLS_ROOT);\n    ele.classList.remove(CLS_DEVICE);\n    var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n    var overlay = selectAll('.' + CLS_OVERLAY, ele);\n    [].slice.call(overlay).forEach(function (ele) {\n      detach(ele);\n    });\n\n    for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n      var elem = _a[_i];\n      ele.appendChild(elem);\n    }\n\n    if (this.uniqueId) {\n      this.element.removeAttribute('id');\n    }\n\n    detach(this.scrollEle);\n\n    if (nav.length > 0) {\n      detach(nav[0]);\n\n      if (!isNullOrUndefined(nav[1])) {\n        detach(nav[1]);\n      }\n    }\n\n    EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n    this.touchModule.destroy();\n    this.touchModule = null;\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Specifies the value to disable/enable the HScroll component.\n   * When set to `true` , the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  HScroll.prototype.disable = function (value) {\n    var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n\n    if (value) {\n      this.element.classList.add(CLS_DISABLE);\n    } else {\n      this.element.classList.remove(CLS_DISABLE);\n    }\n\n    [].slice.call(navEles).forEach(function (el) {\n      el.setAttribute('tabindex', !value ? '0' : '-1');\n    });\n  };\n\n  HScroll.prototype.createOverlay = function (element) {\n    var id = element.id.concat('_nav');\n    var rightOverlayEle = this.createElement('div', {\n      className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY\n    });\n    var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n    var rightEle = this.createElement('div', {\n      id: id.concat('_right'),\n      className: clsRight\n    });\n    var navItem = this.createElement('div', {\n      className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    rightEle.appendChild(navItem);\n    var leftEle = this.createElement('div', {\n      className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY\n    });\n\n    if (this.ieCheck) {\n      rightEle.classList.add('e-ie-align');\n    }\n\n    element.appendChild(rightOverlayEle);\n    element.appendChild(rightEle);\n    element.insertBefore(leftEle, element.firstChild);\n    this.eventBinding([rightEle]);\n  };\n\n  HScroll.prototype.createNavIcon = function (element) {\n    var id = element.id.concat('_nav');\n    var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n    var rightAttributes = {\n      'role': 'button',\n      'id': id.concat('_right'),\n      'aria-label': 'Scroll right'\n    };\n    var nav = this.createElement('div', {\n      className: clsRight,\n      attrs: rightAttributes\n    });\n    nav.setAttribute('aria-disabled', 'false');\n    var navItem = this.createElement('div', {\n      className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n    var leftAttributes = {\n      'role': 'button',\n      'id': id.concat('_left'),\n      'aria-label': 'Scroll left'\n    };\n    var navEle = this.createElement('div', {\n      className: clsLeft + ' ' + CLS_DISABLE,\n      attrs: leftAttributes\n    });\n    navEle.setAttribute('aria-disabled', 'true');\n    var navLeftItem = this.createElement('div', {\n      className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    navEle.appendChild(navLeftItem);\n    nav.appendChild(navItem);\n    element.appendChild(nav);\n    element.insertBefore(navEle, element.firstChild);\n\n    if (this.ieCheck) {\n      nav.classList.add('e-ie-align');\n      navEle.classList.add('e-ie-align');\n    }\n\n    this.eventBinding([nav, navEle]);\n  };\n\n  HScroll.prototype.onKeyPress = function (e) {\n    var _this = this;\n\n    if (e.key === 'Enter') {\n      var timeoutFun_1 = function () {\n        _this.keyTimeout = true;\n\n        _this.eleScrolling(10, e.target, true);\n      };\n\n      this.keyTimer = window.setTimeout(function () {\n        timeoutFun_1();\n      }, 100);\n    }\n  };\n\n  HScroll.prototype.onKeyUp = function (e) {\n    if (e.key !== 'Enter') {\n      return;\n    }\n\n    if (this.keyTimeout) {\n      this.keyTimeout = false;\n    } else {\n      e.target.click();\n    }\n\n    clearTimeout(this.keyTimer);\n  };\n\n  HScroll.prototype.eventBinding = function (ele) {\n    var _this = this;\n\n    [].slice.call(ele).forEach(function (el) {\n      new Touch(el, {\n        tapHold: _this.tabHoldHandler.bind(_this),\n        tapHoldThreshold: 500\n      });\n      el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n      el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n      el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n      el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n      el.addEventListener('contextmenu', function (e) {\n        e.preventDefault();\n      });\n      EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n    });\n  };\n\n  HScroll.prototype.repeatScroll = function () {\n    clearInterval(this.timeout);\n  };\n\n  HScroll.prototype.tabHoldHandler = function (e) {\n    var _this = this;\n\n    var trgt = e.originalEvent.target;\n    trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n    var scrollDis = 10;\n\n    var timeoutFun = function () {\n      _this.eleScrolling(scrollDis, trgt, true);\n    };\n\n    this.timeout = window.setInterval(function () {\n      timeoutFun();\n    }, 50);\n  };\n\n  HScroll.prototype.contains = function (ele, className) {\n    return ele.classList.contains(className);\n  };\n\n  HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n    var rootEle = this.element;\n    var classList$$1 = trgt.classList;\n\n    if (classList$$1.contains(CLS_HSCROLLNAV)) {\n      classList$$1 = trgt.querySelector('.' + CLS_NAVARROW).classList;\n    }\n\n    if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n      scrollDis = -scrollDis;\n    }\n\n    if (!this.contains(rootEle, CLS_RTL) || this.browserCheck || this.ieCheck) {\n      if (classList$$1.contains(CLS_NAVRIGHTARROW)) {\n        this.frameScrollRequest(scrollDis, 'add', isContinuous);\n      } else {\n        this.frameScrollRequest(scrollDis, '', isContinuous);\n      }\n    } else {\n      if (classList$$1.contains(CLS_NAVLEFTARROW)) {\n        this.frameScrollRequest(scrollDis, 'add', isContinuous);\n      } else {\n        this.frameScrollRequest(scrollDis, '', isContinuous);\n      }\n    }\n  };\n\n  HScroll.prototype.clickEventHandler = function (e) {\n    this.eleScrolling(this.scrollStep, e.target, false);\n  };\n\n  HScroll.prototype.swipeHandler = function (e) {\n    var swipeEle = this.scrollEle;\n    var distance;\n\n    if (e.velocity <= 1) {\n      distance = e.distanceX / (e.velocity * 10);\n    } else {\n      distance = e.distanceX / e.velocity;\n    }\n\n    var start = 0.5;\n\n    var animate = function () {\n      var step = Math.sin(start);\n\n      if (step <= 0) {\n        window.cancelAnimationFrame(step);\n      } else {\n        if (e.swipeDirection === 'Left') {\n          swipeEle.scrollLeft += distance * step;\n        } else if (e.swipeDirection === 'Right') {\n          swipeEle.scrollLeft -= distance * step;\n        }\n\n        start -= 0.5;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n    if (action === 'add') {\n      this.scrollEle.scrollLeft += scrollVal;\n    } else {\n      this.scrollEle.scrollLeft -= scrollVal;\n    }\n  };\n\n  HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n    var _this = this;\n\n    var step = 10;\n\n    if (isContinuous) {\n      this.scrollUpdating(scrollVal, action);\n      return;\n    }\n\n    if (!this.customStep) {\n      [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n        scrollVal -= el.offsetWidth;\n      });\n    }\n\n    var animate = function () {\n      var scrollValue;\n      var scrollStep;\n\n      if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n        scrollValue = -scrollVal;\n        scrollStep = -step;\n      } else {\n        scrollValue = scrollVal;\n        scrollStep = step;\n      }\n\n      if (scrollValue < step) {\n        window.cancelAnimationFrame(scrollStep);\n      } else {\n        _this.scrollUpdating(scrollStep, action);\n\n        scrollVal -= scrollStep;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  HScroll.prototype.touchHandler = function (e) {\n    var ele = this.scrollEle;\n    var distance = e.distanceX;\n\n    if (this.ieCheck && this.contains(this.element, CLS_RTL)) {\n      distance = -distance;\n    }\n\n    if (e.scrollDirection === 'Left') {\n      ele.scrollLeft = ele.scrollLeft + distance;\n    } else if (e.scrollDirection === 'Right') {\n      ele.scrollLeft = ele.scrollLeft - distance;\n    }\n  };\n\n  HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n    if (this.isDevice) {\n      var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n      var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n\n      if (isNullOrUndefined(addDisable)) {\n        classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n      } else {\n        classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n      }\n    } else if (addDisable && removeDisable) {\n      addDisable.classList.add(CLS_DISABLE);\n      addDisable.setAttribute('aria-disabled', 'true');\n      addDisable.removeAttribute('tabindex');\n      removeDisable.classList.remove(CLS_DISABLE);\n      removeDisable.setAttribute('aria-disabled', 'false');\n      removeDisable.setAttribute('tabindex', '0');\n    }\n\n    this.repeatScroll();\n  };\n\n  HScroll.prototype.scrollHandler = function (e) {\n    var target = e.target;\n    var width = target.offsetWidth;\n    var rootEle = this.element;\n    var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n    var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n    var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n    var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n    var scrollLeft = target.scrollLeft;\n\n    if (scrollLeft <= 0) {\n      scrollLeft = -scrollLeft;\n    }\n\n    if (this.isDevice) {\n      if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n        leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n      }\n\n      if (scrollLeft < OVERLAY_MAXWID) {\n        leftOverlay.style.width = scrollLeft + 'px';\n      } else {\n        leftOverlay.style.width = '40px';\n      }\n\n      if (target.scrollWidth - Math.ceil(width + scrollLeft) < OVERLAY_MAXWID) {\n        rightOverlay.style.width = target.scrollWidth - Math.ceil(width + scrollLeft) + 'px';\n      } else {\n        rightOverlay.style.width = '40px';\n      }\n    }\n\n    if (scrollLeft === 0) {\n      this.arrowDisabling(navLeftEle, navRightEle);\n    } else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n      this.arrowDisabling(navRightEle, navLeftEle);\n    } else {\n      var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n\n      if (disEle) {\n        disEle.classList.remove(CLS_DISABLE);\n        disEle.setAttribute('aria-disabled', 'false');\n        disEle.setAttribute('tabindex', '0');\n      }\n    }\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n   *\n   * @param  {HScrollModel} newProp - It contains the new value of data.\n   * @param  {HScrollModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'scrollStep':\n          this.setScrollState();\n          break;\n\n        case 'enableRtl':\n          newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n          break;\n      }\n    }\n  };\n\n  __decorate([Property(null)], HScroll.prototype, \"scrollStep\", void 0);\n\n  HScroll = __decorate([NotifyPropertyChanges], HScroll);\n  return HScroll;\n}(Component);\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_ROOT$1 = 'e-vscroll';\nvar CLS_RTL$1 = 'e-rtl';\nvar CLS_DISABLE$1 = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW$1 = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE$1 = 'e-scroll-device';\nvar CLS_OVERLAY$1 = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID$1 = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\n\nvar VScroll =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(VScroll, _super);\n  /**\n   * Initializes a new instance of the VScroll class.\n   *\n   * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n   */\n\n\n  function VScroll(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  VScroll.prototype.preRender = function () {\n    this.browser = Browser.info.name;\n    this.browserCheck = this.browser === 'mozilla';\n    this.isDevice = Browser.isDevice;\n    this.customStep = true;\n    var ele = this.element;\n    this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n    this.initialize();\n\n    if (ele.id === '') {\n      ele.id = getUniqueID('vscroll');\n      this.uniqueId = true;\n    }\n\n    ele.style.display = 'block';\n\n    if (this.enableRtl) {\n      ele.classList.add(CLS_RTL$1);\n    }\n  };\n  /**\n   * To Initialize the vertical scroll rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  VScroll.prototype.render = function () {\n    this.touchModule = new Touch(this.element, {\n      scroll: this.touchHandler.bind(this),\n      swipe: this.swipeHandler.bind(this)\n    });\n    EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n\n    if (!this.isDevice) {\n      this.createNavIcon(this.element);\n    } else {\n      this.element.classList.add(CLS_DEVICE$1);\n      this.createOverlayElement(this.element);\n    }\n\n    this.setScrollState();\n    EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n  };\n\n  VScroll.prototype.setScrollState = function () {\n    if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n      this.scrollStep = this.scrollEle.offsetHeight;\n      this.customStep = false;\n    } else {\n      this.customStep = true;\n    }\n  };\n\n  VScroll.prototype.initialize = function () {\n    var scrollCnt = createElement('div', {\n      className: CLS_VSCROLLCON\n    });\n    var scrollBar = createElement('div', {\n      className: CLS_VSCROLLBAR\n    });\n    scrollBar.setAttribute('tabindex', '-1');\n    var ele = this.element;\n    var innerEle = [].slice.call(ele.children);\n\n    for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n      var ele_1 = innerEle_1[_i];\n      scrollCnt.appendChild(ele_1);\n    }\n\n    scrollBar.appendChild(scrollCnt);\n    ele.appendChild(scrollBar);\n    scrollBar.style.overflow = 'hidden';\n    this.scrollEle = scrollBar;\n    this.scrollItems = scrollCnt;\n  };\n\n  VScroll.prototype.getPersistData = function () {\n    var keyEntity = ['scrollStep'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  VScroll.prototype.getModuleName = function () {\n    return 'vScroll';\n  };\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  VScroll.prototype.destroy = function () {\n    var el = this.element;\n    el.style.display = '';\n    removeClass([this.element], [CLS_ROOT$1, CLS_DEVICE$1]);\n    var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n    var overlays = selectAll('.' + CLS_OVERLAY$1, el);\n    [].slice.call(overlays).forEach(function (ele) {\n      detach(ele);\n    });\n\n    for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n      var elem = _a[_i];\n      el.appendChild(elem);\n    }\n\n    if (this.uniqueId) {\n      this.element.removeAttribute('id');\n    }\n\n    detach(this.scrollEle);\n\n    if (navs.length > 0) {\n      detach(navs[0]);\n\n      if (!isNullOrUndefined(navs[1])) {\n        detach(navs[1]);\n      }\n    }\n\n    EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n    this.touchModule.destroy();\n    this.touchModule = null;\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Specifies the value to disable/enable the VScroll component.\n   * When set to `true` , the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  VScroll.prototype.disable = function (value) {\n    var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE$1 + ')', this.element);\n\n    if (value) {\n      this.element.classList.add(CLS_DISABLE$1);\n    } else {\n      this.element.classList.remove(CLS_DISABLE$1);\n    }\n\n    [].slice.call(navEle).forEach(function (el) {\n      el.setAttribute('tabindex', !value ? '0' : '-1');\n    });\n  };\n\n  VScroll.prototype.createOverlayElement = function (element) {\n    var id = element.id.concat('_nav');\n    var downOverlayEle = createElement('div', {\n      className: CLS_OVERLAY$1 + ' ' + CLS_DOWNOVERLAY\n    });\n    var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n    var downEle = createElement('div', {\n      id: id.concat('down'),\n      className: clsDown\n    });\n    var navItem = createElement('div', {\n      className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n    });\n    downEle.appendChild(navItem);\n    var upEle = createElement('div', {\n      className: CLS_OVERLAY$1 + ' ' + CLS_UPOVERLAY\n    });\n\n    if (this.ieCheck) {\n      downEle.classList.add('e-ie-align');\n    }\n\n    element.appendChild(downOverlayEle);\n    element.appendChild(downEle);\n    element.insertBefore(upEle, element.firstChild);\n    this.eventBinding([downEle]);\n  };\n\n  VScroll.prototype.createNavIcon = function (element) {\n    var id = element.id.concat('_nav');\n    var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n    var nav = createElement('div', {\n      id: id.concat('_down'),\n      className: clsDown\n    });\n    nav.setAttribute('aria-disabled', 'false');\n    var navItem = createElement('div', {\n      className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n    });\n    var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n    var navElement = createElement('div', {\n      id: id.concat('_up'),\n      className: clsUp + ' ' + CLS_DISABLE$1\n    });\n    navElement.setAttribute('aria-disabled', 'true');\n    var navUpItem = createElement('div', {\n      className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n    });\n    navElement.appendChild(navUpItem);\n    nav.appendChild(navItem);\n    nav.setAttribute('tabindex', '0');\n    element.appendChild(nav);\n    element.insertBefore(navElement, element.firstChild);\n\n    if (this.ieCheck) {\n      nav.classList.add('e-ie-align');\n      navElement.classList.add('e-ie-align');\n    }\n\n    this.eventBinding([nav, navElement]);\n  };\n\n  VScroll.prototype.onKeyPress = function (ev) {\n    var _this = this;\n\n    if (ev.key === 'Enter') {\n      var timeoutFun_1 = function () {\n        _this.keyTimeout = true;\n\n        _this.eleScrolling(10, ev.target, true);\n      };\n\n      this.keyTimer = window.setTimeout(function () {\n        timeoutFun_1();\n      }, 100);\n    }\n  };\n\n  VScroll.prototype.onKeyUp = function (ev) {\n    if (ev.key !== 'Enter') {\n      return;\n    }\n\n    if (this.keyTimeout) {\n      this.keyTimeout = false;\n    } else {\n      ev.target.click();\n    }\n\n    clearTimeout(this.keyTimer);\n  };\n\n  VScroll.prototype.eventBinding = function (element) {\n    var _this = this;\n\n    [].slice.call(element).forEach(function (ele) {\n      new Touch(ele, {\n        tapHold: _this.tabHoldHandler.bind(_this),\n        tapHoldThreshold: 500\n      });\n      ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n      ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n      ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n      ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n      ele.addEventListener('contextmenu', function (e) {\n        e.preventDefault();\n      });\n      EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n    });\n  };\n\n  VScroll.prototype.repeatScroll = function () {\n    clearInterval(this.timeout);\n  };\n\n  VScroll.prototype.tabHoldHandler = function (ev) {\n    var _this = this;\n\n    var trgt = ev.originalEvent.target;\n    trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n    var scrollDistance = 10;\n\n    var timeoutFun = function () {\n      _this.eleScrolling(scrollDistance, trgt, true);\n    };\n\n    this.timeout = window.setInterval(function () {\n      timeoutFun();\n    }, 50);\n  };\n\n  VScroll.prototype.contains = function (element, className) {\n    return element.classList.contains(className);\n  };\n\n  VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n    var classList$$1 = trgt.classList;\n\n    if (classList$$1.contains(CLS_VSCROLLNAV)) {\n      classList$$1 = trgt.querySelector('.' + CLS_NAVARROW$1).classList;\n    }\n\n    if (classList$$1.contains(CLS_NAVDOWNARROW)) {\n      this.frameScrollRequest(scrollDis, 'add', isContinuous);\n    } else if (classList$$1.contains(CLS_NAVUPARROW)) {\n      this.frameScrollRequest(scrollDis, '', isContinuous);\n    }\n  };\n\n  VScroll.prototype.clickEventHandler = function (event) {\n    this.eleScrolling(this.scrollStep, event.target, false);\n  };\n\n  VScroll.prototype.wheelEventHandler = function (e) {\n    e.preventDefault();\n    this.frameScrollRequest(this.scrollStep, e.deltaY > 0 ? 'add' : '', false);\n  };\n\n  VScroll.prototype.swipeHandler = function (e) {\n    var swipeElement = this.scrollEle;\n    var distance;\n\n    if (e.velocity <= 1) {\n      distance = e.distanceY / (e.velocity * 10);\n    } else {\n      distance = e.distanceY / e.velocity;\n    }\n\n    var start = 0.5;\n\n    var animate = function () {\n      var step = Math.sin(start);\n\n      if (step <= 0) {\n        window.cancelAnimationFrame(step);\n      } else {\n        if (e.swipeDirection === 'Up') {\n          swipeElement.scrollTop += distance * step;\n        } else if (e.swipeDirection === 'Down') {\n          swipeElement.scrollTop -= distance * step;\n        }\n\n        start -= 0.02;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n    if (action === 'add') {\n      this.scrollEle.scrollTop += scrollVal;\n    } else {\n      this.scrollEle.scrollTop -= scrollVal;\n    }\n  };\n\n  VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n    var _this = this;\n\n    var step = 10;\n\n    if (isContinuous) {\n      this.scrollUpdating(scrollValue, action);\n      return;\n    }\n\n    if (!this.customStep) {\n      [].slice.call(selectAll('.' + CLS_OVERLAY$1, this.element)).forEach(function (el) {\n        scrollValue -= el.offsetHeight;\n      });\n    }\n\n    var animate = function () {\n      if (scrollValue < step) {\n        window.cancelAnimationFrame(step);\n      } else {\n        _this.scrollUpdating(step, action);\n\n        scrollValue -= step;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  VScroll.prototype.touchHandler = function (e) {\n    var el = this.scrollEle;\n    var distance = e.distanceY;\n\n    if (e.scrollDirection === 'Up') {\n      el.scrollTop = el.scrollTop + distance;\n    } else if (e.scrollDirection === 'Down') {\n      el.scrollTop = el.scrollTop - distance;\n    }\n  };\n\n  VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n    if (this.isDevice) {\n      var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n      var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW$1);\n\n      if (isNullOrUndefined(addDisableCls)) {\n        classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n      } else {\n        classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n      }\n    } else {\n      addDisableCls.classList.add(CLS_DISABLE$1);\n      addDisableCls.setAttribute('aria-disabled', 'true');\n      addDisableCls.removeAttribute('tabindex');\n      removeDisableCls.classList.remove(CLS_DISABLE$1);\n      removeDisableCls.setAttribute('aria-disabled', 'false');\n      removeDisableCls.setAttribute('tabindex', '0');\n    }\n\n    this.repeatScroll();\n  };\n\n  VScroll.prototype.scrollEventHandler = function (e) {\n    var target = e.target;\n    var height = target.offsetHeight;\n    var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n    var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n    var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n    var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n    var scrollTop = target.scrollTop;\n\n    if (scrollTop <= 0) {\n      scrollTop = -scrollTop;\n    }\n\n    if (this.isDevice) {\n      if (scrollTop < OVERLAY_MAXWID$1) {\n        upOverlay.style.height = scrollTop + 'px';\n      } else {\n        upOverlay.style.height = '40px';\n      }\n\n      if (target.scrollHeight - Math.ceil(height + scrollTop) < OVERLAY_MAXWID$1) {\n        downOverlay.style.height = target.scrollHeight - Math.ceil(height + scrollTop) + 'px';\n      } else {\n        downOverlay.style.height = '40px';\n      }\n    }\n\n    if (scrollTop === 0) {\n      this.arrowDisabling(navUpEle, navDownEle);\n    } else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n      this.arrowDisabling(navDownEle, navUpEle);\n    } else {\n      var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE$1);\n\n      if (disEle) {\n        disEle.classList.remove(CLS_DISABLE$1);\n        disEle.setAttribute('aria-disabled', 'false');\n        disEle.setAttribute('tabindex', '0');\n      }\n    }\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n   *\n   * @param  {VScrollModel} newProp - It contains the new value of data.\n   * @param  {VScrollModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'scrollStep':\n          this.setScrollState();\n          break;\n\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            this.element.classList.add(CLS_RTL$1);\n          } else {\n            this.element.classList.remove(CLS_RTL$1);\n          }\n\n          break;\n      }\n    }\n  };\n\n  __decorate$1([Property(null)], VScroll.prototype, \"scrollStep\", void 0);\n\n  VScroll = __decorate$1([NotifyPropertyChanges], VScroll);\n  return VScroll;\n}(Component);\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\n\n\nfunction addScrolling(createElement$$1, container, content, scrollType, enableRtl, offset) {\n  var containerOffset;\n  var contentOffset;\n  var parentElem = container.parentElement;\n\n  if (scrollType === 'vscroll') {\n    containerOffset = offset || container.getBoundingClientRect().height;\n    contentOffset = content.getBoundingClientRect().height;\n  } else {\n    containerOffset = container.getBoundingClientRect().width;\n    contentOffset = content.getBoundingClientRect().width;\n  }\n\n  if (containerOffset < contentOffset) {\n    return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n  } else if (parentElem) {\n    var width = parentElem.getBoundingClientRect().width;\n\n    if (width < containerOffset && scrollType === 'hscroll') {\n      contentOffset = width;\n      container.style.maxWidth = width + 'px';\n      return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n    }\n\n    return content;\n  } else {\n    return content;\n  }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\n\n\nfunction createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset) {\n  var scrollEle = createElement$$1('div', {\n    className: 'e-menu-' + scrollType\n  });\n  container.appendChild(scrollEle);\n  scrollEle.appendChild(content);\n\n  if (offset) {\n    scrollEle.style.overflow = 'hidden';\n    scrollEle.style.height = offset + 'px';\n  } else {\n    scrollEle.style.maxHeight = container.style.maxHeight;\n    container.style.overflow = 'hidden';\n  }\n\n  var scrollObj;\n\n  if (scrollType === 'vscroll') {\n    scrollObj = new VScroll({\n      enableRtl: enableRtl\n    }, scrollEle);\n    scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n  } else {\n    scrollObj = new HScroll({\n      enableRtl: enableRtl\n    }, scrollEle);\n    scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetWidth;\n  }\n\n  return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\n\n\nfunction destroyScroll(scrollObj, element, skipEle) {\n  if (scrollObj) {\n    var menu = select('.e-menu-parent', element);\n\n    if (menu) {\n      if (!skipEle || skipEle === menu) {\n        scrollObj.destroy();\n        element.parentElement.appendChild(menu);\n        detach(element);\n      }\n    } else {\n      scrollObj.destroy();\n      detach(element);\n    }\n  }\n}\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar TAB = 'tab';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\nvar POPUP = 'e-menu-popup';\nvar TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\n\nvar FieldSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(FieldSettings, _super);\n\n  function FieldSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property('id')], FieldSettings.prototype, \"itemId\", void 0);\n\n  __decorate$2([Property('parentId')], FieldSettings.prototype, \"parentId\", void 0);\n\n  __decorate$2([Property('text')], FieldSettings.prototype, \"text\", void 0);\n\n  __decorate$2([Property('iconCss')], FieldSettings.prototype, \"iconCss\", void 0);\n\n  __decorate$2([Property('url')], FieldSettings.prototype, \"url\", void 0);\n\n  __decorate$2([Property('separator')], FieldSettings.prototype, \"separator\", void 0);\n\n  __decorate$2([Property('items')], FieldSettings.prototype, \"children\", void 0);\n\n  return FieldSettings;\n}(ChildProperty);\n/**\n * Specifies menu items.\n */\n\n\nvar MenuItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(MenuItem, _super);\n\n  function MenuItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property(null)], MenuItem.prototype, \"iconCss\", void 0);\n\n  __decorate$2([Property('')], MenuItem.prototype, \"id\", void 0);\n\n  __decorate$2([Property(false)], MenuItem.prototype, \"separator\", void 0);\n\n  __decorate$2([Collection([], MenuItem)], MenuItem.prototype, \"items\", void 0);\n\n  __decorate$2([Property('')], MenuItem.prototype, \"text\", void 0);\n\n  __decorate$2([Property('')], MenuItem.prototype, \"url\", void 0);\n\n  return MenuItem;\n}(ChildProperty);\n/**\n * Animation configuration settings.\n */\n\n\nvar MenuAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(MenuAnimationSettings, _super);\n\n  function MenuAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property('SlideDown')], MenuAnimationSettings.prototype, \"effect\", void 0);\n\n  __decorate$2([Property(400)], MenuAnimationSettings.prototype, \"duration\", void 0);\n\n  __decorate$2([Property('ease')], MenuAnimationSettings.prototype, \"easing\", void 0);\n\n  return MenuAnimationSettings;\n}(ChildProperty);\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\n\n\nvar MenuBase =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(MenuBase, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {MenuBaseModel} options - Specifies the menu base model\n   * @param {string | HTMLUListElement} element - Specifies the element\n   */\n\n\n  function MenuBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.navIdx = [];\n    _this.animation = new Animation({});\n    _this.isTapHold = false;\n    _this.tempItem = [];\n    _this.showSubMenuOn = 'Auto';\n    return _this;\n  }\n  /**\n   * Initialized third party configuration settings.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.preRender = function () {\n    if (!this.isMenu) {\n      var ul = void 0;\n\n      if (this.element.tagName === 'EJS-CONTEXTMENU') {\n        ul = this.createElement('ul', {\n          id: getUniqueID(this.getModuleName()),\n          className: 'e-control e-lib e-' + this.getModuleName()\n        });\n        var ejInst = getValue('ej2_instances', this.element);\n        removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n        this.clonedElement = this.element;\n        this.element = ul;\n        setValue('ej2_instances', ejInst, this.element);\n      } else {\n        ul = this.createElement('ul', {\n          id: getUniqueID(this.getModuleName())\n        });\n        append([].slice.call(this.element.cloneNode(true).children), ul);\n        var refEle = this.element.nextElementSibling;\n\n        if (refEle) {\n          this.element.parentElement.insertBefore(ul, refEle);\n        } else {\n          this.element.parentElement.appendChild(ul);\n        }\n\n        this.clonedElement = ul;\n      }\n\n      this.clonedElement.style.display = 'none';\n    }\n\n    if (this.element.tagName === 'EJS-MENU') {\n      var ele = this.element;\n      var ejInstance = getValue('ej2_instances', ele);\n      var ul = this.createElement('ul');\n      var wrapper = this.createElement('EJS-MENU', {\n        className: 'e-' + this.getModuleName() + '-wrapper'\n      });\n\n      for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n        ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n      }\n\n      ele.parentNode.insertBefore(wrapper, ele);\n      detach(ele);\n      ele = ul;\n      wrapper.appendChild(ele);\n      setValue('ej2_instances', ejInstance, ele);\n      this.clonedElement = wrapper;\n      this.element = ele;\n\n      if (!this.element.id) {\n        this.element.id = getUniqueID(this.getModuleName());\n      }\n    }\n  };\n  /**\n   * Initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.render = function () {\n    var _this = this;\n\n    this.initialize();\n    this.renderItems();\n    this.wireEvents();\n    this.renderComplete();\n    var wrapper = this.getWrapper();\n\n    if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n      requestAnimationFrame(function () {\n        addScrolling(_this.createElement, wrapper, _this.element, 'hscroll', _this.enableRtl);\n      });\n    }\n  };\n\n  MenuBase.prototype.initialize = function () {\n    var wrapper = this.getWrapper();\n\n    if (!wrapper) {\n      wrapper = this.createElement('div', {\n        className: 'e-' + this.getModuleName() + '-wrapper'\n      });\n\n      if (this.isMenu) {\n        this.element.parentElement.insertBefore(wrapper, this.element);\n      } else {\n        document.body.appendChild(wrapper);\n      }\n    }\n\n    if (this.cssClass) {\n      addClass([wrapper], this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      wrapper.classList.add(RTL);\n    }\n\n    wrapper.appendChild(this.element);\n\n    if (this.isMenu && this.hamburgerMode) {\n      if (!this.target) {\n        this.createHeaderContainer(wrapper);\n      }\n    }\n\n    this.defaultOption = this.showItemOnClick;\n  };\n\n  MenuBase.prototype.renderItems = function () {\n    if (!this.items.length) {\n      var items = ListBase.createJsonFromElement(this.element, {\n        fields: {\n          child: 'items'\n        }\n      });\n      this.setProperties({\n        items: items\n      }, true);\n\n      if (isBlazor() && !this.isMenu) {\n        this.element = this.removeChildElement(this.element);\n      } else {\n        this.element.innerHTML = '';\n      }\n    }\n\n    var ul = this.createItems(this.items);\n    append(Array.prototype.slice.call(ul.children), this.element);\n    this.element.classList.add('e-menu-parent');\n\n    if (this.isMenu) {\n      if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n        this.setBlankIconStyle(this.element);\n      }\n\n      if (this.enableScrolling) {\n        var wrapper = this.getWrapper();\n\n        if (this.element.classList.contains('e-vertical')) {\n          addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n        } else {\n          addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n        }\n      }\n    }\n  };\n\n  MenuBase.prototype.wireEvents = function () {\n    var wrapper = this.getWrapper();\n\n    if (this.target) {\n      var target = void 0;\n      var targetElems = selectAll(this.target);\n\n      for (var i = 0, len = targetElems.length; i < len; i++) {\n        target = targetElems[i];\n\n        if (this.isMenu) {\n          EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n        } else {\n          if (Browser.isIos) {\n            new Touch(target, {\n              tapHold: this.touchHandler.bind(this)\n            });\n          } else {\n            EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n          }\n        }\n      }\n\n      this.targetElement = target;\n\n      if (!this.isMenu) {\n        EventHandler.add(this.targetElement, 'scroll', this.scrollHandler, this);\n\n        for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n          var parent_1 = _a[_i];\n          EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n        }\n      }\n    }\n\n    if (!Browser.isDevice) {\n      this.delegateMoverHandler = this.moverHandler.bind(this);\n      this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n      EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n      EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n    }\n\n    this.delegateClickHandler = this.clickHandler.bind(this);\n    EventHandler.add(document, 'click', this.delegateClickHandler, this);\n    this.wireKeyboardEvent(wrapper);\n    this.rippleFn = rippleEffect(wrapper, {\n      selector: '.' + ITEM\n    });\n  };\n\n  MenuBase.prototype.wireKeyboardEvent = function (element) {\n    var keyConfigs = {\n      downarrow: DOWNARROW,\n      uparrow: UPARROW,\n      enter: ENTER,\n      leftarrow: LEFTARROW,\n      rightarrow: RIGHTARROW,\n      escape: ESCAPE\n    };\n\n    if (this.isMenu) {\n      keyConfigs.home = HOME;\n      keyConfigs.end = END;\n      keyConfigs.tab = TAB;\n    }\n\n    new KeyboardEvents(element, {\n      keyAction: this.keyBoardHandler.bind(this),\n      keyConfigs: keyConfigs\n    });\n  };\n\n  MenuBase.prototype.mouseDownHandler = function (e) {\n    if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper() && !closest(e.target, '.e-' + this.getModuleName() + '-popup')) {\n      this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n    }\n  };\n\n  MenuBase.prototype.keyBoardHandler = function (e) {\n    var actionName = '';\n    var trgt = e.target;\n    var actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical') && this.navIdx.length < 1;\n    e.preventDefault();\n\n    if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n      this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n    }\n\n    if (actionNeeded) {\n      switch (e.action) {\n        case RIGHTARROW:\n          actionName = RIGHTARROW;\n          e.action = DOWNARROW;\n          break;\n\n        case LEFTARROW:\n          actionName = LEFTARROW;\n          e.action = UPARROW;\n          break;\n\n        case DOWNARROW:\n          actionName = DOWNARROW;\n          e.action = RIGHTARROW;\n          break;\n\n        case UPARROW:\n          actionName = UPARROW;\n          e.action = '';\n          break;\n      }\n    } else if (this.enableRtl) {\n      switch (e.action) {\n        case LEFTARROW:\n          actionNeeded = true;\n          actionName = LEFTARROW;\n          e.action = RIGHTARROW;\n          break;\n\n        case RIGHTARROW:\n          actionNeeded = true;\n          actionName = RIGHTARROW;\n          e.action = LEFTARROW;\n          break;\n      }\n    }\n\n    switch (e.action) {\n      case DOWNARROW:\n      case UPARROW:\n      case END:\n      case HOME:\n      case TAB:\n        this.upDownKeyHandler(e);\n        break;\n\n      case RIGHTARROW:\n        this.rightEnterKeyHandler(e);\n        break;\n\n      case LEFTARROW:\n        this.leftEscKeyHandler(e);\n        break;\n\n      case ENTER:\n        if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n          this.menuHeaderClickHandler(e);\n        } else {\n          this.rightEnterKeyHandler(e);\n        }\n\n        break;\n\n      case ESCAPE:\n        this.leftEscKeyHandler(e);\n        break;\n    }\n\n    if (actionNeeded) {\n      e.action = actionName;\n    }\n  };\n\n  MenuBase.prototype.upDownKeyHandler = function (e) {\n    var cul = this.getUlByNavIdx();\n    var defaultIdx = e.action === DOWNARROW || e.action === HOME || e.action === TAB ? 0 : cul.childElementCount - 1;\n    var fliIdx = defaultIdx;\n    var fli = this.getLIByClass(cul, FOCUSED);\n\n    if (fli) {\n      if (e.action !== END && e.action !== HOME) {\n        fliIdx = this.getIdx(cul, fli);\n      }\n\n      fli.classList.remove(FOCUSED);\n\n      if (e.action !== END && e.action !== HOME) {\n        if (e.action === DOWNARROW) {\n          fliIdx++;\n        } else {\n          fliIdx--;\n        }\n\n        if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n          fliIdx = defaultIdx;\n        }\n      }\n    }\n\n    var cli = cul.children[fliIdx];\n    fliIdx = this.isValidLI(cli, fliIdx, e.action);\n    cul.children[fliIdx].classList.add(FOCUSED);\n    cul.children[fliIdx].focus();\n  };\n\n  MenuBase.prototype.isValidLI = function (cli, index, action) {\n    var cul = this.getUlByNavIdx();\n\n    if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n      if (action === DOWNARROW || action === RIGHTARROW) {\n        index++;\n      } else {\n        index--;\n      }\n    }\n\n    cli = cul.children[index];\n\n    if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n      index = this.isValidLI(cli, index, action);\n    }\n\n    return index;\n  };\n\n  MenuBase.prototype.getUlByNavIdx = function (navIdxLen) {\n    if (navIdxLen === void 0) {\n      navIdxLen = this.navIdx.length;\n    }\n\n    if (this.isMenu) {\n      var popup = [this.getWrapper()].concat([].slice.call(selectAll('.' + POPUP)))[navIdxLen];\n      return isNullOrUndefined(popup) ? null : select('.e-menu-parent', popup);\n    } else {\n      return this.getWrapper().children[navIdxLen];\n    }\n  };\n\n  MenuBase.prototype.rightEnterKeyHandler = function (e) {\n    var eventArgs;\n    var cul = this.getUlByNavIdx();\n    var fli = this.getLIByClass(cul, FOCUSED);\n\n    if (fli) {\n      var fliIdx = this.getIdx(cul, fli);\n      var navIdx = this.navIdx.concat(fliIdx);\n      var item = this.getItem(navIdx);\n\n      if (item.items.length) {\n        this.navIdx.push(fliIdx);\n        this.keyType = 'right';\n        this.action = e.action;\n        this.openMenu(fli, item, -1, -1, e);\n      } else {\n        if (e.action === ENTER) {\n          if (this.isMenu && this.navIdx.length === 0) {\n            this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n          } else {\n            fli.classList.remove(FOCUSED);\n          }\n\n          fli.classList.add(SELECTED);\n          eventArgs = {\n            element: fli,\n            item: item,\n            event: e\n          };\n          this.trigger('select', eventArgs);\n          this.closeMenu(null, e);\n        }\n      }\n    }\n  };\n\n  MenuBase.prototype.leftEscKeyHandler = function (e) {\n    if (this.navIdx.length) {\n      this.keyType = 'left';\n      this.closeMenu(this.navIdx.length, e);\n    } else {\n      if (e.action === ESCAPE) {\n        this.closeMenu(null, e);\n      }\n    }\n  };\n\n  MenuBase.prototype.scrollHandler = function (e) {\n    this.closeMenu(null, e);\n  };\n\n  MenuBase.prototype.touchHandler = function (e) {\n    this.isTapHold = true;\n    this.cmenuHandler(e.originalEvent);\n  };\n\n  MenuBase.prototype.cmenuHandler = function (e) {\n    e.preventDefault();\n    this.currentTarget = e.target;\n    this.isCMenu = true;\n    this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n    this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n    this.closeMenu(null, e);\n\n    if (this.isCMenu) {\n      if (this.canOpen(e.target)) {\n        this.openMenu(null, null, this.pageY, this.pageX, e);\n      }\n\n      this.isCMenu = false;\n    }\n  }; // eslint:disable-next-line:max-func-body-length\n\n\n  MenuBase.prototype.closeMenu = function (ulIndex, e, isIterated) {\n    var _this = this;\n\n    if (ulIndex === void 0) {\n      ulIndex = 0;\n    }\n\n    if (e === void 0) {\n      e = null;\n    }\n\n    if (this.isMenuVisible()) {\n      var sli = void 0;\n      var item_1;\n      var wrapper_1 = this.getWrapper();\n      var beforeCloseArgs = void 0;\n      var items_1;\n      var popups = this.getPopups();\n      var isClose = false;\n      var cnt = this.isMenu ? popups.length + 1 : wrapper_1.childElementCount;\n      var ul_1 = this.isMenu && cnt !== 1 ? select('.e-ul', popups[cnt - 2]) : selectAll('.e-menu-parent', wrapper_1)[cnt - 1];\n\n      if (this.isMenu && ul_1.classList.contains('e-menu')) {\n        sli = this.getLIByClass(ul_1, SELECTED);\n\n        if (sli) {\n          sli.classList.remove(SELECTED);\n        }\n\n        isClose = true;\n      }\n\n      if (!isClose) {\n        var liElem_1 = e && e.target && this.getLI(e.target);\n\n        if (liElem_1) {\n          this.cli = liElem_1;\n        } else {\n          this.cli = ul_1.children[0];\n        }\n\n        item_1 = this.navIdx.length ? this.getItem(this.navIdx) : null;\n        items_1 = item_1 ? item_1.items : this.items;\n        beforeCloseArgs = {\n          element: ul_1,\n          parentItem: item_1,\n          items: items_1,\n          event: e,\n          cancel: false,\n          isFocused: true\n        };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n          var popupEle;\n          var closeArgs;\n          var popupId = '';\n          var popupObj;\n          var isOpen = !observedCloseArgs.cancel;\n\n          if (isOpen || _this.isCMenu) {\n            if (_this.isMenu) {\n              popupEle = closest(ul_1, '.' + POPUP);\n\n              if (_this.hamburgerMode) {\n                popupEle.parentElement.style.minHeight = '';\n                closest(ul_1, '.e-menu-item').setAttribute('aria-expanded', 'false');\n              }\n\n              _this.unWireKeyboardEvent(popupEle);\n\n              destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n              popupObj = getInstance(popupEle, Popup);\n              popupObj.hide();\n              popupId = popupEle.id;\n              popupObj.destroy();\n              detach(popupEle);\n            } else {\n              _this.toggleAnimation(ul_1, false);\n            }\n\n            closeArgs = {\n              element: ul_1,\n              parentItem: item_1,\n              items: items_1\n            };\n\n            _this.trigger('onClose', closeArgs);\n\n            _this.navIdx.pop();\n          }\n\n          _this.updateReactTemplate();\n\n          var trgtliId;\n          var closedLi;\n          var trgtLi;\n\n          var trgtpopUp = _this.getWrapper() && _this.getUlByNavIdx();\n\n          if (_this.isCMenu) {\n            if (_this.canOpen(e.target)) {\n              _this.openMenu(null, null, _this.pageY, _this.pageX, e);\n            }\n\n            _this.isCMenu = false;\n          }\n\n          if (_this.isMenu && trgtpopUp && popupId.length) {\n            trgtliId = new RegExp('(.*)-ej2menu-' + _this.element.id + '-popup').exec(popupId)[1];\n            closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n            trgtLi = liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]');\n          }\n\n          var submenus = liElem_1 && liElem_1.querySelectorAll('.e-menu-item');\n\n          if (isOpen && _this.hamburgerMode && ulIndex && !submenus.length) {\n            _this.afterCloseMenu(e);\n          } else if (isOpen && !_this.hamburgerMode && _this.navIdx.length && closedLi && !trgtLi && _this.keyType !== \"left\") {\n            var ele = e && e.target.classList.contains('e-vscroll') ? closest(e.target, '.e-menu-wrapper') : null;\n\n            if (ele) {\n              ele = ele.querySelector('.e-menu-item');\n\n              if (_this.showItemOnClick || ele && _this.getIndex(ele.id, true).length <= _this.navIdx.length) {\n                _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e, true);\n              }\n            } else {\n              _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e);\n            }\n          } else if (isOpen && !isIterated && !ulIndex && (_this.hamburgerMode && _this.navIdx.length || _this.navIdx.length === 1)) {\n            _this.closeMenu(null, e);\n          } else if (isOpen && isNullOrUndefined(ulIndex) && _this.navIdx.length) {\n            _this.closeMenu(null, e);\n          } else if (isOpen && !_this.isMenu && !ulIndex && _this.navIdx.length === 0 && !_this.isMenusClosed) {\n            _this.isMenusClosed = true;\n\n            _this.closeMenu(0, e);\n          } else if (isOpen && _this.isMenu && e && e.target && _this.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n            _this.closeMenu(0, e);\n          } else if (isOpen && !_this.isMenu && selectAll('.e-menu-parent', wrapper_1)[ulIndex - 1] && e.which === 3) {\n            _this.closeMenu(null, e);\n          } else {\n            if (isOpen && (_this.keyType === 'right' || _this.keyType === 'click')) {\n              _this.afterCloseMenu(e);\n            } else {\n              var cul = _this.getUlByNavIdx();\n\n              var sli_1 = _this.getLIByClass(cul, SELECTED);\n\n              if (sli_1) {\n                sli_1.setAttribute('aria-expanded', 'false');\n                sli_1.classList.remove(SELECTED);\n\n                if (observedCloseArgs.isFocused && liElem_1 || _this.keyType === \"left\") {\n                  sli_1.classList.add(FOCUSED);\n                  sli_1.focus();\n                }\n              }\n\n              if (!isOpen && _this.hamburgerMode && liElem_1 && liElem_1.getAttribute('aria-expanded') === 'false' && liElem_1.getAttribute('aria-haspopup') === 'true') {\n                if (closest(liElem_1, '.e-menu-parent.e-control')) {\n                  _this.navIdx = [];\n                } else {\n                  _this.navIdx.pop();\n                }\n\n                _this.navIdx.push(_this.cliIdx);\n\n                var item_2 = _this.getItem(_this.navIdx);\n\n                liElem_1.setAttribute('aria-expanded', 'true');\n\n                _this.openMenu(liElem_1, item_2, -1, -1, e);\n              }\n            }\n\n            if (_this.navIdx.length < 1) {\n              if (_this.showSubMenuOn === 'Hover' || _this.showSubMenuOn === 'Click') {\n                _this.showItemOnClick = _this.defaultOption;\n                _this.showSubMenuOn = 'Auto';\n              }\n            }\n          }\n\n          _this.removeStateWrapper();\n        });\n      }\n    }\n  };\n\n  MenuBase.prototype.updateReactTemplate = function () {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact && this.template && this.navIdx.length === 0) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var portals = this.portals.splice(0, this.items.length);\n      this.clearTemplate(['template']); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      this.portals = portals;\n      this.renderReactTemplates();\n    }\n  };\n\n  MenuBase.prototype.getMenuItemModel = function (item, level) {\n    if (isNullOrUndefined(item)) {\n      return null;\n    }\n\n    if (isNullOrUndefined(level)) {\n      level = 0;\n    }\n\n    var fields = this.getFields(level);\n    return {\n      text: item[fields.text],\n      id: item[fields.id],\n      items: item[fields.child],\n      separator: item[fields.separator],\n      iconCss: item[fields.iconCss],\n      url: item[fields.url]\n    };\n  };\n\n  MenuBase.prototype.getPopups = function () {\n    var _this = this;\n\n    var popups = [];\n    [].slice.call(document.querySelectorAll('.' + POPUP)).forEach(function (elem) {\n      if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && _this.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n        popups.push(elem);\n      }\n    });\n    return popups;\n  };\n\n  MenuBase.prototype.isMenuVisible = function () {\n    return this.navIdx.length > 0 || this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf();\n  };\n\n  MenuBase.prototype.canOpen = function (target) {\n    var canOpen = true;\n\n    if (this.filter) {\n      canOpen = false;\n      var filter = this.filter.split(' ');\n\n      for (var i = 0, len = filter.length; i < len; i++) {\n        if (closest(target, '.' + filter[i])) {\n          canOpen = true;\n          break;\n        }\n      }\n    }\n\n    return canOpen;\n  };\n\n  MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n    var _this = this;\n\n    if (top === void 0) {\n      top = 0;\n    }\n\n    if (left === void 0) {\n      left = 0;\n    }\n\n    if (e === void 0) {\n      e = null;\n    }\n\n    if (target === void 0) {\n      target = this.targetElement;\n    }\n\n    var wrapper = this.getWrapper();\n    this.lItem = li;\n    var elemId = this.element.id !== '' ? this.element.id : 'menu';\n    this.isMenusClosed = false;\n\n    if (isNullOrUndefined(top)) {\n      top = -1;\n    }\n\n    if (isNullOrUndefined(left)) {\n      left = -1;\n    }\n\n    if (li) {\n      this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n\n      if (!this.isMenu && Browser.isDevice) {\n        wrapper.lastChild.style.display = 'none';\n        var data = {\n          text: item[this.getField('text')].toString(),\n          iconCss: ICONS + ' e-previous'\n        };\n        var hdata = new MenuItem(this.items[0], 'items', data, true);\n        var hli = this.createItems([hdata]).children[0];\n        hli.classList.add(HEADER);\n        this.uList.insertBefore(hli, this.uList.children[0]);\n      }\n\n      if (this.isMenu) {\n        this.popupWrapper = this.createElement('div', {\n          className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP,\n          id: li.id + '-ej2menu-' + elemId + '-popup'\n        });\n\n        if (this.hamburgerMode) {\n          top = li.offsetHeight;\n          li.appendChild(this.popupWrapper);\n        } else {\n          document.body.appendChild(this.popupWrapper);\n        }\n\n        this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n        this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n\n        if (this.template) {\n          this.renderReactTemplates();\n        }\n\n        if (this.hamburgerMode) {\n          this.calculateIndentSize(this.uList, li);\n        } else {\n          if (this.cssClass) {\n            addClass([this.popupWrapper], this.cssClass.split(' '));\n          }\n\n          this.popupObj.hide();\n        }\n\n        if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n          window.clearInterval(this.timer);\n          this.timer = window.setTimeout(function () {\n            _this.triggerBeforeOpen(li, _this.uList, item, e, 0, 0, 'menu');\n          }, this.hoverDelay);\n        } else {\n          this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n        }\n      } else {\n        this.uList.style.zIndex = this.element.style.zIndex;\n        wrapper.appendChild(this.uList);\n\n        if (!this.showItemOnClick && this.hoverDelay) {\n          window.clearInterval(this.timer);\n          this.timer = window.setTimeout(function () {\n            _this.triggerBeforeOpen(li, _this.uList, item, e, top, left, 'none');\n          }, this.hoverDelay);\n        } else {\n          this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n        }\n      }\n    } else {\n      this.uList = this.element;\n      this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n      this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n    }\n  };\n\n  MenuBase.prototype.calculateIndentSize = function (ul, li) {\n    var liStyle = getComputedStyle(li);\n    var liIndent = parseInt(liStyle.textIndent, 10);\n\n    if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n      liIndent *= 2;\n    } else {\n      liIndent += liIndent / 4;\n    }\n\n    ul.style.textIndent = liIndent + 'px';\n    var blankIconElem = ul.querySelectorAll('.e-blankicon');\n\n    if (blankIconElem && blankIconElem.length) {\n      var menuIconElem = ul.querySelector('.e-menu-icon');\n      var menuIconElemStyle = getComputedStyle(menuIconElem);\n      var blankIconIndent = parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent;\n\n      for (var i = 0; i < blankIconElem.length; i++) {\n        blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n      }\n    }\n  };\n\n  MenuBase.prototype.generatePopup = function (popupWrapper, ul, li, isNestedOrVertical) {\n    var _this = this;\n\n    var popupObj = new Popup(popupWrapper, {\n      actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n      relateTo: li,\n      collision: this.hamburgerMode ? {\n        X: 'none',\n        Y: 'none'\n      } : {\n        X: isNestedOrVertical || this.enableRtl ? 'none' : 'flip',\n        Y: 'fit'\n      },\n      position: isNestedOrVertical && !this.hamburgerMode ? {\n        X: 'right',\n        Y: 'top'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      targetType: 'relative',\n      enableRtl: this.enableRtl,\n      content: ul,\n      open: function () {\n        var scrollEle = select('.e-menu-vscroll', popupObj.element);\n\n        if (scrollEle) {\n          scrollEle.style.height = 'inherit';\n          scrollEle.style.maxHeight = '';\n        }\n\n        var ul = select('.e-ul', popupObj.element);\n        popupObj.element.style.maxHeight = '';\n        ul.focus();\n\n        _this.triggerOpen(ul);\n      }\n    });\n    return popupObj;\n  };\n\n  MenuBase.prototype.createHeaderContainer = function (wrapper) {\n    wrapper = wrapper || this.getWrapper();\n    var spanElem = this.createElement('span', {\n      className: 'e-' + this.getModuleName() + '-header'\n    });\n    var tempTitle = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n    var spanTitle = this.createElement('span', {\n      className: 'e-' + this.getModuleName() + '-title',\n      innerHTML: tempTitle\n    });\n    var spanIcon = this.createElement('span', {\n      className: 'e-icons e-' + this.getModuleName() + '-icon',\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    spanElem.appendChild(spanTitle);\n    spanElem.appendChild(spanIcon);\n    wrapper.insertBefore(spanElem, this.element);\n  };\n\n  MenuBase.prototype.openHamburgerMenu = function (e) {\n    if (this.hamburgerMode) {\n      this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n    }\n  };\n\n  MenuBase.prototype.closeHamburgerMenu = function (e) {\n    var _this = this;\n\n    var beforeCloseArgs = {\n      element: this.element,\n      parentItem: null,\n      event: e,\n      items: this.items,\n      cancel: false\n    };\n    this.trigger('beforeClose', beforeCloseArgs, function (observedHamburgerCloseArgs) {\n      if (!observedHamburgerCloseArgs.cancel) {\n        _this.closeMenu(null, e);\n\n        _this.element.classList.add('e-hide-menu');\n\n        _this.trigger('onClose', {\n          element: _this.element,\n          parentItem: null,\n          items: _this.items\n        });\n      }\n    });\n  };\n\n  MenuBase.prototype.callFit = function (element, x, y, top, left) {\n    return fit(element, null, {\n      X: x,\n      Y: y\n    }, {\n      top: top,\n      left: left\n    });\n  };\n\n  MenuBase.prototype.triggerBeforeOpen = function (li, ul, item, e, top, left, type) {\n    var _this = this;\n\n    var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n    var eventArgs = {\n      element: ul,\n      items: items,\n      parentItem: item,\n      event: e,\n      cancel: false,\n      top: top,\n      left: left,\n      showSubMenuOn: 'Auto'\n    };\n    var menuType = type;\n    this.trigger('beforeOpen', eventArgs, function (observedOpenArgs) {\n      switch (menuType) {\n        case 'menu':\n          if (!_this.hamburgerMode) {\n            if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n              _this.showItemOnClick = !_this.defaultOption;\n              _this.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n            }\n\n            _this.top = observedOpenArgs.top;\n            _this.left = observedOpenArgs.left;\n          }\n\n          _this.popupWrapper.style.display = 'block';\n\n          if (!_this.hamburgerMode) {\n            _this.popupWrapper.style.maxHeight = _this.popupWrapper.getBoundingClientRect().height + 'px';\n\n            if (_this.enableScrolling) {\n              addScrolling(_this.createElement, _this.popupWrapper, _this.uList, 'vscroll', _this.enableRtl);\n            }\n\n            _this.checkScrollOffset(e);\n          }\n\n          if (!_this.hamburgerMode && !_this.left && !_this.top) {\n            _this.popupObj.refreshPosition(_this.lItem, true);\n\n            _this.left = parseInt(_this.popupWrapper.style.left, 10);\n            _this.top = parseInt(_this.popupWrapper.style.top, 10);\n\n            if (_this.enableRtl) {\n              _this.left = _this.isNestedOrVertical ? _this.left - _this.popupWrapper.offsetWidth - _this.lItem.parentElement.offsetWidth + 2 : _this.left - _this.popupWrapper.offsetWidth + _this.lItem.offsetWidth;\n            }\n\n            if (_this.template && (_this.isReact || _this.isAngular)) {\n              requestAnimationFrame(function () {\n                _this.collision();\n\n                _this.popupWrapper.style.display = '';\n              });\n            } else {\n              _this.collision();\n\n              _this.popupWrapper.style.display = '';\n            }\n          } else {\n            _this.popupObj.collision = {\n              X: 'none',\n              Y: 'none'\n            };\n            _this.popupWrapper.style.display = '';\n          }\n\n          break;\n\n        case 'none':\n          _this.top = observedOpenArgs.top;\n          _this.left = observedOpenArgs.left;\n          break;\n\n        case 'hamburger':\n          if (!observedOpenArgs.cancel) {\n            _this.element.classList.remove('e-hide-menu');\n\n            _this.triggerOpen(_this.element);\n          }\n\n          break;\n      }\n\n      if (menuType !== 'hamburger') {\n        if (observedOpenArgs.cancel) {\n          if (_this.isMenu) {\n            _this.popupObj.destroy();\n\n            detach(_this.popupWrapper);\n          } else if (ul.className.indexOf('e-ul') > -1) {\n            detach(ul);\n          }\n\n          _this.navIdx.pop();\n        } else {\n          if (_this.isMenu) {\n            if (_this.hamburgerMode) {\n              _this.popupWrapper.style.top = _this.top + 'px';\n              _this.popupWrapper.style.left = 0 + 'px';\n\n              _this.toggleAnimation(_this.popupWrapper);\n            } else {\n              _this.setBlankIconStyle(_this.popupWrapper);\n\n              _this.wireKeyboardEvent(_this.popupWrapper);\n\n              rippleEffect(_this.popupWrapper, {\n                selector: '.' + ITEM\n              });\n              _this.popupWrapper.style.left = _this.left + 'px';\n              _this.popupWrapper.style.top = _this.top + 'px';\n              var animationOptions = _this.animationSettings.effect !== 'None' ? {\n                name: _this.animationSettings.effect,\n                duration: _this.animationSettings.duration,\n                timingFunction: _this.animationSettings.easing\n              } : null;\n\n              _this.popupObj.show(animationOptions, _this.lItem);\n            }\n          } else {\n            _this.setBlankIconStyle(_this.uList);\n\n            _this.setPosition(_this.lItem, _this.uList, _this.top, _this.left);\n\n            _this.toggleAnimation(_this.uList);\n          }\n        }\n      }\n\n      if (_this.keyType === 'right') {\n        var cul = _this.getUlByNavIdx();\n\n        li.classList.remove(FOCUSED);\n\n        if (_this.isMenu && _this.navIdx.length === 1) {\n          _this.removeLIStateByClass([SELECTED], [_this.getWrapper()]);\n        }\n\n        li.classList.add(SELECTED);\n\n        if (_this.action === ENTER) {\n          var eventArgs_1 = {\n            element: li,\n            item: item,\n            event: e\n          };\n\n          _this.trigger('select', eventArgs_1);\n        }\n\n        li.focus();\n        cul = _this.getUlByNavIdx();\n\n        var index = _this.isValidLI(cul.children[0], 0, _this.action);\n\n        cul.children[index].classList.add(FOCUSED);\n        cul.children[index].focus();\n      }\n    });\n  };\n\n  MenuBase.prototype.collision = function () {\n    var collide;\n    collide = isCollide(this.popupWrapper, null, this.left, this.top);\n\n    if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1 || collide.indexOf('left') > -1)) {\n      this.popupObj.collision.X = 'none';\n      var offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n      this.left = this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n    }\n\n    collide = isCollide(this.popupWrapper, null, this.left, this.top);\n\n    if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n      this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n    }\n\n    this.popupWrapper.style.left = this.left + 'px';\n  };\n\n  MenuBase.prototype.setBlankIconStyle = function (menu) {\n    var blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n\n    if (!blankIconList.length) {\n      return;\n    }\n\n    var iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n    var icon = iconLi.querySelector('.e-menu-icon');\n\n    if (!icon) {\n      return;\n    }\n\n    var cssProp = this.enableRtl ? {\n      padding: 'paddingRight',\n      margin: 'marginLeft'\n    } : {\n      padding: 'paddingLeft',\n      margin: 'marginRight'\n    };\n    var iconCssProps = getComputedStyle(icon);\n    var iconSize = parseInt(iconCssProps.fontSize, 10);\n\n    if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n      iconSize = parseInt(iconCssProps.width, 10);\n    } // eslint:disable\n\n\n    var size = iconSize + parseInt( // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10) + \"px\";\n    blankIconList.forEach(function (li) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      li.style[cssProp.padding] = size;\n    }); // eslint:enable\n  };\n\n  MenuBase.prototype.checkScrollOffset = function (e) {\n    var wrapper = this.getWrapper();\n\n    if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n      var trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n      var offsetEle = select('.e-hscroll-bar', wrapper);\n\n      if (offsetEle.scrollLeft > trgt.offsetLeft) {\n        offsetEle.scrollLeft -= offsetEle.scrollLeft - trgt.offsetLeft;\n      }\n\n      var offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n      var offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n\n      if (offsetLeft < offsetRight) {\n        offsetEle.scrollLeft += offsetRight - offsetLeft;\n      }\n    }\n  };\n\n  MenuBase.prototype.setPosition = function (li, ul, top, left) {\n    var px = 'px';\n    this.toggleVisiblity(ul);\n\n    if (ul === this.element || left > -1 && top > -1) {\n      var collide = isCollide(ul, null, left, top);\n\n      if (collide.indexOf('right') > -1) {\n        left = left - ul.offsetWidth;\n      }\n\n      if (collide.indexOf('bottom') > -1) {\n        var offset = this.callFit(ul, false, true, top, left);\n        top = offset.top - 20;\n\n        if (top < 0) {\n          var newTop = pageYOffset + document.documentElement.clientHeight - ul.getBoundingClientRect().height;\n\n          if (newTop > -1) {\n            top = newTop;\n          }\n        }\n      }\n\n      collide = isCollide(ul, null, left, top);\n\n      if (collide.indexOf('left') > -1) {\n        var offset = this.callFit(ul, true, false, top, left);\n        left = offset.left;\n      }\n    } else {\n      if (Browser.isDevice) {\n        top = Number(this.element.style.top.replace(px, ''));\n        left = Number(this.element.style.left.replace(px, ''));\n      } else {\n        var x = this.enableRtl ? 'left' : 'right';\n        var offset = calculatePosition(li, x, 'top');\n        top = offset.top;\n        left = offset.left;\n        var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n        var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n\n        if (xCollision) {\n          offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n          left = offset.left;\n        }\n\n        if (this.enableRtl || xCollision) {\n          left = this.enableRtl && xCollision ? left : left - ul.offsetWidth;\n        }\n\n        if (collide.indexOf('bottom') > -1) {\n          offset = this.callFit(ul, false, true, top, left);\n          top = offset.top;\n        }\n      }\n    }\n\n    this.toggleVisiblity(ul, false);\n    ul.style.top = top + px;\n    ul.style.left = left + px;\n  };\n\n  MenuBase.prototype.toggleVisiblity = function (ul, isVisible$$1) {\n    if (isVisible$$1 === void 0) {\n      isVisible$$1 = true;\n    }\n\n    ul.style.visibility = isVisible$$1 ? 'hidden' : '';\n    ul.style.display = isVisible$$1 ? 'block' : 'none';\n  };\n\n  MenuBase.prototype.createItems = function (items) {\n    var _this = this;\n\n    var level = this.navIdx ? this.navIdx.length : 0;\n    var fields = this.getFields(level);\n    var showIcon = this.hasField(items, this.getField('iconCss', level));\n    var listBaseOptions = {\n      showIcon: showIcon,\n      moduleName: 'menu',\n      fields: fields,\n      template: this.template,\n      itemNavigable: true,\n      itemCreating: function (args) {\n        if (!args.curData[args.fields[fields.id]]) {\n          args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n        }\n\n        args.curData.htmlAttributes = {\n          role: 'menuitem',\n          tabindex: '-1'\n        };\n\n        if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n          args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text] ? args.curData[args.fields.text] : args.curData[args.fields.id];\n        }\n\n        if (args.curData[args.fields[fields.iconCss]] === '') {\n          args.curData[args.fields[fields.iconCss]] = null;\n        }\n      },\n      itemCreated: function (args) {\n        if (args.curData[_this.getField('separator', level)]) {\n          args.item.classList.add(SEPARATOR);\n          args.item.removeAttribute('role');\n        }\n\n        if (showIcon && !args.curData[args.fields.iconCss] && !args.curData[_this.getField('separator', level)]) {\n          args.item.classList.add('e-blankicon');\n        }\n\n        if (args.curData[args.fields.child] && args.curData[args.fields.child].length) {\n          var span = _this.createElement('span', {\n            className: ICONS + ' ' + CARET\n          });\n\n          args.item.appendChild(span);\n          args.item.setAttribute('aria-haspopup', 'true');\n          args.item.setAttribute('aria-expanded', 'false');\n\n          if (!_this.isMenu) {\n            args.item.removeAttribute('role');\n          }\n\n          args.item.classList.add('e-menu-caret-icon');\n        }\n\n        if (_this.isMenu && _this.template) {\n          args.item.setAttribute('id', args.curData[args.fields.id].toString());\n          args.item.removeAttribute('data-uid');\n\n          if (args.item.classList.contains('e-level-1')) {\n            args.item.classList.remove('e-level-1');\n          }\n\n          if (args.item.classList.contains('e-has-child')) {\n            args.item.classList.remove('e-has-child');\n          }\n        }\n\n        var eventArgs = {\n          item: args.curData,\n          element: args.item\n        };\n\n        _this.trigger('beforeItemRender', eventArgs);\n      }\n    };\n    this.setProperties({\n      'items': this.items\n    }, true);\n\n    if (this.isMenu) {\n      listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n    }\n\n    var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n    ul.setAttribute('tabindex', '0');\n\n    if (this.isMenu) {\n      ul.setAttribute('role', 'menu');\n    }\n\n    return ul;\n  };\n\n  MenuBase.prototype.moverHandler = function (e) {\n    var trgt = e.target;\n    this.liTrgt = trgt;\n    var cli = this.getLI(trgt);\n    var wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n    var hdrWrapper = this.getWrapper();\n    var regex = new RegExp('-ej2menu-(.*)-popup');\n    var ulId;\n    var isDifferentElem = false;\n\n    if (!wrapper) {\n      return;\n    }\n\n    if (wrapper.id !== '') {\n      ulId = regex.exec(wrapper.id)[1];\n    } else {\n      ulId = wrapper.querySelector('ul').id;\n    }\n\n    if (ulId !== this.element.id) {\n      this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n\n      if (this.navIdx.length) {\n        isDifferentElem = true;\n      } else {\n        return;\n      }\n    }\n\n    if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n      this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n      this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n      cli.classList.add(FOCUSED);\n\n      if (!this.showItemOnClick) {\n        this.clickHandler(e);\n      }\n    } else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n      this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n    }\n\n    if (this.isMenu) {\n      if (!this.showItemOnClick && trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup') && (!cli || cli && !this.getIndex(cli.id, true).length) && this.showSubMenuOn !== 'Hover') {\n        this.removeLIStateByClass([FOCUSED], [wrapper]);\n\n        if (this.navIdx.length) {\n          this.isClosed = true;\n          this.closeMenu(null, e);\n        }\n      } else if (isDifferentElem && !this.showItemOnClick) {\n        if (this.navIdx.length) {\n          this.isClosed = true;\n          this.closeMenu(null, e);\n        }\n      }\n\n      if (!this.isClosed) {\n        this.removeStateWrapper();\n      }\n\n      this.isClosed = false;\n    }\n  };\n\n  MenuBase.prototype.removeStateWrapper = function () {\n    if (this.liTrgt) {\n      var wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n\n      if (this.liTrgt.tagName === 'DIV' && wrapper) {\n        this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n      }\n    }\n  };\n\n  MenuBase.prototype.removeLIStateByClass = function (classList$$1, element) {\n    var li;\n\n    var _loop_1 = function (i) {\n      classList$$1.forEach(function (className) {\n        li = select('.' + className, element[i]);\n\n        if (li) {\n          li.classList.remove(className);\n        }\n      });\n    };\n\n    for (var i = 0; i < element.length; i++) {\n      _loop_1(i);\n    }\n  };\n\n  MenuBase.prototype.getField = function (propName, level) {\n    if (level === void 0) {\n      level = 0;\n    }\n\n    var fieldName = this.fields[propName];\n    return typeof fieldName === 'string' ? fieldName : !fieldName[level] ? fieldName[fieldName.length - 1].toString() : fieldName[level].toString();\n  };\n\n  MenuBase.prototype.getFields = function (level) {\n    if (level === void 0) {\n      level = 0;\n    }\n\n    return {\n      id: this.getField('itemId', level),\n      iconCss: this.getField('iconCss', level),\n      text: this.getField('text', level),\n      url: this.getField('url', level),\n      child: this.getField('children', level),\n      separator: this.getField('separator', level)\n    };\n  };\n\n  MenuBase.prototype.hasField = function (items, field) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      if (items[i][field]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  MenuBase.prototype.menuHeaderClickHandler = function (e) {\n    if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n      return;\n    }\n\n    if (this.element.className.indexOf('e-hide-menu') > -1) {\n      this.openHamburgerMenu(e);\n    } else {\n      this.closeHamburgerMenu(e);\n    }\n  };\n\n  MenuBase.prototype.clickHandler = function (e) {\n    if (this.isTapHold) {\n      this.isTapHold = false;\n    } else {\n      var wrapper = this.getWrapper();\n      var trgt = e.target;\n      var cli = this.cli = this.getLI(trgt);\n      var regex = new RegExp('-ej2menu-(.*)-popup');\n      var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n      var isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0 : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n\n      if (Browser.isDevice && this.isMenu) {\n        this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n        this.mouseDownHandler(e);\n      }\n\n      if (cli && cliWrapper && this.isMenu) {\n        var cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n\n        if (this.element.id !== cliWrapperId) {\n          return;\n        }\n      }\n\n      if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n        this.setLISelected(cli);\n        var navIdx = this.getIndex(cli.id, true);\n        var item = this.getItem(navIdx);\n        var eventArgs = {\n          element: cli,\n          item: item,\n          event: e\n        };\n        this.trigger('select', eventArgs);\n      }\n\n      if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n        var ul = void 0;\n\n        if (cli.classList.contains(HEADER)) {\n          ul = wrapper.children[this.navIdx.length - 1];\n          this.toggleAnimation(ul);\n          var sli = this.getLIByClass(ul, SELECTED);\n\n          if (sli) {\n            sli.classList.remove(SELECTED);\n          }\n\n          detach(cli.parentNode);\n          this.navIdx.pop();\n        } else {\n          if (!cli.classList.contains(SEPARATOR)) {\n            this.showSubMenu = true;\n            var cul = cli.parentNode;\n            this.cliIdx = this.getIdx(cul, cli);\n\n            if (this.isMenu || !Browser.isDevice) {\n              var culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper')) : this.getIdx(wrapper, cul);\n\n              if (this.navIdx[culIdx] === this.cliIdx) {\n                this.showSubMenu = false;\n              }\n\n              if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                var sli = this.getLIByClass(cul, SELECTED);\n\n                if (sli) {\n                  sli.classList.remove(SELECTED);\n                }\n\n                this.isClosed = true;\n                this.keyType = 'click';\n\n                if (this.showItemOnClick) {\n                  this.setLISelected(cli);\n                }\n\n                this.closeMenu(culIdx + 1, e);\n\n                if (this.showItemOnClick) {\n                  this.setLISelected(cli);\n                }\n              }\n            }\n\n            if (!this.isClosed) {\n              this.afterCloseMenu(e);\n            }\n\n            this.isClosed = false;\n          }\n        }\n      } else {\n        if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n          var popupEle = closest(trgt, '.' + POPUP);\n          var cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n\n          if (cIdx < this.navIdx.length) {\n            this.closeMenu(cIdx + 1, e);\n\n            if (popupEle) {\n              this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n            }\n          }\n        } else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n          this.menuHeaderClickHandler(e);\n        } else {\n          if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') && !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n            if (!cli) {\n              this.removeLIStateByClass([SELECTED], [wrapper]);\n            }\n\n            if (!cli || !cli.querySelector('.' + CARET)) {\n              this.closeMenu(null, e);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  MenuBase.prototype.afterCloseMenu = function (e) {\n    var isHeader;\n\n    if (this.showSubMenu) {\n      if (this.showItemOnClick && this.navIdx.length === 0) {\n        isHeader = closest(e.target, '.e-menu-parent.e-control');\n      } else {\n        isHeader = closest(this.element, '.e-menu-parent.e-control');\n      }\n\n      var idx = this.navIdx.concat(this.cliIdx);\n      var item = this.getItem(idx);\n\n      if (item && item[this.getField('children', idx.length - 1)] && item[this.getField('children', idx.length - 1)].length) {\n        if (e.type === 'mouseover' || Browser.isDevice && this.isMenu) {\n          this.setLISelected(this.cli);\n        }\n\n        if (!this.hamburgerMode && isHeader || this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false') {\n          this.cli.setAttribute('aria-expanded', 'true');\n          this.navIdx.push(this.cliIdx);\n          this.openMenu(this.cli, item, null, null, e);\n        }\n      } else {\n        if (e.type !== 'mouseover') {\n          this.closeMenu(null, e);\n        }\n      }\n\n      if (!isHeader) {\n        var cul = this.getUlByNavIdx();\n        var sli = this.getLIByClass(cul, SELECTED);\n\n        if (sli) {\n          sli.setAttribute('aria-expanded', 'false');\n          sli.classList.remove(SELECTED);\n        }\n      }\n    }\n\n    this.keyType = '';\n  };\n\n  MenuBase.prototype.setLISelected = function (li) {\n    var sli = this.getLIByClass(li.parentElement, SELECTED);\n\n    if (sli) {\n      sli.classList.remove(SELECTED);\n    }\n\n    if (!this.isMenu) {\n      li.classList.remove(FOCUSED);\n    }\n\n    li.classList.add(SELECTED);\n  };\n\n  MenuBase.prototype.getLIByClass = function (ul, classname) {\n    for (var i = 0, len = ul.children.length; i < len; i++) {\n      if (ul.children[i].classList.contains(classname)) {\n        return ul.children[i];\n      }\n    }\n\n    return null;\n  };\n  /**\n   * This method is used to get the index of the menu item in the Menu based on the argument.\n   *\n   * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.getItemIndex = function (item, isUniqueId) {\n    var idx;\n\n    if (typeof item === 'string') {\n      idx = item;\n    } else {\n      idx = item.id;\n    }\n\n    var isText = isUniqueId === false ? false : true;\n    var navIdx = this.getIndex(idx, isText);\n    return navIdx;\n  };\n  /**\n   * This method is used to set the menu item in the Menu based on the argument.\n   *\n   * @param {MenuItem} item - item need to be updated.\n   * @param {string} id - id / text to be passed to update the item.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.setItem = function (item, id, isUniqueId) {\n    var idx;\n\n    if (isUniqueId) {\n      idx = id ? id : item.id;\n    } else {\n      idx = id ? id : item.text;\n    }\n\n    var navIdx = this.getIndex(idx, isUniqueId);\n    var newItem = this.getItem(navIdx);\n    Object.assign(newItem, item);\n  };\n\n  MenuBase.prototype.getItem = function (navIdx) {\n    navIdx = navIdx.slice();\n    var idx = navIdx.pop();\n    var items = this.getItems(navIdx);\n    return items[idx];\n  };\n\n  MenuBase.prototype.getItems = function (navIdx) {\n    var items = this.items;\n\n    for (var i = 0; i < navIdx.length; i++) {\n      items = items[navIdx[i]][this.getField('children', i)];\n    }\n\n    return items;\n  };\n\n  MenuBase.prototype.setItems = function (newItems, navIdx) {\n    var items = this.getItems(navIdx);\n    items.splice(0, items.length);\n\n    for (var i = 0; i < newItems.length; i++) {\n      items.splice(i, 0, newItems[i]);\n    }\n  };\n\n  MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n    if (skipHdr === void 0) {\n      skipHdr = true;\n    }\n\n    var idx = Array.prototype.indexOf.call(ul.children, li);\n\n    if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n      idx--;\n    }\n\n    return idx;\n  };\n\n  MenuBase.prototype.getLI = function (elem) {\n    if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n      return elem;\n    }\n\n    return closest(elem, 'li.e-menu-item');\n  };\n\n  MenuBase.prototype.updateItemsByNavIdx = function () {\n    var items = this.items;\n    var count = 0;\n\n    for (var index = 0; index < this.navIdx.length; index++) {\n      items = items[index].items;\n\n      if (!items) {\n        break;\n      }\n\n      count++;\n      var ul = this.getUlByNavIdx(count);\n\n      if (!ul) {\n        break;\n      }\n\n      this.updateItem(ul, items);\n    }\n  };\n\n  MenuBase.prototype.removeChildElement = function (elem) {\n    while (elem.firstElementChild) {\n      elem.removeChild(elem.firstElementChild);\n    }\n\n    return elem;\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {MenuBaseModel} newProp - Specifies the new properties\n   * @param {MenuBaseModel} oldProp - Specifies the old properties\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    var wrapper = this.getWrapper();\n\n    var _loop_2 = function (prop) {\n      switch (prop) {\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([wrapper], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([wrapper], newProp.cssClass.split(' '));\n          }\n\n          break;\n\n        case 'enableRtl':\n          wrapper.classList.toggle(RTL);\n          break;\n\n        case 'showItemOnClick':\n          this_1.unWireEvents();\n          this_1.showItemOnClick = newProp.showItemOnClick;\n          this_1.wireEvents();\n          break;\n\n        case 'enableScrolling':\n          if (newProp.enableScrolling) {\n            var ul_2;\n\n            if (this_1.element.classList.contains('e-vertical')) {\n              addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n            } else {\n              addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n            }\n\n            this_1.getPopups().forEach(function (wrapper) {\n              ul_2 = select('.e-ul', wrapper);\n              addScrolling(_this.createElement, wrapper, ul_2, 'vscroll', _this.enableRtl);\n            });\n          } else {\n            var ul_3 = wrapper.children[0];\n\n            if (this_1.element.classList.contains('e-vertical')) {\n              destroyScroll(getInstance(ul_3, VScroll), ul_3);\n            } else {\n              destroyScroll(getInstance(ul_3, HScroll), ul_3);\n            }\n\n            wrapper.style.overflow = '';\n            wrapper.appendChild(this_1.element);\n            this_1.getPopups().forEach(function (wrapper) {\n              ul_3 = wrapper.children[0];\n              destroyScroll(getInstance(ul_3, VScroll), ul_3);\n              wrapper.style.overflow = '';\n            });\n          }\n\n          break;\n\n        case 'items':\n          {\n            var idx = void 0;\n            var navIdx = void 0;\n            var item = void 0;\n\n            if (!Object.keys(oldProp.items).length) {\n              this_1.updateItem(this_1.element, this_1.items);\n\n              if (this_1.enableScrolling && this_1.element.parentElement.classList.contains('e-custom-scroll')) {\n                if (this_1.element.classList.contains('e-vertical')) {\n                  addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                } else {\n                  addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                }\n              }\n\n              if (!this_1.hamburgerMode) {\n                for (var i = 1, count = wrapper.childElementCount; i < count; i++) {\n                  detach(wrapper.lastElementChild);\n                }\n              }\n\n              this_1.navIdx = [];\n            } else {\n              var keys = Object.keys(newProp.items);\n\n              for (var i = 0; i < keys.length; i++) {\n                navIdx = this_1.getChangedItemIndex(newProp, [], Number(keys[i]));\n\n                if (navIdx.length <= this_1.getWrapper().children.length) {\n                  idx = navIdx.pop();\n                  item = this_1.getItems(navIdx);\n                  this_1.insertAfter([item[idx]], item[idx].text);\n                  this_1.removeItem(item, navIdx, idx);\n                  this_1.setItems(item, navIdx);\n                }\n\n                navIdx.length = 0;\n              }\n            }\n\n            break;\n          }\n      }\n    };\n\n    var this_1 = this;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      _loop_2(prop);\n    }\n  };\n\n  MenuBase.prototype.updateItem = function (ul, items) {\n    if (isBlazor() && !this.isMenu) {\n      ul = this.removeChildElement(ul);\n    } else {\n      if (this.enableScrolling) {\n        var wrapper1 = this.getWrapper();\n        var ul1 = wrapper1.children[0];\n\n        if (this.element.classList.contains('e-vertical')) {\n          destroyScroll(getInstance(ul1, VScroll), ul1);\n        } else {\n          destroyScroll(getInstance(ul1, HScroll), ul1);\n        }\n      }\n\n      ul.innerHTML = '';\n    }\n\n    var lis = [].slice.call(this.createItems(items).children);\n    lis.forEach(function (li) {\n      ul.appendChild(li);\n    });\n  };\n\n  MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n    index.push(idx);\n    var key = Object.keys(newProp.items[idx]).pop();\n\n    if (key === 'items') {\n      var item = newProp.items[idx];\n      var popStr = Object.keys(item.items).pop();\n\n      if (popStr) {\n        this.getChangedItemIndex(item, index, Number(popStr));\n      }\n    } else {\n      if (key === 'isParentArray' && index.length > 1) {\n        index.pop();\n      }\n    }\n\n    return index;\n  };\n\n  MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n    item.splice(idx, 1);\n    var uls = this.getWrapper().children;\n\n    if (navIdx.length < uls.length) {\n      detach(uls[navIdx.length].children[idx]);\n    }\n  };\n  /**\n   * Used to unwire the bind events.\n   *\n   * @private\n   * @param {string} targetSelctor - Specifies the target selector\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.unWireEvents = function (targetSelctor) {\n    if (targetSelctor === void 0) {\n      targetSelctor = this.target;\n    }\n\n    var wrapper = this.getWrapper();\n\n    if (targetSelctor) {\n      var target = void 0;\n      var touchModule = void 0;\n      var targetElems = selectAll(targetSelctor);\n\n      for (var i = 0, len = targetElems.length; i < len; i++) {\n        target = targetElems[i];\n\n        if (this.isMenu) {\n          EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n        } else {\n          if (Browser.isIos) {\n            touchModule = getInstance(target, Touch);\n\n            if (touchModule) {\n              touchModule.destroy();\n            }\n          } else {\n            EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n          }\n        }\n      }\n\n      if (!this.isMenu) {\n        EventHandler.remove(this.targetElement, 'scroll', this.scrollHandler);\n\n        for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n          var parent_2 = _a[_i];\n          EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n        }\n      }\n    }\n\n    if (!Browser.isDevice) {\n      EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n      EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n    }\n\n    EventHandler.remove(document, 'click', this.delegateClickHandler);\n    this.unWireKeyboardEvent(wrapper);\n    this.rippleFn();\n  };\n\n  MenuBase.prototype.unWireKeyboardEvent = function (element) {\n    var keyboardModule = getInstance(element, KeyboardEvents);\n\n    if (keyboardModule) {\n      keyboardModule.destroy();\n    }\n  };\n\n  MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n    var _this = this;\n\n    if (isMenuOpen === void 0) {\n      isMenuOpen = true;\n    }\n\n    var pUlHeight;\n    var pElement;\n\n    if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n      this.end(ul, isMenuOpen);\n    } else {\n      this.animation.animate(ul, {\n        name: this.animationSettings.effect,\n        duration: this.animationSettings.duration,\n        timingFunction: this.animationSettings.easing,\n        begin: function (options) {\n          if (_this.hamburgerMode) {\n            pElement = options.element.parentElement;\n            options.element.style.position = 'absolute';\n            pUlHeight = pElement.offsetHeight;\n            options.element.style.maxHeight = options.element.offsetHeight + 'px';\n            pElement.style.maxHeight = '';\n          } else {\n            options.element.style.display = 'block';\n            options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n          }\n        },\n        progress: function (options) {\n          if (_this.hamburgerMode) {\n            pElement.style.minHeight = pUlHeight + options.element.offsetHeight + 'px';\n          }\n        },\n        end: function (options) {\n          if (_this.hamburgerMode) {\n            options.element.style.position = '';\n            options.element.style.maxHeight = '';\n            pElement.style.minHeight = '';\n            options.element.style.top = 0 + 'px';\n            options.element.children[0].focus();\n\n            _this.triggerOpen(options.element.children[0]);\n          } else {\n            _this.end(options.element, isMenuOpen);\n          }\n        }\n      });\n    }\n  };\n\n  MenuBase.prototype.triggerOpen = function (ul) {\n    var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n    var eventArgs = {\n      element: ul,\n      parentItem: item,\n      items: item ? item.items : this.items\n    };\n    this.trigger('onOpen', eventArgs);\n  };\n\n  MenuBase.prototype.end = function (ul, isMenuOpen) {\n    if (isMenuOpen) {\n      ul.style.display = 'block';\n      ul.style.maxHeight = '';\n      this.triggerOpen(ul);\n\n      if (ul.querySelector('.' + FOCUSED)) {\n        ul.querySelector('.' + FOCUSED).focus();\n      } else {\n        if (this.currentTarget) {\n          if (!(this.currentTarget.classList.contains(\"e-numerictextbox\") || this.currentTarget.classList.contains(\"e-textbox\"))) {\n            var ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n\n            if (ele) {\n              ele.querySelector('.' + SELECTED).focus();\n            } else {\n              this.element.focus();\n            }\n          }\n        }\n      }\n    } else {\n      if (ul === this.element) {\n        var fli = this.getLIByClass(this.element, FOCUSED);\n\n        if (fli) {\n          fli.classList.remove(FOCUSED);\n        }\n\n        var sli = this.getLIByClass(this.element, SELECTED);\n\n        if (sli) {\n          sli.classList.remove(SELECTED);\n        }\n\n        ul.style.display = 'none';\n      } else {\n        detach(ul);\n      }\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n\n\n  MenuBase.prototype.getPersistData = function () {\n    return '';\n  };\n  /**\n   * Get wrapper element.\n   *\n   * @returns {Element} - Wrapper element\n   * @private\n   */\n\n\n  MenuBase.prototype.getWrapper = function () {\n    return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n  };\n\n  MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n    if (items === void 0) {\n      items = this.items;\n    }\n\n    if (nIndex === void 0) {\n      nIndex = [];\n    }\n\n    if (isCallBack === void 0) {\n      isCallBack = false;\n    }\n\n    if (level === void 0) {\n      level = 0;\n    }\n\n    var item;\n    level = isCallBack ? level + 1 : 0;\n\n    for (var i = 0, len = items.length; i < len; i++) {\n      item = items[i];\n\n      if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n        nIndex.push(i);\n        break;\n      } else if (item[this.getField('children', level)] && item[this.getField('children', level)].length) {\n        nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n\n        if (nIndex[nIndex.length - 1] === -1) {\n          if (i !== len - 1) {\n            nIndex.pop();\n          }\n        } else {\n          nIndex.unshift(i);\n          break;\n        }\n      } else {\n        if (i === len - 1) {\n          nIndex.push(-1);\n        }\n      }\n    }\n\n    return !isCallBack && nIndex[0] === -1 ? [] : nIndex;\n  };\n  /**\n   * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n   *\n   * @param {string[]} items - Text items that needs to be enabled/disabled.\n   * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n    if (enable === void 0) {\n      enable = true;\n    }\n\n    var ul;\n    var idx;\n    var navIdx;\n    var disabled = DISABLED;\n    var skipItem;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(items[i], isUniqueId);\n\n      if (this.navIdx.length) {\n        if (navIdx.length !== 1) {\n          skipItem = false;\n\n          for (var i_1 = 0, len = navIdx.length - 1; i_1 < len; i_1++) {\n            if (navIdx[i_1] !== this.navIdx[i_1]) {\n              skipItem = true;\n              break;\n            }\n          }\n\n          if (skipItem) {\n            continue;\n          }\n        }\n      } else {\n        if (navIdx.length !== 1) {\n          continue;\n        }\n      }\n\n      idx = navIdx.pop();\n      ul = this.getUlByNavIdx(navIdx.length);\n\n      if (ul) {\n        if (enable) {\n          if (this.isMenu) {\n            ul.children[idx].classList.remove(disabled);\n            ul.children[idx].removeAttribute('aria-disabled');\n          } else {\n            if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n              ul.children[idx + 1].classList.remove(disabled);\n            } else {\n              ul.children[idx].classList.remove(disabled);\n            }\n          }\n        } else {\n          if (this.isMenu) {\n            ul.children[idx].classList.add(disabled);\n            ul.children[idx].setAttribute('aria-disabled', 'true');\n          } else {\n            if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n              ul.children[idx + 1].classList.add(disabled);\n            } else {\n              ul.children[idx].classList.add(disabled);\n            }\n          }\n        }\n      }\n    }\n  };\n  /**\n   * This method is used to show the menu items in the Menu based on the items text.\n   *\n   * @param {string[]} items - Text items that needs to be shown.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.showItems = function (items, isUniqueId) {\n    this.showHideItems(items, false, isUniqueId);\n  };\n  /**\n   * This method is used to hide the menu items in the Menu based on the items text.\n   *\n   * @param {string[]} items - Text items that needs to be hidden.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.hideItems = function (items, isUniqueId) {\n    this.showHideItems(items, true, isUniqueId);\n  };\n\n  MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n    var ul;\n    var index;\n    var navIdx;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(items[i], isUniqueId);\n      index = navIdx.pop();\n      ul = this.getUlByNavIdx(navIdx.length);\n\n      if (ul) {\n        if (ishide) {\n          if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n            ul.children[index + 1].classList.add(HIDE);\n          } else {\n            ul.children[index].classList.add(HIDE);\n          }\n        } else {\n          if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n            ul.children[index + 1].classList.remove(HIDE);\n          } else {\n            ul.children[index].classList.remove(HIDE);\n          }\n        }\n      }\n    }\n  };\n  /**\n   * It is used to remove the menu items from the Menu based on the items text.\n   *\n   * @param {string[]} items Text items that needs to be removed.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.removeItems = function (items, isUniqueId) {\n    var idx;\n    var navIdx;\n    var iitems;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(items[i], isUniqueId);\n      idx = navIdx.pop();\n      iitems = this.getItems(navIdx);\n\n      if (!isNullOrUndefined(idx)) {\n        this.removeItem(iitems, navIdx, idx);\n      }\n    }\n  };\n  /**\n   * It is used to insert the menu items after the specified menu item text.\n   *\n   * @param {MenuItemModel[]} items - Items that needs to be inserted.\n   * @param {string} text - Text item after that the element to be inserted.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n    this.insertItems(items, text, isUniqueId);\n  };\n  /**\n   * It is used to insert the menu items before the specified menu item text.\n   *\n   * @param {MenuItemModel[]} items - Items that needs to be inserted.\n   * @param {string} text - Text item before that the element to be inserted.\n   * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n    this.insertItems(items, text, isUniqueId, false);\n  };\n\n  MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n    if (isAfter === void 0) {\n      isAfter = true;\n    }\n\n    var li;\n    var idx;\n    var navIdx;\n    var iitems;\n    var menuitem;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(text, isUniqueId);\n      idx = navIdx.pop();\n      iitems = this.getItems(navIdx);\n      menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n      iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n      var uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n\n      if (navIdx.length < uls.length) {\n        idx = isAfter ? idx + 1 : idx;\n        li = this.createItems(iitems).children[idx];\n        var ul = this.isMenu ? select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n        ul.insertBefore(li, ul.children[idx]);\n      }\n    }\n  };\n\n  MenuBase.prototype.removeAttributes = function () {\n    var _this = this;\n\n    ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n      _this.element.style.removeProperty(key);\n    });\n    ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n      if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n        _this.element.classList.remove('e-menu-parent');\n      }\n\n      if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n        _this.element.removeAttribute(key);\n      }\n\n      if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n        _this.element.classList.remove('e-vertical');\n      }\n    });\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.destroy = function () {\n    var wrapper = this.getWrapper();\n\n    if (wrapper) {\n      this.unWireEvents();\n\n      if (!this.isMenu) {\n        this.clonedElement.style.display = '';\n\n        if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n          addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n          this.element = this.clonedElement;\n        } else {\n          if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n            this.setProperties({\n              'items': []\n            }, true);\n          }\n\n          if (document.getElementById(this.clonedElement.id)) {\n            var refEle = this.clonedElement.nextElementSibling;\n\n            if (refEle && refEle !== wrapper) {\n              this.clonedElement.parentElement.insertBefore(this.element, refEle);\n            } else {\n              this.clonedElement.parentElement.appendChild(this.element);\n            }\n\n            if (isBlazor() && !this.isMenu) {\n              this.element = this.removeChildElement(this.element);\n            } else {\n              this.element.innerHTML = '';\n            }\n\n            append([].slice.call(this.clonedElement.children), this.element);\n            detach(this.clonedElement);\n            this.removeAttributes();\n          }\n        }\n\n        this.clonedElement = null;\n      } else {\n        this.closeMenu();\n\n        if (isBlazor() && !this.isMenu) {\n          this.element = this.removeChildElement(this.element);\n        } else {\n          this.element.innerHTML = '';\n        }\n\n        this.removeAttributes();\n        wrapper.parentNode.insertBefore(this.element, wrapper);\n        this.clonedElement = null;\n      }\n\n      if (this.isMenu && this.clonedElement) {\n        detach(this.element);\n        wrapper.style.display = '';\n        wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n        wrapper.removeAttribute('data-ripple');\n      } else {\n        detach(wrapper);\n      }\n\n      _super.prototype.destroy.call(this);\n\n      if (this.template) {\n        this.clearTemplate(['template']);\n      }\n    }\n\n    this.rippleFn = null;\n  };\n\n  __decorate$2([Event()], MenuBase.prototype, \"beforeItemRender\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"beforeOpen\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"onOpen\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"beforeClose\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"onClose\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"select\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"created\", void 0);\n\n  __decorate$2([Property('')], MenuBase.prototype, \"cssClass\", void 0);\n\n  __decorate$2([Property(0)], MenuBase.prototype, \"hoverDelay\", void 0);\n\n  __decorate$2([Property(false)], MenuBase.prototype, \"showItemOnClick\", void 0);\n\n  __decorate$2([Property('')], MenuBase.prototype, \"target\", void 0);\n\n  __decorate$2([Property('')], MenuBase.prototype, \"filter\", void 0);\n\n  __decorate$2([Property(null)], MenuBase.prototype, \"template\", void 0);\n\n  __decorate$2([Property(false)], MenuBase.prototype, \"enableScrolling\", void 0);\n\n  __decorate$2([Property(false)], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$2([Complex({\n    itemId: 'id',\n    text: 'text',\n    parentId: 'parentId',\n    iconCss: 'iconCss',\n    url: 'url',\n    separator: 'separator',\n    children: 'items'\n  }, FieldSettings)], MenuBase.prototype, \"fields\", void 0);\n\n  __decorate$2([Collection([], MenuItem)], MenuBase.prototype, \"items\", void 0);\n\n  __decorate$2([Complex({\n    duration: 400,\n    easing: 'ease',\n    effect: 'SlideDown'\n  }, MenuAnimationSettings)], MenuBase.prototype, \"animationSettings\", void 0);\n\n  MenuBase = __decorate$2([NotifyPropertyChanges], MenuBase);\n  return MenuBase;\n}(Component);\n/**\n * Navigation Common modules\n */\n\n\nvar __extends$3 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL$2 = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE$2 = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR$1 = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\n\nvar Item =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(Item, _super);\n\n  function Item() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$3([Property('')], Item.prototype, \"id\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"text\", void 0);\n\n  __decorate$3([Property('auto')], Item.prototype, \"width\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"cssClass\", void 0);\n\n  __decorate$3([Property(false)], Item.prototype, \"showAlwaysInPopup\", void 0);\n\n  __decorate$3([Property(false)], Item.prototype, \"disabled\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"prefixIcon\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"suffixIcon\", void 0);\n\n  __decorate$3([Property(true)], Item.prototype, \"visible\", void 0);\n\n  __decorate$3([Property('None')], Item.prototype, \"overflow\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"template\", void 0);\n\n  __decorate$3([Property('Button')], Item.prototype, \"type\", void 0);\n\n  __decorate$3([Property('Both')], Item.prototype, \"showTextOn\", void 0);\n\n  __decorate$3([Property(null)], Item.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"tooltipText\", void 0);\n\n  __decorate$3([Property('Left')], Item.prototype, \"align\", void 0);\n\n  __decorate$3([Event()], Item.prototype, \"click\", void 0);\n\n  return Item;\n}(ChildProperty);\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\n\n\nvar Toolbar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(Toolbar, _super);\n  /**\n   * Initializes a new instance of the Toolbar class.\n   *\n   * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n   * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n   */\n\n\n  function Toolbar(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.resizeContext = _this.resize.bind(_this);\n    /**\n     * Contains the keyboard configuration of the Toolbar.\n     */\n\n    _this.keyConfigs = {\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      popupOpen: 'enter',\n      popupClose: 'escape',\n      tab: 'tab',\n      home: 'home',\n      end: 'end'\n    };\n    return _this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.destroy = function () {\n    var _this = this;\n\n    if (this.isReact || this.isAngular) {\n      this.clearTemplate();\n    }\n\n    var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n    [].slice.call(btnItems).forEach(function (el) {\n      if (!isNullOrUndefined(el) && !isNullOrUndefined(el.ej2_instances) && !isNullOrUndefined(el.ej2_instances[0]) && !el.ej2_instances[0].isDestroyed) {\n        el.ej2_instances[0].destroy();\n      }\n    });\n    this.unwireEvents();\n    this.tempId.forEach(function (ele) {\n      if (!isNullOrUndefined(_this.element.querySelector(ele))) {\n        document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n      }\n    });\n    this.destroyItems();\n\n    while (this.element.lastElementChild) {\n      this.element.removeChild(this.element.lastElementChild);\n    }\n\n    if (this.trgtEle) {\n      this.element.appendChild(this.ctrlTem);\n      this.trgtEle = null;\n      this.ctrlTem = null;\n    }\n\n    if (this.popObj) {\n      this.popObj.destroy();\n      detach(this.popObj.element);\n    }\n\n    if (this.activeEle) {\n      this.activeEle = null;\n    }\n\n    this.popObj = null;\n    this.tbarAlign = null;\n    this.tbarItemsCol = [];\n    this.remove(this.element, 'e-toolpop');\n\n    if (this.cssClass) {\n      removeClass([this.element], this.cssClass.split(' '));\n    }\n\n    this.element.removeAttribute('style');\n    ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n      return _this.element.removeAttribute(attrb);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Toolbar.prototype.preRender = function () {\n    var eventArgs = {\n      enableCollision: this.enableCollision,\n      scrollStep: this.scrollStep\n    };\n    this.trigger('beforeCreate', eventArgs);\n    this.enableCollision = eventArgs.enableCollision;\n    this.scrollStep = eventArgs.scrollStep;\n    this.scrollModule = null;\n    this.popObj = null;\n    this.tempId = [];\n    this.tbarItemsCol = this.items;\n    this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n    this.isExtendedOpen = false;\n    this.popupPriCount = 0;\n\n    if (this.enableRtl) {\n      this.add(this.element, CLS_RTL$2);\n    }\n  };\n\n  Toolbar.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n    window.addEventListener('resize', this.resizeContext);\n\n    if (this.allowKeyboard) {\n      this.wireKeyboardEvent();\n    }\n  };\n\n  Toolbar.prototype.wireKeyboardEvent = function () {\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n    EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n    this.element.setAttribute('tabIndex', '0');\n  };\n\n  Toolbar.prototype.unwireKeyboardEvent = function () {\n    if (this.keyModule) {\n      EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n      this.keyModule.destroy();\n      this.keyModule = null;\n    }\n  };\n\n  Toolbar.prototype.docKeyDown = function (e) {\n    if (e.target.tagName === 'INPUT') {\n      return;\n    }\n\n    var popCheck = !isNullOrUndefined(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n\n    if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n      this.popObj.hide({\n        name: 'FadeOut',\n        duration: 100\n      });\n    }\n\n    var keyCheck = e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36;\n\n    if (keyCheck) {\n      e.preventDefault();\n    }\n  };\n\n  Toolbar.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n    this.destroyScroll();\n    this.unwireKeyboardEvent();\n    window.removeEventListener('resize', this.resizeContext);\n    EventHandler.remove(document, 'scroll', this.docEvent);\n    EventHandler.remove(document, 'click', this.docEvent);\n  };\n\n  Toolbar.prototype.clearProperty = function () {\n    this.tbarEle = [];\n    this.tbarAlgEle = {\n      lefts: [],\n      centers: [],\n      rights: []\n    };\n  };\n\n  Toolbar.prototype.docEvent = function (e) {\n    var popEle = closest(e.target, '.e-popup');\n\n    if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n      this.popObj.hide({\n        name: 'FadeOut',\n        duration: 100\n      });\n    }\n  };\n\n  Toolbar.prototype.destroyScroll = function () {\n    if (this.scrollModule) {\n      if (this.tbarAlign) {\n        this.add(this.scrollModule.element, CLS_TBARPOS);\n      }\n\n      this.scrollModule.destroy();\n      this.scrollModule = null;\n    }\n  };\n\n  Toolbar.prototype.destroyItems = function () {\n    if (this.element) {\n      [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n        detach(el);\n      });\n    }\n\n    if (this.tbarAlign) {\n      var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n      [].slice.call(tbarItems.children).forEach(function (el) {\n        detach(el);\n      });\n      this.tbarAlign = false;\n      this.remove(tbarItems, CLS_TBARPOS);\n    }\n\n    this.clearProperty();\n  };\n\n  Toolbar.prototype.destroyMode = function () {\n    if (this.scrollModule) {\n      this.remove(this.scrollModule.element, CLS_RTL$2);\n      this.destroyScroll();\n    }\n\n    this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n    this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n    var tempEle = this.element.querySelector('.e-toolbar-multirow');\n\n    if (tempEle) {\n      this.remove(tempEle, CLS_MULTIROW);\n    }\n\n    if (this.popObj) {\n      this.popupRefresh(this.popObj.element, true);\n    }\n  };\n\n  Toolbar.prototype.add = function (ele, val) {\n    ele.classList.add(val);\n  };\n\n  Toolbar.prototype.remove = function (ele, val) {\n    ele.classList.remove(val);\n  };\n\n  Toolbar.prototype.elementFocus = function (ele) {\n    var fChild = ele.firstElementChild;\n\n    if (fChild) {\n      fChild.focus();\n      this.activeEleSwitch(ele);\n    } else {\n      ele.focus();\n    }\n  };\n\n  Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n    var clst;\n\n    if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n      clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n    } else if (this.element === trgt || tbrNavChk) {\n      clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n    } else {\n      clst = closest(trgt, '.' + CLS_ITEM);\n    }\n\n    return clst;\n  };\n\n  Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n    var popObj = this.popObj;\n    var rootEle = this.element;\n    var popAnimate = {\n      name: 'FadeOut',\n      duration: 100\n    };\n    var value = e.action === 'moveUp' ? 'previous' : 'next';\n    var ele;\n    var nodes;\n\n    switch (e.action) {\n      case 'moveRight':\n        if (this.isVertical) {\n          return;\n        }\n\n        if (rootEle === trgt) {\n          this.elementFocus(clst);\n        } else if (!navChk) {\n          this.eleFocus(clst, 'next');\n        }\n\n        break;\n\n      case 'moveLeft':\n        if (this.isVertical) {\n          return;\n        }\n\n        if (!navChk) {\n          this.eleFocus(clst, 'previous');\n        }\n\n        break;\n\n      case 'home':\n      case 'end':\n        if (clst) {\n          var popupCheck = closest(clst, '.e-popup');\n          var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n\n          if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n            popupCheck = e.action === 'end' ? extendedPopup : null;\n          }\n\n          if (popupCheck) {\n            if (isVisible(this.popObj.element)) {\n              nodes = [].slice.call(popupCheck.children);\n\n              if (e.action === 'home') {\n                ele = nodes[0];\n              } else {\n                ele = nodes[nodes.length - 1];\n              }\n            }\n          } else {\n            nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n\n            if (e.action === 'home') {\n              ele = nodes[0];\n            } else {\n              ele = nodes[nodes.length - 1];\n            }\n          }\n\n          if (ele) {\n            this.elementFocus(ele);\n          }\n        }\n\n        break;\n\n      case 'moveUp':\n      case 'moveDown':\n        if (!this.isVertical) {\n          if (popObj && closest(trgt, '.e-popup')) {\n            var popEle = popObj.element;\n            var popFrstEle = popEle.firstElementChild;\n\n            if (value === 'previous' && popFrstEle === clst || value === 'next' && popEle.lastElementChild === clst) {\n              return;\n            } else {\n              this.eleFocus(clst, value);\n            }\n          } else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n            this.elementFocus(clst);\n          }\n        } else {\n          if (e.action === 'moveUp') {\n            this.eleFocus(clst, 'previous');\n          } else {\n            this.eleFocus(clst, 'next');\n          }\n        }\n\n        break;\n\n      case 'tab':\n        if (!scrollChk && !navChk) {\n          var ele_1 = clst.firstElementChild;\n\n          if (rootEle === trgt) {\n            if (this.activeEle) {\n              this.activeEle.focus();\n            } else {\n              this.activeEleRemove(ele_1);\n              ele_1.focus();\n            }\n\n            this.element.removeAttribute('tabindex');\n          }\n        }\n\n        break;\n\n      case 'popupClose':\n        if (popObj && this.overflowMode !== 'Extended') {\n          popObj.hide(popAnimate);\n        }\n\n        break;\n\n      case 'popupOpen':\n        if (!navChk) {\n          return;\n        }\n\n        if (popObj && !isVisible(popObj.element)) {\n          popObj.element.style.top = rootEle.offsetHeight + 'px';\n          popObj.show({\n            name: 'FadeIn',\n            duration: 100\n          });\n        } else {\n          popObj.hide(popAnimate);\n        }\n\n        break;\n    }\n  };\n\n  Toolbar.prototype.keyActionHandler = function (e) {\n    var trgt = e.target;\n\n    if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE$2)) {\n      return;\n    }\n\n    e.preventDefault();\n    var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n    var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n    var clst = this.clstElement(tbrNavChk, trgt);\n\n    if (clst || tbarScrollChk) {\n      this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n    }\n  };\n  /**\n   * Specifies the value to disable/enable the Toolbar component.\n   * When set to `true`, the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.disable = function (value) {\n    var rootEle = this.element;\n\n    if (value) {\n      rootEle.classList.add(CLS_DISABLE$2);\n    } else {\n      rootEle.classList.remove(CLS_DISABLE$2);\n    }\n\n    rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n\n    if (this.activeEle) {\n      this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n    }\n\n    if (this.scrollModule) {\n      this.scrollModule.disable(value);\n    }\n\n    if (this.popObj) {\n      if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n        this.popObj.hide();\n      }\n\n      rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n    }\n  };\n\n  Toolbar.prototype.eleContains = function (el) {\n    return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE$2) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n  };\n\n  Toolbar.prototype.eleFocus = function (closest$$1, pos) {\n    var sib = Object(closest$$1)[pos + 'ElementSibling'];\n\n    if (sib) {\n      var skipEle = this.eleContains(sib);\n\n      if (skipEle) {\n        this.eleFocus(sib, pos);\n        return;\n      }\n\n      this.elementFocus(sib);\n    } else if (this.tbarAlign) {\n      var elem = Object(closest$$1.parentElement)[pos + 'ElementSibling'];\n\n      if (!isNullOrUndefined(elem) && elem.children.length === 0) {\n        elem = Object(elem)[pos + 'ElementSibling'];\n      }\n\n      if (!isNullOrUndefined(elem) && elem.children.length > 0) {\n        if (pos === 'next') {\n          var el = elem.querySelector('.' + CLS_ITEM);\n\n          if (this.eleContains(el)) {\n            this.eleFocus(el, pos);\n          } else {\n            el.firstElementChild.focus();\n            this.activeEleSwitch(el);\n          }\n        } else {\n          var el = elem.lastElementChild;\n\n          if (this.eleContains(el)) {\n            this.eleFocus(el, pos);\n          } else {\n            this.elementFocus(el);\n          }\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.clickHandler = function (e) {\n    var _this = this;\n\n    var trgt = e.target;\n    var ele = this.element;\n    var isPopupElement = !isNullOrUndefined(closest(trgt, '.' + CLS_POPUPCLASS));\n    var clsList = trgt.classList;\n    var popupNav = closest(trgt, '.' + CLS_TBARNAV);\n\n    if (!popupNav) {\n      popupNav = trgt;\n    }\n\n    if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll') && clsList.contains(CLS_TBARNAV)) {\n      clsList = trgt.querySelector('.e-icons').classList;\n    }\n\n    if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n      this.popupClickHandler(ele, popupNav, CLS_RTL$2);\n    }\n\n    var itemObj;\n    var clst = closest(e.target, '.' + CLS_ITEM);\n\n    if ((isNullOrUndefined(clst) || clst.classList.contains(CLS_DISABLE$2)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n      return;\n    }\n\n    if (clst) {\n      var tempItem = this.items[this.tbarEle.indexOf(clst)];\n      itemObj = tempItem;\n    }\n\n    var eventArgs = {\n      originalEvent: e,\n      item: itemObj\n    };\n\n    if (itemObj && !isNullOrUndefined(itemObj.click)) {\n      this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n    }\n\n    if (!eventArgs.cancel) {\n      this.trigger('clicked', eventArgs, function (clickedArgs) {\n        if (!isNullOrUndefined(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' && clickedArgs.item && clickedArgs.item.type !== 'Input') {\n          _this.popObj.hide({\n            name: 'FadeOut',\n            duration: 100\n          });\n        }\n      });\n    }\n  };\n\n  Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n    var popObj = this.popObj;\n\n    if (isVisible(popObj.element)) {\n      popupNav.classList.remove(CLS_TBARNAVACT);\n      popObj.hide({\n        name: 'FadeOut',\n        duration: 100\n      });\n    } else {\n      if (ele.classList.contains(CLS_RTL)) {\n        popObj.enableRtl = true;\n        popObj.position = {\n          X: 'left',\n          Y: 'top'\n        };\n      }\n\n      if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n        popObj.enableRtl = false;\n        popObj.position = {\n          X: 'right',\n          Y: 'top'\n        };\n      }\n\n      popObj.dataBind();\n      popObj.refreshPosition();\n      popObj.element.style.top = this.getElementOffsetY() + 'px';\n\n      if (this.overflowMode === 'Extended') {\n        popObj.element.style.minHeight = '0px';\n      }\n\n      popupNav.classList.add(CLS_TBARNAVACT);\n      popObj.show({\n        name: 'FadeIn',\n        duration: 100\n      });\n    }\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Toolbar.prototype.render = function () {\n    this.initialize();\n    this.renderControl();\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Toolbar.prototype.initialize = function () {\n    var width = formatUnit(this.width);\n    var height = formatUnit(this.height);\n\n    if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n      setStyleAttribute(this.element, {\n        'height': height\n      });\n    }\n\n    setStyleAttribute(this.element, {\n      'width': width\n    });\n    var ariaAttr = {\n      'role': 'toolbar',\n      'aria-disabled': 'false',\n      'aria-haspopup': 'false',\n      'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n    };\n    attributes(this.element, ariaAttr);\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n  };\n\n  Toolbar.prototype.renderControl = function () {\n    var ele = this.element;\n    this.trgtEle = ele.children.length > 0 ? ele.querySelector('div') : null;\n    this.tbarAlgEle = {\n      lefts: [],\n      centers: [],\n      rights: []\n    };\n    this.renderItems();\n    this.renderLayout();\n  };\n\n  Toolbar.prototype.renderLayout = function () {\n    this.renderOverflowMode();\n\n    if (this.tbarAlign) {\n      this.itemPositioning();\n    }\n\n    if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n      this.popupRefresh(this.popObj.element, false);\n    }\n\n    this.separator();\n  };\n\n  Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n    var innerItem;\n    var innerPos;\n\n    if (!this.tbarEle) {\n      this.tbarEle = [];\n    }\n\n    for (var i = 0; i < items.length; i++) {\n      innerItem = this.renderSubComponent(items[i], i);\n\n      if (this.tbarEle.indexOf(innerItem) === -1) {\n        this.tbarEle.push(innerItem);\n      }\n\n      if (!this.tbarAlign) {\n        this.tbarItemAlign(items[i], itemEleDom, i);\n      }\n\n      innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n\n      if (innerPos) {\n        if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n          this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n        }\n\n        innerPos.appendChild(innerItem);\n      } else {\n        itemEleDom.appendChild(innerItem);\n      }\n    }\n\n    if (this.isReact) {\n      var portals = 'portals';\n      this.notify('render-react-toolbar-template', this[portals]);\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * @hidden\n   * @returns {void}\n   */\n\n\n  Toolbar.prototype.changeOrientation = function () {\n    var ele = this.element;\n\n    if (this.isVertical) {\n      ele.classList.remove(CLS_VERTICAL);\n      this.isVertical = false;\n\n      if (this.height === 'auto' || this.height === '100%') {\n        ele.style.height = this.height;\n      }\n\n      ele.setAttribute('aria-orientation', 'horizontal');\n    } else {\n      ele.classList.add(CLS_VERTICAL);\n      this.isVertical = true;\n      ele.setAttribute('aria-orientation', 'vertical');\n      setStyleAttribute(this.element, {\n        'height': formatUnit(this.height),\n        'width': formatUnit(this.width)\n      });\n    }\n\n    this.destroyMode();\n    this.refreshOverflow();\n  };\n\n  Toolbar.prototype.initScroll = function (element, innerItems) {\n    if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n      if (this.tbarAlign) {\n        this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n      }\n\n      if (this.isVertical) {\n        this.scrollModule = new VScroll({\n          scrollStep: this.scrollStep,\n          enableRtl: this.enableRtl\n        }, innerItems[0]);\n      } else {\n        this.scrollModule = new HScroll({\n          scrollStep: this.scrollStep,\n          enableRtl: this.enableRtl\n        }, innerItems[0]);\n      }\n\n      if (this.cssClass) {\n        addClass([innerItems[0]], this.cssClass.split(' '));\n      }\n\n      this.remove(this.scrollModule.element, CLS_TBARPOS);\n      setStyleAttribute(this.element, {\n        overflow: 'hidden'\n      });\n    }\n  };\n\n  Toolbar.prototype.itemWidthCal = function (items) {\n    var _this = this;\n\n    var width = 0;\n    var style;\n    [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n      if (isVisible(el)) {\n        style = window.getComputedStyle(el);\n        width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n        width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n        width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n      }\n    });\n    return width;\n  };\n\n  Toolbar.prototype.getScrollCntEle = function (innerItem) {\n    var trgClass = this.isVertical ? '.e-vscroll-content' : '.e-hscroll-content';\n    return innerItem.querySelector(trgClass);\n  };\n\n  Toolbar.prototype.checkOverflow = function (element, innerItem) {\n    if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) {\n      return false;\n    }\n\n    var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n    var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n\n    if (this.tbarAlign || this.scrollModule || eleWidth === itemWidth) {\n      itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n    }\n\n    var popNav = element.querySelector('.' + CLS_TBARNAV);\n    var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n    var navEleWidth = 0;\n\n    if (popNav) {\n      navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n    } else if (scrollNav) {\n      navEleWidth = this.isVertical ? scrollNav.offsetHeight * 2 : scrollNav.offsetWidth * 2;\n    }\n\n    if (itemWidth > eleWidth - navEleWidth) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  /**\n   * Refresh the whole Toolbar component without re-rendering.\n   * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n   * - It will refresh the Toolbar component after loading items dynamically.\n   *\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.refreshOverflow = function () {\n    this.resize();\n  };\n\n  Toolbar.prototype.toolbarAlign = function (innerItems) {\n    if (this.tbarAlign) {\n      this.add(innerItems, CLS_TBARPOS);\n      this.itemPositioning();\n    }\n  };\n\n  Toolbar.prototype.renderOverflowMode = function () {\n    var ele = this.element;\n    var innerItems = ele.querySelector('.' + CLS_ITEMS);\n    var priorityCheck = this.popupPriCount > 0;\n\n    if (ele && ele.children.length > 0) {\n      this.offsetWid = ele.offsetWidth;\n      this.remove(this.element, 'e-toolpop');\n\n      if (Browser.info.name === 'msie' && this.height === 'auto') {\n        ele.style.height = '';\n      }\n\n      switch (this.overflowMode) {\n        case 'Scrollable':\n          if (isNullOrUndefined(this.scrollModule)) {\n            this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n          }\n\n          break;\n\n        case 'Popup':\n          this.add(this.element, 'e-toolpop');\n\n          if (this.tbarAlign) {\n            this.removePositioning();\n          }\n\n          if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n            this.setOverflowAttributes(ele);\n          }\n\n          this.toolbarAlign(innerItems);\n          break;\n\n        case 'MultiRow':\n          this.add(innerItems, CLS_MULTIROW);\n\n          if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n            this.removePositioning();\n            this.add(innerItems, CLS_MULTIROWPOS);\n          }\n\n          if (ele.style.overflow === 'hidden') {\n            ele.style.overflow = '';\n          }\n\n          if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n            ele.style.height = 'auto';\n          }\n\n          break;\n\n        case 'Extended':\n          this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n\n          if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n            if (this.tbarAlign) {\n              this.removePositioning();\n            }\n\n            this.setOverflowAttributes(ele);\n          }\n\n          this.toolbarAlign(innerItems);\n      }\n    }\n  };\n\n  Toolbar.prototype.setOverflowAttributes = function (ele) {\n    this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n    this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n    this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n  };\n\n  Toolbar.prototype.separator = function () {\n    var element = this.element;\n    var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n    var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n    var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n    var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n\n    if (eleInlineItem !== null) {\n      if (this.overflowMode === 'MultiRow') {\n        eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n      } else if (this.overflowMode === 'Extended') {\n        eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n      }\n    }\n\n    for (var i = 0; i <= eleItem.length - 1; i++) {\n      if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n        if (this.overflowMode === 'MultiRow') {\n          eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n        } else if (this.overflowMode === 'Extended') {\n          eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n    var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n    var vertical = this.isVertical;\n\n    if (!innerNav) {\n      this.createPopupIcon(ele);\n    }\n\n    innerNav = ele.querySelector('.' + CLS_TBARNAV);\n    var innerNavDom = vertical ? innerNav.offsetHeight : innerNav.offsetWidth;\n    var eleWidth = (vertical ? ele.offsetHeight : ele.offsetWidth) - innerNavDom;\n    this.element.classList.remove('e-rtl');\n    setStyleAttribute(this.element, {\n      direction: 'initial'\n    });\n    this.checkPriority(ele, innerEle, eleWidth, true);\n\n    if (this.enableRtl) {\n      this.element.classList.add('e-rtl');\n    }\n\n    this.element.style.removeProperty('direction');\n    this.createPopup();\n  };\n\n  Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n    var element = tbarObj.element;\n    var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n    var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n    var nodeIndex = 0;\n    var nodePri = 0;\n    poppedEle.forEach(function (el, index) {\n      nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n\n      if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n        if (tbarObj.tbResize && nodes.length > index) {\n          ele.insertBefore(el, nodes[index]);\n          ++nodePri;\n        } else {\n          ele.insertBefore(el, ele.children[nodes.length]);\n          ++nodePri;\n        }\n      } else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n        ele.insertBefore(el, ele.firstChild);\n        ++nodePri;\n      } else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n        ele.insertBefore(el, ele.firstChild);\n        ++nodePri;\n      } else if (el.classList.contains(CLS_POPOVERFLOW)) {\n        popupPri.push(el);\n      } else if (tbarObj.tbResize) {\n        ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n        ++nodeIndex;\n      } else {\n        ele.appendChild(el);\n      }\n\n      if (el.classList.contains(CLS_SEPARATOR)) {\n        setStyleAttribute(el, {\n          display: '',\n          height: sepHeight + 'px'\n        });\n      } else {\n        setStyleAttribute(el, {\n          display: '',\n          height: eleHeight + 'px'\n        });\n      }\n    });\n    popupPri.forEach(function (el) {\n      ele.appendChild(el);\n    });\n    var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n\n    for (var i = tbarEle.length - 1; i >= 0; i--) {\n      var tbarElement = tbarEle[i];\n\n      if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n        setStyleAttribute(tbarElement, {\n          display: 'none'\n        });\n      } else {\n        break;\n      }\n    }\n  };\n\n  Toolbar.prototype.createPopup = function () {\n    var element = this.element;\n    var sepHeight;\n    var sepItem;\n\n    if (this.overflowMode === 'Extended') {\n      sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n      sepHeight = element.style.height === 'auto' || element.style.height === '' ? null : sepItem.offsetHeight;\n    }\n\n    var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n    var eleHeight = element.style.height === 'auto' || element.style.height === '' ? null : eleItem && eleItem.offsetHeight;\n    var ele;\n    var popupPri = [];\n\n    if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n      ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n    } else {\n      var extendEle = this.createElement('div', {\n        id: element.id + '_popup',\n        className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n      });\n      var popupEle = this.createElement('div', {\n        id: element.id + '_popup',\n        className: CLS_POPUPCLASS\n      });\n      ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n    }\n\n    this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n    this.popupInit(element, ele);\n  };\n\n  Toolbar.prototype.getElementOffsetY = function () {\n    return this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ? this.element.clientHeight : this.element.offsetHeight;\n  };\n\n  Toolbar.prototype.popupInit = function (element, ele) {\n    if (!this.popObj) {\n      element.appendChild(ele);\n\n      if (this.cssClass) {\n        addClass([ele], this.cssClass.split(' '));\n      }\n\n      setStyleAttribute(this.element, {\n        overflow: ''\n      });\n      var eleStyles = window.getComputedStyle(this.element);\n      var popup = new Popup(null, {\n        relateTo: this.element,\n        offsetY: this.isVertical ? 0 : this.getElementOffsetY(),\n        enableRtl: this.enableRtl,\n        open: this.popupOpen.bind(this),\n        close: this.popupClose.bind(this),\n        collision: {\n          Y: this.enableCollision ? 'flip' : 'none'\n        },\n        position: this.enableRtl ? {\n          X: 'left',\n          Y: 'top'\n        } : {\n          X: 'right',\n          Y: 'top'\n        }\n      });\n      popup.appendTo(ele);\n\n      if (this.overflowMode === 'Extended') {\n        popup.width = parseFloat(eleStyles.width) + parseFloat(eleStyles.borderRightWidth) * 2;\n        popup.offsetX = 0;\n      }\n\n      EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n      EventHandler.add(document, 'click ', this.docEvent.bind(this));\n      popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n\n      if (this.isVertical) {\n        popup.element.style.visibility = 'hidden';\n      }\n\n      if (this.isExtendedOpen) {\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n      } else {\n        popup.hide();\n      }\n\n      this.popObj = popup;\n      this.element.setAttribute('aria-haspopup', 'true');\n    } else {\n      var popupEle = this.popObj.element;\n      setStyleAttribute(popupEle, {\n        maxHeight: '',\n        display: 'block'\n      });\n      setStyleAttribute(popupEle, {\n        maxHeight: popupEle.offsetHeight + 'px',\n        display: ''\n      });\n    }\n  };\n\n  Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n    if (this.overflowMode === 'Extended') {\n      if (isOpen) {\n        this.add(this.element, CLS_EXTENDEDPOPOPEN);\n      } else {\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n      }\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Toolbar.prototype.popupOpen = function (e) {\n    var popObj = this.popObj;\n\n    if (!this.isVertical) {\n      popObj.offsetY = this.getElementOffsetY();\n      popObj.dataBind();\n    }\n\n    var popupEle = this.popObj.element;\n    var toolEle = this.popObj.element.parentElement;\n    var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n    setStyleAttribute(popObj.element, {\n      height: 'auto',\n      maxHeight: ''\n    });\n    popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n\n    if (this.overflowMode === 'Extended') {\n      popObj.element.style.minHeight = '';\n    }\n\n    var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n    var popIcon = popupNav.firstElementChild;\n    popupNav.classList.add(CLS_TBARNAVACT);\n    classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n    this.tbarPopupHandler(true);\n    var scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;\n\n    if (!this.isVertical && window.innerHeight + scrollVal < popupElePos && this.element.offsetTop < popupEle.offsetHeight) {\n      var overflowHeight = popupEle.offsetHeight - (popupElePos - window.innerHeight - scrollVal + 5);\n      popObj.height = overflowHeight + 'px';\n\n      for (var i = 0; i <= popupEle.childElementCount; i++) {\n        var ele = popupEle.children[i];\n\n        if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n          overflowHeight = ele.offsetTop;\n          break;\n        }\n      }\n\n      setStyleAttribute(popObj.element, {\n        maxHeight: overflowHeight + 'px'\n      });\n    } else if (this.isVertical) {\n      var tbEleData = this.element.getBoundingClientRect();\n      setStyleAttribute(popObj.element, {\n        maxHeight: tbEleData.top + this.element.offsetHeight + 'px',\n        bottom: 0,\n        visibility: ''\n      });\n    }\n\n    if (popObj) {\n      var popupOffset = popupEle.getBoundingClientRect();\n\n      if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n        popObj.collision = {\n          Y: 'none'\n        };\n        popObj.dataBind();\n      }\n\n      popObj.refreshPosition();\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Toolbar.prototype.popupClose = function (e) {\n    var element = this.element;\n    var popupNav = element.querySelector('.' + CLS_TBARNAV);\n    var popIcon = popupNav.firstElementChild;\n    popupNav.classList.remove(CLS_TBARNAVACT);\n    classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n    this.tbarPopupHandler(false);\n  };\n\n  Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n    var popPriority = this.popupPriCount > 0;\n    var len = inEle.length;\n    var eleWid = eleWidth;\n    var eleOffset;\n    var checkoffset;\n    var sepCheck = 0;\n    var itemCount = 0;\n    var itemPopCount = 0;\n\n    var checkClass = function (ele, val) {\n      var rVal = false;\n      val.forEach(function (cls) {\n        if (ele.classList.contains(cls)) {\n          rVal = true;\n        }\n      });\n      return rVal;\n    };\n\n    for (var i = len - 1; i >= 0; i--) {\n      var mrgn = void 0;\n      var compuStyle = window.getComputedStyle(inEle[i]);\n\n      if (this.isVertical) {\n        mrgn = parseFloat(compuStyle.marginTop);\n        mrgn += parseFloat(compuStyle.marginBottom);\n      } else {\n        mrgn = parseFloat(compuStyle.marginRight);\n        mrgn += parseFloat(compuStyle.marginLeft);\n      }\n\n      var fstEleCheck = inEle[i] === this.tbarEle[0];\n\n      if (fstEleCheck) {\n        this.tbarEleMrgn = mrgn;\n      }\n\n      eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n      var eleWid_1 = fstEleCheck ? eleOffset + mrgn : eleOffset;\n\n      if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n        inEle[i].classList.add(CLS_POPUP);\n\n        if (this.isVertical) {\n          setStyleAttribute(inEle[i], {\n            display: 'none',\n            minHeight: eleWid_1 + 'px'\n          });\n        } else {\n          setStyleAttribute(inEle[i], {\n            display: 'none',\n            minWidth: eleWid_1 + 'px'\n          });\n        }\n\n        itemPopCount++;\n      }\n\n      if (this.isVertical) {\n        checkoffset = inEle[i].offsetTop + inEle[i].offsetHeight + mrgn > eleWidth;\n      } else {\n        checkoffset = inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn > eleWidth;\n      }\n\n      if (checkoffset) {\n        if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n          if (this.overflowMode === 'Extended') {\n            if (itemCount === itemPopCount) {\n              var sepEle = inEle[i];\n\n              if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                inEle[i].classList.add(CLS_POPUP);\n                itemPopCount++;\n              }\n            }\n\n            itemCount++;\n          } else if (this.overflowMode === 'Popup') {\n            if (sepCheck > 0 && itemCount === itemPopCount) {\n              var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n\n              if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                setStyleAttribute(sepEle, {\n                  display: 'none'\n                });\n              }\n            }\n\n            sepCheck++;\n            itemCount = 0;\n            itemPopCount = 0;\n          }\n        } else {\n          itemCount++;\n        }\n\n        if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n          eleWidth -= (this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + mrgn;\n        } else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n          inEle[i].classList.add(CLS_POPUP);\n\n          if (this.isVertical) {\n            setStyleAttribute(inEle[i], {\n              display: 'none',\n              minHeight: eleWid_1 + 'px'\n            });\n          } else {\n            setStyleAttribute(inEle[i], {\n              display: 'none',\n              minWidth: eleWid_1 + 'px'\n            });\n          }\n\n          itemPopCount++;\n        } else {\n          eleWidth -= (this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + mrgn;\n        }\n      }\n    }\n\n    if (pre) {\n      var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n      this.checkPriority(ele, popedEle, eleWid, false);\n    }\n  };\n\n  Toolbar.prototype.createPopupIcon = function (element) {\n    var id = element.id.concat('_nav');\n    var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n    className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n    var nav = this.createElement('div', {\n      id: id,\n      className: className\n    });\n\n    if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n      nav.classList.add('e-ie-align');\n    }\n\n    var navItem = this.createElement('div', {\n      className: CLS_POPUPDOWN + ' e-icons'\n    });\n    nav.appendChild(navItem);\n    nav.setAttribute('tabindex', '0');\n    nav.setAttribute('role', 'list');\n    element.appendChild(nav);\n  };\n\n  Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n    var ignoreCount = ig;\n    var popEle = this.popObj.element;\n    var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n    var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n\n    var checkClass = function (ele, val) {\n      return ele.classList.contains(val);\n    };\n\n    if (selectAll(query, inEle).length === 0) {\n      var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n      var ignoreCheck = !isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_TBARIGNORE);\n\n      if (!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep) || ignoreCheck) {\n        var sepDisplay = 'none';\n        eleSep.style.display = 'inherit';\n        var eleSepWidth = eleSep.offsetWidth + parseFloat(window.getComputedStyle(eleSep).marginRight) * 2;\n        var prevSep = eleSep.previousElementSibling;\n\n        if (elWid + eleSepWidth < wid || des) {\n          inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);\n\n          if (!isNullOrUndefined(prevSep)) {\n            prevSep.style.display = '';\n          }\n        } else {\n          if (prevSep.classList.contains(CLS_SEPARATOR)) {\n            prevSep.style.display = sepDisplay;\n          }\n        }\n\n        eleSep.style.display = '';\n      } else {\n        inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);\n      }\n    } else {\n      inEle.insertBefore(el, inEle.children[indx + ignoreCount - priEleCnt]);\n    }\n  };\n\n  Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n    var _this = this;\n\n    var ele = this.element;\n    var isVer = this.isVertical;\n    var innerEle = ele.querySelector('.' + CLS_ITEMS);\n    var popNav = ele.querySelector('.' + CLS_TBARNAV);\n\n    if (isNullOrUndefined(popNav)) {\n      return;\n    }\n\n    innerEle.removeAttribute('style');\n    popupEle.style.display = 'block';\n    var dimension;\n\n    if (isVer) {\n      dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n    } else {\n      dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n    }\n\n    var popupEleWidth = 0;\n    [].slice.call(popupEle.children).forEach(function (el) {\n      popupEleWidth += _this.popupEleWidth(el);\n      setStyleAttribute(el, {\n        'position': ''\n      });\n    });\n\n    if (dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth) > popupEleWidth && this.popupPriCount === 0) {\n      destroy = true;\n    }\n\n    this.popupEleRefresh(dimension, popupEle, destroy);\n    popupEle.style.display = '';\n\n    if (popupEle.children.length === 0 && popNav && this.popObj) {\n      detach(popNav);\n      popNav = null;\n      this.popObj.destroy();\n      detach(this.popObj.element);\n      this.popObj = null;\n      ele.setAttribute('aria-haspopup', 'false');\n    }\n  };\n\n  Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n    var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n    var ignoreInx = [];\n    var count = 0;\n\n    if (ignoreEle.length > 0) {\n      ignoreEle.forEach(function (ele) {\n        ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n      });\n    } else {\n      return 0;\n    }\n\n    ignoreInx.forEach(function (val) {\n      if (val <= index) {\n        count++;\n      }\n    });\n    return count;\n  };\n\n  Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n    popEle.style.display = 'block';\n    var elWid = this.popupEleWidth(popEle.firstElementChild);\n    popEle.firstElementChild.style.removeProperty('Position');\n    var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n    var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n    popEle.style.removeProperty('display');\n\n    if (tbarWidth > elWid + tbarItemsWid) {\n      return true;\n    }\n\n    return false;\n  };\n\n  Toolbar.prototype.popupEleWidth = function (el) {\n    el.style.position = 'absolute';\n    var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n    var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n\n    if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n      var btn = el.children[0];\n\n      if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n        btnText.style.display = 'none';\n      } else if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n        btnText.style.display = 'block';\n      }\n\n      btn.style.minWidth = '0%';\n      elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n      btn.style.minWidth = '';\n      btn.style.minHeight = '';\n\n      if (!isNullOrUndefined(btnText)) {\n        btnText.style.display = '';\n      }\n    }\n\n    return elWidth;\n  };\n\n  Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n    var popPriority = this.popupPriCount > 0;\n    var eleSplice = this.tbarEle;\n    var priEleCnt;\n    var index;\n    var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n    var ignoreCount = 0;\n\n    var _loop_1 = function (el) {\n      if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n        return \"continue\";\n      }\n\n      var elWidth = this_1.popupEleWidth(el);\n\n      if (el === this_1.tbarEle[0]) {\n        elWidth += this_1.tbarEleMrgn;\n      }\n\n      el.style.position = '';\n\n      if (elWidth < width || destroy) {\n        setStyleAttribute(el, {\n          minWidth: '',\n          height: '',\n          minHeight: ''\n        });\n\n        if (!el.classList.contains(CLS_POPOVERFLOW)) {\n          el.classList.remove(CLS_POPUP);\n        }\n\n        index = this_1.tbarEle.indexOf(el);\n\n        if (this_1.tbarAlign) {\n          var pos = this_1.items[index].align;\n          index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n          eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n          innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n        }\n\n        var sepBeforePri_1 = 0;\n\n        if (this_1.overflowMode !== 'Extended') {\n          eleSplice.slice(0, index).forEach(function (el) {\n            if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n              if (el.classList.contains(CLS_SEPARATOR)) {\n                el.style.display = '';\n                width -= el.offsetWidth;\n              }\n\n              sepBeforePri_1++;\n            }\n          });\n        }\n\n        ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n\n        if (el.classList.contains(CLS_TBAROVERFLOW)) {\n          this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n          width -= el.offsetWidth;\n        } else if (index === 0) {\n          innerEle.insertBefore(el, innerEle.firstChild);\n          width -= el.offsetWidth;\n        } else {\n          priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n          innerEle.insertBefore(el, innerEle.children[index + ignoreCount - priEleCnt]);\n          width -= el.offsetWidth;\n        }\n\n        el.style.height = '';\n      } else {\n        return \"break\";\n      }\n    };\n\n    var this_1 = this;\n\n    for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n      var el = _a[_i];\n\n      var state_1 = _loop_1(el);\n\n      if (state_1 === \"break\") break;\n    }\n\n    var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n\n    if (checkOverflow && !destroy) {\n      this.renderOverflowMode();\n    }\n  };\n\n  Toolbar.prototype.removePositioning = function () {\n    var item = this.element.querySelector('.' + CLS_ITEMS);\n\n    if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n      return;\n    }\n\n    this.remove(item, CLS_TBARPOS);\n    var innerItem = [].slice.call(item.childNodes);\n    innerItem[1].removeAttribute('style');\n    innerItem[2].removeAttribute('style');\n  };\n\n  Toolbar.prototype.refreshPositioning = function () {\n    var item = this.element.querySelector('.' + CLS_ITEMS);\n    this.add(item, CLS_TBARPOS);\n    this.itemPositioning();\n  };\n\n  Toolbar.prototype.itemPositioning = function () {\n    var item = this.element.querySelector('.' + CLS_ITEMS);\n    var margin;\n\n    if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n      return;\n    }\n\n    var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n    var innerItem;\n\n    if (this.scrollModule) {\n      var trgClass = this.isVertical ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n      innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n    } else {\n      innerItem = [].slice.call(item.childNodes);\n    }\n\n    if (this.isVertical) {\n      margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n    } else {\n      margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n    }\n\n    var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n\n    if (popupNav) {\n      tbarWid -= this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth;\n      var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n      innerItem[2].removeAttribute('style');\n\n      if (this.isVertical) {\n        if (this.enableRtl) {\n          innerItem[2].style.top = popWid;\n        } else {\n          innerItem[2].style.bottom = popWid;\n        }\n      } else {\n        if (this.enableRtl) {\n          innerItem[2].style.left = popWid;\n        } else {\n          innerItem[2].style.right = popWid;\n        }\n      }\n    }\n\n    if (tbarWid <= margin) {\n      return;\n    }\n\n    var value = (tbarWid - margin - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n    innerItem[1].removeAttribute('style');\n    var mrgn = (!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value + 'px';\n\n    if (this.isVertical) {\n      if (this.enableRtl) {\n        innerItem[1].style.marginBottom = mrgn;\n      } else {\n        innerItem[1].style.marginTop = mrgn;\n      }\n    } else {\n      if (this.enableRtl) {\n        innerItem[1].style.marginRight = mrgn;\n      } else {\n        innerItem[1].style.marginLeft = mrgn;\n      }\n    }\n  };\n\n  Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n    var _this = this;\n\n    if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n      return;\n    }\n\n    var alignDiv = [];\n    alignDiv.push(this.createElement('div', {\n      className: CLS_TBARLEFT\n    }));\n    alignDiv.push(this.createElement('div', {\n      className: CLS_TBARCENTER\n    }));\n    alignDiv.push(this.createElement('div', {\n      className: CLS_TBARRIGHT\n    }));\n\n    if (pos === 0 && item.align !== 'Left') {\n      alignDiv.forEach(function (ele) {\n        itemEle.appendChild(ele);\n      });\n      this.tbarAlign = true;\n      this.add(itemEle, CLS_TBARPOS);\n    } else if (item.align !== 'Left') {\n      var alignEle = itemEle.childNodes;\n      var leftAlign_1 = alignDiv[0];\n      [].slice.call(alignEle).forEach(function (el) {\n        _this.tbarAlgEle.lefts.push(el);\n\n        leftAlign_1.appendChild(el);\n      });\n      itemEle.appendChild(leftAlign_1);\n      itemEle.appendChild(alignDiv[1]);\n      itemEle.appendChild(alignDiv[2]);\n      this.tbarAlign = true;\n      this.add(itemEle, CLS_TBARPOS);\n    }\n  };\n\n  Toolbar.prototype.ctrlTemplate = function () {\n    var _this = this;\n\n    this.ctrlTem = this.trgtEle.cloneNode(true);\n    this.add(this.trgtEle, CLS_ITEMS);\n    this.tbarEle = [];\n    var innerEle = [].slice.call(this.trgtEle.children);\n    innerEle.forEach(function (ele) {\n      if (ele.tagName === 'DIV') {\n        _this.tbarEle.push(ele);\n\n        ele.setAttribute('aria-disabled', 'false');\n\n        _this.add(ele, CLS_ITEM);\n      }\n    });\n  };\n\n  Toolbar.prototype.renderItems = function () {\n    var ele = this.element;\n    var items = this.items;\n\n    if (this.trgtEle != null) {\n      this.ctrlTemplate();\n    } else if (ele && items.length > 0) {\n      var itemEleDom = void 0;\n\n      if (ele && ele.children.length > 0) {\n        itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n      }\n\n      if (!itemEleDom) {\n        itemEleDom = this.createElement('div', {\n          className: CLS_ITEMS\n        });\n      }\n\n      this.itemsAlign(items, itemEleDom);\n      ele.appendChild(itemEleDom);\n    }\n  };\n\n  Toolbar.prototype.setAttr = function (attr, element) {\n    var key = Object.keys(attr);\n    var keyVal;\n\n    for (var i = 0; i < key.length; i++) {\n      keyVal = key[i];\n\n      if (keyVal === 'class') {\n        this.add(element, attr[keyVal]);\n      } else {\n        element.setAttribute(keyVal, attr[keyVal]);\n      }\n    }\n  };\n  /**\n   * Enables or disables the specified Toolbar item.\n   *\n   * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n   * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n   * By default, `isEnable` is set to true.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.enableItems = function (items, isEnable) {\n    var elements = items;\n    var len = elements.length;\n    var ele;\n\n    if (isNullOrUndefined(isEnable)) {\n      isEnable = true;\n    }\n\n    var enable = function (isEnable, ele) {\n      if (isEnable) {\n        ele.classList.remove(CLS_DISABLE$2);\n        ele.setAttribute('aria-disabled', 'false');\n      } else {\n        ele.classList.add(CLS_DISABLE$2);\n        ele.setAttribute('aria-disabled', 'true');\n      }\n    };\n\n    if (!isNullOrUndefined(len) && len >= 1) {\n      for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n        var itemElement = element[a];\n\n        if (typeof itemElement === 'number') {\n          ele = this.getElementByIndex(itemElement);\n\n          if (isNullOrUndefined(ele)) {\n            return;\n          } else {\n            elements[a] = ele;\n          }\n        } else {\n          ele = itemElement;\n        }\n\n        enable(isEnable, ele);\n      }\n\n      if (isEnable) {\n        removeClass(elements, CLS_DISABLE$2);\n      } else {\n        addClass(elements, CLS_DISABLE$2);\n      }\n    } else {\n      if (typeof elements === 'number') {\n        ele = this.getElementByIndex(elements);\n\n        if (isNullOrUndefined(ele)) {\n          return;\n        }\n      } else {\n        ele = items;\n      }\n\n      enable(isEnable, ele);\n    }\n  };\n\n  Toolbar.prototype.getElementByIndex = function (index) {\n    if (this.tbarEle[index]) {\n      return this.tbarEle[index];\n    }\n\n    return null;\n  };\n  /**\n   * Adds new items to the Toolbar that accepts an array as Toolbar items.\n   *\n   * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n   * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.addItems = function (items, index) {\n    var innerItems;\n    this.extendedOpen();\n    var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n\n    if (isNullOrUndefined(itemsDiv)) {\n      this.itemsRerender(items);\n      return;\n    }\n\n    var innerEle;\n    var itemAgn = 'Left';\n\n    if (isNullOrUndefined(index)) {\n      index = 0;\n    }\n\n    items.forEach(function (e) {\n      if (!isNullOrUndefined(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n        itemAgn = e.align;\n      }\n    });\n\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var item = items_1[_i];\n\n      if (isNullOrUndefined(item.type)) {\n        item.type = 'Button';\n      }\n\n      innerItems = selectAll('.' + CLS_ITEM, this.element);\n      item.align = itemAgn;\n      innerEle = this.renderSubComponent(item, index);\n\n      if (this.tbarEle.length >= index && innerItems.length >= 0) {\n        if (isNullOrUndefined(this.scrollModule)) {\n          this.destroyMode();\n        }\n\n        var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n        var ele = void 0;\n\n        if (!this.tbarAlign && itemAgn !== 'Left') {\n          this.tbarItemAlign(item, itemsDiv, 1);\n          this.tbarAlign = true;\n          ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n          ele.appendChild(innerEle);\n          this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n          this.refreshPositioning();\n        } else if (this.tbarAlign) {\n          ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n          ele.insertBefore(innerEle, ele.children[index]);\n          this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n          this.refreshPositioning();\n        } else if (innerItems.length === 0) {\n          innerItems = selectAll('.' + CLS_ITEMS, this.element);\n          innerItems[0].appendChild(innerEle);\n        } else {\n          innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n        }\n\n        this.items.splice(index, 0, item);\n\n        if (item.template) {\n          this.tbarEle.splice(this.tbarEle.length - 1, 1);\n        }\n\n        this.tbarEle.splice(index, 0, innerEle);\n        index++;\n        this.offsetWid = itemsDiv.offsetWidth;\n      }\n    }\n\n    itemsDiv.style.width = '';\n    this.renderOverflowMode();\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n   *\n   * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n   * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.removeItems = function (args) {\n    var elements = args;\n    var index;\n    var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n    if (typeof elements === 'number') {\n      index = parseInt(args.toString(), 10);\n      this.removeItemByIndex(index, innerItems);\n    } else {\n      if (elements && elements.length > 1) {\n        for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n          var ele = _a[_i];\n          index = this.tbarEle.indexOf(ele);\n          this.removeItemByIndex(index, innerItems);\n          innerItems = selectAll('.' + CLS_ITEM, this.element);\n        }\n      } else {\n        var ele = elements && elements.length && elements.length === 1 ? elements[0] : args;\n        index = innerItems.indexOf(ele);\n        this.removeItemByIndex(index, innerItems);\n      }\n    }\n\n    this.resize();\n  };\n\n  Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n    if (this.tbarEle[index] && innerItems[index]) {\n      var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n\n      if (this.tbarAlign) {\n        var indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n        this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n      }\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      var btnItem = innerItems[index].querySelector('.e-control.e-btn');\n\n      if (!isNullOrUndefined(btnItem) && !isNullOrUndefined(btnItem.ej2_instances[0]) && !btnItem.ej2_instances[0].isDestroyed) {\n        btnItem.ej2_instances[0].destroy();\n      }\n\n      detach(innerItems[index]);\n      this.items.splice(eleIdx, 1);\n      this.tbarEle.splice(eleIdx, 1);\n    }\n  };\n\n  Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n    var itemType = item.type;\n    var eleObj = templateProp;\n    var isComponent;\n\n    if (typeof templateProp === 'object') {\n      isComponent = typeof eleObj.appendTo === 'function';\n    }\n\n    if (typeof templateProp === 'string' || !isComponent) {\n      var templateFn = void 0;\n      var val = templateProp;\n      var regEx = new RegExp(/<(?=.*? .*?\\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\\/\\1>/i);\n      val = typeof templateProp === 'string' ? templateProp.trim() : templateProp;\n\n      try {\n        if (typeof templateProp === 'object' && !isNullOrUndefined(templateProp.tagName)) {\n          innerEle.appendChild(templateProp);\n        } else if (typeof templateProp === 'string' && regEx.test(val)) {\n          innerEle.innerHTML = val;\n        } else if (document.querySelectorAll(val).length) {\n          var ele = document.querySelector(val);\n          var tempStr = ele.outerHTML.trim();\n          innerEle.appendChild(ele);\n          ele.style.display = '';\n\n          if (!isNullOrUndefined(tempStr)) {\n            this.tempId.push(val);\n          }\n        } else {\n          templateFn = compile(val);\n        }\n      } catch (e) {\n        templateFn = compile(val);\n      }\n\n      var tempArray = void 0;\n\n      if (!isNullOrUndefined(templateFn)) {\n        var toolbarTemplateID = this.element.id + index + '_template';\n        tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n      }\n\n      if (!isNullOrUndefined(tempArray) && tempArray.length > 0) {\n        [].slice.call(tempArray).forEach(function (ele) {\n          if (!isNullOrUndefined(ele.tagName)) {\n            ele.style.display = '';\n          }\n\n          innerEle.appendChild(ele);\n        });\n      }\n    } else if (itemType === 'Input') {\n      var ele = this.createElement('input');\n\n      if (item.id) {\n        ele.id = item.id;\n      } else {\n        ele.id = getUniqueID('tbr-ipt');\n      }\n\n      innerEle.appendChild(ele);\n      eleObj.appendTo(ele);\n    }\n\n    this.add(innerEle, CLS_TEMPLATE);\n    this.tbarEle.push(innerEle);\n  };\n\n  Toolbar.prototype.buttonRendering = function (item, innerEle) {\n    var dom = this.createElement('button', {\n      className: CLS_TBARBTN\n    });\n    dom.setAttribute('type', 'button');\n    var textStr = item.text;\n    var iconCss;\n    var iconPos;\n\n    if (item.id) {\n      dom.id = item.id;\n    } else {\n      dom.id = getUniqueID('e-tbr-btn');\n    }\n\n    var btnTxt = this.createElement('span', {\n      className: 'e-tbar-btn-text'\n    });\n\n    if (textStr) {\n      btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n      dom.appendChild(btnTxt);\n      dom.classList.add('e-tbtn-txt');\n    } else {\n      this.add(innerEle, 'e-tbtn-align');\n    }\n\n    if (item.prefixIcon || item.suffixIcon) {\n      if (item.prefixIcon && item.suffixIcon || item.prefixIcon) {\n        iconCss = item.prefixIcon + ' e-icons';\n        iconPos = 'Left';\n      } else {\n        iconCss = item.suffixIcon + ' e-icons';\n        iconPos = 'Right';\n      }\n    }\n\n    var btnObj = new Button({\n      iconCss: iconCss,\n      iconPosition: iconPos\n    });\n    btnObj.createElement = this.createElement;\n    btnObj.appendTo(dom);\n\n    if (item.width) {\n      setStyleAttribute(dom, {\n        'width': formatUnit(item.width)\n      });\n    }\n\n    return dom;\n  };\n\n  Toolbar.prototype.renderSubComponent = function (item, index) {\n    var dom;\n    var innerEle = this.createElement('div', {\n      className: CLS_ITEM\n    });\n    innerEle.setAttribute('aria-disabled', 'false');\n    var tempDom = this.createElement('div', {\n      innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n    });\n\n    if (!this.tbarEle) {\n      this.tbarEle = [];\n    }\n\n    if (item.htmlAttributes) {\n      this.setAttr(item.htmlAttributes, innerEle);\n    }\n\n    if (item.tooltipText) {\n      innerEle.setAttribute('title', tempDom.textContent);\n    }\n\n    if (item.cssClass) {\n      innerEle.className = innerEle.className + ' ' + item.cssClass;\n    }\n\n    if (item.template) {\n      this.templateRender(item.template, innerEle, item, index);\n    } else {\n      switch (item.type) {\n        case 'Button':\n          dom = this.buttonRendering(item, innerEle);\n          dom.setAttribute('tabindex', '-1');\n          dom.setAttribute('aria-label', item.text || item.tooltipText);\n          innerEle.appendChild(dom);\n          innerEle.addEventListener('click', this.itemClick.bind(this));\n          break;\n\n        case 'Separator':\n          this.add(innerEle, CLS_SEPARATOR);\n          break;\n      }\n    }\n\n    if (item.showTextOn) {\n      var sTxt = item.showTextOn;\n\n      if (sTxt === 'Toolbar') {\n        this.add(innerEle, CLS_POPUPTEXT);\n        this.add(innerEle, 'e-tbtn-align');\n      } else if (sTxt === 'Overflow') {\n        this.add(innerEle, CLS_TBARTEXT);\n      }\n    }\n\n    if (item.overflow) {\n      var overflow = item.overflow;\n\n      if (overflow === 'Show') {\n        this.add(innerEle, CLS_TBAROVERFLOW);\n      } else if (overflow === 'Hide') {\n        if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n          this.add(innerEle, CLS_POPOVERFLOW);\n        }\n      }\n    }\n\n    if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n      this.add(innerEle, CLS_POPPRI);\n      this.popupPriCount++;\n    }\n\n    if (item.disabled) {\n      this.add(innerEle, CLS_DISABLE$2);\n    }\n\n    if (item.visible === false) {\n      this.add(innerEle, CLS_HIDDEN);\n    }\n\n    return innerEle;\n  };\n\n  Toolbar.prototype.itemClick = function (e) {\n    this.activeEleSwitch(e.currentTarget);\n  };\n\n  Toolbar.prototype.activeEleSwitch = function (ele) {\n    this.activeEleRemove(ele.firstElementChild);\n    this.activeEle.focus();\n  };\n\n  Toolbar.prototype.activeEleRemove = function (curEle) {\n    if (!isNullOrUndefined(this.activeEle)) {\n      this.activeEle.setAttribute('tabindex', '-1');\n    }\n\n    this.activeEle = curEle;\n\n    if (isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n      curEle.removeAttribute('tabindex');\n    } else {\n      this.activeEle.setAttribute('tabindex', '0');\n    }\n  };\n\n  Toolbar.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - Returns the module name as string.\n   * @private\n   */\n\n\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n\n  Toolbar.prototype.itemsRerender = function (newProp) {\n    this.items = this.tbarItemsCol;\n\n    if (this.isReact || this.isAngular) {\n      this.clearTemplate();\n    }\n\n    this.destroyMode();\n    this.destroyItems();\n    this.items = newProp;\n    this.tbarItemsCol = this.items;\n    this.renderItems();\n    this.renderOverflowMode();\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Toolbar.prototype.resize = function () {\n    var ele = this.element;\n    this.tbResize = true;\n\n    if (this.tbarAlign) {\n      this.itemPositioning();\n    }\n\n    if (this.popObj && this.overflowMode === 'Popup') {\n      this.popObj.hide();\n    }\n\n    var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n\n    if (!checkOverflow) {\n      this.destroyScroll();\n      var multirowele = ele.querySelector('.' + CLS_ITEMS);\n\n      if (!isNullOrUndefined(multirowele)) {\n        this.remove(multirowele, CLS_MULTIROWPOS);\n\n        if (this.tbarAlign) {\n          this.add(multirowele, CLS_TBARPOS);\n        }\n      }\n    }\n\n    if (checkOverflow && this.scrollModule && this.offsetWid === ele.offsetWidth) {\n      return;\n    }\n\n    if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n      this.renderOverflowMode();\n    }\n\n    if (this.popObj) {\n      if (this.overflowMode === 'Extended') {\n        var eleStyles = window.getComputedStyle(this.element);\n        this.popObj.width = parseFloat(eleStyles.width) + parseFloat(eleStyles.borderRightWidth) * 2;\n      }\n\n      if (this.tbarAlign) {\n        this.removePositioning();\n      }\n\n      this.popupRefresh(this.popObj.element, false);\n\n      if (this.tbarAlign) {\n        this.refreshPositioning();\n      }\n    }\n\n    if (this.element.querySelector('.' + CLS_HSCROLLBAR$1)) {\n      this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR$1).offsetWidth;\n    }\n\n    this.offsetWid = ele.offsetWidth;\n    this.tbResize = false;\n    this.separator();\n  };\n\n  Toolbar.prototype.extendedOpen = function () {\n    var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n\n    if (this.overflowMode === 'Extended' && sib) {\n      this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n    }\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   *\n   * @param  {ToolbarModel} newProp - It contains new value of the data.\n   * @param  {ToolbarModel} oldProp - It contains old value of the data.\n   * @returns {void}\n   * @private\n   */\n\n\n  Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var tEle = this.element;\n    var wid = tEle.offsetWidth;\n    this.extendedOpen();\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n          if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProb = Object.keys(newProp.items);\n\n            for (var i = 0; i < changedProb.length; i++) {\n              var index = parseInt(Object.keys(newProp.items)[i], 10);\n              var property = Object.keys(newProp.items[index])[0];\n              var newProperty = Object(newProp.items[index])[property];\n\n              if (typeof newProperty !== 'function') {\n                if (this.tbarAlign || property === 'align') {\n                  this.refresh();\n                  this.trigger('created');\n                  break;\n                }\n\n                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n\n                if (popupPriCheck || this.items[index].showAlwaysInPopup && booleanCheck) {\n                  --this.popupPriCount;\n                }\n\n                if (isNullOrUndefined(this.scrollModule)) {\n                  this.destroyMode();\n                }\n\n                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n\n                if (this.isReact) {\n                  this.clearTemplate();\n                }\n\n                detach(itemCol[index]);\n                this.tbarEle.splice(index, 1);\n                this.addItems([this.items[index]], index);\n                this.items.splice(index, 1);\n\n                if (this.items[index].template) {\n                  this.tbarEle.splice(this.items.length, 1);\n                }\n              }\n            }\n          } else {\n            this.itemsRerender(newProp.items);\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(tEle, {\n            'width': formatUnit(newProp.width)\n          });\n          this.renderOverflowMode();\n\n          if (this.popObj && wid < tEle.offsetWidth) {\n            this.popupRefresh(this.popObj.element, false);\n          }\n\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'overflowMode':\n          this.destroyMode();\n          this.renderOverflowMode();\n\n          if (this.enableRtl) {\n            this.add(tEle, CLS_RTL$2);\n          }\n\n          this.refreshOverflow();\n          break;\n\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            this.add(tEle, CLS_RTL$2);\n          } else {\n            this.remove(tEle, CLS_RTL$2);\n          }\n\n          if (!isNullOrUndefined(this.scrollModule)) {\n            if (newProp.enableRtl) {\n              this.add(this.scrollModule.element, CLS_RTL$2);\n            } else {\n              this.remove(this.scrollModule.element, CLS_RTL$2);\n            }\n          }\n\n          if (!isNullOrUndefined(this.popObj)) {\n            if (newProp.enableRtl) {\n              this.add(this.popObj.element, CLS_RTL$2);\n            } else {\n              this.remove(this.popObj.element, CLS_RTL$2);\n            }\n          }\n\n          if (this.tbarAlign) {\n            this.itemPositioning();\n          }\n\n          break;\n\n        case 'scrollStep':\n          if (this.scrollModule) {\n            this.scrollModule.scrollStep = this.scrollStep;\n          }\n\n          break;\n\n        case 'enableCollision':\n          if (this.popObj) {\n            this.popObj.collision = {\n              Y: this.enableCollision ? 'flip' : 'none'\n            };\n          }\n\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.split(' '));\n          }\n\n          break;\n\n        case 'allowKeyboard':\n          this.unwireKeyboardEvent();\n\n          if (newProp.allowKeyboard) {\n            this.wireKeyboardEvent();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * Shows or hides the Toolbar item that is in the specified index.\n   *\n   * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n   * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.hideItem = function (index, value) {\n    var isElement = typeof index === 'object' ? true : false;\n    var eleIndex = index;\n    var initIndex;\n    var ele;\n    var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n    if (isElement) {\n      ele = index;\n    } else if (this.tbarEle[eleIndex]) {\n      var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n      ele = innerItems_1[eleIndex];\n    }\n\n    if (ele) {\n      if (value) {\n        ele.classList.add(CLS_HIDDEN);\n      } else {\n        ele.classList.remove(CLS_HIDDEN);\n      }\n\n      if (value && isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n        if (isNullOrUndefined(ele.firstElementChild.getAttribute('tabindex'))) {\n          ele.firstElementChild.setAttribute('tabindex', '-1');\n          var innerItems_2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n          if (isElement) {\n            eleIndex = innerItems_2.indexOf(ele);\n          }\n\n          var nextEle = innerItems_2[++eleIndex];\n\n          while (nextEle) {\n            var skipEle = this.eleContains(nextEle);\n\n            if (!skipEle) {\n              nextEle.firstElementChild.removeAttribute('tabindex');\n              break;\n            }\n\n            nextEle = innerItems_2[++eleIndex];\n          }\n        }\n      } else if (isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n        initIndex = 0;\n        var setFlag = false;\n        var removeFlag = false;\n        var initELe = innerItems[initIndex];\n\n        while (initELe) {\n          if (!initELe.classList.contains(CLS_SEPARATOR)) {\n            if (isNullOrUndefined(initELe.firstElementChild.getAttribute('tabindex'))) {\n              initELe.firstElementChild.setAttribute('tabindex', '-1');\n              setFlag = true;\n            } else {\n              if (setFlag && removeFlag) {\n                break;\n              }\n\n              var skipEle = this.eleContains(initELe);\n\n              if (!skipEle) {\n                initELe.firstElementChild.removeAttribute('tabindex');\n                removeFlag = true;\n              }\n\n              initELe = innerItems[++initIndex];\n            }\n          } else {\n            initELe = innerItems[++initIndex];\n          }\n        }\n      }\n\n      this.refreshOverflow();\n    }\n  };\n\n  __decorate$3([Collection([], Item)], Toolbar.prototype, \"items\", void 0);\n\n  __decorate$3([Property('auto')], Toolbar.prototype, \"width\", void 0);\n\n  __decorate$3([Property('auto')], Toolbar.prototype, \"height\", void 0);\n\n  __decorate$3([Property('')], Toolbar.prototype, \"cssClass\", void 0);\n\n  __decorate$3([Property('Scrollable')], Toolbar.prototype, \"overflowMode\", void 0);\n\n  __decorate$3([Property()], Toolbar.prototype, \"scrollStep\", void 0);\n\n  __decorate$3([Property(true)], Toolbar.prototype, \"enableCollision\", void 0);\n\n  __decorate$3([Property(true)], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$3([Property(true)], Toolbar.prototype, \"allowKeyboard\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"clicked\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"created\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"destroyed\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"beforeCreate\", void 0);\n\n  Toolbar = __decorate$3([NotifyPropertyChanges], Toolbar);\n  return Toolbar;\n}(Component);\n/**\n * Toolbar modules\n */\n\n\nvar __extends$4 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT$2 = 'e-accordion';\nvar CLS_ITEM$1 = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL$3 = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE$3 = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\n\nvar AccordionActionSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(AccordionActionSettings, _super);\n\n  function AccordionActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$4([Property('SlideDown')], AccordionActionSettings.prototype, \"effect\", void 0);\n\n  __decorate$4([Property(400)], AccordionActionSettings.prototype, \"duration\", void 0);\n\n  __decorate$4([Property('linear')], AccordionActionSettings.prototype, \"easing\", void 0);\n\n  return AccordionActionSettings;\n}(ChildProperty);\n/**\n * Objects used for configuring the Accordion animation properties.\n */\n\n\nvar AccordionAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(AccordionAnimationSettings, _super);\n\n  function AccordionAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$4([Complex({\n    effect: 'SlideUp',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n\n  __decorate$4([Complex({\n    effect: 'SlideDown',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"expand\", void 0);\n\n  return AccordionAnimationSettings;\n}(ChildProperty);\n/**\n * An item object that is used to configure Accordion items.\n */\n\n\nvar AccordionItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(AccordionItem, _super);\n\n  function AccordionItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"content\", void 0);\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"header\", void 0);\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"cssClass\", void 0);\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"iconCss\", void 0);\n\n  __decorate$4([Property(false)], AccordionItem.prototype, \"expanded\", void 0);\n\n  __decorate$4([Property(true)], AccordionItem.prototype, \"visible\", void 0);\n\n  __decorate$4([Property(false)], AccordionItem.prototype, \"disabled\", void 0);\n\n  __decorate$4([Property()], AccordionItem.prototype, \"id\", void 0);\n\n  return AccordionItem;\n}(ChildProperty);\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\n\n\nvar Accordion =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(Accordion, _super);\n  /**\n   * Initializes a new instance of the Accordion class.\n   *\n   * @param {AccordionModel} options  - Specifies Accordion model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element that is rendered as an Accordion.\n   */\n\n\n  function Accordion(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /**\n     * Contains the keyboard configuration of the Accordion.\n     */\n\n\n    _this.keyConfigs = {\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      enter: 'enter',\n      space: 'space',\n      home: 'home',\n      end: 'end'\n    };\n    return _this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  Accordion.prototype.destroy = function () {\n    var _this = this;\n\n    if (this.isReact || this.isAngular || this.isVue) {\n      this.clearTemplate();\n    }\n\n    var ele = this.element;\n\n    _super.prototype.destroy.call(this);\n\n    this.unwireEvents();\n    this.isDestroy = true;\n    this.restoreContent(null);\n    [].slice.call(ele.children).forEach(function (el) {\n      ele.removeChild(el);\n    });\n\n    if (this.trgtEle) {\n      this.trgtEle = null;\n\n      while (this.ctrlTem.firstElementChild) {\n        ele.appendChild(this.ctrlTem.firstElementChild);\n      }\n\n      this.ctrlTem = null;\n    }\n\n    ele.classList.remove(CLS_ACRDN_ROOT);\n    ele.removeAttribute('style');\n    ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach(function (attrb) {\n      _this.element.removeAttribute(attrb);\n    });\n\n    if (!this.isNested && isRippleEnabled) {\n      this.removeRippleEffect();\n    }\n  };\n\n  Accordion.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT);\n    this.isNested = false;\n    this.templateEle = [];\n\n    if (!this.isDestroy) {\n      this.isDestroy = false;\n    }\n\n    if (nested && nested.firstElementChild && nested.firstElementChild.firstElementChild) {\n      if (nested.firstElementChild.firstElementChild.classList.contains(CLS_ROOT$2)) {\n        nested.classList.add(CLS_NEST);\n        this.isNested = true;\n      }\n    } else {\n      this.element.classList.add(CLS_ACRDN_ROOT);\n    }\n\n    if (this.enableRtl) {\n      this.add(this.element, CLS_RTL$3);\n    }\n  };\n\n  Accordion.prototype.add = function (ele, val) {\n    ele.classList.add(val);\n  };\n\n  Accordion.prototype.remove = function (ele, val) {\n    ele.classList.remove(val);\n  };\n  /**\n   * To initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Accordion.prototype.render = function () {\n    this.initializeHeaderTemplate();\n    this.initializeItemTemplate();\n    this.initialize();\n    this.renderControl();\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Accordion.prototype.initialize = function () {\n    var width = formatUnit(this.width);\n    var height = formatUnit(this.height);\n    setStyleAttribute(this.element, {\n      'width': width,\n      'height': height\n    });\n    var ariaAttr = {\n      'aria-disabled': 'false',\n      'role': 'presentation',\n      'aria-multiselectable': 'true'\n    };\n\n    if (isNullOrUndefined(this.initExpand)) {\n      this.initExpand = [];\n    }\n\n    if (this.expandedIndices.length > 0) {\n      this.initExpand = this.expandedIndices;\n    }\n\n    attributes(this.element, ariaAttr);\n\n    if (this.expandMode === 'Single') {\n      this.element.setAttribute('aria-multiselectable', 'false');\n    }\n  };\n\n  Accordion.prototype.renderControl = function () {\n    this.trgtEle = this.element.children.length > 0 ? select('div', this.element) : null;\n    this.renderItems();\n    this.initItemExpand();\n  };\n\n  Accordion.prototype.wireFocusEvents = function () {\n    var acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1));\n\n    for (var _i = 0, acrdItem_1 = acrdItem; _i < acrdItem_1.length; _i++) {\n      var item = acrdItem_1[_i];\n      var headerEle = item.querySelector('.' + CLS_HEADER);\n\n      if (item.childElementCount > 0 && headerEle) {\n        EventHandler.clearEvents(headerEle);\n        EventHandler.add(headerEle, 'focus', this.focusIn, this);\n        EventHandler.add(headerEle, 'blur', this.focusOut, this);\n      }\n    }\n  };\n\n  Accordion.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n\n    if (!isNullOrUndefined(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n  };\n\n  Accordion.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n\n    if (!this.isNested && !this.isDestroy) {\n      this.removeRippleEffect = rippleEffect(this.element, {\n        selector: '.' + CLS_HEADER\n      });\n    }\n\n    if (!this.isNested) {\n      this.keyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigs,\n        eventName: 'keydown'\n      });\n    }\n  };\n\n  Accordion.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (error) {\n        return compile(template);\n      }\n    }\n\n    return undefined;\n  };\n\n  Accordion.prototype.initializeHeaderTemplate = function () {\n    if (this.headerTemplate) {\n      this.headerTemplateFn = this.templateParser(this.headerTemplate);\n    }\n  };\n\n  Accordion.prototype.initializeItemTemplate = function () {\n    if (this.itemTemplate) {\n      this.itemTemplateFn = this.templateParser(this.itemTemplate);\n    }\n  };\n\n  Accordion.prototype.getHeaderTemplate = function () {\n    return this.headerTemplateFn;\n  };\n\n  Accordion.prototype.getItemTemplate = function () {\n    return this.itemTemplateFn;\n  };\n\n  Accordion.prototype.focusIn = function (e) {\n    e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.focusOut = function (e) {\n    e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.ctrlTemplate = function () {\n    this.ctrlTem = this.element.cloneNode(true);\n    var innerEles;\n    var rootEle = select('.' + CLS_CONTAINER, this.element);\n\n    if (rootEle) {\n      innerEles = rootEle.children;\n    } else {\n      innerEles = this.element.children;\n    }\n\n    var items = [];\n    [].slice.call(innerEles).forEach(function (el) {\n      items.push({\n        header: el.childElementCount > 0 && el.children[0] ? el.children[0] : '',\n        content: el.childElementCount > 1 && el.children[1] ? el.children[1] : ''\n      });\n      el.parentNode.removeChild(el);\n    });\n\n    if (rootEle) {\n      this.element.removeChild(rootEle);\n    }\n\n    this.setProperties({\n      items: items\n    }, true);\n  };\n\n  Accordion.prototype.toggleIconGenerate = function () {\n    var tglIcon = this.createElement('div', {\n      className: CLS_TOOGLEICN\n    });\n    var hdrColIcon = this.createElement('span', {\n      className: CLS_COLLAPSEICN\n    });\n    tglIcon.appendChild(hdrColIcon);\n    return tglIcon;\n  };\n\n  Accordion.prototype.initItemExpand = function () {\n    var len = this.initExpand.length;\n\n    if (len === 0) {\n      return;\n    }\n\n    if (this.expandMode === 'Single') {\n      this.expandItem(true, this.initExpand[len - 1]);\n    } else {\n      for (var i = 0; i < len; i++) {\n        this.expandItem(true, this.initExpand[i]);\n      }\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.renderItems = function () {\n    var _this = this;\n\n    var ele = this.element;\n    var innerItem;\n    var innerDataSourceItem;\n\n    if (!isNullOrUndefined(this.trgtEle)) {\n      this.ctrlTemplate();\n    }\n\n    if (this.dataSource.length > 0) {\n      this.dataSource.forEach(function (item, index) {\n        innerDataSourceItem = _this.renderInnerItem(item, index);\n        ele.appendChild(innerDataSourceItem);\n\n        if (innerDataSourceItem.childElementCount > 0) {\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n        }\n      });\n    } else {\n      var items = this.items;\n\n      if (ele && items.length > 0) {\n        items.forEach(function (item, index) {\n          innerItem = _this.renderInnerItem(item, index);\n          ele.appendChild(innerItem);\n\n          if (innerItem.childElementCount > 0) {\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n          }\n        });\n      }\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.clickHandler = function (e) {\n    var trgt = e.target;\n    var items = this.getItems();\n    var eventArgs = {};\n    var tglIcon;\n    var acrdEle = closest(trgt, '.' + CLS_ROOT$2);\n\n    if (acrdEle !== this.element) {\n      return;\n    }\n\n    trgt.classList.add('e-target');\n    var acrdnItem = closest(trgt, '.' + CLS_ITEM$1);\n    var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n    var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n\n    if (acrdnItem && (isNullOrUndefined(acrdnHdr) || isNullOrUndefined(acrdnCtn))) {\n      acrdnHdr = acrdnItem.children[0];\n      acrdnCtn = acrdnItem.children[1];\n    }\n\n    if (acrdnHdr) {\n      tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n    }\n\n    var acrdnCtnItem;\n\n    if (acrdnHdr) {\n      acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM$1);\n    } else if (acrdnCtn) {\n      acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM$1);\n    }\n\n    var index = this.getIndexByItem(acrdnItem);\n\n    if (acrdnCtnItem) {\n      eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n    }\n\n    eventArgs.originalEvent = e;\n    var ctnCheck = !isNullOrUndefined(tglIcon) && acrdnItem.childElementCount <= 1;\n\n    if (ctnCheck && (isNullOrUndefined(acrdnCtn) || !isNullOrUndefined(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n      acrdnItem.appendChild(this.contentRendering(index));\n      this.ariaAttrUpdate(acrdnItem);\n      this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n    } else {\n      this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.afterContentRender = function (trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n    var _this = this;\n\n    var acrdActive = [];\n    this.trigger('clicked', eventArgs);\n    var cntclkCheck = acrdnCtn && !isNullOrUndefined(select('.e-target', acrdnCtn));\n    var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT$2;\n    var inlineEleAcrdn = acrdnCtn && !isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) && isNullOrUndefined(closest(trgt, inlineAcrdnSel));\n    var nestContCheck = acrdnCtn && isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT$2) === this.element);\n    cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n    trgt.classList.remove('e-target');\n\n    if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n      return;\n    }\n\n    var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n    var acrdnchild = acrdcontainer ? acrdcontainer.children : this.element.children;\n    [].slice.call(acrdnchild).forEach(function (el) {\n      if (el.classList.contains(CLS_ACTIVE)) {\n        acrdActive.push(el);\n      }\n    });\n    var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1 + ' [' + CLS_ANIMATE + ']'));\n\n    if (acrdAniEle.length > 0) {\n      for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n        var el = acrdAniEle_1[_i];\n        acrdActive.push(el.parentElement);\n      }\n    }\n\n    var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n    var sameHeader = false;\n\n    if (!isNullOrUndefined(acrdnItem) && !isNullOrUndefined(acrdnHdr)) {\n      var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n      var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n      var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n\n      if (isNullOrUndefined(acrdnCtn_1)) {\n        return;\n      }\n\n      sameHeader = expandState === acrdnItem;\n\n      if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n        this.collapse(acrdnCtn_1);\n      } else {\n        if (acrdActive.length > 0 && this.expandMode === 'Single' && !sameContentCheck) {\n          acrdActive.forEach(function (el) {\n            _this.collapse(select('.' + CLS_CONTENT, el));\n\n            el.classList.remove(CLS_EXPANDSTATE);\n          });\n        }\n\n        this.expand(acrdnCtn_1);\n      }\n\n      if (!isNullOrUndefined(expandState) && !sameHeader) {\n        expandState.classList.remove(CLS_EXPANDSTATE);\n      }\n    }\n  };\n\n  Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n    var clst;\n    var clstItem = closest(trgt, '.' + CLS_ITEM$1);\n\n    if (trgt === root) {\n      clst = (action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER);\n    } else if (trgt.classList.contains(CLS_HEADER)) {\n      clstItem = action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling;\n\n      if (clstItem) {\n        clst = select('.' + CLS_HEADER, clstItem);\n      }\n    }\n\n    if (clst) {\n      clst.focus();\n    }\n  };\n\n  Accordion.prototype.keyActionHandler = function (e) {\n    var trgt = e.target;\n    var header = closest(e.target, CLS_HEADER);\n\n    if (isNullOrUndefined(header) && !trgt.classList.contains(CLS_ROOT$2) && !trgt.classList.contains(CLS_HEADER)) {\n      return;\n    }\n\n    var clst;\n    var root = this.element;\n    var content;\n\n    switch (e.action) {\n      case 'moveUp':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'moveDown':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'space':\n      case 'enter':\n        content = trgt.nextElementSibling;\n\n        if (!isNullOrUndefined(content) && content.classList.contains(CLS_CONTENT)) {\n          if (content.getAttribute('e-animate') !== 'true') {\n            trgt.click();\n          }\n        } else {\n          trgt.click();\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'home':\n      case 'end':\n        clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n        clst.focus();\n        e.preventDefault();\n        break;\n    }\n  };\n\n  Accordion.prototype.headerEleGenerate = function () {\n    var header = this.createElement('div', {\n      className: CLS_HEADER,\n      id: getUniqueID('acrdn_header')\n    });\n    var items = this.getItems();\n    var ariaAttr = {\n      'tabindex': '0',\n      'role': 'heading',\n      'aria-label': 'collapsed',\n      'aria-disabled': 'false',\n      'aria-level': items.length.toString()\n    };\n    attributes(header, ariaAttr);\n    return header;\n  };\n\n  Accordion.prototype.renderInnerItem = function (item, index) {\n    var innerEle = this.createElement('div', {\n      className: CLS_ITEM$1,\n      id: item.id || getUniqueID('acrdn_item'),\n      attrs: {\n        'aria-expanded': 'false',\n        'role': 'row'\n      }\n    });\n\n    if (this.headerTemplate) {\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      append(this.getHeaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n      innerEle.appendChild(ctnEle);\n      ctnEle.appendChild(this.toggleIconGenerate());\n      this.add(innerEle, CLS_SLCT);\n      return innerEle;\n    }\n\n    if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n      if (this.enableHtmlSanitizer && typeof item.header === 'string') {\n        item.header = SanitizeHtmlHelper.sanitize(item.header);\n      }\n\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n      innerEle.appendChild(ctnEle);\n    }\n\n    var hdr = select('.' + CLS_HEADER, innerEle);\n\n    if (item.expanded && !isNullOrUndefined(index) && !this.enablePersistence) {\n      if (this.initExpand.indexOf(index) === -1) {\n        this.initExpand.push(index);\n      }\n    }\n\n    if (item.cssClass) {\n      addClass([innerEle], item.cssClass.split(' '));\n    }\n\n    if (item.disabled) {\n      addClass([innerEle], CLS_DISABLE$3);\n    }\n\n    if (item.visible === false) {\n      addClass([innerEle], CLS_ITEMHIDE);\n    }\n\n    if (item.iconCss) {\n      var hdrIcnEle = this.createElement('div', {\n        className: CLS_HEADERICN\n      });\n      var icon = this.createElement('span', {\n        className: item.iconCss + ' e-icons'\n      });\n      hdrIcnEle.appendChild(icon);\n\n      if (isNullOrUndefined(hdr)) {\n        hdr = this.headerEleGenerate();\n        hdr.appendChild(hdrIcnEle);\n        innerEle.appendChild(hdr);\n      } else {\n        hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n      }\n    }\n\n    if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n      var hdrIcon = this.toggleIconGenerate();\n\n      if (isNullOrUndefined(hdr)) {\n        hdr = this.headerEleGenerate();\n        innerEle.appendChild(hdr);\n      }\n\n      hdr.appendChild(hdrIcon);\n      this.add(innerEle, CLS_SLCT);\n    }\n\n    return innerEle;\n  };\n\n  Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n    var property = prop === 'content' ? item.content : item.header;\n    var content = property;\n\n    if (this.isAngular && !isNullOrUndefined(content.elementRef)) {\n      var data = content.elementRef.nativeElement.data;\n\n      if (isNullOrUndefined(data) || data === '' || data.indexOf('bindings=') === -1) {\n        return true;\n      }\n\n      var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n\n      if (!isNullOrUndefined(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      return true;\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n    var templateFn;\n    var temString;\n\n    try {\n      if (document.querySelectorAll(value).length && value !== 'Button') {\n        var eleVal = document.querySelector(value);\n        temString = eleVal.outerHTML.trim();\n        ele.appendChild(eleVal);\n        eleVal.style.display = '';\n      } else {\n        templateFn = compile(value);\n      }\n    } catch (e) {\n      if (typeof value === 'string') {\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n      } else if (!isNullOrUndefined(this.trgtEle) && value instanceof HTMLElement) {\n        ele.appendChild(value);\n        ele.firstElementChild.style.display = '';\n      } else {\n        templateFn = compile(value);\n      }\n    }\n\n    var tempArray;\n\n    if (!isNullOrUndefined(templateFn)) {\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      var templateProps = void 0;\n      var templateName = void 0;\n\n      if (ele.classList.contains(CLS_HEADERCTN)) {\n        templateProps = this.element.id + index + '_header';\n        templateName = 'header';\n      } else if (ele.classList.contains(CLS_CTENT)) {\n        templateProps = this.element.id + index + '_content';\n        templateName = 'content';\n      }\n\n      tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n    }\n\n    if (!isNullOrUndefined(tempArray) && tempArray.length > 0 && !(isNullOrUndefined(tempArray[0].tagName) && tempArray.length === 1)) {\n      [].slice.call(tempArray).forEach(function (el) {\n        if (!isNullOrUndefined(el.tagName)) {\n          el.style.display = '';\n        }\n\n        ele.appendChild(el);\n      });\n    } else if (ele.childElementCount === 0) {\n      ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n    }\n\n    if (!isNullOrUndefined(temString)) {\n      if (this.templateEle.indexOf(value) === -1) {\n        this.templateEle.push(value);\n      }\n    }\n\n    return ele;\n  };\n\n  Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n    var header = select('.' + CLS_HEADER, itemEle);\n    var content = select('.' + CLS_CONTENT, itemEle);\n    header.setAttribute('aria-controls', content.id);\n    content.setAttribute('aria-labelledby', header.id);\n    content.setAttribute('role', 'definition');\n  };\n\n  Accordion.prototype.contentRendering = function (index) {\n    var itemcnt = this.createElement('div', {\n      className: CLS_CONTENT + ' ' + CLS_CTNHIDE,\n      id: getUniqueID('acrdn_panel')\n    });\n    attributes(itemcnt, {\n      'aria-hidden': 'true'\n    });\n    var ctn = this.createElement('div', {\n      className: CLS_CTENT\n    });\n\n    if (this.dataSource.length > 0) {\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n      itemcnt.appendChild(ctn);\n    } else {\n      if (this.enableHtmlSanitizer && typeof this.items[index].content) {\n        this.items[index].content = SanitizeHtmlHelper.sanitize(this.items[index].content);\n      }\n\n      itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n    }\n\n    return itemcnt;\n  };\n\n  Accordion.prototype.expand = function (trgt) {\n    var _this = this;\n\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n\n    if (isNullOrUndefined(trgt) || isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true' || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n      return;\n    }\n\n    var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n    var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n    var animation = {\n      name: this.animation.expand.effect,\n      duration: this.animation.expand.duration,\n      timingFunction: this.animation.expand.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    var eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: true\n    };\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        icon.classList.add(CLS_TOGANIMATE);\n\n        _this.expandedItemsPush(trgtItemEle);\n\n        if (!isNullOrUndefined(expandState)) {\n          expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n\n        if (animation.name === 'None') {\n          _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n    var _this = this;\n\n    var height;\n    this.lastActiveItemId = trgtItemEle.id;\n\n    if (ef === 'SlideDown') {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n\n        trgt.style.position = 'absolute';\n        height = trgtItemEle.offsetHeight;\n        trgt.style.maxHeight = trgt.offsetHeight + 'px';\n        trgtItemEle.style.maxHeight = '';\n      };\n\n      animate.progress = function () {\n        trgtItemEle.style.minHeight = height + trgt.offsetHeight + 'px';\n      };\n\n      animate.end = function () {\n        setStyleAttribute(trgt, {\n          'position': '',\n          'maxHeight': ''\n        });\n        trgtItemEle.style.minHeight = '';\n\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    } else {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n      };\n\n      animate.end = function () {\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(trgt, CLS_CTNHIDE);\n    this.add(trgtItemEle, CLS_SLCTED);\n    this.add(icon, CLS_EXPANDICN);\n\n    if (progress === 'end') {\n      this.add(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'false');\n      attributes(trgtItemEle, {\n        'aria-expanded': 'true'\n      });\n      attributes(trgt.previousElementSibling, {\n        'aria-label': 'expanded'\n      });\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.trigger('expanded', eventArgs);\n    }\n  };\n\n  Accordion.prototype.expandedItemsPush = function (item) {\n    var index = this.getIndexByItem(item);\n\n    if (this.expandedIndices.indexOf(index) === -1) {\n      var temp = [].slice.call(this.expandedIndices);\n      temp.push(index);\n      this.setProperties({\n        expandedIndices: temp\n      }, true);\n    }\n  };\n\n  Accordion.prototype.getIndexByItem = function (item) {\n    var itemEle = this.getItemElements();\n    return [].slice.call(itemEle).indexOf(item);\n  };\n\n  Accordion.prototype.getItemElements = function () {\n    var itemEle = [];\n    var itemCollection = this.element.children;\n    [].slice.call(itemCollection).forEach(function (el) {\n      if (el.classList.contains(CLS_ITEM$1)) {\n        itemEle.push(el);\n      }\n    });\n    return itemEle;\n  };\n\n  Accordion.prototype.expandedItemsPop = function (item) {\n    var index = this.getIndexByItem(item);\n    var temp = [].slice.call(this.expandedIndices);\n    temp.splice(temp.indexOf(index), 1);\n    this.setProperties({\n      expandedIndices: temp\n    }, true);\n  };\n\n  Accordion.prototype.collapse = function (trgt) {\n    var _this = this;\n\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n\n    if (isNullOrUndefined(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n      return;\n    }\n\n    var animation = {\n      name: this.animation.collapse.effect,\n      duration: this.animation.collapse.duration,\n      timingFunction: this.animation.collapse.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    var eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: false\n    };\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        _this.expandedItemsPop(trgtItemEle);\n\n        trgtItemEle.classList.remove(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n\n        if (animation.name === 'None') {\n          _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n    var _this = this;\n\n    var height;\n    var trgtHeight;\n    var itemHeight;\n    var remain;\n    this.lastActiveItemId = trgtItEl.id;\n\n    if (ef === 'SlideUp') {\n      animate.begin = function () {\n        itemHeight = trgtItEl.offsetHeight;\n        trgtItEl.style.minHeight = itemHeight + 'px';\n        trgt.style.position = 'absolute';\n        height = trgtItEl.offsetHeight;\n        trgtHeight = trgt.offsetHeight;\n        trgt.style.maxHeight = trgtHeight + 'px';\n\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.progress = function () {\n        remain = height - (trgtHeight - trgt.offsetHeight);\n\n        if (remain < itemHeight) {\n          trgtItEl.style.minHeight = remain + 'px';\n        }\n      };\n\n      animate.end = function () {\n        trgt.style.display = 'none';\n\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n\n        trgtItEl.style.minHeight = '';\n        setStyleAttribute(trgt, {\n          'position': '',\n          'maxHeight': '',\n          'display': ''\n        });\n      };\n    } else {\n      animate.begin = function () {\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.end = function () {\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(icon, CLS_EXPANDICN);\n    this.remove(trgtItemEle, CLS_SLCTED);\n\n    if (progress === 'end') {\n      this.add(trgt, CLS_CTNHIDE);\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.remove(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'true');\n      attributes(trgtItemEle, {\n        'aria-expanded': 'false'\n      });\n      attributes(trgt.previousElementSibling, {\n        'aria-label': 'collapsed'\n      });\n      this.trigger('expanded', eventArgs);\n    }\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  Accordion.prototype.getModuleName = function () {\n    return 'accordion';\n  };\n\n  Accordion.prototype.itemAttribUpdate = function () {\n    var items = this.getItems();\n    var itemEle = this.getItemElements();\n    var itemLen = items.length;\n    itemEle.forEach(function (ele) {\n      select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n    });\n  };\n\n  Accordion.prototype.getItems = function () {\n    var items;\n\n    if (this.itemTemplate && this.headerTemplate) {\n      items = this.dataSource;\n    } else {\n      items = this.items;\n    }\n\n    return items;\n  };\n  /**\n   * Adds new item to the Accordion with the specified index of the Accordion.\n   *\n   * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n   * @param  {number} index - Number value that determines where the item should be added.\n   * By default, item is added at the last index if the index is not specified.\n   * @returns {void}\n   */\n\n\n  Accordion.prototype.addItem = function (item, index) {\n    var _this = this;\n\n    var ele = this.element;\n    var itemEle = this.getItemElements();\n    var items = this.getItems();\n\n    if (isNullOrUndefined(index)) {\n      index = items.length;\n    }\n\n    if (ele.childElementCount >= index) {\n      var addItems = item instanceof Array ? item : [item];\n      addItems.forEach(function (addItem, i) {\n        var itemIndex = index + i;\n        items.splice(itemIndex, 0, addItem);\n\n        var innerItemEle = _this.renderInnerItem(addItem, itemIndex);\n\n        if (ele.childElementCount === itemIndex) {\n          ele.appendChild(innerItemEle);\n        } else {\n          ele.insertBefore(innerItemEle, itemEle[itemIndex]);\n        }\n\n        EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n        EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n\n        _this.itemAttribUpdate();\n\n        _this.expandedIndices = [];\n\n        _this.expandedItemRefresh(ele);\n\n        if (addItem && addItem.expanded) {\n          _this.expandItem(true, itemIndex);\n        }\n      });\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Accordion.prototype.expandedItemRefresh = function (ele) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n    [].slice.call(itemEle).forEach(function (el) {\n      if (el.classList.contains(CLS_SLCTED)) {\n        _this.expandedItemsPush(el);\n      }\n    });\n  };\n  /**\n   * Dynamically removes item from Accordion.\n   *\n   * @param  {number} index - Number value that determines which item should be removed.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.removeItem = function (index) {\n    if (this.isReact) {\n      this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n    }\n\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n    var items = this.getItems();\n\n    if (isNullOrUndefined(ele)) {\n      return;\n    }\n\n    this.restoreContent(index);\n    detach(ele);\n    items.splice(index, 1);\n    this.itemAttribUpdate();\n    this.expandedIndices = [];\n    this.expandedItemRefresh(this.element);\n  };\n  /**\n   * Sets focus to the specified index item header in Accordion.\n   *\n   * @param  {number} index - Number value that determines which item should be focused.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.select = function (index) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNullOrUndefined(ele) || isNullOrUndefined(select('.' + CLS_HEADER, ele))) {\n      return;\n    }\n\n    ele.children[0].focus();\n  };\n  /**\n   * Shows or hides the specified item from Accordion.\n   *\n   * @param  {number} index - Number value that determines which item should be hidden/shown.\n   * @param  {boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n   * If the `isHidden` value is false, the item is shown or else item it is hidden.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.hideItem = function (index, isHidden) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNullOrUndefined(ele)) {\n      return;\n    }\n\n    if (isNullOrUndefined(isHidden)) {\n      isHidden = true;\n    }\n\n    if (isHidden) {\n      this.add(ele, CLS_ITEMHIDE);\n    } else {\n      this.remove(ele, CLS_ITEMHIDE);\n    }\n  };\n  /**\n   * Enables/Disables the specified Accordion item.\n   *\n   * @param  {number} index - Number value that determines which item should be enabled/disabled.\n   * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n   * If the `isEnable` value is true, the item is enabled or else it is disabled.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.enableItem = function (index, isEnable) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[index];\n\n    if (isNullOrUndefined(ele)) {\n      return;\n    }\n\n    var eleHeader = ele.firstElementChild;\n\n    if (isEnable) {\n      this.remove(ele, CLS_DISABLE$3);\n      attributes(eleHeader, {\n        'tabindex': '0',\n        'aria-disabled': 'false'\n      });\n      eleHeader.focus();\n    } else {\n      if (ele.classList.contains(CLS_ACTIVE)) {\n        this.expandItem(false, index);\n        this.eleMoveFocus('movedown', this.element, eleHeader);\n      }\n\n      this.add(ele, CLS_DISABLE$3);\n      eleHeader.setAttribute('aria-disabled', 'true');\n      eleHeader.removeAttribute('tabindex');\n    }\n  };\n  /**\n   * Expands/Collapses the specified Accordion item.\n   *\n   * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n   * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n   * Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.expandItem = function (isExpand, index) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n\n    if (isNullOrUndefined(index)) {\n      if (this.expandMode === 'Single' && isExpand) {\n        var ele = itemEle[itemEle.length - 1];\n        this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n      } else {\n        var item = select('#' + this.lastActiveItemId, this.element);\n        [].slice.call(itemEle).forEach(function (el) {\n          _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n\n          el.classList.remove(CLS_EXPANDSTATE);\n        });\n        var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n\n        if (expandedItem) {\n          expandedItem.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        if (item) {\n          item.classList.add(CLS_EXPANDSTATE);\n        }\n      }\n    } else {\n      var ele = itemEle[index];\n\n      if (isNullOrUndefined(ele) || !ele.classList.contains(CLS_SLCT) || ele.classList.contains(CLS_ACTIVE) && isExpand) {\n        return;\n      } else {\n        if (this.expandMode === 'Single') {\n          this.expandItem(false);\n        }\n\n        this.itemExpand(isExpand, ele, index);\n      }\n    }\n  };\n\n  Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n    var ctn = ele.children[1];\n\n    if (ele.classList.contains(CLS_DISABLE$3)) {\n      return;\n    }\n\n    if (isNullOrUndefined(ctn) && isExpand) {\n      ctn = this.contentRendering(index);\n      ele.appendChild(ctn);\n      this.ariaAttrUpdate(ele);\n      this.expand(ctn);\n    } else if (!isNullOrUndefined(ctn)) {\n      if (isExpand) {\n        this.expand(ctn);\n      } else {\n        this.collapse(ctn);\n      }\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.destroyItems = function () {\n    this.restoreContent(null);\n\n    if (this.isReact || this.isAngular || this.isVue) {\n      this.clearTemplate();\n    }\n\n    [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1)).forEach(function (el) {\n      detach(el);\n    });\n  };\n\n  Accordion.prototype.restoreContent = function (index) {\n    var ctnElePos;\n\n    if (isNullOrUndefined(index)) {\n      ctnElePos = this.element;\n    } else {\n      ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM$1)[index];\n    }\n\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNullOrUndefined(ctnElePos.querySelector(eleStr))) {\n        document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n\n  Accordion.prototype.updateItem = function (item, index) {\n    if (!isNullOrUndefined(item)) {\n      var items = this.getItems();\n      var itemObj = items[index];\n      items.splice(index, 1);\n      this.restoreContent(index);\n      detach(item);\n      this.addItem(itemObj, index);\n    }\n  };\n\n  Accordion.prototype.setTemplate = function (template, toElement, index) {\n    toElement.innerHTML = '';\n    this.templateCompile(toElement, template, index);\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.templateCompile = function (ele, cnt, index) {\n    var tempEle = this.createElement('div');\n    this.fetchElement(tempEle, cnt, index, false);\n\n    if (tempEle.childNodes.length !== 0) {\n      [].slice.call(tempEle.childNodes).forEach(function (childEle) {\n        ele.appendChild(childEle);\n      });\n    }\n  };\n\n  Accordion.prototype.getPersistData = function () {\n    var keyEntity = ['expandedIndices'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   *\n   * @param  {AccordionModel} newProp - It contains the new value of data.\n   * @param  {AccordionModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var acrdn = this.element;\n    var isRefresh = false;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n          if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n\n            for (var j = 0; j < changedProp.length; j++) {\n              var index = parseInt(Object.keys(newProp.items)[j], 10);\n              var property = Object.keys(newProp.items[index])[0];\n              var item = selectAll('.' + CLS_ITEM$1, this.element)[index];\n              var oldVal = Object(oldProp.items[index])[property];\n              var newVal = Object(newProp.items[index])[property];\n              var temp = property;\n\n              if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || temp === 'content' && oldVal === '') {\n                this.updateItem(item, index);\n              }\n\n              if (property === 'cssClass' && !isNullOrUndefined(item)) {\n                item.classList.remove(oldVal);\n                item.classList.add(newVal);\n              }\n\n              if (property === 'visible' && !isNullOrUndefined(item)) {\n                if (Object(newProp.items[index])[property] === false) {\n                  item.classList.add(CLS_ITEMHIDE);\n                } else {\n                  item.classList.remove(CLS_ITEMHIDE);\n                }\n              }\n\n              if (property === 'disabled' && !isNullOrUndefined(item)) {\n                this.enableItem(index, !newVal);\n              }\n\n              if (property === 'content' && !isNullOrUndefined(item) && item.children.length === 2) {\n                if (typeof newVal === 'function') {\n                  var activeContent = item.querySelector('.' + CLS_CTENT);\n                  activeContent.innerHTML = '';\n                  this.setTemplate(newVal, activeContent, index);\n                } else {\n                  if (item.classList.contains(CLS_SLCTED)) {\n                    this.expandItem(false, index);\n                  }\n\n                  detach(item.querySelector('.' + CLS_CONTENT));\n                }\n              }\n            }\n          } else {\n            isRefresh = true;\n          }\n\n          break;\n\n        case 'dataSource':\n        case 'expandedIndices':\n          if (this.expandedIndices === null) {\n            this.expandedIndices = [];\n          }\n\n          isRefresh = true;\n          break;\n\n        case 'headerTemplate':\n          this.initializeHeaderTemplate();\n          isRefresh = true;\n          break;\n\n        case 'itemTemplate':\n          this.initializeItemTemplate();\n          isRefresh = true;\n          break;\n\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            this.add(acrdn, CLS_RTL$3);\n          } else {\n            this.remove(acrdn, CLS_RTL$3);\n          }\n\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'expandMode':\n          if (newProp.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n\n            if (this.expandedIndices.length > 1) {\n              this.expandItem(false);\n            }\n          } else {\n            this.element.setAttribute('aria-multiselectable', 'true');\n          }\n\n          break;\n      }\n    }\n\n    if (isRefresh) {\n      this.initExpand = [];\n\n      if (this.expandedIndices.length > 0) {\n        this.initExpand = this.expandedIndices;\n      }\n\n      this.destroyItems();\n      this.renderItems();\n      this.initItemExpand();\n    }\n  };\n\n  __decorate$4([Collection([], AccordionItem)], Accordion.prototype, \"items\", void 0);\n\n  __decorate$4([Property([])], Accordion.prototype, \"dataSource\", void 0);\n\n  __decorate$4([Property()], Accordion.prototype, \"itemTemplate\", void 0);\n\n  __decorate$4([Property()], Accordion.prototype, \"headerTemplate\", void 0);\n\n  __decorate$4([Property('100%')], Accordion.prototype, \"width\", void 0);\n\n  __decorate$4([Property('auto')], Accordion.prototype, \"height\", void 0);\n\n  __decorate$4([Property([])], Accordion.prototype, \"expandedIndices\", void 0);\n\n  __decorate$4([Property('Multiple')], Accordion.prototype, \"expandMode\", void 0);\n\n  __decorate$4([Property(false)], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$4([Complex({}, AccordionAnimationSettings)], Accordion.prototype, \"animation\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"clicked\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"expanding\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"expanded\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"created\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"destroyed\", void 0);\n\n  Accordion = __decorate$4([NotifyPropertyChanges], Accordion);\n  return Accordion;\n}(Component);\n/**\n * Accordion all modules\n */\n\n\nvar __extends$5 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$5 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\n\n\nvar ContextMenu =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$5(ContextMenu, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {ContextMenuModel} options - Specifies the context menu model\n   * @param {string} element - Specifies the element\n   */\n\n\n  function ContextMenu(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * For internal use only - prerender processing.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.preRender = function () {\n    this.isMenu = false;\n    this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n\n    _super.prototype.preRender.call(this);\n  };\n\n  ContextMenu.prototype.initialize = function () {\n    _super.prototype.initialize.call(this);\n\n    attributes(this.element, {\n      'role': 'menubar',\n      'tabindex': '0'\n    });\n    this.element.style.zIndex = getZindexPartial(this.element).toString();\n  };\n  /**\n   * This method is used to open the ContextMenu in specified position.\n   *\n   * @param {number} top - To specify ContextMenu vertical positioning.\n   * @param {number} left - To specify ContextMenu horizontal positioning.\n   * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n   * @function open\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.open = function (top, left, target) {\n    _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n  };\n  /**\n   * Closes the ContextMenu if it is opened.\n   *\n   * @function close\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.close = function () {\n    _super.prototype.closeMenu.call(this);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {ContextMenuModel} newProp - Specifies new properties\n   * @param {ContextMenuModel} oldProp - Specifies old properties\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'filter':\n          this.close();\n          this.filter = newProp.filter;\n          break;\n\n        case 'target':\n          this.unWireEvents(oldProp.target);\n          this.wireEvents();\n          break;\n      }\n    }\n  };\n  /**\n   * Get module name.\n   *\n   * @returns {string} - Module Name\n   * @private\n   */\n\n\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextmenu';\n  };\n\n  __decorate$5([Property('')], ContextMenu.prototype, \"target\", void 0);\n\n  __decorate$5([Property('')], ContextMenu.prototype, \"filter\", void 0);\n\n  __decorate$5([Collection([], MenuItem)], ContextMenu.prototype, \"items\", void 0);\n\n  ContextMenu = __decorate$5([NotifyPropertyChanges], ContextMenu);\n  return ContextMenu;\n}(MenuBase);\n/**\n * ContextMenu modules\n */\n\n\nvar __extends$6 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$6 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n\n\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\nvar HAMBURGER = 'e-hamburger';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\n\nvar Menu =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$6(Menu, _super);\n  /**\n   * Constructor for creating the component.\n   *\n   * @private\n   * @param {MenuModel} options - Specifies the menu model\n   * @param {string} element - Specifies the element\n   */\n\n\n  function Menu(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.tempItems = [];\n    return _this;\n  }\n  /**\n   * Get module name.\n   *\n   * @private\n   * @returns {string} - Module Name\n   */\n\n\n  Menu.prototype.getModuleName = function () {\n    return 'menu';\n  };\n  /**\n   * For internal use only - prerender processing.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Menu.prototype.preRender = function () {\n    this.isMenu = true;\n    this.element.id = this.element.id || getUniqueID('ej2-menu');\n\n    if (this.template) {\n      try {\n        if (document.querySelectorAll(this.template).length) {\n          this.template = document.querySelector(this.template).innerHTML.trim();\n          this.clearChanges();\n        }\n      } catch (e) {\n        /* action on catch */\n      }\n    } else {\n      this.updateMenuItems(this.items);\n    }\n\n    _super.prototype.preRender.call(this);\n  };\n\n  Menu.prototype.initialize = function () {\n    _super.prototype.initialize.call(this);\n\n    attributes(this.element, {\n      'role': 'menubar',\n      'tabindex': '0'\n    });\n\n    if (this.orientation === 'Vertical') {\n      this.element.classList.add(VMENU);\n\n      if (this.hamburgerMode && !this.target) {\n        this.element.previousElementSibling.classList.add(VMENU);\n      }\n\n      this.element.setAttribute('aria-orientation', 'vertical');\n    } else {\n      if (Browser.isDevice && !this.enableScrolling) {\n        this.element.parentElement.classList.add(SCROLLABLE);\n      }\n    }\n\n    if (this.hamburgerMode) {\n      this.element.parentElement.classList.add(HAMBURGER);\n\n      if (this.orientation === 'Horizontal') {\n        this.element.classList.add('e-hide-menu');\n      }\n    }\n  };\n\n  Menu.prototype.updateMenuItems = function (items) {\n    this.tempItems = items;\n    this.items = [];\n    this.tempItems.map(this.createMenuItems, this);\n    this.setProperties({\n      items: this.items\n    }, true);\n    this.tempItems = [];\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {MenuModel} newProp - Specifies the new properties.\n   * @param {MenuModel} oldProp - Specifies the old properties.\n   * @returns {void}\n   */\n\n\n  Menu.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'orientation':\n          if (newProp.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n\n            if (this.hamburgerMode) {\n              if (!this.target) {\n                this.element.previousElementSibling.classList.add(VMENU);\n              }\n\n              this.element.classList.remove('e-hide-menu');\n            }\n\n            this.element.setAttribute('aria-orientation', 'vertical');\n          } else {\n            this.element.classList.remove(VMENU);\n\n            if (this.hamburgerMode) {\n              if (!this.target) {\n                this.element.previousElementSibling.classList.remove(VMENU);\n              }\n\n              this.element.classList.add('e-hide-menu');\n            }\n\n            this.element.removeAttribute('aria-orientation');\n          }\n\n          break;\n\n        case 'items':\n          if (!Object.keys(oldProp.items).length) {\n            this.updateMenuItems(newProp.items);\n          }\n\n          break;\n\n        case 'hamburgerMode':\n          if (!this.element.previousElementSibling) {\n            _super.prototype.createHeaderContainer.call(this);\n          }\n\n          if (newProp.hamburgerMode) {\n            this.element.parentElement.classList.add(HAMBURGER);\n            [].slice.call(this.element.getElementsByClassName('e-blankicon')).forEach(function (li) {\n              li.style[_this.enableRtl ? 'paddingRight' : 'paddingLeft'] = '';\n            });\n          } else {\n            this.element.parentElement.classList.remove(HAMBURGER);\n\n            if (this.orientation === 'Vertical') {\n              this.setBlankIconStyle(this.element);\n            }\n          }\n\n          if (this.orientation === 'Vertical') {\n            if (!this.target) {\n              this.element.previousElementSibling.classList.add(VMENU);\n            }\n\n            this.element.classList.remove('e-hide-menu');\n          } else {\n            if (this.target) {\n              this.element.previousElementSibling.classList.add(VMENU);\n            } else {\n              this.element.previousElementSibling.classList.remove(VMENU);\n            }\n\n            this.element.classList[newProp.hamburgerMode ? 'add' : 'remove']('e-hide-menu');\n          }\n\n          break;\n\n        case 'title':\n          if (this.hamburgerMode && this.element.previousElementSibling) {\n            newProp.title = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(newProp.title) : newProp.title;\n            this.element.previousElementSibling.querySelector('.e-menu-title').innerHTML = newProp.title;\n          }\n\n          break;\n\n        case 'target':\n          if (this.hamburgerMode) {\n            this.unWireEvents(oldProp.target);\n            this.wireEvents();\n\n            if (this.orientation === 'Horizontal') {\n              if (!newProp.target) {\n                if (!this.element.previousElementSibling) {\n                  _super.prototype.createHeaderContainer.call(this);\n                }\n\n                this.element.previousElementSibling.classList.remove(VMENU);\n              } else {\n                this.element.previousElementSibling.classList.add(VMENU);\n              }\n\n              this.element.classList.add('e-hide-menu');\n            }\n          }\n\n          break;\n      }\n    }\n\n    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n  };\n\n  Menu.prototype.createMenuItems = function (item) {\n    var idx;\n    var i;\n    var items = this.items;\n    var pIdField = this.getField('parentId');\n\n    if (item[pIdField]) {\n      idx = this.getIndex(item[pIdField].toString(), true);\n\n      for (i = 0; i < idx.length; i++) {\n        if (!items[idx[i]].items) {\n          items[idx[i]].items = [];\n        }\n\n        items = items[idx[i]].items;\n      }\n\n      items.push(item);\n    } else {\n      this.items.push(item);\n    }\n  };\n  /**\n   * This method is used to open the Menu in hamburger mode.\n   *\n   * @function open\n   * @returns {void}\n   */\n\n\n  Menu.prototype.open = function () {\n    _super.prototype.openHamburgerMenu.call(this);\n  };\n  /**\n   * Closes the Menu if it is opened in hamburger mode.\n   *\n   * @function close\n   * @returns {void}\n   */\n\n\n  Menu.prototype.close = function () {\n    _super.prototype.closeHamburgerMenu.call(this);\n  };\n\n  __decorate$6([Property('Horizontal')], Menu.prototype, \"orientation\", void 0);\n\n  __decorate$6([Property('')], Menu.prototype, \"target\", void 0);\n\n  __decorate$6([Property(null)], Menu.prototype, \"template\", void 0);\n\n  __decorate$6([Property(false)], Menu.prototype, \"enableScrolling\", void 0);\n\n  __decorate$6([Property(false)], Menu.prototype, \"hamburgerMode\", void 0);\n\n  __decorate$6([Property('Menu')], Menu.prototype, \"title\", void 0);\n\n  __decorate$6([Property(false)], Menu.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$6([Complex({\n    itemId: 'id',\n    text: 'text',\n    parentId: 'parentId',\n    iconCss: 'iconCss',\n    url: 'url',\n    separator: 'separator',\n    children: 'items'\n  }, FieldSettings)], Menu.prototype, \"fields\", void 0);\n\n  Menu = __decorate$6([NotifyPropertyChanges], Menu);\n  return Menu;\n}(MenuBase);\n/**\n * Menu modules\n */\n\n\nvar __extends$7 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$7 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER$1 = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT$1 = 'e-content';\nvar CLS_NEST$1 = 'e-nested';\nvar CLS_ITEMS$1 = 'e-items';\nvar CLS_ITEM$2 = 'e-item';\nvar CLS_TEMPLATE$1 = 'e-template';\nvar CLS_RTL$4 = 'e-rtl';\nvar CLS_ACTIVE$1 = 'e-active';\nvar CLS_DISABLE$4 = 'e-disable';\nvar CLS_HIDDEN$1 = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY$2 = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL$1 = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\nvar TABITEMPREFIX = 'tabitem_';\nvar CLS_REORDER_ACTIVE_ITEM = 'e-reorder-active-item';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\n\nvar TabActionSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(TabActionSettings, _super);\n\n  function TabActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Property('SlideLeftIn')], TabActionSettings.prototype, \"effect\", void 0);\n\n  __decorate$7([Property(600)], TabActionSettings.prototype, \"duration\", void 0);\n\n  __decorate$7([Property('ease')], TabActionSettings.prototype, \"easing\", void 0);\n\n  return TabActionSettings;\n}(ChildProperty);\n/**\n * Objects used for configuring the Tab animation properties.\n */\n\n\nvar TabAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(TabAnimationSettings, _super);\n\n  function TabAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Complex({\n    effect: 'SlideLeftIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"previous\", void 0);\n\n  __decorate$7([Complex({\n    effect: 'SlideRightIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"next\", void 0);\n\n  return TabAnimationSettings;\n}(ChildProperty);\n/**\n * Objects used for configuring the Tab item header properties.\n */\n\n\nvar Header =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(Header, _super);\n\n  function Header() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Property('')], Header.prototype, \"text\", void 0);\n\n  __decorate$7([Property('')], Header.prototype, \"iconCss\", void 0);\n\n  __decorate$7([Property('left')], Header.prototype, \"iconPosition\", void 0);\n\n  return Header;\n}(ChildProperty);\n/**\n * An array of object that is used to configure the Tab.\n */\n\n\nvar TabItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(TabItem, _super);\n\n  function TabItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Complex({}, Header)], TabItem.prototype, \"header\", void 0);\n\n  __decorate$7([Property(null)], TabItem.prototype, \"headerTemplate\", void 0);\n\n  __decorate$7([Property('')], TabItem.prototype, \"content\", void 0);\n\n  __decorate$7([Property('')], TabItem.prototype, \"cssClass\", void 0);\n\n  __decorate$7([Property(false)], TabItem.prototype, \"disabled\", void 0);\n\n  __decorate$7([Property(true)], TabItem.prototype, \"visible\", void 0);\n\n  __decorate$7([Property()], TabItem.prototype, \"id\", void 0);\n\n  return TabItem;\n}(ChildProperty);\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\n\n\nvar Tab =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(Tab, _super);\n  /**\n   * Initializes a new instance of the Tab class.\n   *\n   * @param {TabModel} options  - Specifies Tab model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n   */\n\n\n  function Tab(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.show = {};\n    _this.hide = {};\n    _this.maxHeight = 0;\n    _this.title = 'Close';\n    _this.isInteracted = false;\n    _this.lastIndex = 0;\n    _this.isAdd = false;\n    _this.isIconAlone = false;\n    _this.draggableItems = [];\n    _this.resizeContext = _this.refreshActiveTabBorder.bind(_this);\n    /**\n     * Contains the keyboard configuration of the Tab.\n     */\n\n    _this.keyConfigs = {\n      tab: 'tab',\n      home: 'home',\n      end: 'end',\n      enter: 'enter',\n      space: 'space',\n      delete: 'delete',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    return _this;\n  }\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.destroy = function () {\n    var _this = this;\n\n    if (this.isReact || this.isAngular) {\n      this.clearTemplate();\n    }\n\n    if (!isNullOrUndefined(this.tbObj)) {\n      this.tbObj.destroy();\n      this.tbObj = null;\n    }\n\n    this.unWireEvents();\n    ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation', 'aria-owns'].forEach(function (val) {\n      _this.element.removeAttribute(val);\n    });\n    this.expTemplateContent();\n\n    if (!this.isTemplate) {\n      while (this.element.firstElementChild) {\n        remove(this.element.firstElementChild);\n      }\n    } else {\n      var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n      this.element.classList.remove(CLS_TEMPLATE$1);\n\n      if (!isNullOrUndefined(cntEle)) {\n        cntEle.innerHTML = this.cnt;\n      }\n    }\n\n    if (this.btnCls) {\n      this.btnCls = null;\n    }\n\n    this.hdrEle = null;\n    this.cntEle = null;\n    this.tbItems = null;\n    this.tbItem = null;\n    this.tbPop = null;\n    this.prevItem = null;\n    this.popEle = null;\n    this.bdrLine = null;\n    this.content = null;\n    this.dragItem = null;\n    this.cloneElement = null;\n    this.draggingItems = [];\n\n    if (this.draggableItems && this.draggableItems.length > 0) {\n      for (var i = 0; i < this.draggableItems.length; i++) {\n        this.draggableItems[i].destroy();\n        this.draggableItems[i] = null;\n      }\n\n      this.draggableItems = [];\n    }\n\n    _super.prototype.destroy.call(this);\n\n    this.trigger('destroyed');\n  };\n  /**\n   * Refresh the tab component\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.refresh = function () {\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n\n    _super.prototype.refresh.call(this);\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Initialize component\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tab.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT$1);\n    this.prevIndex = 0;\n    this.isNested = false;\n    this.isPopup = false;\n    this.initRender = true;\n    this.isSwipeed = false;\n    this.itemIndexArray = [];\n    this.templateEle = [];\n\n    if (this.allowDragAndDrop) {\n      this.dragArea = !isNullOrUndefined(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER$1);\n    }\n\n    if (!isNullOrUndefined(nested)) {\n      nested.parentElement.classList.add(CLS_NEST$1);\n      this.isNested = true;\n    }\n\n    var name = Browser.info.name;\n    var css = name === 'msie' ? 'e-ie' : name === 'edge' ? 'e-edge' : name === 'safari' ? 'e-safari' : '';\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    this.setCssClass(this.element, this.cssClass, true);\n    attributes(this.element, {\n      role: 'tablist',\n      'aria-disabled': 'false',\n      'aria-activedescendant': '',\n      'aria-owns': this.element.id + '_' + 'tab_header_items'\n    });\n    this.setCssClass(this.element, css, true);\n    this.updatePopAnimationConfig();\n  };\n  /**\n   * Initialize the component rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tab.prototype.render = function () {\n    this.btnCls = this.createElement('span', {\n      className: CLS_ICONS + ' ' + CLS_ICON_CLOSE,\n      attrs: {\n        title: this.title\n      }\n    });\n    this.tabId = this.element.id.length > 0 ? '-' + this.element.id : getRandomId();\n    this.renderContainer();\n    this.wireEvents();\n    this.initRender = false;\n  };\n\n  Tab.prototype.renderContainer = function () {\n    var ele = this.element;\n    this.items.forEach(function (item, index) {\n      if (isNullOrUndefined(item.id) && !isNullOrUndefined(item.setProperties)) {\n        item.setProperties({\n          id: TABITEMPREFIX + index.toString()\n        }, true);\n      }\n    });\n\n    if (this.items.length > 0 && ele.children.length === 0) {\n      ele.appendChild(this.createElement('div', {\n        className: CLS_CONTENT$1\n      }));\n      this.setOrientation(this.headerPlacement, this.createElement('div', {\n        className: CLS_HEADER$1\n      }));\n      this.isTemplate = false;\n    } else if (this.element.children.length > 0) {\n      this.isTemplate = true;\n      ele.classList.add(CLS_TEMPLATE$1);\n      var header = ele.querySelector('.' + CLS_HEADER$1);\n\n      if (header && this.headerPlacement === 'Bottom') {\n        this.setOrientation(this.headerPlacement, header);\n      }\n    }\n\n    if (!isNullOrUndefined(select('.' + CLS_HEADER$1, this.element)) && !isNullOrUndefined(select('.' + CLS_CONTENT$1, this.element))) {\n      this.renderHeader();\n      this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n\n      if (!isNullOrUndefined(this.tbItems)) {\n        rippleEffect(this.tbItems, {\n          selector: '.e-tab-wrap'\n        });\n      }\n\n      this.renderContent();\n\n      if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n        this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n        this.bdrLine = this.createElement('div', {\n          className: CLS_INDICATOR + ' ' + CLS_HIDDEN$1 + ' ' + CLS_IGNORE\n        });\n        var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n\n        if (!isNullOrUndefined(scrCnt)) {\n          scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n        } else {\n          this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n        }\n\n        this.setContentHeight(true);\n        this.select(this.selectedItem);\n      }\n\n      if (!isNullOrUndefined(this.tbItem)) {\n        for (var i = 0; i < this.items.length; i++) {\n          if (this.items[i]) {\n            var tabID = this.items[i].id;\n            this.tbItem[i].setAttribute('data-id', tabID);\n          }\n        }\n      }\n\n      this.setRTL(this.enableRtl);\n    }\n  };\n\n  Tab.prototype.renderHeader = function () {\n    var _this = this;\n\n    var hdrPlace = this.headerPlacement;\n    var tabItems = [];\n    this.hdrEle = this.getTabHeader();\n    this.addVerticalClass();\n\n    if (!this.isTemplate) {\n      tabItems = this.parseObject(this.items, 0);\n    } else {\n      if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER$1)) {\n        this.setProperties({\n          headerPlacement: 'Bottom'\n        }, true);\n      }\n\n      var count = this.hdrEle.children.length;\n      var hdrItems = [];\n\n      for (var i = 0; i < count; i++) {\n        hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n      }\n\n      if (count > 0) {\n        while (this.hdrEle.firstElementChild) {\n          detach(this.hdrEle.firstElementChild);\n        }\n\n        var tabItems_1 = this.createElement('div', {\n          className: CLS_ITEMS$1\n        });\n        this.hdrEle.appendChild(tabItems_1);\n        hdrItems.forEach(function (item, index) {\n          _this.lastIndex = index;\n          var attr = {\n            className: CLS_ITEM$2,\n            id: CLS_ITEM$2 + _this.tabId + '_' + index,\n            attrs: {\n              role: 'tab',\n              'aria-controls': CLS_CONTENT$1 + _this.tabId + '_' + index,\n              'aria-selected': 'false'\n            }\n          };\n\n          var txt = _this.createElement('span', {\n            className: CLS_TEXT,\n            innerHTML: item,\n            attrs: {\n              'role': 'presentation'\n            }\n          }).outerHTML;\n\n          var cont = _this.createElement('div', {\n            className: CLS_TEXT_WRAP,\n            innerHTML: txt + _this.btnCls.outerHTML\n          }).outerHTML;\n\n          var wrap = _this.createElement('div', {\n            className: CLS_WRAP,\n            innerHTML: cont,\n            attrs: {\n              tabIndex: '-1'\n            }\n          });\n\n          tabItems_1.appendChild(_this.createElement('div', attr));\n          selectAll('.' + CLS_ITEM$2, tabItems_1)[index].appendChild(wrap);\n        });\n      }\n    }\n\n    this.tbObj = new Toolbar({\n      width: hdrPlace === 'Left' || hdrPlace === 'Right' ? 'auto' : '100%',\n      height: hdrPlace === 'Left' || hdrPlace === 'Right' ? '100%' : 'auto',\n      overflowMode: this.overflowMode,\n      items: tabItems.length !== 0 ? tabItems : [],\n      clicked: this.clickHandler.bind(this),\n      scrollStep: this.scrollStep,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      cssClass: this.cssClass\n    });\n    this.tbObj.isStringTemplate = true;\n    this.tbObj.createElement = this.createElement;\n    this.tbObj.appendTo(this.hdrEle);\n    attributes(this.hdrEle, {\n      'aria-label': 'tab-header'\n    });\n    this.updateOrientationAttribute();\n    this.setCloseButton(this.showCloseButton);\n    var toolbarHeader = this.tbObj.element.querySelector('.' + CLS_TB_ITEMS);\n\n    if (!isNullOrUndefined(toolbarHeader)) {\n      if (isNullOrUndefined(toolbarHeader.id) || toolbarHeader.id === '') {\n        toolbarHeader.id = this.element.id + '_' + 'tab_header_items';\n      }\n\n      this.element.setAttribute('aria-owns', toolbarHeader.id);\n    }\n  };\n\n  Tab.prototype.renderContent = function () {\n    this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n    var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n\n    if (this.isTemplate) {\n      this.cnt = this.cntEle.children.length > 0 ? this.cntEle.innerHTML : '';\n      var contents = this.cntEle.children;\n\n      for (var i = 0; i < hdrItem.length; i++) {\n        if (contents.length - 1 >= i) {\n          addClass([contents.item(i)], CLS_ITEM$2);\n          attributes(contents.item(i), {\n            'role': 'tabpanel',\n            'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + i\n          });\n          contents.item(i).id = CLS_CONTENT$1 + this.tabId + '_' + i;\n        }\n      }\n    }\n  };\n\n  Tab.prototype.reRenderItems = function () {\n    this.renderContainer();\n\n    if (!isNullOrUndefined(this.cntEle)) {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n  };\n\n  Tab.prototype.parseObject = function (items, index) {\n    var _this = this;\n\n    var tbItems = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element);\n    var maxId = this.lastIndex;\n\n    if (!this.isReplace && tbItems.length > 0) {\n      var idList_1 = [];\n      tbItems.forEach(function (item) {\n        idList_1.push(parseInt(item.id.slice(item.id.indexOf('_') + 1), 10));\n      });\n      maxId = Math.max.apply(Math, idList_1);\n    }\n\n    var tItems = [];\n    var txtWrapEle;\n    var spliceArray = [];\n    items.forEach(function (item, i) {\n      var pos = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition) ? '' : item.header.iconPosition;\n      var css = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss) ? '' : item.header.iconCss;\n\n      if (isNullOrUndefined(item.headerTemplate) && (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.text) || item.header.text.length === 0 && css === '')) {\n        spliceArray.push(i);\n        return;\n      }\n\n      var txt = item.headerTemplate || item.header.text;\n\n      if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n        txt = SanitizeHtmlHelper.sanitize(txt);\n      }\n\n      var itemIndex;\n\n      if (_this.isReplace && !isNullOrUndefined(_this.tbId) && _this.tbId !== '') {\n        var num = _this.tbId.indexOf('_');\n\n        itemIndex = parseInt(_this.tbId.substring(num + 1), 10);\n        _this.tbId = '';\n      } else {\n        itemIndex = index + i;\n      }\n\n      _this.lastIndex = tbItems.length === 0 ? i : _this.isReplace ? itemIndex : maxId + 1 + i;\n      var disabled = item.disabled ? ' ' + CLS_DISABLE$4 + ' ' + CLS_OVERLAY$2 : '';\n      var hidden = item.visible === false ? ' ' + CLS_HIDDEN$1 : '';\n      txtWrapEle = _this.createElement('div', {\n        className: CLS_TEXT,\n        attrs: {\n          'role': 'presentation'\n        }\n      });\n      var tHtml = txt instanceof Object ? txt.outerHTML : txt;\n      var txtEmpty = !isNullOrUndefined(tHtml) && tHtml !== '';\n\n      if (!isNullOrUndefined(txt.tagName)) {\n        txtWrapEle.appendChild(txt);\n      } else {\n        _this.headerTextCompile(txtWrapEle, txt, i);\n      }\n\n      var tEle;\n\n      var icon = _this.createElement('span', {\n        className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n      });\n\n      var tCont = _this.createElement('div', {\n        className: CLS_TEXT_WRAP\n      });\n\n      tCont.appendChild(txtWrapEle);\n\n      if (txt !== '' && txt !== undefined && css !== '') {\n        if (pos === 'left' || pos === 'top') {\n          tCont.insertBefore(icon, tCont.firstElementChild);\n        } else {\n          tCont.appendChild(icon);\n        }\n\n        tEle = txtWrapEle;\n        _this.isIconAlone = false;\n      } else {\n        tEle = css === '' ? txtWrapEle : icon;\n\n        if (tEle === icon) {\n          detach(txtWrapEle);\n          tCont.appendChild(icon);\n          _this.isIconAlone = true;\n        }\n      }\n\n      var wrapAttrs = item.disabled ? {} : {\n        tabIndex: '-1'\n      };\n      tCont.appendChild(_this.btnCls.cloneNode(true));\n\n      var wrap = _this.createElement('div', {\n        className: CLS_WRAP,\n        attrs: wrapAttrs\n      });\n\n      wrap.appendChild(tCont);\n\n      if (_this.itemIndexArray === []) {\n        _this.itemIndexArray.push(CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n      } else {\n        _this.itemIndexArray.splice(index + i, 0, CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n      }\n\n      var attrObj = {\n        id: CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex,\n        role: 'tab',\n        'aria-selected': 'false'\n      };\n      var tItem = {\n        htmlAttributes: attrObj,\n        template: wrap\n      };\n      tItem.cssClass = (item.cssClass !== undefined ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' ' + (css !== '' ? 'e-i' + pos : '') + ' ' + (!txtEmpty ? CLS_ICON : '');\n\n      if (pos === 'top' || pos === 'bottom') {\n        _this.element.classList.add('e-vertical-icon');\n      }\n\n      tItems.push(tItem);\n      i++;\n    });\n\n    if (!this.isAdd) {\n      spliceArray.forEach(function (spliceItemIndex) {\n        _this.items.splice(spliceItemIndex, 1);\n      });\n    }\n\n    if (this.isIconAlone) {\n      this.element.classList.add(CLS_ICON_TAB);\n    } else {\n      this.element.classList.remove(CLS_ICON_TAB);\n    }\n\n    return tItems;\n  };\n\n  Tab.prototype.removeActiveClass = function () {\n    var tabHeader = this.getTabHeader();\n\n    if (tabHeader) {\n      var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, tabHeader);\n      [].slice.call(tabItems).forEach(function (node) {\n        return node.classList.remove(CLS_ACTIVE$1);\n      });\n    }\n  };\n\n  Tab.prototype.checkPopupOverflow = function (ele) {\n    this.tbPop = select('.' + CLS_TB_POP, this.element);\n    var popIcon = select('.e-hor-nav', this.element);\n    var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n    var lastChild = tbrItems.lastChild;\n    var isOverflow = false;\n\n    if (!this.isVertical() && (this.enableRtl && popIcon.offsetLeft + popIcon.offsetWidth > tbrItems.offsetLeft || !this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n      isOverflow = true;\n    } else if (this.isVertical() && popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight) {\n      isOverflow = true;\n    }\n\n    if (isOverflow) {\n      ele.classList.add(CLS_TB_POPUP);\n      this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n    }\n\n    return true;\n  };\n\n  Tab.prototype.popupHandler = function (target) {\n    var ripEle = target.querySelector('.e-ripple-element');\n\n    if (!isNullOrUndefined(ripEle)) {\n      ripEle.outerHTML = '';\n      target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n    }\n\n    this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n    var lastChild = this.tbItem[this.tbItem.length - 1];\n\n    if (this.tbItem.length !== 0) {\n      target.classList.remove(CLS_TB_POPUP);\n      target.removeAttribute('style');\n      this.tbItems.appendChild(target);\n      this.actEleId = target.id;\n\n      if (this.checkPopupOverflow(lastChild)) {\n        var prevEle = this.tbItems.lastChild.previousElementSibling;\n        this.checkPopupOverflow(prevEle);\n      }\n\n      this.isPopup = true;\n    }\n\n    return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n  };\n\n  Tab.prototype.updateOrientationAttribute = function () {\n    attributes(this.element, {\n      'aria-orientation': this.isVertical() ? 'vertical' : 'horizontal'\n    });\n  };\n\n  Tab.prototype.setCloseButton = function (val) {\n    var trg = select('.' + CLS_HEADER$1, this.element);\n\n    if (val === true) {\n      trg.classList.add(CLS_CLOSE_SHOW);\n    } else {\n      trg.classList.remove(CLS_CLOSE_SHOW);\n    }\n\n    this.tbObj.refreshOverflow();\n    this.refreshActiveTabBorder();\n  };\n\n  Tab.prototype.prevCtnAnimation = function (prev, current) {\n    var animation;\n    var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL$4);\n\n    if (this.isPopup || prev <= current) {\n      if (this.animation.previous.effect === 'SlideLeftIn') {\n        animation = {\n          name: 'SlideLeftOut',\n          duration: this.animation.previous.duration,\n          timingFunction: this.animation.previous.easing\n        };\n      } else {\n        animation = null;\n      }\n    } else {\n      if (this.animation.next.effect === 'SlideRightIn') {\n        animation = {\n          name: 'SlideRightOut',\n          duration: this.animation.next.duration,\n          timingFunction: this.animation.next.easing\n        };\n      } else {\n        animation = null;\n      }\n    }\n\n    return animation;\n  };\n\n  Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n    var _this = this;\n\n    var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n\n    if (!isNullOrUndefined(animateObj)) {\n      animateObj.begin = function () {\n        setStyleAttribute(oldCnt, {\n          'position': 'absolute'\n        });\n        oldCnt.classList.add(CLS_PROGRESS);\n        oldCnt.classList.add('e-view');\n      };\n\n      animateObj.end = function () {\n        oldCnt.style.display = 'none';\n        oldCnt.classList.remove(CLS_ACTIVE$1);\n        oldCnt.classList.remove(CLS_PROGRESS);\n        oldCnt.classList.remove('e-view');\n        setStyleAttribute(oldCnt, {\n          'display': '',\n          'position': ''\n        });\n\n        if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n          detach(oldCnt);\n        }\n      };\n\n      new Animation(animateObj).animate(oldCnt);\n    } else {\n      oldCnt.classList.remove(CLS_ACTIVE$1);\n    }\n  };\n\n  Tab.prototype.triggerAnimation = function (id, value) {\n    var _this = this;\n\n    var prevIndex = this.prevIndex;\n    var oldCnt;\n    var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT$1).children);\n    itemCollection.forEach(function (item) {\n      if (item.id === _this.prevActiveEle) {\n        oldCnt = item;\n      }\n    });\n    var prevEle = this.tbItem[prevIndex];\n    var newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n    if (isNullOrUndefined(oldCnt) && !isNullOrUndefined(prevEle)) {\n      var idNo = this.extIndex(prevEle.id);\n      oldCnt = this.getTrgContent(this.cntEle, idNo);\n    }\n\n    if (!isNullOrUndefined(newCnt)) {\n      this.prevActiveEle = newCnt.id;\n    }\n\n    var isPrevent = isNullOrUndefined(this.animation) || this.animation.next === {} || this.animation.previous === {} || isNullOrUndefined(this.animation.next.effect) || isNullOrUndefined(this.animation.previous.effect) || this.animation.previous.effect == 'None' || this.animation.next.effect == 'None';\n\n    if (this.initRender || value === false || this.animation === {} || isPrevent) {\n      if (oldCnt && oldCnt !== newCnt) {\n        oldCnt.classList.remove(CLS_ACTIVE$1);\n      }\n\n      return;\n    }\n\n    var cnt = select('.' + CLS_CONTENT$1, this.element);\n    var animateObj;\n\n    if (this.prevIndex > this.selectedItem && !this.isPopup) {\n      var openEff = this.animation.previous.effect;\n      animateObj = {\n        name: openEff === 'None' ? '' : openEff !== 'SlideLeftIn' ? openEff : 'SlideLeftIn',\n        duration: this.animation.previous.duration,\n        timingFunction: this.animation.previous.easing\n      };\n    } else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n      var clsEff = this.animation.next.effect;\n      animateObj = {\n        name: clsEff === 'None' ? '' : clsEff !== 'SlideRightIn' ? clsEff : 'SlideRightIn',\n        duration: this.animation.next.duration,\n        timingFunction: this.animation.next.easing\n      };\n    }\n\n    animateObj.progress = function () {\n      cnt.classList.add(CLS_PROGRESS);\n\n      _this.setActiveBorder();\n    };\n\n    animateObj.end = function () {\n      cnt.classList.remove(CLS_PROGRESS);\n      newCnt.classList.add(CLS_ACTIVE$1);\n    };\n\n    if (!this.initRender && !isNullOrUndefined(oldCnt)) {\n      this.triggerPrevAnimation(oldCnt, prevIndex);\n    }\n\n    this.isPopup = false;\n\n    if (animateObj.name === '') {\n      newCnt.classList.add(CLS_ACTIVE$1);\n    } else {\n      new Animation(animateObj).animate(newCnt);\n    }\n  };\n\n  Tab.prototype.keyPressed = function (trg) {\n    var trgParent = closest(trg, '.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n\n    if (!isNullOrUndefined(this.popEle) && trg.classList.contains('e-hor-nav')) {\n      this.popEle.classList.contains(CLS_POPUP_OPEN) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n    } else if (trg.classList.contains('e-scroll-nav')) {\n      trg.click();\n    } else {\n      if (!isNullOrUndefined(trgParent) && trgParent.classList.contains(CLS_ACTIVE$1) === false) {\n        this.selectTab(trgIndex, null, true);\n\n        if (!isNullOrUndefined(this.popEle)) {\n          this.popObj.hide(this.hide);\n        }\n      }\n    }\n  };\n\n  Tab.prototype.getTabHeader = function () {\n    if (isNullOrUndefined(this.element)) {\n      return undefined;\n    }\n\n    var headers = [].slice.call(this.element.children).filter(function (e) {\n      return e.classList.contains(CLS_HEADER$1);\n    });\n\n    if (headers.length > 0) {\n      return headers[0];\n    } else {\n      var wrap = [].slice.call(this.element.children).filter(function (e) {\n        return !e.classList.contains(CLS_BLA_TEM);\n      })[0];\n\n      if (!wrap) {\n        return undefined;\n      }\n\n      return [].slice.call(wrap.children).filter(function (e) {\n        return e.classList.contains(CLS_HEADER$1);\n      })[0];\n    }\n  };\n\n  Tab.prototype.getEleIndex = function (item) {\n    return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n  };\n\n  Tab.prototype.extIndex = function (id) {\n    return id.replace(CLS_ITEM$2 + this.tabId + '_', '');\n  };\n\n  Tab.prototype.expTemplateContent = function () {\n    var _this = this;\n\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNullOrUndefined(_this.element.querySelector(eleStr))) {\n        document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n\n  Tab.prototype.templateCompile = function (ele, cnt, index) {\n    var tempEle = this.createElement('div');\n    this.compileElement(tempEle, cnt, 'content', index);\n\n    if (tempEle.childNodes.length !== 0) {\n      ele.appendChild(tempEle);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Tab.prototype.compileElement = function (ele, val, prop, index) {\n    var templateFn;\n\n    if (typeof val === 'string') {\n      val = val.trim();\n\n      if (this.isVue) {\n        templateFn = compile(SanitizeHtmlHelper.sanitize(val));\n      } else {\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n      }\n    } else {\n      templateFn = compile(val);\n    }\n\n    var templateFUN;\n\n    if (!isNullOrUndefined(templateFn)) {\n      templateFUN = templateFn({}, this, prop);\n    }\n\n    if (!isNullOrUndefined(templateFn) && templateFUN.length > 0) {\n      [].slice.call(templateFUN).forEach(function (el) {\n        ele.appendChild(el);\n      });\n    }\n  };\n\n  Tab.prototype.headerTextCompile = function (element, text, index) {\n    this.compileElement(element, text, 'headerTemplate', index);\n  };\n\n  Tab.prototype.getContent = function (ele, cnt, callType, index) {\n    var eleStr;\n    cnt = isNullOrUndefined(cnt) ? \"\" : cnt;\n\n    if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n      if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n        cnt = SanitizeHtmlHelper.sanitize(cnt);\n      }\n\n      if (cnt[0] === '.' || cnt[0] === '#') {\n        if (document.querySelectorAll(cnt).length) {\n          var eleVal = document.querySelector(cnt);\n          eleStr = eleVal.outerHTML.trim();\n\n          if (callType === 'clone') {\n            ele.appendChild(eleVal.cloneNode(true));\n          } else {\n            ele.appendChild(eleVal);\n            eleVal.style.display = '';\n          }\n        } else {\n          this.templateCompile(ele, cnt, index);\n        }\n      } else {\n        this.templateCompile(ele, cnt, index);\n      }\n    } else {\n      ele.appendChild(cnt);\n    }\n\n    if (!isNullOrUndefined(eleStr)) {\n      if (this.templateEle.indexOf(cnt.toString()) === -1) {\n        this.templateEle.push(cnt.toString());\n      }\n    }\n  };\n\n  Tab.prototype.getTrgContent = function (cntEle, no) {\n    var ele;\n\n    if (this.element.classList.contains(CLS_NEST$1)) {\n      ele = select('.' + CLS_NEST$1 + '> .' + CLS_CONTENT$1 + ' > #' + CLS_CONTENT$1 + this.tabId + '_' + no, this.element);\n    } else {\n      ele = this.findEle(cntEle.children, CLS_CONTENT$1 + this.tabId + '_' + no);\n    }\n\n    return ele;\n  };\n\n  Tab.prototype.findEle = function (items, key) {\n    var ele;\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === key) {\n        ele = items[i];\n        break;\n      }\n    }\n\n    return ele;\n  };\n\n  Tab.prototype.isVertical = function () {\n    var isVertical = this.headerPlacement === 'Left' || this.headerPlacement === 'Right' ? true : false;\n    this.scrCntClass = isVertical ? CLS_VSCRCNT : CLS_HSCRCNT;\n    return isVertical;\n  };\n\n  Tab.prototype.addVerticalClass = function () {\n    if (this.isVertical()) {\n      var tbPos = this.headerPlacement === 'Left' ? CLS_VLEFT : CLS_VRIGHT;\n      addClass([this.hdrEle], [CLS_VERTICAL$1, tbPos]);\n\n      if (!this.element.classList.contains(CLS_NEST$1)) {\n        addClass([this.element], [CLS_VTAB, tbPos]);\n      } else {\n        addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n      }\n    }\n\n    if (this.headerPlacement === 'Bottom') {\n      addClass([this.hdrEle], [CLS_HBOTTOM]);\n    }\n  };\n\n  Tab.prototype.updatePopAnimationConfig = function () {\n    this.show = {\n      name: this.isVertical() ? 'FadeIn' : 'SlideDown',\n      duration: 100\n    };\n    this.hide = {\n      name: this.isVertical() ? 'FadeOut' : 'SlideUp',\n      duration: 100\n    };\n  };\n\n  Tab.prototype.changeOrientation = function (place) {\n    this.setOrientation(place, this.hdrEle);\n    var activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE$1);\n    var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL$1) ? true : false;\n    removeClass([this.element], [CLS_VTAB]);\n    removeClass([this.hdrEle], [CLS_VERTICAL$1, CLS_VLEFT, CLS_VRIGHT]);\n\n    if (isVertical !== this.isVertical()) {\n      this.changeToolbarOrientation();\n\n      if (!isNullOrUndefined(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n        this.popupHandler(activeTab);\n      }\n    }\n\n    this.addVerticalClass();\n    this.updateOrientationAttribute();\n    this.setActiveBorder();\n    this.focusItem();\n  };\n\n  Tab.prototype.focusItem = function () {\n    var curActItem = select(' #' + CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, this.hdrEle);\n\n    if (!isNullOrUndefined(curActItem)) {\n      curActItem.firstElementChild.focus();\n    }\n  };\n\n  Tab.prototype.changeToolbarOrientation = function () {\n    this.tbObj.setProperties({\n      height: this.isVertical() ? '100%' : 'auto',\n      width: this.isVertical() ? 'auto' : '100%'\n    }, true);\n    this.tbObj.changeOrientation();\n    this.updatePopAnimationConfig();\n  };\n\n  Tab.prototype.setOrientation = function (place, ele) {\n    var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n    var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT$1));\n\n    if (place === 'Bottom' && contentPos > headerPos) {\n      this.element.appendChild(ele);\n    } else {\n      removeClass([ele], [CLS_HBOTTOM]);\n      this.element.insertBefore(ele, select('.' + CLS_CONTENT$1, this.element));\n    }\n  };\n\n  Tab.prototype.setCssClass = function (ele, cls, val) {\n    if (cls === '') {\n      return;\n    }\n\n    var list = cls.split(' ');\n\n    for (var i = 0; i < list.length; i++) {\n      if (val) {\n        ele.classList.add(list[i]);\n      } else {\n        ele.classList.remove(list[i]);\n      }\n    }\n  };\n\n  Tab.prototype.setContentHeight = function (val) {\n    if (this.element.classList.contains(CLS_FILL)) {\n      removeClass([this.element], [CLS_FILL]);\n    }\n\n    if (isNullOrUndefined(this.cntEle)) {\n      return;\n    }\n\n    var hdrEle = this.getTabHeader();\n\n    if (this.heightAdjustMode === 'None') {\n      if (this.height === 'auto') {\n        return;\n      } else {\n        if (!this.isVertical()) {\n          setStyleAttribute(this.cntEle, {\n            'height': this.element.offsetHeight - hdrEle.offsetHeight + 'px'\n          });\n        }\n      }\n    } else if (this.heightAdjustMode === 'Fill') {\n      addClass([this.element], [CLS_FILL]);\n      setStyleAttribute(this.element, {\n        'height': '100%'\n      });\n      setStyleAttribute(this.cntEle, {\n        'height': this.element.offsetHeight - hdrEle.offsetHeight + 'px'\n      });\n    } else if (this.heightAdjustMode === 'Auto') {\n      if (this.isTemplate === true) {\n        var cnt = selectAll('.' + CLS_CONTENT$1 + ' > .' + CLS_ITEM$2, this.element);\n\n        for (var i = 0; i < cnt.length; i++) {\n          cnt[i].setAttribute('style', 'display:block; visibility: visible');\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n          cnt[i].style.removeProperty('display');\n          cnt[i].style.removeProperty('visibility');\n        }\n      } else {\n        this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n\n        if (val === true) {\n          this.cntEle.appendChild(this.createElement('div', {\n            id: CLS_CONTENT$1 + this.tabId + '_' + 0,\n            className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n            attrs: {\n              'role': 'tabpanel',\n              'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + 0\n            }\n          }));\n        }\n\n        var ele = this.cntEle.children.item(0);\n\n        for (var i = 0; i < this.items.length; i++) {\n          this.getContent(ele, this.items[i].content, 'clone', i);\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n\n          while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n          }\n        }\n\n        if (this.isReact) {\n          this.clearTemplate(['content']);\n        }\n\n        this.templateEle = [];\n        this.getContent(ele, this.items[0].content, 'render', 0);\n\n        if (this.prevIndex !== this.selectedItem) {\n          ele.classList.remove(CLS_ACTIVE$1);\n        }\n      }\n\n      setStyleAttribute(this.cntEle, {\n        'height': this.maxHeight + 'px'\n      });\n    } else {\n      setStyleAttribute(this.cntEle, {\n        'height': 'auto'\n      });\n    }\n  };\n\n  Tab.prototype.getHeight = function (ele) {\n    var cs = window.getComputedStyle(ele);\n    return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) + parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n  };\n\n  Tab.prototype.setActiveBorder = function () {\n    var trgHdrEle = this.getTabHeader();\n    var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, trgHdrEle);\n\n    if (isNullOrUndefined(trg)) {\n      return;\n    }\n\n    if (!this.reorderActiveTab) {\n      if (trg.classList.contains(CLS_TB_POPUP) && !this.bdrLine.classList.contains(CLS_HIDDEN$1)) {\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n      }\n\n      if (trgHdrEle && !trgHdrEle.classList.contains(CLS_REORDER_ACTIVE_ITEM)) {\n        trgHdrEle.classList.add(CLS_REORDER_ACTIVE_ITEM);\n      }\n    } else if (trgHdrEle) {\n      trgHdrEle.classList.remove(CLS_REORDER_ACTIVE_ITEM);\n    }\n\n    var root = closest(trg, '.' + CLS_TAB);\n\n    if (this.element !== root) {\n      return;\n    }\n\n    this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n    var bar = select('.' + CLS_INDICATOR, trgHdrEle);\n    var scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n\n    if (this.isVertical()) {\n      setStyleAttribute(bar, {\n        'left': '',\n        'right': ''\n      });\n      var tbHeight = isNullOrUndefined(scrollCnt) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n\n      if (tbHeight !== 0) {\n        setStyleAttribute(bar, {\n          'top': trg.offsetTop + 'px',\n          'height': trg.offsetHeight + 'px'\n        });\n      } else {\n        setStyleAttribute(bar, {\n          'top': 0,\n          'height': 0\n        });\n      }\n    } else {\n      if (this.overflowMode === 'MultiRow') {\n        var top_1 = this.headerPlacement === 'Bottom' ? trg.offsetTop : trg.offsetHeight + trg.offsetTop;\n        setStyleAttribute(bar, {\n          'top': top_1 + 'px',\n          'height': ''\n        });\n      } else {\n        setStyleAttribute(bar, {\n          'top': '',\n          'height': ''\n        });\n      }\n\n      var tbWidth = isNullOrUndefined(scrollCnt) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n\n      if (tbWidth !== 0) {\n        setStyleAttribute(bar, {\n          'left': trg.offsetLeft + 'px',\n          'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px'\n        });\n      } else {\n        setStyleAttribute(bar, {\n          'left': 'auto',\n          'right': 'auto'\n        });\n      }\n    }\n\n    if (!isNullOrUndefined(this.bdrLine) && !trg.classList.contains(CLS_TB_POPUP)) {\n      this.bdrLine.classList.remove(CLS_HIDDEN$1);\n    }\n  };\n\n  Tab.prototype.setActive = function (value, skipDataBind, isInteracted) {\n    if (skipDataBind === void 0) {\n      skipDataBind = false;\n    }\n\n    if (isInteracted === void 0) {\n      isInteracted = false;\n    }\n\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n    var trg = this.tbItem[value];\n\n    if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n      return;\n    }\n\n    if (value >= 0 && !skipDataBind) {\n      this.allowServerDataBinding = false;\n      this.setProperties({\n        selectedItem: value\n      }, true);\n      this.allowServerDataBinding = true;\n\n      if (!this.initRender) {\n        this.serverDataBind();\n      }\n    }\n\n    if (trg.classList.contains(CLS_ACTIVE$1)) {\n      this.setActiveBorder();\n      return;\n    }\n\n    if (!this.isTemplate) {\n      var prev = this.tbItem[this.prevIndex];\n\n      if (!isNullOrUndefined(prev)) {\n        prev.removeAttribute('aria-controls');\n      }\n\n      attributes(trg, {\n        'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + value\n      });\n    }\n\n    var id = trg.id;\n    this.removeActiveClass();\n    trg.classList.add(CLS_ACTIVE$1);\n    this.tbItem[this.prevIndex].setAttribute('aria-selected', 'false');\n    trg.setAttribute('aria-selected', 'true');\n    var no = Number(this.extIndex(id));\n\n    if (isNullOrUndefined(this.prevActiveEle)) {\n      this.prevActiveEle = CLS_CONTENT$1 + this.tabId + '_' + no;\n    }\n\n    attributes(this.element, {\n      'aria-activedescendant': id\n    });\n\n    if (this.isTemplate) {\n      if (select('.' + CLS_CONTENT$1, this.element).children.length > 0) {\n        var trg_1 = this.findEle(select('.' + CLS_CONTENT$1, this.element).children, CLS_CONTENT$1 + this.tabId + '_' + no);\n\n        if (!isNullOrUndefined(trg_1)) {\n          trg_1.classList.add(CLS_ACTIVE$1);\n        }\n\n        this.triggerAnimation(id, this.enableAnimation);\n      }\n    } else {\n      this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n      var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n      if (isNullOrUndefined(item)) {\n        this.cntEle.appendChild(this.createElement('div', {\n          id: CLS_CONTENT$1 + this.tabId + '_' + this.extIndex(id),\n          className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n          attrs: {\n            role: 'tabpanel',\n            'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + this.extIndex(id)\n          }\n        }));\n        var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n        var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n        this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n      } else {\n        item.classList.add(CLS_ACTIVE$1);\n      }\n\n      this.triggerAnimation(id, this.enableAnimation);\n    }\n\n    this.setActiveBorder();\n    this.refreshItemVisibility(trg);\n\n    if (!this.initRender && !skipDataBind) {\n      trg.firstElementChild.focus();\n      var eventArg = {\n        previousItem: this.prevItem,\n        previousIndex: this.prevIndex,\n        selectedItem: trg,\n        selectedIndex: value,\n        selectedContent: select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content),\n        isSwiped: this.isSwipeed,\n        isInteracted: isInteracted\n      };\n      this.trigger('selected', eventArg);\n    }\n  };\n\n  Tab.prototype.setItems = function (items) {\n    this.isReplace = true;\n    this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n    this.tbObj.items = this.parseObject(items, 0);\n    this.tbObj.dataBind();\n    this.isReplace = false;\n  };\n\n  Tab.prototype.setRTL = function (value) {\n    this.tbObj.enableRtl = value;\n    this.tbObj.dataBind();\n    this.setCssClass(this.element, CLS_RTL$4, value);\n    this.refreshActiveBorder();\n  };\n\n  Tab.prototype.refreshActiveBorder = function () {\n    if (!isNullOrUndefined(this.bdrLine)) {\n      this.bdrLine.classList.add(CLS_HIDDEN$1);\n    }\n\n    this.setActiveBorder();\n  };\n\n  Tab.prototype.showPopup = function (config) {\n    var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n\n    if (tbPop.classList.contains('e-popup-close')) {\n      var tbPopObj = tbPop && tbPop.ej2_instances[0];\n      tbPopObj.position.X = this.headerPlacement === 'Left' ? 'left' : 'right';\n      tbPopObj.dataBind();\n      tbPopObj.show(config);\n    }\n  };\n\n  Tab.prototype.bindDraggable = function () {\n    var _this = this;\n\n    if (this.allowDragAndDrop) {\n      var tabHeader = this.element.querySelector('.' + CLS_HEADER$1);\n\n      if (tabHeader) {\n        var items = tabHeader.querySelectorAll('.' + CLS_TB_ITEM);\n        items.forEach(function (element) {\n          _this.initializeDrag(element);\n        });\n      }\n    }\n  };\n\n  Tab.prototype.wireEvents = function () {\n    this.bindDraggable();\n    window.addEventListener('resize', this.resizeContext);\n    EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n    EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n\n    if (!isNullOrUndefined(this.cntEle)) {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n    this.tabKeyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: {\n        openPopup: 'shift+f10',\n        tab: 'tab',\n        shiftTab: 'shift+tab'\n      },\n      eventName: 'keydown'\n    });\n  };\n\n  Tab.prototype.unWireEvents = function () {\n    if (!isNullOrUndefined(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n\n    if (!isNullOrUndefined(this.tabKeyModule)) {\n      this.tabKeyModule.destroy();\n    }\n\n    if (!isNullOrUndefined(this.cntEle) && !isNullOrUndefined(this.touchModule)) {\n      this.touchModule.destroy();\n      this.touchModule = null;\n    }\n\n    window.removeEventListener('resize', this.resizeContext);\n    EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n    EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n    this.element.classList.remove(CLS_RTL$4);\n    this.element.classList.remove(CLS_FOCUS);\n  };\n\n  Tab.prototype.clickHandler = function (args) {\n    this.element.classList.remove(CLS_FOCUS);\n    var trg = args.originalEvent.target;\n    var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n\n    if (trg.classList.contains(CLS_ICON_CLOSE)) {\n      this.removeTab(trgIndex);\n    } else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n      this.showPopup(this.show);\n    } else {\n      this.isPopup = false;\n\n      if (!isNullOrUndefined(trgParent) && (trgIndex !== this.selectedItem || trgIndex !== this.prevIndex)) {\n        this.selectTab(trgIndex, args.originalEvent, true);\n      }\n    }\n  };\n\n  Tab.prototype.swipeHandler = function (e) {\n    if (e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches)) {\n      return;\n    }\n\n    if (this.isNested) {\n      this.element.setAttribute('data-swipe', 'true');\n    }\n\n    var nestedTab = this.element.querySelector('[data-swipe=\"true\"]');\n\n    if (nestedTab) {\n      nestedTab.removeAttribute('data-swipe');\n      return;\n    }\n\n    this.isSwipeed = true;\n\n    if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n      for (var k = this.selectedItem - 1; k >= 0; k--) {\n        if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n          this.selectTab(k, null, true);\n          break;\n        }\n      }\n    } else if (e.swipeDirection === 'Left' && this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1) {\n      for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n        if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n          this.selectTab(i, null, true);\n          break;\n        }\n      }\n    }\n\n    this.isSwipeed = false;\n  };\n\n  Tab.prototype.spaceKeyDown = function (e) {\n    if (e.keyCode === 32 && e.which === 32 || e.keyCode === 35 && e.which === 35) {\n      var clstHead = closest(e.target, '.' + CLS_HEADER$1);\n\n      if (!isNullOrUndefined(clstHead)) {\n        e.preventDefault();\n      }\n    }\n  };\n\n  Tab.prototype.keyHandler = function (e) {\n    if (this.element.classList.contains(CLS_DISABLE$4)) {\n      return;\n    }\n\n    this.element.classList.add(CLS_FOCUS);\n    var trg = e.target;\n    var tabHeader = this.getTabHeader();\n    var actEle = select('.' + CLS_ACTIVE$1, tabHeader);\n    this.popEle = select('.' + CLS_TB_POP, tabHeader);\n\n    if (!isNullOrUndefined(this.popEle)) {\n      this.popObj = this.popEle.ej2_instances[0];\n    }\n\n    var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n    var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n\n    switch (e.action) {\n      case 'space':\n      case 'enter':\n        if (trg.parentElement.classList.contains(CLS_DISABLE$4)) {\n          return;\n        }\n\n        if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n          this.showPopup(this.show);\n          break;\n        }\n\n        this.keyPressed(trg);\n        break;\n\n      case 'tab':\n      case 'shiftTab':\n        if (trg.classList.contains(CLS_WRAP) && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE$1) === false) {\n          trg.setAttribute('tabindex', '-1');\n        }\n\n        if (this.popObj && isVisible(this.popObj.element)) {\n          this.popObj.hide(this.hide);\n        }\n\n        actEle.children.item(0).setAttribute('tabindex', '0');\n        break;\n\n      case 'moveLeft':\n      case 'moveRight':\n        if (!isNullOrUndefined(item)) {\n          this.refreshItemVisibility(item);\n        }\n\n        break;\n\n      case 'openPopup':\n        e.preventDefault();\n\n        if (!isNullOrUndefined(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n          this.popObj.show(this.show);\n        }\n\n        break;\n\n      case 'delete':\n        if (this.showCloseButton === true && !isNullOrUndefined(trgParent)) {\n          var nxtSib = trgParent.nextSibling;\n\n          if (!isNullOrUndefined(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n            nxtSib.firstElementChild.focus();\n          }\n\n          this.removeTab(this.getEleIndex(trgParent));\n        }\n\n        this.setActiveBorder();\n        break;\n    }\n  };\n\n  Tab.prototype.refreshItemVisibility = function (target) {\n    var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n\n    if (!this.isVertical() && !isNullOrUndefined(scrCnt)) {\n      var scrBar = select('.e-hscroll-bar', this.tbItems);\n      var scrStart = scrBar.scrollLeft;\n      var scrEnd = scrStart + scrBar.offsetWidth;\n      var eleStart = target.offsetLeft;\n      var eleWidth = target.offsetWidth;\n      var eleEnd = target.offsetLeft + target.offsetWidth;\n\n      if (scrStart < eleStart && scrEnd < eleEnd) {\n        var eleViewRange = scrEnd - eleStart;\n        scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n      } else {\n        if (scrStart > eleStart && scrEnd > eleEnd) {\n          var eleViewRange = eleEnd - scrStart;\n          scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n        }\n      }\n    } else {\n      return;\n    }\n  };\n\n  Tab.prototype.hoverHandler = function (e) {\n    var trg = e.target;\n\n    if (!isNullOrUndefined(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n      trg.setAttribute('title', new L10n('tab', {\n        closeButtonTitle: this.title\n      }, this.locale).getConstant('closeButtonTitle'));\n    }\n  };\n\n  Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n      var changedProp = Object.keys(newProp.items);\n\n      for (var i = 0; i < changedProp.length; i++) {\n        var index = parseInt(Object.keys(newProp.items)[i], 10);\n        var properties = Object.keys(newProp.items[index]);\n\n        for (var j = 0; j < properties.length; j++) {\n          var oldVal = Object(oldProp.items[index])[properties[j]];\n          var newVal = Object(newProp.items[index])[properties[j]];\n          var hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n          var itemIndex = void 0;\n\n          if (hdr && !isNullOrUndefined(hdr.id) && hdr.id !== '') {\n            var num = hdr.id.lastIndexOf('_');\n            itemIndex = parseInt(hdr.id.substring(num + 1), 10);\n          } else {\n            itemIndex = index;\n          }\n\n          var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM$2 + this.tabId + '_' + itemIndex, this.element);\n          var cntItem = select('.' + CLS_CONTENT$1 + ' #' + CLS_CONTENT$1 + this.tabId + '_' + itemIndex, this.element);\n\n          if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n            var icon = isNullOrUndefined(this.items[index].header) || isNullOrUndefined(this.items[index].header.iconCss) ? '' : this.items[index].header.iconCss;\n            var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n\n            if (textVal === '' && icon === '') {\n              this.removeTab(index);\n            } else {\n              this.tbId = hdr.id;\n              var arr = [];\n              arr.push(this.items[index]);\n              this.items.splice(index, 1);\n              this.itemIndexArray.splice(index, 1);\n              this.tbObj.items.splice(index, 1);\n              var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN$1);\n              detach(hdrItem);\n              this.isReplace = true;\n              this.addTab(arr, index);\n\n              if (isHiddenEle) {\n                this.hideTab(index);\n              }\n\n              this.isReplace = false;\n            }\n          }\n\n          if (properties[j] === 'content' && !isNullOrUndefined(cntItem)) {\n            var strVal = typeof newVal === 'string' || isNullOrUndefined(newVal.innerHTML);\n\n            if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n              var eleVal = document.querySelector(newVal);\n              cntItem.appendChild(eleVal);\n              eleVal.style.display = '';\n            } else if (newVal === '' && oldVal[0] === '#') {\n              document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n              cntItem.innerHTML = newVal;\n            } else if (this.isReact) {\n              cntItem.innerHTML = '';\n              this.templateCompile(cntItem, newVal, index);\n            } else if (typeof newVal !== 'function') {\n              cntItem.innerHTML = newVal;\n            }\n          }\n\n          if (properties[j] === 'cssClass') {\n            if (!isNullOrUndefined(hdrItem)) {\n              hdrItem.classList.remove(oldVal);\n              hdrItem.classList.add(newVal);\n            }\n\n            if (!isNullOrUndefined(cntItem)) {\n              cntItem.classList.remove(oldVal);\n              cntItem.classList.add(newVal);\n            }\n          }\n\n          if (properties[j] === 'disabled') {\n            this.enableTab(index, newVal === true ? false : true);\n          }\n\n          if (properties[j] === 'visible') {\n            this.hideTab(index, newVal === true ? false : true);\n          }\n        }\n      }\n    } else {\n      this.lastIndex = 0;\n\n      if (isNullOrUndefined(this.tbObj)) {\n        this.reRenderItems();\n      } else {\n        if (this.isReact || this.isAngular) {\n          this.clearTemplate();\n        }\n\n        this.setItems(newProp.items);\n\n        if (this.templateEle.length > 0) {\n          this.expTemplateContent();\n        }\n\n        this.templateEle = [];\n        var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n\n        while (selectElement.firstElementChild) {\n          detach(selectElement.firstElementChild);\n        }\n\n        this.select(this.selectedItem);\n        this.draggableItems = [];\n        this.bindDraggable();\n      }\n    }\n  };\n\n  Tab.prototype.initializeDrag = function (target) {\n    var _this = this;\n\n    var dragObj = new Draggable(target, {\n      dragArea: this.dragArea,\n      dragTarget: '.' + CLS_TB_ITEM,\n      clone: true,\n      helper: this.helper.bind(this),\n      dragStart: this.itemDragStart.bind(this),\n      drag: function (e) {\n        var dragIndex = _this.getEleIndex(_this.dragItem);\n\n        var dropIndex;\n        var dropItem;\n        var dragArgs = {\n          draggedItem: _this.dragItem,\n          event: e.event,\n          target: e.target,\n          droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n          clonedElement: _this.cloneElement,\n          index: dragIndex\n        };\n\n        if (!isNullOrUndefined(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(_this.element) && _this.dragArea !== '.' + CLS_HEADER$1) {\n          _this.trigger('dragging', dragArgs);\n        } else {\n          if (!e.target.closest(_this.dragArea) && _this.overflowMode !== 'Popup') {\n            document.body.style.cursor = 'not-allowed';\n            addClass([_this.cloneElement], CLS_HIDDEN$1);\n\n            if (_this.dragItem.classList.contains(CLS_HIDDEN$1)) {\n              removeClass([_this.dragItem], CLS_HIDDEN$1);\n            }\n\n            _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n          } else {\n            document.body.style.cursor = '';\n            _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n\n            if (_this.cloneElement.classList.contains(CLS_HIDDEN$1)) {\n              removeClass([_this.cloneElement], CLS_HIDDEN$1);\n            }\n          }\n\n          if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n            var scrollRightNavEle = _this.element.querySelector('.e-scroll-right-nav');\n\n            var scrollLeftNavEle = _this.element.querySelector('.e-scroll-left-nav');\n\n            var hscrollBar = _this.element.querySelector('.e-hscroll-bar');\n\n            if (!isNullOrUndefined(scrollRightNavEle) && Math.abs(scrollRightNavEle.offsetWidth / 2 + scrollRightNavEle.offsetLeft) > _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n              hscrollBar.scrollLeft -= 10;\n            }\n\n            if (!isNullOrUndefined(scrollLeftNavEle) && Math.abs(scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth - _this.cloneElement.offsetLeft) > scrollLeftNavEle.offsetWidth / 2) {\n              hscrollBar.scrollLeft += 10;\n            }\n          }\n\n          _this.cloneElement.style.pointerEvents = 'none';\n          dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n          var scrollContentWidth = 0;\n\n          if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n            scrollContentWidth = _this.element.querySelector('.e-hscroll-content').offsetWidth;\n          }\n\n          if (dropItem != null && !dropItem.isSameNode(_this.dragItem) && dropItem.closest('.' + CLS_TAB).isSameNode(_this.dragItem.closest('.' + CLS_TAB))) {\n            dropIndex = _this.getEleIndex(dropItem);\n\n            if (dropIndex < dragIndex && Math.abs(dropItem.offsetLeft + dropItem.offsetWidth - _this.cloneElement.offsetLeft) > dropItem.offsetWidth / 2) {\n              _this.dragAction(dropItem, dragIndex, dropIndex);\n            }\n\n            if (dropIndex > dragIndex && Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft - scrollContentWidth < _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n              _this.dragAction(dropItem, dragIndex, dropIndex);\n            }\n          }\n\n          _this.droppedIndex = _this.getEleIndex(_this.dragItem);\n\n          _this.trigger('dragging', dragArgs);\n        }\n      },\n      dragStop: this.itemDragStop.bind(this)\n    });\n    this.draggableItems.push(dragObj);\n  };\n\n  Tab.prototype.helper = function (e) {\n    this.cloneElement = this.createElement('div');\n\n    if (e.element) {\n      this.cloneElement = e.element.cloneNode(true);\n      addClass([this.cloneElement], 'e-tab-clone-element');\n\n      if (this.element.querySelector('.' + CLS_HEADER$1).classList.contains(CLS_CLOSE_SHOW)) {\n        addClass([this.cloneElement], CLS_CLOSE_SHOW);\n      }\n\n      removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n\n      if (!isNullOrUndefined(this.cloneElement.querySelector('.e-ripple-element'))) {\n        remove(this.cloneElement.querySelector('.e-ripple-element'));\n      }\n\n      document.body.appendChild(this.cloneElement);\n    }\n\n    return this.cloneElement;\n  };\n\n  Tab.prototype.itemDragStart = function (e) {\n    var _this = this;\n\n    this.draggingItems = this.items.map(function (x) {\n      return x;\n    });\n    this.dragItem = e.element;\n    var dragArgs = {\n      draggedItem: e.element,\n      event: e.event,\n      target: e.target,\n      droppedItem: null,\n      index: this.getEleIndex(this.dragItem),\n      clonedElement: this.cloneElement,\n      cancel: false\n    };\n    this.trigger('onDragStart', dragArgs, function (tabitemDragArgs) {\n      if (tabitemDragArgs.cancel) {\n        detach(_this.cloneElement);\n      } else {\n        _this.removeActiveClass();\n\n        addClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n      }\n    });\n  };\n\n  Tab.prototype.dragAction = function (dropItem, dragsIndex, dropIndex) {\n    if (this.items.length > 0) {\n      var item = this.draggingItems[dragsIndex];\n      this.draggingItems.splice(dragsIndex, 1);\n      this.draggingItems.splice(dropIndex, 0, item);\n    }\n\n    if (this.overflowMode === 'MultiRow') {\n      dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n    }\n\n    if (dragsIndex > dropIndex) {\n      if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n        if (this.overflowMode === 'Extended') {\n          if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n            var popupContainer = this.dragItem.parentNode;\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n          } else {\n            this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n          }\n        } else {\n          var lastEle = dropItem.parentElement.lastChild;\n\n          if (dropItem.isSameNode(lastEle)) {\n            var popupContainer = this.dragItem.parentNode;\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            popupContainer.insertBefore(lastEle, popupContainer.childNodes[0]);\n          } else {\n            this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n          }\n        }\n      } else {\n        this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n      }\n    }\n\n    if (dragsIndex < dropIndex) {\n      if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n        if (this.overflowMode === 'Extended') {\n          this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n          dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n        } else {\n          this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n          dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n        }\n      } else {\n        this.dragItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n      }\n    }\n  };\n\n  Tab.prototype.itemDragStop = function (e) {\n    var _this = this;\n\n    detach(this.cloneElement);\n    this.cloneElement = null;\n    this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n    document.body.style.cursor = '';\n    var dragStopArgs = {\n      draggedItem: this.dragItem,\n      event: e.event,\n      target: e.target,\n      droppedItem: this.tbItem[this.droppedIndex],\n      clonedElement: null,\n      index: this.droppedIndex,\n      cancel: false\n    };\n    this.trigger('dragged', dragStopArgs, function (tabItemDropArgs) {\n      if (tabItemDropArgs.cancel) {\n        _this.refresh();\n      } else {\n        if (_this.items.length > 0 && _this.draggingItems.length > 0) {\n          _this.items = _this.draggingItems;\n          _this.selectedItem = _this.droppedIndex;\n\n          _this.refresh();\n        } else {\n          _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n          removeClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n\n          _this.selectTab(_this.droppedIndex, null, true);\n        }\n      }\n    });\n    this.dragItem = null;\n  };\n  /**\n   * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n   *\n   * @param {number} index - Index value of target Tab item.\n   * @param {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n   * By default, isEnable is true.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.enableTab = function (index, value) {\n    var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNullOrUndefined(tbItems)) {\n      return;\n    }\n\n    if (value === true) {\n      tbItems.classList.remove(CLS_DISABLE$4, CLS_OVERLAY$2);\n      tbItems.firstElementChild.setAttribute('tabindex', '-1');\n    } else {\n      tbItems.classList.add(CLS_DISABLE$4, CLS_OVERLAY$2);\n      tbItems.firstElementChild.removeAttribute('tabindex');\n\n      if (tbItems.classList.contains(CLS_ACTIVE$1)) {\n        this.select(index + 1);\n      }\n    }\n\n    if (!isNullOrUndefined(this.items[index])) {\n      this.items[index].disabled = !value;\n      this.dataBind();\n    }\n\n    tbItems.setAttribute('aria-disabled', value === true ? 'false' : 'true');\n  };\n  /**\n   * Adds new items to the Tab that accepts an array as Tab items.\n   *\n   * @param {TabItemModel[]} items - An array of item that is added to the Tab.\n   * @param {number} index - Number value that determines where the items to be added. By default, index is 0.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.addTab = function (items, index) {\n    var _this = this;\n\n    var addArgs = {\n      addedItems: items,\n      cancel: false\n    };\n\n    if (!this.isReplace) {\n      this.trigger('adding', addArgs, function (tabAddingArgs) {\n        if (!tabAddingArgs.cancel) {\n          _this.addingTabContent(items, index);\n        }\n      });\n    } else {\n      this.addingTabContent(items, index);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Tab.prototype.addingTabContent = function (items, index) {\n    var _this = this;\n\n    var lastEleIndex = 0;\n    this.hdrEle = select('.' + CLS_HEADER$1, this.element);\n\n    if (isNullOrUndefined(this.hdrEle)) {\n      this.items = items;\n      this.reRenderItems();\n      this.bindDraggable();\n    } else {\n      var itemsCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n\n      if (itemsCount !== 0) {\n        lastEleIndex = this.lastIndex + 1;\n      }\n\n      if (isNullOrUndefined(index)) {\n        index = itemsCount - 1;\n      }\n\n      if (itemsCount < index || index < 0 || isNaN(index)) {\n        return;\n      }\n\n      if (itemsCount === 0 && !isNullOrUndefined(this.hdrEle)) {\n        this.hdrEle.style.display = '';\n      }\n\n      if (!isNullOrUndefined(this.bdrLine)) {\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n      }\n\n      this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n      this.isAdd = true;\n      var tabItems_2 = this.parseObject(items, index);\n      this.isAdd = false;\n      var i_1 = 0;\n      var textValue_1;\n      items.forEach(function (item, place) {\n        textValue_1 = item.headerTemplate || item.header.text;\n\n        if (!(isNullOrUndefined(item.headerTemplate || item.header) || isNullOrUndefined(textValue_1) || textValue_1.length === 0 && !isNullOrUndefined(item.header) && isNullOrUndefined(item.header.iconCss))) {\n          if (tabItems_2[place]) {\n            if (isNullOrUndefined(item.id)) {\n              item.id = TABITEMPREFIX + (lastEleIndex + place).toString();\n            }\n\n            tabItems_2[place].htmlAttributes['data-id'] = item.id;\n          }\n\n          _this.items.splice(index + i_1, 0, item);\n\n          i_1++;\n        }\n\n        if (_this.isTemplate && !isNullOrUndefined(item.header) && !isNullOrUndefined(item.header.text)) {\n          var no = lastEleIndex + place;\n\n          var ele = _this.createElement('div', {\n            id: CLS_CONTENT$1 + _this.tabId + '_' + no,\n            className: CLS_ITEM$2,\n            attrs: {\n              role: 'tabpanel',\n              'aria-labelledby': CLS_ITEM$2 + '_' + no\n            }\n          });\n\n          _this.cntEle.insertBefore(ele, _this.cntEle.children[index + place]);\n\n          var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n\n          _this.getContent(eleTrg, item.content, 'render', index);\n        }\n      });\n      this.tbObj.addItems(tabItems_2, index);\n\n      if (!this.isReplace) {\n        this.trigger('added', {\n          addedItems: items\n        });\n      }\n\n      if (this.selectedItem === index) {\n        this.select(index);\n      } else {\n        this.setActiveBorder();\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n      }\n\n      this.bindDraggable();\n    }\n  };\n  /**\n   * Removes the items in the Tab from the specified index.\n   *\n   * @param {number} index - Index of target item that is going to be removed.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.removeTab = function (index) {\n    var _this = this;\n\n    var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNullOrUndefined(trg)) {\n      return;\n    }\n\n    var removeArgs = {\n      removedItem: trg,\n      removedIndex: index,\n      cancel: false\n    };\n    this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n      if (!tabRemovingArgs.cancel) {\n        _this.tbObj.removeItems(index);\n\n        if (_this.allowDragAndDrop && index !== Array.prototype.indexOf.call(_this.itemIndexArray, trg.id)) {\n          index = Array.prototype.indexOf.call(_this.itemIndexArray, trg.id);\n        }\n\n        var targetEleIndex = _this.itemIndexArray.indexOf(trg.id);\n\n        _this.items.splice(targetEleIndex, 1);\n\n        _this.itemIndexArray.splice(targetEleIndex, 1);\n\n        _this.refreshActiveBorder();\n\n        var cntTrg = select('#' + CLS_CONTENT$1 + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT$1, _this.element));\n\n        if (!isNullOrUndefined(cntTrg)) {\n          detach(cntTrg);\n        }\n\n        _this.trigger('removed', tabRemovingArgs);\n\n        if (_this.draggableItems && _this.draggableItems.length > 0) {\n          _this.draggableItems[index].destroy();\n\n          _this.draggableItems[index] = null;\n\n          _this.draggableItems.splice(index, 1);\n        }\n\n        if (trg.classList.contains(CLS_ACTIVE$1)) {\n          index = index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1 ? index - 1 : index;\n          _this.enableAnimation = false;\n          _this.selectedItem = index;\n\n          _this.select(index);\n        } else if (index !== _this.selectedItem) {\n          if (index < _this.selectedItem) {\n            index = _this.itemIndexArray.indexOf(_this.tbItem[_this.selectedItem].id);\n\n            _this.setProperties({\n              selectedItem: index > -1 ? index : _this.selectedItem\n            }, true);\n\n            _this.prevIndex = _this.selectedItem;\n          }\n\n          _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n        }\n\n        if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n          _this.hdrEle.style.display = 'none';\n        }\n\n        _this.enableAnimation = true;\n      }\n    });\n  };\n  /**\n   * Shows or hides the Tab that is in the specified index.\n   *\n   * @param {number} index - Index value of target item.\n   * @param {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.hideTab = function (index, value) {\n    var items;\n    var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNullOrUndefined(item)) {\n      return;\n    }\n\n    if (isNullOrUndefined(value)) {\n      value = true;\n    }\n\n    this.bdrLine.classList.add(CLS_HIDDEN$1);\n\n    if (value === true) {\n      item.classList.add(CLS_HIDDEN$1);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n\n      if (items.length !== 0 && item.classList.contains(CLS_ACTIVE$1)) {\n        if (index !== 0) {\n          for (var i = index - 1; i >= 0; i--) {\n            if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n              this.select(i);\n              break;\n            } else if (i === 0) {\n              for (var k = index + 1; k < this.tbItem.length; k++) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                  this.select(k);\n                  break;\n                }\n              }\n            }\n          }\n        } else {\n          for (var k = index + 1; k < this.tbItem.length; k++) {\n            if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n              this.select(k);\n              break;\n            }\n          }\n        }\n      } else if (items.length === 0) {\n        this.element.classList.add(CLS_HIDDEN$1);\n      }\n    } else {\n      this.element.classList.remove(CLS_HIDDEN$1);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n      item.classList.remove(CLS_HIDDEN$1);\n\n      if (items.length === 0) {\n        this.select(index);\n      }\n    }\n\n    this.setActiveBorder();\n    item.setAttribute('aria-hidden', '' + value);\n\n    if (this.overflowMode === 'Popup' && this.tbObj) {\n      this.tbObj.refreshOverflow();\n    }\n  };\n\n  Tab.prototype.selectTab = function (args, event, isInteracted) {\n    if (event === void 0) {\n      event = null;\n    }\n\n    if (isInteracted === void 0) {\n      isInteracted = false;\n    }\n\n    this.isInteracted = isInteracted;\n    this.select(args, event);\n  };\n  /**\n   * Specifies the index or HTMLElement to select an item from the Tab.\n   *\n   * @param {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n   * @param {Event} event - An event which takes place in DOM.\n   * @returns {void}\n   */\n\n\n  Tab.prototype.select = function (args, event) {\n    var _this = this;\n\n    var tabHeader = this.getTabHeader();\n    this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n    this.content = select('.' + CLS_CONTENT$1, this.element);\n    this.prevItem = this.tbItem[this.prevIndex];\n\n    if (isNullOrUndefined(this.selectedItem) || this.selectedItem < 0 || this.tbItem.length <= this.selectedItem || isNaN(this.selectedItem)) {\n      this.selectedItem = 0;\n    } else {\n      this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n    }\n\n    var trg = this.tbItem[args];\n\n    if (isNullOrUndefined(trg)) {\n      this.selectedID = '0';\n    } else {\n      this.selectingID = this.extIndex(trg.id);\n    }\n\n    if (!isNullOrUndefined(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE$4)) {\n      this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n    }\n\n    var eventArg = {\n      event: event,\n      previousItem: this.prevItem,\n      previousIndex: this.prevIndex,\n      selectedItem: this.tbItem[this.selectedItem],\n      selectedIndex: this.selectedItem,\n      selectedContent: !isNullOrUndefined(this.content) ? select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectedID, this.content) : null,\n      selectingItem: trg,\n      selectingIndex: args,\n      selectingContent: !isNullOrUndefined(this.content) ? select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content) : null,\n      isSwiped: this.isSwipeed,\n      isInteracted: this.isInteracted,\n      cancel: false\n    };\n\n    if (!this.initRender) {\n      this.trigger('selecting', eventArg, function (selectArgs) {\n        if (!selectArgs.cancel) {\n          _this.selectingContent(args, _this.isInteracted);\n        }\n      });\n    } else {\n      this.selectingContent(args, this.isInteracted);\n    }\n\n    this.isInteracted = false;\n  };\n\n  Tab.prototype.selectingContent = function (args, isInteracted) {\n    if (typeof args === 'number') {\n      if (!isNullOrUndefined(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE$4) || this.tbItem[args].classList.contains(CLS_HIDDEN$1))) {\n        for (var i = args + 1; i < this.items.length; i++) {\n          if (this.items[i].disabled === false && this.items[i].visible === true) {\n            args = i;\n            break;\n          } else {\n            args = 0;\n          }\n        }\n      }\n\n      if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n        this.prevIndex = this.selectedItem;\n        this.prevItem = this.tbItem[this.prevIndex];\n\n        if (this.tbItem[args].classList.contains(CLS_TB_POPUP) && this.reorderActiveTab) {\n          this.setActive(this.popupHandler(this.tbItem[args]), null, isInteracted);\n\n          if (!isNullOrUndefined(this.items) && this.items.length > 0 && this.allowDragAndDrop) {\n            this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n            var item = this.items[args];\n            this.items.splice(args, 1);\n            this.items.splice(this.tbItem.length - 1, 0, item);\n            var itemId = this.itemIndexArray[args];\n            this.itemIndexArray.splice(args, 1);\n            this.itemIndexArray.splice(this.tbItem.length - 1, 0, itemId);\n          }\n        } else {\n          this.setActive(args, null, isInteracted);\n        }\n      } else {\n        this.setActive(0, null, isInteracted);\n      }\n    } else if (args instanceof HTMLElement) {\n      this.setActive(this.getEleIndex(args), null, isInteracted);\n    }\n  };\n  /**\n   * Gets the item index from the Tab.\n   *\n   * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n   * @returns {number} - It returns item index.\n   */\n\n\n  Tab.prototype.getItemIndex = function (tabItemId) {\n    var tabIndex;\n\n    for (var i = 0; i < this.tbItem.length; i++) {\n      var value = this.tbItem[i].getAttribute('data-id');\n\n      if (tabItemId === value) {\n        tabIndex = i;\n        break;\n      }\n    }\n\n    return tabIndex;\n  };\n  /**\n   * Specifies the value to disable/enable the Tab component.\n   * When set to `true`, the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.disable = function (value) {\n    this.setCssClass(this.element, CLS_DISABLE$4, value);\n    this.element.setAttribute('aria-disabled', '' + value);\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - It returns the persisted state.\n   */\n\n\n  Tab.prototype.getPersistData = function () {\n    return this.addOnPersist(['selectedItem', 'actEleId']);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  Tab.prototype.getModuleName = function () {\n    return 'tab';\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   *\n   * @param  {TabModel} newProp - It contains the new value of data.\n   * @param  {TabModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          setStyleAttribute(this.element, {\n            width: formatUnit(newProp.width)\n          });\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            height: formatUnit(newProp.height)\n          });\n          this.setContentHeight(false);\n          break;\n\n        case 'cssClass':\n          var headerEle = this.element.querySelector('.' + CLS_HEADER$1);\n\n          if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n            this.setCssClass(this.element, oldProp.cssClass, false);\n            this.setCssClass(this.element, newProp.cssClass, true);\n\n            if (!isNullOrUndefined(headerEle)) {\n              this.setCssClass(headerEle, oldProp.cssClass, false);\n              this.setCssClass(headerEle, newProp.cssClass, true);\n            }\n          } else {\n            this.setCssClass(this.element, newProp.cssClass, true);\n\n            if (!isNullOrUndefined(headerEle)) {\n              this.setCssClass(headerEle, newProp.cssClass, true);\n            }\n          }\n\n          break;\n\n        case 'items':\n          this.evalOnPropertyChangeItems(newProp, oldProp);\n          break;\n\n        case 'showCloseButton':\n          this.setCloseButton(newProp.showCloseButton);\n          break;\n\n        case 'reorderActiveTab':\n          this.refreshActiveTabBorder();\n          break;\n\n        case 'selectedItem':\n          this.selectedItem = oldProp.selectedItem;\n          this.select(newProp.selectedItem);\n          break;\n\n        case 'headerPlacement':\n          this.changeOrientation(newProp.headerPlacement);\n          break;\n\n        case 'enableRtl':\n          this.setRTL(newProp.enableRtl);\n          break;\n\n        case 'overflowMode':\n          this.tbObj.overflowMode = newProp.overflowMode;\n          this.tbObj.dataBind();\n          this.refreshActiveTabBorder();\n          break;\n\n        case 'heightAdjustMode':\n          this.setContentHeight(false);\n          this.select(this.selectedItem);\n          break;\n\n        case 'scrollStep':\n          if (this.tbObj) {\n            this.tbObj.scrollStep = this.scrollStep;\n          }\n\n          break;\n\n        case 'allowDragAndDrop':\n          this.bindDraggable();\n          break;\n\n        case 'dragArea':\n          if (this.allowDragAndDrop) {\n            this.draggableItems.forEach(function (item) {\n              item.dragArea = _this.dragArea;\n            });\n            this.refresh();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * To refresh the active tab contents.\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.refreshActiveTab = function () {\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n\n    if (!this.isTemplate) {\n      if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1)) {\n        detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).children[0]);\n        detach(this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0]);\n        var item = this.items[this.selectedItem];\n        var pos = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition) ? '' : item.header.iconPosition;\n        var css = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss) ? '' : item.header.iconCss;\n        var text = item.headerTemplate || item.header.text;\n        var txtWrap = this.createElement('div', {\n          className: CLS_TEXT,\n          attrs: {\n            'role': 'presentation'\n          }\n        });\n\n        if (!isNullOrUndefined(text.tagName)) {\n          txtWrap.appendChild(text);\n        } else {\n          this.headerTextCompile(txtWrap, text, this.selectedItem);\n        }\n\n        var tEle = void 0;\n        var icon = this.createElement('span', {\n          className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n        });\n        var tConts = this.createElement('div', {\n          className: CLS_TEXT_WRAP\n        });\n        tConts.appendChild(txtWrap);\n\n        if (text !== '' && text !== undefined && css !== '') {\n          if (pos === 'left' || pos === 'top') {\n            tConts.insertBefore(icon, tConts.firstElementChild);\n          } else {\n            tConts.appendChild(icon);\n          }\n\n          tEle = txtWrap;\n          this.isIconAlone = false;\n        } else {\n          tEle = css === '' ? txtWrap : icon;\n\n          if (tEle === icon) {\n            detach(txtWrap);\n            tConts.appendChild(icon);\n            this.isIconAlone = true;\n          }\n        }\n\n        var wrapAtt = item.disabled ? {} : {\n          tabIndex: '-1'\n        };\n        tConts.appendChild(this.btnCls.cloneNode(true));\n        var wraper = this.createElement('div', {\n          className: CLS_WRAP,\n          attrs: wrapAtt\n        });\n        wraper.appendChild(tConts);\n\n        if (pos === 'top' || pos === 'bottom') {\n          this.element.classList.add('e-vertical-icon');\n        }\n\n        this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wraper);\n        var crElem = this.createElement('div');\n        var cnt = item.content;\n        var eleStr = void 0;\n\n        if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n          if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n            cnt = SanitizeHtmlHelper.sanitize(cnt);\n          }\n\n          if (cnt[0] === '.' || cnt[0] === '#') {\n            if (document.querySelectorAll(cnt).length) {\n              var eleVal = document.querySelector(cnt);\n              eleStr = eleVal.outerHTML.trim();\n              crElem.appendChild(eleVal);\n              eleVal.style.display = '';\n            } else {\n              this.compileElement(crElem, cnt, 'content', this.selectedItem);\n            }\n          } else {\n            this.compileElement(crElem, cnt, 'content', this.selectedItem);\n          }\n        } else {\n          crElem.appendChild(cnt);\n        }\n\n        if (!isNullOrUndefined(eleStr)) {\n          if (this.templateEle.indexOf(cnt.toString()) === -1) {\n            this.templateEle.push(cnt.toString());\n          }\n        }\n\n        this.element.querySelector('.' + CLS_ITEM$2 + '.' + CLS_ACTIVE$1).appendChild(crElem);\n      }\n    } else {\n      var tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n      var element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1);\n      var id = element.id;\n      var num = id.indexOf('_');\n      var index = parseInt(id.substring(num + 1), 10);\n      var header = element.innerText;\n      var detachContent = this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0];\n      var mainContents = detachContent.innerHTML;\n      detach(element);\n      detach(detachContent);\n      var attr = {\n        className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE$1 + ' ' + CLS_ACTIVE$1,\n        id: CLS_ITEM$2 + this.tabId + '_' + index,\n        attrs: {\n          role: 'tab',\n          'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + index,\n          'aria-disabled': 'false',\n          'aria-selected': 'true'\n        }\n      };\n      var txtString = this.createElement('span', {\n        className: CLS_TEXT,\n        innerHTML: header,\n        attrs: {\n          'role': 'presentation'\n        }\n      }).outerHTML;\n      var conte = this.createElement('div', {\n        className: CLS_TEXT_WRAP,\n        innerHTML: txtString + this.btnCls.outerHTML\n      }).outerHTML;\n      var wrap = this.createElement('div', {\n        className: CLS_WRAP,\n        innerHTML: conte,\n        attrs: {\n          tabIndex: '-1'\n        }\n      });\n      tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n      this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wrap);\n      var crElem = this.createElement('div', {\n        innerHTML: mainContents\n      });\n      this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).appendChild(crElem);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * To refresh the active tab indicator.\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.refreshActiveTabBorder = function () {\n    var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE$1, this.element);\n\n    if (!isNullOrUndefined(activeEle) && this.reorderActiveTab) {\n      this.select(this.getEleIndex(activeEle));\n    }\n\n    this.refreshActiveBorder();\n  };\n\n  __decorate$7([Collection([], TabItem)], Tab.prototype, \"items\", void 0);\n\n  __decorate$7([Property('100%')], Tab.prototype, \"width\", void 0);\n\n  __decorate$7([Property('auto')], Tab.prototype, \"height\", void 0);\n\n  __decorate$7([Property('')], Tab.prototype, \"cssClass\", void 0);\n\n  __decorate$7([Property(0)], Tab.prototype, \"selectedItem\", void 0);\n\n  __decorate$7([Property('Top')], Tab.prototype, \"headerPlacement\", void 0);\n\n  __decorate$7([Property('Content')], Tab.prototype, \"heightAdjustMode\", void 0);\n\n  __decorate$7([Property('Scrollable')], Tab.prototype, \"overflowMode\", void 0);\n\n  __decorate$7([Property('Dynamic')], Tab.prototype, \"loadOn\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"enablePersistence\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"showCloseButton\", void 0);\n\n  __decorate$7([Property(true)], Tab.prototype, \"reorderActiveTab\", void 0);\n\n  __decorate$7([Property()], Tab.prototype, \"scrollStep\", void 0);\n\n  __decorate$7([Property()], Tab.prototype, \"dragArea\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"allowDragAndDrop\", void 0);\n\n  __decorate$7([Complex({}, TabAnimationSettings)], Tab.prototype, \"animation\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"created\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"adding\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"added\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"selecting\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"selected\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"removing\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"removed\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"onDragStart\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"dragging\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"dragged\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"destroyed\", void 0);\n\n  Tab = __decorate$7([NotifyPropertyChanges], Tab);\n  return Tab;\n}(Component);\n/**\n * Tab modules\n */\n\n\nvar __extends$8 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$8 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar LISTWRAP = 'e-text-wrap';\nvar IELISTWRAP = 'e-ie-wrap';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL$1 = 'e-rtl';\nvar INTERACTION = 'e-interaction';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED$1 = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar RIPPLE = 'e-ripple';\nvar RIPPLEELMENT = 'e-ripple-element';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar CHILD = 'e-has-child';\nvar ITEM_ANIMATION_ACTIVE = 'e-animation-active';\nvar DISABLED$1 = 'e-disabled';\nvar treeAriaAttr = {\n  treeRole: 'tree',\n  itemRole: 'treeitem',\n  listRole: 'group',\n  itemText: '',\n  wrapperRole: ''\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\n\nvar FieldsSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(FieldsSettings, _super);\n\n  function FieldsSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$8([Property('child')], FieldsSettings.prototype, \"child\", void 0);\n\n  __decorate$8([Property([])], FieldsSettings.prototype, \"dataSource\", void 0);\n\n  __decorate$8([Property('expanded')], FieldsSettings.prototype, \"expanded\", void 0);\n\n  __decorate$8([Property('hasChildren')], FieldsSettings.prototype, \"hasChildren\", void 0);\n\n  __decorate$8([Property('htmlAttributes')], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$8([Property('iconCss')], FieldsSettings.prototype, \"iconCss\", void 0);\n\n  __decorate$8([Property('id')], FieldsSettings.prototype, \"id\", void 0);\n\n  __decorate$8([Property('imageUrl')], FieldsSettings.prototype, \"imageUrl\", void 0);\n\n  __decorate$8([Property('isChecked')], FieldsSettings.prototype, \"isChecked\", void 0);\n\n  __decorate$8([Property('parentID')], FieldsSettings.prototype, \"parentID\", void 0);\n\n  __decorate$8([Property(null)], FieldsSettings.prototype, \"query\", void 0);\n\n  __decorate$8([Property('selected')], FieldsSettings.prototype, \"selected\", void 0);\n\n  __decorate$8([Property(null)], FieldsSettings.prototype, \"tableName\", void 0);\n\n  __decorate$8([Property('text')], FieldsSettings.prototype, \"text\", void 0);\n\n  __decorate$8([Property('tooltip')], FieldsSettings.prototype, \"tooltip\", void 0);\n\n  __decorate$8([Property('navigateUrl')], FieldsSettings.prototype, \"navigateUrl\", void 0);\n\n  return FieldsSettings;\n}(ChildProperty);\n/**\n * Configures animation settings for the TreeView component.\n */\n\n\nvar ActionSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(ActionSettings, _super);\n\n  function ActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$8([Property('SlideDown')], ActionSettings.prototype, \"effect\", void 0);\n\n  __decorate$8([Property(400)], ActionSettings.prototype, \"duration\", void 0);\n\n  __decorate$8([Property('linear')], ActionSettings.prototype, \"easing\", void 0);\n\n  return ActionSettings;\n}(ChildProperty);\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\n\n\nvar NodeAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(NodeAnimationSettings, _super);\n\n  function NodeAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$8([Complex({\n    effect: 'SlideUp',\n    duration: 400,\n    easing: 'linear'\n  }, ActionSettings)], NodeAnimationSettings.prototype, \"collapse\", void 0);\n\n  __decorate$8([Complex({\n    effect: 'SlideDown',\n    duration: 400,\n    easing: 'linear'\n  }, ActionSettings)], NodeAnimationSettings.prototype, \"expand\", void 0);\n\n  return NodeAnimationSettings;\n}(ChildProperty);\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\n\n\nvar TreeView =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(TreeView, _super);\n\n  function TreeView(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isRefreshed = false;\n    _this.preventExpand = false;\n    _this.checkedElement = [];\n    _this.disableNode = []; // eslint-disable-next-line\n\n    _this.validArr = [];\n    _this.validNodes = [];\n    _this.expandChildren = [];\n    _this.isFieldChange = false;\n    _this.changeDataSource = false;\n    _this.hasTemplate = false;\n    _this.isFirstRender = false;\n    _this.mouseDownStatus = false;\n    return _this;\n  }\n\n  TreeView_1 = TreeView;\n  /**\n   * Get component name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n  TreeView.prototype.getModuleName = function () {\n    return 'treeview';\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   */\n\n\n  TreeView.prototype.preRender = function () {\n    var _this = this;\n\n    this.checkActionNodes = [];\n    this.parentNodeCheck = [];\n    this.dragStartAction = false;\n    this.isAnimate = false;\n    this.keyConfigs = {\n      escape: 'escape',\n      end: 'end',\n      enter: 'enter',\n      f2: 'f2',\n      home: 'home',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlUp: 'ctrl+uparrow',\n      ctrlEnter: 'ctrl+enter',\n      ctrlHome: 'ctrl+home',\n      ctrlEnd: 'ctrl+end',\n      ctrlA: 'ctrl+A',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      shiftEnter: 'shift+enter',\n      shiftHome: 'shift+home',\n      shiftEnd: 'shift+end',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      csEnter: 'ctrl+shift+enter',\n      csHome: 'ctrl+shift+home',\n      csEnd: 'ctrl+shift+end',\n      space: 'space'\n    };\n    this.listBaseOption = {\n      expandCollapse: true,\n      showIcon: true,\n      expandIconClass: EXPANDABLE,\n      ariaAttributes: treeAriaAttr,\n      expandIconPosition: 'Left',\n      itemCreated: function (e) {\n        _this.beforeNodeCreate(e);\n      },\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      itemNavigable: this.fullRowNavigable\n    };\n    this.updateListProp(this.fields);\n    this.aniObj = new Animation({});\n    this.treeList = [];\n    this.isLoaded = false;\n    this.isInitalExpand = false;\n    this.expandChildren = [];\n    this.index = 0;\n    this.setTouchClass();\n\n    if (isNullOrUndefined(this.selectedNodes)) {\n      this.setProperties({\n        selectedNodes: []\n      }, true);\n    }\n\n    if (isNullOrUndefined(this.checkedNodes)) {\n      this.setProperties({\n        checkedNodes: []\n      }, true);\n    }\n\n    if (isNullOrUndefined(this.expandedNodes)) {\n      this.setProperties({\n        expandedNodes: []\n      }, true);\n    } else {\n      this.isInitalExpand = true;\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - returns the persisted data\n   * @hidden\n   */\n\n\n  TreeView.prototype.getPersistData = function () {\n    var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  TreeView.prototype.render = function () {\n    this.initialRender = true;\n    this.initialize();\n    this.setDataBinding(false);\n    this.setDisabledMode();\n    this.setExpandOnType();\n\n    if (!this.disabled) {\n      this.setRipple();\n    }\n\n    this.wireEditingEvents(this.allowEditing);\n    this.setDragAndDrop(this.allowDragAndDrop);\n\n    if (!this.disabled) {\n      this.wireEvents();\n    }\n\n    this.initialRender = false;\n    this.renderComplete();\n  };\n\n  TreeView.prototype.initialize = function () {\n    this.element.setAttribute('role', 'tree');\n    this.element.setAttribute('tabindex', '0');\n    this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    this.setCssClass(null, this.cssClass);\n    this.setEnableRtl();\n    this.setFullRow(this.fullRowSelect);\n    this.setTextWrap();\n    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n  };\n\n  TreeView.prototype.setDisabledMode = function () {\n    if (this.disabled) {\n      this.element.classList.add(DISABLED$1);\n    } else {\n      this.element.classList.remove(DISABLED$1);\n    }\n  };\n\n  TreeView.prototype.setEnableRtl = function () {\n    (this.enableRtl ? addClass : removeClass)([this.element], RTL$1);\n  };\n\n  TreeView.prototype.setRipple = function () {\n    var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n    var rippleModel = {\n      selector: tempStr,\n      ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n    };\n    this.rippleFn = rippleEffect(this.element, rippleModel);\n    var iconModel = {\n      selector: '.' + TEXTWRAP + ' > .' + ICON,\n      isCenterRipple: true\n    };\n    this.rippleIconFn = rippleEffect(this.element, iconModel);\n  };\n\n  TreeView.prototype.setFullRow = function (isEnabled) {\n    (isEnabled ? addClass : removeClass)([this.element], FULLROWWRAP);\n  };\n\n  TreeView.prototype.setMultiSelect = function (isEnabled) {\n    var firstUl = select('.' + PARENTITEM, this.element);\n\n    if (isEnabled) {\n      firstUl.setAttribute('aria-multiselectable', 'true');\n    } else {\n      firstUl.removeAttribute('aria-multiselectable');\n    }\n  }; // eslint-disable-next-line\n\n\n  TreeView.prototype.templateComplier = function (template) {\n    if (template) {\n      this.hasTemplate = true; // eslint-disable-next-line\n\n      this.element.classList.add(INTERACTION);\n\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (e) {\n        return compile(template);\n      }\n    }\n\n    this.element.classList.remove(INTERACTION);\n    return undefined;\n  };\n\n  TreeView.prototype.setDataBinding = function (changeDataSource) {\n    var _this = this;\n\n    this.treeList.push('false');\n\n    if (this.fields.dataSource instanceof DataManager) {\n      /* eslint-disable */\n      this.isOffline = this.fields.dataSource.dataSource.offline;\n\n      if (this.fields.dataSource.ready) {\n        this.fields.dataSource.ready.then(function (e) {\n          /* eslint-disable */\n          _this.isOffline = _this.fields.dataSource.dataSource.offline;\n\n          if (_this.fields.dataSource instanceof DataManager && _this.isOffline) {\n            _this.treeList.pop();\n\n            _this.treeData = e.result;\n            _this.isNumberTypeId = _this.getType();\n\n            _this.setRootData();\n\n            _this.renderItems(true);\n\n            if (_this.treeList.length === 0 && !_this.isLoaded) {\n              _this.finalize();\n            }\n          }\n        }).catch(function (e) {\n          _this.trigger('actionFailure', {\n            error: e\n          });\n        });\n      } else {\n        this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n          _this.treeList.pop();\n\n          _this.treeData = e.result;\n          _this.isNumberTypeId = _this.getType();\n\n          _this.setRootData();\n\n          if (changeDataSource) {\n            _this.changeDataSource = true;\n          }\n\n          _this.renderItems(true);\n\n          _this.changeDataSource = false;\n\n          if (_this.treeList.length === 0 && !_this.isLoaded) {\n            _this.finalize();\n          }\n        }).catch(function (e) {\n          _this.trigger('actionFailure', {\n            error: e\n          });\n        });\n      }\n    } else {\n      this.treeList.pop();\n\n      if (isNullOrUndefined(this.fields.dataSource)) {\n        this.rootData = this.treeData = [];\n      } else {\n        this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n        this.setRootData();\n      }\n\n      this.isNumberTypeId = this.getType();\n      this.renderItems(false);\n    }\n\n    if (this.treeList.length === 0 && !this.isLoaded) {\n      this.finalize();\n    }\n  };\n\n  TreeView.prototype.getQuery = function (mapper, value) {\n    if (value === void 0) {\n      value = null;\n    }\n\n    var columns = [];\n    var query;\n\n    if (!mapper.query) {\n      query = new Query();\n      var prop = this.getActualProperties(mapper);\n\n      for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n        var col = _a[_i];\n\n        if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col] && col !== 'url' && columns.indexOf(mapper[col]) === -1) {\n          columns.push(mapper[col]);\n        }\n      }\n\n      query.select(columns);\n\n      if (prop.hasOwnProperty('tableName')) {\n        query.from(mapper.tableName);\n      }\n    } else {\n      query = mapper.query.clone();\n    }\n\n    ListBase.addSorting(this.sortOrder, mapper.text, query);\n\n    if (!isNullOrUndefined(value) && !isNullOrUndefined(mapper.parentID)) {\n      query.where(mapper.parentID, 'equal', this.isNumberTypeId ? parseFloat(value) : value);\n    }\n\n    return query;\n  };\n\n  TreeView.prototype.getType = function () {\n    return this.treeData[0] ? typeof getValue(this.fields.id, this.treeData[0]) === 'number' ? true : false : false;\n  };\n\n  TreeView.prototype.setRootData = function () {\n    this.dataType = this.getDataType(this.treeData, this.fields);\n\n    if (this.dataType === 1) {\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n      var rootItems = this.getChildNodes(this.treeData, undefined, true);\n\n      if (isNullOrUndefined(rootItems)) {\n        this.rootData = [];\n      } else {\n        this.rootData = rootItems;\n      }\n    } else {\n      this.rootData = this.treeData;\n    }\n  };\n\n  TreeView.prototype.renderItems = function (isSorted) {\n    /* eslint-disable */\n    this.listBaseOption.ariaAttributes.level = 1;\n    var sortedData = this.getSortedData(this.rootData);\n    this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : sortedData, this.listBaseOption);\n    this.element.appendChild(this.ulElement);\n    var rootNodes = this.ulElement.querySelectorAll('.e-list-item');\n\n    if (this.loadOnDemand === false) {\n      var i = 0;\n\n      while (i < rootNodes.length) {\n        this.renderChildNodes(rootNodes[i], true, null, true);\n        i++;\n      }\n    }\n\n    var parentEle = selectAll('.' + PARENTITEM, this.element);\n\n    if (parentEle.length === 1 && rootNodes && rootNodes.length !== 0 || this.loadOnDemand) {\n      this.finalizeNode(this.element);\n    }\n\n    this.parentNodeCheck = [];\n    this.parentCheckData = [];\n    this.updateCheckedStateFromDS();\n\n    if (this.autoCheck && this.showCheckBox && !this.isLoaded) {\n      this.updateParentCheckState();\n    }\n  };\n  /**\n   * Update the checkedNodes from datasource at initial rendering\n   */\n\n\n  TreeView.prototype.updateCheckedStateFromDS = function (id) {\n    this.validNodes = [];\n\n    if (this.treeData && this.showCheckBox) {\n      if (this.dataType === 1) {\n        var mapper = this.fields;\n        var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n\n        for (var i = 0; i < resultData.length; i++) {\n          var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n          var resultPId = resultData[i][this.fields.parentID] ? resultData[i][this.fields.parentID].toString() : null;\n\n          if (this.checkedNodes.indexOf(resultId) === -1 && !this.isLoaded) {\n            this.checkedNodes.push(resultId);\n          }\n\n          if (resultData[i][this.fields.hasChildren]) {\n            var id_1 = resultData[i][this.fields.id];\n            var childData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', id_1, false));\n\n            for (var child = 0; child < childData.length; child++) {\n              var childId = childData[child][this.fields.id] ? childData[child][this.fields.id].toString() : null;\n\n              if (this.checkedNodes.indexOf(childId) === -1 && this.autoCheck) {\n                this.checkedNodes.push(childId);\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i < this.checkedNodes.length; i++) {\n          var mapper_1 = this.fields;\n          var checkState = new DataManager(this.treeData).executeLocal(new Query().where(mapper_1.id, 'equal', this.checkedNodes[i], true));\n\n          if (checkState[0] && this.autoCheck) {\n            this.getCheckedNodeDetails(mapper_1, checkState);\n            this.checkIndeterminateState(checkState[0]);\n          }\n\n          if (checkState.length > 0) {\n            var checkedId = checkState[0][this.fields.id] ? checkState[0][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n              this.validNodes.push(checkedId);\n            }\n          }\n\n          var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper_1.parentID, 'equal', this.checkedNodes[i], true));\n\n          for (var index = 0; index < checkedData.length; index++) {\n            var checkedId = checkedData[index][this.fields.id] ? checkedData[index][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(checkedId) === -1 && this.autoCheck) {\n              this.checkedNodes.push(checkedId);\n            }\n\n            if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n              this.validNodes.push(checkedId);\n            }\n          }\n        }\n      } else if (this.dataType === 2 || this.fields.dataSource instanceof DataManager && this.isOffline) {\n        for (var index = 0; index < this.treeData.length; index++) {\n          var fieldId = this.treeData[index][this.fields.id] ? this.treeData[index][this.fields.id].toString() : '';\n\n          if (this.treeData[index][this.fields.isChecked] && !this.isLoaded && this.checkedNodes.indexOf(fieldId) === -1) {\n            this.checkedNodes.push(fieldId);\n          }\n\n          if (this.checkedNodes.indexOf(fieldId) > -1 && this.validNodes.indexOf(fieldId) === -1) {\n            this.validNodes.push(fieldId);\n          }\n\n          var childItems = getValue(this.fields.child.toString(), this.treeData[index]);\n\n          if (childItems) {\n            this.updateChildCheckState(childItems, this.treeData[index]);\n          }\n        }\n\n        this.validNodes = this.enablePersistence ? this.checkedNodes : this.validNodes;\n      }\n\n      this.setProperties({\n        checkedNodes: this.validNodes\n      }, true);\n    }\n  };\n  /**\n   * To check whether the list data has sub child and to change the parent check state accordingly\n   */\n\n\n  TreeView.prototype.getCheckedNodeDetails = function (mapper, checkNodes) {\n    var id = checkNodes[0][this.fields.parentID] ? checkNodes[0][this.fields.parentID].toString() : null;\n    var count = 0;\n    var element = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.id] + '\"]');\n    var parentEle = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.parentID] + '\"]');\n\n    if (!element && !parentEle) {\n      var len = this.parentNodeCheck.length;\n\n      if (this.parentNodeCheck.indexOf(id) === -1) {\n        this.parentNodeCheck.push(id);\n      }\n\n      var childNodes = this.getChildNodes(this.treeData, id);\n\n      for (var i = 0; i < childNodes.length; i++) {\n        var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n        if (this.checkedNodes.indexOf(childId) !== -1) {\n          count++;\n        }\n\n        if (count === childNodes.length && this.checkedNodes.indexOf(id) === -1) {\n          this.checkedNodes.push(id);\n        }\n      }\n\n      var preElement = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', id, true));\n      this.getCheckedNodeDetails(mapper, preElement);\n    } else if (parentEle) {\n      var check = select('.' + CHECK, parentEle);\n\n      if (!check) {\n        this.changeState(parentEle, 'indeterminate', null, true, true);\n      }\n    }\n  };\n  /**\n   * Update the checkedNodes and parent state when all the child Nodes are in checkedstate at initial rendering\n   */\n\n\n  TreeView.prototype.updateParentCheckState = function () {\n    var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n    var childCheckedElement;\n\n    for (var i = 0; i < indeterminate.length; i++) {\n      var node = closest(indeterminate[i], '.' + LISTITEM);\n      var nodeId = node.getAttribute('data-uid').toString();\n\n      if (this.dataType === 1) {\n        childCheckedElement = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.parentID, 'equal', nodeId, true));\n      } else {\n        childCheckedElement = this.getChildNodes(this.treeData, nodeId);\n      }\n\n      var count = 0;\n\n      if (childCheckedElement) {\n        for (var j = 0; j < childCheckedElement.length; j++) {\n          var childId = childCheckedElement[j][this.fields.id].toString();\n\n          if (this.checkedNodes.indexOf(childId) !== -1) {\n            count++;\n          }\n        }\n\n        if (count === childCheckedElement.length) {\n          var nodeCheck = node.getAttribute('data-uid');\n\n          if (this.checkedNodes.indexOf(nodeCheck) === -1) {\n            this.checkedNodes.push(nodeCheck);\n          }\n\n          this.changeState(node, 'check', null, true, true);\n        } else if (count === 0 && this.checkedNodes.length === 0) {\n          this.changeState(node, 'uncheck', null, true, true);\n        }\n      }\n    }\n  };\n  /**\n   * Change the parent to indeterminate state whenever the child is in checked state which is not rendered in DOM\n   */\n\n\n  TreeView.prototype.checkIndeterminateState = function (data) {\n    var element;\n\n    if (this.dataType === 1) {\n      element = this.element.querySelector('[data-uid=\"' + data[this.fields.parentID] + '\"]');\n    } else {\n      element = this.element.querySelector('[data-uid=\"' + data[this.fields.id] + '\"]');\n    }\n\n    if (element) {\n      var ariaChecked = element.querySelector('.' + CHECKBOXWRAP).getAttribute('aria-checked');\n\n      if (ariaChecked !== 'true') {\n        this.changeState(element, 'indeterminate', null, true, true);\n      }\n    } else if (this.dataType === 2) {\n      var len = this.parentNodeCheck.length;\n\n      if (this.parentNodeCheck.indexOf(data[this.fields.id].toString()) === -1) {\n        this.parentNodeCheck.push(data[this.fields.id].toString());\n      }\n    }\n  };\n  /**\n   * Update the checkedNodes for child and subchild from datasource (hierarchical datasource) at initial rendering\n   */\n\n\n  TreeView.prototype.updateChildCheckState = function (childItems, treeData) {\n    var count = 0;\n    var checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n\n    for (var index = 0; index < childItems.length; index++) {\n      var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n\n      if (childItems[index][this.fields.isChecked] && !this.isLoaded && this.checkedNodes.indexOf(checkedChild) === -1) {\n        this.checkedNodes.push(checkedChild);\n      }\n\n      if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1 && this.autoCheck) {\n        this.checkedNodes.push(checkedChild);\n      }\n\n      if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n        count++;\n      }\n\n      if (this.checkedNodes.indexOf(checkedChild) > -1 && this.validNodes.indexOf(checkedChild) === -1) {\n        this.validNodes.push(checkedChild);\n      }\n\n      var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n\n      if (subChildItems && subChildItems.length) {\n        if (this.parentCheckData.indexOf(treeData) === -1) this.parentCheckData.push(treeData);\n        this.updateChildCheckState(subChildItems, childItems[index]);\n      }\n\n      if (count === childItems.length && this.autoCheck && this.checkedNodes.indexOf(checkedParent) === -1) {\n        this.checkedNodes.push(checkedParent);\n      }\n    }\n\n    if (count !== 0 && this.autoCheck) {\n      this.checkIndeterminateState(treeData);\n\n      for (var len = 0; len < this.parentCheckData.length; len++) {\n        if (treeData !== this.parentCheckData[len] && this.parentCheckData[len]) {\n          this.checkIndeterminateState(this.parentCheckData[len]);\n        }\n      }\n    }\n\n    this.parentCheckData = [];\n  };\n\n  TreeView.prototype.beforeNodeCreate = function (e) {\n    if (this.showCheckBox) {\n      var checkboxEle = createCheckBox(this.createElement, true, {\n        cssClass: this.touchClass\n      });\n      checkboxEle.setAttribute('role', 'checkbox');\n      var icon = select('div.' + ICON, e.item);\n      var id = e.item.getAttribute('data-uid');\n      e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n      var checkValue = getValue(e.fields.isChecked, e.curData);\n\n      if (this.checkedNodes.indexOf(id) > -1) {\n        select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n        checkboxEle.setAttribute('aria-checked', 'true');\n        this.addCheck(e.item);\n      } else if (!isNullOrUndefined(checkValue) && checkValue.toString() === 'true') {\n        select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n        checkboxEle.setAttribute('aria-checked', 'true');\n        this.addCheck(e.item);\n      } else {\n        checkboxEle.setAttribute('aria-checked', 'false');\n      }\n\n      var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n      EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n      EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n    }\n\n    if (this.fullRowSelect) {\n      this.createFullRow(e.item);\n    }\n\n    if (this.allowMultiSelection && !e.item.classList.contains(SELECTED$1)) {\n      e.item.setAttribute('aria-selected', 'false');\n    }\n\n    var fields = e.fields;\n    this.addActionClass(e, fields.selected, SELECTED$1);\n    this.addActionClass(e, fields.expanded, EXPANDED);\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      var textEle = e.item.querySelector('.' + LISTTEXT);\n      var dataId = e.item.getAttribute('data-uid');\n      textEle.innerHTML = '';\n      this.renderNodeTemplate(e.curData, textEle, dataId);\n    }\n\n    var eventArgs = {\n      node: e.item,\n      nodeData: e.curData,\n      text: e.text\n    };\n\n    if (!this.isRefreshed) {\n      this.trigger('drawNode', eventArgs);\n    }\n  };\n\n  TreeView.prototype.frameMouseHandler = function (e) {\n    var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n    rippleMouseHandler(e, rippleSpan);\n  };\n\n  TreeView.prototype.addActionClass = function (e, action, cssClass) {\n    var data = e.curData;\n    var actionValue = getValue(action, data);\n\n    if (!isNullOrUndefined(actionValue) && actionValue.toString() !== 'false') {\n      e.item.classList.add(cssClass);\n    }\n  };\n\n  TreeView.prototype.getDataType = function (ds, mapper) {\n    if (this.fields.dataSource instanceof DataManager) {\n      for (var i = 0; i < ds.length; i++) {\n        if (this.isOffline) {\n          if (typeof mapper.child === 'string' && isNullOrUndefined(getValue(mapper.child, ds[i])) && !isNullOrUndefined(getValue(mapper.parentID, ds[i]))) {\n            return 1;\n          }\n        } else if (typeof mapper.child === 'string' && isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n          return 1;\n        }\n      }\n\n      return 2;\n    }\n\n    for (var i = 0, len = ds.length; i < len; i++) {\n      if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n        return 2;\n      }\n\n      if (!isNullOrUndefined(getValue(mapper.parentID, ds[i])) || !isNullOrUndefined(getValue(mapper.hasChildren, ds[i]))) {\n        return 1;\n      }\n    }\n\n    return 1;\n  };\n\n  TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n    var cusQuery = new Query().group(groupBy);\n    var ds = ListBase.getDataSource(dataSource, cusQuery);\n    var grpItem = [];\n\n    for (var j = 0; j < ds.length; j++) {\n      var itemObj = ds[j].items;\n      grpItem.push(itemObj);\n    }\n\n    return grpItem;\n  };\n\n  TreeView.prototype.getSortedData = function (list) {\n    if (list && this.sortOrder !== 'None') {\n      list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n    }\n\n    return list;\n  };\n\n  TreeView.prototype.finalizeNode = function (element) {\n    var iNodes = selectAll('.' + IMAGE, element);\n\n    for (var k = 0; k < iNodes.length; k++) {\n      iNodes[k].setAttribute('alt', IMAGE);\n    }\n\n    if (this.isLoaded) {\n      var sNodes = selectAll('.' + SELECTED$1, element);\n\n      for (var i = 0; i < sNodes.length; i++) {\n        this.selectNode(sNodes[i], null);\n        break;\n      }\n\n      removeClass(sNodes, SELECTED$1);\n    }\n\n    var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n\n    for (var j = 0; j < cNodes.length; j++) {\n      var icon = select('div.' + ICON, cNodes[j]);\n\n      if (icon && icon.classList.contains(EXPANDABLE)) {\n        this.disableExpandAttr(cNodes[j]);\n      }\n    }\n\n    var eNodes = selectAll('.' + EXPANDED, element);\n\n    if (!this.isInitalExpand) {\n      for (var i = 0; i < eNodes.length; i++) {\n        this.renderChildNodes(eNodes[i]);\n      }\n    }\n\n    removeClass(eNodes, EXPANDED);\n    this.updateList();\n\n    if (this.isLoaded) {\n      this.updateCheckedProp();\n    }\n  };\n\n  TreeView.prototype.updateCheckedProp = function () {\n    if (this.showCheckBox) {\n      var nodes = [].concat([], this.checkedNodes);\n      this.setProperties({\n        checkedNodes: nodes\n      }, true);\n    }\n  };\n\n  TreeView.prototype.ensureIndeterminate = function () {\n    if (this.autoCheck) {\n      var liElement = selectAll('li', this.element);\n      var ulElement = void 0;\n\n      for (var i = 0; i < liElement.length; i++) {\n        if (liElement[i].classList.contains(LISTITEM)) {\n          ulElement = select('.' + PARENTITEM, liElement[i]);\n\n          if (ulElement) {\n            this.ensureParentCheckState(liElement[i]);\n          } else {\n            this.ensureChildCheckState(liElement[i]);\n          }\n        }\n      }\n    } else {\n      var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n\n      for (var i = 0; i < indeterminate.length; i++) {\n        indeterminate[i].classList.remove(INDETERMINATE);\n      }\n    }\n  };\n\n  TreeView.prototype.ensureParentCheckState = function (element) {\n    if (!isNullOrUndefined(element)) {\n      if (element.classList.contains(ROOT)) {\n        return;\n      }\n\n      var ulElement = element;\n\n      if (element.classList.contains(LISTITEM)) {\n        ulElement = select('.' + PARENTITEM, element);\n      }\n\n      var checkedNodes = selectAll('.' + CHECK, ulElement);\n      var indeterminateNodes = selectAll('.' + INDETERMINATE, ulElement);\n      var nodes = selectAll('.' + LISTITEM, ulElement);\n      var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n\n      if (nodes.length === checkedNodes.length) {\n        this.changeState(checkBoxEle, 'check', null, true, true);\n      } else if (checkedNodes.length > 0 || indeterminateNodes.length > 0) {\n        this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n      } else if (checkedNodes.length === 0) {\n        this.changeState(checkBoxEle, 'uncheck', null, true, true);\n      }\n\n      var parentUL = closest(element, '.' + PARENTITEM);\n\n      if (!isNullOrUndefined(parentUL)) {\n        var currentParent = closest(parentUL, '.' + LISTITEM);\n        this.ensureParentCheckState(currentParent);\n      }\n    }\n  };\n\n  TreeView.prototype.ensureChildCheckState = function (element, e) {\n    if (!isNullOrUndefined(element)) {\n      var childElement = select('.' + PARENTITEM, element);\n      var checkBoxes = void 0;\n\n      if (!isNullOrUndefined(childElement)) {\n        checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n        var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n        var parentCheck = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(INDETERMINATE);\n        var childCheck = childElement.querySelectorAll('li');\n        var expandState = childElement.parentElement.getAttribute('aria-expanded');\n        var checkedState = void 0;\n\n        for (var index = 0; index < checkBoxes.length; index++) {\n          var childId = childCheck[index].getAttribute('data-uid');\n\n          if (!isNullOrUndefined(this.currentLoadData) && !isNullOrUndefined(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n            checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n\n            if (this.ele !== -1) {\n              checkedState = isChecked ? 'check' : 'uncheck';\n            }\n\n            if (checkedState === 'uncheck' && !isUndefined(this.parentNodeCheck) && this.autoCheck && this.parentNodeCheck.indexOf(childId) !== -1) {\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n              checkedState = 'indeterminate';\n            }\n          } else {\n            var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n\n            if (isChecked) {\n              checkedState = 'check';\n            } else if (isNodeChecked && !this.isLoaded) {\n              checkedState = 'check';\n            } else if (this.checkedNodes.indexOf(childId) !== -1 && this.isLoaded && (parentCheck || isChecked)) {\n              checkedState = 'check';\n            } else if (childCheck[index].classList.contains(CHILD) && !isUndefined(this.parentNodeCheck) && this.autoCheck && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1) {\n              checkedState = 'indeterminate';\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n            } else if (this.dataType === 1 && !isUndefined(this.parentNodeCheck) && this.autoCheck && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1) {\n              checkedState = 'indeterminate';\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n            } else {\n              checkedState = 'uncheck';\n            }\n          }\n\n          this.changeState(checkBoxes[index], checkedState, e, true, true);\n        }\n      }\n\n      if (this.autoCheck && this.isLoaded) {\n        this.updateParentCheckState();\n      }\n    }\n  };\n\n  TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n    var li = selectAll('.' + LISTITEM, this.element);\n\n    if (!isNullOrUndefined(nodes)) {\n      for (var len = nodes.length; len >= 0; len--) {\n        var liEle = void 0;\n\n        if (nodes.length === 1) {\n          liEle = this.getElement(nodes[len - 1]);\n        } else {\n          liEle = this.getElement(nodes[len]);\n        }\n\n        if (isNullOrUndefined(liEle)) {\n          var node = void 0;\n          node = nodes[len - nodes.length] ? nodes[len - nodes.length].toString() : nodes[len] ? nodes[len].toString() : null;\n\n          if (node !== '' && doCheck && node) {\n            this.setValidCheckedNode(node);\n            this.dynamicCheckState(node, doCheck);\n          } else if (this.checkedNodes.indexOf(node) !== -1 && node !== '' && !doCheck) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(node), 1);\n            var childItems = this.getChildNodes(this.treeData, node);\n\n            if (childItems) {\n              for (var i = 0; i < childItems.length; i++) {\n                var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n\n                if (this.checkedNodes.indexOf(id) !== -1) {\n                  this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                  var ele = this.element.querySelector('[data-uid=\"' + id + '\"]');\n\n                  if (ele) {\n                    this.changeState(ele, 'uncheck', null);\n                  }\n                }\n              }\n\n              if (this.parentNodeCheck.indexOf(node) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(node), 1);\n              }\n            }\n\n            if (node) {\n              this.dynamicCheckState(node, doCheck);\n            }\n\n            this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n          }\n\n          continue;\n        }\n\n        var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n        this.validateCheckNode(checkBox, !doCheck, liEle, null);\n      }\n    } else {\n      var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n\n      if (this.loadOnDemand) {\n        for (var index = 0; index < checkBoxes.length; index++) {\n          this.updateFieldChecked(checkBoxes[index], doCheck);\n          this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck', null, null, null, doCheck);\n        }\n      } else {\n        for (var index = 0; index < checkBoxes.length; index++) {\n          this.updateFieldChecked(checkBoxes[index], doCheck);\n          this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n        }\n      }\n    }\n\n    if (nodes) {\n      for (var j = 0; j < nodes.length; j++) {\n        var node = nodes[j] ? nodes[j].toString() : '';\n\n        if (!doCheck) {\n          this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n        }\n      }\n    }\n\n    if (this.autoCheck) {\n      this.updateParentCheckState();\n    }\n  };\n\n  TreeView.prototype.updateFieldChecked = function (checkbox, doCheck) {\n    var currLi = closest(checkbox, '.' + LISTITEM);\n    var id = currLi.getAttribute('data-uid');\n    var nodeDetails = this.getNodeData(currLi);\n\n    if (nodeDetails.isChecked === 'true' && !doCheck) {\n      this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n    }\n  };\n  /**\n   * Changes the parent and child  check state while changing the checkedNodes via setmodel\n   */\n\n\n  TreeView.prototype.dynamicCheckState = function (node, doCheck) {\n    if (this.dataType === 1) {\n      var count = 0;\n      var resultId = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.id, 'equal', node, true));\n\n      if (resultId[0]) {\n        var id = resultId[0][this.fields.id] ? resultId[0][this.fields.id].toString() : null;\n        var parent_1 = resultId[0][this.fields.parentID] ? resultId[0][this.fields.parentID].toString() : null;\n        var parentElement = this.element.querySelector('[data-uid=\"' + parent_1 + '\"]');\n        var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n        var check = parentElement ? select('.' + CHECK, parentElement) : null;\n        var element = this.element.querySelector('[data-uid=\"' + id + '\"]');\n        var childNodes = this.getChildNodes(this.treeData, parent_1);\n\n        if (childNodes) {\n          for (var i = 0; i < childNodes.length; i++) {\n            var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(childId) !== -1) {\n              count++;\n            }\n          }\n        }\n\n        if (this.checkedNodes.indexOf(node) !== -1 && parentElement && id === node && this.autoCheck) {\n          this.changeState(parentElement, 'indeterminate', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && element && id === node && !doCheck) {\n          this.changeState(element, 'uncheck', null);\n        } else if (this.checkedNodes.indexOf(node) !== -1 && element && id === node && doCheck) {\n          this.changeState(element, 'check', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && id === node && this.autoCheck && count !== 0) {\n          this.changeState(parentElement, 'indeterminate', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && id === node && this.autoCheck && count === 0) {\n          this.changeState(parentElement, 'uncheck', null);\n        } else if (!element && !parentElement && id === node && this.autoCheck) {\n          this.updateIndeterminate(node, doCheck);\n        }\n      }\n    } else if (this.dataType === 2 || this.fields.dataSource instanceof DataManager && this.isOffline) {\n      var id = void 0;\n      var parentElement = void 0;\n      var check = void 0;\n\n      for (var i = 0; i < this.treeData.length; i++) {\n        id = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : '';\n        parentElement = this.element.querySelector('[data-uid=\"' + id + '\"]');\n        check = parentElement ? select('.' + CHECK, parentElement) : null;\n\n        if (this.checkedNodes.indexOf(id) === -1 && parentElement && check && !doCheck) {\n          this.changeState(parentElement, 'uncheck', null);\n        }\n\n        var subChild = getValue(this.fields.child.toString(), this.treeData[i]);\n\n        if (subChild) {\n          this.updateChildIndeterminate(subChild, id, node, doCheck, id);\n        }\n      }\n    }\n  };\n  /**\n   * updates the parent and child  check state while changing the checkedNodes via setmodel for listData\n   */\n\n\n  TreeView.prototype.updateIndeterminate = function (node, doCheck) {\n    var indeterminateData = this.getTreeData(node);\n    var count = 0;\n    var parent;\n\n    if (this.dataType === 1) {\n      parent = indeterminateData[0][this.fields.parentID] ? indeterminateData[0][this.fields.parentID].toString() : null;\n    }\n\n    var childNodes = this.getChildNodes(this.treeData, parent);\n\n    if (childNodes) {\n      for (var i = 0; i < childNodes.length; i++) {\n        var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n        if (this.checkedNodes.indexOf(childId) !== -1) {\n          count++;\n        }\n      }\n    }\n\n    var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n\n    if (parentElement && doCheck) {\n      this.changeState(parentElement, 'indeterminate', null);\n    } else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n      this.changeState(parentElement, 'indeterminate', null);\n    } else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count === 0) {\n      this.changeState(parentElement, 'uncheck', null);\n    } else if (!parentElement) {\n      if (!doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) !== -1) {\n        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent), 1);\n      } else if (doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) === -1) {\n        this.parentNodeCheck.push(parent);\n      } else if (!doCheck && this.checkedNodes.indexOf(parent) !== -1 && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n        this.parentNodeCheck.push(parent);\n      }\n\n      this.updateIndeterminate(parent, doCheck);\n\n      if (this.checkedNodes.indexOf(parent) !== -1 && !doCheck) {\n        this.checkedNodes.splice(this.checkedNodes.indexOf(parent), 1);\n      }\n    }\n  };\n  /**\n   * updates the parent and child  check state while changing the checkedNodes via setmodel for hierarchical data\n   */\n\n\n  TreeView.prototype.updateChildIndeterminate = function (subChild, parent, node, doCheck, child) {\n    var count = 0;\n\n    for (var j = 0; j < subChild.length; j++) {\n      var subId = subChild[j][this.fields.id] ? subChild[j][this.fields.id].toString() : '';\n\n      if (this.checkedNodes.indexOf(subId) !== -1) {\n        count++;\n      }\n\n      var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n      var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n      var check = parentElement ? select('.' + CHECK, parentElement) : null;\n      var element = this.element.querySelector('[data-uid=\"' + subId + '\"]');\n      var childElementCheck = element ? select('.' + CHECK, element) : null;\n\n      if (this.checkedNodes.indexOf(node) !== -1 && parentElement && subId === node && this.autoCheck) {\n        this.changeState(parentElement, 'indeterminate', null);\n      } else if (this.checkedNodes.indexOf(node) === -1 && parentElement && !element && subId === node && !doCheck) {\n        if (this.autoCheck) {\n          this.changeState(parentElement, 'uncheck', null);\n        } else {\n          if (count !== 0) {\n            this.changeState(parentElement, 'indeterminate', null);\n          } else {\n            this.changeState(parentElement, 'uncheck', null);\n          }\n        }\n      } else if (this.checkedNodes.indexOf(node) === -1 && element && subId === node && !doCheck) {\n        this.changeState(element, 'uncheck', null);\n      } else if (this.checkedNodes.indexOf(node) === -1 && indeterminate && subId === node && this.autoCheck && count === 0 && !doCheck) {\n        indeterminate.classList.remove(INDETERMINATE);\n      } else if (this.checkedNodes.indexOf(node) === -1 && !element && check && subId === node && count === 0) {\n        this.changeState(parentElement, 'uncheck', null);\n      } else if (this.checkedNodes.indexOf(subId) === -1 && element && childElementCheck && count === 0) {\n        this.changeState(element, 'uncheck', null);\n      } else if (!element && !parentElement && subId === node || this.parentNodeCheck.indexOf(parent) !== -1 && this.autoCheck) {\n        var childElement = this.element.querySelector('[data-uid=\"' + child + '\"]');\n\n        if (doCheck && count !== 0) {\n          this.changeState(childElement, 'indeterminate', null);\n        } else if (doCheck && count === subChild.length && this.checkedNodes.indexOf(parent) === -1) {\n          this.checkedNodes.push(parent);\n        } else if (!doCheck && count === 0 && this.parentNodeCheck.indexOf(parent) !== -1) {\n          this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent));\n        }\n\n        if (this.parentNodeCheck.indexOf(parent) === -1) {\n          this.parentNodeCheck.push(parent);\n        }\n      }\n\n      var innerChild = getValue(this.fields.child.toString(), subChild[j]);\n\n      if (innerChild) {\n        this.updateChildIndeterminate(innerChild, subId, node, doCheck, child);\n      }\n    }\n  };\n\n  TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd, doCheck) {\n    var _this = this;\n\n    var eventArgs;\n    var currLi = closest(wrapper, '.' + LISTITEM);\n\n    if (wrapper === currLi) {\n      wrapper = select('.' + CHECKBOXWRAP, currLi);\n    }\n\n    if (!isPrevent) {\n      this.checkActionNodes = [];\n      eventArgs = this.getCheckEvent(currLi, state, e);\n      this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          _this.nodeCheckAction(wrapper, state, currLi, observedArgs, e, isPrevent, isAdd, doCheck);\n        }\n      });\n    } else {\n      this.nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck);\n    }\n  };\n\n  TreeView.prototype.nodeCheckAction = function (wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(INDETERMINATE);\n      frameSpan.classList.add(CHECK);\n      this.addCheck(currLi);\n      ariaState = 'true';\n    } else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n      removeClass([frameSpan], [CHECK, INDETERMINATE]);\n      this.removeCheck(currLi);\n      ariaState = 'false';\n    } else if (state === 'indeterminate' && this.autoCheck) {\n      frameSpan.classList.remove(CHECK);\n      frameSpan.classList.add(INDETERMINATE);\n      this.removeCheck(currLi);\n      ariaState = 'mixed';\n    }\n\n    ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n\n    if (!isNullOrUndefined(ariaState)) {\n      wrapper.setAttribute('aria-checked', ariaState);\n    }\n\n    if (isAdd) {\n      var data = [].concat([], this.checkActionNodes);\n      eventArgs = this.getCheckEvent(currLi, state, e);\n\n      if (isUndefined(isPrevent)) {\n        eventArgs.data = data;\n      }\n    }\n\n    if (doCheck !== undefined) {\n      this.ensureStateChange(currLi, doCheck);\n    }\n\n    if (!isPrevent) {\n      if (!isNullOrUndefined(ariaState)) {\n        wrapper.setAttribute('aria-checked', ariaState);\n        eventArgs.data[0].checked = ariaState;\n        this.trigger('nodeChecked', eventArgs);\n        this.checkActionNodes = [];\n      }\n    }\n  };\n\n  TreeView.prototype.addCheck = function (liEle) {\n    var id = liEle.getAttribute('data-uid');\n\n    if (!isNullOrUndefined(id) && this.checkedNodes.indexOf(id) === -1) {\n      this.checkedNodes.push(id);\n    }\n  };\n\n  TreeView.prototype.removeCheck = function (liEle) {\n    var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n    if (index > -1) {\n      this.checkedNodes.splice(index, 1);\n    }\n  };\n\n  TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n    this.checkActionNodes.push(this.getNodeData(currLi));\n    var nodeData = this.checkActionNodes;\n    return {\n      action: action,\n      cancel: false,\n      isInteracted: isNullOrUndefined(e) ? false : true,\n      node: currLi,\n      data: nodeData\n    };\n  };\n\n  TreeView.prototype.finalize = function () {\n    var firstUl = select('.' + PARENTITEM, this.element);\n\n    if (!isNullOrUndefined(firstUl)) {\n      firstUl.setAttribute('role', treeAriaAttr.treeRole);\n      this.setMultiSelect(this.allowMultiSelection);\n      var firstNode = select('.' + LISTITEM, this.element);\n\n      if (firstNode) {\n        addClass([firstNode], FOCUS);\n        this.updateIdAttr(null, firstNode);\n      }\n\n      if (this.allowTextWrap) {\n        this.updateWrap();\n      }\n\n      this.renderReactTemplates();\n      this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n      this.doExpandAction();\n    }\n  };\n\n  TreeView.prototype.setTextWrap = function () {\n    (this.allowTextWrap ? addClass : removeClass)([this.element], LISTWRAP);\n\n    if (Browser.isIE) {\n      (this.allowTextWrap ? addClass : removeClass)([this.element], IELISTWRAP);\n    }\n  };\n\n  TreeView.prototype.updateWrap = function (ulEle) {\n    if (!this.fullRowSelect) {\n      return;\n    }\n\n    var liEle = ulEle ? selectAll('.' + LISTITEM, ulEle) : this.liList;\n    var length = liEle.length;\n\n    for (var i = 0; i < length; i++) {\n      this.calculateWrap(liEle[i]);\n    }\n  };\n\n  TreeView.prototype.calculateWrap = function (liEle) {\n    var element = select('.' + FULLROW, liEle);\n\n    if (element && element.nextElementSibling) {\n      element.style.height = this.allowTextWrap ? element.nextElementSibling.offsetHeight + 'px' : '';\n    }\n  };\n\n  TreeView.prototype.doExpandAction = function () {\n    var eUids = this.expandedNodes;\n\n    if (this.isInitalExpand && eUids.length > 0) {\n      this.setProperties({\n        expandedNodes: []\n      }, true);\n      /* eslint-disable */\n\n      if (this.fields.dataSource instanceof DataManager) {\n        this.expandGivenNodes(eUids);\n      } else {\n        for (var i = 0; i < eUids.length; i++) {\n          var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n\n          if (!isNullOrUndefined(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n\n            if (!isNullOrUndefined(icon)) {\n              this.expandAction(eNode, icon, null);\n            }\n          } else {\n            if (eUids[i] && this.expandChildren.indexOf(eUids[i]) === -1) {\n              this.expandChildren.push(eUids[i].toString());\n            }\n\n            continue;\n          }\n        }\n\n        this.afterFinalized();\n      }\n    } else {\n      this.afterFinalized();\n    }\n  };\n\n  TreeView.prototype.expandGivenNodes = function (arr) {\n    var proxy = this;\n    this.expandCallback(arr[this.index], function () {\n      proxy.index++;\n\n      if (proxy.index < arr.length) {\n        proxy.expandGivenNodes(arr);\n      } else {\n        proxy.afterFinalized();\n      }\n    });\n  };\n\n  TreeView.prototype.expandCallback = function (eUid, callback) {\n    var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n\n    if (!isNullOrUndefined(eNode)) {\n      var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n\n      if (!isNullOrUndefined(icon)) {\n        this.expandAction(eNode, icon, null, false, callback);\n      } else {\n        callback();\n      }\n    } else {\n      callback();\n    }\n  };\n\n  TreeView.prototype.afterFinalized = function () {\n    this.doSelectionAction();\n    this.updateCheckedProp();\n    this.isAnimate = true;\n    this.isInitalExpand = false;\n\n    if (!this.isLoaded || this.isFieldChange) {\n      var eventArgs = {\n        data: this.treeData\n      };\n      this.trigger('dataBound', eventArgs);\n    }\n\n    this.isLoaded = true;\n  };\n\n  TreeView.prototype.doSelectionAction = function () {\n    var sNodes = selectAll('.' + SELECTED$1, this.element);\n    var sUids = this.selectedNodes;\n\n    if (sUids.length > 0) {\n      this.setProperties({\n        selectedNodes: []\n      }, true);\n\n      for (var i = 0; i < sUids.length; i++) {\n        var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n\n        if (sNode && !sNode.classList.contains('e-active')) {\n          this.selectNode(sNode, null, true);\n        } else {\n          this.selectedNodes.push(sUids[i]);\n        }\n\n        if (!this.allowMultiSelection) {\n          break;\n        }\n      }\n    } else {\n      this.selectGivenNodes(sNodes);\n    }\n\n    removeClass(sNodes, SELECTED$1);\n  };\n\n  TreeView.prototype.selectGivenNodes = function (sNodes) {\n    for (var i = 0; i < sNodes.length; i++) {\n      if (!sNodes[i].classList.contains('e-disable')) {\n        this.selectNode(sNodes[i], null, true);\n      }\n\n      if (!this.allowMultiSelection) {\n        break;\n      }\n    }\n  };\n\n  TreeView.prototype.clickHandler = function (event) {\n    var target = event.originalEvent.target;\n    EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n\n    if (!target || this.dragStartAction) {\n      return;\n    } else {\n      var classList$$1 = target.classList;\n      var li = closest(target, '.' + LISTITEM);\n\n      if (!li) {\n        return;\n      } else if (event.originalEvent.which !== 3) {\n        var rippleElement = select('.' + RIPPLEELMENT, li);\n        var rippleIcons = select('.' + ICON, li);\n        this.removeHover();\n        this.setFocusElement(li);\n\n        if (this.showCheckBox && !li.classList.contains('e-disable')) {\n          var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n\n          if (!isNullOrUndefined(checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n            this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n            this.triggerClickEvent(event.originalEvent, li);\n            return;\n          }\n        }\n\n        if (classList$$1.contains(EXPANDABLE)) {\n          this.expandAction(li, target, event);\n        } else if (classList$$1.contains(COLLAPSIBLE)) {\n          this.collapseNode(li, target, event);\n        } else if (rippleElement && rippleIcons) {\n          if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(EXPANDABLE)) {\n            this.expandAction(li, rippleIcons, event);\n          } else if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(COLLAPSIBLE)) {\n            this.collapseNode(li, rippleIcons, event);\n          } else if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n            this.toggleSelect(li, event.originalEvent, false);\n          }\n        } else {\n          if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n            this.toggleSelect(li, event.originalEvent, false);\n          }\n        }\n      }\n\n      this.triggerClickEvent(event.originalEvent, li);\n    }\n  };\n\n  TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n    var currLi = closest(wrapper, '.' + LISTITEM);\n    var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n    eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n    this.trigger('nodeChecked', eventArgs);\n  };\n\n  TreeView.prototype.triggerClickEvent = function (e, li) {\n    var eventArgs = {\n      event: e,\n      node: li\n    };\n    this.trigger('nodeClicked', eventArgs);\n  };\n\n  TreeView.prototype.expandNode = function (currLi, icon, loaded) {\n    var _this = this;\n\n    this.renderReactTemplates();\n\n    if (icon.classList.contains(LOAD)) {\n      this.hideSpinner(icon);\n    }\n\n    if (!this.initialRender) {\n      icon.classList.add('interaction');\n    }\n\n    if (loaded !== true || loaded === true && currLi.classList.contains('e-expanded')) {\n      if (this.preventExpand !== true) {\n        removeClass([icon], EXPANDABLE);\n        addClass([icon], COLLAPSIBLE);\n        var start_1 = 0;\n        var end_1 = 0;\n        var proxy_1 = this;\n        var ul_1 = select('.' + PARENTITEM, currLi);\n        var liEle_1 = currLi;\n        this.setHeight(liEle_1, ul_1);\n        var activeElement_1 = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n\n        if (this.isAnimate && !this.isRefreshed) {\n          this.aniObj.animate(ul_1, {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing,\n            begin: function (args) {\n              liEle_1.style.overflow = 'hidden';\n\n              if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                activeElement_1.classList.add(ITEM_ANIMATION_ACTIVE);\n              }\n\n              start_1 = liEle_1.offsetHeight;\n              end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n            },\n            progress: function (args) {\n              args.element.style.display = 'block';\n              proxy_1.animateHeight(args, start_1, end_1);\n            },\n            end: function (args) {\n              args.element.style.display = 'block';\n\n              if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                activeElement_1.classList.remove(ITEM_ANIMATION_ACTIVE);\n              }\n\n              _this.expandedNode(liEle_1, ul_1, icon);\n            }\n          });\n        } else {\n          this.expandedNode(liEle_1, ul_1, icon);\n        }\n      }\n    } else {\n      var ul = select('.' + PARENTITEM, currLi);\n      ul.style.display = 'none';\n\n      if (this.fields.dataSource instanceof DataManager === true) {\n        this.preventExpand = false;\n      }\n    }\n\n    if (this.initialRender) {\n      icon.classList.add('interaction');\n    }\n  };\n\n  TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n    ul.style.display = 'block';\n    currLi.style.display = 'block';\n    currLi.style.overflow = '';\n    currLi.style.height = '';\n    removeClass([icon], PROCESS);\n    this.addExpand(currLi);\n\n    if (this.allowTextWrap && this.isLoaded && this.isFirstRender) {\n      this.updateWrap(currLi);\n      this.isFirstRender = false;\n    }\n\n    if (this.isLoaded && this.expandArgs && !this.isRefreshed) {\n      this.expandArgs = this.getExpandEvent(currLi, null);\n      this.trigger('nodeExpanded', this.expandArgs);\n    }\n  };\n\n  TreeView.prototype.addExpand = function (liEle) {\n    liEle.setAttribute('aria-expanded', 'true');\n    removeClass([liEle], NODECOLLAPSED);\n    var id = liEle.getAttribute('data-uid');\n\n    if (!isNullOrUndefined(id) && this.expandedNodes.indexOf(id) === -1) {\n      this.expandedNodes.push(id);\n    }\n  };\n\n  TreeView.prototype.collapseNode = function (currLi, icon, e) {\n    var _this = this;\n\n    if (icon.classList.contains(PROCESS)) {\n      return;\n    } else {\n      addClass([icon], PROCESS);\n    }\n\n    var colArgs;\n\n    if (this.isLoaded) {\n      colArgs = this.getExpandEvent(currLi, e);\n      this.trigger('nodeCollapsing', colArgs, function (observedArgs) {\n        if (observedArgs.cancel) {\n          removeClass([icon], PROCESS);\n        } else {\n          _this.nodeCollapseAction(currLi, icon, observedArgs);\n        }\n      });\n    } else {\n      this.nodeCollapseAction(currLi, icon, colArgs);\n    }\n  };\n\n  TreeView.prototype.nodeCollapseAction = function (currLi, icon, colArgs) {\n    var _this = this;\n\n    removeClass([icon], COLLAPSIBLE);\n    addClass([icon], EXPANDABLE);\n    var start = 0;\n    var end = 0;\n    var proxy = this;\n    var ul = select('.' + PARENTITEM, currLi);\n    var liEle = currLi;\n    var activeElement = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n\n    if (this.isAnimate) {\n      this.aniObj.animate(ul, {\n        name: this.animation.collapse.effect,\n        duration: this.animation.collapse.duration,\n        timingFunction: this.animation.collapse.easing,\n        begin: function (args) {\n          liEle.style.overflow = 'hidden';\n\n          if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n            activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n          }\n\n          start = select('.' + TEXTWRAP, currLi).offsetHeight;\n          end = liEle.offsetHeight;\n        },\n        progress: function (args) {\n          proxy.animateHeight(args, start, end);\n        },\n        end: function (args) {\n          args.element.style.display = 'none';\n\n          if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n            activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n          }\n\n          _this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n      });\n    } else {\n      this.collapsedNode(liEle, ul, icon, colArgs);\n    }\n  };\n\n  TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n    ul.style.display = 'none';\n    liEle.style.overflow = '';\n    liEle.style.height = '';\n    removeClass([icon], PROCESS);\n    this.removeExpand(liEle);\n\n    if (this.isLoaded) {\n      colArgs = this.getExpandEvent(liEle, null);\n      this.trigger('nodeCollapsed', colArgs);\n    }\n  };\n\n  TreeView.prototype.removeExpand = function (liEle, toRemove) {\n    if (toRemove) {\n      liEle.removeAttribute('aria-expanded');\n    } else {\n      this.disableExpandAttr(liEle);\n    }\n\n    var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n    if (index > -1) {\n      this.expandedNodes.splice(index, 1);\n    }\n  };\n\n  TreeView.prototype.disableExpandAttr = function (liEle) {\n    liEle.setAttribute('aria-expanded', 'false');\n    addClass([liEle], NODECOLLAPSED);\n  };\n\n  TreeView.prototype.setHeight = function (currLi, ul) {\n    ul.style.display = 'block';\n    ul.style.visibility = 'hidden';\n    currLi.style.height = currLi.offsetHeight + 'px';\n    ul.style.display = 'none';\n    ul.style.visibility = '';\n  };\n\n  TreeView.prototype.animateHeight = function (args, start, end) {\n    var remaining = (args.duration - args.timeStamp) / args.duration;\n    var currentHeight = (end - start) * remaining + start;\n    args.element.parentElement.style.height = currentHeight + 'px';\n  };\n\n  TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback, loaded) {\n    var _this = this;\n\n    var eicon = select('div.' + ICON, parentLi);\n\n    if (isNullOrUndefined(eicon)) {\n      return;\n    }\n\n    this.showSpinner(eicon);\n    var childItems;\n    /* eslint-disable */\n\n    if (this.fields.dataSource instanceof DataManager) {\n      var level = this.parents(parentLi, '.' + PARENTITEM).length;\n      var mapper_2 = this.getChildFields(this.fields, level, 1);\n\n      if (isNullOrUndefined(mapper_2) || isNullOrUndefined(mapper_2.dataSource)) {\n        detach(eicon);\n        this.removeExpand(parentLi, true);\n        return;\n      }\n\n      this.treeList.push('false');\n\n      if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n        this.treeList.pop();\n        childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n        this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n      } else {\n        mapper_2.dataSource.executeQuery(this.getQuery(mapper_2, parentLi.getAttribute('data-uid'))).then(function (e) {\n          _this.treeList.pop();\n\n          childItems = e.result;\n\n          if (_this.dataType === 1) {\n            _this.dataType = 2;\n          }\n\n          _this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n        }).catch(function (e) {\n          _this.trigger('actionFailure', {\n            error: e\n          });\n        });\n      }\n    } else {\n      childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n      this.currentLoadData = this.getSortedData(childItems);\n\n      if (isNullOrUndefined(childItems) || childItems.length === 0) {\n        detach(eicon);\n        this.removeExpand(parentLi, true);\n        return;\n      } else {\n        this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n        parentLi.appendChild(ListBase.createList(this.createElement, this.currentLoadData, this.listBaseOption));\n        this.expandNode(parentLi, eicon, loaded);\n        this.setSelectionForChildNodes(childItems);\n        this.ensureCheckNode(parentLi);\n        this.finalizeNode(parentLi);\n        this.disableTreeNodes(childItems);\n        this.renderSubChild(parentLi, expandChild, loaded);\n      }\n    }\n  };\n\n  TreeView.prototype.loadChild = function (childItems, mapper, eicon, parentLi, expandChild, callback, loaded) {\n    this.currentLoadData = childItems;\n\n    if (isNullOrUndefined(childItems) || childItems.length === 0) {\n      detach(eicon);\n      this.removeExpand(parentLi, true);\n    } else {\n      this.updateListProp(mapper);\n\n      if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n        var id = parentLi.getAttribute('data-uid');\n        var nodeData = this.getNodeObject(id);\n        setValue('child', childItems, nodeData);\n      }\n\n      this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n      parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n      this.expandNode(parentLi, eicon, loaded);\n      this.setSelectionForChildNodes(childItems);\n      this.ensureCheckNode(parentLi);\n      this.finalizeNode(parentLi);\n      this.disableTreeNodes(childItems);\n      this.renderSubChild(parentLi, expandChild, loaded);\n    }\n\n    if (callback) {\n      callback();\n    }\n\n    if (this.treeList.length === 0 && !this.isLoaded) {\n      this.finalize();\n    }\n  };\n\n  TreeView.prototype.disableTreeNodes = function (childItems) {\n    var i = 0;\n\n    while (i < childItems.length) {\n      var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n\n      if (this.disableNode !== undefined && this.disableNode.indexOf(id) !== -1) {\n        this.doDisableAction([id]);\n      }\n\n      i++;\n    }\n  };\n  /**\n   * Sets the child Item in selectedState while rendering the child node\n   */\n\n\n  TreeView.prototype.setSelectionForChildNodes = function (nodes) {\n    var i;\n\n    for (i = 0; i < nodes.length; i++) {\n      var id = nodes[i][this.fields.id] ? nodes[i][this.fields.id].toString() : null;\n\n      if (this.selectedNodes !== undefined && this.selectedNodes.indexOf(id) !== -1) {\n        this.doSelectionAction();\n      }\n    }\n  };\n\n  TreeView.prototype.ensureCheckNode = function (element) {\n    if (this.showCheckBox) {\n      this.ele = this.checkedElement ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n\n      if (this.autoCheck) {\n        this.ensureChildCheckState(element);\n        this.ensureParentCheckState(element);\n      }\n    }\n\n    this.currentLoadData = null;\n  };\n\n  TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n    if (nodeLevel === dataLevel) {\n      return mapper;\n    } else {\n      return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n    }\n  };\n\n  TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n    if (nodeLevel === dataLevel) {\n      return this.getChildMapper(mapper);\n    } else {\n      return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n    }\n  };\n\n  TreeView.prototype.getChildMapper = function (mapper) {\n    return typeof mapper.child === 'string' || isNullOrUndefined(mapper.child) ? mapper : mapper.child;\n  };\n\n  TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n    if (isRoot === void 0) {\n      isRoot = false;\n    }\n\n    var childNodes;\n\n    if (isNullOrUndefined(obj)) {\n      return childNodes;\n    } else if (this.dataType === 1) {\n      return this.getChildGroup(this.groupedData, parentId, isRoot);\n    } else {\n      if (typeof this.fields.child === 'string') {\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n          var dataId = getValue(this.fields.id, obj[i]);\n\n          if (dataId && dataId.toString() === parentId) {\n            return getValue(this.fields.child, obj[i]);\n          } else if (!isNullOrUndefined(getValue(this.fields.child, obj[i]))) {\n            childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n\n            if (childNodes !== undefined) {\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return childNodes;\n  };\n\n  TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n    var childNodes;\n\n    if (isNullOrUndefined(data)) {\n      return childNodes;\n    }\n\n    for (var i = 0, objlen = data.length; i < objlen; i++) {\n      if (!isNullOrUndefined(data[i][0]) && !isNullOrUndefined(getValue(this.fields.parentID, data[i][0]))) {\n        if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n          return data[i];\n        }\n      } else if (isRoot) {\n        return data[i];\n      } else {\n        return [];\n      }\n    }\n\n    return childNodes;\n  };\n\n  TreeView.prototype.renderSubChild = function (element, expandChild, loaded) {\n    if (expandChild) {\n      var cIcons = selectAll('.' + EXPANDABLE, element);\n\n      for (var i = 0, len = cIcons.length; i < len; i++) {\n        var icon = cIcons[i];\n\n        if (element.querySelector('.e-icons') !== cIcons[i]) {\n          var curLi = closest(icon, '.' + LISTITEM);\n          this.expandArgs = this.getExpandEvent(curLi, null);\n\n          if (loaded !== true) {\n            this.trigger('nodeExpanding', this.expandArgs);\n          }\n\n          this.renderChildNodes(curLi, expandChild, null, loaded);\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n    if (!li.classList.contains('e-disable')) {\n      if (this.allowMultiSelection && (e && e.ctrlKey || multiSelect) && this.isActive(li)) {\n        this.unselectNode(li, e);\n      } else {\n        this.selectNode(li, e, multiSelect);\n      }\n    }\n  };\n\n  TreeView.prototype.isActive = function (li) {\n    return li.classList.contains(ACTIVE) ? true : false;\n  };\n\n  TreeView.prototype.selectNode = function (li, e, multiSelect) {\n    var _this = this;\n\n    if (isNullOrUndefined(li) || !this.allowMultiSelection && this.isActive(li) && !isNullOrUndefined(e)) {\n      this.setFocusElement(li);\n      return;\n    }\n\n    var eventArgs;\n\n    if (this.isLoaded) {\n      eventArgs = this.getSelectEvent(li, 'select', e);\n      this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          _this.nodeSelectAction(li, e, observedArgs, multiSelect);\n        }\n      });\n    } else {\n      this.nodeSelectAction(li, e, eventArgs, multiSelect);\n    }\n  };\n\n  TreeView.prototype.nodeSelectAction = function (li, e, eventArgs, multiSelect) {\n    if (!this.allowMultiSelection || !multiSelect && (!e || e && !e.ctrlKey)) {\n      this.removeSelectAll();\n    }\n\n    if (this.allowMultiSelection && e && e.shiftKey) {\n      if (!this.startNode) {\n        this.startNode = li;\n      }\n\n      var startIndex = this.liList.indexOf(this.startNode);\n      var endIndex = this.liList.indexOf(li);\n\n      if (startIndex > endIndex) {\n        var temp = startIndex;\n        startIndex = endIndex;\n        endIndex = temp;\n      }\n\n      for (var i = startIndex; i <= endIndex; i++) {\n        var currNode = this.liList[i];\n\n        if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n          this.addSelect(currNode);\n        }\n      }\n    } else {\n      this.startNode = li;\n      this.addSelect(li);\n    }\n\n    this.setFocusElement(li);\n\n    if (this.isLoaded) {\n      eventArgs.nodeData = this.getNodeData(li);\n      this.trigger('nodeSelected', eventArgs);\n    }\n  };\n\n  TreeView.prototype.unselectNode = function (li, e) {\n    var _this = this;\n\n    var eventArgs;\n\n    if (this.isLoaded) {\n      eventArgs = this.getSelectEvent(li, 'un-select', e);\n      this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          _this.nodeUnselectAction(li, observedArgs);\n        }\n      });\n    } else {\n      this.nodeUnselectAction(li, eventArgs);\n    }\n  };\n\n  TreeView.prototype.nodeUnselectAction = function (li, eventArgs) {\n    this.removeSelect(li);\n    this.setFocusElement(li);\n\n    if (this.isLoaded) {\n      eventArgs.nodeData = this.getNodeData(li);\n      this.trigger('nodeSelected', eventArgs);\n    }\n  };\n\n  TreeView.prototype.setFocusElement = function (li) {\n    if (!isNullOrUndefined(li)) {\n      var focusedNode = this.getFocusedNode();\n\n      if (focusedNode) {\n        removeClass([focusedNode], FOCUS);\n      }\n\n      addClass([li], FOCUS);\n      this.updateIdAttr(focusedNode, li);\n    }\n  };\n\n  TreeView.prototype.addSelect = function (liEle) {\n    liEle.setAttribute('aria-selected', 'true');\n    addClass([liEle], ACTIVE);\n    var id = liEle.getAttribute('data-uid');\n\n    if (!isNullOrUndefined(id) && this.selectedNodes.indexOf(id) === -1) {\n      this.selectedNodes.push(id);\n    }\n  };\n\n  TreeView.prototype.removeSelect = function (liEle) {\n    if (this.allowMultiSelection) {\n      liEle.setAttribute('aria-selected', 'false');\n    } else {\n      liEle.removeAttribute('aria-selected');\n    }\n\n    removeClass([liEle], ACTIVE);\n    var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n    if (index > -1) {\n      this.selectedNodes.splice(index, 1);\n    }\n  };\n\n  TreeView.prototype.removeSelectAll = function () {\n    var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n\n    for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n      var ele = selectedLI_1[_i];\n\n      if (this.allowMultiSelection) {\n        ele.setAttribute('aria-selected', 'false');\n      } else {\n        ele.removeAttribute('aria-selected');\n      }\n    }\n\n    removeClass(selectedLI, ACTIVE);\n    this.setProperties({\n      selectedNodes: []\n    }, true);\n  };\n\n  TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n    var nodeData = this.getNodeData(currLi);\n    return {\n      action: action,\n      cancel: false,\n      isInteracted: isNullOrUndefined(e) ? false : true,\n      node: currLi,\n      nodeData: nodeData\n    };\n  };\n\n  TreeView.prototype.setExpandOnType = function () {\n    this.expandOnType = this.expandOn === 'Auto' ? Browser.isDevice ? 'Click' : 'DblClick' : this.expandOn;\n  };\n\n  TreeView.prototype.expandHandler = function (e) {\n    var target = e.originalEvent.target;\n\n    if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) || target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n      return;\n    } else {\n      this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n    }\n  };\n\n  TreeView.prototype.expandCollapseAction = function (currLi, e) {\n    var icon = select('div.' + ICON, currLi);\n\n    if (!icon || icon.classList.contains(PROCESS)) {\n      return;\n    } else {\n      var classList$$1 = icon.classList;\n\n      if (classList$$1.contains(EXPANDABLE)) {\n        this.expandAction(currLi, icon, e);\n      } else if (classList$$1.contains(COLLAPSIBLE)) {\n        this.collapseNode(currLi, icon, e);\n      }\n    }\n  };\n\n  TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n    var _this = this;\n\n    if (icon.classList.contains(PROCESS)) {\n      return;\n    } else {\n      addClass([icon], PROCESS);\n    }\n\n    if (this.isLoaded && !this.isRefreshed) {\n      this.expandArgs = this.getExpandEvent(currLi, e);\n      this.trigger('nodeExpanding', this.expandArgs, function (observedArgs) {\n        if (observedArgs.cancel) {\n          removeClass([icon], PROCESS);\n        } else {\n          _this.nodeExpandAction(currLi, icon, expandChild, callback);\n        }\n      });\n    } else {\n      this.nodeExpandAction(currLi, icon, expandChild, callback);\n    }\n  };\n\n  TreeView.prototype.nodeExpandAction = function (currLi, icon, expandChild, callback) {\n    var ul = select('.' + PARENTITEM, currLi);\n\n    if (ul && ul.nodeName === 'UL') {\n      this.expandNode(currLi, icon);\n    } else {\n      this.isFirstRender = true;\n      this.renderChildNodes(currLi, expandChild, callback);\n      var liEles = selectAll('.' + LISTITEM, currLi);\n\n      for (var i = 0; i < liEles.length; i++) {\n        var id = this.getId(liEles[i]);\n\n        if (this.expandChildren.indexOf(id) !== -1 && this.expandChildren !== undefined) {\n          var icon_1 = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEles[i]));\n\n          if (!isNullOrUndefined(icon_1)) {\n            this.expandAction(liEles[i], icon_1, null);\n          }\n\n          this.expandChildren.splice(this.expandChildren.indexOf(id), 1);\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.keyActionHandler = function (e) {\n    var _this = this;\n\n    var target = e.target;\n    var focusedNode = this.getFocusedNode();\n\n    if (target && target.classList.contains(INPUT)) {\n      var inpEle = target;\n\n      if (e.action === 'enter') {\n        inpEle.blur();\n        this.element.focus();\n        addClass([focusedNode], HOVER);\n      } else if (e.action === 'escape') {\n        inpEle.value = this.oldText;\n        inpEle.blur();\n        this.element.focus();\n        addClass([focusedNode], HOVER);\n      }\n\n      return;\n    }\n\n    e.preventDefault();\n    var eventArgs = {\n      cancel: false,\n      event: e,\n      node: focusedNode\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'space':\n            if (_this.showCheckBox) {\n              _this.checkNode(e);\n            }\n\n            break;\n\n          case 'moveRight':\n            _this.openNode(_this.enableRtl ? false : true, e);\n\n            break;\n\n          case 'moveLeft':\n            _this.openNode(_this.enableRtl ? true : false, e);\n\n            break;\n\n          case 'shiftDown':\n            _this.shiftKeySelect(true, e);\n\n            break;\n\n          case 'moveDown':\n          case 'ctrlDown':\n          case 'csDown':\n            _this.navigateNode(true);\n\n            break;\n\n          case 'shiftUp':\n            _this.shiftKeySelect(false, e);\n\n            break;\n\n          case 'moveUp':\n          case 'ctrlUp':\n          case 'csUp':\n            _this.navigateNode(false);\n\n            break;\n\n          case 'home':\n          case 'shiftHome':\n          case 'ctrlHome':\n          case 'csHome':\n            _this.navigateRootNode(true);\n\n            break;\n\n          case 'end':\n          case 'shiftEnd':\n          case 'ctrlEnd':\n          case 'csEnd':\n            _this.navigateRootNode(false);\n\n            break;\n\n          case 'enter':\n          case 'ctrlEnter':\n          case 'shiftEnter':\n          case 'csEnter':\n            _this.toggleSelect(focusedNode, e);\n\n            break;\n\n          case 'f2':\n            if (_this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n              _this.createTextbox(focusedNode, e);\n            }\n\n            break;\n\n          case 'ctrlA':\n            if (_this.allowMultiSelection) {\n              var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', _this.element);\n\n              _this.selectGivenNodes(sNodes);\n            }\n\n            break;\n        }\n      }\n    });\n  };\n\n  TreeView.prototype.navigateToFocus = function (isUp) {\n    var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n    var pos = focusNode.getBoundingClientRect();\n    var parent = this.getScrollParent(this.element);\n\n    if (!isNullOrUndefined(parent)) {\n      var parentPos = parent.getBoundingClientRect();\n\n      if (pos.bottom > parentPos.bottom) {\n        parent.scrollTop += pos.bottom - parentPos.bottom;\n      } else if (pos.top < parentPos.top) {\n        parent.scrollTop -= parentPos.top - pos.top;\n      }\n    }\n\n    var isVisible$$1 = this.isVisibleInViewport(focusNode);\n\n    if (!isVisible$$1) {\n      focusNode.scrollIntoView(isUp);\n    }\n  };\n\n  TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n    var pos = txtWrap.getBoundingClientRect();\n    return pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) && pos.right <= (window.innerWidth || document.documentElement.clientWidth);\n  };\n\n  TreeView.prototype.getScrollParent = function (node) {\n    if (isNullOrUndefined(node)) {\n      return null;\n    }\n\n    return node.scrollHeight > node.clientHeight ? node : this.getScrollParent(node.parentElement);\n  };\n\n  TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n    if (this.allowMultiSelection) {\n      var focusedNode = this.getFocusedNode();\n      var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n      this.removeHover();\n      this.setFocusElement(nextNode);\n      this.toggleSelect(nextNode, e, false);\n      this.navigateToFocus(!isTowards);\n    } else {\n      this.navigateNode(isTowards);\n    }\n  };\n\n  TreeView.prototype.checkNode = function (e) {\n    var focusedNode = this.getFocusedNode();\n    var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n    var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n\n    if (!focusedNode.classList.contains('e-disable')) {\n      if (focusedNode.getElementsByClassName(\"e-checkbox-disabled\").length == 0) {\n        this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n      }\n    }\n  };\n\n  TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n    var _this = this;\n\n    var currLi = closest(checkWrap, '.' + LISTITEM);\n    this.checkActionNodes = [];\n    var ariaState = !isCheck ? 'true' : 'false';\n\n    if (!isNullOrUndefined(ariaState)) {\n      checkWrap.setAttribute('aria-checked', ariaState);\n    }\n\n    var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n    this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        _this.nodeCheckingAction(checkWrap, isCheck, li, observedArgs, e);\n      }\n    });\n  };\n\n  TreeView.prototype.nodeCheckingAction = function (checkWrap, isCheck, li, eventArgs, e) {\n    if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n      this.checkedElement.push(li.getAttribute('data-uid'));\n\n      if (this.autoCheck) {\n        var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n        child !== null ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n      }\n    }\n\n    this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n\n    if (this.autoCheck) {\n      this.ensureChildCheckState(li);\n      this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n      var doCheck = void 0;\n\n      if (eventArgs.action === 'check') {\n        doCheck = true;\n      } else if (eventArgs.action === 'uncheck') {\n        doCheck = false;\n      }\n\n      this.ensureStateChange(li, doCheck);\n    }\n\n    this.nodeCheckedEvent(checkWrap, isCheck, e);\n  };\n  /**\n   * Update checkedNodes when UI interaction happens before the child node renders in DOM\n   */\n\n\n  TreeView.prototype.ensureStateChange = function (li, doCheck) {\n    var childElement = select('.' + PARENTITEM, li);\n    var parentIndex = li.getAttribute('data-uid');\n    var mapper = this.fields;\n\n    if (this.dataType === 1 && this.autoCheck) {\n      var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', parentIndex, true));\n\n      for (var i = 0; i < resultData.length; i++) {\n        var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n        var isCheck = resultData[i][this.fields.isChecked] ? resultData[i][this.fields.isChecked].toString() : null;\n\n        if (this.checkedNodes.indexOf(parentIndex) !== -1 && this.checkedNodes.indexOf(resultId) === -1) {\n          this.checkedNodes.push(resultId);\n          var childItems = this.getChildNodes(this.treeData, resultId);\n          this.getChildItems(childItems, doCheck);\n\n          if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n          }\n        } else if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null && this.checkedNodes.indexOf(resultId) !== -1) {\n          this.checkedNodes.splice(this.checkedNodes.indexOf(resultId), 1);\n\n          if (isCheck === 'true') {\n            this.updateField(this.treeData, this.fields, resultId, 'isChecked', null);\n          }\n\n          if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null || this.parentNodeCheck.indexOf(resultId) !== -1) {\n            var childNodes = this.getChildNodes(this.treeData, resultId);\n            this.getChildItems(childNodes, doCheck);\n\n            if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n            }\n          }\n        } else {\n          var childItems = this.getChildNodes(this.treeData, resultId);\n          this.getChildItems(childItems, doCheck);\n        }\n      }\n    } else if (this.dataType === 1 && !this.autoCheck) {\n      if (!doCheck) {\n        var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n\n        for (var i = 0; i < checkedData.length; i++) {\n          var id = checkedData[i][this.fields.id] ? checkedData[i][this.fields.id].toString() : null;\n\n          if (this.checkedNodes.indexOf(id) !== -1) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n          }\n\n          this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n        }\n\n        this.checkedNodes = [];\n      } else {\n        for (var i = 0; i < this.treeData.length; i++) {\n          var checkedId = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : null;\n\n          if (this.checkedNodes.indexOf(checkedId) === -1) {\n            this.checkedNodes.push(checkedId);\n          }\n        }\n      }\n    } else {\n      var childItems = this.getChildNodes(this.treeData, parentIndex);\n\n      if (childItems) {\n        this.childStateChange(childItems, parentIndex, childElement, doCheck);\n      }\n    }\n  };\n\n  TreeView.prototype.getChildItems = function (childItems, doCheck) {\n    for (var i = 0; i < childItems.length; i++) {\n      var childId = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n      var childIsCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n\n      if (this.checkedNodes.indexOf(childId) !== -1 && !doCheck) {\n        this.checkedNodes.splice(this.checkedNodes.indexOf(childId), 1);\n      }\n\n      if (this.checkedNodes.indexOf(childId) === -1 && doCheck) {\n        this.checkedNodes.push(childId);\n      }\n\n      if (childIsCheck === 'true' && !doCheck) {\n        this.updateField(this.treeData, this.fields, childId, 'isChecked', null);\n      }\n\n      var subChildItems = this.getChildNodes(this.treeData, childId);\n\n      if (subChildItems.length > 0) {\n        this.getChildItems(subChildItems, doCheck);\n      }\n    }\n  };\n  /**\n   * Update checkedNodes when UI interaction happens before the child node renders in DOM for hierarchical DS\n   */\n\n\n  TreeView.prototype.childStateChange = function (childItems, parent, childElement, doCheck) {\n    for (var i = 0; i < childItems.length; i++) {\n      var checkedChild = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : '';\n      var isCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n\n      if (this.autoCheck) {\n        if (this.checkedNodes.indexOf(parent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n          this.checkedNodes.push(checkedChild);\n\n          if (this.parentNodeCheck.indexOf(checkedChild) !== -1) {\n            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(checkedChild), 1);\n          }\n        } else if (this.checkedNodes.indexOf(parent) === -1 && this.checkedNodes.indexOf(checkedChild) !== -1 && !doCheck) {\n          this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n\n          if (isCheck === 'true') {\n            this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n          }\n        }\n      } else if (!this.autoCheck) {\n        if (!doCheck) {\n          if (this.checkedNodes.indexOf(checkedChild) !== -1) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n          }\n\n          this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n          this.checkedNodes = [];\n        } else {\n          if (this.checkedNodes.indexOf(checkedChild) === -1) {\n            this.checkedNodes.push(checkedChild);\n          }\n        }\n      }\n\n      var subChild = this.getChildNodes([childItems[i]], checkedChild);\n\n      if (subChild) {\n        this.childStateChange(subChild, parent, childElement, doCheck);\n      }\n    }\n  }; //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n\n\n  TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n    if (child) {\n      for (var length_1 = 0; length_1 < child.length; length_1++) {\n        var childId = getValue(this.fields.id, child[length_1]);\n        var check = this.element.querySelector('[data-uid=\"' + childId + '\"]'); //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n\n        if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n          if (check === null && !isNullOrUndefined(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1 || childCheck === 0 || checked === 2) {\n            child[length_1][this.fields.isChecked] !== false || checked === 2 ? newCheck.push(childId.toString()) : childCheck = null;\n            childCheck = child[length_1][this.fields.isChecked] !== false || checked === 2 ? 0 : null;\n          }\n        } //Pushes child checked node done thro' UI interaction\n\n\n        if (newCheck.indexOf(childId.toString()) === -1 && isNullOrUndefined(checked)) {\n          newCheck.push(childId.toString());\n        }\n\n        var hierChildId = getValue(this.fields.child.toString(), child[length_1]); //Gets if any next level children are available for child nodes\n\n        if (getValue(this.fields.hasChildren, child[length_1]) === true || hierChildId) {\n          var id = getValue(this.fields.id, child[length_1]);\n          var childId_1 = void 0;\n\n          if (this.dataType === 1) {\n            childId_1 = this.getChildNodes(this.treeData, id.toString());\n          } else {\n            childId_1 = hierChildId;\n          }\n\n          if (childId_1) {\n            isNullOrUndefined(validateCheck) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) : this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n            childCheck = null;\n          }\n        }\n\n        childCheck = null;\n      }\n    }\n  };\n\n  TreeView.prototype.openNode = function (toBeOpened, e) {\n    var focusedNode = this.getFocusedNode();\n    var icon = select('div.' + ICON, focusedNode);\n\n    if (toBeOpened) {\n      if (!icon) {\n        return;\n      } else if (icon.classList.contains(EXPANDABLE)) {\n        this.expandAction(focusedNode, icon, e);\n      } else {\n        this.focusNextNode(focusedNode, true);\n      }\n    } else {\n      if (icon && icon.classList.contains(COLLAPSIBLE)) {\n        this.collapseNode(focusedNode, icon, e);\n      } else {\n        var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n\n        if (!parentLi) {\n          return;\n        } else {\n          if (!parentLi.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, parentLi);\n            this.navigateToFocus(true);\n          }\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.navigateNode = function (isTowards) {\n    var focusedNode = this.getFocusedNode();\n    this.focusNextNode(focusedNode, isTowards);\n  };\n\n  TreeView.prototype.navigateRootNode = function (isBackwards) {\n    var focusedNode = this.getFocusedNode();\n    var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n\n    if (!rootNode.classList.contains('e-disable')) {\n      this.setFocus(focusedNode, rootNode);\n      this.navigateToFocus(isBackwards);\n    }\n  };\n\n  TreeView.prototype.getFocusedNode = function () {\n    var selectedItem;\n    var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n\n    if (isNullOrUndefined(fNode)) {\n      selectedItem = select('.' + LISTITEM, this.element);\n    }\n\n    return isNullOrUndefined(fNode) ? isNullOrUndefined(selectedItem) ? this.element.firstElementChild : selectedItem : fNode;\n  };\n\n  TreeView.prototype.focusNextNode = function (li, isTowards) {\n    var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n    this.setFocus(li, nextNode);\n    this.navigateToFocus(!isTowards);\n\n    if (nextNode.classList.contains('e-disable')) {\n      var lastChild = nextNode.lastChild;\n\n      if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n        this.focusNextNode(nextNode, true);\n      } else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n        this.focusNextNode(nextNode, false);\n      } else if (nextNode.nextSibling == null && lastChild.classList.contains(TEXTWRAP)) {\n        this.focusNextNode(nextNode, false);\n      } else {\n        this.focusNextNode(nextNode, isTowards);\n      }\n    }\n  };\n\n  TreeView.prototype.getNextNode = function (li) {\n    var index = this.liList.indexOf(li);\n    var nextNode;\n\n    do {\n      index++;\n      nextNode = this.liList[index];\n\n      if (isNullOrUndefined(nextNode)) {\n        return li;\n      }\n    } while (!isVisible(nextNode));\n\n    return nextNode;\n  };\n\n  TreeView.prototype.getPrevNode = function (li) {\n    var index = this.liList.indexOf(li);\n    var prevNode;\n\n    do {\n      index--;\n      prevNode = this.liList[index];\n\n      if (isNullOrUndefined(prevNode)) {\n        return li;\n      }\n    } while (!isVisible(prevNode));\n\n    return prevNode;\n  };\n\n  TreeView.prototype.getRootNode = function () {\n    var index = 0;\n    var rootNode;\n\n    do {\n      rootNode = this.liList[index];\n      index++;\n    } while (!isVisible(rootNode));\n\n    return rootNode;\n  };\n\n  TreeView.prototype.getEndNode = function () {\n    var index = this.liList.length - 1;\n    var endNode;\n\n    do {\n      endNode = this.liList[index];\n      index--;\n    } while (!isVisible(endNode));\n\n    return endNode;\n  };\n\n  TreeView.prototype.setFocus = function (preNode, nextNode) {\n    removeClass([preNode], [HOVER, FOCUS]);\n\n    if (!nextNode.classList.contains('e-disable')) {\n      addClass([nextNode], [HOVER, FOCUS]);\n      this.updateIdAttr(preNode, nextNode);\n    }\n  };\n\n  TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n    this.element.removeAttribute('aria-activedescendant');\n\n    if (preNode) {\n      preNode.removeAttribute('id');\n    }\n\n    nextNode.setAttribute('id', this.element.id + '_active');\n    this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n  };\n\n  TreeView.prototype.focusIn = function () {\n    if (!this.mouseDownStatus) {\n      addClass([this.getFocusedNode()], HOVER);\n    }\n\n    this.mouseDownStatus = false;\n  };\n\n  TreeView.prototype.focusOut = function () {\n    removeClass([this.getFocusedNode()], HOVER);\n  };\n\n  TreeView.prototype.onMouseOver = function (e) {\n    var target = e.target;\n    var classList$$1 = target.classList;\n    var currentLi = closest(target, '.' + LISTITEM);\n\n    if (!currentLi || classList$$1.contains(PARENTITEM) || classList$$1.contains(LISTITEM)) {\n      this.removeHover();\n      return;\n    } else {\n      if (currentLi && !currentLi.classList.contains('e-disable')) {\n        this.setHover(currentLi);\n      }\n    }\n  };\n\n  TreeView.prototype.setHover = function (li) {\n    if (!li.classList.contains(HOVER)) {\n      this.removeHover();\n      addClass([li], HOVER);\n    }\n  };\n\n  TreeView.prototype.onMouseLeave = function (e) {\n    this.removeHover();\n  };\n\n  TreeView.prototype.removeHover = function () {\n    var hoveredNode = selectAll('.' + HOVER, this.element);\n\n    if (hoveredNode && hoveredNode.length) {\n      removeClass(hoveredNode, HOVER);\n    }\n  };\n\n  TreeView.prototype.getNodeData = function (currLi, fromDS) {\n    if (!isNullOrUndefined(currLi) && currLi.classList.contains(LISTITEM) && !isNullOrUndefined(closest(currLi, '.' + CONTROL)) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n      var id = currLi.getAttribute('data-uid');\n      var text = this.getText(currLi, fromDS);\n      var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n      var pid = pNode ? pNode.getAttribute('data-uid') : null;\n      var selected = currLi.classList.contains(ACTIVE);\n      var expanded = currLi.getAttribute('aria-expanded') === 'true' ? true : false;\n      var hasChildren = currLi.getAttribute('aria-expanded') !== null ? true : (select('.' + EXPANDABLE, currLi) || select('.' + COLLAPSIBLE, currLi)) != null ? true : false;\n      var checked = null;\n\n      if (this.showCheckBox) {\n        checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n      }\n\n      return {\n        id: id,\n        text: text,\n        parentID: pid,\n        selected: selected,\n        expanded: expanded,\n        isChecked: checked,\n        hasChildren: hasChildren\n      };\n    }\n\n    return {\n      id: '',\n      text: '',\n      parentID: '',\n      selected: false,\n      expanded: false,\n      isChecked: '',\n      hasChildren: false\n    };\n  };\n\n  TreeView.prototype.getText = function (currLi, fromDS) {\n    if (fromDS) {\n      var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n      var level = parseFloat(currLi.getAttribute('aria-level'));\n      var nodeFields = this.getFields(this.fields, level, 1);\n      return getValue(nodeFields.text, nodeData);\n    }\n\n    return select('.' + LISTTEXT, currLi).textContent;\n  };\n\n  TreeView.prototype.getExpandEvent = function (currLi, e) {\n    var nodeData = this.getNodeData(currLi);\n    return {\n      cancel: false,\n      isInteracted: isNullOrUndefined(e) ? false : true,\n      node: currLi,\n      nodeData: nodeData,\n      event: e\n    };\n  };\n\n  TreeView.prototype.renderNodeTemplate = function (data, textEle, dataId) {\n    var tempArr = this.nodeTemplateFn(data, this, 'nodeTemplate' + dataId, this.element.id + 'nodeTemplate', this.isStringTemplate, undefined, textEle, this.root);\n\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, textEle);\n    }\n  };\n\n  TreeView.prototype.destroyTemplate = function (liEle) {\n    this.clearTemplate(['nodeTemplate' + liEle.getAttribute('data-uid')]);\n  };\n\n  TreeView.prototype.reRenderNodes = function () {\n    this.updateListProp(this.fields);\n\n    if (Browser.isIE) {\n      this.ulElement = this.element.querySelector('.e-list-parent.e-ul');\n      this.ulElement.parentElement.removeChild(this.ulElement);\n    } else {\n      this.element.innerHTML = '';\n    }\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      this.clearTemplate();\n    }\n\n    this.setTouchClass();\n    this.setProperties({\n      selectedNodes: [],\n      checkedNodes: [],\n      expandedNodes: []\n    }, true);\n    this.checkedElement = [];\n    this.isLoaded = false;\n    this.setDataBinding(true);\n  };\n\n  TreeView.prototype.setCssClass = function (oldClass, newClass) {\n    if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n      removeClass([this.element], oldClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(newClass) && newClass !== '') {\n      addClass([this.element], newClass.split(' '));\n    }\n  };\n\n  TreeView.prototype.editingHandler = function (e) {\n    var target = e.target;\n\n    if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) || target.classList.contains(ICON) || target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n      return;\n    } else {\n      var liEle = closest(target, '.' + LISTITEM);\n      this.createTextbox(liEle, e);\n    }\n  };\n\n  TreeView.prototype.createTextbox = function (liEle, e) {\n    var _this = this;\n\n    var oldInpEle = select('.' + TREEINPUT, this.element);\n\n    if (oldInpEle) {\n      oldInpEle.blur();\n    }\n\n    var textEle = select('.' + LISTTEXT, liEle);\n    this.updateOldText(liEle);\n    var innerEle = this.createElement('input', {\n      className: TREEINPUT,\n      attrs: {\n        value: this.oldText\n      }\n    });\n    var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n    this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        var inpWidth = textEle.offsetWidth + 5;\n        var style_1 = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n\n        if (!isNullOrUndefined(_this.nodeTemplateFn)) {\n          _this.destroyTemplate(liEle);\n        }\n\n        if (_this.isReact) {\n          setTimeout(function () {\n            _this.renderTextBox(eventArgs, textEle, style_1);\n          }, 5);\n        } else {\n          _this.renderTextBox(eventArgs, textEle, style_1);\n        }\n      }\n    });\n  };\n\n  TreeView.prototype.renderTextBox = function (eventArgs, textEle, style) {\n    textEle.innerHTML = eventArgs.innerHtml;\n    var inpEle = select('.' + TREEINPUT, textEle);\n    this.inputObj = Input.createInput({\n      element: inpEle,\n      properties: {\n        enableRtl: this.enableRtl\n      }\n    }, this.createElement);\n    this.inputObj.container.setAttribute('style', style);\n    inpEle.focus();\n    var inputEle = inpEle;\n    inputEle.setSelectionRange(0, inputEle.value.length);\n    this.wireInputEvents(inpEle);\n  };\n\n  TreeView.prototype.updateOldText = function (liEle) {\n    var id = liEle.getAttribute('data-uid');\n    this.editData = this.getNodeObject(id);\n    var level = parseFloat(liEle.getAttribute('aria-level'));\n    this.editFields = this.getFields(this.fields, level, 1);\n    this.oldText = getValue(this.editFields.text, this.editData);\n  };\n\n  TreeView.prototype.inputFocusOut = function (e) {\n    if (!select('.' + TREEINPUT, this.element)) {\n      return;\n    }\n\n    var target = e.target;\n    var newText = target.value;\n    var txtEle = closest(target, '.' + LISTTEXT);\n    var liEle = closest(target, '.' + LISTITEM);\n    detach(this.inputObj.container);\n\n    if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n      this.crudOperation('update', null, liEle, newText, null, null, true);\n    } else {\n      this.appendNewText(liEle, txtEle, newText, true);\n    }\n  };\n\n  TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n    var _this = this;\n\n    var eventArgs = this.getEditEvent(liEle, newText, null);\n    this.trigger('nodeEdited', eventArgs, function (observedArgs) {\n      newText = observedArgs.cancel ? observedArgs.oldText : observedArgs.newText;\n\n      _this.updateText(liEle, txtEle, newText, isInput);\n\n      if (observedArgs.oldText !== newText) {\n        _this.triggerEvent();\n      }\n    });\n  };\n\n  TreeView.prototype.updateText = function (liEle, txtEle, newText, isInput) {\n    var newData = setValue(this.editFields.text, newText, this.editData);\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      txtEle.innerText = '';\n      var dataId = liEle.getAttribute('data-uid');\n      this.renderNodeTemplate(newData, txtEle, dataId);\n      this.renderReactTemplates();\n    } else {\n      txtEle.innerText = newText;\n    }\n\n    if (isInput) {\n      removeClass([liEle], EDITING);\n      txtEle.focus();\n    }\n\n    if (this.allowTextWrap) {\n      this.calculateWrap(liEle);\n    }\n  };\n\n  TreeView.prototype.getElement = function (ele) {\n    if (isNullOrUndefined(ele)) {\n      return null;\n    } else if (typeof ele === 'string') {\n      return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n    } else if (typeof ele === 'object') {\n      return getElement(ele);\n    } else {\n      return null;\n    }\n  };\n\n  TreeView.prototype.getId = function (ele) {\n    if (isNullOrUndefined(ele)) {\n      return null;\n    } else if (typeof ele === 'string') {\n      return ele;\n    } else if (typeof ele === 'object') {\n      return getElement(ele).getAttribute('data-uid');\n    } else {\n      return null;\n    }\n  };\n\n  TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n    var data = this.getNodeData(liEle);\n    return {\n      cancel: false,\n      newText: newText,\n      node: liEle,\n      nodeData: data,\n      oldText: this.oldText,\n      innerHtml: inpEle\n    };\n  };\n\n  TreeView.prototype.getNodeObject = function (id) {\n    var childNodes;\n\n    if (isNullOrUndefined(id)) {\n      return childNodes;\n    } else if (this.dataType === 1) {\n      for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n        var dataId = getValue(this.fields.id, this.treeData[i]);\n\n        if (!isNullOrUndefined(this.treeData[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n          return this.treeData[i];\n        }\n      }\n    } else {\n      return this.getChildNodeObject(this.treeData, this.fields, id);\n    }\n\n    return childNodes;\n  };\n\n  TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n    var newList;\n\n    if (isNullOrUndefined(obj)) {\n      return newList;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var dataId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && dataId && dataId.toString() === id) {\n        return obj[i];\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var childData = getValue(mapper.child, obj[i]);\n        newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n\n        if (newList !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var child = 'child';\n        newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n\n        if (newList !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return newList;\n  };\n\n  TreeView.prototype.setDragAndDrop = function (toBind) {\n    if (toBind && !this.disabled) {\n      this.initializeDrag();\n    } else {\n      this.destroyDrag();\n    }\n  };\n\n  TreeView.prototype.initializeDrag = function () {\n    var _this = this;\n\n    var virtualEle;\n    var proxy = this;\n    this.dragObj = new Draggable(this.element, {\n      enableTailMode: true,\n      enableAutoScroll: true,\n      dragArea: this.dragArea,\n      dragTarget: '.' + TEXTWRAP,\n      helper: function (e) {\n        _this.dragTarget = e.sender.target;\n        var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n        var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n        _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n\n        if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n          dragWrap = _this.dragTarget.nextElementSibling;\n        }\n\n        if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap || _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) || _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n          return false;\n        }\n\n        var cloneEle = dragWrap.cloneNode(true);\n\n        if (isNullOrUndefined(select('div.' + ICON, cloneEle))) {\n          var icon = proxy.createElement('div', {\n            className: ICON + ' ' + EXPANDABLE\n          });\n          cloneEle.insertBefore(icon, cloneEle.children[0]);\n        }\n\n        var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL$1 : '');\n        virtualEle = proxy.createElement('div', {\n          className: cssClass\n        });\n        virtualEle.appendChild(cloneEle);\n        var nLen = _this.selectedNodes.length;\n\n        if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n          var cNode = proxy.createElement('span', {\n            className: DROPCOUNT,\n            innerHTML: '' + nLen\n          });\n          virtualEle.appendChild(cNode);\n        }\n\n        document.body.appendChild(virtualEle);\n        document.body.style.cursor = '';\n        _this.dragData = _this.getNodeData(_this.dragLi);\n        return virtualEle;\n      },\n      dragStart: function (e) {\n        addClass([_this.element], DRAGGING);\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n\n        if (listItem) {\n          level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n\n        var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n\n        if (eventArgs.draggedNode.classList.contains(EDITING)) {\n          _this.dragObj.intDestroy(e.event);\n\n          _this.dragCancelAction(virtualEle);\n        } else {\n          _this.trigger('nodeDragStart', eventArgs, function (observedArgs) {\n            if (observedArgs.cancel) {\n              _this.dragObj.intDestroy(e.event);\n\n              _this.dragCancelAction(virtualEle);\n            } else {\n              _this.dragStartAction = true;\n            }\n          });\n        }\n      },\n      drag: function (e) {\n        _this.dragObj.setProperties({\n          cursorAt: {\n            top: !isNullOrUndefined(e.event.targetTouches) || Browser.isDevice ? 60 : -20\n          }\n        });\n\n        _this.dragAction(e, virtualEle);\n      },\n      dragStop: function (e) {\n        removeClass([_this.element], DRAGGING);\n\n        _this.removeVirtualEle();\n\n        var dropTarget = e.target;\n        var preventTargetExpand = false;\n        var dropRoot = closest(dropTarget, '.' + DROPPABLE);\n\n        if (!dropTarget || !dropRoot) {\n          detach(e.helper);\n          document.body.style.cursor = '';\n        }\n\n        var listItem = closest(dropTarget, '.e-list-item');\n        var level;\n\n        if (listItem) {\n          level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n\n        var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n\n        eventArgs.preventTargetExpand = preventTargetExpand;\n\n        _this.trigger('nodeDragStop', eventArgs, function (observedArgs) {\n          _this.dragParent = observedArgs.draggedParentNode;\n          _this.preventExpand = observedArgs.preventTargetExpand;\n\n          if (observedArgs.cancel) {\n            if (e.helper.parentNode) {\n              detach(e.helper);\n            }\n\n            document.body.style.cursor = '';\n          }\n\n          _this.dragStartAction = false;\n        });\n      }\n    });\n    this.dropObj = new Droppable(this.element, {\n      out: function (e) {\n        if (!isNullOrUndefined(e) && !e.target.classList.contains(SIBLING)) {\n          document.body.style.cursor = 'not-allowed';\n        }\n      },\n      over: function (e) {\n        document.body.style.cursor = '';\n      },\n      drop: function (e) {\n        _this.dropAction(e);\n      }\n    });\n  };\n\n  TreeView.prototype.dragCancelAction = function (virtualEle) {\n    detach(virtualEle);\n    removeClass([this.element], DRAGGING);\n    this.dragStartAction = false;\n  };\n\n  TreeView.prototype.dragAction = function (e, virtualEle) {\n    var dropRoot = closest(e.target, '.' + DROPPABLE);\n    var dropWrap = closest(e.target, '.' + TEXTWRAP);\n    var icon = select('div.' + ICON, virtualEle);\n    removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n    this.removeVirtualEle();\n    document.body.style.cursor = '';\n    var classList$$1 = e.target.classList;\n\n    if (this.fullRowSelect && !dropWrap && !isNullOrUndefined(classList$$1) && classList$$1.contains(FULLROW)) {\n      dropWrap = e.target.nextElementSibling;\n    }\n\n    if (dropRoot) {\n      var dropLi = closest(e.target, '.' + LISTITEM);\n      var checkWrapper = closest(e.target, '.' + CHECKBOXWRAP);\n      var collapse = closest(e.target, '.' + COLLAPSIBLE);\n      var expand = closest(e.target, '.' + EXPANDABLE);\n\n      if (!dropRoot.classList.contains(ROOT) || dropWrap && !dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)) {\n        if (this.hasTemplate && dropLi) {\n          var templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n\n          if (e && !expand && !collapse && e.event.offsetY < 7 && !checkWrapper || expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3) {\n            var index = this.fullRowSelect ? 1 : 0;\n            this.appendIndicator(dropLi, icon, index);\n          } else if (e && !expand && !collapse && !checkWrapper && templateTarget && e.event.offsetY > templateTarget.offsetHeight - 10 || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19) {\n            var index = this.fullRowSelect ? 2 : 1;\n            this.appendIndicator(dropLi, icon, index);\n          } else {\n            addClass([icon], DROPIN);\n          }\n        } else {\n          if (dropLi && e && !expand && !collapse && e.event.offsetY < 7 && !checkWrapper || expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3) {\n            var index = this.fullRowSelect ? 1 : 0;\n            this.appendIndicator(dropLi, icon, index);\n          } else if (dropLi && e && !expand && !collapse && e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 10 && !checkWrapper || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19) {\n            var index = this.fullRowSelect ? 2 : 1;\n            this.appendIndicator(dropLi, icon, index);\n          } else {\n            addClass([icon], DROPIN);\n          }\n        }\n      } else if (e.target.nodeName === 'LI' && !dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)) {\n        addClass([icon], DROPNEXT);\n        this.renderVirtualEle(e);\n      } else if (e.target.classList.contains(SIBLING)) {\n        addClass([icon], DROPNEXT);\n      } else {\n        addClass([icon], DROPOUT);\n      }\n    } else {\n      addClass([icon], NODROP);\n      document.body.style.cursor = 'not-allowed';\n    }\n\n    var listItem = closest(e.target, '.e-list-item');\n    var level;\n\n    if (listItem) {\n      level = parseInt(listItem.getAttribute('aria-level'), 10);\n    }\n\n    var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n\n    if (eventArgs.dropIndicator) {\n      removeClass([icon], eventArgs.dropIndicator);\n    }\n\n    this.trigger('nodeDragging', eventArgs);\n\n    if (eventArgs.dropIndicator) {\n      addClass([icon], eventArgs.dropIndicator);\n    }\n  };\n\n  TreeView.prototype.appendIndicator = function (dropLi, icon, index) {\n    addClass([icon], DROPNEXT);\n    var virEle = this.createElement('div', {\n      className: SIBLING\n    });\n    dropLi.insertBefore(virEle, dropLi.children[index]);\n  };\n  /* eslint-disable */\n\n\n  TreeView.prototype.dropAction = function (e) {\n    var offsetY = e.event.offsetY;\n    var dropTarget = e.target;\n    var dragObj;\n    var level;\n    var drop = false;\n    var dragInstance;\n    dragInstance = e.dragData.draggable;\n\n    for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n      if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n        dragObj = dragInstance.ej2_instances[i];\n        break;\n      }\n    }\n\n    if (dragObj && dragObj.dragTarget) {\n      var dragTarget = dragObj.dragTarget;\n      var dragLi = closest(dragTarget, '.' + LISTITEM);\n      var dropLi = closest(dropTarget, '.' + LISTITEM);\n\n      if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n        dropLi = dropTarget.firstElementChild;\n      }\n\n      detach(e.droppedElement);\n      document.body.style.cursor = '';\n\n      if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n        if (this.fields.dataSource instanceof DataManager === false) {\n          this.preventExpand = false;\n        }\n\n        return;\n      }\n\n      if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n        var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n\n        if (e.target.offsetHeight <= 33 && offsetY > e.target.offsetHeight - 10 && offsetY > 6) {\n          for (var i = sNodes.length - 1; i >= 0; i--) {\n            if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n              continue;\n            }\n\n            this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n          }\n        } else {\n          for (var i = 0; i < sNodes.length; i++) {\n            if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n              continue;\n            }\n\n            this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n          }\n        }\n      } else {\n        this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n      }\n\n      level = parseInt(dragLi.getAttribute('aria-level'), 10);\n      drop = true;\n    }\n\n    if (this.fields.dataSource instanceof DataManager === false) {\n      this.preventExpand = false;\n    }\n\n    this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n\n    if (dragObj.element.id !== this.element.id) {\n      dragObj.triggerEvent();\n    }\n\n    this.triggerEvent();\n  };\n\n  TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n    var checkWrapper = closest(dropTarget, '.' + CHECKBOXWRAP);\n    var collapse = closest(e.target, '.' + COLLAPSIBLE);\n    var expand = closest(e.target, '.' + EXPANDABLE);\n\n    if (!dragLi.classList.contains('e-disable') && !checkWrapper && (expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3 || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19 || !expand && !collapse)) {\n      if (dropTarget.nodeName === 'LI') {\n        this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n      } else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n        if (dropTarget.firstElementChild.nodeName === 'UL') {\n          this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n        }\n      } else if (dropTarget.classList.contains('e-icon-collapsible') || dropTarget.classList.contains('e-icon-expandable')) {\n        this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n      } else {\n        this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n      }\n    } else {\n      this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY, true);\n    }\n  };\n\n  TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n    var dropUl = closest(dropLi, '.' + PARENTITEM);\n    var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n    var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n    var pre;\n\n    if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n      pre = false;\n    } else if (e.event.offsetY < 2) {\n      pre = true;\n    } else if (e.target.classList.contains('e-icon-expandable') || e.target.classList.contains('e-icon-collapsible')) {\n      if (e.event.offsetY < 5 || e.event.offsetX < 3) {\n        pre = true;\n      } else if (e.event.offsetY > 15 || e.event.offsetX > 17) {\n        pre = false;\n      }\n    }\n\n    if (e.target.classList.contains('e-icon-expandable') || e.target.classList.contains('e-icon-collapsible')) {\n      var target = e.target.closest('li');\n      dropUl.insertBefore(dragLi, pre ? target : target.nextElementSibling);\n    } else {\n      dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n    }\n\n    this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n    this.updateElement(dragParentUl, dragParentLi);\n    this.updateAriaLevel(dragLi);\n\n    if (dragObj.element.id === this.element.id) {\n      this.updateList();\n    } else {\n      dragObj.updateInstance();\n      this.updateInstance();\n    }\n  };\n\n  TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos, isCheck) {\n    var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n    var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n    var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n    var templateTarget;\n\n    if (e && e.target) {\n      templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n    }\n\n    if (e && pos < 7 && !isCheck) {\n      dropParentUl.insertBefore(dragLi, dropLi);\n      this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n    } else if (e && e.target.offsetHeight > 0 && pos > e.target.offsetHeight - 10 && !isCheck && !this.hasTemplate) {\n      dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n      this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n    } else if (this.hasTemplate && templateTarget && pos > templateTarget.offsetHeight - 10 && !isCheck) {\n      dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n      this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n    } else {\n      var dropUl = this.expandParent(dropLi);\n      var childLi = dropUl.childNodes[index];\n      dropUl.insertBefore(dragLi, childLi);\n      this.moveData(dragLi, childLi, dropUl, true, dragObj);\n    }\n\n    this.updateElement(dragParentUl, dragParentLi);\n    this.updateAriaLevel(dragLi);\n\n    if (dragObj.element.id === this.element.id) {\n      this.updateList();\n    } else {\n      dragObj.updateInstance();\n      this.updateInstance();\n    }\n  };\n\n  TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n    var dropParentLi = closest(dropUl, '.' + LISTITEM);\n    var id = this.getId(dragLi);\n    var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n    var refId = this.getId(dropLi);\n    var index = this.getDataPos(this.treeData, this.fields, refId);\n    var parentId = this.getId(dropParentLi);\n\n    if (this.dataType === 1) {\n      this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n      var pos = isNullOrUndefined(index) ? this.treeData.length : pre ? index : index + 1;\n\n      if (isNullOrUndefined(parentId) && !this.hasPid) {\n        delete removedData[0][this.fields.parentID];\n      } else {\n        var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n        setValue(this.fields.parentID, currPid, removedData[0]);\n      }\n\n      this.treeData.splice(pos, 0, removedData[0]);\n\n      if (dragObj.element.id !== this.element.id) {\n        var childData = dragObj.removeChildNodes(id);\n        pos++;\n\n        for (var i = 0, len = childData.length; i < len; i++) {\n          this.treeData.splice(pos, 0, childData[i]);\n          pos++;\n        }\n\n        dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n      }\n\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    } else {\n      this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n    }\n  };\n\n  TreeView.prototype.expandParent = function (dropLi) {\n    var dropIcon = select('div.' + ICON, dropLi);\n\n    if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n      this.expandAction(dropLi, dropIcon, null);\n    }\n\n    var dropUl = select('.' + PARENTITEM, dropLi);\n\n    if (this.preventExpand === true && !dropUl && dropIcon) {\n      this.renderChildNodes(dropLi);\n    }\n\n    dropUl = select('.' + PARENTITEM, dropLi);\n\n    if (!isNullOrUndefined(dropUl) && this.preventExpand === true) {\n      dropUl.style.display = 'none';\n    }\n\n    if (!isNullOrUndefined(dropUl) && this.preventExpand === false) {\n      dropUl.style.display = 'block';\n    }\n\n    if (isNullOrUndefined(dropUl) && this.preventExpand === true) {\n      if (isNullOrUndefined(dropIcon)) {\n        ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n      }\n\n      var icon = select('div.' + ICON, dropLi);\n\n      if (icon) {\n        icon.classList.add('e-icon-expandable');\n      }\n\n      dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n      dropLi.appendChild(dropUl);\n\n      if (icon) {\n        removeClass([icon], COLLAPSIBLE);\n      } else {\n        ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n      }\n\n      dropLi.setAttribute('aria-expanded', 'false');\n      dropUl.style.display = 'none';\n    }\n\n    if (isNullOrUndefined(dropUl)) {\n      this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n\n      if (isNullOrUndefined(dropIcon)) {\n        ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n      }\n\n      var icon = select('div.' + ICON, dropLi);\n\n      if (icon) {\n        removeClass([icon], EXPANDABLE);\n      } else {\n        ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n        icon = select('div.' + ICON, dropLi);\n        removeClass([icon], EXPANDABLE);\n      }\n\n      dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n      dropLi.appendChild(dropUl);\n      this.addExpand(dropLi);\n      this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n    }\n\n    return dropUl;\n  };\n\n  TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n    if (dragParentLi && dragParentUl.childElementCount === 0) {\n      var dragIcon = select('div.' + ICON, dragParentLi);\n      detach(dragParentUl);\n      detach(dragIcon);\n      var parentId = this.getId(dragParentLi);\n      this.updateField(this.treeData, this.fields, parentId, 'hasChildren', false);\n      this.removeExpand(dragParentLi, true);\n    }\n  };\n\n  TreeView.prototype.updateAriaLevel = function (dragLi) {\n    var level = this.parents(dragLi, '.' + PARENTITEM).length;\n    dragLi.setAttribute('aria-level', '' + level);\n    this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n  };\n\n  TreeView.prototype.updateChildAriaLevel = function (element, level) {\n    if (!isNullOrUndefined(element)) {\n      var cNodes = element.childNodes;\n\n      for (var i = 0, len = cNodes.length; i < len; i++) {\n        var liEle = cNodes[i];\n        liEle.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n      }\n    }\n  };\n\n  TreeView.prototype.renderVirtualEle = function (e) {\n    var pre;\n\n    if (e.event.offsetY > e.target.offsetHeight - 2) {\n      pre = false;\n    } else if (e.event.offsetY < 2) {\n      pre = true;\n    }\n\n    var virEle = this.createElement('div', {\n      className: SIBLING\n    });\n    var index = this.fullRowSelect ? pre ? 1 : 2 : pre ? 0 : 1;\n    e.target.insertBefore(virEle, e.target.children[index]);\n  };\n\n  TreeView.prototype.removeVirtualEle = function () {\n    var sibEle = select('.' + SIBLING);\n\n    if (sibEle) {\n      detach(sibEle);\n    }\n  };\n\n  TreeView.prototype.destroyDrag = function () {\n    if (this.dragObj && this.dropObj) {\n      this.dragObj.destroy();\n      this.dropObj.destroy();\n    }\n  };\n\n  TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n    var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n    var dropData = dropLi ? this.getNodeData(dropLi) : null;\n    var draggedNode = obj ? obj.dragLi : dragNode;\n    var draggedNodeData = obj ? obj.dragData : null;\n    var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n    var dragLiParent = obj.dragLi.parentElement;\n    var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n    var targetParent = null;\n    var indexValue = null;\n    var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n    var iconClass = null;\n    var node = drop === true ? draggedNode : dropLi;\n    var index = node ? closest(node, '.e-list-parent') : null;\n    var i = 0;\n    var position = null;\n    dragParent = obj.dragLi && dragParent === null ? closest(dragLiParent, '.' + ROOT) : dragParent;\n    dragParent = drop === true ? this.dragParent : dragParent;\n\n    if (cloneEle) {\n      while (i < 4) {\n        if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n          iconClass = iconCss[i];\n          break;\n        }\n\n        i++;\n      }\n    }\n\n    if (index) {\n      var dropTar = 0;\n\n      for (i = 0; i < index.childElementCount; i++) {\n        dropTar = drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode ? ++dropTar : dropTar;\n\n        if (drop !== true && index.children[i].classList.contains('e-hover')) {\n          indexValue = event.offsetY >= 23 ? i + 1 : i;\n          break;\n        } else if (index.children[i] === node) {\n          indexValue = event.offsetY >= 23 ? i : i;\n          break;\n        }\n      }\n\n      indexValue = dropTar !== 0 ? --indexValue : indexValue;\n      position = iconClass == \"e-drop-in\" ? \"Inside\" : event.offsetY < 7 ? \"Before\" : \"After\";\n    }\n\n    if (dropTarget) {\n      if (newParent.length === 0) {\n        targetParent = null;\n      } else if (dropTarget.classList.contains(LISTITEM)) {\n        targetParent = newParent[0];\n      } else {\n        targetParent = newParent[1];\n      }\n    }\n\n    if (dropLi === draggedNode) {\n      targetParent = dropLi;\n    }\n\n    if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n      targetParent = dropLi;\n\n      if (drop !== true) {\n        level = ++level;\n        var parent_2 = targetParent ? select('.e-list-parent', targetParent) : null;\n        indexValue = parent_2 ? parent_2.children.length : 0;\n\n        if (!(this.fields.dataSource instanceof DataManager) && parent_2 === null && targetParent) {\n          var parent_3 = targetParent.hasAttribute('data-uid') ? this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n          indexValue = parent_3 ? parent_3.length : 0;\n        }\n      }\n    }\n\n    return {\n      cancel: false,\n      clonedNode: cloneEle,\n      event: event,\n      draggedNode: draggedNode,\n      draggedNodeData: draggedNodeData,\n      droppedNode: dropLi,\n      droppedNodeData: dropData,\n      dropIndex: indexValue,\n      dropLevel: level,\n      draggedParentNode: dragParent,\n      dropTarget: targetParent,\n      dropIndicator: iconClass,\n      target: target,\n      position: position\n    };\n  };\n\n  TreeView.prototype.addFullRow = function (toAdd) {\n    var len = this.liList.length;\n\n    if (toAdd) {\n      for (var i = 0; i < len; i++) {\n        this.createFullRow(this.liList[i]);\n      }\n    } else {\n      for (var i = 0; i < len; i++) {\n        var rowDiv = select('.' + FULLROW, this.liList[i]);\n        detach(rowDiv);\n      }\n    }\n  };\n\n  TreeView.prototype.createFullRow = function (item) {\n    var rowDiv = this.createElement('div', {\n      className: FULLROW\n    });\n    item.insertBefore(rowDiv, item.childNodes[0]);\n  };\n\n  TreeView.prototype.addMultiSelect = function (toAdd) {\n    if (toAdd) {\n      var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n\n      for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n        var ele = liEles_1[_i];\n        ele.setAttribute('aria-selected', 'false');\n      }\n    } else {\n      var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n\n      for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n        var ele = liEles_2[_a];\n        ele.removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n    if (level > 0 && !isNullOrUndefined(element)) {\n      var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n\n      for (var i = 0, len = cNodes.length; i < len; i++) {\n        var liEle = cNodes[i];\n        var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n\n        if (!isNullOrUndefined(icon)) {\n          this.collapseNode(liEle, icon, null);\n        }\n\n        this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n      }\n    }\n  };\n\n  TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n    var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n\n    for (var i = 0, len = cIcons.length; i < len; i++) {\n      var icon = cIcons[i];\n      var liEle = closest(icon, '.' + LISTITEM);\n      this.collapseNode(liEle, icon, null);\n    }\n  };\n\n  TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n    if (level > 0 && !isNullOrUndefined(element)) {\n      var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n\n      for (var i = 0, len = eNodes.length; i < len; i++) {\n        var liEle = eNodes[i];\n        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n\n        if (!isNullOrUndefined(icon)) {\n          this.expandAction(liEle, icon, null);\n        }\n\n        this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n      }\n    }\n  };\n\n  TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n    var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n\n    for (var i = 0, len = eIcons.length; i < len; i++) {\n      var icon = eIcons[i];\n      var liEle = closest(icon, '.' + LISTITEM);\n      this.expandAction(liEle, icon, null, true);\n    }\n  };\n\n  TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n    var vNodes = Array.prototype.slice.call(nodes);\n\n    if (excludeHiddenNodes) {\n      for (var i = 0; i < vNodes.length; i++) {\n        if (!isVisible(vNodes[i])) {\n          vNodes.splice(i, 1);\n          i--;\n        }\n      }\n    }\n\n    return vNodes;\n  };\n\n  TreeView.prototype.removeNode = function (node) {\n    var dragParentUl = closest(node, '.' + PARENTITEM);\n    var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      this.destroyTemplate(node);\n    }\n\n    detach(node);\n    this.updateElement(dragParentUl, dragParentLi);\n    this.removeData(node);\n  };\n\n  TreeView.prototype.updateInstance = function () {\n    this.updateList();\n    this.updateSelectedNodes();\n    this.updateExpandedNodes();\n  };\n\n  TreeView.prototype.updateList = function () {\n    this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n  };\n\n  TreeView.prototype.updateSelectedNodes = function () {\n    this.setProperties({\n      selectedNodes: []\n    }, true);\n    var sNodes = selectAll('.' + ACTIVE, this.element);\n    this.selectGivenNodes(sNodes);\n  };\n\n  TreeView.prototype.updateExpandedNodes = function () {\n    this.setProperties({\n      expandedNodes: []\n    }, true);\n    var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n\n    for (var i = 0, len = eNodes.length; i < len; i++) {\n      this.addExpand(eNodes[i]);\n    }\n  };\n\n  TreeView.prototype.removeData = function (node) {\n    if (this.dataType === 1) {\n      var dm = new DataManager(this.treeData);\n      var id = this.getId(node);\n      var data = {};\n      var newId = this.isNumberTypeId ? parseFloat(id) : id;\n      data[this.fields.id] = newId;\n      dm.remove(this.fields.id, data);\n      this.removeChildNodes(id);\n    } else {\n      var id = this.getId(node);\n      this.updateChildField(this.treeData, this.fields, id, null, null, true);\n    }\n  };\n\n  TreeView.prototype.removeChildNodes = function (parentId) {\n    var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n    var childData = [];\n\n    if (cNodes) {\n      for (var i = 0, len = cNodes.length; i < len; i++) {\n        var dm = new DataManager(this.treeData);\n        var id = getValue(this.fields.id, cNodes[i]).toString();\n        var data = {};\n        var currId = this.isNumberTypeId ? parseFloat(id) : id;\n        data[this.fields.id] = currId;\n        var nodeData = dm.remove(this.fields.id, data);\n        childData.push(nodeData[0]);\n        this.removeChildNodes(id);\n      }\n    }\n\n    return childData;\n  };\n\n  TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      var liEle = this.getElement(nodes[i]);\n\n      if (isNullOrUndefined(liEle)) {\n        continue;\n      }\n\n      var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n\n      if (!isNullOrUndefined(icon)) {\n        toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n      }\n    }\n  };\n\n  TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n    if (nodes.length === 0) {\n      return;\n    }\n\n    var sNodes = this.getSortedData(nodes);\n    var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n\n    if (isRemote) {\n      this.updateMapper(level);\n    }\n\n    var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n    var dropUl;\n\n    if (!dropEle) {\n      dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n    } else {\n      dropUl = dropEle;\n    }\n\n    var refNode = dropUl.childNodes[index];\n\n    if (refNode || this.sortOrder === 'None') {\n      for (var i = 0; i < li.length; i++) {\n        dropUl.insertBefore(li[i], refNode);\n      }\n    }\n\n    if (!refNode && (this.sortOrder === 'Ascending' || this.sortOrder === 'Descending')) {\n      var cNodes = dropUl.childNodes;\n\n      for (var i = 0; i < li.length; i++) {\n        for (var j = 0; j < cNodes.length; j++) {\n          var returnValue = this.sortOrder === 'Ascending' ? cNodes[j].textContent.toUpperCase() > li[i].innerText.toUpperCase() : cNodes[j].textContent.toUpperCase() < li[i].innerText.toUpperCase();\n\n          if (returnValue) {\n            dropUl.insertBefore(li[i], cNodes[j]);\n            break;\n          }\n\n          dropUl.insertBefore(li[i], cNodes[cNodes.length]);\n        }\n      }\n    }\n\n    var id = this.getId(dropLi);\n\n    if (this.dataType === 1) {\n      this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n      var refId = this.getId(refNode);\n      var pos = isNullOrUndefined(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n\n      for (var j = 0; j < nodes.length; j++) {\n        if (!isNullOrUndefined(id)) {\n          var currId = this.isNumberTypeId ? parseFloat(id) : id;\n          setValue(this.fields.parentID, currId, nodes[j]);\n        }\n\n        this.treeData.splice(pos, 0, nodes[j]);\n        pos++;\n      }\n    } else {\n      this.addChildData(this.treeData, this.fields, id, nodes, index);\n    }\n\n    this.finalizeNode(dropUl);\n  };\n\n  TreeView.prototype.updateMapper = function (level) {\n    var mapper = level === 1 ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n    this.updateListProp(mapper);\n  };\n\n  TreeView.prototype.updateListProp = function (mapper) {\n    var prop = this.getActualProperties(mapper);\n    this.listBaseOption.fields = prop;\n    this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n  };\n\n  TreeView.prototype.getDataPos = function (obj, mapper, id) {\n    var pos = null;\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && nodeId && nodeId.toString() === id) {\n        return i;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var data = getValue(mapper.child, obj[i]);\n        pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n\n        if (pos !== null) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var items = getValue('child', obj[i]);\n        pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n\n        if (pos !== null) {\n          break;\n        }\n      }\n    }\n\n    return pos;\n  };\n\n  TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n    var updated;\n\n    if (isNullOrUndefined(id)) {\n      index = isNullOrUndefined(index) ? obj.length : index;\n\n      for (var k = 0, len = data.length; k < len; k++) {\n        obj.splice(index, 0, data[k]);\n        index++;\n      }\n\n      return updated;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && nodeId && nodeId.toString() === id) {\n        if (typeof mapper.child === 'string' && obj[i].hasOwnProperty(mapper.child) && obj[i][mapper.child] !== null || this.fields.dataSource instanceof DataManager && obj[i].hasOwnProperty('child')) {\n          var key = typeof mapper.child === 'string' ? mapper.child : 'child';\n          var childData = getValue(key, obj[i]);\n\n          if (isNullOrUndefined(childData)) {\n            childData = [];\n          }\n\n          index = isNullOrUndefined(index) ? childData.length : index;\n\n          for (var k = 0, len = data.length; k < len; k++) {\n            childData.splice(index, 0, data[k]);\n            index++;\n          }\n        } else {\n          var key = typeof mapper.child === 'string' ? mapper.child : 'child';\n          obj[i][key] = data;\n        }\n\n        return true;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var childObj = getValue(mapper.child, obj[i]);\n        updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n\n        if (updated !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var childData = getValue('child', obj[i]);\n        updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n\n        if (updated !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return updated;\n  };\n\n  TreeView.prototype.doDisableAction = function (nodes) {\n    var validNodes = this.nodeType(nodes);\n    var validID = this.checkValidId(validNodes);\n    this.validArr = [];\n\n    for (var i = 0, len = validID.length; i < len; i++) {\n      var id = validID[i][this.fields.id].toString();\n\n      if (id && this.disableNode.indexOf(id) === -1) {\n        this.disableNode.push(id);\n      }\n\n      var liEle = this.getElement(id);\n\n      if (liEle) {\n        liEle.setAttribute('aria-disabled', 'true');\n        addClass([liEle], DISABLE);\n      }\n    }\n  };\n\n  TreeView.prototype.doEnableAction = function (nodes) {\n    var strNodes = this.nodeType(nodes);\n\n    for (var i = 0, len = strNodes.length; i < len; i++) {\n      var liEle = this.getElement(strNodes[i]);\n      var id = strNodes[i];\n\n      if (id && this.disableNode.indexOf(id) !== -1) {\n        this.disableNode.splice(this.disableNode.indexOf(id), 1);\n      }\n\n      if (liEle) {\n        liEle.removeAttribute('aria-disabled');\n        removeClass([liEle], DISABLE);\n      }\n    }\n  };\n\n  TreeView.prototype.nodeType = function (nodes) {\n    var validID = [];\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      var id = void 0;\n\n      if (typeof nodes[i] == \"string\") {\n        id = nodes[i] ? nodes[i].toString() : null;\n      } else if (typeof nodes[i] === \"object\") {\n        id = nodes[i] ? nodes[i].getAttribute(\"data-uid\").toString() : null;\n      }\n\n      if (validID.indexOf(id) == -1) {\n        validID.push(id);\n      }\n    }\n\n    return validID;\n  };\n\n  TreeView.prototype.checkValidId = function (node) {\n    var _this = this;\n\n    if (this.dataType === 1) {\n      this.validArr = this.treeData.filter(function (data) {\n        return node.indexOf(data[_this.fields.id] ? data[_this.fields.id].toString() : null) !== -1;\n      });\n    } else if (this.dataType === 2) {\n      for (var k = 0; k < this.treeData.length; k++) {\n        var id = this.treeData[k][this.fields.id] ? this.treeData[k][this.fields.id].toString() : null;\n\n        if (node.indexOf(id) !== -1) {\n          this.validArr.push(this.treeData[k]);\n        }\n\n        var childItems = getValue(this.fields.child.toString(), this.treeData[k]);\n\n        if (childItems) {\n          this.filterNestedChild(childItems, node);\n        }\n      }\n    }\n\n    return this.validArr;\n  };\n\n  TreeView.prototype.filterNestedChild = function (treeData, nodes) {\n    for (var k = 0; k < treeData.length; k++) {\n      var id = treeData[k][this.fields.id] ? treeData[k][this.fields.id].toString() : null;\n\n      if (nodes.indexOf(id) !== -1) {\n        this.validArr.push(treeData[k]);\n      }\n\n      var childItems = getValue(this.fields.child.toString(), treeData[k]);\n\n      if (childItems) {\n        this.filterNestedChild(childItems, nodes);\n      }\n    }\n  };\n\n  TreeView.prototype.setTouchClass = function () {\n    var ele = closest(this.element, '.' + BIGGER);\n    this.touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n  };\n\n  TreeView.prototype.updatePersistProp = function () {\n    this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n    var sleNodes = this.selectedNodes;\n\n    for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n      this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n    }\n\n    var enodes = this.expandedNodes;\n\n    for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n      this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n    }\n\n    if (this.showCheckBox) {\n      this.removeField(this.treeData, this.fields, ['isChecked']);\n      var cnodes = this.checkedNodes;\n\n      for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n        this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n      }\n    }\n  };\n\n  TreeView.prototype.removeField = function (obj, mapper, names) {\n    if (isNullOrUndefined(obj) || isNullOrUndefined(mapper)) {\n      return;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      for (var j = 0; j < names.length; j++) {\n        var field = this.getMapperProp(mapper, names[j]);\n\n        if (!isNullOrUndefined(obj[i][field])) {\n          delete obj[i][field];\n        }\n      }\n\n      if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n      }\n    }\n  };\n\n  TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n    switch (fieldName) {\n      case 'selected':\n        return !isNullOrUndefined(mapper.selected) ? mapper.selected : 'selected';\n\n      case 'expanded':\n        return !isNullOrUndefined(mapper.expanded) ? mapper.expanded : 'expanded';\n\n      case 'isChecked':\n        return !isNullOrUndefined(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n\n      case 'hasChildren':\n        return !isNullOrUndefined(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n\n      default:\n        return fieldName;\n    }\n  };\n\n  TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n    if (isNullOrUndefined(id)) {\n      return;\n    } else if (this.dataType === 1) {\n      var newId = this.isNumberTypeId ? parseFloat(id) : id;\n      var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n      setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n    } else {\n      this.updateChildField(obj, mapper, id, key, value);\n    }\n  };\n\n  TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove$$1) {\n    var removedData;\n\n    if (isNullOrUndefined(obj)) {\n      return removedData;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && nodeId && nodeId.toString() === id) {\n        if (remove$$1) {\n          removedData = obj.splice(i, 1);\n        } else {\n          setValue(this.getMapperProp(mapper, key), value, obj[i]);\n          removedData = [];\n        }\n\n        return removedData;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var childData = getValue(mapper.child, obj[i]);\n        removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove$$1);\n\n        if (removedData !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var childItems = getValue('child', obj[i]);\n        removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove$$1);\n\n        if (removedData !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return removedData;\n  };\n\n  TreeView.prototype.triggerEvent = function () {\n    this.renderReactTemplates();\n    var eventArgs = {\n      data: this.treeData\n    };\n    this.trigger('dataSourceChanged', eventArgs);\n  };\n\n  TreeView.prototype.wireInputEvents = function (inpEle) {\n    EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n  };\n\n  TreeView.prototype.wireEditingEvents = function (toBind) {\n    var _this = this;\n\n    if (toBind && !this.disabled) {\n      var proxy_2 = this;\n      this.touchEditObj = new Touch(this.element, {\n        tap: function (e) {\n          if (_this.isDoubleTapped(e) && e.tapCount === 2) {\n            e.originalEvent.preventDefault();\n            proxy_2.editingHandler(e.originalEvent);\n          }\n        }\n      });\n    } else {\n      if (this.touchEditObj) {\n        this.touchEditObj.destroy();\n      }\n    }\n  };\n\n  TreeView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      var proxy_3 = this;\n      this.touchClickObj = new Touch(this.element, {\n        tap: function (e) {\n          proxy_3.clickHandler(e);\n        }\n      });\n    } else {\n      if (this.touchClickObj) {\n        this.touchClickObj.destroy();\n      }\n    }\n  };\n\n  TreeView.prototype.wireExpandOnEvent = function (toBind) {\n    var _this = this;\n\n    if (toBind) {\n      var proxy_4 = this;\n      this.touchExpandObj = new Touch(this.element, {\n        tap: function (e) {\n          if ((_this.expandOnType === 'Click' || _this.expandOnType === 'DblClick' && _this.isDoubleTapped(e) && e.tapCount === 2) && e.originalEvent.which !== 3) {\n            proxy_4.expandHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.touchExpandObj) {\n        this.touchExpandObj.destroy();\n      }\n    }\n  };\n\n  TreeView.prototype.mouseDownHandler = function (e) {\n    this.mouseDownStatus = true;\n\n    if (e.shiftKey || e.ctrlKey) {\n      e.preventDefault();\n    }\n\n    if (e.ctrlKey && this.allowMultiSelection) {\n      EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n    }\n  };\n\n  TreeView.prototype.preventContextMenu = function (e) {\n    e.preventDefault();\n  };\n\n  TreeView.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n    this.wireClickEvent(true);\n\n    if (this.expandOnType !== 'None') {\n      this.wireExpandOnEvent(true);\n    }\n\n    EventHandler.add(this.element, 'focus', this.focusIn, this);\n    EventHandler.add(this.element, 'blur', this.focusOut, this);\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  TreeView.prototype.unWireEvents = function () {\n    EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n    this.wireClickEvent(false);\n    this.wireExpandOnEvent(false);\n    EventHandler.remove(this.element, 'focus', this.focusIn);\n    EventHandler.remove(this.element, 'blur', this.focusOut);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n\n    if (!this.disabled) {\n      this.keyboardModule.destroy();\n    }\n  };\n\n  TreeView.prototype.parents = function (element, selector) {\n    var matched = [];\n    var el = element.parentNode;\n\n    while (!isNullOrUndefined(el)) {\n      if (matches(el, selector)) {\n        matched.push(el);\n      }\n\n      el = el.parentNode;\n    }\n\n    return matched;\n  };\n\n  TreeView.prototype.isDoubleTapped = function (e) {\n    var target = e.originalEvent.target;\n    var secondTap;\n\n    if (target && e.tapCount) {\n      if (e.tapCount === 1) {\n        this.firstTap = closest(target, '.' + LISTITEM);\n      } else if (e.tapCount === 2) {\n        secondTap = closest(target, '.' + LISTITEM);\n      }\n    }\n\n    return this.firstTap === secondTap;\n  };\n\n  TreeView.prototype.isDescendant = function (parent, child) {\n    var node = child.parentNode;\n\n    while (!isNullOrUndefined(node)) {\n      if (node === parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  };\n\n  TreeView.prototype.showSpinner = function (element) {\n    addClass([element], LOAD);\n    createSpinner({\n      target: element,\n      width: Browser.isDevice ? 16 : 14\n    }, this.createElement);\n    showSpinner(element);\n  };\n\n  TreeView.prototype.hideSpinner = function (element) {\n    hideSpinner(element);\n    element.innerHTML = '';\n    removeClass([element], LOAD);\n  };\n\n  TreeView.prototype.setCheckedNodes = function (nodes) {\n    nodes = JSON.parse(JSON.stringify(nodes));\n    this.uncheckAll(this.checkedNodes);\n    this.setIndeterminate(nodes);\n\n    if (nodes.length > 0) {\n      this.checkAll(nodes);\n    }\n  };\n  /**\n   * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel\n   */\n\n\n  TreeView.prototype.setValidCheckedNode = function (node) {\n    if (this.dataType === 1) {\n      var mapper = this.fields;\n      var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', node, true));\n\n      if (resultData[0]) {\n        this.setChildCheckState(resultData, node, resultData[0]);\n\n        if (this.autoCheck) {\n          var parent_4 = resultData[0][this.fields.parentID] ? resultData[0][this.fields.parentID].toString() : null;\n          var childNodes = this.getChildNodes(this.treeData, parent_4);\n          var count = 0;\n\n          for (var len = 0; len < childNodes.length; len++) {\n            var childId = childNodes[len][this.fields.id].toString();\n\n            if (this.checkedNodes.indexOf(childId) !== -1) {\n              count++;\n            }\n          }\n\n          if (count === childNodes.length && this.checkedNodes.indexOf(parent_4) === -1 && parent_4) {\n            this.checkedNodes.push(parent_4);\n          }\n        }\n      }\n    } else if (this.dataType === 2) {\n      for (var a = 0; a < this.treeData.length; a++) {\n        var index = this.treeData[a][this.fields.id] ? this.treeData[a][this.fields.id].toString() : '';\n\n        if (index === node && this.checkedNodes.indexOf(node) === -1) {\n          this.checkedNodes.push(node);\n          break;\n        }\n\n        var childItems = getValue(this.fields.child.toString(), this.treeData[a]);\n\n        if (childItems) {\n          this.setChildCheckState(childItems, node, this.treeData[a]);\n        }\n      }\n    }\n  };\n  /**\n   * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel(for hierarchical DS)\n   */\n\n\n  TreeView.prototype.setChildCheckState = function (childItems, node, treeData) {\n    var checkedParent;\n    var count = 0;\n\n    if (this.dataType === 1) {\n      if (treeData) {\n        checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : null;\n      }\n\n      for (var index = 0; index < childItems.length; index++) {\n        var checkNode = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : null;\n\n        if (treeData && checkedParent && this.autoCheck) {\n          if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkNode) === -1) {\n            this.checkedNodes.push(checkNode);\n          }\n        }\n\n        if (checkNode === node && this.checkedNodes.indexOf(node) === -1) {\n          this.checkedNodes.push(node);\n        }\n\n        var subChildItems = this.getChildNodes(this.treeData, checkNode);\n\n        if (subChildItems) {\n          this.setChildCheckState(subChildItems, node, treeData);\n        }\n      }\n    } else {\n      if (treeData) {\n        checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n      }\n\n      for (var index = 0; index < childItems.length; index++) {\n        var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n\n        if (treeData && checkedParent && this.autoCheck) {\n          if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n            this.checkedNodes.push(checkedChild);\n          }\n        }\n\n        if (checkedChild === node && this.checkedNodes.indexOf(node) === -1) {\n          this.checkedNodes.push(node);\n        }\n\n        var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n\n        if (subChildItems) {\n          this.setChildCheckState(subChildItems, node, childItems[index]);\n        }\n\n        if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n          count++;\n        }\n\n        if (count === childItems.length && this.checkedNodes.indexOf(checkedParent) === -1 && this.autoCheck) {\n          this.checkedNodes.push(checkedParent);\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.setIndeterminate = function (nodes) {\n    for (var i = 0; i < nodes.length; i++) {\n      this.setValidCheckedNode(nodes[i]);\n    }\n  };\n\n  TreeView.prototype.updatePosition = function (id, newData, isRefreshChild, childValue) {\n    if (this.dataType === 1) {\n      var pos = this.getDataPos(this.treeData, this.fields, id);\n      this.treeData.splice(pos, 1, newData);\n\n      if (isRefreshChild) {\n        this.removeChildNodes(id);\n\n        for (var j = 0; j < childValue.length; j++) {\n          this.treeData.splice(pos, 0, childValue[j]);\n          pos++;\n        }\n      }\n\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    } else {\n      this.updateChildPosition(this.treeData, this.fields, id, [newData], undefined);\n    }\n  };\n\n  TreeView.prototype.updateChildPosition = function (treeData, mapper, currID, newData, index) {\n    var found;\n\n    for (var i = 0, objlen = treeData.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, treeData[i]);\n\n      if (treeData[i] && nodeId && nodeId.toString() === currID) {\n        treeData[i] = newData[0];\n        return true;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, treeData[i]))) {\n        var childObj = getValue(mapper.child, treeData[i]);\n        found = this.updateChildPosition(childObj, this.getChildMapper(mapper), currID, newData, index);\n\n        if (found !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', treeData[i]))) {\n        var childData = getValue('child', treeData[i]);\n        found = this.updateChildPosition(childData, this.getChildMapper(mapper), currID, newData, index);\n\n        if (found !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return found;\n  };\n\n  TreeView.prototype.dynamicState = function () {\n    this.setDragAndDrop(this.allowDragAndDrop);\n    this.wireEditingEvents(this.allowEditing);\n\n    if (!this.disabled) {\n      this.wireEvents();\n      this.setRipple();\n    } else {\n      this.unWireEvents();\n      this.rippleFn();\n      this.rippleIconFn();\n    }\n  };\n\n  TreeView.prototype.crudOperation = function (operation, nodes, target, newText, newNode, index, prevent) {\n    var _this = this;\n\n    var data = this.fields.dataSource;\n    var matchedArr = [];\n    var query = this.getQuery(this.fields);\n    var key = this.fields.id;\n    var crud;\n    var changes = {\n      addedRecords: [],\n      deletedRecords: [],\n      changedRecords: []\n    };\n    var nodesID = [];\n\n    if (nodes) {\n      nodesID = this.nodeType(nodes);\n    } else if (target) {\n      if (typeof target == \"string\") {\n        nodesID[0] = target.toString();\n      } else if (typeof target === \"object\") {\n        nodesID[0] = target.getAttribute(\"data-uid\").toString();\n      }\n    }\n\n    for (var i = 0, len = nodesID.length; i < len; i++) {\n      var liEle = this.getElement(nodesID[i]);\n\n      if (isNullOrUndefined(liEle)) {\n        continue;\n      }\n\n      var removedData = this.getNodeObject(nodesID[i]);\n      matchedArr.push(removedData);\n    }\n\n    switch (operation) {\n      case 'delete':\n        if (nodes.length == 1) {\n          crud = data.remove(key, matchedArr[0], query.fromTable, query);\n        } else {\n          changes.deletedRecords = matchedArr;\n          crud = data.saveChanges(changes, key, query.fromTable, query);\n        }\n\n        crud.then(function (e) {\n          return _this.deleteSuccess(nodesID);\n        }).catch(function (e) {\n          return _this.dmFailure(e);\n        });\n        break;\n\n      case 'update':\n        matchedArr[0][this.fields.text] = newText;\n        crud = data.update(key, matchedArr[0], query.fromTable, query);\n        crud.then(function (e) {\n          return _this.editSucess(target, newText, prevent);\n        }).catch(function (e) {\n          return _this.dmFailure(e, target, prevent);\n        });\n        break;\n\n      case 'insert':\n        if (newNode.length == 1) {\n          crud = data.insert(newNode[0], query.fromTable, query);\n        } else {\n          var arr = [];\n\n          for (var i = 0, len = newNode.length; i < len; i++) {\n            arr.push(newNode[i]);\n          }\n\n          changes.addedRecords = arr;\n          crud = data.saveChanges(changes, key, query.fromTable, query);\n        }\n\n        crud.then(function (e) {\n          var dropLi = _this.getElement(target);\n\n          _this.addSuccess(newNode, dropLi, index);\n\n          _this.preventExpand = false;\n        }).catch(function (e) {\n          return _this.dmFailure(e);\n        });\n        break;\n    }\n  };\n\n  TreeView.prototype.deleteSuccess = function (nodes) {\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      var liEle = this.getElement(nodes[i]);\n\n      if (isNullOrUndefined(liEle)) {\n        continue;\n      }\n\n      this.removeNode(liEle);\n    }\n\n    this.updateInstance();\n\n    if (this.dataType === 1) {\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    }\n\n    this.triggerEvent();\n  };\n\n  TreeView.prototype.editSucess = function (target, newText, prevent) {\n    var liEle = this.getElement(target);\n    var txtEle = select('.' + LISTTEXT, liEle);\n    this.appendNewText(liEle, txtEle, newText, prevent);\n  };\n\n  TreeView.prototype.addSuccess = function (nodes, dropLi, index) {\n    var dropUl;\n    var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n    var proxy = this;\n\n    if (dropLi && icon && icon.classList.contains(EXPANDABLE) && dropLi.querySelector('.' + PARENTITEM) === null) {\n      proxy.renderChildNodes(dropLi, null, function () {\n        dropUl = dropLi.querySelector('.' + PARENTITEM);\n        proxy.addGivenNodes(nodes, dropLi, index, true, dropUl);\n        proxy.triggerEvent();\n      });\n    } else {\n      this.addGivenNodes(nodes, dropLi, index, true);\n      this.triggerEvent();\n    }\n  };\n\n  TreeView.prototype.dmFailure = function (e, target, prevent) {\n    if (target) {\n      this.updatePreviousText(target, prevent);\n    }\n\n    this.trigger('actionFailure', {\n      error: e\n    });\n  };\n\n  TreeView.prototype.updatePreviousText = function (target, prevent) {\n    var liEle = this.getElement(target);\n    var txtEle = select('.' + LISTTEXT, liEle);\n    this.updateText(liEle, txtEle, this.oldText, prevent);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   * @param  {TreeView} newProp\n   * @param  {TreeView} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.setDragAndDrop(this.allowDragAndDrop);\n          break;\n\n        case 'dragArea':\n          if (this.allowDragAndDrop) {\n            this.dragObj.dragArea = this.dragArea;\n          }\n\n          break;\n\n        case 'allowEditing':\n          this.wireEditingEvents(this.allowEditing);\n          break;\n\n        case 'allowMultiSelection':\n          if (this.selectedNodes.length > 1) {\n            var sNode = this.getElement(this.selectedNodes[0]);\n            this.isLoaded = false;\n            this.removeSelectAll();\n            this.selectNode(sNode, null);\n            this.isLoaded = true;\n          }\n\n          this.setMultiSelect(this.allowMultiSelection);\n          this.addMultiSelect(this.allowMultiSelection);\n          break;\n\n        case 'allowTextWrap':\n          this.setTextWrap();\n          this.updateWrap();\n          break;\n\n        case 'checkedNodes':\n          if (this.showCheckBox) {\n            this.checkedNodes = oldProp.checkedNodes;\n            this.setCheckedNodes(newProp.checkedNodes);\n          }\n\n          break;\n\n        case 'autoCheck':\n          if (this.showCheckBox) {\n            this.autoCheck = newProp.autoCheck;\n            this.ensureIndeterminate();\n          }\n\n          break;\n\n        case 'cssClass':\n          this.setCssClass(oldProp.cssClass, newProp.cssClass);\n          break;\n\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n\n        case 'expandedNodes':\n          this.isAnimate = false;\n          this.setProperties({\n            expandedNodes: []\n          }, true);\n          this.collapseAll();\n          this.isInitalExpand = true;\n          this.setProperties({\n            expandedNodes: isNullOrUndefined(newProp.expandedNodes) ? [] : newProp.expandedNodes\n          }, true);\n          this.doExpandAction();\n          this.isInitalExpand = false;\n          this.isAnimate = true;\n          break;\n\n        case 'expandOn':\n          this.wireExpandOnEvent(false);\n          this.setExpandOnType();\n\n          if (this.expandOnType !== 'None' && !this.disabled) {\n            this.wireExpandOnEvent(true);\n          }\n\n          break;\n\n        case 'disabled':\n          this.setDisabledMode();\n          this.dynamicState();\n          break;\n\n        case 'fields':\n          this.isAnimate = false;\n          this.isFieldChange = true;\n          this.initialRender = true;\n          this.reRenderNodes();\n          this.initialRender = false;\n          this.isAnimate = true;\n          this.isFieldChange = false;\n          break;\n\n        case 'fullRowSelect':\n          this.setFullRow(this.fullRowSelect);\n          this.addFullRow(this.fullRowSelect);\n\n          if (this.allowTextWrap) {\n            this.setTextWrap();\n            this.updateWrap();\n          }\n\n          break;\n\n        case 'loadOnDemand':\n          if (this.loadOnDemand === false && !this.onLoaded) {\n            var nodes = this.element.querySelectorAll('li');\n            var i = 0;\n\n            while (i < nodes.length) {\n              if (nodes[i].getAttribute('aria-expanded') !== 'true') {\n                this.renderChildNodes(nodes[i], true, null, true);\n              }\n\n              i++;\n            }\n\n            this.onLoaded = true;\n          }\n\n          break;\n\n        case 'nodeTemplate':\n          this.hasTemplate = false;\n          this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n          this.reRenderNodes();\n          break;\n\n        case 'selectedNodes':\n          this.removeSelectAll();\n          this.setProperties({\n            selectedNodes: newProp.selectedNodes\n          }, true);\n          this.doSelectionAction();\n          break;\n\n        case 'showCheckBox':\n          this.reRenderNodes();\n          break;\n\n        case 'sortOrder':\n          this.reRenderNodes();\n          break;\n\n        case 'fullRowNavigable':\n          this.setProperties({\n            fullRowNavigable: newProp.fullRowNavigable\n          }, true);\n          this.listBaseOption.itemNavigable = newProp.fullRowNavigable;\n          this.reRenderNodes();\n          break;\n      }\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n   */\n\n\n  TreeView.prototype.destroy = function () {\n    this.clearTemplate();\n    this.element.removeAttribute('aria-activedescendant');\n    this.element.removeAttribute('tabindex');\n    this.unWireEvents();\n    this.wireEditingEvents(false);\n\n    if (!this.disabled) {\n      this.rippleFn();\n      this.rippleIconFn();\n    }\n\n    this.setCssClass(this.cssClass, null);\n    this.setDragAndDrop(false);\n    this.setFullRow(false);\n\n    if (this.ulElement && this.ulElement.parentElement) {\n      this.ulElement.parentElement.removeChild(this.ulElement);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n   * then the nodes are added as children of the given parentID or in the root level of TreeView.\n   * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n   * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n   * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n   * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n   */\n\n\n  TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n    if (isNullOrUndefined(nodes)) {\n      return;\n    }\n\n    nodes = JSON.parse(JSON.stringify(nodes));\n    var dropLi = this.getElement(target);\n    this.preventExpand = preventTargetExpand;\n\n    if (this.fields.dataSource instanceof DataManager) {\n      if (!this.isOffline) {\n        this.crudOperation('insert', null, target, null, nodes, index, this.preventExpand);\n      } else {\n        this.addSuccess(nodes, dropLi, index);\n      }\n    } else if (this.dataType === 2) {\n      this.addGivenNodes(nodes, dropLi, index);\n    } else {\n      if (dropLi) {\n        this.addGivenNodes(nodes, dropLi, index);\n      } else {\n        nodes = this.getSortedData(nodes);\n\n        for (var i = 0; i < nodes.length; i++) {\n          var pid = getValue(this.fields.parentID, nodes[i]);\n          dropLi = pid ? this.getElement(pid.toString()) : pid;\n          this.addGivenNodes([nodes[i]], dropLi, index);\n        }\n      }\n\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    }\n\n    this.updateCheckedStateFromDS();\n\n    if (this.showCheckBox && dropLi) {\n      this.ensureParentCheckState(dropLi);\n    }\n\n    if (this.fields.dataSource instanceof DataManager === false) {\n      this.preventExpand = false;\n      this.triggerEvent();\n    }\n  };\n  /**\n   * Instead of clicking on the TreeView node for editing, we can enable it by using\n   * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n   * will be created for the particular node thus allowing us to edit it.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n   */\n\n\n  TreeView.prototype.beginEdit = function (node) {\n    var ele = this.getElement(node);\n\n    if (isNullOrUndefined(ele) || this.disabled) {\n      return;\n    }\n\n    this.createTextbox(ele, null);\n  };\n  /**\n   * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n   * as argument to this method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   */\n\n\n  TreeView.prototype.checkAll = function (nodes) {\n    if (this.showCheckBox) {\n      this.doCheckBoxAction(nodes, true);\n    }\n  };\n  /**\n   * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n   * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n   * a specific level of nodes, set **level** as argument to collapseAll method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n   * @param  {number} level - TreeView nodes will collapse up to the given level.\n   * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n   */\n\n\n  TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doGivenAction(nodes, COLLAPSIBLE, false);\n    } else {\n      if (level > 0) {\n        this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n      } else {\n        this.collapseAllNodes(excludeHiddenNodes);\n      }\n    }\n  };\n  /**\n   * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n   */\n\n\n  TreeView.prototype.disableNodes = function (nodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doDisableAction(nodes);\n    }\n  };\n  /**\n   * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n   */\n\n\n  TreeView.prototype.enableNodes = function (nodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doEnableAction(nodes);\n    }\n  };\n  /**\n   * Ensures visibility of the TreeView node by using node ID or node element.\n   * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n   * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n   */\n\n\n  TreeView.prototype.ensureVisible = function (node) {\n    var liEle = this.getElement(node);\n\n    if (isNullOrUndefined(liEle)) {\n      return;\n    }\n\n    var parents = this.parents(liEle, '.' + LISTITEM);\n    this.expandAll(parents);\n    setTimeout(function () {\n      liEle.scrollIntoView(true);\n    }, 450);\n  };\n  /**\n   * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n   * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n   * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n   * @param  {number} level - TreeView nodes will expand up to the given level.\n   * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n   */\n\n\n  TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doGivenAction(nodes, EXPANDABLE, true);\n    } else {\n      if (level > 0) {\n        this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n      } else {\n        this.expandAllNodes(excludeHiddenNodes);\n      }\n    }\n  };\n  /**\n   * Gets all the checked nodes including child, whether it is loaded or not.\n   */\n\n\n  TreeView.prototype.getAllCheckedNodes = function () {\n    var checkNodes = this.checkedNodes;\n    return checkNodes;\n  };\n  /**\n  * Gets all the disabled nodes including child, whether it is loaded or not.\n  */\n\n\n  TreeView.prototype.getDisabledNodes = function () {\n    var disabledNodes = this.disableNode;\n    return disabledNodes;\n  };\n  /**\n   * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n   */\n\n\n  TreeView.prototype.getNode = function (node) {\n    var ele = this.getElement(node);\n    return this.getNodeData(ele, true);\n  };\n  /**\n   * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n   * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n   * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n   * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n   * * The updated data source also contains custom attributes if you specified in data source.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n   * @isGenericType true\n   */\n\n\n  TreeView.prototype.getTreeData = function (node) {\n    var id = this.getId(node);\n    this.updatePersistProp();\n\n    if (isNullOrUndefined(id)) {\n      return this.treeData;\n    } else {\n      var data = this.getNodeObject(id);\n      return isNullOrUndefined(data) ? [] : [data];\n    }\n  };\n  /**\n   * Moves the collection of nodes within the same TreeView based on target or its index position.\n   * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n   * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n   * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n   */\n\n\n  TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n    var dropLi = this.getElement(target);\n\n    if (isNullOrUndefined(dropLi)) {\n      return;\n    }\n\n    for (var i = 0; i < sourceNodes.length; i++) {\n      var dragLi = this.getElement(sourceNodes[i]);\n\n      if (isNullOrUndefined(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n        continue;\n      }\n\n      this.preventExpand = preventTargetExpand;\n      this.dropAsChildNode(dragLi, dropLi, this, index);\n    }\n\n    if (this.fields.dataSource instanceof DataManager === false) {\n      this.preventExpand = false;\n    }\n\n    this.triggerEvent();\n  };\n  /**\n   * Refreshes a particular node of the TreeView.\n   * @param  {string | Element} target - Specifies the ID of TreeView node or TreeView node as target element.\n   * @param  {{ [key: string]: Object }[]} newData - Specifies the new data of TreeView node.\n   */\n\n\n  TreeView.prototype.refreshNode = function (target, newData) {\n    if (isNullOrUndefined(target) || isNullOrUndefined(newData)) {\n      return;\n    }\n\n    var id;\n    var isRefreshChild = false;\n\n    if (this.dataType == 1 && newData.length > 1) {\n      isRefreshChild = true;\n    } else if (this.dataType == 2 && newData.length === 1) {\n      var updatedChildValue = getValue(this.fields.child.toString(), newData[0]);\n\n      if (!isNullOrUndefined(updatedChildValue)) {\n        isRefreshChild = true;\n      }\n    }\n\n    var liEle = this.getElement(target);\n    id = liEle ? liEle.getAttribute('data-uid') : target ? target.toString() : null;\n    this.refreshData = this.getNodeObject(id);\n    newData = JSON.parse(JSON.stringify(newData));\n    /* eslint-disable */\n\n    var newNodeData;\n    var parentData;\n\n    if (this.dataType == 1 && isRefreshChild) {\n      for (var k = 0; k < newData.length; k++) {\n        if (isNullOrUndefined(newData[k][this.fields.parentID])) {\n          parentData = newData[k];\n          newData.splice(k, 1);\n          break;\n        }\n      }\n\n      newNodeData = extend({}, this.refreshData, parentData);\n    } else {\n      newNodeData = extend({}, this.refreshData, newData[0]);\n    }\n\n    if (isNullOrUndefined(liEle)) {\n      this.updatePosition(id, newNodeData, isRefreshChild, newData);\n      return;\n    }\n\n    this.isRefreshed = true;\n    var level = parseFloat(liEle.getAttribute('aria-level'));\n    var newliEle = ListBase.createListItemFromJson(this.createElement, [newNodeData], this.listBaseOption, level);\n    var ul = select('.' + PARENTITEM, liEle);\n    var childItems = getValue(this.fields.child.toString(), newNodeData);\n\n    if (isRefreshChild && ul || isRefreshChild && !isNullOrUndefined(childItems)) {\n      var parentEle = liEle.parentElement;\n      var index = Array.prototype.indexOf.call(parentEle.childNodes, liEle);\n      remove(liEle);\n      parentEle.insertBefore(newliEle[0], parentEle.childNodes[index]);\n      this.updatePosition(id, newNodeData, isRefreshChild, newData);\n\n      if (isRefreshChild && ul) {\n        this.expandAll([id]);\n      }\n    } else {\n      var txtEle = select('.' + TEXTWRAP, liEle);\n      var newTextEle = select('.' + TEXTWRAP, newliEle[0]);\n      var icon = select('div.' + ICON, txtEle);\n      var newIcon = select('div.' + ICON, newTextEle);\n\n      if (icon && newIcon) {\n        if (newIcon.classList.contains(EXPANDABLE) && icon.classList.contains(COLLAPSIBLE)) {\n          removeClass([newIcon], EXPANDABLE);\n          addClass([newIcon], COLLAPSIBLE);\n        } else if (newIcon.classList.contains(COLLAPSIBLE) && icon.classList.contains(EXPANDABLE)) {\n          removeClass([newIcon], COLLAPSIBLE);\n          addClass([newIcon], EXPANDABLE);\n        } else if (icon.classList.contains('interaction')) {\n          addClass([newIcon], 'interaction');\n        }\n      }\n\n      remove(txtEle);\n      var fullEle = select('.' + FULLROW, liEle);\n      fullEle.parentNode.insertBefore(newTextEle, fullEle.nextSibling);\n      this.updatePosition(id, newNodeData, isRefreshChild, newData);\n    }\n\n    liEle = this.getElement(target);\n\n    if (newNodeData[this.fields.tooltip]) {\n      liEle.setAttribute(\"title\", newNodeData[this.fields.tooltip]);\n    }\n\n    if (newNodeData.hasOwnProperty(this.fields.htmlAttributes) && newNodeData[this.fields.htmlAttributes]) {\n      var attr = {};\n      merge(attr, newNodeData[this.fields.htmlAttributes]);\n\n      if (attr.class) {\n        addClass([liEle], attr.class.split(' '));\n        delete attr.class;\n      } else {\n        attributes(liEle, attr);\n      }\n    }\n\n    if (this.selectedNodes.indexOf(id) !== -1) {\n      liEle.setAttribute('aria-selected', 'true');\n      addClass([liEle], ACTIVE);\n    }\n\n    this.isRefreshed = false;\n    this.triggerEvent();\n  };\n  /**\n   * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   */\n\n\n  TreeView.prototype.removeNodes = function (nodes) {\n    if (!isNullOrUndefined(nodes)) {\n      if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n        this.crudOperation('delete', nodes);\n      } else {\n        this.deleteSuccess(nodes);\n      }\n    }\n  };\n  /**\n   * Replaces the text of the TreeView node with the given text.\n   * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n   * @param  {string} newText - Specifies the new text of TreeView node.\n   */\n\n\n  TreeView.prototype.updateNode = function (target, newText) {\n    var _this = this;\n\n    if (isNullOrUndefined(target) || isNullOrUndefined(newText) || !this.allowEditing) {\n      return;\n    }\n\n    var liEle = this.getElement(target);\n\n    if (isNullOrUndefined(liEle)) {\n      return;\n    }\n\n    var txtEle = select('.' + LISTTEXT, liEle);\n    this.updateOldText(liEle);\n    var eventArgs = this.getEditEvent(liEle, null, null);\n    this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        if (_this.fields.dataSource instanceof DataManager && !_this.isOffline) {\n          _this.crudOperation('update', null, target, newText, null, null, false);\n        } else {\n          _this.appendNewText(liEle, txtEle, newText, false);\n        }\n      }\n    });\n  };\n  /**\n   * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n   * as argument to this method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   */\n\n\n  TreeView.prototype.uncheckAll = function (nodes) {\n    if (this.showCheckBox) {\n      this.doCheckBoxAction(nodes, false);\n    }\n  };\n\n  var TreeView_1;\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowDragAndDrop\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowEditing\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowMultiSelection\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowTextWrap\", void 0);\n\n  __decorate$8([Complex({}, NodeAnimationSettings)], TreeView.prototype, \"animation\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"checkedNodes\", void 0);\n\n  __decorate$8([Property('')], TreeView.prototype, \"cssClass\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"disabled\", void 0);\n\n  __decorate$8([Property(null)], TreeView.prototype, \"dragArea\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"enablePersistence\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"expandedNodes\", void 0);\n\n  __decorate$8([Property('Auto')], TreeView.prototype, \"expandOn\", void 0);\n\n  __decorate$8([Complex({}, FieldsSettings)], TreeView.prototype, \"fields\", void 0);\n\n  __decorate$8([Property(true)], TreeView.prototype, \"fullRowSelect\", void 0);\n\n  __decorate$8([Property(true)], TreeView.prototype, \"loadOnDemand\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"locale\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"nodeTemplate\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"selectedNodes\", void 0);\n\n  __decorate$8([Property('None')], TreeView.prototype, \"sortOrder\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"showCheckBox\", void 0);\n\n  __decorate$8([Property(true)], TreeView.prototype, \"autoCheck\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"fullRowNavigable\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"actionFailure\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"created\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"dataBound\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"dataSourceChanged\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"drawNode\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"destroyed\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"keyPress\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeChecked\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeChecking\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeClicked\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeCollapsed\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeCollapsing\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDragging\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDragStart\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDragStop\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDropped\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeEdited\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeEditing\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeExpanded\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeExpanding\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeSelected\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeSelecting\", void 0);\n\n  TreeView = TreeView_1 = __decorate$8([NotifyPropertyChanges], TreeView);\n  return TreeView;\n}(Component);\n/**\n * TreeView modules\n */\n\n\nvar __extends$9 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$9 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CONTROL$1 = 'e-control';\nvar ROOT$1 = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL$2 = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar DISPLAY = 'e-sidebar-display';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\n\nvar Sidebar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$9(Sidebar, _super);\n  /* eslint-enable */\n\n\n  function Sidebar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n\n  Sidebar.prototype.preRender = function () {\n    this.setWidth();\n  };\n\n  Sidebar.prototype.render = function () {\n    this.initialize();\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Sidebar.prototype.initialize = function () {\n    this.setTarget();\n    this.addClass();\n    this.setZindex();\n\n    if (this.enableDock) {\n      this.setDock();\n    }\n\n    if (this.isOpen) {\n      this.show();\n      this.firstRender = true;\n    } else {\n      this.setMediaQuery();\n    }\n\n    this.checkType(true);\n    this.setType(this.type);\n    this.setCloseOnDocumentClick();\n    this.setEnableRTL();\n\n    if (Browser.isDevice) {\n      this.windowWidth = window.innerWidth;\n    }\n  };\n\n  Sidebar.prototype.setEnableRTL = function () {\n    (this.enableRtl ? addClass : removeClass)([this.element], RTL$2);\n  };\n\n  Sidebar.prototype.setTarget = function () {\n    this.targetEle = this.element.nextElementSibling;\n    this.sidebarEleCopy = this.element.cloneNode(true);\n\n    if (typeof this.target === 'string') {\n      this.setProperties({\n        target: document.querySelector(this.target)\n      }, true);\n    }\n\n    if (this.target) {\n      this.target.insertBefore(this.element, this.target.children[0]);\n      addClass([this.element], SIDEBARABSOLUTE);\n      addClass([this.target], CONTEXT);\n      this.targetEle = this.getTargetElement();\n    }\n  };\n\n  Sidebar.prototype.getTargetElement = function () {\n    var siblingElement = this.element.nextElementSibling;\n\n    while (!isNullOrUndefined(siblingElement)) {\n      if (!siblingElement.classList.contains(ROOT$1)) {\n        break;\n      }\n\n      siblingElement = siblingElement.nextElementSibling;\n    }\n\n    return siblingElement;\n  };\n\n  Sidebar.prototype.setCloseOnDocumentClick = function () {\n    if (this.closeOnDocumentClick) {\n      EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n    } else {\n      EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n    }\n  };\n\n  Sidebar.prototype.setWidth = function () {\n    if (this.enableDock && this.position === 'Left') {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.dockSize)\n      });\n    } else if (this.enableDock && this.position === 'Right') {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.dockSize)\n      });\n    } else if (!this.enableDock) {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.width)\n      });\n    }\n  };\n\n  Sidebar.prototype.setDimension = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      width = width.match(/px|%|em/) ? width : formatUnit(width);\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  Sidebar.prototype.setZindex = function () {\n    setStyleAttribute(this.element, {\n      'z-index': '' + this.zIndex\n    });\n  };\n\n  Sidebar.prototype.addClass = function () {\n    if (this.element.tagName === \"EJS-SIDEBAR\") {\n      addClass([this.element], DISPLAY);\n    }\n\n    var classELement = document.querySelector('.e-main-content');\n\n    if (!isNullOrUndefined(classELement || this.targetEle)) {\n      addClass([classELement || this.targetEle], [MAINCONTENTANIMATION]);\n    }\n\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n\n    if (!this.enableDock && this.type !== 'Auto') {\n      addClass([this.element], [VISIBILITY]);\n    }\n\n    removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n    this.element.classList.add(ROOT$1);\n    addClass([this.element], this.position === 'Right' ? RIGHT : LEFT);\n\n    if (this.enableDock) {\n      addClass([this.element], DOCKER);\n    }\n\n    this.element.setAttribute('tabindex', this.tabIndex);\n\n    if (this.type === 'Auto' && !Browser.isDevice) {\n      this.show();\n    } else if (!this.isOpen) {\n      addClass([this.element], CLOSE);\n    }\n  };\n\n  Sidebar.prototype.checkType = function (val) {\n    if (!(this.type === 'Push' || this.type === 'Over' || this.type === 'Slide')) {\n      this.type = 'Auto';\n    } else {\n      if (!this.element.classList.contains(CLOSE) && !val) {\n        this.hide();\n      }\n    }\n  };\n\n  Sidebar.prototype.transitionEnd = function (e) {\n    this.setDock();\n\n    if (!isNullOrUndefined(e) && !this.firstRender) {\n      this.triggerChange();\n    }\n\n    this.firstRender = false;\n    EventHandler.remove(this.element, 'transitionend', this.transitionEnd);\n  };\n\n  Sidebar.prototype.destroyBackDrop = function () {\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n    if (this.target && this.showBackdrop && sibling) {\n      removeClass([sibling], CONTEXTBACKDROP);\n    } else if (this.showBackdrop && this.modal) {\n      this.modal.style.display = 'none';\n      this.modal.outerHTML = '';\n      this.modal = null;\n    }\n  };\n  /* eslint-disable */\n\n  /**\n   * Hide the Sidebar component, if it is in an open state.\n   *\n   * @returns {void}\n   *\n   */\n\n\n  Sidebar.prototype.hide = function (e) {\n    var _this = this;\n\n    var closeArguments = {\n      model: this,\n      element: this.element,\n      cancel: false,\n      isInteracted: !isNullOrUndefined(e),\n      event: e || null\n    };\n    this.trigger('close', closeArguments, function (observedcloseArgs) {\n      if (!observedcloseArgs.cancel) {\n        if (_this.element.classList.contains(CLOSE)) {\n          return;\n        }\n\n        if (_this.element.classList.contains(OPEN) && !_this.animate) {\n          _this.triggerChange();\n        }\n\n        addClass([_this.element], CLOSE);\n        removeClass([_this.element], OPEN);\n        setStyleAttribute(_this.element, {\n          'width': formatUnit(_this.enableDock ? _this.dockSize : _this.width)\n        });\n\n        _this.setType(_this.type);\n\n        var sibling = document.querySelector('.e-main-content') || _this.targetEle;\n\n        if (!_this.enableDock && sibling) {\n          sibling.style.transform = 'translateX(' + 0 + 'px)';\n          sibling.style[_this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n        }\n\n        _this.destroyBackDrop();\n\n        _this.setAnimation();\n\n        if (_this.type === 'Slide') {\n          document.body.classList.remove('e-sidebar-overflow');\n        }\n\n        _this.setProperties({\n          isOpen: false\n        }, true);\n\n        if (_this.enableDock) {\n          setTimeout(function () {\n            return _this.setTimeOut();\n          }, 50);\n        }\n\n        EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n      }\n    });\n  };\n\n  Sidebar.prototype.setTimeOut = function () {\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n    var elementWidth = this.element.getBoundingClientRect().width;\n\n    if (this.element.classList.contains(OPEN) && sibling && !(this.type === 'Over' && this.enableDock)) {\n      if (this.position === 'Left') {\n        sibling.style.marginLeft = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n      } else {\n        sibling.style.marginRight = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n      }\n    } else if (this.element.classList.contains(CLOSE) && sibling) {\n      if (this.position === 'Left') {\n        sibling.style.marginLeft = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n      } else {\n        sibling.style.marginRight = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n      }\n    }\n  };\n  /* eslint-disable */\n\n  /**\n   * Shows the Sidebar component, if it is in closed state.\n   *\n   * @returns {void}\n   */\n\n\n  Sidebar.prototype.show = function (e) {\n    var _this = this;\n\n    var openArguments = {\n      model: this,\n      element: this.element,\n      cancel: false,\n      isInteracted: !isNullOrUndefined(e),\n      event: e || null\n    };\n    this.trigger('open', openArguments, function (observedopenArgs) {\n      if (!observedopenArgs.cancel) {\n        removeClass([_this.element], VISIBILITY);\n\n        if (_this.element.classList.contains(OPEN)) {\n          return;\n        }\n\n        if (_this.element.classList.contains(CLOSE) && !_this.animate) {\n          _this.triggerChange();\n        }\n\n        addClass([_this.element], [OPEN, TRASITION]);\n        setStyleAttribute(_this.element, {\n          'transform': ''\n        });\n        removeClass([_this.element], CLOSE);\n        setStyleAttribute(_this.element, {\n          'width': formatUnit(_this.width)\n        });\n\n        _this.setType(_this.type);\n\n        _this.createBackDrop();\n\n        _this.setAnimation();\n\n        if (_this.type === 'Slide') {\n          document.body.classList.add('e-sidebar-overflow');\n        }\n\n        _this.setProperties({\n          isOpen: true\n        }, true);\n\n        EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n      }\n    });\n  };\n\n  Sidebar.prototype.setAnimation = function () {\n    if (this.animate) {\n      removeClass([this.element], DISABLEANIMATION);\n    } else {\n      addClass([this.element], DISABLEANIMATION);\n    }\n  };\n\n  Sidebar.prototype.triggerChange = function () {\n    var changeArguments = {\n      name: 'change',\n      element: this.element\n    };\n    this.trigger('change', changeArguments);\n  };\n\n  Sidebar.prototype.setDock = function () {\n    if (this.enableDock && this.position === 'Left' && !this.getState()) {\n      setStyleAttribute(this.element, {\n        'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')'\n      });\n    } else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n      setStyleAttribute(this.element, {\n        'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')'\n      });\n    }\n\n    if (this.element.classList.contains(CLOSE) && this.enableDock) {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.dockSize)\n      });\n    }\n  };\n\n  Sidebar.prototype.createBackDrop = function () {\n    if (this.target && this.showBackdrop && this.getState()) {\n      var sibling = document.querySelector('.e-main-content') || this.targetEle;\n      addClass([sibling], CONTEXTBACKDROP);\n    } else if (this.showBackdrop && !this.modal && this.getState()) {\n      this.modal = this.createElement('div');\n      this.modal.className = DEFAULTBACKDROP;\n      this.modal.style.display = 'block';\n      document.body.appendChild(this.modal);\n    }\n  };\n\n  Sidebar.prototype.getPersistData = function () {\n    return this.addOnPersist(['type', 'position', 'isOpen']);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   *\n   */\n\n\n  Sidebar.prototype.getModuleName = function () {\n    return 'sidebar';\n  };\n  /**\n   * Shows or hides the Sidebar based on the current state.\n   *\n   * @returns {void}\n   */\n\n\n  Sidebar.prototype.toggle = function () {\n    if (this.element.classList.contains(OPEN)) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  };\n\n  Sidebar.prototype.getState = function () {\n    return this.element.classList.contains(OPEN) ? true : false;\n  };\n\n  Sidebar.prototype.setMediaQuery = function () {\n    if (this.mediaQuery) {\n      var media = false;\n\n      if (typeof this.mediaQuery === 'string') {\n        media = window.matchMedia(this.mediaQuery).matches;\n      } else {\n        media = this.mediaQuery.matches;\n      }\n\n      if (media && this.windowWidth !== window.innerWidth) {\n        this.show();\n      } else if (this.getState() && this.windowWidth !== window.innerWidth) {\n        this.hide();\n      }\n    }\n  };\n\n  Sidebar.prototype.resize = function () {\n    if (this.type === 'Auto') {\n      if (Browser.isDevice) {\n        addClass([this.element], OVER);\n      } else {\n        addClass([this.element], PUSH);\n      }\n    }\n\n    this.setMediaQuery();\n\n    if (Browser.isDevice) {\n      this.windowWidth = window.innerWidth;\n    }\n  };\n\n  Sidebar.prototype.documentclickHandler = function (e) {\n    if (closest(e.target, '.' + CONTROL$1 + '' + '.' + ROOT$1)) {\n      return;\n    }\n\n    this.hide(e);\n  };\n\n  Sidebar.prototype.enableGestureHandler = function (args) {\n    if (!this.isOpen && this.position === 'Left' && args.swipeDirection === 'Right' && args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5) {\n      this.show();\n    } else if (this.isOpen && this.position === 'Left' && args.swipeDirection === 'Left') {\n      this.hide();\n    } else if (this.isOpen && this.position === 'Right' && args.swipeDirection === 'Right') {\n      this.hide();\n    } else if (!this.isOpen && this.position === 'Right' && args.swipeDirection === 'Left' && window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5) {\n      this.show();\n    }\n  };\n\n  Sidebar.prototype.setEnableGestures = function () {\n    if (this.enableGestures) {\n      this.mainContentEle = new Touch(document.body, {\n        swipe: this.enableGestureHandler.bind(this)\n      });\n      this.sidebarEle = new Touch(this.element, {\n        swipe: this.enableGestureHandler.bind(this)\n      });\n    } else {\n      if (this.mainContentEle && this.sidebarEle) {\n        this.mainContentEle.destroy();\n        this.sidebarEle.destroy();\n      }\n    }\n  };\n\n  Sidebar.prototype.wireEvents = function () {\n    this.setEnableGestures();\n    EventHandler.add(window, 'resize', this.resize, this);\n  };\n\n  Sidebar.prototype.unWireEvents = function () {\n    EventHandler.remove(window, 'resize', this.resize);\n    EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n\n    if (this.mainContentEle) {\n      this.mainContentEle.destroy();\n    }\n\n    if (this.sidebarEle) {\n      this.sidebarEle.destroy();\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {SidebarModel} newProp - specifies newProp value.\n   * @param {SidebarModel} oldProp - specifies oldProp value.\n   * @returns {void}\n   * @private\n   *\n   */\n\n\n  Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n    var isRendered = this.isServerRendered;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'isOpen':\n          if (this.isOpen) {\n            this.show();\n          } else {\n            this.hide();\n          }\n\n          break;\n\n        case 'width':\n          this.setWidth();\n\n          if (!this.getState()) {\n            this.setDock();\n          }\n\n          break;\n\n        case 'animate':\n          this.setAnimation();\n          break;\n\n        case 'type':\n          this.checkType(false);\n          removeClass([this.element], [VISIBILITY]);\n          this.addClass();\n          addClass([this.element], this.type === 'Auto' ? Browser.isDevice ? ['e-over'] : ['e-push'] : ['e-' + this.type.toLowerCase()]);\n          break;\n\n        case 'position':\n          this.element.style.transform = '';\n          this.setDock();\n\n          if (sibling) {\n            sibling.style[this.position === 'Left' ? 'marginRight' : 'marginLeft'] = '0px';\n          }\n\n          if (this.position === 'Right') {\n            removeClass([this.element], LEFT);\n            addClass([this.element], RIGHT);\n          } else {\n            removeClass([this.element], RIGHT);\n            addClass([this.element], LEFT);\n          }\n\n          this.setType(this.type);\n          break;\n\n        case 'showBackdrop':\n          if (this.showBackdrop) {\n            this.createBackDrop();\n          } else {\n            if (this.modal) {\n              this.modal.style.display = 'none';\n              this.modal.outerHTML = '';\n              this.modal = null;\n            }\n          }\n\n          break;\n\n        case 'target':\n          if (typeof this.target === 'string') {\n            this.setProperties({\n              target: document.querySelector(this.target)\n            }, true);\n          }\n\n          if (isNullOrUndefined(this.target)) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([oldProp.target], CONTEXT);\n            setStyleAttribute(sibling, {\n              'margin-left': 0,\n              'margin-right': 0\n            });\n            document.body.insertAdjacentElement('afterbegin', this.element);\n          }\n\n          this.isServerRendered = false;\n\n          _super.prototype.refresh.call(this);\n\n          this.isServerRendered = isRendered;\n          break;\n\n        case 'closeOnDocumentClick':\n          this.setCloseOnDocumentClick();\n          break;\n\n        case 'enableDock':\n          if (!this.getState()) {\n            this.setDock();\n          }\n\n          break;\n\n        case 'zIndex':\n          this.setZindex();\n          break;\n\n        case 'mediaQuery':\n          this.setMediaQuery();\n          break;\n\n        case 'enableGestures':\n          this.setEnableGestures();\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n      }\n    }\n  };\n\n  Sidebar.prototype.setType = function (type) {\n    var elementWidth = this.element.getBoundingClientRect().width;\n    this.setZindex();\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n    if (sibling) {\n      sibling.style.transform = 'translateX(' + 0 + 'px)';\n\n      if (!Browser.isDevice && this.type !== 'Auto' && !(this.type === 'Over' && this.enableDock)) {\n        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n      }\n    }\n\n    var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n    var eleWidth = this.position === 'Left' ? elementWidth : -elementWidth;\n    removeClass([this.element], [PUSH, OVER, SLIDE]);\n\n    switch (type) {\n      case 'Push':\n        addClass([this.element], [PUSH]);\n\n        if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n          sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n        }\n\n        break;\n\n      case 'Slide':\n        addClass([this.element], [SLIDE]);\n\n        if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n          sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n        }\n\n        break;\n\n      case 'Over':\n        addClass([this.element], [OVER]);\n\n        if (this.enableDock && (this.element.classList.contains(CLOSE) || this.isOpen)) {\n          if (sibling) {\n            sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = this.setDimension(this.dockSize);\n          }\n        }\n\n        break;\n\n      case 'Auto':\n        addClass([this.element], [TRASITION]);\n\n        if (Browser.isDevice) {\n          if (sibling && this.enableDock && !this.getState()) {\n            sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n            addClass([this.element], PUSH);\n          } else {\n            addClass([this.element], OVER);\n          }\n        } else {\n          addClass([this.element], PUSH);\n\n          if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n            sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n          }\n        }\n\n        this.createBackDrop();\n    }\n  };\n  /**\n   * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n   *\n   * @returns {void}\n   *\n   */\n\n\n  Sidebar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.target) {\n      removeClass([this.target], CONTEXT);\n    }\n\n    this.destroyBackDrop();\n\n    if (this.element) {\n      removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n      removeClass([this.element], SIDEBARABSOLUTE);\n      this.element.style.width = '';\n      this.element.style.zIndex = '';\n      this.element.style.transform = '';\n\n      if (!isNullOrUndefined(this.sidebarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n\n    this.windowWidth = null;\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n    if (!isNullOrUndefined(sibling)) {\n      sibling.style.margin = '';\n      sibling.style.transform = '';\n    }\n\n    this.unWireEvents();\n  };\n\n  __decorate$9([Property('auto')], Sidebar.prototype, \"dockSize\", void 0);\n\n  __decorate$9([Property(null)], Sidebar.prototype, \"mediaQuery\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"enableDock\", void 0);\n\n  __decorate$9([Property('en-US')], Sidebar.prototype, \"locale\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"enablePersistence\", void 0);\n\n  __decorate$9([Property(true)], Sidebar.prototype, \"enableGestures\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"isOpen\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"enableRtl\", void 0);\n\n  __decorate$9([Property(true)], Sidebar.prototype, \"animate\", void 0);\n\n  __decorate$9([Property('auto')], Sidebar.prototype, \"height\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n\n  __decorate$9([Property('Left')], Sidebar.prototype, \"position\", void 0);\n\n  __decorate$9([Property(null)], Sidebar.prototype, \"target\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"showBackdrop\", void 0);\n\n  __decorate$9([Property('Auto')], Sidebar.prototype, \"type\", void 0);\n\n  __decorate$9([Property('auto')], Sidebar.prototype, \"width\", void 0);\n\n  __decorate$9([Property(1000)], Sidebar.prototype, \"zIndex\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"created\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"close\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"open\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"change\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"destroyed\", void 0);\n\n  Sidebar = __decorate$9([NotifyPropertyChanges], Sidebar);\n  return Sidebar;\n}(Component);\n/**\n * Sidebar modules\n */\n\n\nvar __extends$10 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$10 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\n\nvar BreadcrumbItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$10(BreadcrumbItem, _super);\n\n  function BreadcrumbItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$10([Property('')], BreadcrumbItem.prototype, \"text\", void 0);\n\n  __decorate$10([Property('')], BreadcrumbItem.prototype, \"url\", void 0);\n\n  __decorate$10([Property(null)], BreadcrumbItem.prototype, \"iconCss\", void 0);\n\n  __decorate$10([Property(false)], BreadcrumbItem.prototype, \"disabled\", void 0);\n\n  return BreadcrumbItem;\n}(ChildProperty);\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\n\n\nvar Breadcrumb =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$10(Breadcrumb, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n   * @param {string | HTMLElement} element - Specifies the element.\n   */\n\n\n  function Breadcrumb(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.preRender = function () {// pre render code\n  };\n  /**\n   * Initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.render = function () {\n    this.initialize();\n    this.renderItems(this.items);\n    this.wireEvents();\n  };\n\n  Breadcrumb.prototype.initialize = function () {\n    this._maxItems = this.maxItems;\n    this.element.setAttribute('aria-label', 'breadcrumb');\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      this.element.classList.add('e-rtl');\n    }\n\n    if (this.disabled) {\n      this.element.classList.add(DISABLEDCLASS);\n      this.element.setAttribute(ARIADISABLED, 'true');\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      this.element.classList.add(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      this.element.classList.add(SCROLLMODECLASS);\n    }\n\n    this.initItems();\n    this.initPvtProps();\n  };\n\n  Breadcrumb.prototype.initPvtProps = function () {\n    if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n      this.endIndex = this.getEndIndex();\n      this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n    }\n\n    if (this.overflowMode === 'Menu') {\n      if (this._maxItems >= 0) {\n        this.startIndex = this._maxItems > 1 ? 1 : 0;\n        this.endIndex = this.getEndIndex();\n        this.popupUl = this.createElement('ul', {\n          attrs: {\n            TABINDEX: '0',\n            'role': 'menu'\n          }\n        });\n      } else {\n        this.startIndex = this.endIndex = null;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.getEndIndex = function () {\n    var _this = this;\n\n    var endIndex;\n\n    if (this.activeItem) {\n      this.items.forEach(function (item, idx) {\n        if (item.url === _this.activeItem || item.text === _this.activeItem) {\n          endIndex = idx;\n        }\n      });\n    } else {\n      endIndex = this.items.length - 1;\n    }\n\n    return endIndex;\n  };\n\n  Breadcrumb.prototype.initItems = function () {\n    if (!this.items.length) {\n      var baseUri = void 0;\n      var uri = void 0;\n      var items = [];\n\n      if (this.url) {\n        var url = new URL(this.url, window.location.origin);\n        baseUri = url.origin + '/';\n        uri = url.href.split(baseUri)[1].split('/');\n      } else {\n        baseUri = window.location.origin + '/';\n        uri = window.location.href.split(baseUri)[1].split('/');\n      }\n\n      items.push({\n        iconCss: 'e-icons e-home',\n        url: baseUri\n      });\n\n      for (var i = 0; i < uri.length; i++) {\n        if (uri[i]) {\n          items.push({\n            text: uri[i],\n            url: baseUri + uri[i]\n          });\n          baseUri += uri[i] + '/';\n        }\n      }\n\n      this.setProperties({\n        items: items\n      }, true);\n    }\n  };\n\n  Breadcrumb.prototype.renderItems = function (items) {\n    var _this = this;\n\n    var item;\n    var isSingleLevel;\n    var isIconRight = this.element.classList.contains(ICONRIGHT);\n    var itemsLength = items.length;\n\n    if (itemsLength) {\n      var isActiveItem = void 0;\n      var isLastItem = void 0;\n      var isLastItemInPopup_1;\n      var j_1 = 0;\n      var wrapDiv = void 0;\n      var len = itemsLength * 2 - 1;\n      var isItemCancelled_1 = false;\n      var ol = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : ''\n      });\n      var firstOl = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : ''\n      });\n      var showIcon = this.hasField(items, 'iconCss');\n      var isCollasped = this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded;\n      var isDefaultOverflowMode_1 = this.overflowMode === 'Hidden' && this._maxItems > 0;\n\n      if (this.overflowMode === 'Menu' && this.popupUl) {\n        this.popupUl.innerHTML = '';\n      }\n\n      var listBaseOptions = {\n        moduleName: this.getModuleName(),\n        showIcon: showIcon,\n        itemNavigable: true,\n        itemCreated: function (args) {\n          var isLastItem = args.curData.isLastItem;\n\n          if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n            delete args.curData.isLastItem;\n\n            if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n              args.item.innerHTML = _this.createElement('span', {\n                className: ITEMTEXTCLASS,\n                innerHTML: args.item.children[0].innerHTML\n              }).outerHTML;\n            }\n          }\n\n          if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n            args.item.classList.add('e-icon-item');\n          }\n\n          if (isDefaultOverflowMode_1) {\n            args.item.setAttribute('item-index', j_1.toString());\n          }\n\n          var eventArgs = {\n            item: extend({}, args.curData.properties ? args.curData.properties : args.curData),\n            element: args.item,\n            cancel: false\n          };\n\n          _this.trigger('beforeItemRender', eventArgs);\n\n          isItemCancelled_1 = eventArgs.cancel;\n          var containsRightIcon = isIconRight || eventArgs.element.classList.contains(ICONRIGHT);\n\n          if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n            args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n          }\n\n          if (eventArgs.item.disabled) {\n            args.item.setAttribute(ARIADISABLED, 'true');\n            args.item.classList.add(DISABLEDCLASS);\n          }\n\n          if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n            args.item.children[0].setAttribute(TABINDEX, '-1');\n          }\n\n          if (args.curData.isEmptyUrl) {\n            args.item.children[0].removeAttribute('href');\n\n            if ((!isLastItem || isLastItem && _this.enableActiveItemNavigation) && !(eventArgs.item.disabled || _this.disabled)) {\n              args.item.children[0].setAttribute(TABINDEX, '0');\n              EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n            }\n          }\n\n          if (isLastItem) {\n            args.item.setAttribute('data-active-item', '');\n          }\n\n          if (!_this.itemTemplate) {\n            _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n          }\n        }\n      };\n\n      for (var i = 0; i < len; i % 2 && j_1++, i++) {\n        isActiveItem = this.activeItem && (this.activeItem === items[j_1].url || this.activeItem === items[j_1].text);\n\n        if (isCollasped && i > 1 && i < len - 2) {\n          continue;\n        } else if (isDefaultOverflowMode_1 && (j_1 < this.startIndex || j_1 > this.endIndex) && (i % 2 ? j_1 !== this.startIndex - 1 : true) && j_1 !== 0) {\n          continue;\n        }\n\n        if (i % 2) {\n          // separator item\n          wrapDiv = this.createElement('div', {\n            className: 'e-breadcrumb-item-wrapper'\n          });\n          listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n          listBaseOptions.itemClass = 'e-breadcrumb-separator';\n          isSingleLevel = false;\n          item = [{\n            previousItem: items[j_1],\n            nextItem: items[j_1 + 1]\n          }];\n        } else {\n          // list item\n          listBaseOptions.itemClass = '';\n\n          if (this.itemTemplate) {\n            listBaseOptions.template = this.itemTemplate;\n            isSingleLevel = false;\n          } else {\n            isSingleLevel = true;\n          }\n\n          item = [extend({}, items[j_1].properties ? items[j_1].properties : items[j_1])];\n\n          if (!item[0].url && !this.itemTemplate) {\n            item = [extend({}, item[0], {\n              isEmptyUrl: true,\n              url: '#'\n            })];\n          }\n\n          isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && j_1 === this.endIndex;\n\n          if ((i === len - 1 || isLastItem) && !this.itemTemplate || isActiveItem) {\n            item[0].isLastItem = true;\n          }\n        }\n\n        var parent_1 = ol;\n        var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n\n        if (this.overflowMode === 'Menu' && (j_1 >= this.startIndex && j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true) && this.endIndex >= this._maxItems && this._maxItems > 0 || this._maxItems === 0)) {\n          if (i % 2) {\n            continue;\n          } else {\n            parent_1 = this.popupUl;\n\n            if (isLastItem) {\n              isLastItemInPopup_1 = true;\n            }\n          }\n        } else if (this.overflowMode === 'Wrap') {\n          if (i === 0) {\n            parent_1 = firstOl;\n          } else {\n            parent_1 = wrapDiv;\n          }\n        }\n\n        var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n\n        if (!isItemCancelled_1) {\n          append(li, parent_1);\n        } else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n          items.splice(j_1, 1);\n          this.initPvtProps();\n          return this.reRenderItems();\n        } else if (i === len - 1 || isLastItem) {\n          remove(parent_1.lastElementChild);\n        }\n\n        if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n          ol.appendChild(wrapDiv);\n        }\n\n        if (isCollasped && i === 1) {\n          var li_1 = this.createElement('li', {\n            className: 'e-icons e-breadcrumb-collapsed',\n            attrs: {\n              TABINDEX: '0'\n            }\n          });\n          EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n          ol.appendChild(li_1);\n        }\n\n        if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n          var menu = this.getMenuElement();\n          EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n          ol.appendChild(menu);\n        }\n\n        if (isActiveItem || isLastItem) {\n          break;\n        }\n\n        if (isItemCancelled_1) {\n          i++;\n        }\n      }\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      if (this.overflowMode === 'Wrap') {\n        this.element.appendChild(firstOl);\n      }\n\n      this.element.appendChild(ol);\n      this.calculateMaxItems();\n    }\n  };\n\n  Breadcrumb.prototype.calculateMaxItems = function () {\n    if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n      var maxItems = void 0;\n      var width = this.element.offsetWidth;\n      var liElems = [].slice.call(this.element.children[0].children).reverse();\n      var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n\n      if (this.overflowMode === 'Menu') {\n        var menuEle = this.getMenuElement();\n        this.element.appendChild(menuEle);\n        liWidth += menuEle.offsetWidth;\n        remove(menuEle);\n      }\n\n      for (var i = 0; i < liElems.length - 2; i++) {\n        if (liWidth > width) {\n          maxItems = Math.ceil((i - 1) / 2) + (this.overflowMode === 'Menu' && i <= 2 ? 0 : 1);\n\n          if ((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems == -1) || this.maxItems == -1) && this._maxItems != maxItems) {\n            this._maxItems = maxItems;\n            this.initPvtProps();\n            return this.reRenderItems();\n          } else {\n            break;\n          }\n        } else {\n          if (this.overflowMode === 'Menu' && i === 2) {\n            liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n\n            if (liWidth > width) {\n              this._maxItems = 1;\n              this.initPvtProps();\n              return this.reRenderItems();\n            }\n          }\n\n          if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n            liWidth += liElems[i].offsetWidth;\n          }\n        }\n      }\n    } else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n      var width = 0;\n      var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n\n      if (liElems.length > this._maxItems + this._maxItems - 1) {\n        for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n          width += liElems[i].offsetWidth;\n        }\n\n        width = width + 5 + parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2;\n\n        if (this.overflowMode === 'Wrap') {\n          this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n        } else {\n          this.element.style.width = width + 'px';\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.hasField = function (items, field) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      if (items[i][field]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Breadcrumb.prototype.getMenuElement = function () {\n    return this.createElement('li', {\n      className: 'e-icons e-breadcrumb-menu',\n      attrs: {\n        TABINDEX: '0'\n      }\n    });\n  };\n\n  Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n    var wrapElem = elem.querySelector('.e-anchor-wrap');\n\n    if (currItem.text !== prevItem.text) {\n      wrapElem.childNodes.forEach(function (child) {\n        if (child.nodeType === Node.TEXT_NODE) {\n          child.textContent = currItem.text;\n        }\n      });\n    }\n\n    if (currItem.iconCss !== prevItem.iconCss && wrapElem) {\n      // wrapElem - for checking it is item not a separator\n      var iconElem = elem.querySelector(DOT + ICONCLASS);\n\n      if (iconElem) {\n        if (currItem.iconCss) {\n          removeClass([iconElem], prevItem.iconCss.split(' '));\n          addClass([iconElem], currItem.iconCss.split(' '));\n        } else {\n          remove(iconElem);\n        }\n      } else if (currItem.iconCss) {\n        var iconElem_1 = this.createElement('span', {\n          className: ICONCLASS + ' ' + currItem.iconCss\n        });\n\n        if (isRightIcon) {\n          append([iconElem_1], wrapElem);\n        } else {\n          wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n        }\n      }\n    }\n\n    if (currItem.url !== prevItem.url && this.enableNavigation) {\n      var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n\n      if (anchor) {\n        if (currItem.url) {\n          anchor.setAttribute('href', currItem.url);\n        } else {\n          anchor.removeAttribute('href');\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.reRenderItems = function () {\n    this.element.innerHTML = '';\n    this.renderItems(this.items);\n  };\n\n  Breadcrumb.prototype.clickHandler = function (e) {\n    var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n\n    if (!this.enableNavigation) {\n      e.preventDefault();\n    }\n\n    if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n      var idx = void 0;\n\n      if (this.overflowMode === 'Wrap') {\n        idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n      } else {\n        idx = [].slice.call(li.parentElement.children).indexOf(li);\n      }\n\n      if (this.overflowMode === 'Menu') {\n        if (closest(e.target, DOT + POPUPCLASS)) {\n          idx += this.startIndex;\n          this.endIndex = idx;\n\n          if (e.type === 'keydown') {\n            this.documentClickHandler(e);\n          }\n        } else if (this.element.querySelector(DOT + MENUCLASS)) {\n          if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n            idx += this.popupUl.childElementCount * 2 - 2;\n            idx = Math.floor(idx / 2);\n            this.endIndex = idx;\n          } else {\n            this.startIndex = this.endIndex = idx;\n          }\n        } else {\n          idx = Math.floor(idx / 2);\n          this.startIndex = this.endIndex = idx;\n        }\n      } else {\n        idx = Math.floor(idx / 2);\n      }\n\n      if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n        idx = parseInt(li.getAttribute('item-index'), 10);\n\n        if (this.startIndex > 1) {\n          this.startIndex -= this.endIndex - idx;\n        }\n\n        this.endIndex = idx;\n      }\n\n      this.trigger('itemClick', {\n        element: li,\n        item: this.items[idx],\n        event: e\n      });\n      this.activeItem = this.items[idx].url || this.items[idx].text;\n      this.dataBind();\n    }\n\n    if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n\n    if (e.target.classList.contains(MENUCLASS)) {\n      this.renderPopup();\n    }\n  };\n\n  Breadcrumb.prototype.renderPopup = function () {\n    var _this = this;\n\n    var wrapper = this.createElement('div', {\n      className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '')\n    });\n    document.body.appendChild(wrapper);\n    this.popupObj = new Popup(wrapper, {\n      content: this.popupUl,\n      relateTo: this.element.querySelector(DOT + MENUCLASS),\n      enableRtl: this.enableRtl,\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: {\n        X: 'fit',\n        Y: 'flip'\n      },\n      open: function () {\n        _this.popupUl.focus();\n      }\n    });\n    this.popupWireEvents();\n    this.popupObj.show();\n  };\n\n  Breadcrumb.prototype.documentClickHandler = function (e) {\n    if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n      this.popupObj.hide();\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n  };\n\n  Breadcrumb.prototype.resize = function () {\n    this._maxItems = this.maxItems;\n    this.initPvtProps();\n    this.reRenderItems();\n  };\n\n  Breadcrumb.prototype.expandHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n  };\n\n  Breadcrumb.prototype.keyDownHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.clickHandler(e);\n    }\n  };\n\n  Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n    if (e.key === 'Escape') {\n      this.documentClickHandler(e);\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {BreadcrumbModel} newProp - Specifies the new properties.\n   * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n        case 'enableActiveItemNavigation':\n          this.reRenderItems();\n          break;\n\n        case 'activeItem':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n          break;\n\n        case 'overflowMode':\n        case 'maxItems':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n\n          if (oldProp.overflowMode === 'Wrap') {\n            this.element.classList.remove(WRAPMODECLASS);\n          } else if (newProp.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n          }\n\n          if (oldProp.overflowMode === 'Scroll') {\n            this.element.classList.remove(SCROLLMODECLASS);\n          } else if (newProp.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n          }\n\n          break;\n\n        case 'url':\n          this.initItems();\n          this.reRenderItems();\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.split(' '));\n          }\n\n          if (oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1 && !(newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) {\n            this.reRenderItems();\n          }\n\n          break;\n\n        case 'enableRtl':\n          this.element.classList.toggle('e-rtl');\n          break;\n\n        case 'disabled':\n          this.element.classList.toggle(DISABLEDCLASS);\n          this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n          break;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.wireEvents = function () {\n    this.delegateClickHanlder = this.documentClickHandler.bind(this);\n    EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n    window.addEventListener('resize', this.resize.bind(this));\n  };\n\n  Breadcrumb.prototype.popupWireEvents = function () {\n    EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n    EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n  };\n\n  Breadcrumb.prototype.unWireEvents = function () {\n    EventHandler.remove(document, 'click', this.delegateClickHanlder);\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n    window.removeEventListener('resize', this.resize.bind(this));\n\n    if (this.popupObj) {\n      EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n      EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n\n\n  Breadcrumb.prototype.getPersistData = function () {\n    return this.addOnPersist(['activeItem']);\n  };\n  /**\n   * Get module name.\n   *\n   * @private\n   * @returns {string} - Module Name\n   */\n\n\n  Breadcrumb.prototype.getModuleName = function () {\n    return 'breadcrumb';\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.destroy = function () {\n    var _this = this;\n\n    var classes = [];\n    var attributes$$1 = ['aria-label'];\n\n    if (this.cssClass) {\n      classes.concat(this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      classes.push('e-rtl');\n    }\n\n    if (this.disabled) {\n      classes.push(DISABLEDCLASS);\n      attributes$$1.push(ARIADISABLED);\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      classes.push(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      classes.push(SCROLLMODECLASS);\n    }\n\n    this.unWireEvents();\n    this.element.innerHTML = '';\n    removeClass([this.element], classes);\n    attributes$$1.forEach(function (attribute) {\n      _this.element.removeAttribute(attribute);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"url\", void 0);\n\n  __decorate$10([Collection([], BreadcrumbItem)], Breadcrumb.prototype, \"items\", void 0);\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"activeItem\", void 0);\n\n  __decorate$10([Property(-1)], Breadcrumb.prototype, \"maxItems\", void 0);\n\n  __decorate$10([Property('Menu')], Breadcrumb.prototype, \"overflowMode\", void 0);\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"cssClass\", void 0);\n\n  __decorate$10([Property(null)], Breadcrumb.prototype, \"itemTemplate\", void 0);\n\n  __decorate$10([Property('/')], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n\n  __decorate$10([Property(true)], Breadcrumb.prototype, \"enableNavigation\", void 0);\n\n  __decorate$10([Property(false)], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n\n  __decorate$10([Property(false)], Breadcrumb.prototype, \"disabled\", void 0);\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"locale\", void 0);\n\n  __decorate$10([Event()], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n\n  __decorate$10([Event()], Breadcrumb.prototype, \"itemClick\", void 0);\n\n  __decorate$10([Event()], Breadcrumb.prototype, \"created\", void 0);\n\n  Breadcrumb = __decorate$10([NotifyPropertyChanges], Breadcrumb);\n  return Breadcrumb;\n}(Component);\n/**\n * Breadcrumb modules\n */\n\n\nvar __extends$11 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$11 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Constant variables\n\n\nvar CLS_CAROUSEL = 'e-carousel';\nvar CLS_ACTIVE$2 = 'e-active';\nvar CLS_RTL$5 = 'e-rtl';\nvar CLS_PARTIAL = 'e-partial';\nvar CLS_SLIDE_CONTAINER = 'e-carousel-slide-container';\nvar CLS_ITEMS$2 = 'e-carousel-items';\nvar CLS_CLONED = 'e-cloned';\nvar CLS_ITEM$3 = 'e-carousel-item';\nvar CLS_PREVIOUS = 'e-previous';\nvar CLS_NEXT = 'e-next';\nvar CLS_PREV_ICON = 'e-previous-icon';\nvar CLS_NEXT_ICON = 'e-next-icon';\nvar CLS_NAVIGATORS = 'e-carousel-navigators';\nvar CLS_INDICATORS = 'e-carousel-indicators';\nvar CLS_INDICATOR_BARS = 'e-indicator-bars';\nvar CLS_INDICATOR_BAR = 'e-indicator-bar';\nvar CLS_INDICATOR$1 = 'e-indicator';\nvar CLS_ICON$1 = 'e-icons';\nvar CLS_PLAY_PAUSE = 'e-play-pause';\nvar CLS_PLAY_ICON = 'e-play-icon';\nvar CLS_PAUSE_ICON = 'e-pause-icon';\nvar CLS_PREV_BUTTON = 'e-previous-button';\nvar CLS_NEXT_BUTTON = 'e-next-button';\nvar CLS_PLAY_BUTTON = 'e-play-button';\nvar CLS_FLAT = 'e-flat';\nvar CLS_ROUND = 'e-round';\nvar CLS_HOVER_ARROWS = 'e-hover-arrows';\nvar CLS_HOVER = 'e-carousel-hover';\nvar CLS_TEMPLATE$2 = 'e-template';\nvar CLS_SLIDE_ANIMATION = 'e-carousel-slide-animation';\nvar CLS_FADE_ANIMATION = 'e-carousel-fade-animation';\nvar CLS_CUSTOM_ANIMATION = 'e-carousel-custom-animation';\nvar CLS_ANIMATION_NONE = 'e-carousel-animation-none';\nvar CLS_PREV_SLIDE = 'e-prev';\nvar CLS_NEXT_SLIDE = 'e-next';\nvar CLS_TRANSITION_START = 'e-transition-start';\nvar CLS_TRANSITION_END = 'e-transition-end';\n/** Specifies the carousel individual item. */\n\nvar CarouselItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$11(CarouselItem, _super);\n\n  function CarouselItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$11([Property()], CarouselItem.prototype, \"cssClass\", void 0);\n\n  __decorate$11([Property()], CarouselItem.prototype, \"interval\", void 0);\n\n  __decorate$11([Property()], CarouselItem.prototype, \"template\", void 0);\n\n  __decorate$11([Property()], CarouselItem.prototype, \"htmlAttributes\", void 0);\n\n  return CarouselItem;\n}(ChildProperty);\n\nvar Carousel =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$11(Carousel, _super);\n  /**\n   * Constructor for creating the Carousel widget\n   *\n   * @param {CarouselModel} options Accepts the carousel model properties to initiate the rendering\n   * @param {string | HTMLElement} element Accepts the DOM element reference\n   */\n\n\n  function Carousel(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n\n  Carousel.prototype.getModuleName = function () {\n    return CLS_CAROUSEL.replace('e-', '');\n  };\n\n  Carousel.prototype.getPersistData = function () {\n    return this.addOnPersist(['selectedIndex']);\n  };\n\n  Carousel.prototype.preRender = function () {\n    this.keyConfigs = {\n      home: 'home',\n      end: 'end',\n      space: 'space',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    var defaultLocale = {\n      nextSlide: 'Next slide',\n      of: 'of',\n      pauseSlideTransition: 'Pause slide transition',\n      playSlideTransition: 'Play slide transition',\n      previousSlide: 'Previous slide',\n      slide: 'Slide',\n      slideShow: 'Slide show'\n    };\n    this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n  };\n\n  Carousel.prototype.render = function () {\n    this.initialize();\n    this.renderSlides();\n    this.renderNavigators();\n    this.renderPlayButton();\n    this.renderIndicators();\n    this.applyAnimation();\n    this.wireEvents();\n  };\n\n  Carousel.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var target;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'animationEffect':\n          this.applyAnimation();\n          break;\n\n        case 'cssClass':\n          classList(this.element, [newProp.cssClass], [oldProp.cssClass]);\n          break;\n\n        case 'selectedIndex':\n          this.setActiveSlide(this.selectedIndex, oldProp.selectedIndex > this.selectedIndex ? 'Previous' : 'Next');\n          this.autoSlide();\n          break;\n\n        case 'htmlAttributes':\n          if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n          }\n\n          break;\n\n        case 'enableTouchSwipe':\n          if (!this.enableTouchSwipe && this.touchModule) {\n            this.touchModule.destroy();\n          }\n\n          if (this.element.querySelector(\".\" + CLS_ITEMS$2)) {\n            this.renderTouchActions();\n          }\n\n          break;\n\n        case 'loop':\n          if (this.loop && isNullOrUndefined(this.autoSlideInterval)) {\n            this.applySlideInterval();\n          }\n\n          this.handleNavigatorsActions(this.selectedIndex);\n\n          if (this.partialVisible) {\n            this.reRenderSlides();\n          }\n\n          break;\n\n        case 'enableRtl':\n          if (this.enableRtl) {\n            addClass([this.element], CLS_RTL$5);\n          } else {\n            removeClass([this.element], CLS_RTL$5);\n          }\n\n          break;\n\n        case 'buttonsVisibility':\n          target = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n\n          if (target) {\n            switch (this.buttonsVisibility) {\n              case 'Hidden':\n                this.resetTemplates(['previousButtonTemplate', 'nextButtonTemplate']);\n                remove(target);\n                break;\n\n              case 'VisibleOnHover':\n                addClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                break;\n\n              case 'Visible':\n                removeClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                break;\n            }\n          } else {\n            this.renderNavigators();\n            this.renderPlayButton();\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(this.width)\n          });\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(this.height)\n          });\n          break;\n\n        case 'autoPlay':\n          if (this.showPlayButton && isNullOrUndefined(this.playButtonTemplate)) {\n            this.playButtonClickHandler(null, true);\n          }\n\n          this.autoSlide();\n          break;\n\n        case 'interval':\n          this.autoSlide();\n          break;\n\n        case 'showIndicators':\n          target = this.element.querySelector(\".\" + CLS_INDICATORS);\n\n          if (!this.showIndicators && target) {\n            this.resetTemplates(['indicatorsTemplate']);\n            remove(target);\n          }\n\n          this.renderIndicators();\n          break;\n\n        case 'showPlayButton':\n          target = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n\n          if (!this.showPlayButton && target) {\n            remove(target);\n            this.resetTemplates(['playButtonTemplate']);\n          }\n\n          this.renderPlayButton();\n          break;\n\n        case 'items':\n        case 'dataSource':\n          this.reRenderSlides();\n          break;\n\n        case 'partialVisible':\n          if (this.partialVisible) {\n            addClass([this.element], CLS_PARTIAL);\n          } else {\n            removeClass([this.element], CLS_PARTIAL);\n          }\n\n          this.reRenderSlides();\n          break;\n      }\n    }\n  };\n\n  Carousel.prototype.reRenderSlides = function () {\n    var target = this.element.querySelector(\".\" + CLS_ITEMS$2);\n\n    if (target) {\n      this.resetTemplates(['itemTemplate']);\n      remove(target);\n    }\n\n    this.renderSlides();\n  };\n\n  Carousel.prototype.initialize = function () {\n    var carouselClasses = [];\n\n    if (this.cssClass) {\n      carouselClasses.push(this.cssClass);\n    }\n\n    if (this.enableRtl) {\n      carouselClasses.push(CLS_RTL$5);\n    }\n\n    if (this.partialVisible) {\n      carouselClasses.push(CLS_PARTIAL);\n    }\n\n    addClass([this.element], carouselClasses);\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    attributes(this.element, {\n      'tabindex': '0',\n      'aria-roledescription': 'carousel',\n      'aria-label': this.localeObj.getConstant('slideShow')\n    });\n\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      this.setHtmlAttributes(this.htmlAttributes, this.element);\n    }\n  };\n\n  Carousel.prototype.renderSlides = function () {\n    var _this = this;\n\n    var slideContainer = this.element.querySelector('.' + CLS_SLIDE_CONTAINER);\n\n    if (!slideContainer) {\n      slideContainer = this.createElement('div', {\n        className: CLS_SLIDE_CONTAINER\n      });\n      this.element.appendChild(slideContainer);\n    }\n\n    var itemsContainer = this.createElement('div', {\n      className: CLS_ITEMS$2,\n      attrs: {\n        'aria-live': this.autoPlay ? 'off' : 'polite'\n      }\n    });\n    slideContainer.appendChild(itemsContainer);\n\n    if (this.partialVisible && this.loop) {\n      if (this.items.length > 0) {\n        this.items.slice(-2).forEach(function (item, index) {\n          _this.renderSlide(item, item.template, index, itemsContainer, true);\n        });\n      } else if (this.dataSource.length > 0) {\n        this.dataSource.slice(-2).forEach(function (item, index) {\n          _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n        });\n      }\n    }\n\n    if (this.items.length > 0) {\n      this.slideItems = this.items;\n      this.items.forEach(function (item, index) {\n        _this.renderSlide(item, item.template, index, itemsContainer);\n      });\n    } else if (this.dataSource.length > 0) {\n      this.slideItems = this.dataSource;\n      this.dataSource.forEach(function (item, index) {\n        _this.renderSlide(item, _this.itemTemplate, index, itemsContainer);\n      });\n    }\n\n    if (this.partialVisible && this.loop) {\n      if (this.items.length > 0) {\n        this.items.slice(0, 2).forEach(function (item, index) {\n          _this.renderSlide(item, item.template, index, itemsContainer, true);\n        });\n      } else if (this.dataSource.length > 0) {\n        this.dataSource.slice(0, 2).forEach(function (item, index) {\n          _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n        });\n      }\n    }\n\n    this.renderTemplates();\n\n    if (this.partialVisible) {\n      itemsContainer.style.setProperty('--carousel-items-count', \"\" + itemsContainer.children.length);\n      var slideWidth = itemsContainer.firstElementChild.clientWidth;\n      var cloneCount = this.loop ? 2 : 0;\n      itemsContainer.style.transitionProperty = 'none';\n      itemsContainer.style.transform = \"translateX(\" + -slideWidth * (this.selectedIndex + cloneCount) + \"px)\";\n    }\n\n    this.autoSlide();\n    this.renderTouchActions();\n    this.renderKeyboardActions();\n  };\n\n  Carousel.prototype.renderSlide = function (item, itemTemplate, index, container, isClone) {\n    if (isClone === void 0) {\n      isClone = false;\n    }\n\n    var itemEle = this.createElement('div', {\n      id: getUniqueID('carousel_item'),\n      className: CLS_ITEM$3 + \" \" + (item.cssClass ? item.cssClass : '') + \" \" + (this.selectedIndex === index && !isClone ? CLS_ACTIVE$2 : ''),\n      attrs: {\n        'aria-hidden': this.selectedIndex === index && !isClone ? 'false' : 'true',\n        'data-index': index.toString(),\n        'aria-role': 'group',\n        'aria-roledescription': 'slide'\n      }\n    });\n\n    if (isClone) {\n      itemEle.classList.add(CLS_CLONED);\n    }\n\n    if (!isNullOrUndefined(item.htmlAttributes)) {\n      this.setHtmlAttributes(item.htmlAttributes, itemEle);\n    }\n\n    var templateId = this.element.id + '_template';\n    var template = this.templateParser(itemTemplate)(item, this, 'itemTemplate', templateId, false);\n    append(template, itemEle);\n    container.appendChild(itemEle);\n  };\n\n  Carousel.prototype.renderNavigators = function () {\n    if (this.buttonsVisibility === 'Hidden') {\n      return;\n    }\n\n    var navigators = this.createElement('div', {\n      className: CLS_NAVIGATORS\n    });\n    var itemsContainer = this.element.querySelector(\".\" + CLS_SLIDE_CONTAINER);\n    itemsContainer.insertAdjacentElement('afterend', navigators);\n    this.renderNavigatorButton('Previous');\n    this.renderNavigatorButton('Next');\n    this.renderTemplates();\n  };\n\n  Carousel.prototype.renderNavigatorButton = function (direction) {\n    var buttonContainer = this.createElement('div', {\n      className: (direction === 'Previous' ? CLS_PREVIOUS : CLS_NEXT) + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n    });\n\n    if (direction === 'Previous' && this.previousButtonTemplate) {\n      addClass([buttonContainer], CLS_TEMPLATE$2);\n      var templateId = this.element.id + '_previousButtonTemplate';\n      var template = this.templateParser(this.previousButtonTemplate)({\n        type: 'Previous'\n      }, this, 'previousButtonTemplate', templateId, false);\n      append(template, buttonContainer);\n    } else if (direction === 'Next' && this.nextButtonTemplate) {\n      addClass([buttonContainer], CLS_TEMPLATE$2);\n      var templateId = this.element.id + '_nextButtonTemplate';\n      var template = this.templateParser(this.nextButtonTemplate)({\n        type: 'Next'\n      }, this, 'nextButtonTemplate', templateId, false);\n      append(template, buttonContainer);\n    } else {\n      var button = this.createElement('button', {\n        attrs: {\n          'aria-label': this.localeObj.getConstant(direction === 'Previous' ? 'previousSlide' : 'nextSlide')\n        }\n      });\n      var buttonObj = new Button({\n        cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + (direction === 'Previous' ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON),\n        iconCss: CLS_ICON$1 + ' ' + (direction === 'Previous' ? CLS_PREV_ICON : CLS_NEXT_ICON),\n        enableRtl: this.enableRtl,\n        disabled: !this.loop && this.selectedIndex === (direction === 'Previous' ? 0 : this.slideItems.length - 1)\n      });\n      buttonObj.appendTo(button);\n      buttonContainer.appendChild(button);\n    }\n\n    this.element.querySelector('.' + CLS_NAVIGATORS).appendChild(buttonContainer);\n    EventHandler.add(buttonContainer, 'click', this.navigatorClickHandler, this);\n  };\n\n  Carousel.prototype.renderPlayButton = function () {\n    if (this.buttonsVisibility === 'Hidden' || !this.showPlayButton) {\n      return;\n    }\n\n    var playPauseWrap = this.createElement('div', {\n      className: CLS_PLAY_PAUSE + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n    });\n\n    if (this.playButtonTemplate) {\n      addClass([playPauseWrap], CLS_TEMPLATE$2);\n      var templateId = this.element.id + '_playButtonTemplate';\n      var template = this.templateParser(this.playButtonTemplate)({}, this, 'playButtonTemplate', templateId, false);\n      append(template, playPauseWrap);\n    } else {\n      var playButton = this.createElement('button', {\n        attrs: {\n          'aria-label': this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition')\n        }\n      });\n      var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n      var buttonObj = new Button({\n        cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + CLS_PLAY_BUTTON,\n        iconCss: CLS_ICON$1 + ' ' + (this.autoPlay && !isLastSlide ? CLS_PAUSE_ICON : CLS_PLAY_ICON),\n        isToggle: true,\n        enableRtl: this.enableRtl\n      });\n\n      if (isLastSlide) {\n        this.setProperties({\n          autoPlay: false\n        }, true);\n        playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', 'polite');\n      }\n\n      buttonObj.appendTo(playButton);\n      playPauseWrap.appendChild(playButton);\n    }\n\n    var navigators = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n    navigators.insertBefore(playPauseWrap, navigators.lastElementChild);\n    this.renderTemplates();\n    EventHandler.add(playPauseWrap, 'click', this.playButtonClickHandler, this);\n  };\n\n  Carousel.prototype.renderIndicators = function () {\n    var _this = this;\n\n    if (!this.showIndicators) {\n      return;\n    }\n\n    var indicatorWrap = this.createElement('div', {\n      className: CLS_INDICATORS\n    });\n    var indicatorBars = this.createElement('div', {\n      className: CLS_INDICATOR_BARS\n    });\n    indicatorWrap.appendChild(indicatorBars);\n\n    if (this.slideItems) {\n      this.slideItems.forEach(function (item, index) {\n        var indicatorBar = _this.createElement('div', {\n          className: CLS_INDICATOR_BAR + ' ' + (_this.selectedIndex === index ? CLS_ACTIVE$2 : ''),\n          attrs: {\n            'data-index': index.toString(),\n            'aria-current': _this.selectedIndex === index ? 'true' : 'false'\n          }\n        });\n\n        if (_this.indicatorsTemplate) {\n          addClass([indicatorBar], CLS_TEMPLATE$2);\n          var templateId = _this.element.id + '_indicatorsTemplate';\n\n          var template = _this.templateParser(_this.indicatorsTemplate)({\n            index: index,\n            selectedIndex: _this.selectedIndex\n          }, _this, 'indicatorsTemplate', templateId, false);\n\n          append(template, indicatorBar);\n        } else {\n          var indicator = _this.createElement('button', {\n            className: CLS_INDICATOR$1\n          });\n\n          indicatorBar.appendChild(indicator);\n          indicator.appendChild(_this.createElement('div', {\n            attrs: {\n              'aria-label': _this.localeObj.getConstant('slide') + ' ' + (index + 1) + ' ' + _this.localeObj.getConstant('of') + ' ' + _this.slideItems.length\n            }\n          }));\n          var buttonObj = new Button({\n            cssClass: 'e-flat e-small'\n          });\n          buttonObj.appendTo(indicator);\n        }\n\n        indicatorBars.appendChild(indicatorBar);\n        EventHandler.add(indicatorBar, 'click', _this.indicatorClickHandler, _this);\n      });\n    }\n\n    this.element.appendChild(indicatorWrap);\n  };\n\n  Carousel.prototype.renderKeyboardActions = function () {\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n  };\n\n  Carousel.prototype.renderTouchActions = function () {\n    if (!this.enableTouchSwipe) {\n      return;\n    }\n\n    this.touchModule = new Touch(this.element, {\n      swipe: this.swipeHandler.bind(this)\n    });\n  };\n\n  Carousel.prototype.applyAnimation = function () {\n    removeClass([this.element], [CLS_CUSTOM_ANIMATION, CLS_FADE_ANIMATION, CLS_SLIDE_ANIMATION, CLS_ANIMATION_NONE]);\n\n    switch (this.animationEffect) {\n      case 'Slide':\n        addClass([this.element], CLS_SLIDE_ANIMATION);\n        break;\n\n      case 'Fade':\n        addClass([this.element], CLS_FADE_ANIMATION);\n        break;\n\n      case 'None':\n        addClass([this.element], CLS_ANIMATION_NONE);\n        break;\n\n      case 'Custom':\n        addClass([this.element], CLS_CUSTOM_ANIMATION);\n        break;\n    }\n  };\n\n  Carousel.prototype.autoSlide = function () {\n    this.resetSlideInterval();\n    this.applySlideInterval();\n  };\n\n  Carousel.prototype.autoSlideChange = function () {\n    var activeSlide = this.element.querySelector(\".\" + CLS_ACTIVE$2);\n\n    if (isNullOrUndefined(activeSlide)) {\n      return;\n    }\n\n    var activeIndex = parseInt(activeSlide.dataset.index, 10);\n\n    if (!this.loop && activeIndex === this.slideItems.length - 1) {\n      this.resetSlideInterval();\n    } else {\n      var index = (activeIndex + 1) % this.slideItems.length;\n\n      if (!this.element.classList.contains(CLS_HOVER)) {\n        this.setActiveSlide(index, 'Next');\n      }\n\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.applySlideInterval = function () {\n    var _this = this;\n\n    if (!this.autoPlay || this.element.classList.contains(CLS_HOVER)) {\n      return;\n    }\n\n    var itemInterval = this.interval;\n\n    if (this.items.length > 0 && !isNullOrUndefined(this.items[this.selectedIndex].interval)) {\n      itemInterval = this.items[this.selectedIndex].interval;\n    }\n\n    this.autoSlideInterval = setInterval(function () {\n      return _this.autoSlideChange();\n    }, itemInterval);\n  };\n\n  Carousel.prototype.resetSlideInterval = function () {\n    clearInterval(this.autoSlideInterval);\n    this.autoSlideInterval = null;\n  };\n\n  Carousel.prototype.getSlideIndex = function (direction) {\n    var currentIndex = this.selectedIndex;\n\n    if (direction === 'Previous') {\n      currentIndex--;\n\n      if (currentIndex < 0) {\n        currentIndex = this.slideItems.length - 1;\n      }\n    } else {\n      currentIndex++;\n\n      if (currentIndex === this.slideItems.length) {\n        currentIndex = 0;\n      }\n    }\n\n    return currentIndex;\n  };\n\n  Carousel.prototype.setActiveSlide = function (currentIndex, direction, isSwiped) {\n    var _this = this;\n\n    if (isSwiped === void 0) {\n      isSwiped = false;\n    }\n\n    if (this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \".\" + CLS_PREV_SLIDE + \",.\" + CLS_ITEM$3 + \".\" + CLS_NEXT_SLIDE).length > 0) {\n      return;\n    }\n\n    var allSlides = [].slice.call(this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \":not(.e-cloned)\"));\n    var activeSlide = this.element.querySelector(\".\" + CLS_ITEM$3 + \".\" + CLS_ACTIVE$2);\n\n    if (isNullOrUndefined(activeSlide) && this.showIndicators) {\n      var activeIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BAR + \".\" + CLS_ACTIVE$2);\n      var activeIndex_1 = parseInt(activeIndicator.dataset.index, 10);\n      addClass([allSlides[activeIndex_1]], CLS_ACTIVE$2);\n      return;\n    } else if (isNullOrUndefined(activeSlide)) {\n      addClass([allSlides[currentIndex]], CLS_ACTIVE$2);\n      return;\n    }\n\n    var activeIndex = parseInt(activeSlide.dataset.index, 10);\n    var currentSlide = allSlides[currentIndex];\n    var eventArgs = {\n      currentIndex: activeIndex,\n      nextIndex: currentIndex,\n      currentSlide: activeSlide,\n      nextSlide: currentSlide,\n      slideDirection: direction,\n      isSwiped: isSwiped,\n      cancel: false\n    };\n    this.trigger('slideChanging', eventArgs, function (args) {\n      if (args.cancel) {\n        return;\n      }\n\n      _this.setProperties({\n        selectedIndex: currentIndex\n      }, true);\n\n      attributes(args.currentSlide, {\n        'aria-hidden': 'true'\n      });\n      attributes(args.nextSlide, {\n        'aria-hidden': 'false'\n      });\n      var slideIndicators = [].slice.call(_this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n\n      if (slideIndicators.length > 0) {\n        attributes(slideIndicators[activeIndex], {\n          'aria-current': 'false'\n        });\n        attributes(slideIndicators[currentIndex], {\n          'aria-current': 'true'\n        });\n        removeClass(slideIndicators, CLS_ACTIVE$2);\n        addClass([slideIndicators[currentIndex]], CLS_ACTIVE$2);\n      }\n\n      _this.slideChangedEventArgs = {\n        currentIndex: args.nextIndex,\n        previousIndex: args.currentIndex,\n        currentSlide: args.nextSlide,\n        previousSlide: args.currentSlide,\n        slideDirection: direction,\n        isSwiped: isSwiped\n      };\n\n      if (_this.partialVisible) {\n        var container = _this.element.querySelector('.' + CLS_ITEMS$2);\n\n        var slideWidth = allSlides[currentIndex].clientWidth;\n        container.style.transitionProperty = 'transform';\n\n        if (_this.loop) {\n          if (_this.slideChangedEventArgs.currentIndex === 0 && _this.slideChangedEventArgs.slideDirection === 'Next') {\n            container.style.transform = \"translateX(\" + -slideWidth * (allSlides.length + 2) + \"px)\";\n          } else if (_this.slideChangedEventArgs.currentIndex === _this.slideItems.length - 1 && _this.slideChangedEventArgs.slideDirection === 'Previous') {\n            container.style.transform = \"translateX(\" + -slideWidth + \"px)\";\n          } else {\n            container.style.transform = \"translateX(\" + -slideWidth * (currentIndex + 2) + \"px)\";\n          }\n        } else {\n          container.style.transform = \"translateX(\" + -slideWidth * currentIndex + \"px)\";\n        }\n      }\n\n      var slideHeight;\n\n      if (_this.animationEffect === 'Slide') {\n        if (direction === 'Previous') {\n          addClass([args.nextSlide], CLS_PREV_SLIDE);\n          slideHeight = args.nextSlide.offsetHeight;\n          addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_END);\n        } else {\n          addClass([args.nextSlide], CLS_NEXT_SLIDE); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n          slideHeight = args.nextSlide.offsetHeight;\n          addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_START);\n        }\n      } else if (_this.animationEffect === 'Fade') {\n        removeClass([args.currentSlide], CLS_ACTIVE$2);\n        addClass([args.nextSlide], CLS_ACTIVE$2);\n      } else if (_this.animationEffect === 'Custom') {\n        if (direction === 'Previous') {\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n          addClass([args.currentSlide], CLS_PREV_SLIDE);\n        } else {\n          addClass([args.currentSlide], CLS_PREV_SLIDE);\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n        }\n      } else {\n        _this.onTransitionEnd();\n      }\n\n      _this.handleNavigatorsActions(currentIndex);\n    });\n  };\n\n  Carousel.prototype.onTransitionEnd = function () {\n    var _this = this;\n\n    if (this.slideChangedEventArgs) {\n      if (this.partialVisible && this.loop && (this.slideChangedEventArgs.currentIndex === 0 && this.slideChangedEventArgs.slideDirection === 'Next' || this.slideChangedEventArgs.currentIndex === this.slideItems.length - 1 && this.slideChangedEventArgs.slideDirection === 'Previous')) {\n        var container = this.element.querySelector('.' + CLS_ITEMS$2);\n        var slideWidth = this.slideChangedEventArgs.currentSlide.clientWidth;\n        container.style.transitionProperty = 'none';\n        container.style.transform = \"translate(\" + -slideWidth * (this.slideChangedEventArgs.currentIndex + 2) + \"px)\";\n      }\n\n      addClass([this.slideChangedEventArgs.currentSlide], CLS_ACTIVE$2);\n      removeClass([this.slideChangedEventArgs.previousSlide], CLS_ACTIVE$2);\n      this.trigger('slideChanged', this.slideChangedEventArgs, function () {\n        removeClass(_this.element.querySelectorAll(\".\" + CLS_ITEM$3), [CLS_PREV_SLIDE, CLS_NEXT_SLIDE, CLS_TRANSITION_START, CLS_TRANSITION_END]);\n        _this.slideChangedEventArgs = null;\n      });\n    }\n  };\n\n  Carousel.prototype.setHtmlAttributes = function (attribute, element) {\n    var keys = Object.keys(attribute);\n\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n      var key = keys_1[_i];\n\n      if (key === 'class') {\n        addClass([element], attribute[key]);\n      } else {\n        element.setAttribute(key, attribute[key]);\n      }\n    }\n  };\n\n  Carousel.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (error) {\n        return compile(template);\n      }\n    }\n\n    return undefined;\n  };\n\n  Carousel.prototype.getNavigatorState = function (target, isPrevious) {\n    var button = target.querySelector(\".\" + (isPrevious ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON));\n\n    if (button) {\n      var buttonObj = getInstance(button, Button);\n      return buttonObj.disabled;\n    }\n\n    return false;\n  };\n\n  Carousel.prototype.navigatorClickHandler = function (e) {\n    var target = e.currentTarget;\n    var isDisabled = this.getNavigatorState(target, target.classList.contains(CLS_PREVIOUS));\n\n    if (isDisabled) {\n      return;\n    }\n\n    var direction = target.classList.contains(CLS_PREVIOUS) ? 'Previous' : 'Next';\n    this.setActiveSlide(this.getSlideIndex(direction), direction);\n    this.autoSlide();\n  };\n\n  Carousel.prototype.indicatorClickHandler = function (e) {\n    var target = closest(e.target, \".\" + CLS_INDICATOR_BAR);\n    var index = parseInt(target.dataset.index, 10);\n\n    if (this.selectedIndex !== index) {\n      this.setActiveSlide(index, this.selectedIndex > index ? 'Previous' : 'Next');\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.playButtonClickHandler = function (e, isPropertyChange) {\n    if (isPropertyChange === void 0) {\n      isPropertyChange = false;\n    }\n\n    var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n\n    if (playButton) {\n      var buttonObj = getInstance(playButton, Button);\n\n      if (!isPropertyChange) {\n        this.setProperties({\n          autoPlay: !this.autoPlay\n        }, true);\n      }\n\n      playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n      buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n      buttonObj.dataBind();\n      var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n      itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n\n      if (this.autoPlay && !this.loop && this.selectedIndex === this.slideItems.length - 1) {\n        this.setActiveSlide(0, 'Next');\n      }\n\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.keyHandler = function (e) {\n    var direction;\n    var slideIndex;\n    var isSlideTransition = false;\n    var target = e.target;\n    e.preventDefault();\n\n    switch (e.action) {\n      case 'space':\n        if (this.showIndicators && target.classList.contains(CLS_INDICATOR$1)) {\n          target.click();\n        } else if (target.classList.contains(CLS_CAROUSEL) || target.classList.contains(CLS_PLAY_BUTTON)) {\n          this.playButtonClickHandler(e);\n        } else if (target.classList.contains(CLS_NEXT_BUTTON)) {\n          this.next();\n        } else if (target.classList.contains(CLS_PREV_BUTTON)) {\n          this.prev();\n        }\n\n        break;\n\n      case 'end':\n        slideIndex = this.slideItems.length - 1;\n        direction = 'Next';\n        isSlideTransition = true;\n        break;\n\n      case 'home':\n        slideIndex = 0;\n        direction = 'Previous';\n        isSlideTransition = true;\n        break;\n\n      case 'moveUp':\n      case 'moveLeft':\n      case 'moveDown':\n      case 'moveRight':\n        if (this.showIndicators && isNullOrUndefined(this.indicatorsTemplate)) {\n          this.element.focus();\n        }\n\n        direction = e.action === 'moveUp' || e.action === 'moveLeft' ? 'Previous' : 'Next';\n        slideIndex = this.getSlideIndex(direction);\n        isSlideTransition = !this.isSuspendSlideTransition(slideIndex, direction);\n        break;\n    }\n\n    if (isSlideTransition) {\n      this.setActiveSlide(slideIndex, direction);\n      this.autoSlide();\n      isSlideTransition = false;\n    }\n  };\n\n  Carousel.prototype.swipeHandler = function (e) {\n    if (this.element.classList.contains(CLS_HOVER)) {\n      return;\n    }\n\n    var direction = e.swipeDirection === 'Right' ? 'Previous' : 'Next';\n    var slideIndex = this.getSlideIndex(direction);\n\n    if (!this.isSuspendSlideTransition(slideIndex, direction)) {\n      this.setActiveSlide(slideIndex, direction, true);\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.isSuspendSlideTransition = function (index, direction) {\n    return !this.loop && (direction === 'Next' && index === 0 || direction === 'Previous' && index === this.slideItems.length - 1);\n  };\n\n  Carousel.prototype.handleNavigatorsActions = function (index) {\n    if (this.buttonsVisibility === 'Hidden') {\n      return;\n    }\n\n    if (this.showPlayButton) {\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n      var isButtonUpdate = isNullOrUndefined(this.playButtonTemplate) && playButton && isLastSlide;\n\n      if (isNullOrUndefined(this.playButtonTemplate) && playButton && !isLastSlide) {\n        isButtonUpdate = !playButton.classList.contains(CLS_ACTIVE$2);\n      }\n\n      if (isButtonUpdate) {\n        this.setProperties({\n          autoPlay: !isLastSlide\n        }, true);\n        playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n        var buttonObj = getInstance(playButton, Button);\n        buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n        buttonObj.dataBind();\n      }\n    }\n\n    var prevButton = this.element.querySelector(\".\" + CLS_PREV_BUTTON);\n\n    if (prevButton && isNullOrUndefined(this.previousButtonTemplate)) {\n      var buttonObj = getInstance(prevButton, Button);\n      buttonObj.disabled = !this.loop && index === 0;\n      buttonObj.dataBind();\n    }\n\n    var nextButton = this.element.querySelector(\".\" + CLS_NEXT_BUTTON);\n\n    if (nextButton && isNullOrUndefined(this.nextButtonTemplate)) {\n      var buttonObj = getInstance(nextButton, Button);\n      buttonObj.disabled = !this.loop && index === this.slideItems.length - 1;\n      buttonObj.dataBind();\n    }\n  };\n\n  Carousel.prototype.onHoverActions = function (e) {\n    var navigator = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n\n    switch (e.type) {\n      case 'mouseenter':\n        if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n          removeClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n        }\n\n        if (this.pauseOnHover) {\n          addClass([this.element], CLS_HOVER);\n        }\n\n        break;\n\n      case 'mouseleave':\n        if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n          addClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n        }\n\n        removeClass([this.element], CLS_HOVER);\n        break;\n    }\n\n    this.autoSlide();\n  };\n\n  Carousel.prototype.onFocusActions = function (e) {\n    switch (e.type) {\n      case 'focusin':\n        addClass([this.element], CLS_HOVER);\n        break;\n\n      case 'focusout':\n        removeClass([this.element], CLS_HOVER);\n        break;\n    }\n\n    this.autoSlide();\n  };\n\n  Carousel.prototype.destroyButtons = function () {\n    var buttonCollections = [].slice.call(this.element.querySelectorAll('.e-control.e-btn'));\n\n    for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n      var button = buttonCollections_1[_i];\n      var instance = getInstance(button, Button);\n\n      if (instance) {\n        instance.destroy();\n      }\n    }\n  };\n\n  Carousel.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'focusin focusout', this.onFocusActions, this);\n    EventHandler.add(this.element, 'mouseenter mouseleave', this.onHoverActions, this);\n    EventHandler.add(this.element.firstElementChild, 'animationend', this.onTransitionEnd, this);\n    EventHandler.add(this.element.firstElementChild, 'transitionend', this.onTransitionEnd, this);\n  };\n\n  Carousel.prototype.unWireEvents = function () {\n    var _this = this;\n\n    var indicators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n    indicators.forEach(function (indicator) {\n      EventHandler.remove(indicator, 'click', _this.indicatorClickHandler);\n    });\n    var navigators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREVIOUS + \",.\" + CLS_NEXT));\n    navigators.forEach(function (navigator) {\n      EventHandler.remove(navigator, 'click', _this.navigatorClickHandler);\n    });\n    var playIcon = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n\n    if (playIcon) {\n      EventHandler.remove(playIcon, 'click', this.playButtonClickHandler);\n    }\n\n    EventHandler.remove(this.element.firstElementChild, 'animationend', this.onTransitionEnd);\n    EventHandler.remove(this.element.firstElementChild, 'transitionend', this.onTransitionEnd);\n    EventHandler.clearEvents(this.element);\n  };\n  /**\n   * Method to transit from the current slide to the previous slide.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.prev = function () {\n    if (!this.loop && this.selectedIndex === 0) {\n      return;\n    }\n\n    var index = this.selectedIndex === 0 ? this.slideItems.length - 1 : this.selectedIndex - 1;\n    this.setActiveSlide(index, 'Previous');\n    this.autoSlide();\n  };\n  /**\n   * Method to transit from the current slide to the next slide.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.next = function () {\n    if (!this.loop && this.selectedIndex === this.slideItems.length - 1) {\n      return;\n    }\n\n    var index = this.selectedIndex === this.slideItems.length - 1 ? 0 : this.selectedIndex + 1;\n    this.setActiveSlide(index, 'Next');\n    this.autoSlide();\n  };\n  /**\n   * Method to play the slides programmatically.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.play = function () {\n    var playIcon = this.element.querySelector(\".\" + CLS_PLAY_ICON);\n\n    if (this.showPlayButton && playIcon) {\n      classList(playIcon, [CLS_PAUSE_ICON], [CLS_PLAY_ICON]);\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      playButton.setAttribute('aria-label', this.localeObj.getConstant('pauseSlideTransition'));\n    }\n\n    this.setProperties({\n      autoPlay: true\n    }, true);\n    var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n    itemsContainer.setAttribute('aria-live', 'off');\n    this.applySlideInterval();\n  };\n  /**\n   * Method to pause the slides programmatically.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.pause = function () {\n    var pauseIcon = this.element.querySelector(\".\" + CLS_PAUSE_ICON);\n\n    if (this.showPlayButton && pauseIcon) {\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n      classList(pauseIcon, [CLS_PLAY_ICON], [CLS_PAUSE_ICON]);\n    }\n\n    this.setProperties({\n      autoPlay: false\n    }, true);\n    var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n    itemsContainer.setAttribute('aria-live', 'off');\n    this.resetSlideInterval();\n  };\n  /**\n   * Method to render react and angular templates\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Carousel.prototype.renderTemplates = function () {\n    if (this.isAngular || this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Method to reset react and angular templates\n   *\n   * @param {string[]} templates Accepts the template ID\n   * @returns {void}\n   * @private\n   */\n\n\n  Carousel.prototype.resetTemplates = function (templates) {\n    if (this.isAngular || this.isReact) {\n      this.clearTemplate(templates);\n    }\n  };\n  /**\n   * Method for destroy the carousel component.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.destroy = function () {\n    var _this = this;\n\n    this.resetTemplates();\n\n    if (this.touchModule) {\n      this.touchModule.destroy();\n      this.touchModule = null;\n    }\n\n    this.keyModule.destroy();\n    this.keyModule = null;\n    this.resetSlideInterval();\n    this.destroyButtons();\n    this.unWireEvents();\n    [].slice.call(this.element.children).forEach(function (ele) {\n      _this.element.removeChild(ele);\n    });\n    removeClass([this.element], [CLS_CAROUSEL, this.cssClass, CLS_RTL$5]);\n    ['tabindex', 'role', 'style'].forEach(function (attr) {\n      _this.element.removeAttribute(attr);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n\n  __decorate$11([Collection([], CarouselItem)], Carousel.prototype, \"items\", void 0);\n\n  __decorate$11([Property('Slide')], Carousel.prototype, \"animationEffect\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"previousButtonTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"nextButtonTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"indicatorsTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"playButtonTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"cssClass\", void 0);\n\n  __decorate$11([Property([])], Carousel.prototype, \"dataSource\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"itemTemplate\", void 0);\n\n  __decorate$11([Property(0)], Carousel.prototype, \"selectedIndex\", void 0);\n\n  __decorate$11([Property('100%')], Carousel.prototype, \"width\", void 0);\n\n  __decorate$11([Property('100%')], Carousel.prototype, \"height\", void 0);\n\n  __decorate$11([Property(5000)], Carousel.prototype, \"interval\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"autoPlay\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"pauseOnHover\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"loop\", void 0);\n\n  __decorate$11([Property(false)], Carousel.prototype, \"showPlayButton\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"enableTouchSwipe\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"showIndicators\", void 0);\n\n  __decorate$11([Property('Visible')], Carousel.prototype, \"buttonsVisibility\", void 0);\n\n  __decorate$11([Property(false)], Carousel.prototype, \"partialVisible\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$11([Event()], Carousel.prototype, \"slideChanging\", void 0);\n\n  __decorate$11([Event()], Carousel.prototype, \"slideChanged\", void 0);\n\n  Carousel = __decorate$11([NotifyPropertyChanges], Carousel);\n  return Carousel;\n}(Component);\n/** Carousel export modules */\n\n\nvar __extends$12 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$12 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // Constant variables\n\n\nvar CLS_APPBAR = 'e-appbar';\nvar CLS_HORIZONTAL_BOTTOM = 'e-horizontal-bottom';\nvar CLS_STICKY = 'e-sticky';\nvar CLS_PROMINENT = 'e-prominent';\nvar CLS_DENSE = 'e-dense';\nvar CLS_RTL$6 = 'e-rtl';\nvar CLS_LIGHT = 'e-light';\nvar CLS_DARK = 'e-dark';\nvar CLS_PRIMARY = 'e-primary';\nvar CLS_INHERIT = 'e-inherit';\n/**\n * The AppBar displays the information and actions related to the current application screen. It is used to show branding, screen titles, navigation, and actions.\n * Support to inherit colors from AppBar provided to <c>Button</c>, <c>DropDownButton</c>, <c>Menu</c> and <c>TextBox</c>.\n * Set <c>CssClass</c> property with <code>e-inherit</code> CSS class to inherit the background and color from AppBar.\n */\n\nvar AppBar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$12(AppBar, _super);\n  /**\n   * Constructor for creating the AppBar widget\n   *\n   * @param {AppBarModel} options Accepts the AppBar model properties to initiate the rendering\n   * @param {string | HTMLElement} element Accepts the DOM element reference\n   */\n\n\n  function AppBar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  AppBar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.element.classList.remove(CLS_APPBAR);\n    this.element.removeAttribute('style');\n    this.element.removeAttribute('role');\n  };\n\n  AppBar.prototype.getModuleName = function () {\n    return 'appbar';\n  };\n\n  AppBar.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n\n  AppBar.prototype.preRender = function () {// pre render code\n  };\n\n  AppBar.prototype.render = function () {\n    if (this.element.tagName !== 'HEADER') {\n      this.element.setAttribute('role', 'header');\n    }\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (this.position === 'Bottom') {\n      this.element.classList.add(CLS_HORIZONTAL_BOTTOM);\n    }\n\n    if (this.isSticky) {\n      this.element.classList.add(CLS_STICKY);\n    }\n\n    if (this.enableRtl) {\n      this.element.classList.add(CLS_RTL$6);\n    }\n\n    this.setHeightMode();\n    this.setColorMode();\n\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      this.setHtmlAttributes(this.htmlAttributes, this.element);\n    }\n  };\n\n  AppBar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'mode':\n          removeClass([this.element], [CLS_DENSE, CLS_PROMINENT]);\n          this.setHeightMode();\n          break;\n\n        case 'position':\n          if (this.position === 'Bottom') {\n            addClass([this.element], CLS_HORIZONTAL_BOTTOM);\n          } else {\n            removeClass([this.element], CLS_HORIZONTAL_BOTTOM);\n          }\n\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.split(' '));\n          }\n\n          break;\n\n        case 'isSticky':\n          if (this.isSticky) {\n            addClass([this.element], CLS_STICKY);\n          } else {\n            removeClass([this.element], CLS_STICKY);\n          }\n\n          break;\n\n        case 'htmlAttributes':\n          if (!isNullOrUndefined(this.htmlAttributes)) {\n            if (!isNullOrUndefined(oldProp.htmlAttributes)) {\n              var keys = Object.keys(oldProp.htmlAttributes);\n\n              for (var _b = 0, keys_1 = keys; _b < keys_1.length; _b++) {\n                var key = keys_1[_b];\n\n                if (key === 'class') {\n                  removeClass([this.element], oldProp.htmlAttributes[key]);\n                } else {\n                  this.element.removeAttribute(key);\n                }\n              }\n            }\n\n            this.setHtmlAttributes(newProp.htmlAttributes, this.element);\n          }\n\n          break;\n\n        case 'colorMode':\n          removeClass([this.element], [CLS_DARK, CLS_PRIMARY, CLS_INHERIT, CLS_LIGHT]);\n          this.setColorMode();\n          break;\n\n        case 'enableRtl':\n          if (this.enableRtl) {\n            addClass([this.element], CLS_RTL$6);\n          } else {\n            removeClass([this.element], CLS_RTL$6);\n          }\n\n          break;\n      }\n    }\n  };\n\n  AppBar.prototype.setHtmlAttributes = function (attribute, element) {\n    var keys = Object.keys(attribute);\n\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n      var key = keys_2[_i];\n\n      if (key === 'class') {\n        addClass([element], attribute[key]);\n      } else {\n        element.setAttribute(key, attribute[key]);\n      }\n    }\n  };\n\n  AppBar.prototype.setHeightMode = function () {\n    if (this.mode === 'Prominent') {\n      this.element.classList.add(CLS_PROMINENT);\n    } else if (this.mode === 'Dense') {\n      this.element.classList.add(CLS_DENSE);\n    }\n  };\n\n  AppBar.prototype.setColorMode = function () {\n    switch (this.colorMode) {\n      case 'Light':\n        this.element.classList.add(CLS_LIGHT);\n        break;\n\n      case 'Dark':\n        this.element.classList.add(CLS_DARK);\n        break;\n\n      case 'Primary':\n        this.element.classList.add(CLS_PRIMARY);\n        break;\n\n      case 'Inherit':\n        this.element.classList.add(CLS_INHERIT);\n        break;\n    }\n  };\n\n  __decorate$12([Property('Regular')], AppBar.prototype, \"mode\", void 0);\n\n  __decorate$12([Property('Top')], AppBar.prototype, \"position\", void 0);\n\n  __decorate$12([Property()], AppBar.prototype, \"cssClass\", void 0);\n\n  __decorate$12([Property(false)], AppBar.prototype, \"isSticky\", void 0);\n\n  __decorate$12([Property()], AppBar.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$12([Property('Light')], AppBar.prototype, \"colorMode\", void 0);\n\n  __decorate$12([Event()], AppBar.prototype, \"created\", void 0);\n\n  __decorate$12([Event()], AppBar.prototype, \"destroyed\", void 0);\n\n  AppBar = __decorate$12([NotifyPropertyChanges], AppBar);\n  return AppBar;\n}(Component);\n/** AppBar export modules */\n\n/**\n * Navigation all modules\n */\n\n\nexport { MenuAnimationSettings, MenuItem, HScroll, VScroll, addScrolling, destroyScroll, Item, Toolbar, AccordionActionSettings, AccordionAnimationSettings, AccordionItem, Accordion, ContextMenu, Menu, TabActionSettings, TabAnimationSettings, Header, TabItem, Tab, FieldsSettings, ActionSettings, NodeAnimationSettings, TreeView, Sidebar, BreadcrumbItem, Breadcrumb, CarouselItem, Carousel, AppBar };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Complex","Component","Draggable","Droppable","Event","EventHandler","KeyboardEvents","L10n","NotifyPropertyChanges","Property","SanitizeHtmlHelper","Touch","addClass","append","attributes","classList","closest","compile","createElement","detach","extend","formatUnit","getElement","getInstance","getRandomId","getUniqueID","getValue","isBlazor","isNullOrUndefined","isRippleEnabled","isUndefined","isVisible","matches","merge","remove","removeClass","rippleEffect","select","selectAll","setStyleAttribute","setValue","ListBase","Popup","calculatePosition","createSpinner","fit","getScrollableParent","getZindexPartial","hideSpinner","isCollide","showSpinner","Button","createCheckBox","rippleMouseHandler","DataManager","Query","Input","__extends","undefined","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_ROOT","CLS_RTL","CLS_DISABLE","CLS_HSCROLLBAR","CLS_HSCROLLCON","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","OVERLAY_MAXWID","HScroll","_super","options","element","call","preRender","browser","info","name","browserCheck","isDevice","customStep","ieCheck","initialize","id","uniqueId","style","display","enableRtl","add","render","touchModule","scroll","touchHandler","bind","swipe","swipeHandler","scrollEle","scrollHandler","createNavIcon","createOverlay","setScrollState","scrollStep","offsetWidth","className","scrollDiv","setAttribute","ele","innerEle","slice","children","_i","innerEle_1","ele_1","appendChild","overflowX","scrollItems","getPersistData","keyEntity","addOnPersist","getModuleName","destroy","nav","overlay","forEach","_a","elem","removeAttribute","disable","value","navEles","el","concat","rightOverlayEle","clsRight","rightEle","navItem","leftEle","insertBefore","firstChild","eventBinding","rightAttributes","attrs","clsLeft","leftAttributes","navEle","navLeftItem","onKeyPress","e","_this","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","window","setTimeout","onKeyUp","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","scrollDis","timeoutFun","setInterval","isContinuous","rootEle","classList$$1","querySelector","frameScrollRequest","swipeEle","distance","velocity","distanceX","start","animate","step","Math","sin","cancelAnimationFrame","swipeDirection","scrollLeft","requestAnimationFrame","scrollUpdating","scrollVal","action","scrollValue","scrollDirection","arrowDisabling","addDisable","removeDisable","arrowEle","arrowIcon","width","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","ceil","disEle","onPropertyChanged","newProp","oldProp","keys","prop","__extends$1","__decorate$1","CLS_ROOT$1","CLS_RTL$1","CLS_DISABLE$1","CLS_VSCROLLBAR","CLS_VSCROLLCON","CLS_NAVARROW$1","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_VSCROLLNAVUP","CLS_VSCROLLNAVDOWN","CLS_DEVICE$1","CLS_OVERLAY$1","CLS_UPOVERLAY","CLS_DOWNOVERLAY","OVERLAY_MAXWID$1","VScroll","scrollEventHandler","createOverlayElement","wheelEventHandler","offsetHeight","scrollCnt","scrollBar","overflow","navs","overlays","downOverlayEle","clsDown","downEle","upEle","clsUp","navElement","navUpItem","ev","scrollDistance","event","deltaY","swipeElement","distanceY","scrollTop","addDisableCls","removeDisableCls","height","navUpEle","navDownEle","upOverlay","downOverlay","scrollHeight","addScrolling","createElement$$1","container","content","scrollType","offset","containerOffset","contentOffset","parentElem","parentElement","getBoundingClientRect","createScrollbar","maxWidth","maxHeight","scrollObj","destroyScroll","skipEle","menu","__extends$2","__decorate$2","ENTER","ESCAPE","FOCUSED","HEADER","SELECTED","SEPARATOR","UPARROW","DOWNARROW","LEFTARROW","RIGHTARROW","HOME","END","TAB","CARET","ITEM","DISABLED","HIDE","ICONS","RTL","POPUP","TEMPLATE_PROPERTY","FieldSettings","apply","MenuItem","MenuAnimationSettings","MenuBase","navIdx","animation","isTapHold","tempItem","showSubMenuOn","isMenu","ul","tagName","ejInst","clonedElement","cloneNode","refEle","nextElementSibling","ejInstance","wrapper","idx","len","nodeName","nodeValue","parentNode","renderItems","wireEvents","renderComplete","getWrapper","template","enableScrolling","isReact","isAngular","document","body","cssClass","split","hamburgerMode","createHeaderContainer","defaultOption","showItemOnClick","items","createJsonFromElement","fields","child","setProperties","removeChildElement","innerHTML","createItems","setBlankIconStyle","targetElems","menuHeaderClickHandler","isIos","cmenuHandler","targetElement","parent_1","delegateMoverHandler","moverHandler","delegateMouseDownHandler","mouseDownHandler","delegateClickHandler","clickHandler","wireKeyboardEvent","rippleFn","selector","keyConfigs","downarrow","uparrow","enter","leftarrow","rightarrow","escape","home","end","tab","keyAction","keyBoardHandler","closeMenu","actionName","actionNeeded","keyCode","removeLIStateByClass","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","getUlByNavIdx","defaultIdx","childElementCount","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","focus","index","navIdxLen","popup","eventArgs","item","getItem","push","keyType","openMenu","trigger","currentTarget","isCMenu","pageX","changedTouches","pageY","canOpen","ulIndex","isIterated","isMenuVisible","sli","item_1","wrapper_1","beforeCloseArgs","items_1","popups","getPopups","isClose","cnt","ul_1","liElem_1","getLI","parentItem","cancel","isFocused","observedCloseArgs","popupEle","closeArgs","popupId","popupObj","isOpen","minHeight","unWireKeyboardEvent","hide","toggleAnimation","pop","updateReactTemplate","trgtliId","closedLi","trgtLi","trgtpopUp","RegExp","exec","submenus","querySelectorAll","afterCloseMenu","getIndex","isMenusClosed","which","sli_1","getAttribute","cliIdx","item_2","removeStateWrapper","portals","splice","clearTemplate","renderReactTemplates","getMenuItemModel","level","getFields","text","separator","iconCss","url","valueOf","filter","li","top","left","lItem","elemId","uList","getField","lastChild","data","toString","hdata","hli","popupWrapper","isNestedOrVertical","generatePopup","calculateIndentSize","hoverDelay","timer","triggerBeforeOpen","zIndex","liStyle","getComputedStyle","liIndent","parseInt","textIndent","blankIconElem","menuIconElem","menuIconElemStyle","blankIconIndent","marginRight","actionOnScroll","relateTo","collision","X","Y","position","targetType","open","triggerOpen","spanElem","tempTitle","enableHtmlSanitizer","sanitize","title","spanTitle","spanIcon","openHamburgerMenu","closeHamburgerMenu","observedHamburgerCloseArgs","callFit","x","y","type","menuType","observedOpenArgs","checkScrollOffset","refreshPosition","indexOf","animationOptions","animationSettings","effect","duration","timingFunction","easing","show","setPosition","eventArgs_1","collide","offWidth","blankIconList","getElementsByClassName","iconLi","icon","cssProp","padding","margin","iconCssProps","iconSize","fontSize","size","offsetEle","offsetLeft","offsetRight","px","toggleVisiblity","newTop","pageYOffset","documentElement","clientHeight","Number","replace","xCollision","isVisible$$1","visibility","showIcon","hasField","listBaseOptions","moduleName","itemNavigable","itemCreating","args","curData","htmlAttributes","role","tabindex","itemCreated","span","templateID","createList","liTrgt","hdrWrapper","regex","ulId","isDifferentElem","isClosed","_loop_1","propName","fieldName","field","cliWrapper","isInstLI","cliWrapperId","setLISelected","showSubMenu","culIdx","cIdx","isHeader","classname","getItemIndex","isUniqueId","isText","setItem","newItem","assign","getItems","setItems","newItems","skipHdr","updateItemsByNavIdx","count","updateItem","removeChild","_loop_2","toggle","this_1","unWireEvents","ul_2","ul_3","lastElementChild","getChangedItemIndex","insertAfter","removeItem","wrapper1","ul1","lis","popStr","uls","targetSelctor","parent_2","keyboardModule","isMenuOpen","pUlHeight","pElement","begin","progress","nIndex","isCallBack","unshift","enableItems","enable","disabled","skipItem","i_1","showItems","showHideItems","hideItems","ishide","removeItems","iitems","insertItems","isAfter","menuitem","removeAttributes","removeProperty","refreshing","getElementById","itemId","parentId","__extends$3","__decorate$3","CLS_VERTICAL","CLS_ITEMS","CLS_ITEM","CLS_RTL$2","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_DISABLE$2","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARBTN","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARRIGHT","CLS_TBARLEFT","CLS_TBARCENTER","CLS_TBARPOS","CLS_HSCROLLCNT","CLS_VSCROLLCNT","CLS_HSCROLLBAR$1","CLS_POPUPNAV","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARBTNTEXT","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDABLECLASS","CLS_EXTENDPOPUP","CLS_EXTENDEDPOPOPEN","Item","Toolbar","resizeContext","resize","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","btnItems","ej2_instances","isDestroyed","unwireEvents","tempId","destroyItems","trgtEle","ctrlTem","popObj","activeEle","tbarAlign","tbarItemsCol","attrb","enableCollision","scrollModule","isVertical","isExtendedOpen","popupPriCount","allowKeyboard","keyModule","keyActionHandler","docKeyDown","unwireKeyboardEvent","popCheck","overflowMode","keyCheck","removeEventListener","docEvent","clearProperty","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","tbarItems","destroyMode","tempEle","popupRefresh","val","elementFocus","fChild","activeEleSwitch","clstElement","tbrNavChk","clst","keyHandling","navChk","scrollChk","popAnimate","nodes","eleFocus","popupCheck","extendedPopup","popFrstEle","activeEleRemove","tbarScrollChk","eleContains","closest$$1","pos","sib","isPopupElement","clsList","popupNav","popupClickHandler","itemObj","clickedArgs","offsetX","dataBind","getElementOffsetY","renderControl","ariaAttr","renderLayout","renderOverflowMode","itemPositioning","checkPopupRefresh","itemsAlign","itemEleDom","innerItem","innerPos","renderSubComponent","tbarItemAlign","align","toLowerCase","showAlwaysInPopup","notify","changeOrientation","refreshOverflow","initScroll","innerItems","checkOverflow","itemWidthCal","parseFloat","marginTop","marginBottom","marginLeft","getScrollCntEle","trgClass","eleWidth","itemWidth","popNav","scrollNav","navEleWidth","toolbarAlign","priorityCheck","offsetWid","removePositioning","setOverflowAttributes","createPopupEle","eleItem","multiVar","extendVar","eleInlineItem","innerNav","vertical","createPopupIcon","innerNavDom","direction","checkPriority","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","poppedEle","nodeIndex","nodePri","tbResize","childNodes","tbarElement","sepItem","extendEle","popupInit","getPropertyValue","eleStyles","offsetY","close","appendTo","borderRightWidth","tbarPopupHandler","toolEle","popupElePos","offsetTop","popIcon","scrollY","innerHeight","overflowHeight","tbEleData","bottom","popupOffset","right","clientWidth","inEle","pre","popPriority","eleWid","eleOffset","checkoffset","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","query","priEleCnt","eleSep","ignoreCheck","sepDisplay","eleSepWidth","prevSep","previousElementSibling","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","sepBeforePri_1","state_1","refreshPositioning","tbarWid","popWid","itemEle","alignDiv","alignEle","leftAlign_1","ctrlTemplate","setAttr","attr","keyVal","isEnable","elements","a","itemElement","getElementByIndex","addItems","extendedOpen","itemsDiv","itemsRerender","itemAgn","algIndex","removeItemByIndex","eleIdx","indexAgn","btnItem","templateRender","templateProp","itemType","eleObj","isComponent","templateFn","regEx","trim","test","tempStr","outerHTML","tempArray","toolbarTemplateID","isStringTemplate","buttonRendering","dom","textStr","iconPos","btnTxt","prefixIcon","suffixIcon","btnObj","iconPosition","tempDom","tooltipText","textContent","itemClick","showTextOn","sTxt","visible","curEle","multirowele","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","isElement","eleIndex","initIndex","innerItems_1","innerItems_2","nextEle","setFlag","removeFlag","initELe","__extends$4","__decorate$4","CLS_ACRDN_ROOT","CLS_ROOT$2","CLS_ITEM$1","CLS_ITEMFOCUS","CLS_ITEMHIDE","CLS_HEADER","CLS_HEADERICN","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_COLLAPSEICN","CLS_EXPANDICN","CLS_RTL$3","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_ANIMATE","CLS_DISABLE$3","CLS_TOGANIMATE","CLS_NEST","CLS_EXPANDSTATE","CLS_CONTAINER","AccordionActionSettings","AccordionAnimationSettings","AccordionItem","Accordion","space","isVue","isDestroy","restoreContent","isNested","removeRippleEffect","nested","templateEle","initializeHeaderTemplate","initializeItemTemplate","initExpand","expandedIndices","expandMode","initItemExpand","wireFocusEvents","acrdItem","acrdItem_1","headerEle","clearEvents","focusIn","focusOut","eventName","templateParser","error","headerTemplate","headerTemplateFn","itemTemplate","itemTemplateFn","getHeaderTemplate","getItemTemplate","innerEles","header","toggleIconGenerate","tglIcon","hdrColIcon","expandItem","innerDataSourceItem","dataSource","renderInnerItem","acrdEle","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","getIndexByItem","ctnCheck","contentRendering","ariaAttrUpdate","afterContentRender","acrdActive","cntclkCheck","inlineAcrdnSel","inlineEleAcrdn","nestContCheck","acrdcontainer","acrdnchild","acrdAniEle","acrdAniEle_1","sameContentCheck","sameHeader","acrdnCtn_1","acrdnRoot","expandState","collapse","expand","eleMoveFocus","clstItem","headerEleGenerate","ctnEle","hdrEle","angularnativeCondiCheck","fetchElement","hdr","expanded","enablePersistence","hdrIcnEle","hdrIcon","elementRef","nativeElement","parseddata","JSON","parse","temString","eleVal","HTMLElement","templateProps","templateName","itemcnt","ctn","trgtItemEle","isExpanded","expandArgs","expandedItemsPush","expandProgress","expandAnimation","ef","icn","lastActiveItemId","temp","getItemElements","itemCollection","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","itemAttribUpdate","itemLen","addItem","itemIndex","innerItemEle","expandedItemRefresh","isHidden","enableItem","eleHeader","isExpand","itemExpand","expandedItem","ctnElePos","eleStr","setTemplate","toElement","templateCompile","childEle","acrdn","isRefresh","changedProp","j","oldVal","newVal","activeContent","__extends$5","__decorate$5","ContextMenu","__extends$6","__decorate$6","VMENU","SCROLLABLE","HAMBURGER","Menu","tempItems","clearChanges","updateMenuItems","orientation","map","createMenuItems","pIdField","__extends$7","__decorate$7","CLS_TAB","CLS_HEADER$1","CLS_BLA_TEM","CLS_CONTENT$1","CLS_NEST$1","CLS_ITEMS$1","CLS_ITEM$2","CLS_TEMPLATE$1","CLS_RTL$4","CLS_ACTIVE$1","CLS_DISABLE$4","CLS_HIDDEN$1","CLS_FOCUS","CLS_ICONS","CLS_ICON","CLS_ICON_TAB","CLS_ICON_CLOSE","CLS_CLOSE_SHOW","CLS_TEXT","CLS_INDICATOR","CLS_WRAP","CLS_TEXT_WRAP","CLS_TAB_ICON","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POP","CLS_TB_POPUP","CLS_HOR_NAV","CLS_POPUP_OPEN","CLS_POPUP_CLOSE","CLS_PROGRESS","CLS_IGNORE","CLS_OVERLAY$2","CLS_HSCRCNT","CLS_VSCRCNT","CLS_VTAB","CLS_VERTICAL$1","CLS_VLEFT","CLS_VRIGHT","CLS_HBOTTOM","CLS_FILL","TABITEMPREFIX","CLS_REORDER_ACTIVE_ITEM","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","isInteracted","lastIndex","isAdd","isIconAlone","draggableItems","refreshActiveTabBorder","delete","tbObj","expTemplateContent","isTemplate","cntEle","btnCls","tbItems","tbItem","tbPop","prevItem","bdrLine","dragItem","cloneElement","draggingItems","prevIndex","isPopup","initRender","isSwipeed","itemIndexArray","allowDragAndDrop","dragArea","css","setCssClass","updatePopAnimationConfig","tabId","renderContainer","setOrientation","headerPlacement","renderHeader","renderContent","scrCnt","scrCntClass","setContentHeight","selectedItem","tabID","setRTL","hdrPlace","tabItems","getTabHeader","addVerticalClass","parseObject","hdrItems","tabItems_1","txt","cont","wrap","tabIndex","clicked","updateOrientationAttribute","setCloseButton","showCloseButton","toolbarHeader","hdrItem","contents","reRenderItems","maxId","isReplace","idList_1","max","tItems","txtWrapEle","spliceArray","tbId","num","substring","hidden","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","attrObj","tItem","spliceItemIndex","removeActiveClass","tabHeader","node","checkPopupOverflow","tbrItems","isOverflow","popupHandler","ripEle","actEleId","prevEle","trg","prevCtnAnimation","prev","current","checkRTL","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","extIndex","idNo","isPrevent","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","selectTab","headers","compileElement","templateFUN","getContent","callType","no","findEle","tbPos","place","activeTab","changeToolbarOrientation","focusItem","curActItem","headerPos","contentPos","list","heightAdjustMode","getHeight","cs","trgHdrEle","reorderActiveTab","bar","tbHeight","top_1","tbWidth","setActive","skipDataBind","isNaN","allowServerDataBinding","serverDataBind","trg_1","enableAnimation","eleTrg","refreshItemVisibility","eventArg","previousItem","previousIndex","selectedIndex","selectedContent","selectingID","isSwiped","refreshActiveBorder","showPopup","config","tbPopObj","bindDraggable","initializeDrag","hoverHandler","spaceKeyDown","keyHandler","tabKeyModule","openPopup","shiftTab","removeTab","nestedTab","k","clstHead","actEle","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","closeButtonTitle","locale","getConstant","evalOnPropertyChangeItems","properties","lastIndexOf","cntItem","textVal","arr","isHiddenEle","addTab","hideTab","strVal","enableTab","selectElement","dragObj","dragTarget","clone","helper","dragStart","itemDragStart","drag","dragIndex","dropIndex","dropItem","dragArgs","draggedItem","droppedItem","isEqualNode","cursor","scrollRightNavEle","scrollLeftNavEle","hscrollBar","abs","pointerEvents","scrollContentWidth","isSameNode","dragAction","droppedIndex","dragStop","itemDragStop","tabitemDragArgs","dragsIndex","popupContainer","lastEle","dragStopArgs","tabItemDropArgs","addArgs","addedItems","tabAddingArgs","addingTabContent","lastEleIndex","itemsCount","tabItems_2","textValue_1","removeArgs","removedItem","removedIndex","tabRemovingArgs","targetEleIndex","cntTrg","selectedID","selectingItem","selectingIndex","selectingContent","selectArgs","tabItemId","refreshActiveTab","txtWrap","tConts","wrapAtt","wraper","crElem","innerText","detachContent","mainContents","txtString","conte","__extends$8","__decorate$8","ROOT","CONTROL","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","LISTWRAP","IELISTWRAP","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","INPUT","INPUTGROUP","TREEINPUT","EDITING","RTL$1","INTERACTION","DRAGITEM","DROPPABLE","DRAGGING","SIBLING","DROPIN","DROPNEXT","DROPOUT","NODROP","FULLROWWRAP","FULLROW","SELECTED$1","EXPANDED","NODECOLLAPSED","DISABLE","DROPCOUNT","CHECK","INDETERMINATE","CHECKBOXWRAP","CHECKBOXFRAME","CHECKBOXRIPPLE","RIPPLE","RIPPLEELMENT","FOCUS","IMAGE","BIGGER","SMALL","CHILD","ITEM_ANIMATION_ACTIVE","DISABLED$1","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","isRefreshed","preventExpand","checkedElement","disableNode","validArr","validNodes","expandChildren","isFieldChange","changeDataSource","hasTemplate","isFirstRender","mouseDownStatus","TreeView_1","checkActionNodes","parentNodeCheck","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","listBaseOption","expandCollapse","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","fullRowNavigable","updateListProp","aniObj","treeList","isLoaded","isInitalExpand","setTouchClass","selectedNodes","checkedNodes","expandedNodes","initialRender","setDataBinding","setDisabledMode","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","setTextWrap","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","isOffline","offline","ready","then","treeData","result","isNumberTypeId","getType","setRootData","finalize","catch","executeQuery","getQuery","rootData","stringify","mapper","columns","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","sortedData","getSortedData","ulElement","rootNodes","loadOnDemand","renderChildNodes","parentEle","finalizeNode","parentCheckData","updateCheckedStateFromDS","autoCheck","showCheckBox","updateParentCheckState","resultData","executeLocal","isChecked","resultId","resultPId","hasChildren","id_1","childData","childId","mapper_1","checkState","getCheckedNodeDetails","checkIndeterminateState","checkedId","checkedData","fieldId","childItems","updateChildCheckState","checkNodes","preElement","check","changeState","indeterminate","childCheckedElement","nodeId","nodeCheck","ariaChecked","checkedParent","checkedChild","subChildItems","checkboxEle","touchClass","checkValue","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","dataId","renderNodeTemplate","nodeData","rippleSpan","actionValue","ds","groupBy","cusQuery","group","getDataSource","grpItem","iNodes","sNodes","selectNode","cNodes","disableExpandAttr","eNodes","updateList","updateCheckedProp","ensureIndeterminate","liElement","ensureParentCheckState","ensureChildCheckState","indeterminateNodes","checkBoxEle","parentUL","currentParent","childElement","checkBoxes","parentCheck","childCheck","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","setValidCheckedNode","dynamicCheckState","updateField","checkBox","validateCheckNode","updateFieldChecked","checkbox","currLi","nodeDetails","getNodeData","updateIndeterminate","subChild","updateChildIndeterminate","indeterminateData","getTreeData","parent","subId","childElementCheck","innerChild","state","getCheckEvent","observedArgs","nodeCheckAction","ariaState","frameSpan","removeCheck","ensureStateChange","checked","firstNode","updateIdAttr","allowTextWrap","updateWrap","hasPid","doExpandAction","isIE","ulEle","liList","calculateWrap","eUids","expandGivenNodes","eNode","expandAction","afterFinalized","proxy","expandCallback","eUid","callback","doSelectionAction","sUids","sNode","selectGivenNodes","preventContextMenu","rippleElement","rippleIcons","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","collapseNode","toggleSelect","nodeCheckedEvent","isCheck","expandNode","loaded","start_1","end_1","proxy_1","liEle_1","setHeight","activeElement_1","animateHeight","expandedNode","addExpand","getExpandEvent","colArgs","nodeCollapseAction","collapsedNode","removeExpand","toRemove","remaining","timeStamp","currentHeight","parentLi","expandChild","eicon","parents","mapper_2","getChildFields","loadChild","setSelectionForChildNodes","ensureCheckNode","disableTreeNodes","renderSubChild","getNodeObject","doDisableAction","nodeLevel","dataLevel","getChildMapper","obj","isRoot","getChildGroup","objlen","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","nodeSelectAction","removeSelectAll","shiftKey","startNode","startIndex","endIndex","currNode","addSelect","nodeUnselectAction","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","nodeExpandAction","liEles","getId","icon_1","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","getScrollParent","parentPos","isVisibleInViewport","scrollIntoView","innerWidth","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","nodeCheckingAction","allCheckNode","parentIndex","getChildItems","childStateChange","childIsCheck","newCheck","validateCheck","length_1","hierChildId","childId_1","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","previousSibling","prevNode","endNode","preNode","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","nodeFields","tempArr","destroyTemplate","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","inpWidth","style_1","renderTextBox","innerHtml","inputObj","createInput","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","crudOperation","appendNewText","isInput","updateText","triggerEvent","newData","getChildNodeObject","newList","toBind","destroyDrag","virtualEle","enableTailMode","enableAutoScroll","sender","dragRoot","dragWrap","dragLi","cloneEle","nLen","cNode","dragData","listItem","getDragEvent","draggedNode","intDestroy","dragCancelAction","cursorAt","targetTouches","removeVirtualEle","dropTarget","preventTargetExpand","dropRoot","dragParent","draggedParentNode","dropObj","out","over","drop","dropAction","dropWrap","dropLi","isDescendant","templateTarget","appendIndicator","renderVirtualEle","dropIndicator","virEle","dragInstance","draggable","droppedElement","appendNode","draggedElement","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","moveData","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","childLi","dropParentLi","removedData","updateChildField","refId","getDataPos","currPid","removeChildNodes","addChildData","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","dragLiParent","targetParent","indexValue","iconClass","dropTar","parent_3","hasAttribute","clonedNode","droppedNode","droppedNodeData","dropLevel","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","removeData","updateSelectedNodes","updateExpandedNodes","dm","newId","currId","doGivenAction","toExpand","addGivenNodes","isRemote","dropEle","updateMapper","createListItemFromJson","refNode","returnValue","toUpperCase","navigateUrl","updated","childObj","nodeType","validID","checkValidId","doEnableAction","strNodes","filterNestedChild","updatePersistProp","removeField","sleNodes","l","slelen","enodes","nodelen","cnodes","m","names","getMapperProp","remove$$1","proxy_2","touchEditObj","tap","isDoubleTapped","tapCount","wireClickEvent","proxy_3","touchClickObj","wireExpandOnEvent","proxy_4","touchExpandObj","matched","secondTap","firstTap","setCheckedNodes","uncheckAll","setIndeterminate","checkAll","setChildCheckState","parent_4","updatePosition","isRefreshChild","childValue","updateChildPosition","currID","found","dynamicState","operation","newNode","prevent","matchedArr","crud","changes","addedRecords","deletedRecords","changedRecords","nodesID","fromTable","saveChanges","deleteSuccess","dmFailure","update","editSucess","insert","addSuccess","updatePreviousText","collapseAll","onLoaded","addNodes","beginEdit","disableNodes","enableNodes","ensureVisible","expandAll","getAllCheckedNodes","getDisabledNodes","disabledNodes","getNode","moveNodes","sourceNodes","refreshNode","updatedChildValue","refreshData","newNodeData","parentData","newliEle","newTextEle","newIcon","fullEle","tooltip","class","removeNodes","updateNode","__extends$9","__decorate$9","CONTROL$1","ROOT$1","DOCKER","CLOSE","OPEN","TRASITION","DEFAULTBACKDROP","CONTEXTBACKDROP","RTL$2","RIGHT","LEFT","OVER","PUSH","SLIDE","VISIBILITY","DISPLAY","MAINCONTENTANIMATION","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setTarget","setZindex","enableDock","setDock","firstRender","setMediaQuery","checkType","setType","setCloseOnDocumentClick","setEnableRTL","windowWidth","targetEle","sidebarEleCopy","getTargetElement","siblingElement","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","match","classELement","transitionEnd","triggerChange","destroyBackDrop","sibling","showBackdrop","modal","closeArguments","model","observedcloseArgs","transform","setAnimation","setTimeOut","elementWidth","openArguments","observedopenArgs","createBackDrop","changeArguments","getState","mediaQuery","media","matchMedia","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","isRendered","isServerRendered","insertAdjacentElement","__extends$10","__decorate$10","ICONRIGHT","ITEMTEXTCLASS","ICONCLASS","MENUCLASS","ITEMCLASS","POPUPCLASS","WRAPMODECLASS","SCROLLMODECLASS","TABINDEX","DISABLEDCLASS","ARIADISABLED","DOT","BreadcrumbItem","Breadcrumb","_maxItems","maxItems","initItems","initPvtProps","getEndIndex","popupUl","activeItem","baseUri","uri","URL","location","origin","href","isSingleLevel","isIconRight","itemsLength","isActiveItem","isLastItem","isLastItemInPopup_1","j_1","wrapDiv","isItemCancelled_1","ol","firstOl","isCollasped","isDefaultOverflowMode_1","enableActiveItemNavigation","containsRightIcon","isEmptyUrl","keyDownHandler","beforeItemRenderChanges","separatorTemplate","itemClass","nextItem","lastPopupItemIdx","li_1","getMenuElement","calculateMaxItems","liElems","reverse","liWidth","menuEle","paddingLeft","currItem","isRightIcon","wrapElem","Node","TEXT_NODE","iconElem","iconElem_1","enableNavigation","anchor","documentClickHandler","floor","renderPopup","popupWireEvents","popupKeyDownHandler","delegateClickHanlder","classes","attributes$$1","attribute","__extends$11","__decorate$11","CLS_CAROUSEL","CLS_ACTIVE$2","CLS_RTL$5","CLS_PARTIAL","CLS_SLIDE_CONTAINER","CLS_ITEMS$2","CLS_CLONED","CLS_ITEM$3","CLS_PREVIOUS","CLS_NEXT","CLS_PREV_ICON","CLS_NEXT_ICON","CLS_NAVIGATORS","CLS_INDICATORS","CLS_INDICATOR_BARS","CLS_INDICATOR_BAR","CLS_INDICATOR$1","CLS_ICON$1","CLS_PLAY_PAUSE","CLS_PLAY_ICON","CLS_PAUSE_ICON","CLS_PREV_BUTTON","CLS_NEXT_BUTTON","CLS_PLAY_BUTTON","CLS_FLAT","CLS_ROUND","CLS_HOVER_ARROWS","CLS_HOVER","CLS_TEMPLATE$2","CLS_SLIDE_ANIMATION","CLS_FADE_ANIMATION","CLS_CUSTOM_ANIMATION","CLS_ANIMATION_NONE","CLS_PREV_SLIDE","CLS_NEXT_SLIDE","CLS_TRANSITION_START","CLS_TRANSITION_END","CarouselItem","Carousel","defaultLocale","nextSlide","of","pauseSlideTransition","playSlideTransition","previousSlide","slide","slideShow","localeObj","renderSlides","renderNavigators","renderPlayButton","renderIndicators","applyAnimation","setActiveSlide","autoSlide","setHtmlAttributes","enableTouchSwipe","renderTouchActions","loop","autoSlideInterval","applySlideInterval","handleNavigatorsActions","partialVisible","reRenderSlides","buttonsVisibility","resetTemplates","showPlayButton","playButtonTemplate","playButtonClickHandler","showIndicators","carouselClasses","slideContainer","itemsContainer","autoPlay","renderSlide","slideItems","renderTemplates","setProperty","slideWidth","cloneCount","transitionProperty","renderKeyboardActions","isClone","templateId","navigators","renderNavigatorButton","buttonContainer","previousButtonTemplate","nextButtonTemplate","button","buttonObj","navigatorClickHandler","playPauseWrap","playButton","isLastSlide","isToggle","indicatorWrap","indicatorBars","indicatorBar","indicatorsTemplate","indicator","indicatorClickHandler","animationEffect","resetSlideInterval","autoSlideChange","activeSlide","activeIndex","dataset","itemInterval","interval","getSlideIndex","currentIndex","allSlides","activeIndicator","activeIndex_1","currentSlide","nextIndex","slideDirection","slideIndicators","slideChangedEventArgs","slideHeight","onTransitionEnd","keys_1","getNavigatorState","isPrevious","isDisabled","isPropertyChange","slideIndex","isSlideTransition","isSuspendSlideTransition","isButtonUpdate","prevButton","nextButton","onHoverActions","navigator","pauseOnHover","onFocusActions","destroyButtons","buttonCollections","buttonCollections_1","instance","indicators","playIcon","play","pause","pauseIcon","templates","__extends$12","__decorate$12","CLS_APPBAR","CLS_HORIZONTAL_BOTTOM","CLS_STICKY","CLS_PROMINENT","CLS_DENSE","CLS_RTL$6","CLS_LIGHT","CLS_DARK","CLS_PRIMARY","CLS_INHERIT","AppBar","isSticky","setHeightMode","setColorMode","_b","keys_2","mode","colorMode"],"sources":["C:/Users/High Tech Assistance/Desktop/e-learningProject__frontend - Copie/e-learningProject__frontend - Copie/frontend/node_modules/@syncfusion/ej2-richtexteditor/node_modules/@syncfusion/ej2-navigations/dist/es6/ej2-navigations.es5.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Droppable, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getElement, getInstance, getRandomId, getUniqueID, getValue, isBlazor, isNullOrUndefined, isRippleEnabled, isUndefined, isVisible, matches, merge, remove, removeClass, rippleEffect, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup, calculatePosition, createSpinner, fit, getScrollableParent, getZindexPartial, hideSpinner, isCollide, showSpinner } from '@syncfusion/ej2-popups';\nimport { Button, createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input } from '@syncfusion/ej2-inputs';\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @__PURE__ @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     *\n     * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the horizontal scroll  rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        this.setScrollState();\n    };\n    HScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        [].slice.call(overlay).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEles).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightAttributes = { 'role': 'button', 'id': id.concat('_right'), 'aria-label': 'Scroll right' };\n        var nav = this.createElement('div', { className: clsRight, attrs: rightAttributes });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var leftAttributes = { 'role': 'button', 'id': id.concat('_left'), 'aria-label': 'Scroll left' };\n        var navEle = this.createElement('div', { className: clsLeft + ' ' + CLS_DISABLE, attrs: leftAttributes });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        [].slice.call(ele).forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var rootEle = this.element;\n        var classList$$1 = trgt.classList;\n        if (classList$$1.contains(CLS_HSCROLLNAV)) {\n            classList$$1 = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList$$1.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList$$1.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.5;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            var scrollValue;\n            var scrollStep;\n            if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n                scrollValue = -scrollVal;\n                scrollStep = -step;\n            }\n            else {\n                scrollValue = scrollVal;\n                scrollStep = step;\n            }\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(scrollStep);\n            }\n            else {\n                _this.scrollUpdating(scrollStep, action);\n                scrollVal -= scrollStep;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else if (addDisable && removeDisable) {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            this.arrowDisabling(navLeftEle, navRightEle);\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            this.arrowDisabling(navRightEle, navLeftEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {HScrollModel} newProp - It contains the new value of data.\n     * @param  {HScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CLS_ROOT$1 = 'e-vscroll';\nvar CLS_RTL$1 = 'e-rtl';\nvar CLS_DISABLE$1 = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW$1 = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE$1 = 'e-scroll-device';\nvar CLS_OVERLAY$1 = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID$1 = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar VScroll = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(VScroll, _super);\n    /**\n     * Initializes a new instance of the VScroll class.\n     *\n     * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n     */\n    function VScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL$1);\n        }\n    };\n    /**\n     * To Initialize the vertical scroll rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE$1);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    };\n    VScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    VScroll.prototype.initialize = function () {\n        var scrollCnt = createElement('div', { className: CLS_VSCROLLCON });\n        var scrollBar = createElement('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollCnt.appendChild(ele_1);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflow = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    };\n    VScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    VScroll.prototype.getModuleName = function () {\n        return 'vScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    VScroll.prototype.destroy = function () {\n        var el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT$1, CLS_DEVICE$1]);\n        var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        var overlays = selectAll('.' + CLS_OVERLAY$1, el);\n        [].slice.call(overlays).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    VScroll.prototype.disable = function (value) {\n        var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE$1 + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE$1);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE$1);\n        }\n        [].slice.call(navEle).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    VScroll.prototype.createOverlayElement = function (element) {\n        var id = element.id.concat('_nav');\n        var downOverlayEle = createElement('div', { className: CLS_OVERLAY$1 + ' ' + CLS_DOWNOVERLAY });\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var downEle = createElement('div', { id: id.concat('down'), className: clsDown });\n        var navItem = createElement('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        downEle.appendChild(navItem);\n        var upEle = createElement('div', { className: CLS_OVERLAY$1 + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    };\n    VScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var nav = createElement('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = createElement('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        var navElement = createElement('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE$1 });\n        navElement.setAttribute('aria-disabled', 'true');\n        var navUpItem = createElement('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    };\n    VScroll.prototype.onKeyPress = function (ev) {\n        var _this = this;\n        if (ev.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    VScroll.prototype.onKeyUp = function (ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    VScroll.prototype.eventBinding = function (element) {\n        var _this = this;\n        [].slice.call(element).forEach(function (ele) {\n            new Touch(ele, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            ele.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    VScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    VScroll.prototype.tabHoldHandler = function (ev) {\n        var _this = this;\n        var trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDistance = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    VScroll.prototype.contains = function (element, className) {\n        return element.classList.contains(className);\n    };\n    VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var classList$$1 = trgt.classList;\n        if (classList$$1.contains(CLS_VSCROLLNAV)) {\n            classList$$1 = trgt.querySelector('.' + CLS_NAVARROW$1).classList;\n        }\n        if (classList$$1.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList$$1.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    };\n    VScroll.prototype.clickEventHandler = function (event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    };\n    VScroll.prototype.wheelEventHandler = function (e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    };\n    VScroll.prototype.swipeHandler = function (e) {\n        var swipeElement = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    };\n    VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY$1, this.element)).forEach(function (el) {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        var animate = function () {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.touchHandler = function (e) {\n        var el = this.scrollEle;\n        var distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    };\n    VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW$1);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE$1);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE$1);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    VScroll.prototype.scrollEventHandler = function (e) {\n        var target = e.target;\n        var height = target.offsetHeight;\n        var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        var scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID$1) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID$1) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE$1);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE$1);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {VScrollModel} newProp - It contains the new value of data.\n     * @param  {VScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(CLS_RTL$1);\n                    }\n                    else {\n                        this.element.classList.remove(CLS_RTL$1);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate$1([\n        Property(null)\n    ], VScroll.prototype, \"scrollStep\", void 0);\n    VScroll = __decorate$1([\n        NotifyPropertyChanges\n    ], VScroll);\n    return VScroll;\n}(Component));\n\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction addScrolling(createElement$$1, container, content, scrollType, enableRtl, offset) {\n    var containerOffset;\n    var contentOffset;\n    var parentElem = container.parentElement;\n    if (scrollType === 'vscroll') {\n        containerOffset = offset || container.getBoundingClientRect().height;\n        contentOffset = content.getBoundingClientRect().height;\n    }\n    else {\n        containerOffset = container.getBoundingClientRect().width;\n        contentOffset = content.getBoundingClientRect().width;\n    }\n    if (containerOffset < contentOffset) {\n        return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n    }\n    else if (parentElem) {\n        var width = parentElem.getBoundingClientRect().width;\n        if (width < containerOffset && scrollType === 'hscroll') {\n            contentOffset = width;\n            container.style.maxWidth = width + 'px';\n            return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n        }\n        return content;\n    }\n    else {\n        return content;\n    }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset) {\n    var scrollEle = createElement$$1('div', { className: 'e-menu-' + scrollType });\n    container.appendChild(scrollEle);\n    scrollEle.appendChild(content);\n    if (offset) {\n        scrollEle.style.overflow = 'hidden';\n        scrollEle.style.height = offset + 'px';\n    }\n    else {\n        scrollEle.style.maxHeight = container.style.maxHeight;\n        container.style.overflow = 'hidden';\n    }\n    var scrollObj;\n    if (scrollType === 'vscroll') {\n        scrollObj = new VScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n    }\n    else {\n        scrollObj = new HScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetWidth;\n    }\n    return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\nfunction destroyScroll(scrollObj, element, skipEle) {\n    if (scrollObj) {\n        var menu = select('.e-menu-parent', element);\n        if (menu) {\n            if (!skipEle || skipEle === menu) {\n                scrollObj.destroy();\n                element.parentElement.appendChild(menu);\n                detach(element);\n            }\n        }\n        else {\n            scrollObj.destroy();\n            detach(element);\n        }\n    }\n}\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar TAB = 'tab';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\nvar POPUP = 'e-menu-popup';\nvar TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\nvar FieldSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property('id')\n    ], FieldSettings.prototype, \"itemId\", void 0);\n    __decorate$2([\n        Property('parentId')\n    ], FieldSettings.prototype, \"parentId\", void 0);\n    __decorate$2([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate$2([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate$2([\n        Property('url')\n    ], FieldSettings.prototype, \"url\", void 0);\n    __decorate$2([\n        Property('separator')\n    ], FieldSettings.prototype, \"separator\", void 0);\n    __decorate$2([\n        Property('items')\n    ], FieldSettings.prototype, \"children\", void 0);\n    return FieldSettings;\n}(ChildProperty));\n/**\n * Specifies menu items.\n */\nvar MenuItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property(null)\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate$2([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\n/**\n * Animation configuration settings.\n */\nvar MenuAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(MenuAnimationSettings, _super);\n    function MenuAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property('SlideDown')\n    ], MenuAnimationSettings.prototype, \"effect\", void 0);\n    __decorate$2([\n        Property(400)\n    ], MenuAnimationSettings.prototype, \"duration\", void 0);\n    __decorate$2([\n        Property('ease')\n    ], MenuAnimationSettings.prototype, \"easing\", void 0);\n    return MenuAnimationSettings;\n}(ChildProperty));\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\nvar MenuBase = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(MenuBase, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {MenuBaseModel} options - Specifies the menu base model\n     * @param {string | HTMLUListElement} element - Specifies the element\n     */\n    function MenuBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.navIdx = [];\n        _this.animation = new Animation({});\n        _this.isTapHold = false;\n        _this.tempItem = [];\n        _this.showSubMenuOn = 'Auto';\n        return _this;\n    }\n    /**\n     * Initialized third party configuration settings.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.preRender = function () {\n        if (!this.isMenu) {\n            var ul = void 0;\n            if (this.element.tagName === 'EJS-CONTEXTMENU') {\n                ul = this.createElement('ul', {\n                    id: getUniqueID(this.getModuleName()), className: 'e-control e-lib e-' + this.getModuleName()\n                });\n                var ejInst = getValue('ej2_instances', this.element);\n                removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                this.clonedElement = this.element;\n                this.element = ul;\n                setValue('ej2_instances', ejInst, this.element);\n            }\n            else {\n                ul = this.createElement('ul', { id: getUniqueID(this.getModuleName()) });\n                append([].slice.call(this.element.cloneNode(true).children), ul);\n                var refEle = this.element.nextElementSibling;\n                if (refEle) {\n                    this.element.parentElement.insertBefore(ul, refEle);\n                }\n                else {\n                    this.element.parentElement.appendChild(ul);\n                }\n                this.clonedElement = ul;\n            }\n            this.clonedElement.style.display = 'none';\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            var ele = this.element;\n            var ejInstance = getValue('ej2_instances', ele);\n            var ul = this.createElement('ul');\n            var wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.clonedElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.render = function () {\n        var _this = this;\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n        this.renderComplete();\n        var wrapper = this.getWrapper();\n        if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n            requestAnimationFrame(function () {\n                addScrolling(_this.createElement, wrapper, _this.element, 'hscroll', _this.enableRtl);\n            });\n        }\n    };\n    MenuBase.prototype.initialize = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        wrapper.appendChild(this.element);\n        if (this.isMenu && this.hamburgerMode) {\n            if (!this.target) {\n                this.createHeaderContainer(wrapper);\n            }\n        }\n        this.defaultOption = this.showItemOnClick;\n    };\n    MenuBase.prototype.renderItems = function () {\n        if (!this.items.length) {\n            var items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            if (isBlazor() && !this.isMenu) {\n                this.element = this.removeChildElement(this.element);\n            }\n            else {\n                this.element.innerHTML = '';\n            }\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n        if (this.isMenu) {\n            if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n                this.setBlankIconStyle(this.element);\n            }\n            if (this.enableScrolling) {\n                var wrapper = this.getWrapper();\n                if (this.element.classList.contains('e-vertical')) {\n                    addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n                }\n                else {\n                    addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n                }\n                else {\n                    if (Browser.isIos) {\n                        new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                    }\n                    else {\n                        EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                    }\n                }\n            }\n            this.targetElement = target;\n            if (!this.isMenu) {\n                EventHandler.add(this.targetElement, 'scroll', this.scrollHandler, this);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_1 = _a[_i];\n                    EventHandler.add(parent_1, 'scroll', this.scrollHandler, this);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            this.delegateMoverHandler = this.moverHandler.bind(this);\n            this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n            EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        this.wireKeyboardEvent(wrapper);\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    MenuBase.prototype.wireKeyboardEvent = function (element) {\n        var keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n            keyConfigs.tab = TAB;\n        }\n        new KeyboardEvents(element, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n    };\n    MenuBase.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()\n            && (!closest(e.target, '.e-' + this.getModuleName() + '-popup'))) {\n            this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n        }\n    };\n    MenuBase.prototype.keyBoardHandler = function (e) {\n        var actionName = '';\n        var trgt = e.target;\n        var actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical')\n            && this.navIdx.length < 1;\n        e.preventDefault();\n        if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n        }\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n            case TAB:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    this.rightEnterKeyHandler(e);\n                }\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    };\n    MenuBase.prototype.upDownKeyHandler = function (e) {\n        var cul = this.getUlByNavIdx();\n        var defaultIdx = (e.action === DOWNARROW || e.action === HOME || e.action === TAB) ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                if (e.action === DOWNARROW) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    MenuBase.prototype.isValidLI = function (cli, index, action) {\n        var cul = this.getUlByNavIdx();\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            if ((action === DOWNARROW) || (action === RIGHTARROW)) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    MenuBase.prototype.getUlByNavIdx = function (navIdxLen) {\n        if (navIdxLen === void 0) { navIdxLen = this.navIdx.length; }\n        if (this.isMenu) {\n            var popup = [this.getWrapper()].concat([].slice.call(selectAll('.' + POPUP)))[navIdxLen];\n            return isNullOrUndefined(popup) ? null : select('.e-menu-parent', popup);\n        }\n        else {\n            return this.getWrapper().children[navIdxLen];\n        }\n    };\n    MenuBase.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var cul = this.getUlByNavIdx();\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.keyType = 'right';\n                this.action = e.action;\n                this.openMenu(fli, item, -1, -1, e);\n            }\n            else {\n                if (e.action === ENTER) {\n                    if (this.isMenu && this.navIdx.length === 0) {\n                        this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n                    }\n                    else {\n                        fli.classList.remove(FOCUSED);\n                    }\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item, event: e };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            this.keyType = 'left';\n            this.closeMenu(this.navIdx.length, e);\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    MenuBase.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    MenuBase.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    MenuBase.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.currentTarget = e.target;\n        this.isCMenu = true;\n        this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n        this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n        this.closeMenu(null, e);\n        if (this.isCMenu) {\n            if (this.canOpen(e.target)) {\n                this.openMenu(null, null, this.pageY, this.pageX, e);\n            }\n            this.isCMenu = false;\n        }\n    };\n    // eslint:disable-next-line:max-func-body-length\n    MenuBase.prototype.closeMenu = function (ulIndex, e, isIterated) {\n        var _this = this;\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var sli = void 0;\n            var item_1;\n            var wrapper_1 = this.getWrapper();\n            var beforeCloseArgs = void 0;\n            var items_1;\n            var popups = this.getPopups();\n            var isClose = false;\n            var cnt = this.isMenu ? popups.length + 1 : wrapper_1.childElementCount;\n            var ul_1 = this.isMenu && cnt !== 1 ? select('.e-ul', popups[cnt - 2])\n                : selectAll('.e-menu-parent', wrapper_1)[cnt - 1];\n            if (this.isMenu && ul_1.classList.contains('e-menu')) {\n                sli = this.getLIByClass(ul_1, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                isClose = true;\n            }\n            if (!isClose) {\n                var liElem_1 = e && e.target && this.getLI(e.target);\n                if (liElem_1) {\n                    this.cli = liElem_1;\n                }\n                else {\n                    this.cli = ul_1.children[0];\n                }\n                item_1 = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items_1 = item_1 ? item_1.items : this.items;\n                beforeCloseArgs = { element: ul_1, parentItem: item_1, items: items_1, event: e, cancel: false, isFocused: true };\n                this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    var popupEle;\n                    var closeArgs;\n                    var popupId = '';\n                    var popupObj;\n                    var isOpen = !observedCloseArgs.cancel;\n                    if (isOpen || _this.isCMenu) {\n                        if (_this.isMenu) {\n                            popupEle = closest(ul_1, '.' + POPUP);\n                            if (_this.hamburgerMode) {\n                                popupEle.parentElement.style.minHeight = '';\n                                closest(ul_1, '.e-menu-item').setAttribute('aria-expanded', 'false');\n                            }\n                            _this.unWireKeyboardEvent(popupEle);\n                            destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n                            popupObj = getInstance(popupEle, Popup);\n                            popupObj.hide();\n                            popupId = popupEle.id;\n                            popupObj.destroy();\n                            detach(popupEle);\n                        }\n                        else {\n                            _this.toggleAnimation(ul_1, false);\n                        }\n                        closeArgs = { element: ul_1, parentItem: item_1, items: items_1 };\n                        _this.trigger('onClose', closeArgs);\n                        _this.navIdx.pop();\n                    }\n                    _this.updateReactTemplate();\n                    var trgtliId;\n                    var closedLi;\n                    var trgtLi;\n                    var trgtpopUp = _this.getWrapper() && _this.getUlByNavIdx();\n                    if (_this.isCMenu) {\n                        if (_this.canOpen(e.target)) {\n                            _this.openMenu(null, null, _this.pageY, _this.pageX, e);\n                        }\n                        _this.isCMenu = false;\n                    }\n                    if (_this.isMenu && trgtpopUp && popupId.length) {\n                        trgtliId = new RegExp('(.*)-ej2menu-' + _this.element.id + '-popup').exec(popupId)[1];\n                        closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n                        trgtLi = (liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]'));\n                    }\n                    var submenus = liElem_1 && liElem_1.querySelectorAll('.e-menu-item');\n                    if (isOpen && _this.hamburgerMode && ulIndex && !(submenus.length)) {\n                        _this.afterCloseMenu(e);\n                    }\n                    else if (isOpen && !_this.hamburgerMode && _this.navIdx.length && closedLi && !trgtLi && _this.keyType !== \"left\") {\n                        var ele = (e && e.target.classList.contains('e-vscroll'))\n                            ? closest(e.target, '.e-menu-wrapper') : null;\n                        if (ele) {\n                            ele = ele.querySelector('.e-menu-item');\n                            if (_this.showItemOnClick || (ele && _this.getIndex(ele.id, true).length <= _this.navIdx.length)) {\n                                _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e, true);\n                            }\n                        }\n                        else {\n                            _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e);\n                        }\n                    }\n                    else if (isOpen && !isIterated && !ulIndex && ((_this.hamburgerMode && _this.navIdx.length) ||\n                        _this.navIdx.length === 1)) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && isNullOrUndefined(ulIndex) && _this.navIdx.length) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && !_this.isMenu && !ulIndex && _this.navIdx.length === 0 && !_this.isMenusClosed) {\n                        _this.isMenusClosed = true;\n                        _this.closeMenu(0, e);\n                    }\n                    else if (isOpen && _this.isMenu && e && e.target &&\n                        _this.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n                        _this.closeMenu(0, e);\n                    }\n                    else if (isOpen && !_this.isMenu && selectAll('.e-menu-parent', wrapper_1)[ulIndex - 1] && e.which === 3) {\n                        _this.closeMenu(null, e);\n                    }\n                    else {\n                        if (isOpen && (_this.keyType === 'right' || _this.keyType === 'click')) {\n                            _this.afterCloseMenu(e);\n                        }\n                        else {\n                            var cul = _this.getUlByNavIdx();\n                            var sli_1 = _this.getLIByClass(cul, SELECTED);\n                            if (sli_1) {\n                                sli_1.setAttribute('aria-expanded', 'false');\n                                sli_1.classList.remove(SELECTED);\n                                if (observedCloseArgs.isFocused && liElem_1 || _this.keyType === \"left\") {\n                                    sli_1.classList.add(FOCUSED);\n                                    sli_1.focus();\n                                }\n                            }\n                            if (!isOpen && _this.hamburgerMode && liElem_1 && liElem_1.getAttribute('aria-expanded') === 'false' &&\n                                liElem_1.getAttribute('aria-haspopup') === 'true') {\n                                if (closest(liElem_1, '.e-menu-parent.e-control')) {\n                                    _this.navIdx = [];\n                                }\n                                else {\n                                    _this.navIdx.pop();\n                                }\n                                _this.navIdx.push(_this.cliIdx);\n                                var item_2 = _this.getItem(_this.navIdx);\n                                liElem_1.setAttribute('aria-expanded', 'true');\n                                _this.openMenu(liElem_1, item_2, -1, -1, e);\n                            }\n                        }\n                        if (_this.navIdx.length < 1) {\n                            if (_this.showSubMenuOn === 'Hover' || _this.showSubMenuOn === 'Click') {\n                                _this.showItemOnClick = _this.defaultOption;\n                                _this.showSubMenuOn = 'Auto';\n                            }\n                        }\n                    }\n                    _this.removeStateWrapper();\n                });\n            }\n        }\n    };\n    MenuBase.prototype.updateReactTemplate = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact && this.template && this.navIdx.length === 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var portals = this.portals.splice(0, this.items.length);\n            this.clearTemplate(['template']);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.portals = portals;\n            this.renderReactTemplates();\n        }\n    };\n    MenuBase.prototype.getMenuItemModel = function (item, level) {\n        if (isNullOrUndefined(item)) {\n            return null;\n        }\n        if (isNullOrUndefined(level)) {\n            level = 0;\n        }\n        var fields = this.getFields(level);\n        return { text: item[fields.text], id: item[fields.id], items: item[fields.child], separator: item[fields.separator],\n            iconCss: item[fields.iconCss], url: item[fields.url] };\n    };\n    MenuBase.prototype.getPopups = function () {\n        var _this = this;\n        var popups = [];\n        [].slice.call(document.querySelectorAll('.' + POPUP)).forEach(function (elem) {\n            if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && _this.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n                popups.push(elem);\n            }\n        });\n        return popups;\n    };\n    MenuBase.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    MenuBase.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = filter.length; i < len; i++) {\n                if (closest(target, '.' + filter[i])) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n        var _this = this;\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var wrapper = this.getWrapper();\n        this.lItem = li;\n        var elemId = this.element.id !== '' ? this.element.id : 'menu';\n        this.isMenusClosed = false;\n        if (isNullOrUndefined(top)) {\n            top = -1;\n        }\n        if (isNullOrUndefined(left)) {\n            left = -1;\n        }\n        if (li) {\n            this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                var hdata = new MenuItem(this.items[0], 'items', data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                this.uList.insertBefore(hli, this.uList.children[0]);\n            }\n            if (this.isMenu) {\n                this.popupWrapper = this.createElement('div', {\n                    className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP, id: li.id + '-ej2menu-' + elemId + '-popup'\n                });\n                if (this.hamburgerMode) {\n                    top = li.offsetHeight;\n                    li.appendChild(this.popupWrapper);\n                }\n                else {\n                    document.body.appendChild(this.popupWrapper);\n                }\n                this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n                this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n                if (this.template) {\n                    this.renderReactTemplates();\n                }\n                if (this.hamburgerMode) {\n                    this.calculateIndentSize(this.uList, li);\n                }\n                else {\n                    if (this.cssClass) {\n                        addClass([this.popupWrapper], this.cssClass.split(' '));\n                    }\n                    this.popupObj.hide();\n                }\n                if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, 0, 0, 'menu'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n                }\n            }\n            else {\n                this.uList.style.zIndex = this.element.style.zIndex;\n                wrapper.appendChild(this.uList);\n                if (!this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, top, left, 'none'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n                }\n            }\n        }\n        else {\n            this.uList = this.element;\n            this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n            this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n        }\n    };\n    MenuBase.prototype.calculateIndentSize = function (ul, li) {\n        var liStyle = getComputedStyle(li);\n        var liIndent = parseInt(liStyle.textIndent, 10);\n        if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n            liIndent *= 2;\n        }\n        else {\n            liIndent += (liIndent / 4);\n        }\n        ul.style.textIndent = liIndent + 'px';\n        var blankIconElem = ul.querySelectorAll('.e-blankicon');\n        if (blankIconElem && blankIconElem.length) {\n            var menuIconElem = ul.querySelector('.e-menu-icon');\n            var menuIconElemStyle = getComputedStyle(menuIconElem);\n            var blankIconIndent = (parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent);\n            for (var i = 0; i < blankIconElem.length; i++) {\n                blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n            }\n        }\n    };\n    MenuBase.prototype.generatePopup = function (popupWrapper, ul, li, isNestedOrVertical) {\n        var _this = this;\n        var popupObj = new Popup(popupWrapper, {\n            actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n            relateTo: li,\n            collision: this.hamburgerMode ? { X: 'none', Y: 'none' } : { X: isNestedOrVertical ||\n                    this.enableRtl ? 'none' : 'flip', Y: 'fit' },\n            position: (isNestedOrVertical && !this.hamburgerMode) ? { X: 'right', Y: 'top' } : { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            enableRtl: this.enableRtl,\n            content: ul,\n            open: function () {\n                var scrollEle = select('.e-menu-vscroll', popupObj.element);\n                if (scrollEle) {\n                    scrollEle.style.height = 'inherit';\n                    scrollEle.style.maxHeight = '';\n                }\n                var ul = select('.e-ul', popupObj.element);\n                popupObj.element.style.maxHeight = '';\n                ul.focus();\n                _this.triggerOpen(ul);\n            }\n        });\n        return popupObj;\n    };\n    MenuBase.prototype.createHeaderContainer = function (wrapper) {\n        wrapper = wrapper || this.getWrapper();\n        var spanElem = this.createElement('span', { className: 'e-' + this.getModuleName() + '-header' });\n        var tempTitle = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n        var spanTitle = this.createElement('span', {\n            className: 'e-' + this.getModuleName() + '-title', innerHTML: tempTitle\n        });\n        var spanIcon = this.createElement('span', {\n            className: 'e-icons e-' + this.getModuleName() + '-icon', attrs: { 'tabindex': '0' }\n        });\n        spanElem.appendChild(spanTitle);\n        spanElem.appendChild(spanIcon);\n        wrapper.insertBefore(spanElem, this.element);\n    };\n    MenuBase.prototype.openHamburgerMenu = function (e) {\n        if (this.hamburgerMode) {\n            this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n        }\n    };\n    MenuBase.prototype.closeHamburgerMenu = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.element, parentItem: null, event: e,\n            items: this.items, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedHamburgerCloseArgs) {\n            if (!observedHamburgerCloseArgs.cancel) {\n                _this.closeMenu(null, e);\n                _this.element.classList.add('e-hide-menu');\n                _this.trigger('onClose', { element: _this.element, parentItem: null, items: _this.items });\n            }\n        });\n    };\n    MenuBase.prototype.callFit = function (element, x, y, top, left) {\n        return fit(element, null, { X: x, Y: y }, { top: top, left: left });\n    };\n    MenuBase.prototype.triggerBeforeOpen = function (li, ul, item, e, top, left, type) {\n        var _this = this;\n        var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        var eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left, showSubMenuOn: 'Auto'\n        };\n        var menuType = type;\n        this.trigger('beforeOpen', eventArgs, function (observedOpenArgs) {\n            switch (menuType) {\n                case 'menu':\n                    if (!_this.hamburgerMode) {\n                        if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n                            _this.showItemOnClick = !_this.defaultOption;\n                            _this.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n                        }\n                        _this.top = observedOpenArgs.top;\n                        _this.left = observedOpenArgs.left;\n                    }\n                    _this.popupWrapper.style.display = 'block';\n                    if (!_this.hamburgerMode) {\n                        _this.popupWrapper.style.maxHeight = _this.popupWrapper.getBoundingClientRect().height + 'px';\n                        if (_this.enableScrolling) {\n                            addScrolling(_this.createElement, _this.popupWrapper, _this.uList, 'vscroll', _this.enableRtl);\n                        }\n                        _this.checkScrollOffset(e);\n                    }\n                    if (!_this.hamburgerMode && !_this.left && !_this.top) {\n                        _this.popupObj.refreshPosition(_this.lItem, true);\n                        _this.left = parseInt(_this.popupWrapper.style.left, 10);\n                        _this.top = parseInt(_this.popupWrapper.style.top, 10);\n                        if (_this.enableRtl) {\n                            _this.left =\n                                _this.isNestedOrVertical ? _this.left - _this.popupWrapper.offsetWidth - _this.lItem.parentElement.offsetWidth + 2\n                                    : _this.left - _this.popupWrapper.offsetWidth + _this.lItem.offsetWidth;\n                        }\n                        if (_this.template && (_this.isReact || _this.isAngular)) {\n                            requestAnimationFrame(function () {\n                                _this.collision();\n                                _this.popupWrapper.style.display = '';\n                            });\n                        }\n                        else {\n                            _this.collision();\n                            _this.popupWrapper.style.display = '';\n                        }\n                    }\n                    else {\n                        _this.popupObj.collision = { X: 'none', Y: 'none' };\n                        _this.popupWrapper.style.display = '';\n                    }\n                    break;\n                case 'none':\n                    _this.top = observedOpenArgs.top;\n                    _this.left = observedOpenArgs.left;\n                    break;\n                case 'hamburger':\n                    if (!observedOpenArgs.cancel) {\n                        _this.element.classList.remove('e-hide-menu');\n                        _this.triggerOpen(_this.element);\n                    }\n                    break;\n            }\n            if (menuType !== 'hamburger') {\n                if (observedOpenArgs.cancel) {\n                    if (_this.isMenu) {\n                        _this.popupObj.destroy();\n                        detach(_this.popupWrapper);\n                    }\n                    else if (ul.className.indexOf('e-ul') > -1) {\n                        detach(ul);\n                    }\n                    _this.navIdx.pop();\n                }\n                else {\n                    if (_this.isMenu) {\n                        if (_this.hamburgerMode) {\n                            _this.popupWrapper.style.top = _this.top + 'px';\n                            _this.popupWrapper.style.left = 0 + 'px';\n                            _this.toggleAnimation(_this.popupWrapper);\n                        }\n                        else {\n                            _this.setBlankIconStyle(_this.popupWrapper);\n                            _this.wireKeyboardEvent(_this.popupWrapper);\n                            rippleEffect(_this.popupWrapper, { selector: '.' + ITEM });\n                            _this.popupWrapper.style.left = _this.left + 'px';\n                            _this.popupWrapper.style.top = _this.top + 'px';\n                            var animationOptions = _this.animationSettings.effect !== 'None' ? {\n                                name: _this.animationSettings.effect, duration: _this.animationSettings.duration,\n                                timingFunction: _this.animationSettings.easing\n                            } : null;\n                            _this.popupObj.show(animationOptions, _this.lItem);\n                        }\n                    }\n                    else {\n                        _this.setBlankIconStyle(_this.uList);\n                        _this.setPosition(_this.lItem, _this.uList, _this.top, _this.left);\n                        _this.toggleAnimation(_this.uList);\n                    }\n                }\n            }\n            if (_this.keyType === 'right') {\n                var cul = _this.getUlByNavIdx();\n                li.classList.remove(FOCUSED);\n                if (_this.isMenu && _this.navIdx.length === 1) {\n                    _this.removeLIStateByClass([SELECTED], [_this.getWrapper()]);\n                }\n                li.classList.add(SELECTED);\n                if (_this.action === ENTER) {\n                    var eventArgs_1 = { element: li, item: item, event: e };\n                    _this.trigger('select', eventArgs_1);\n                }\n                li.focus();\n                cul = _this.getUlByNavIdx();\n                var index = _this.isValidLI(cul.children[0], 0, _this.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n        });\n    };\n    MenuBase.prototype.collision = function () {\n        var collide;\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1\n            || collide.indexOf('left') > -1)) {\n            this.popupObj.collision.X = 'none';\n            var offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n            this.left =\n                this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left\n                    : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n        }\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n            this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n        }\n        this.popupWrapper.style.left = this.left + 'px';\n    };\n    MenuBase.prototype.setBlankIconStyle = function (menu) {\n        var blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n        if (!blankIconList.length) {\n            return;\n        }\n        var iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n        var icon = iconLi.querySelector('.e-menu-icon');\n        if (!icon) {\n            return;\n        }\n        var cssProp = this.enableRtl ? { padding: 'paddingRight', margin: 'marginLeft' } :\n            { padding: 'paddingLeft', margin: 'marginRight' };\n        var iconCssProps = getComputedStyle(icon);\n        var iconSize = parseInt(iconCssProps.fontSize, 10);\n        if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n            iconSize = parseInt(iconCssProps.width, 10);\n        }\n        // eslint:disable\n        var size = iconSize + parseInt(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10) + \"px\";\n        blankIconList.forEach(function (li) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            li.style[cssProp.padding] = size;\n        });\n        // eslint:enable\n    };\n    MenuBase.prototype.checkScrollOffset = function (e) {\n        var wrapper = this.getWrapper();\n        if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n            var trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n            var offsetEle = select('.e-hscroll-bar', wrapper);\n            if (offsetEle.scrollLeft > trgt.offsetLeft) {\n                offsetEle.scrollLeft -= (offsetEle.scrollLeft - trgt.offsetLeft);\n            }\n            var offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n            var offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n            if (offsetLeft < offsetRight) {\n                offsetEle.scrollLeft += (offsetRight - offsetLeft);\n            }\n        }\n    };\n    MenuBase.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (left > -1 && top > -1)) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = this.callFit(ul, false, true, top, left);\n                top = offset.top - 20;\n                if (top < 0) {\n                    var newTop = (pageYOffset + document.documentElement.clientHeight) - ul.getBoundingClientRect().height;\n                    if (newTop > -1) {\n                        top = newTop;\n                    }\n                }\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = this.callFit(ul, true, false, top, left);\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = this.callFit(ul, false, true, top, left);\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    MenuBase.prototype.toggleVisiblity = function (ul, isVisible$$1) {\n        if (isVisible$$1 === void 0) { isVisible$$1 = true; }\n        ul.style.visibility = isVisible$$1 ? 'hidden' : '';\n        ul.style.display = isVisible$$1 ? 'block' : 'none';\n    };\n    MenuBase.prototype.createItems = function (items) {\n        var _this = this;\n        var level = this.navIdx ? this.navIdx.length : 0;\n        var fields = this.getFields(level);\n        var showIcon = this.hasField(items, this.getField('iconCss', level));\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: fields,\n            template: this.template,\n            itemNavigable: true,\n            itemCreating: function (args) {\n                if (!args.curData[args.fields[fields.id]]) {\n                    args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n                }\n                args.curData.htmlAttributes = {\n                    role: 'menuitem',\n                    tabindex: '-1'\n                };\n                if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text] ?\n                        args.curData[args.fields.text] : args.curData[args.fields.id];\n                }\n                if (args.curData[args.fields[fields.iconCss]] === '') {\n                    args.curData[args.fields[fields.iconCss]] = null;\n                }\n            },\n            itemCreated: function (args) {\n                if (args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.removeAttribute('role');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    if (!_this.isMenu) {\n                        args.item.removeAttribute('role');\n                    }\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (_this.isMenu && _this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                    if (args.item.classList.contains('e-level-1')) {\n                        args.item.classList.remove('e-level-1');\n                    }\n                    if (args.item.classList.contains('e-has-child')) {\n                        args.item.classList.remove('e-has-child');\n                    }\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        this.setProperties({ 'items': this.items }, true);\n        if (this.isMenu) {\n            listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n        }\n        var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        return ul;\n    };\n    MenuBase.prototype.moverHandler = function (e) {\n        var trgt = e.target;\n        this.liTrgt = trgt;\n        var cli = this.getLI(trgt);\n        var wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n        var hdrWrapper = this.getWrapper();\n        var regex = new RegExp('-ej2menu-(.*)-popup');\n        var ulId;\n        var isDifferentElem = false;\n        if (!wrapper) {\n            return;\n        }\n        if (wrapper.id !== '') {\n            ulId = regex.exec(wrapper.id)[1];\n        }\n        else {\n            ulId = wrapper.querySelector('ul').id;\n        }\n        if (ulId !== this.element.id) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n            if (this.navIdx.length) {\n                isDifferentElem = true;\n            }\n            else {\n                return;\n            }\n        }\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n        }\n        if (this.isMenu) {\n            if (!this.showItemOnClick && (trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup'))\n                && (!cli || (cli && !this.getIndex(cli.id, true).length)) && this.showSubMenuOn !== 'Hover') {\n                this.removeLIStateByClass([FOCUSED], [wrapper]);\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            else if (isDifferentElem && !this.showItemOnClick) {\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!this.isClosed) {\n                this.removeStateWrapper();\n            }\n            this.isClosed = false;\n        }\n    };\n    MenuBase.prototype.removeStateWrapper = function () {\n        if (this.liTrgt) {\n            var wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n            if (this.liTrgt.tagName === 'DIV' && wrapper) {\n                this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n            }\n        }\n    };\n    MenuBase.prototype.removeLIStateByClass = function (classList$$1, element) {\n        var li;\n        var _loop_1 = function (i) {\n            classList$$1.forEach(function (className) {\n                li = select('.' + className, element[i]);\n                if (li) {\n                    li.classList.remove(className);\n                }\n            });\n        };\n        for (var i = 0; i < element.length; i++) {\n            _loop_1(i);\n        }\n    };\n    MenuBase.prototype.getField = function (propName, level) {\n        if (level === void 0) { level = 0; }\n        var fieldName = this.fields[propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString()\n                : fieldName[level].toString());\n    };\n    MenuBase.prototype.getFields = function (level) {\n        if (level === void 0) { level = 0; }\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    };\n    MenuBase.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MenuBase.prototype.menuHeaderClickHandler = function (e) {\n        if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n            return;\n        }\n        if (this.element.className.indexOf('e-hide-menu') > -1) {\n            this.openHamburgerMenu(e);\n        }\n        else {\n            this.closeHamburgerMenu(e);\n        }\n    };\n    MenuBase.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.cli = this.getLI(trgt);\n            var regex = new RegExp('-ej2menu-(.*)-popup');\n            var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            var isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0\n                : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n            if (Browser.isDevice && this.isMenu) {\n                this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n                this.mouseDownHandler(e);\n            }\n            if (cli && cliWrapper && this.isMenu) {\n                var cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n                if (this.element.id !== cliWrapperId) {\n                    return;\n                }\n            }\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item, event: e };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        this.showSubMenu = true;\n                        var cul = cli.parentNode;\n                        this.cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            var culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper'))\n                                : this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === this.cliIdx) {\n                                this.showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.isClosed = true;\n                                this.keyType = 'click';\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                            }\n                        }\n                        if (!this.isClosed) {\n                            this.afterCloseMenu(e);\n                        }\n                        this.isClosed = false;\n                    }\n                }\n            }\n            else {\n                if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n                    var popupEle = closest(trgt, '.' + POPUP);\n                    var cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n                    if (cIdx < this.navIdx.length) {\n                        this.closeMenu(cIdx + 1, e);\n                        if (popupEle) {\n                            this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n                        }\n                    }\n                }\n                else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN'\n                    && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') &&\n                        !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n                        if (!cli) {\n                            this.removeLIStateByClass([SELECTED], [wrapper]);\n                        }\n                        if (!cli || !cli.querySelector('.' + CARET)) {\n                            this.closeMenu(null, e);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MenuBase.prototype.afterCloseMenu = function (e) {\n        var isHeader;\n        if (this.showSubMenu) {\n            if (this.showItemOnClick && this.navIdx.length === 0) {\n                isHeader = closest(e.target, '.e-menu-parent.e-control');\n            }\n            else {\n                isHeader = closest(this.element, '.e-menu-parent.e-control');\n            }\n            var idx = this.navIdx.concat(this.cliIdx);\n            var item = this.getItem(idx);\n            if (item && item[this.getField('children', idx.length - 1)] &&\n                item[this.getField('children', idx.length - 1)].length) {\n                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                    this.setLISelected(this.cli);\n                }\n                if ((!this.hamburgerMode && isHeader) || (this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false')) {\n                    this.cli.setAttribute('aria-expanded', 'true');\n                    this.navIdx.push(this.cliIdx);\n                    this.openMenu(this.cli, item, null, null, e);\n                }\n            }\n            else {\n                if (e.type !== 'mouseover') {\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!isHeader) {\n                var cul = this.getUlByNavIdx();\n                var sli = this.getLIByClass(cul, SELECTED);\n                if (sli) {\n                    sli.setAttribute('aria-expanded', 'false');\n                    sli.classList.remove(SELECTED);\n                }\n            }\n        }\n        this.keyType = '';\n    };\n    MenuBase.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        if (!this.isMenu) {\n            li.classList.remove(FOCUSED);\n        }\n        li.classList.add(SELECTED);\n    };\n    MenuBase.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    /**\n     * This method is used to get the index of the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.getItemIndex = function (item, isUniqueId) {\n        var idx;\n        if (typeof item === 'string') {\n            idx = item;\n        }\n        else {\n            idx = item.id;\n        }\n        var isText = (isUniqueId === false) ? false : true;\n        var navIdx = this.getIndex(idx, isText);\n        return navIdx;\n    };\n    /**\n     * This method is used to set the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem} item - item need to be updated.\n     * @param {string} id - id / text to be passed to update the item.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.setItem = function (item, id, isUniqueId) {\n        var idx;\n        if (isUniqueId) {\n            idx = id ? id : item.id;\n        }\n        else {\n            idx = id ? id : item.text;\n        }\n        var navIdx = this.getIndex(idx, isUniqueId);\n        var newItem = this.getItem(navIdx);\n        Object.assign(newItem, item);\n    };\n    MenuBase.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    MenuBase.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    };\n    MenuBase.prototype.setItems = function (newItems, navIdx) {\n        var items = this.getItems(navIdx);\n        items.splice(0, items.length);\n        for (var i = 0; i < newItems.length; i++) {\n            items.splice(i, 0, newItems[i]);\n        }\n    };\n    MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    MenuBase.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    };\n    MenuBase.prototype.updateItemsByNavIdx = function () {\n        var items = this.items;\n        var count = 0;\n        for (var index = 0; index < this.navIdx.length; index++) {\n            items = items[index].items;\n            if (!items) {\n                break;\n            }\n            count++;\n            var ul = this.getUlByNavIdx(count);\n            if (!ul) {\n                break;\n            }\n            this.updateItem(ul, items);\n        }\n    };\n    MenuBase.prototype.removeChildElement = function (elem) {\n        while (elem.firstElementChild) {\n            elem.removeChild(elem.firstElementChild);\n        }\n        return elem;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuBaseModel} newProp - Specifies the new properties\n     * @param {MenuBaseModel} oldProp - Specifies the old properties\n     * @returns {void}\n     */\n    MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        var _loop_2 = function (prop) {\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this_1.unWireEvents();\n                    this_1.showItemOnClick = newProp.showItemOnClick;\n                    this_1.wireEvents();\n                    break;\n                case 'enableScrolling':\n                    if (newProp.enableScrolling) {\n                        var ul_2;\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                        }\n                        else {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                        }\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_2 = select('.e-ul', wrapper);\n                            addScrolling(_this.createElement, wrapper, ul_2, 'vscroll', _this.enableRtl);\n                        });\n                    }\n                    else {\n                        var ul_3 = wrapper.children[0];\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                        }\n                        else {\n                            destroyScroll(getInstance(ul_3, HScroll), ul_3);\n                        }\n                        wrapper.style.overflow = '';\n                        wrapper.appendChild(this_1.element);\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_3 = wrapper.children[0];\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                            wrapper.style.overflow = '';\n                        });\n                    }\n                    break;\n                case 'items': {\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    if (!Object.keys(oldProp.items).length) {\n                        this_1.updateItem(this_1.element, this_1.items);\n                        if (this_1.enableScrolling && this_1.element.parentElement.classList.contains('e-custom-scroll')) {\n                            if (this_1.element.classList.contains('e-vertical')) {\n                                addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                            }\n                            else {\n                                addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                            }\n                        }\n                        if (!this_1.hamburgerMode) {\n                            for (var i = 1, count = wrapper.childElementCount; i < count; i++) {\n                                detach(wrapper.lastElementChild);\n                            }\n                        }\n                        this_1.navIdx = [];\n                    }\n                    else {\n                        var keys = Object.keys(newProp.items);\n                        for (var i = 0; i < keys.length; i++) {\n                            navIdx = this_1.getChangedItemIndex(newProp, [], Number(keys[i]));\n                            if (navIdx.length <= this_1.getWrapper().children.length) {\n                                idx = navIdx.pop();\n                                item = this_1.getItems(navIdx);\n                                this_1.insertAfter([item[idx]], item[idx].text);\n                                this_1.removeItem(item, navIdx, idx);\n                                this_1.setItems(item, navIdx);\n                            }\n                            navIdx.length = 0;\n                        }\n                    }\n                    break;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_2(prop);\n        }\n    };\n    MenuBase.prototype.updateItem = function (ul, items) {\n        if (isBlazor() && !this.isMenu) {\n            ul = this.removeChildElement(ul);\n        }\n        else {\n            if (this.enableScrolling) {\n                var wrapper1 = this.getWrapper();\n                var ul1 = wrapper1.children[0];\n                if (this.element.classList.contains('e-vertical')) {\n                    destroyScroll(getInstance(ul1, VScroll), ul1);\n                }\n                else {\n                    destroyScroll(getInstance(ul1, HScroll), ul1);\n                }\n            }\n            ul.innerHTML = '';\n        }\n        var lis = [].slice.call(this.createItems(items).children);\n        lis.forEach(function (li) {\n            ul.appendChild(li);\n        });\n    };\n    MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            var popStr = Object.keys(item.items).pop();\n            if (popStr) {\n                this.getChangedItemIndex(item, index, Number(popStr));\n            }\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     *\n     * @private\n     * @param {string} targetSelctor - Specifies the target selector\n     * @returns {void}\n     */\n    MenuBase.prototype.unWireEvents = function (targetSelctor) {\n        if (targetSelctor === void 0) { targetSelctor = this.target; }\n        var wrapper = this.getWrapper();\n        if (targetSelctor) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(targetSelctor);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n                }\n                else {\n                    if (Browser.isIos) {\n                        touchModule = getInstance(target, Touch);\n                        if (touchModule) {\n                            touchModule.destroy();\n                        }\n                    }\n                    else {\n                        EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                    }\n                }\n            }\n            if (!this.isMenu) {\n                EventHandler.remove(this.targetElement, 'scroll', this.scrollHandler);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_2 = _a[_i];\n                    EventHandler.remove(parent_2, 'scroll', this.scrollHandler);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n            EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        this.unWireKeyboardEvent(wrapper);\n        this.rippleFn();\n    };\n    MenuBase.prototype.unWireKeyboardEvent = function (element) {\n        var keyboardModule = getInstance(element, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        var pUlHeight;\n        var pElement;\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement = options.element.parentElement;\n                        options.element.style.position = 'absolute';\n                        pUlHeight = pElement.offsetHeight;\n                        options.element.style.maxHeight = options.element.offsetHeight + 'px';\n                        pElement.style.maxHeight = '';\n                    }\n                    else {\n                        options.element.style.display = 'block';\n                        options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                    }\n                },\n                progress: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement.style.minHeight = (pUlHeight + options.element.offsetHeight) + 'px';\n                    }\n                },\n                end: function (options) {\n                    if (_this.hamburgerMode) {\n                        options.element.style.position = '';\n                        options.element.style.maxHeight = '';\n                        pElement.style.minHeight = '';\n                        options.element.style.top = 0 + 'px';\n                        options.element.children[0].focus();\n                        _this.triggerOpen(options.element.children[0]);\n                    }\n                    else {\n                        _this.end(options.element, isMenuOpen);\n                    }\n                }\n            });\n        }\n    };\n    MenuBase.prototype.triggerOpen = function (ul) {\n        var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n        var eventArgs = {\n            element: ul, parentItem: item, items: item ? item.items : this.items\n        };\n        this.trigger('onOpen', eventArgs);\n    };\n    MenuBase.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            this.triggerOpen(ul);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                if (this.currentTarget) {\n                    if (!(this.currentTarget.classList.contains(\"e-numerictextbox\") || this.currentTarget.classList.contains(\"e-textbox\"))) {\n                        var ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                        if (ele) {\n                            ele.querySelector('.' + SELECTED).focus();\n                        }\n                        else {\n                            this.element.focus();\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    MenuBase.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get wrapper element.\n     *\n     * @returns {Element} - Wrapper element\n     * @private\n     */\n    MenuBase.prototype.getWrapper = function () {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    };\n    MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n        if (items === void 0) { items = this.items; }\n        if (nIndex === void 0) { nIndex = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        if (level === void 0) { level = 0; }\n        var item;\n        level = isCallBack ? level + 1 : 0;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var skipItem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            if (this.navIdx.length) {\n                if (navIdx.length !== 1) {\n                    skipItem = false;\n                    for (var i_1 = 0, len = navIdx.length - 1; i_1 < len; i_1++) {\n                        if (navIdx[i_1] !== this.navIdx[i_1]) {\n                            skipItem = true;\n                            break;\n                        }\n                    }\n                    if (skipItem) {\n                        continue;\n                    }\n                }\n            }\n            else {\n                if (navIdx.length !== 1) {\n                    continue;\n                }\n            }\n            idx = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be shown.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be hidden.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                if (ishide) {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.add(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.add(HIDE);\n                    }\n                }\n                else {\n                    if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                        ul.children[index + 1].classList.remove(HIDE);\n                    }\n                    else {\n                        ul.children[index].classList.remove(HIDE);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     *\n     * @param {string[]} items Text items that needs to be removed.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            if (!isNullOrUndefined(idx)) {\n                this.removeItem(iitems, navIdx, idx);\n            }\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item after that the element to be inserted.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item before that the element to be inserted.\n     * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n            if (navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                li = this.createItems(iitems).children[idx];\n                var ul = this.isMenu ? select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n                ul.insertBefore(li, ul.children[idx]);\n            }\n        }\n    };\n    MenuBase.prototype.removeAttributes = function () {\n        var _this = this;\n        ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n            _this.element.style.removeProperty(key);\n        });\n        ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n            if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n                _this.element.classList.remove('e-menu-parent');\n            }\n            if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                _this.element.removeAttribute(key);\n            }\n            if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n                _this.element.classList.remove('e-vertical');\n            }\n        });\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    MenuBase.prototype.destroy = function () {\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            this.unWireEvents();\n            if (!this.isMenu) {\n                this.clonedElement.style.display = '';\n                if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n                    addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                    this.element = this.clonedElement;\n                }\n                else {\n                    if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n                        this.setProperties({ 'items': [] }, true);\n                    }\n                    if (document.getElementById(this.clonedElement.id)) {\n                        var refEle = this.clonedElement.nextElementSibling;\n                        if (refEle && refEle !== wrapper) {\n                            this.clonedElement.parentElement.insertBefore(this.element, refEle);\n                        }\n                        else {\n                            this.clonedElement.parentElement.appendChild(this.element);\n                        }\n                        if (isBlazor() && !this.isMenu) {\n                            this.element = this.removeChildElement(this.element);\n                        }\n                        else {\n                            this.element.innerHTML = '';\n                        }\n                        append([].slice.call(this.clonedElement.children), this.element);\n                        detach(this.clonedElement);\n                        this.removeAttributes();\n                    }\n                }\n                this.clonedElement = null;\n            }\n            else {\n                this.closeMenu();\n                if (isBlazor() && !this.isMenu) {\n                    this.element = this.removeChildElement(this.element);\n                }\n                else {\n                    this.element.innerHTML = '';\n                }\n                this.removeAttributes();\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n                this.clonedElement = null;\n            }\n            if (this.isMenu && this.clonedElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n            _super.prototype.destroy.call(this);\n            if (this.template) {\n                this.clearTemplate(['template']);\n            }\n        }\n        this.rippleFn = null;\n    };\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"beforeItemRender\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"beforeOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"onOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"beforeClose\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"onClose\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"select\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"created\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuBase.prototype, \"cssClass\", void 0);\n    __decorate$2([\n        Property(0)\n    ], MenuBase.prototype, \"hoverDelay\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuBase.prototype, \"showItemOnClick\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuBase.prototype, \"target\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuBase.prototype, \"filter\", void 0);\n    __decorate$2([\n        Property(null)\n    ], MenuBase.prototype, \"template\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuBase.prototype, \"enableScrolling\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$2([\n        Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n    ], MenuBase.prototype, \"fields\", void 0);\n    __decorate$2([\n        Collection([], MenuItem)\n    ], MenuBase.prototype, \"items\", void 0);\n    __decorate$2([\n        Complex({ duration: 400, easing: 'ease', effect: 'SlideDown' }, MenuAnimationSettings)\n    ], MenuBase.prototype, \"animationSettings\", void 0);\n    MenuBase = __decorate$2([\n        NotifyPropertyChanges\n    ], MenuBase);\n    return MenuBase;\n}(Component));\n\n/**\n * Navigation Common modules\n */\n\nvar __extends$3 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL$2 = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE$2 = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR$1 = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate$3([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate$3([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate$3([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Item.prototype, \"visible\", void 0);\n    __decorate$3([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate$3([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate$3([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate$3([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate$3([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate$3([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    return Item;\n}(ChildProperty));\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     *\n     * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n     * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.resizeContext = _this.resize.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n        [].slice.call(btnItems).forEach(function (el) {\n            if (!isNullOrUndefined(el) && !isNullOrUndefined(el.ej2_instances) && !isNullOrUndefined(el.ej2_instances[0]) && !(el.ej2_instances[0].isDestroyed)) {\n                el.ej2_instances[0].destroy();\n            }\n        });\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNullOrUndefined(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        this.destroyItems();\n        while (this.element.lastElementChild) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n            this.trgtEle = null;\n            this.ctrlTem = null;\n        }\n        if (this.popObj) {\n            this.popObj.destroy();\n            detach(this.popObj.element);\n        }\n        if (this.activeEle) {\n            this.activeEle = null;\n        }\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.tbarItemsCol = [];\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'aria-haspopup', 'role'].forEach(function (attrb) {\n            return _this.element.removeAttribute(attrb);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL$2);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    };\n    Toolbar.prototype.wireKeyboardEvent = function () {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.element.setAttribute('tabIndex', '0');\n    };\n    Toolbar.prototype.unwireKeyboardEvent = function () {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNullOrUndefined(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        if (this.element) {\n            [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n        }\n        if (this.tbarAlign) {\n            var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL$2);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        var tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        var value = e.action === 'moveUp' ? 'previous' : 'next';\n        var ele;\n        var nodes;\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n                    if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n                        popupCheck = e.action === 'end' ? extendedPopup : null;\n                    }\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = nodes[0];\n                            }\n                            else {\n                                ele = nodes[nodes.length - 1];\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n                        if (e.action === 'home') {\n                            ele = nodes[0];\n                        }\n                        else {\n                            ele = nodes[nodes.length - 1];\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        var popEle = popObj.element;\n                        var popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst) || (value === 'next' && popEle.lastElementChild === clst)) {\n                            return;\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                        this.element.removeAttribute('tabindex');\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE$2)) {\n            return;\n        }\n        e.preventDefault();\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        var clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        if (value) {\n            rootEle.classList.add(CLS_DISABLE$2);\n        }\n        else {\n            rootEle.classList.remove(CLS_DISABLE$2);\n        }\n        rootEle.setAttribute('tabindex', !value ? '0' : '-1');\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', !value ? '0' : '-1');\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleContains = function (el) {\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE$2) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el);\n    };\n    Toolbar.prototype.eleFocus = function (closest$$1, pos) {\n        var sib = Object(closest$$1)[pos + 'ElementSibling'];\n        if (sib) {\n            var skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest$$1.parentElement)[pos + 'ElementSibling'];\n            if (!isNullOrUndefined(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNullOrUndefined(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var ele = this.element;\n        var isPopupElement = !isNullOrUndefined(closest(trgt, '.' + CLS_POPUPCLASS));\n        var clsList = trgt.classList;\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL$2);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNullOrUndefined(clst) || clst.classList.contains(CLS_DISABLE$2)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            var tempItem = this.items[this.tbarEle.indexOf(clst)];\n            itemObj = tempItem;\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNullOrUndefined(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, function (clickedArgs) {\n                if (!isNullOrUndefined(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    _this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    };\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyleAttribute(this.element, { 'height': height });\n        }\n        setStyleAttribute(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false', 'aria-haspopup': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Toolbar.prototype.renderControl = function () {\n        var ele = this.element;\n        this.trgtEle = (ele.children.length > 0) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    };\n    Toolbar.prototype.renderLayout = function () {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    };\n    Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n        var innerItem;\n        var innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (var i = 0; i < items.length; i++) {\n            innerItem = this.renderSubComponent(items[i], i);\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[i], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[i].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[i].showAlwaysInPopup && items[i].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[i].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n        if (this.isReact) {\n            var portals = 'portals';\n            this.notify('render-react-toolbar-template', this[portals]);\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Toolbar.prototype.changeOrientation = function () {\n        var ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyleAttribute(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    };\n    Toolbar.prototype.initScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            if (this.cssClass) {\n                addClass([innerItems[0]], this.cssClass.split(' '));\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyleAttribute(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var _this = this;\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.getScrollCntEle = function (innerItem) {\n        var trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        var navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.toolbarAlign = function (innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNullOrUndefined(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    };\n    Toolbar.prototype.setOverflowAttributes = function (ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('tabIndex', '0');\n        this.element.querySelector('.' + CLS_TBARNAV).setAttribute('role', 'list');\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[i].offsetLeft < 30 && eleItem[i].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[i].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[i].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        var eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyleAttribute(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[index]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyleAttribute(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyleAttribute(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[i];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyleAttribute(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        var eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        var ele;\n        var popupPri = [];\n        if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n            ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            if (this.cssClass) {\n                addClass([ele], this.cssClass.split(' '));\n            }\n            setStyleAttribute(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            popup.appendTo(ele);\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n            this.element.setAttribute('aria-haspopup', 'true');\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyleAttribute(popupEle, { maxHeight: '', display: 'block' });\n            setStyleAttribute(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            if (isOpen) {\n                this.add(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n            else {\n                this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        setStyleAttribute(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[i];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyleAttribute(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            var tbEleData = this.element.getBoundingClientRect();\n            setStyleAttribute(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            var popupOffset = popupEle.getBoundingClientRect();\n            if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n                popObj.collision = { Y: 'none' };\n                popObj.dataBind();\n            }\n            popObj.refreshPosition();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var eleOffset;\n        var checkoffset;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = void 0;\n            var compuStyle = window.getComputedStyle(inEle[i]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            var fstEleCheck = inEle[i] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth;\n            var eleWid_1 = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[i], [CLS_POPPRI]) && popPriority) {\n                inEle[i].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyleAttribute(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                }\n                else {\n                    setStyleAttribute(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset = (inEle[i].offsetTop + inEle[i].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset = (inEle[i].offsetLeft + inEle[i].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[i].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        if (itemCount === itemPopCount) {\n                            var sepEle = inEle[i];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                inEle[i].classList.add(CLS_POPUP);\n                                itemPopCount++;\n                            }\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyleAttribute(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[i].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[i], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[i].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyleAttribute(inEle[i], { display: 'none', minHeight: eleWid_1 + 'px' });\n                    }\n                    else {\n                        setStyleAttribute(inEle[i], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[i].offsetHeight : inEle[i].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'list');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNullOrUndefined(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var isVer = this.isVertical;\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (isNullOrUndefined(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyleAttribute(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n            ele.setAttribute('aria-haspopup', 'false');\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNullOrUndefined(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyleAttribute(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[index].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        var margin;\n        if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            var trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                if (this.enableRtl) {\n                    innerItem[2].style.top = popWid;\n                }\n                else {\n                    innerItem[2].style.bottom = popWid;\n                }\n            }\n            else {\n                if (this.enableRtl) {\n                    innerItem[2].style.left = popWid;\n                }\n                else {\n                    innerItem[2].style.right = popWid;\n                }\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            if (this.enableRtl) {\n                innerItem[1].style.marginBottom = mrgn;\n            }\n            else {\n                innerItem[1].style.marginTop = mrgn;\n            }\n        }\n        else {\n            if (this.enableRtl) {\n                innerItem[1].style.marginRight = mrgn;\n            }\n            else {\n                innerItem[1].style.marginLeft = mrgn;\n            }\n        }\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                ele.setAttribute('aria-disabled', 'false');\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            var itemEleDom = void 0;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[i];\n            if (keyVal === 'class') {\n                this.add(element, attr[keyVal]);\n            }\n            else {\n                element.setAttribute(keyVal, attr[keyVal]);\n            }\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        var ele;\n        if (isNullOrUndefined(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE$2);\n                ele.setAttribute('aria-disabled', 'false');\n            }\n            else {\n                ele.classList.add(CLS_DISABLE$2);\n                ele.setAttribute('aria-disabled', 'true');\n            }\n        };\n        if (!isNullOrUndefined(len) && len >= 1) {\n            for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n                var itemElement = element[a];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNullOrUndefined(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[a] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            if (isEnable) {\n                removeClass(elements, CLS_DISABLE$2);\n            }\n            else {\n                addClass(elements, CLS_DISABLE$2);\n            }\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNullOrUndefined(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    };\n    Toolbar.prototype.getElementByIndex = function (index) {\n        if (this.tbarEle[index]) {\n            return this.tbarEle[index];\n        }\n        return null;\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        this.extendedOpen();\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNullOrUndefined(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNullOrUndefined(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNullOrUndefined(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNullOrUndefined(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNullOrUndefined(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[algIndex];\n                    ele.insertBefore(innerEle, ele.children[index]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[index]);\n                }\n                this.items.splice(index, 0, item);\n                if (item.template) {\n                    this.tbarEle.splice(this.tbarEle.length - 1, 1);\n                }\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[index] && innerItems[index]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[index]);\n            if (this.tbarAlign) {\n                var indexAgn = this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].indexOf(this.tbarEle[eleIdx]);\n                this.tbarAlgEle[(this.items[eleIdx].align + 's').toLowerCase()].splice(indexAgn, 1);\n            }\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            var btnItem = innerItems[index].querySelector('.e-control.e-btn');\n            if (!isNullOrUndefined(btnItem) && !isNullOrUndefined(btnItem.ej2_instances[0]) && !(btnItem.ej2_instances[0].isDestroyed)) {\n                btnItem.ej2_instances[0].destroy();\n            }\n            detach(innerItems[index]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            var regEx = new RegExp(/<(?=.*? .*?\\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\\/\\1>/i);\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            try {\n                if (typeof (templateProp) === 'object' && !isNullOrUndefined(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (typeof (templateProp) === 'string' && regEx.test(val)) {\n                    innerEle.innerHTML = val;\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNullOrUndefined(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n                else {\n                    templateFn = compile(val);\n                }\n            }\n            catch (e) {\n                templateFn = compile(val);\n            }\n            var tempArray = void 0;\n            if (!isNullOrUndefined(templateFn)) {\n                var toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNullOrUndefined(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNullOrUndefined(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            if (item.id) {\n                ele.id = item.id;\n            }\n            else {\n                ele.id = getUniqueID('tbr-ipt');\n            }\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        if (item.id) {\n            dom.id = item.id;\n        }\n        else {\n            dom.id = getUniqueID('e-tbr-btn');\n        }\n        var btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyleAttribute(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var dom;\n        var innerEle = this.createElement('div', { className: CLS_ITEM });\n        innerEle.setAttribute('aria-disabled', 'false');\n        var tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', '-1');\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE$2);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNullOrUndefined(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', '-1');\n        }\n        this.activeEle = curEle;\n        if (isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n            curEle.removeAttribute('tabindex');\n        }\n        else {\n            this.activeEle.setAttribute('tabindex', '0');\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            var multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNullOrUndefined(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR$1)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR$1).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    Toolbar.prototype.extendedOpen = function () {\n        var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        var wid = tEle.offsetWidth;\n        this.extendedOpen();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[i], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var newProperty = Object(newProp.items[index])[property];\n                            if (typeof newProperty !== 'function') {\n                                if (this.tbarAlign || property === 'align') {\n                                    this.refresh();\n                                    this.trigger('created');\n                                    break;\n                                }\n                                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                                if ((popupPriCheck) || (this.items[index].showAlwaysInPopup) && booleanCheck) {\n                                    --this.popupPriCount;\n                                }\n                                if (isNullOrUndefined(this.scrollModule)) {\n                                    this.destroyMode();\n                                }\n                                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                                if (this.isReact) {\n                                    this.clearTemplate();\n                                }\n                                detach(itemCol[index]);\n                                this.tbarEle.splice(index, 1);\n                                this.addItems([this.items[index]], index);\n                                this.items.splice(index, 1);\n                                if (this.items[index].template) {\n                                    this.tbarEle.splice(this.items.length, 1);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(tEle, { 'width': formatUnit(newProp.width) });\n                    this.renderOverflowMode();\n                    if (this.popObj && wid < tEle.offsetWidth) {\n                        this.popupRefresh(this.popObj.element, false);\n                    }\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL$2);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(tEle, CLS_RTL$2);\n                    }\n                    else {\n                        this.remove(tEle, CLS_RTL$2);\n                    }\n                    if (!isNullOrUndefined(this.scrollModule)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.scrollModule.element, CLS_RTL$2);\n                        }\n                        else {\n                            this.remove(this.scrollModule.element, CLS_RTL$2);\n                        }\n                    }\n                    if (!isNullOrUndefined(this.popObj)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.popObj.element, CLS_RTL$2);\n                        }\n                        else {\n                            this.remove(this.popObj.element, CLS_RTL$2);\n                        }\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        var isElement = (typeof (index) === 'object') ? true : false;\n        var eleIndex = index;\n        var initIndex;\n        var ele;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[eleIndex]) {\n            var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems_1[eleIndex];\n        }\n        if (ele) {\n            if (value) {\n                ele.classList.add(CLS_HIDDEN);\n            }\n            else {\n                ele.classList.remove(CLS_HIDDEN);\n            }\n            if (value && isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                if (isNullOrUndefined(ele.firstElementChild.getAttribute('tabindex'))) {\n                    ele.firstElementChild.setAttribute('tabindex', '-1');\n                    var innerItems_2 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n                    if (isElement) {\n                        eleIndex = innerItems_2.indexOf(ele);\n                    }\n                    var nextEle = innerItems_2[++eleIndex];\n                    while (nextEle) {\n                        var skipEle = this.eleContains(nextEle);\n                        if (!skipEle) {\n                            nextEle.firstElementChild.removeAttribute('tabindex');\n                            break;\n                        }\n                        nextEle = innerItems_2[++eleIndex];\n                    }\n                }\n            }\n            else if (isNullOrUndefined(this.element.getAttribute('tabindex')) && !ele.classList.contains(CLS_SEPARATOR)) {\n                initIndex = 0;\n                var setFlag = false;\n                var removeFlag = false;\n                var initELe = innerItems[initIndex];\n                while (initELe) {\n                    if (!initELe.classList.contains(CLS_SEPARATOR)) {\n                        if (isNullOrUndefined(initELe.firstElementChild.getAttribute('tabindex'))) {\n                            initELe.firstElementChild.setAttribute('tabindex', '-1');\n                            setFlag = true;\n                        }\n                        else {\n                            if (setFlag && removeFlag) {\n                                break;\n                            }\n                            var skipEle = this.eleContains(initELe);\n                            if (!skipEle) {\n                                initELe.firstElementChild.removeAttribute('tabindex');\n                                removeFlag = true;\n                            }\n                            initELe = innerItems[++initIndex];\n                        }\n                    }\n                    else {\n                        initELe = innerItems[++initIndex];\n                    }\n                }\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate$3([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate$3([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate$3([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate$3([\n        Property('')\n    ], Toolbar.prototype, \"cssClass\", void 0);\n    __decorate$3([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate$3([\n        Property()\n    ], Toolbar.prototype, \"scrollStep\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Toolbar.prototype, \"enableCollision\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Toolbar.prototype, \"allowKeyboard\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate$3([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\n\n/**\n * Toolbar modules\n */\n\nvar __extends$4 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT$2 = 'e-accordion';\nvar CLS_ITEM$1 = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL$3 = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE$3 = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\nvar AccordionActionSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$4([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate$4([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate$4([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\n/**\n * Objects used for configuring the Accordion animation properties.\n */\nvar AccordionAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$4([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate$4([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate$4([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    __decorate$4([\n        Property(true)\n    ], AccordionItem.prototype, \"visible\", void 0);\n    __decorate$4([\n        Property(false)\n    ], AccordionItem.prototype, \"disabled\", void 0);\n    __decorate$4([\n        Property()\n    ], AccordionItem.prototype, \"id\", void 0);\n    return AccordionItem;\n}(ChildProperty));\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     *\n     * @param {AccordionModel} options  - Specifies Accordion model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    Accordion.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular || this.isVue) {\n            this.clearTemplate();\n        }\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.restoreContent(null);\n        [].slice.call(ele.children).forEach(function (el) {\n            ele.removeChild(el);\n        });\n        if (this.trgtEle) {\n            this.trgtEle = null;\n            while (this.ctrlTem.firstElementChild) {\n                ele.appendChild(this.ctrlTem.firstElementChild);\n            }\n            this.ctrlTem = null;\n        }\n        ele.classList.remove(CLS_ACRDN_ROOT);\n        ele.removeAttribute('style');\n        ['aria-disabled', 'aria-multiselectable', 'role', 'data-ripple'].forEach(function (attrb) {\n            _this.element.removeAttribute(attrb);\n        });\n        if (!this.isNested && isRippleEnabled) {\n            this.removeRippleEffect();\n        }\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (nested && nested.firstElementChild && nested.firstElementChild.firstElementChild) {\n            if (nested.firstElementChild.firstElementChild.classList.contains(CLS_ROOT$2)) {\n                nested.classList.add(CLS_NEST);\n                this.isNested = true;\n            }\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL$3);\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Accordion.prototype.render = function () {\n        this.initializeHeaderTemplate();\n        this.initializeItemTemplate();\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyleAttribute(this.element, { 'width': width, 'height': height });\n        var ariaAttr = {\n            'aria-disabled': 'false', 'role': 'presentation', 'aria-multiselectable': 'true'\n        };\n        if (isNullOrUndefined(this.initExpand)) {\n            this.initExpand = [];\n        }\n        if (this.expandedIndices.length > 0) {\n            this.initExpand = this.expandedIndices;\n        }\n        attributes(this.element, ariaAttr);\n        if (this.expandMode === 'Single') {\n            this.element.setAttribute('aria-multiselectable', 'false');\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.wireFocusEvents = function () {\n        var acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1));\n        for (var _i = 0, acrdItem_1 = acrdItem; _i < acrdItem_1.length; _i++) {\n            var item = acrdItem_1[_i];\n            var headerEle = item.querySelector('.' + CLS_HEADER);\n            if (item.childElementCount > 0 && headerEle) {\n                EventHandler.clearEvents(headerEle);\n                EventHandler.add(headerEle, 'focus', this.focusIn, this);\n                EventHandler.add(headerEle, 'blur', this.focusOut, this);\n            }\n        }\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNullOrUndefined(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    Accordion.prototype.initializeHeaderTemplate = function () {\n        if (this.headerTemplate) {\n            this.headerTemplateFn = this.templateParser(this.headerTemplate);\n        }\n    };\n    Accordion.prototype.initializeItemTemplate = function () {\n        if (this.itemTemplate) {\n            this.itemTemplateFn = this.templateParser(this.itemTemplate);\n        }\n    };\n    Accordion.prototype.getHeaderTemplate = function () {\n        return this.headerTemplateFn;\n    };\n    Accordion.prototype.getItemTemplate = function () {\n        return this.itemTemplateFn;\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles;\n        var rootEle = select('.' + CLS_CONTAINER, this.element);\n        if (rootEle) {\n            innerEles = rootEle.children;\n        }\n        else {\n            innerEles = this.element.children;\n        }\n        var items = [];\n        [].slice.call(innerEles).forEach(function (el) {\n            items.push({\n                header: (el.childElementCount > 0 && el.children[0]) ? (el.children[0]) : '',\n                content: (el.childElementCount > 1 && el.children[1]) ? (el.children[1]) : ''\n            });\n            el.parentNode.removeChild(el);\n        });\n        if (rootEle) {\n            this.element.removeChild(rootEle);\n        }\n        this.setProperties({ items: items }, true);\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[i]);\n            }\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        var innerDataSourceItem;\n        if (!isNullOrUndefined(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        if (this.dataSource.length > 0) {\n            this.dataSource.forEach(function (item, index) {\n                innerDataSourceItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerDataSourceItem);\n                if (innerDataSourceItem.childElementCount > 0) {\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n        else {\n            var items = this.items;\n            if (ele && items.length > 0) {\n                items.forEach(function (item, index) {\n                    innerItem = _this.renderInnerItem(item, index);\n                    ele.appendChild(innerItem);\n                    if (innerItem.childElementCount > 0) {\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                    }\n                });\n            }\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var items = this.getItems();\n        var eventArgs = {};\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT$2);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM$1);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNullOrUndefined(acrdnHdr) || isNullOrUndefined(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnHdr) {\n            acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM$1);\n        }\n        else if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM$1);\n        }\n        var index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNullOrUndefined(tglIcon) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNullOrUndefined(acrdnCtn) || !isNullOrUndefined(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n            this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n        }\n        else {\n            this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.afterContentRender = function (trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n        var _this = this;\n        var acrdActive = [];\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNullOrUndefined(select('.e-target', acrdnCtn)));\n        var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT$2;\n        var inlineEleAcrdn = acrdnCtn && !isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) && isNullOrUndefined(closest(trgt, inlineAcrdnSel));\n        var nestContCheck = acrdnCtn && isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT$2) === this.element);\n        cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n        var acrdnchild = (acrdcontainer) ? acrdcontainer.children : this.element.children;\n        [].slice.call(acrdnchild).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1 + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNullOrUndefined(acrdnItem) && !isNullOrUndefined(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNullOrUndefined(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNullOrUndefined(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM$1);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNullOrUndefined(header) && !trgt.classList.contains(CLS_ROOT$2) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNullOrUndefined(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                e.preventDefault();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var items = this.getItems();\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'heading', 'aria-label': 'collapsed',\n            'aria-disabled': 'false', 'aria-level': items.length.toString()\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle = this.createElement('div', {\n            className: CLS_ITEM$1, id: item.id || getUniqueID('acrdn_item'),\n            attrs: { 'aria-expanded': 'false', 'role': 'row' }\n        });\n        if (this.headerTemplate) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            append(this.getHeaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n            innerEle.appendChild(ctnEle);\n            ctnEle.appendChild(this.toggleIconGenerate());\n            this.add(innerEle, CLS_SLCT);\n            return innerEle;\n        }\n        if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n            if (this.enableHtmlSanitizer && typeof (item.header) === 'string') {\n                item.header = SanitizeHtmlHelper.sanitize(item.header);\n            }\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNullOrUndefined(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            addClass([innerEle], item.cssClass.split(' '));\n        }\n        if (item.disabled) {\n            addClass([innerEle], CLS_DISABLE$3);\n        }\n        if (item.visible === false) {\n            addClass([innerEle], CLS_ITEMHIDE);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNullOrUndefined(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNullOrUndefined(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n        var property = prop === 'content' ? item.content : item.header;\n        var content = property;\n        if (this.isAngular && !isNullOrUndefined(content.elementRef)) {\n            var data = content.elementRef.nativeElement.data;\n            if (isNullOrUndefined(data) || data === '' || (data.indexOf('bindings=') === -1)) {\n                return true;\n            }\n            var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n            if (!isNullOrUndefined(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length && value !== 'Button') {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n            else {\n                templateFn = compile(value);\n            }\n        }\n        catch (e) {\n            if (typeof (value) === 'string') {\n                ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n            }\n            else if (!isNullOrUndefined(this.trgtEle) && (value instanceof (HTMLElement))) {\n                ele.appendChild(value);\n                ele.firstElementChild.style.display = '';\n            }\n            else {\n                templateFn = compile(value);\n            }\n        }\n        var tempArray;\n        if (!isNullOrUndefined(templateFn)) {\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            var templateProps = void 0;\n            var templateName = void 0;\n            if (ele.classList.contains(CLS_HEADERCTN)) {\n                templateProps = this.element.id + index + '_header';\n                templateName = 'header';\n            }\n            else if (ele.classList.contains(CLS_CTENT)) {\n                templateProps = this.element.id + index + '_content';\n                templateName = 'content';\n            }\n            tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n        }\n        if (!isNullOrUndefined(tempArray) && tempArray.length > 0 && !(isNullOrUndefined(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNullOrUndefined(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n        }\n        if (!isNullOrUndefined(temString)) {\n            if (this.templateEle.indexOf(value) === -1) {\n                this.templateEle.push(value);\n            }\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n        content.setAttribute('role', 'definition');\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        if (this.dataSource.length > 0) {\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            append(this.getItemTemplate()(this.dataSource[index], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n            itemcnt.appendChild(ctn);\n        }\n        else {\n            if (this.enableHtmlSanitizer && typeof (this.items[index].content)) {\n                this.items[index].content = SanitizeHtmlHelper.sanitize(this.items[index].content);\n            }\n            itemcnt.appendChild(this.fetchElement(ctn, this.items[index].content, index, false));\n        }\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var _this = this;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n        if (isNullOrUndefined(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        var eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: true\n        };\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                icon.classList.add(CLS_TOGANIMATE);\n                _this.expandedItemsPush(trgtItemEle);\n                if (!isNullOrUndefined(expandState)) {\n                    expandState.classList.remove(CLS_EXPANDSTATE);\n                }\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                if ((animation.name === 'None')) {\n                    _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyleAttribute(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgtItemEle, { 'aria-expanded': 'true' });\n            attributes(trgt.previousElementSibling, { 'aria-label': 'expanded' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedIndices.indexOf(index) === -1) {\n            var temp = [].slice.call(this.expandedIndices);\n            temp.push(index);\n            this.setProperties({ expandedIndices: temp }, true);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        var itemEle = this.getItemElements();\n        return [].slice.call(itemEle).indexOf(item);\n    };\n    Accordion.prototype.getItemElements = function () {\n        var itemEle = [];\n        var itemCollection = this.element.children;\n        [].slice.call(itemCollection).forEach(function (el) {\n            if (el.classList.contains(CLS_ITEM$1)) {\n                itemEle.push(el);\n            }\n        });\n        return itemEle;\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        var temp = [].slice.call(this.expandedIndices);\n        temp.splice(temp.indexOf(index), 1);\n        this.setProperties({ expandedIndices: temp }, true);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var _this = this;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n        if (isNullOrUndefined(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        var eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: false\n        };\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                _this.expandedItemsPop(trgtItemEle);\n                trgtItemEle.classList.remove(CLS_EXPANDSTATE);\n                icon.classList.add(CLS_TOGANIMATE);\n                if ((animation.name === 'None')) {\n                    _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyleAttribute(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgtItemEle, { 'aria-expanded': 'false' });\n            attributes(trgt.previousElementSibling, { 'aria-label': 'collapsed' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.itemAttribUpdate = function () {\n        var items = this.getItems();\n        var itemEle = this.getItemElements();\n        var itemLen = items.length;\n        itemEle.forEach(function (ele) {\n            select('.' + CLS_HEADER, ele).setAttribute('aria-level', '' + itemLen);\n        });\n    };\n    Accordion.prototype.getItems = function () {\n        var items;\n        if (this.itemTemplate && this.headerTemplate) {\n            items = this.dataSource;\n        }\n        else {\n            items = this.items;\n        }\n        return items;\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     *\n     * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns {void}\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var _this = this;\n        var ele = this.element;\n        var itemEle = this.getItemElements();\n        var items = this.getItems();\n        if (isNullOrUndefined(index)) {\n            index = items.length;\n        }\n        if (ele.childElementCount >= index) {\n            var addItems = (item instanceof Array) ? item : [item];\n            addItems.forEach(function (addItem, i) {\n                var itemIndex = index + i;\n                items.splice(itemIndex, 0, addItem);\n                var innerItemEle = _this.renderInnerItem(addItem, itemIndex);\n                if (ele.childElementCount === itemIndex) {\n                    ele.appendChild(innerItemEle);\n                }\n                else {\n                    ele.insertBefore(innerItemEle, itemEle[itemIndex]);\n                }\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                _this.itemAttribUpdate();\n                _this.expandedIndices = [];\n                _this.expandedItemRefresh(ele);\n                if (addItem && addItem.expanded) {\n                    _this.expandItem(true, itemIndex);\n                }\n            });\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        [].slice.call(itemEle).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns {void}.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        if (this.isReact) {\n            this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n        }\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        var items = this.getItems();\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        this.restoreContent(index);\n        detach(ele);\n        items.splice(index, 1);\n        this.itemAttribUpdate();\n        this.expandedIndices = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns {void}.\n     */\n    Accordion.prototype.select = function (index) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNullOrUndefined(ele) || isNullOrUndefined(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     * If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns {void}.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        if (isNullOrUndefined(isHidden)) {\n            isHidden = true;\n        }\n        if (isHidden) {\n            this.add(ele, CLS_ITEMHIDE);\n        }\n        else {\n            this.remove(ele, CLS_ITEMHIDE);\n        }\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     *\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns {void}.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[index];\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE$3);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE$3);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     *\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     * Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns {void}.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        if (isNullOrUndefined(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = itemEle[itemEle.length - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(itemEle).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = itemEle[index];\n            if (isNullOrUndefined(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        if (isNullOrUndefined(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n            this.expand(ctn);\n        }\n        else if (!isNullOrUndefined(ctn)) {\n            if (isExpand) {\n                this.expand(ctn);\n            }\n            else {\n                this.collapse(ctn);\n            }\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.destroyItems = function () {\n        this.restoreContent(null);\n        if (this.isReact || this.isAngular || this.isVue) {\n            this.clearTemplate();\n        }\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1)).forEach(function (el) {\n            detach(el);\n        });\n    };\n    Accordion.prototype.restoreContent = function (index) {\n        var ctnElePos;\n        if (isNullOrUndefined(index)) {\n            ctnElePos = this.element;\n        }\n        else {\n            ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM$1)[index];\n        }\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNullOrUndefined(ctnElePos.querySelector(eleStr))) {\n                document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNullOrUndefined(item)) {\n            var items = this.getItems();\n            var itemObj = items[index];\n            items.splice(index, 1);\n            this.restoreContent(index);\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.setTemplate = function (template, toElement, index) {\n        toElement.innerHTML = '';\n        this.templateCompile(toElement, template, index);\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.templateCompile = function (ele, cnt, index) {\n        var tempEle = this.createElement('div');\n        this.fetchElement(tempEle, cnt, index, false);\n        if (tempEle.childNodes.length !== 0) {\n            [].slice.call(tempEle.childNodes).forEach(function (childEle) {\n                ele.appendChild(childEle);\n            });\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedIndices'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {AccordionModel} newProp - It contains the new value of data.\n     * @param  {AccordionModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        var isRefresh = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[j], 10);\n                            var property = Object.keys(newProp.items[index])[0];\n                            var item = selectAll('.' + CLS_ITEM$1, this.element)[index];\n                            var oldVal = Object(oldProp.items[index])[property];\n                            var newVal = Object(newProp.items[index])[property];\n                            var temp = property;\n                            if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || ((temp === 'content') && (oldVal === ''))) {\n                                this.updateItem(item, index);\n                            }\n                            if (property === 'cssClass' && !isNullOrUndefined(item)) {\n                                item.classList.remove(oldVal);\n                                item.classList.add(newVal);\n                            }\n                            if (property === 'visible' && !isNullOrUndefined(item)) {\n                                if (Object(newProp.items[index])[property] === false) {\n                                    item.classList.add(CLS_ITEMHIDE);\n                                }\n                                else {\n                                    item.classList.remove(CLS_ITEMHIDE);\n                                }\n                            }\n                            if (property === 'disabled' && !isNullOrUndefined(item)) {\n                                this.enableItem(index, !newVal);\n                            }\n                            if (property === 'content' && !isNullOrUndefined(item) && item.children.length === 2) {\n                                if (typeof newVal === 'function') {\n                                    var activeContent = item.querySelector('.' + CLS_CTENT);\n                                    activeContent.innerHTML = '';\n                                    this.setTemplate(newVal, activeContent, index);\n                                }\n                                else {\n                                    if (item.classList.contains(CLS_SLCTED)) {\n                                        this.expandItem(false, index);\n                                    }\n                                    detach(item.querySelector('.' + CLS_CONTENT));\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'dataSource':\n                case 'expandedIndices':\n                    if (this.expandedIndices === null) {\n                        this.expandedIndices = [];\n                    }\n                    isRefresh = true;\n                    break;\n                case 'headerTemplate':\n                    this.initializeHeaderTemplate();\n                    isRefresh = true;\n                    break;\n                case 'itemTemplate':\n                    this.initializeItemTemplate();\n                    isRefresh = true;\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(acrdn, CLS_RTL$3);\n                    }\n                    else {\n                        this.remove(acrdn, CLS_RTL$3);\n                    }\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single') {\n                        this.element.setAttribute('aria-multiselectable', 'false');\n                        if (this.expandedIndices.length > 1) {\n                            this.expandItem(false);\n                        }\n                    }\n                    else {\n                        this.element.setAttribute('aria-multiselectable', 'true');\n                    }\n                    break;\n            }\n        }\n        if (isRefresh) {\n            this.initExpand = [];\n            if (this.expandedIndices.length > 0) {\n                this.initExpand = this.expandedIndices;\n            }\n            this.destroyItems();\n            this.renderItems();\n            this.initItemExpand();\n        }\n    };\n    __decorate$4([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate$4([\n        Property([])\n    ], Accordion.prototype, \"dataSource\", void 0);\n    __decorate$4([\n        Property()\n    ], Accordion.prototype, \"itemTemplate\", void 0);\n    __decorate$4([\n        Property()\n    ], Accordion.prototype, \"headerTemplate\", void 0);\n    __decorate$4([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate$4([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate$4([\n        Property([])\n    ], Accordion.prototype, \"expandedIndices\", void 0);\n    __decorate$4([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate$4([\n        Property(false)\n    ], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$4([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate$4([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\n\n/**\n * Accordion all modules\n */\n\nvar __extends$5 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @__PURE__ @class */ (function (_super) {\n    __extends$5(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {ContextMenuModel} options - Specifies the context menu model\n     * @param {string} element - Specifies the element\n     */\n    function ContextMenu(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    ContextMenu.prototype.preRender = function () {\n        this.isMenu = false;\n        this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n        _super.prototype.preRender.call(this);\n    };\n    ContextMenu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     *\n     * @param {number} top - To specify ContextMenu vertical positioning.\n     * @param {number} left - To specify ContextMenu horizontal positioning.\n     * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n     * @function open\n     * @returns {void}\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     *\n     * @function close\n     * @returns {void}\n     */\n    ContextMenu.prototype.close = function () {\n        _super.prototype.closeMenu.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {ContextMenuModel} newProp - Specifies new properties\n     * @param {ContextMenuModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents(oldProp.target);\n                    this.wireEvents();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    __decorate$5([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate$5([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate$5([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    ContextMenu = __decorate$5([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(MenuBase));\n\n/**\n * ContextMenu modules\n */\n\nvar __extends$6 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\nvar HAMBURGER = 'e-hamburger';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\nvar Menu = /** @__PURE__ @class */ (function (_super) {\n    __extends$6(Menu, _super);\n    /**\n     * Constructor for creating the component.\n     *\n     * @private\n     * @param {MenuModel} options - Specifies the menu model\n     * @param {string} element - Specifies the element\n     */\n    function Menu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.tempItems = [];\n        return _this;\n    }\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    Menu.prototype.getModuleName = function () {\n        return 'menu';\n    };\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    Menu.prototype.preRender = function () {\n        this.isMenu = true;\n        this.element.id = this.element.id || getUniqueID('ej2-menu');\n        if (this.template) {\n            try {\n                if (document.querySelectorAll(this.template).length) {\n                    this.template = document.querySelector(this.template).innerHTML.trim();\n                    this.clearChanges();\n                }\n            }\n            catch (e) {\n                /* action on catch */\n            }\n        }\n        else {\n            this.updateMenuItems(this.items);\n        }\n        _super.prototype.preRender.call(this);\n    };\n    Menu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        if (this.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n            if (this.hamburgerMode && !this.target) {\n                this.element.previousElementSibling.classList.add(VMENU);\n            }\n            this.element.setAttribute('aria-orientation', 'vertical');\n        }\n        else {\n            if (Browser.isDevice && !this.enableScrolling) {\n                this.element.parentElement.classList.add(SCROLLABLE);\n            }\n        }\n        if (this.hamburgerMode) {\n            this.element.parentElement.classList.add(HAMBURGER);\n            if (this.orientation === 'Horizontal') {\n                this.element.classList.add('e-hide-menu');\n            }\n        }\n    };\n    Menu.prototype.updateMenuItems = function (items) {\n        this.tempItems = items;\n        this.items = [];\n        this.tempItems.map(this.createMenuItems, this);\n        this.setProperties({ items: this.items }, true);\n        this.tempItems = [];\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuModel} newProp - Specifies the new properties.\n     * @param {MenuModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    Menu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'orientation':\n                    if (newProp.orientation === 'Vertical') {\n                        this.element.classList.add(VMENU);\n                        if (this.hamburgerMode) {\n                            if (!this.target) {\n                                this.element.previousElementSibling.classList.add(VMENU);\n                            }\n                            this.element.classList.remove('e-hide-menu');\n                        }\n                        this.element.setAttribute('aria-orientation', 'vertical');\n                    }\n                    else {\n                        this.element.classList.remove(VMENU);\n                        if (this.hamburgerMode) {\n                            if (!this.target) {\n                                this.element.previousElementSibling.classList.remove(VMENU);\n                            }\n                            this.element.classList.add('e-hide-menu');\n                        }\n                        this.element.removeAttribute('aria-orientation');\n                    }\n                    break;\n                case 'items':\n                    if (!Object.keys(oldProp.items).length) {\n                        this.updateMenuItems(newProp.items);\n                    }\n                    break;\n                case 'hamburgerMode':\n                    if (!this.element.previousElementSibling) {\n                        _super.prototype.createHeaderContainer.call(this);\n                    }\n                    if (newProp.hamburgerMode) {\n                        this.element.parentElement.classList.add(HAMBURGER);\n                        [].slice.call(this.element.getElementsByClassName('e-blankicon')).forEach(function (li) {\n                            li.style[_this.enableRtl ? 'paddingRight' : 'paddingLeft'] = '';\n                        });\n                    }\n                    else {\n                        this.element.parentElement.classList.remove(HAMBURGER);\n                        if (this.orientation === 'Vertical') {\n                            this.setBlankIconStyle(this.element);\n                        }\n                    }\n                    if (this.orientation === 'Vertical') {\n                        if (!this.target) {\n                            this.element.previousElementSibling.classList.add(VMENU);\n                        }\n                        this.element.classList.remove('e-hide-menu');\n                    }\n                    else {\n                        if (this.target) {\n                            this.element.previousElementSibling.classList.add(VMENU);\n                        }\n                        else {\n                            this.element.previousElementSibling.classList.remove(VMENU);\n                        }\n                        this.element.classList[newProp.hamburgerMode ? 'add' : 'remove']('e-hide-menu');\n                    }\n                    break;\n                case 'title':\n                    if (this.hamburgerMode && this.element.previousElementSibling) {\n                        newProp.title = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(newProp.title) : newProp.title;\n                        this.element.previousElementSibling.querySelector('.e-menu-title').innerHTML = newProp.title;\n                    }\n                    break;\n                case 'target':\n                    if (this.hamburgerMode) {\n                        this.unWireEvents(oldProp.target);\n                        this.wireEvents();\n                        if (this.orientation === 'Horizontal') {\n                            if (!newProp.target) {\n                                if (!this.element.previousElementSibling) {\n                                    _super.prototype.createHeaderContainer.call(this);\n                                }\n                                this.element.previousElementSibling.classList.remove(VMENU);\n                            }\n                            else {\n                                this.element.previousElementSibling.classList.add(VMENU);\n                            }\n                            this.element.classList.add('e-hide-menu');\n                        }\n                    }\n                    break;\n            }\n        }\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n    };\n    Menu.prototype.createMenuItems = function (item) {\n        var idx;\n        var i;\n        var items = this.items;\n        var pIdField = this.getField('parentId');\n        if (item[pIdField]) {\n            idx = this.getIndex(item[pIdField].toString(), true);\n            for (i = 0; i < idx.length; i++) {\n                if (!items[idx[i]].items) {\n                    items[idx[i]].items = [];\n                }\n                items = items[idx[i]].items;\n            }\n            items.push(item);\n        }\n        else {\n            this.items.push(item);\n        }\n    };\n    /**\n     * This method is used to open the Menu in hamburger mode.\n     *\n     * @function open\n     * @returns {void}\n     */\n    Menu.prototype.open = function () {\n        _super.prototype.openHamburgerMenu.call(this);\n    };\n    /**\n     * Closes the Menu if it is opened in hamburger mode.\n     *\n     * @function close\n     * @returns {void}\n     */\n    Menu.prototype.close = function () {\n        _super.prototype.closeHamburgerMenu.call(this);\n    };\n    __decorate$6([\n        Property('Horizontal')\n    ], Menu.prototype, \"orientation\", void 0);\n    __decorate$6([\n        Property('')\n    ], Menu.prototype, \"target\", void 0);\n    __decorate$6([\n        Property(null)\n    ], Menu.prototype, \"template\", void 0);\n    __decorate$6([\n        Property(false)\n    ], Menu.prototype, \"enableScrolling\", void 0);\n    __decorate$6([\n        Property(false)\n    ], Menu.prototype, \"hamburgerMode\", void 0);\n    __decorate$6([\n        Property('Menu')\n    ], Menu.prototype, \"title\", void 0);\n    __decorate$6([\n        Property(false)\n    ], Menu.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$6([\n        Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n    ], Menu.prototype, \"fields\", void 0);\n    Menu = __decorate$6([\n        NotifyPropertyChanges\n    ], Menu);\n    return Menu;\n}(MenuBase));\n\n/**\n * Menu modules\n */\n\nvar __extends$7 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER$1 = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT$1 = 'e-content';\nvar CLS_NEST$1 = 'e-nested';\nvar CLS_ITEMS$1 = 'e-items';\nvar CLS_ITEM$2 = 'e-item';\nvar CLS_TEMPLATE$1 = 'e-template';\nvar CLS_RTL$4 = 'e-rtl';\nvar CLS_ACTIVE$1 = 'e-active';\nvar CLS_DISABLE$4 = 'e-disable';\nvar CLS_HIDDEN$1 = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY$2 = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL$1 = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\nvar TABITEMPREFIX = 'tabitem_';\nvar CLS_REORDER_ACTIVE_ITEM = 'e-reorder-active-item';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\nvar TabActionSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate$7([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate$7([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\n/**\n * Objects used for configuring the Tab animation properties.\n */\nvar TabAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate$7([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate$7([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate$7([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate$7([\n        Property(null)\n    ], TabItem.prototype, \"headerTemplate\", void 0);\n    __decorate$7([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate$7([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate$7([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    __decorate$7([\n        Property(true)\n    ], TabItem.prototype, \"visible\", void 0);\n    __decorate$7([\n        Property()\n    ], TabItem.prototype, \"id\", void 0);\n    return TabItem;\n}(ChildProperty));\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     *\n     * @param {TabModel} options  - Specifies Tab model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = {};\n        _this.hide = {};\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.isInteracted = false;\n        _this.lastIndex = 0;\n        _this.isAdd = false;\n        _this.isIconAlone = false;\n        _this.draggableItems = [];\n        _this.resizeContext = _this.refreshActiveTabBorder.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        if (!isNullOrUndefined(this.tbObj)) {\n            this.tbObj.destroy();\n            this.tbObj = null;\n        }\n        this.unWireEvents();\n        ['role', 'aria-disabled', 'aria-activedescendant', 'tabindex', 'aria-orientation', 'aria-owns'].forEach(function (val) {\n            _this.element.removeAttribute(val);\n        });\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            while (this.element.firstElementChild) {\n                remove(this.element.firstElementChild);\n            }\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n            this.element.classList.remove(CLS_TEMPLATE$1);\n            if (!isNullOrUndefined(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        if (this.btnCls) {\n            this.btnCls = null;\n        }\n        this.hdrEle = null;\n        this.cntEle = null;\n        this.tbItems = null;\n        this.tbItem = null;\n        this.tbPop = null;\n        this.prevItem = null;\n        this.popEle = null;\n        this.bdrLine = null;\n        this.content = null;\n        this.dragItem = null;\n        this.cloneElement = null;\n        this.draggingItems = [];\n        if (this.draggableItems && this.draggableItems.length > 0) {\n            for (var i = 0; i < this.draggableItems.length; i++) {\n                this.draggableItems[i].destroy();\n                this.draggableItems[i] = null;\n            }\n            this.draggableItems = [];\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Refresh the tab component\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refresh = function () {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        _super.prototype.refresh.call(this);\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Initialize component\n     *\n     * @private\n     * @returns {void}\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT$1);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (this.allowDragAndDrop) {\n            this.dragArea = !isNullOrUndefined(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER$1);\n        }\n        if (!isNullOrUndefined(nested)) {\n            nested.parentElement.classList.add(CLS_NEST$1);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { role: 'tablist', 'aria-disabled': 'false', 'aria-activedescendant': '', 'aria-owns': this.element.id + '_' + 'tab_header_items' });\n        this.setCssClass(this.element, css, true);\n        this.updatePopAnimationConfig();\n    };\n    /**\n     * Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.tabId = this.element.id.length > 0 ? ('-' + this.element.id) : getRandomId();\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        this.items.forEach(function (item, index) {\n            if (isNullOrUndefined(item.id) && !isNullOrUndefined(item.setProperties)) {\n                item.setProperties({ id: TABITEMPREFIX + index.toString() }, true);\n            }\n        });\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT$1 }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER$1 }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE$1);\n            var header = ele.querySelector('.' + CLS_HEADER$1);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNullOrUndefined(select('.' + CLS_HEADER$1, this.element)) && !isNullOrUndefined(select('.' + CLS_CONTENT$1, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNullOrUndefined(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN$1 + ' ' + CLS_IGNORE });\n                var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n                if (!isNullOrUndefined(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            if (!isNullOrUndefined(this.tbItem)) {\n                for (var i = 0; i < this.items.length; i++) {\n                    if (this.items[i]) {\n                        var tabID = this.items[i].id;\n                        this.tbItem[i].setAttribute('data-id', tabID);\n                    }\n                }\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var hdrPlace = this.headerPlacement;\n        var tabItems = [];\n        this.hdrEle = this.getTabHeader();\n        this.addVerticalClass();\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER$1)) {\n                this.setProperties({ headerPlacement: 'Bottom' }, true);\n            }\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i).innerHTML);\n            }\n            if (count > 0) {\n                while (this.hdrEle.firstElementChild) {\n                    detach(this.hdrEle.firstElementChild);\n                }\n                var tabItems_1 = this.createElement('div', { className: CLS_ITEMS$1 });\n                this.hdrEle.appendChild(tabItems_1);\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM$2, id: CLS_ITEM$2 + _this.tabId + '_' + index,\n                        attrs: { role: 'tab', 'aria-controls': CLS_CONTENT$1 + _this.tabId + '_' + index, 'aria-selected': 'false' }\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, innerHTML: item, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', { className: CLS_WRAP, innerHTML: cont, attrs: { tabIndex: '-1' } });\n                    tabItems_1.appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM$2, tabItems_1)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: (hdrPlace === 'Left' || hdrPlace === 'Right') ? 'auto' : '100%',\n            height: (hdrPlace === 'Left' || hdrPlace === 'Right') ? '100%' : 'auto',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this),\n            scrollStep: this.scrollStep,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            cssClass: this.cssClass\n        });\n        this.tbObj.isStringTemplate = true;\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.hdrEle, { 'aria-label': 'tab-header' });\n        this.updateOrientationAttribute();\n        this.setCloseButton(this.showCloseButton);\n        var toolbarHeader = this.tbObj.element.querySelector('.' + CLS_TB_ITEMS);\n        if (!isNullOrUndefined(toolbarHeader)) {\n            if (isNullOrUndefined(toolbarHeader.id) || toolbarHeader.id === '') {\n                toolbarHeader.id = this.element.id + '_' + 'tab_header_items';\n            }\n            this.element.setAttribute('aria-owns', toolbarHeader.id);\n        }\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    addClass([contents.item(i)], CLS_ITEM$2);\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + i });\n                    contents.item(i).id = CLS_CONTENT$1 + this.tabId + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNullOrUndefined(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbItems = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element);\n        var maxId = this.lastIndex;\n        if (!this.isReplace && tbItems.length > 0) {\n            var idList_1 = [];\n            tbItems.forEach(function (item) {\n                idList_1.push(parseInt(item.id.slice(item.id.indexOf('_') + 1), 10));\n            });\n            maxId = Math.max.apply(Math, idList_1);\n        }\n        var tItems = [];\n        var txtWrapEle;\n        var spliceArray = [];\n        items.forEach(function (item, i) {\n            var pos = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss)) ? '' : item.header.iconCss;\n            if ((isNullOrUndefined(item.headerTemplate)) && (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.text) ||\n                ((item.header.text.length === 0)) && (css === ''))) {\n                spliceArray.push(i);\n                return;\n            }\n            var txt = item.headerTemplate || item.header.text;\n            if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n                txt = SanitizeHtmlHelper.sanitize(txt);\n            }\n            var itemIndex;\n            if (_this.isReplace && !isNullOrUndefined(_this.tbId) && _this.tbId !== '') {\n                var num = (_this.tbId.indexOf('_'));\n                itemIndex = parseInt(_this.tbId.substring(num + 1), 10);\n                _this.tbId = '';\n            }\n            else {\n                itemIndex = index + i;\n            }\n            _this.lastIndex = ((tbItems.length === 0) ? i : ((_this.isReplace) ? (itemIndex) : (maxId + 1 + i)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE$4 + ' ' + CLS_OVERLAY$2 : '';\n            var hidden = (item.visible === false) ? ' ' + CLS_HIDDEN$1 : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNullOrUndefined(tHtml) && tHtml !== '');\n            if (!isNullOrUndefined(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt, i);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt !== '' && txt !== undefined) && css !== '') {\n                if ((pos === 'left' || pos === 'top')) {\n                    tCont.insertBefore(icon, tCont.firstElementChild);\n                }\n                else {\n                    tCont.appendChild(icon);\n                }\n                tEle = txtWrapEle;\n                _this.isIconAlone = false;\n            }\n            else {\n                tEle = ((css === '') ? txtWrapEle : icon);\n                if (tEle === icon) {\n                    detach(txtWrapEle);\n                    tCont.appendChild(icon);\n                    _this.isIconAlone = true;\n                }\n            }\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: '-1' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex, role: 'tab', 'aria-selected': 'false'\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = ((item.cssClass !== undefined) ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' '\n                + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n            i++;\n        });\n        if (!this.isAdd) {\n            spliceArray.forEach(function (spliceItemIndex) {\n                _this.items.splice(spliceItemIndex, 1);\n            });\n        }\n        if (this.isIconAlone) {\n            this.element.classList.add(CLS_ICON_TAB);\n        }\n        else {\n            this.element.classList.remove(CLS_ICON_TAB);\n        }\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function () {\n        var tabHeader = this.getTabHeader();\n        if (tabHeader) {\n            var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, tabHeader);\n            [].slice.call(tabItems).forEach(function (node) { return node.classList.remove(CLS_ACTIVE$1); });\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        var lastChild = tbrItems.lastChild;\n        var isOverflow = false;\n        if (!this.isVertical() && ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth))) {\n            isOverflow = true;\n        }\n        else if (this.isVertical() && (popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight)) {\n            isOverflow = true;\n        }\n        if (isOverflow) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNullOrUndefined(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            target.removeAttribute('style');\n            this.tbItems.appendChild(target);\n            this.actEleId = target.id;\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.updateOrientationAttribute = function () {\n        attributes(this.element, { 'aria-orientation': (this.isVertical() ? 'vertical' : 'horizontal') });\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER$1, this.element);\n        if (val === true) {\n            trg.classList.add(CLS_CLOSE_SHOW);\n        }\n        else {\n            trg.classList.remove(CLS_CLOSE_SHOW);\n        }\n        this.tbObj.refreshOverflow();\n        this.refreshActiveTabBorder();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL$4);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = {\n                    name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = {\n                    name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNullOrUndefined(animateObj)) {\n            animateObj.begin = function () {\n                setStyleAttribute(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE$1);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyleAttribute(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE$1);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var oldCnt;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT$1).children);\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n        if (isNullOrUndefined(oldCnt) && !isNullOrUndefined(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        if (!isNullOrUndefined(newCnt)) {\n            this.prevActiveEle = newCnt.id;\n        }\n        var isPrevent = isNullOrUndefined(this.animation) || this.animation.next === {} || this.animation.previous === {}\n            || isNullOrUndefined(this.animation.next.effect) || isNullOrUndefined(this.animation.previous.effect)\n            || this.animation.previous.effect == 'None' || this.animation.next.effect == 'None';\n        if (this.initRender || value === false || this.animation === {} || isPrevent) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE$1);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT$1, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE$1);\n        };\n        if (!this.initRender && !isNullOrUndefined(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE$1);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNullOrUndefined(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNullOrUndefined(trgParent) && trgParent.classList.contains(CLS_ACTIVE$1) === false) {\n                this.selectTab(trgIndex, null, true);\n                if (!isNullOrUndefined(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getTabHeader = function () {\n        if (isNullOrUndefined(this.element)) {\n            return undefined;\n        }\n        var headers = [].slice.call(this.element.children).filter(function (e) { return e.classList.contains(CLS_HEADER$1); });\n        if (headers.length > 0) {\n            return headers[0];\n        }\n        else {\n            var wrap = [].slice.call(this.element.children).filter(function (e) { return !e.classList.contains(CLS_BLA_TEM); })[0];\n            if (!wrap) {\n                return undefined;\n            }\n            return [].slice.call(wrap.children).filter(function (e) { return e.classList.contains(CLS_HEADER$1); })[0];\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM$2 + this.tabId + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNullOrUndefined(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt, index) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content', index);\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop, index) {\n        var templateFn;\n        if (typeof val === 'string') {\n            val = val.trim();\n            if (this.isVue) {\n                templateFn = compile(SanitizeHtmlHelper.sanitize(val));\n            }\n            else {\n                ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n            }\n        }\n        else {\n            templateFn = compile(val);\n        }\n        var templateFUN;\n        if (!isNullOrUndefined(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNullOrUndefined(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text, index) {\n        this.compileElement(element, text, 'headerTemplate', index);\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType, index) {\n        var eleStr;\n        cnt = isNullOrUndefined(cnt) ? \"\" : cnt;\n        if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n            if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                cnt = SanitizeHtmlHelper.sanitize(cnt);\n            }\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt, index);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt, index);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNullOrUndefined(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST$1)) {\n            ele = select('.' + CLS_NEST$1 + '> .' + CLS_CONTENT$1 + ' > #' + CLS_CONTENT$1 + this.tabId + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT$1 + this.tabId + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.isVertical = function () {\n        var isVertical = (this.headerPlacement === 'Left' || this.headerPlacement === 'Right') ? true : false;\n        this.scrCntClass = (isVertical) ? CLS_VSCRCNT : CLS_HSCRCNT;\n        return isVertical;\n    };\n    Tab.prototype.addVerticalClass = function () {\n        if (this.isVertical()) {\n            var tbPos = (this.headerPlacement === 'Left') ? CLS_VLEFT : CLS_VRIGHT;\n            addClass([this.hdrEle], [CLS_VERTICAL$1, tbPos]);\n            if (!this.element.classList.contains(CLS_NEST$1)) {\n                addClass([this.element], [CLS_VTAB, tbPos]);\n            }\n            else {\n                addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n            }\n        }\n        if (this.headerPlacement === 'Bottom') {\n            addClass([this.hdrEle], [CLS_HBOTTOM]);\n        }\n    };\n    Tab.prototype.updatePopAnimationConfig = function () {\n        this.show = { name: (this.isVertical() ? 'FadeIn' : 'SlideDown'), duration: 100 };\n        this.hide = { name: (this.isVertical() ? 'FadeOut' : 'SlideUp'), duration: 100 };\n    };\n    Tab.prototype.changeOrientation = function (place) {\n        this.setOrientation(place, this.hdrEle);\n        var activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE$1);\n        var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL$1) ? true : false;\n        removeClass([this.element], [CLS_VTAB]);\n        removeClass([this.hdrEle], [CLS_VERTICAL$1, CLS_VLEFT, CLS_VRIGHT]);\n        if (isVertical !== this.isVertical()) {\n            this.changeToolbarOrientation();\n            if (!isNullOrUndefined(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n                this.popupHandler(activeTab);\n            }\n        }\n        this.addVerticalClass();\n        this.updateOrientationAttribute();\n        this.setActiveBorder();\n        this.focusItem();\n    };\n    Tab.prototype.focusItem = function () {\n        var curActItem = select(' #' + CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, this.hdrEle);\n        if (!isNullOrUndefined(curActItem)) {\n            curActItem.firstElementChild.focus();\n        }\n    };\n    Tab.prototype.changeToolbarOrientation = function () {\n        this.tbObj.setProperties({ height: (this.isVertical() ? '100%' : 'auto'), width: (this.isVertical() ? 'auto' : '100%') }, true);\n        this.tbObj.changeOrientation();\n        this.updatePopAnimationConfig();\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n        var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT$1));\n        if (place === 'Bottom' && (contentPos > headerPos)) {\n            this.element.appendChild(ele);\n        }\n        else {\n            removeClass([ele], [CLS_HBOTTOM]);\n            this.element.insertBefore(ele, select('.' + CLS_CONTENT$1, this.element));\n        }\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (this.element.classList.contains(CLS_FILL)) {\n            removeClass([this.element], [CLS_FILL]);\n        }\n        if (isNullOrUndefined(this.cntEle)) {\n            return;\n        }\n        var hdrEle = this.getTabHeader();\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                if (!this.isVertical()) {\n                    setStyleAttribute(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n                }\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            addClass([this.element], [CLS_FILL]);\n            setStyleAttribute(this.element, { 'height': '100%' });\n            setStyleAttribute(this.cntEle, { 'height': (this.element.offsetHeight - hdrEle.offsetHeight) + 'px' });\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            if (this.isTemplate === true) {\n                var cnt = selectAll('.' + CLS_CONTENT$1 + ' > .' + CLS_ITEM$2, this.element);\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT$1 + this.tabId + '_' + 0), className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone', i);\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                if (this.isReact) {\n                    this.clearTemplate(['content']);\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render', 0);\n                if (this.prevIndex !== this.selectedItem) {\n                    ele.classList.remove(CLS_ACTIVE$1);\n                }\n            }\n            setStyleAttribute(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyleAttribute(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trgHdrEle = this.getTabHeader();\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, trgHdrEle);\n        if (isNullOrUndefined(trg)) {\n            return;\n        }\n        if (!this.reorderActiveTab) {\n            if (trg.classList.contains(CLS_TB_POPUP) && !this.bdrLine.classList.contains(CLS_HIDDEN$1)) {\n                this.bdrLine.classList.add(CLS_HIDDEN$1);\n            }\n            if (trgHdrEle && !trgHdrEle.classList.contains(CLS_REORDER_ACTIVE_ITEM)) {\n                trgHdrEle.classList.add(CLS_REORDER_ACTIVE_ITEM);\n            }\n        }\n        else if (trgHdrEle) {\n            trgHdrEle.classList.remove(CLS_REORDER_ACTIVE_ITEM);\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n        var bar = select('.' + CLS_INDICATOR, trgHdrEle);\n        var scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n        if (this.isVertical()) {\n            setStyleAttribute(bar, { 'left': '', 'right': '' });\n            var tbHeight = (isNullOrUndefined(scrollCnt)) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n            if (tbHeight !== 0) {\n                setStyleAttribute(bar, { 'top': trg.offsetTop + 'px', 'height': trg.offsetHeight + 'px' });\n            }\n            else {\n                setStyleAttribute(bar, { 'top': 0, 'height': 0 });\n            }\n        }\n        else {\n            if (this.overflowMode === 'MultiRow') {\n                var top_1 = this.headerPlacement === 'Bottom' ? trg.offsetTop : trg.offsetHeight + trg.offsetTop;\n                setStyleAttribute(bar, { 'top': top_1 + 'px', 'height': '' });\n            }\n            else {\n                setStyleAttribute(bar, { 'top': '', 'height': '' });\n            }\n            var tbWidth = (isNullOrUndefined(scrollCnt)) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n            if (tbWidth !== 0) {\n                setStyleAttribute(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n            }\n            else {\n                setStyleAttribute(bar, { 'left': 'auto', 'right': 'auto' });\n            }\n        }\n        if (!isNullOrUndefined(this.bdrLine) && !trg.classList.contains(CLS_TB_POPUP)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN$1);\n        }\n    };\n    Tab.prototype.setActive = function (value, skipDataBind, isInteracted) {\n        if (skipDataBind === void 0) { skipDataBind = false; }\n        if (isInteracted === void 0) { isInteracted = false; }\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n        var trg = this.tbItem[value];\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (value >= 0 && !skipDataBind) {\n            this.allowServerDataBinding = false;\n            this.setProperties({ selectedItem: value }, true);\n            this.allowServerDataBinding = true;\n            if (!this.initRender) {\n                this.serverDataBind();\n            }\n        }\n        if (trg.classList.contains(CLS_ACTIVE$1)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            var prev = this.tbItem[this.prevIndex];\n            if (!isNullOrUndefined(prev)) {\n                prev.removeAttribute('aria-controls');\n            }\n            attributes(trg, { 'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass();\n        trg.classList.add(CLS_ACTIVE$1);\n        this.tbItem[this.prevIndex].setAttribute('aria-selected', 'false');\n        trg.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNullOrUndefined(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT$1 + this.tabId + '_' + no;\n        }\n        attributes(this.element, { 'aria-activedescendant': id });\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT$1, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT$1, this.element).children, CLS_CONTENT$1 + this.tabId + '_' + no);\n                if (!isNullOrUndefined(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE$1);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNullOrUndefined(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT$1 + this.tabId + '_' + this.extIndex(id), className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n            }\n            else {\n                item.classList.add(CLS_ACTIVE$1);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        this.refreshItemVisibility(trg);\n        if (!this.initRender && !skipDataBind) {\n            trg.firstElementChild.focus();\n            var eventArg = {\n                previousItem: this.prevItem,\n                previousIndex: this.prevIndex,\n                selectedItem: trg,\n                selectedIndex: value,\n                selectedContent: select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content),\n                isSwiped: this.isSwipeed,\n                isInteracted: isInteracted\n            };\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL$4, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNullOrUndefined(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN$1);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.showPopup = function (config) {\n        var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n        if (tbPop.classList.contains('e-popup-close')) {\n            var tbPopObj = (tbPop && tbPop.ej2_instances[0]);\n            tbPopObj.position.X = (this.headerPlacement === 'Left') ? 'left' : 'right';\n            tbPopObj.dataBind();\n            tbPopObj.show(config);\n        }\n    };\n    Tab.prototype.bindDraggable = function () {\n        var _this = this;\n        if (this.allowDragAndDrop) {\n            var tabHeader = this.element.querySelector('.' + CLS_HEADER$1);\n            if (tabHeader) {\n                var items = tabHeader.querySelectorAll('.' + CLS_TB_ITEM);\n                items.forEach(function (element) {\n                    _this.initializeDrag(element);\n                });\n            }\n        }\n    };\n    Tab.prototype.wireEvents = function () {\n        this.bindDraggable();\n        window.addEventListener('resize', this.resizeContext);\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNullOrUndefined(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        if (!isNullOrUndefined(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n        if (!isNullOrUndefined(this.tabKeyModule)) {\n            this.tabKeyModule.destroy();\n        }\n        if (!isNullOrUndefined(this.cntEle) && !isNullOrUndefined(this.touchModule)) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n        this.element.classList.remove(CLS_RTL$4);\n        this.element.classList.remove(CLS_FOCUS);\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n            this.showPopup(this.show);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNullOrUndefined(trgParent) && (trgIndex !== this.selectedItem || trgIndex !== this.prevIndex)) {\n                this.selectTab(trgIndex, args.originalEvent, true);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches)) {\n            return;\n        }\n        if (this.isNested) {\n            this.element.setAttribute('data-swipe', 'true');\n        }\n        var nestedTab = this.element.querySelector('[data-swipe=\"true\"]');\n        if (nestedTab) {\n            nestedTab.removeAttribute('data-swipe');\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                    this.selectTab(k, null, true);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n                    this.selectTab(i, null, true);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER$1);\n            if (!isNullOrUndefined(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE$4)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var tabHeader = this.getTabHeader();\n        var actEle = select('.' + CLS_ACTIVE$1, tabHeader);\n        this.popEle = select('.' + CLS_TB_POP, tabHeader);\n        if (!isNullOrUndefined(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE$4)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    this.showPopup(this.show);\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE$1) === false) {\n                    trg.setAttribute('tabindex', '-1');\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                actEle.children.item(0).setAttribute('tabindex', '0');\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                if (!isNullOrUndefined(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNullOrUndefined(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                if (this.showCloseButton === true && !isNullOrUndefined(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNullOrUndefined(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstElementChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n        if (!this.isVertical() && !isNullOrUndefined(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNullOrUndefined(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n        if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n            for (var i = 0; i < changedProp.length; i++) {\n                var index = parseInt(Object.keys(newProp.items)[i], 10);\n                var properties = Object.keys(newProp.items[index]);\n                for (var j = 0; j < properties.length; j++) {\n                    var oldVal = Object(oldProp.items[index])[properties[j]];\n                    var newVal = Object(newProp.items[index])[properties[j]];\n                    var hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n                    var itemIndex = void 0;\n                    if (hdr && !isNullOrUndefined(hdr.id) && hdr.id !== '') {\n                        var num = (hdr.id.lastIndexOf('_'));\n                        itemIndex = parseInt(hdr.id.substring(num + 1), 10);\n                    }\n                    else {\n                        itemIndex = index;\n                    }\n                    var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM$2 + this.tabId + '_' + itemIndex, this.element);\n                    var cntItem = select('.' + CLS_CONTENT$1 + ' #' + CLS_CONTENT$1 + this.tabId + '_' + itemIndex, this.element);\n                    if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n                        var icon = (isNullOrUndefined(this.items[index].header) ||\n                            isNullOrUndefined(this.items[index].header.iconCss)) ? '' : this.items[index].header.iconCss;\n                        var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n                        if ((textVal === '') && (icon === '')) {\n                            this.removeTab(index);\n                        }\n                        else {\n                            this.tbId = hdr.id;\n                            var arr = [];\n                            arr.push(this.items[index]);\n                            this.items.splice(index, 1);\n                            this.itemIndexArray.splice(index, 1);\n                            this.tbObj.items.splice(index, 1);\n                            var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN$1);\n                            detach(hdrItem);\n                            this.isReplace = true;\n                            this.addTab(arr, index);\n                            if (isHiddenEle) {\n                                this.hideTab(index);\n                            }\n                            this.isReplace = false;\n                        }\n                    }\n                    if (properties[j] === 'content' && !isNullOrUndefined(cntItem)) {\n                        var strVal = typeof newVal === 'string' || isNullOrUndefined(newVal.innerHTML);\n                        if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                            var eleVal = document.querySelector(newVal);\n                            cntItem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else if (newVal === '' && oldVal[0] === '#') {\n                            document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                            cntItem.innerHTML = newVal;\n                        }\n                        else if (this.isReact) {\n                            cntItem.innerHTML = '';\n                            this.templateCompile(cntItem, newVal, index);\n                        }\n                        else if (typeof newVal !== 'function') {\n                            cntItem.innerHTML = newVal;\n                        }\n                    }\n                    if (properties[j] === 'cssClass') {\n                        if (!isNullOrUndefined(hdrItem)) {\n                            hdrItem.classList.remove(oldVal);\n                            hdrItem.classList.add(newVal);\n                        }\n                        if (!isNullOrUndefined(cntItem)) {\n                            cntItem.classList.remove(oldVal);\n                            cntItem.classList.add(newVal);\n                        }\n                    }\n                    if (properties[j] === 'disabled') {\n                        this.enableTab(index, ((newVal === true) ? false : true));\n                    }\n                    if (properties[j] === 'visible') {\n                        this.hideTab(index, ((newVal === true) ? false : true));\n                    }\n                }\n            }\n        }\n        else {\n            this.lastIndex = 0;\n            if (isNullOrUndefined(this.tbObj)) {\n                this.reRenderItems();\n            }\n            else {\n                if (this.isReact || this.isAngular) {\n                    this.clearTemplate();\n                }\n                this.setItems(newProp.items);\n                if (this.templateEle.length > 0) {\n                    this.expTemplateContent();\n                }\n                this.templateEle = [];\n                var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n                while (selectElement.firstElementChild) {\n                    detach(selectElement.firstElementChild);\n                }\n                this.select(this.selectedItem);\n                this.draggableItems = [];\n                this.bindDraggable();\n            }\n        }\n    };\n    Tab.prototype.initializeDrag = function (target) {\n        var _this = this;\n        var dragObj = new Draggable(target, {\n            dragArea: this.dragArea,\n            dragTarget: '.' + CLS_TB_ITEM,\n            clone: true,\n            helper: this.helper.bind(this),\n            dragStart: this.itemDragStart.bind(this),\n            drag: function (e) {\n                var dragIndex = _this.getEleIndex(_this.dragItem);\n                var dropIndex;\n                var dropItem;\n                var dragArgs = {\n                    draggedItem: _this.dragItem,\n                    event: e.event,\n                    target: e.target,\n                    droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n                    clonedElement: _this.cloneElement,\n                    index: dragIndex\n                };\n                if (!isNullOrUndefined(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(_this.element) &&\n                    _this.dragArea !== '.' + CLS_HEADER$1) {\n                    _this.trigger('dragging', dragArgs);\n                }\n                else {\n                    if (!(e.target.closest(_this.dragArea)) && _this.overflowMode !== 'Popup') {\n                        document.body.style.cursor = 'not-allowed';\n                        addClass([_this.cloneElement], CLS_HIDDEN$1);\n                        if (_this.dragItem.classList.contains(CLS_HIDDEN$1)) {\n                            removeClass([_this.dragItem], CLS_HIDDEN$1);\n                        }\n                        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n                    }\n                    else {\n                        document.body.style.cursor = '';\n                        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n                        if (_this.cloneElement.classList.contains(CLS_HIDDEN$1)) {\n                            removeClass([_this.cloneElement], CLS_HIDDEN$1);\n                        }\n                    }\n                    if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n                        var scrollRightNavEle = _this.element.querySelector('.e-scroll-right-nav');\n                        var scrollLeftNavEle = _this.element.querySelector('.e-scroll-left-nav');\n                        var hscrollBar = _this.element.querySelector('.e-hscroll-bar');\n                        if (!isNullOrUndefined(scrollRightNavEle) && Math.abs((scrollRightNavEle.offsetWidth / 2) +\n                            scrollRightNavEle.offsetLeft) > _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n                            hscrollBar.scrollLeft -= 10;\n                        }\n                        if (!isNullOrUndefined(scrollLeftNavEle) && Math.abs((scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth) -\n                            _this.cloneElement.offsetLeft) > (scrollLeftNavEle.offsetWidth / 2)) {\n                            hscrollBar.scrollLeft += 10;\n                        }\n                    }\n                    _this.cloneElement.style.pointerEvents = 'none';\n                    dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n                    var scrollContentWidth = 0;\n                    if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n                        scrollContentWidth = _this.element.querySelector('.e-hscroll-content').offsetWidth;\n                    }\n                    if (dropItem != null && !dropItem.isSameNode(_this.dragItem) &&\n                        dropItem.closest('.' + CLS_TAB).isSameNode(_this.dragItem.closest('.' + CLS_TAB))) {\n                        dropIndex = _this.getEleIndex(dropItem);\n                        if (dropIndex < dragIndex &&\n                            (Math.abs((dropItem.offsetLeft + dropItem.offsetWidth) -\n                                _this.cloneElement.offsetLeft) > (dropItem.offsetWidth / 2))) {\n                            _this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                        if (dropIndex > dragIndex &&\n                            (Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft -\n                                scrollContentWidth) < _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n                            _this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                    }\n                    _this.droppedIndex = _this.getEleIndex(_this.dragItem);\n                    _this.trigger('dragging', dragArgs);\n                }\n            },\n            dragStop: this.itemDragStop.bind(this)\n        });\n        this.draggableItems.push(dragObj);\n    };\n    Tab.prototype.helper = function (e) {\n        this.cloneElement = this.createElement('div');\n        if (e.element) {\n            this.cloneElement = (e.element.cloneNode(true));\n            addClass([this.cloneElement], 'e-tab-clone-element');\n            if (this.element.querySelector('.' + CLS_HEADER$1).classList.contains(CLS_CLOSE_SHOW)) {\n                addClass([this.cloneElement], CLS_CLOSE_SHOW);\n            }\n            removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n            if (!isNullOrUndefined(this.cloneElement.querySelector('.e-ripple-element'))) {\n                remove(this.cloneElement.querySelector('.e-ripple-element'));\n            }\n            document.body.appendChild(this.cloneElement);\n        }\n        return this.cloneElement;\n    };\n    Tab.prototype.itemDragStart = function (e) {\n        var _this = this;\n        this.draggingItems = this.items.map(function (x) { return x; });\n        this.dragItem = e.element;\n        var dragArgs = {\n            draggedItem: e.element,\n            event: e.event,\n            target: e.target,\n            droppedItem: null,\n            index: this.getEleIndex(this.dragItem),\n            clonedElement: this.cloneElement,\n            cancel: false\n        };\n        this.trigger('onDragStart', dragArgs, function (tabitemDragArgs) {\n            if (tabitemDragArgs.cancel) {\n                detach(_this.cloneElement);\n            }\n            else {\n                _this.removeActiveClass();\n                addClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n                _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n            }\n        });\n    };\n    Tab.prototype.dragAction = function (dropItem, dragsIndex, dropIndex) {\n        if (this.items.length > 0) {\n            var item = this.draggingItems[dragsIndex];\n            this.draggingItems.splice(dragsIndex, 1);\n            this.draggingItems.splice(dropIndex, 0, item);\n        }\n        if (this.overflowMode === 'MultiRow') {\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n        }\n        if (dragsIndex > dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n                        var popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement.lastChild), this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n                else {\n                    var lastEle = (dropItem.parentElement).lastChild;\n                    if (dropItem.isSameNode(lastEle)) {\n                        var popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(lastEle, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n            }\n        }\n        if (dragsIndex < dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n                }\n                else {\n                    this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n            }\n        }\n    };\n    Tab.prototype.itemDragStop = function (e) {\n        var _this = this;\n        detach(this.cloneElement);\n        this.cloneElement = null;\n        this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n        document.body.style.cursor = '';\n        var dragStopArgs = {\n            draggedItem: this.dragItem,\n            event: e.event,\n            target: e.target,\n            droppedItem: this.tbItem[this.droppedIndex],\n            clonedElement: null,\n            index: this.droppedIndex,\n            cancel: false\n        };\n        this.trigger('dragged', dragStopArgs, function (tabItemDropArgs) {\n            if (tabItemDropArgs.cancel) {\n                _this.refresh();\n            }\n            else {\n                if (_this.items.length > 0 && _this.draggingItems.length > 0) {\n                    _this.items = _this.draggingItems;\n                    _this.selectedItem = _this.droppedIndex;\n                    _this.refresh();\n                }\n                else {\n                    _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n                    removeClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n                    _this.selectTab(_this.droppedIndex, null, true);\n                }\n            }\n        });\n        this.dragItem = null;\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     *\n     * @param {number} index - Index value of target Tab item.\n     * @param {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns {void}.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE$4, CLS_OVERLAY$2);\n            tbItems.firstElementChild.setAttribute('tabindex', '-1');\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE$4, CLS_OVERLAY$2);\n            tbItems.firstElementChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE$1)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNullOrUndefined(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     *\n     * @param {TabItemModel[]} items - An array of item that is added to the Tab.\n     * @param {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var addArgs = { addedItems: items, cancel: false };\n        if (!this.isReplace) {\n            this.trigger('adding', addArgs, function (tabAddingArgs) {\n                if (!tabAddingArgs.cancel) {\n                    _this.addingTabContent(items, index);\n                }\n            });\n        }\n        else {\n            this.addingTabContent(items, index);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Tab.prototype.addingTabContent = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        this.hdrEle = select('.' + CLS_HEADER$1, this.element);\n        if (isNullOrUndefined(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            this.bindDraggable();\n        }\n        else {\n            var itemsCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n            if (itemsCount !== 0) {\n                lastEleIndex = this.lastIndex + 1;\n            }\n            if (isNullOrUndefined(index)) {\n                index = itemsCount - 1;\n            }\n            if (itemsCount < index || index < 0 || isNaN(index)) {\n                return;\n            }\n            if (itemsCount === 0 && !isNullOrUndefined(this.hdrEle)) {\n                this.hdrEle.style.display = '';\n            }\n            if (!isNullOrUndefined(this.bdrLine)) {\n                this.bdrLine.classList.add(CLS_HIDDEN$1);\n            }\n            this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n            this.isAdd = true;\n            var tabItems_2 = this.parseObject(items, index);\n            this.isAdd = false;\n            var i_1 = 0;\n            var textValue_1;\n            items.forEach(function (item, place) {\n                textValue_1 = item.headerTemplate || item.header.text;\n                if (!(isNullOrUndefined(item.headerTemplate || item.header) || isNullOrUndefined(textValue_1) ||\n                    (textValue_1.length === 0) && !isNullOrUndefined(item.header) && isNullOrUndefined(item.header.iconCss))) {\n                    if (tabItems_2[place]) {\n                        if (isNullOrUndefined(item.id)) {\n                            item.id = TABITEMPREFIX + (lastEleIndex + place).toString();\n                        }\n                        tabItems_2[place].htmlAttributes['data-id'] = item.id;\n                    }\n                    _this.items.splice((index + i_1), 0, item);\n                    i_1++;\n                }\n                if (_this.isTemplate && !isNullOrUndefined(item.header) && !isNullOrUndefined(item.header.text)) {\n                    var no = lastEleIndex + place;\n                    var ele = _this.createElement('div', {\n                        id: CLS_CONTENT$1 + _this.tabId + '_' + no, className: CLS_ITEM$2,\n                        attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + '_' + no }\n                    });\n                    _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                    var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                    _this.getContent(eleTrg, item.content, 'render', index);\n                }\n            });\n            this.tbObj.addItems(tabItems_2, index);\n            if (!this.isReplace) {\n                this.trigger('added', { addedItems: items });\n            }\n            if (this.selectedItem === index) {\n                this.select(index);\n            }\n            else {\n                this.setActiveBorder();\n                this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n            }\n            this.bindDraggable();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     *\n     * @param {number} index - Index of target item that is going to be removed.\n     * @returns {void}.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var _this = this;\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(trg)) {\n            return;\n        }\n        var removeArgs = { removedItem: trg, removedIndex: index, cancel: false };\n        this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n            if (!tabRemovingArgs.cancel) {\n                _this.tbObj.removeItems(index);\n                if (_this.allowDragAndDrop && (index !== Array.prototype.indexOf.call(_this.itemIndexArray, trg.id))) {\n                    index = Array.prototype.indexOf.call(_this.itemIndexArray, trg.id);\n                }\n                var targetEleIndex = _this.itemIndexArray.indexOf(trg.id);\n                _this.items.splice(targetEleIndex, 1);\n                _this.itemIndexArray.splice(targetEleIndex, 1);\n                _this.refreshActiveBorder();\n                var cntTrg = select('#' + CLS_CONTENT$1 + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT$1, _this.element));\n                if (!isNullOrUndefined(cntTrg)) {\n                    detach(cntTrg);\n                }\n                _this.trigger('removed', tabRemovingArgs);\n                if (_this.draggableItems && _this.draggableItems.length > 0) {\n                    _this.draggableItems[index].destroy();\n                    _this.draggableItems[index] = null;\n                    _this.draggableItems.splice(index, 1);\n                }\n                if (trg.classList.contains(CLS_ACTIVE$1)) {\n                    index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1) ? index - 1 : index;\n                    _this.enableAnimation = false;\n                    _this.selectedItem = index;\n                    _this.select(index);\n                }\n                else if (index !== _this.selectedItem) {\n                    if (index < _this.selectedItem) {\n                        index = _this.itemIndexArray.indexOf(_this.tbItem[_this.selectedItem].id);\n                        _this.setProperties({ selectedItem: index > -1 ? index : _this.selectedItem }, true);\n                        _this.prevIndex = _this.selectedItem;\n                    }\n                    _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n                }\n                if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n                    _this.hdrEle.style.display = 'none';\n                }\n                _this.enableAnimation = true;\n            }\n        });\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     *\n     * @param {number} index - Index value of target item.\n     * @param {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns {void}.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var items;\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(item)) {\n            return;\n        }\n        if (isNullOrUndefined(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN$1);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE$1)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN$1);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN$1);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n            item.classList.remove(CLS_HIDDEN$1);\n            if (items.length === 0) {\n                this.select(index);\n            }\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n        if (this.overflowMode === 'Popup' && this.tbObj) {\n            this.tbObj.refreshOverflow();\n        }\n    };\n    Tab.prototype.selectTab = function (args, event, isInteracted) {\n        if (event === void 0) { event = null; }\n        if (isInteracted === void 0) { isInteracted = false; }\n        this.isInteracted = isInteracted;\n        this.select(args, event);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     *\n     * @param {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @param {Event} event - An event which takes place in DOM.\n     * @returns {void}\n     */\n    Tab.prototype.select = function (args, event) {\n        var _this = this;\n        var tabHeader = this.getTabHeader();\n        this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n        this.content = select('.' + CLS_CONTENT$1, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (isNullOrUndefined(this.selectedItem) || (this.selectedItem < 0) || (this.tbItem.length <= this.selectedItem) || isNaN(this.selectedItem)) {\n            this.selectedItem = 0;\n        }\n        else {\n            this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n        }\n        var trg = this.tbItem[args];\n        if (isNullOrUndefined(trg)) {\n            this.selectedID = '0';\n        }\n        else {\n            this.selectingID = this.extIndex(trg.id);\n        }\n        if (!isNullOrUndefined(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE$4)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', '-1');\n        }\n        var eventArg = {\n            event: event,\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectedContent: !isNullOrUndefined(this.content) ?\n                select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectedID, this.content) : null,\n            selectingItem: trg,\n            selectingIndex: args,\n            selectingContent: !isNullOrUndefined(this.content) ?\n                select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content) : null,\n            isSwiped: this.isSwipeed,\n            isInteracted: this.isInteracted,\n            cancel: false\n        };\n        if (!this.initRender) {\n            this.trigger('selecting', eventArg, function (selectArgs) {\n                if (!selectArgs.cancel) {\n                    _this.selectingContent(args, _this.isInteracted);\n                }\n            });\n        }\n        else {\n            this.selectingContent(args, this.isInteracted);\n        }\n        this.isInteracted = false;\n    };\n    Tab.prototype.selectingContent = function (args, isInteracted) {\n        if (typeof args === 'number') {\n            if (!isNullOrUndefined(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE$4) ||\n                this.tbItem[args].classList.contains(CLS_HIDDEN$1))) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false && this.items[i].visible === true) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                this.prevItem = this.tbItem[this.prevIndex];\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP) && this.reorderActiveTab) {\n                    this.setActive(this.popupHandler(this.tbItem[args]), null, isInteracted);\n                    if ((!isNullOrUndefined(this.items) && this.items.length > 0) && this.allowDragAndDrop) {\n                        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n                        var item = this.items[args];\n                        this.items.splice(args, 1);\n                        this.items.splice(this.tbItem.length - 1, 0, item);\n                        var itemId = this.itemIndexArray[args];\n                        this.itemIndexArray.splice(args, 1);\n                        this.itemIndexArray.splice(this.tbItem.length - 1, 0, itemId);\n                    }\n                }\n                else {\n                    this.setActive(args, null, isInteracted);\n                }\n            }\n            else {\n                this.setActive(0, null, isInteracted);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args), null, isInteracted);\n        }\n    };\n    /**\n     * Gets the item index from the Tab.\n     *\n     * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n     * @returns {number} - It returns item index.\n     */\n    Tab.prototype.getItemIndex = function (tabItemId) {\n        var tabIndex;\n        for (var i = 0; i < this.tbItem.length; i++) {\n            var value = this.tbItem[i].getAttribute('data-id');\n            if (tabItemId === value) {\n                tabIndex = i;\n                break;\n            }\n        }\n        return tabIndex;\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE$4, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - It returns the persisted state.\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {TabModel} newProp - It contains the new value of data.\n     * @param  {TabModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    var headerEle = this.element.querySelector('.' + CLS_HEADER$1);\n                    if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n                        this.setCssClass(this.element, oldProp.cssClass, false);\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                        if (!isNullOrUndefined(headerEle)) {\n                            this.setCssClass(headerEle, oldProp.cssClass, false);\n                            this.setCssClass(headerEle, newProp.cssClass, true);\n                        }\n                    }\n                    else {\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                        if (!isNullOrUndefined(headerEle)) {\n                            this.setCssClass(headerEle, newProp.cssClass, true);\n                        }\n                    }\n                    break;\n                case 'items':\n                    this.evalOnPropertyChangeItems(newProp, oldProp);\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'reorderActiveTab':\n                    this.refreshActiveTabBorder();\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    this.changeOrientation(newProp.headerPlacement);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActiveTabBorder();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n                case 'scrollStep':\n                    if (this.tbObj) {\n                        this.tbObj.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'allowDragAndDrop':\n                    this.bindDraggable();\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.draggableItems.forEach(function (item) {\n                            item.dragArea = _this.dragArea;\n                        });\n                        this.refresh();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * To refresh the active tab contents.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refreshActiveTab = function () {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        if (!this.isTemplate) {\n            if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1)) {\n                detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).children[0]);\n                detach(this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0]);\n                var item = this.items[this.selectedItem];\n                var pos = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition)) ? '' : item.header.iconPosition;\n                var css = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss)) ? '' : item.header.iconCss;\n                var text = item.headerTemplate || item.header.text;\n                var txtWrap = this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n                if (!isNullOrUndefined(text.tagName)) {\n                    txtWrap.appendChild(text);\n                }\n                else {\n                    this.headerTextCompile(txtWrap, text, this.selectedItem);\n                }\n                var tEle = void 0;\n                var icon = this.createElement('span', {\n                    className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n                });\n                var tConts = this.createElement('div', { className: CLS_TEXT_WRAP });\n                tConts.appendChild(txtWrap);\n                if ((text !== '' && text !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tConts.insertBefore(icon, tConts.firstElementChild);\n                    }\n                    else {\n                        tConts.appendChild(icon);\n                    }\n                    tEle = txtWrap;\n                    this.isIconAlone = false;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrap : icon);\n                    if (tEle === icon) {\n                        detach(txtWrap);\n                        tConts.appendChild(icon);\n                        this.isIconAlone = true;\n                    }\n                }\n                var wrapAtt = (item.disabled) ? {} : { tabIndex: '-1' };\n                tConts.appendChild(this.btnCls.cloneNode(true));\n                var wraper = this.createElement('div', { className: CLS_WRAP, attrs: wrapAtt });\n                wraper.appendChild(tConts);\n                if (pos === 'top' || pos === 'bottom') {\n                    this.element.classList.add('e-vertical-icon');\n                }\n                this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wraper);\n                var crElem = this.createElement('div');\n                var cnt = item.content;\n                var eleStr = void 0;\n                if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n                    if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                        cnt = SanitizeHtmlHelper.sanitize(cnt);\n                    }\n                    if (cnt[0] === '.' || cnt[0] === '#') {\n                        if (document.querySelectorAll(cnt).length) {\n                            var eleVal = document.querySelector(cnt);\n                            eleStr = eleVal.outerHTML.trim();\n                            crElem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else {\n                            this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                        }\n                    }\n                    else {\n                        this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                    }\n                }\n                else {\n                    crElem.appendChild(cnt);\n                }\n                if (!isNullOrUndefined(eleStr)) {\n                    if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                        this.templateEle.push(cnt.toString());\n                    }\n                }\n                this.element.querySelector('.' + CLS_ITEM$2 + '.' + CLS_ACTIVE$1).appendChild(crElem);\n            }\n        }\n        else {\n            var tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n            var element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1);\n            var id = element.id;\n            var num = (id.indexOf('_'));\n            var index = parseInt(id.substring(num + 1), 10);\n            var header = element.innerText;\n            var detachContent = this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0];\n            var mainContents = detachContent.innerHTML;\n            detach(element);\n            detach(detachContent);\n            var attr = {\n                className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE$1 + ' ' + CLS_ACTIVE$1, id: CLS_ITEM$2 + this.tabId + '_' + index,\n                attrs: {\n                    role: 'tab', 'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + index,\n                    'aria-disabled': 'false', 'aria-selected': 'true'\n                }\n            };\n            var txtString = this.createElement('span', {\n                className: CLS_TEXT, innerHTML: header, attrs: { 'role': 'presentation' }\n            }).outerHTML;\n            var conte = this.createElement('div', {\n                className: CLS_TEXT_WRAP, innerHTML: txtString + this.btnCls.outerHTML\n            }).outerHTML;\n            var wrap = this.createElement('div', { className: CLS_WRAP, innerHTML: conte, attrs: { tabIndex: '-1' } });\n            tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n            this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wrap);\n            var crElem = this.createElement('div', { innerHTML: mainContents });\n            this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).appendChild(crElem);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To refresh the active tab indicator.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refreshActiveTabBorder = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE$1, this.element);\n        if (!isNullOrUndefined(activeEle) && this.reorderActiveTab) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    __decorate$7([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate$7([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate$7([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate$7([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate$7([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate$7([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate$7([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate$7([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate$7([\n        Property('Dynamic')\n    ], Tab.prototype, \"loadOn\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate$7([\n        Property(true)\n    ], Tab.prototype, \"reorderActiveTab\", void 0);\n    __decorate$7([\n        Property()\n    ], Tab.prototype, \"scrollStep\", void 0);\n    __decorate$7([\n        Property()\n    ], Tab.prototype, \"dragArea\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"allowDragAndDrop\", void 0);\n    __decorate$7([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"onDragStart\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"dragging\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"dragged\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate$7([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\n\n/**\n * Tab modules\n */\n\nvar __extends$8 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar LISTWRAP = 'e-text-wrap';\nvar IELISTWRAP = 'e-ie-wrap';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL$1 = 'e-rtl';\nvar INTERACTION = 'e-interaction';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED$1 = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar RIPPLE = 'e-ripple';\nvar RIPPLEELMENT = 'e-ripple-element';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar CHILD = 'e-has-child';\nvar ITEM_ANIMATION_ACTIVE = 'e-animation-active';\nvar DISABLED$1 = 'e-disabled';\nvar treeAriaAttr = {\n    treeRole: 'tree',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: ''\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$8([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate$8([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate$8([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate$8([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate$8([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate$8([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate$8([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate$8([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate$8([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate$8([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate$8([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate$8([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate$8([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate$8([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate$8([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate$8([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$8([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate$8([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate$8([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$8([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate$8([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n *  <div id=\"tree\"></div>\n * ```\n * ```typescript\n *  let treeObj: TreeView = new TreeView();\n *  treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRefreshed = false;\n        _this.preventExpand = false;\n        _this.checkedElement = [];\n        _this.disableNode = [];\n        // eslint-disable-next-line\n        _this.validArr = [];\n        _this.validNodes = [];\n        _this.expandChildren = [];\n        _this.isFieldChange = false;\n        _this.changeDataSource = false;\n        _this.hasTemplate = false;\n        _this.isFirstRender = false;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.parentNodeCheck = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space'\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            itemNavigable: this.fullRowNavigable\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.isInitalExpand = false;\n        this.expandChildren = [];\n        this.index = 0;\n        this.setTouchClass();\n        if (isNullOrUndefined(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNullOrUndefined(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n        if (isNullOrUndefined(this.expandedNodes)) {\n            this.setProperties({ expandedNodes: [] }, true);\n        }\n        else {\n            this.isInitalExpand = true;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - returns the persisted data\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    TreeView.prototype.render = function () {\n        this.initialRender = true;\n        this.initialize();\n        this.setDataBinding(false);\n        this.setDisabledMode();\n        this.setExpandOnType();\n        if (!this.disabled) {\n            this.setRipple();\n        }\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.initialRender = false;\n        this.renderComplete();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('tabindex', '0');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.setTextWrap();\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setDisabledMode = function () {\n        if (this.disabled) {\n            this.element.classList.add(DISABLED$1);\n        }\n        else {\n            this.element.classList.remove(DISABLED$1);\n        }\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        (this.enableRtl ? addClass : removeClass)([this.element], RTL$1);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        (isEnabled ? addClass : removeClass)([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    // eslint-disable-next-line\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            this.hasTemplate = true;\n            // eslint-disable-next-line\n            this.element.classList.add(INTERACTION);\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        this.element.classList.remove(INTERACTION);\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function (changeDataSource) {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            /* eslint-disable */\n            this.isOffline = this.fields.dataSource.dataSource.offline;\n            if (this.fields.dataSource.ready) {\n                this.fields.dataSource.ready.then(function (e) {\n                    /* eslint-disable */\n                    _this.isOffline = _this.fields.dataSource.dataSource.offline;\n                    if (_this.fields.dataSource instanceof DataManager && _this.isOffline) {\n                        _this.treeList.pop();\n                        _this.treeData = e.result;\n                        _this.isNumberTypeId = _this.getType();\n                        _this.setRootData();\n                        _this.renderItems(true);\n                        if (_this.treeList.length === 0 && !_this.isLoaded) {\n                            _this.finalize();\n                        }\n                    }\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n            else {\n                this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                    _this.treeList.pop();\n                    _this.treeData = e.result;\n                    _this.isNumberTypeId = _this.getType();\n                    _this.setRootData();\n                    if (changeDataSource) {\n                        _this.changeDataSource = true;\n                    }\n                    _this.renderItems(true);\n                    _this.changeDataSource = false;\n                    if (_this.treeList.length === 0 && !_this.isLoaded) {\n                        _this.finalize();\n                    }\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            this.treeList.pop();\n            if (isNullOrUndefined(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n                this.setRootData();\n            }\n            this.isNumberTypeId = this.getType();\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && col !== 'url' && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNullOrUndefined(value) && !isNullOrUndefined(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNullOrUndefined(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        /* eslint-disable */\n        this.listBaseOption.ariaAttributes.level = 1;\n        var sortedData = this.getSortedData(this.rootData);\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : sortedData, this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        var rootNodes = this.ulElement.querySelectorAll('.e-list-item');\n        if (this.loadOnDemand === false) {\n            var i = 0;\n            while (i < rootNodes.length) {\n                this.renderChildNodes(rootNodes[i], true, null, true);\n                i++;\n            }\n        }\n        var parentEle = selectAll('.' + PARENTITEM, this.element);\n        if ((parentEle.length === 1 && (rootNodes && rootNodes.length !== 0)) || this.loadOnDemand) {\n            this.finalizeNode(this.element);\n        }\n        this.parentNodeCheck = [];\n        this.parentCheckData = [];\n        this.updateCheckedStateFromDS();\n        if (this.autoCheck && this.showCheckBox && !this.isLoaded) {\n            this.updateParentCheckState();\n        }\n    };\n    /**\n     * Update the checkedNodes from datasource at initial rendering\n     */\n    TreeView.prototype.updateCheckedStateFromDS = function (id) {\n        this.validNodes = [];\n        if (this.treeData && this.showCheckBox) {\n            if (this.dataType === 1) {\n                var mapper = this.fields;\n                var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (var i = 0; i < resultData.length; i++) {\n                    var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                    var resultPId = resultData[i][this.fields.parentID] ? resultData[i][this.fields.parentID].toString() : null;\n                    if (this.checkedNodes.indexOf(resultId) === -1 && !(this.isLoaded)) {\n                        this.checkedNodes.push(resultId);\n                    }\n                    if (resultData[i][this.fields.hasChildren]) {\n                        var id_1 = resultData[i][this.fields.id];\n                        var childData = new DataManager(this.treeData).\n                            executeLocal(new Query().where(mapper.parentID, 'equal', id_1, false));\n                        for (var child = 0; child < childData.length; child++) {\n                            var childId = childData[child][this.fields.id] ? childData[child][this.fields.id].toString() : null;\n                            if (this.checkedNodes.indexOf(childId) === -1 && this.autoCheck) {\n                                this.checkedNodes.push(childId);\n                            }\n                        }\n                    }\n                }\n                for (var i = 0; i < this.checkedNodes.length; i++) {\n                    var mapper_1 = this.fields;\n                    var checkState = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper_1.id, 'equal', this.checkedNodes[i], true));\n                    if (checkState[0] && this.autoCheck) {\n                        this.getCheckedNodeDetails(mapper_1, checkState);\n                        this.checkIndeterminateState(checkState[0]);\n                    }\n                    if (checkState.length > 0) {\n                        var checkedId = checkState[0][this.fields.id] ? checkState[0][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                    var checkedData = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper_1.parentID, 'equal', this.checkedNodes[i], true));\n                    for (var index = 0; index < checkedData.length; index++) {\n                        var checkedId = checkedData[index][this.fields.id] ? checkedData[index][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) === -1 && this.autoCheck) {\n                            this.checkedNodes.push(checkedId);\n                        }\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                }\n            }\n            else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n                this.isOffline)) {\n                for (var index = 0; index < this.treeData.length; index++) {\n                    var fieldId = this.treeData[index][this.fields.id] ? this.treeData[index][this.fields.id].toString() : '';\n                    if (this.treeData[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(fieldId) === -1) {\n                        this.checkedNodes.push(fieldId);\n                    }\n                    if (this.checkedNodes.indexOf(fieldId) > -1 && this.validNodes.indexOf(fieldId) === -1) {\n                        this.validNodes.push(fieldId);\n                    }\n                    var childItems = getValue(this.fields.child.toString(), this.treeData[index]);\n                    if (childItems) {\n                        this.updateChildCheckState(childItems, this.treeData[index]);\n                    }\n                }\n                this.validNodes = (this.enablePersistence) ? this.checkedNodes : this.validNodes;\n            }\n            this.setProperties({ checkedNodes: this.validNodes }, true);\n        }\n    };\n    /**\n     * To check whether the list data has sub child and to change the parent check state accordingly\n     */\n    TreeView.prototype.getCheckedNodeDetails = function (mapper, checkNodes) {\n        var id = checkNodes[0][this.fields.parentID] ? checkNodes[0][this.fields.parentID].toString() : null;\n        var count = 0;\n        var element = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.id] + '\"]');\n        var parentEle = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.parentID] + '\"]');\n        if (!element && !parentEle) {\n            var len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(id) === -1) {\n                this.parentNodeCheck.push(id);\n            }\n            var childNodes = this.getChildNodes(this.treeData, id);\n            for (var i = 0; i < childNodes.length; i++) {\n                var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n                if (count === childNodes.length && this.checkedNodes.indexOf(id) === -1) {\n                    this.checkedNodes.push(id);\n                }\n            }\n            var preElement = new DataManager(this.treeData).\n                executeLocal(new Query().where(mapper.id, 'equal', id, true));\n            this.getCheckedNodeDetails(mapper, preElement);\n        }\n        else if (parentEle) {\n            var check = select('.' + CHECK, parentEle);\n            if (!check) {\n                this.changeState(parentEle, 'indeterminate', null, true, true);\n            }\n        }\n    };\n    /**\n     * Update the checkedNodes and parent state when all the child Nodes are in checkedstate at initial rendering\n     */\n    TreeView.prototype.updateParentCheckState = function () {\n        var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n        var childCheckedElement;\n        for (var i = 0; i < indeterminate.length; i++) {\n            var node = closest(indeterminate[i], '.' + LISTITEM);\n            var nodeId = node.getAttribute('data-uid').toString();\n            if (this.dataType === 1) {\n                childCheckedElement = new DataManager(this.treeData).\n                    executeLocal(new Query().where(this.fields.parentID, 'equal', nodeId, true));\n            }\n            else {\n                childCheckedElement = this.getChildNodes(this.treeData, nodeId);\n            }\n            var count = 0;\n            if (childCheckedElement) {\n                for (var j = 0; j < childCheckedElement.length; j++) {\n                    var childId = childCheckedElement[j][this.fields.id].toString();\n                    if (this.checkedNodes.indexOf(childId) !== -1) {\n                        count++;\n                    }\n                }\n                if (count === childCheckedElement.length) {\n                    var nodeCheck = node.getAttribute('data-uid');\n                    if (this.checkedNodes.indexOf(nodeCheck) === -1) {\n                        this.checkedNodes.push(nodeCheck);\n                    }\n                    this.changeState(node, 'check', null, true, true);\n                }\n                else if (count === 0 && this.checkedNodes.length === 0) {\n                    this.changeState(node, 'uncheck', null, true, true);\n                }\n            }\n        }\n    };\n    /**\n     * Change the parent to indeterminate state whenever the child is in checked state which is not rendered in DOM\n     */\n    TreeView.prototype.checkIndeterminateState = function (data) {\n        var element;\n        if (this.dataType === 1) {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.parentID] + '\"]');\n        }\n        else {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.id] + '\"]');\n        }\n        if (element) {\n            var ariaChecked = element.querySelector('.' + CHECKBOXWRAP).getAttribute('aria-checked');\n            if (ariaChecked !== 'true') {\n                this.changeState(element, 'indeterminate', null, true, true);\n            }\n        }\n        else if (this.dataType === 2) {\n            var len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(data[this.fields.id].toString()) === -1) {\n                this.parentNodeCheck.push(data[this.fields.id].toString());\n            }\n        }\n    };\n    /**\n     * Update the checkedNodes for child and subchild from datasource (hierarchical datasource) at initial rendering\n     */\n    TreeView.prototype.updateChildCheckState = function (childItems, treeData) {\n        var count = 0;\n        var checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n        for (var index = 0; index < childItems.length; index++) {\n            var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n            if (childItems[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(checkedChild) === -1) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1 && this.autoCheck) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                count++;\n            }\n            if (this.checkedNodes.indexOf(checkedChild) > -1 && this.validNodes.indexOf(checkedChild) === -1) {\n                this.validNodes.push(checkedChild);\n            }\n            var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n            if (subChildItems && subChildItems.length) {\n                if (this.parentCheckData.indexOf(treeData) === -1)\n                    this.parentCheckData.push(treeData);\n                this.updateChildCheckState(subChildItems, childItems[index]);\n            }\n            if (count === childItems.length && this.autoCheck && this.checkedNodes.indexOf(checkedParent) === -1) {\n                this.checkedNodes.push(checkedParent);\n            }\n        }\n        if (count !== 0 && this.autoCheck) {\n            this.checkIndeterminateState(treeData);\n            for (var len = 0; len < this.parentCheckData.length; len++) {\n                if ((treeData !== this.parentCheckData[len]) && (this.parentCheckData[len])) {\n                    this.checkIndeterminateState(this.parentCheckData[len]);\n                }\n            }\n        }\n        this.parentCheckData = [];\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            checkboxEle.setAttribute('role', 'checkbox');\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNullOrUndefined(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED$1)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED$1);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            var dataId = e.item.getAttribute('data-uid');\n            textEle.innerHTML = '';\n            this.renderNodeTemplate(e.curData, textEle, dataId);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        if (!this.isRefreshed) {\n            this.trigger('drawNode', eventArgs);\n        }\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNullOrUndefined(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if (this.isOffline) {\n                    if ((typeof mapper.child === 'string') && isNullOrUndefined(getValue(mapper.child, ds[i])) && !isNullOrUndefined(getValue(mapper.parentID, ds[i]))) {\n                        return 1;\n                    }\n                }\n                else if ((typeof mapper.child === 'string') && isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNullOrUndefined(getValue(mapper.parentID, ds[i])) || !isNullOrUndefined(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED$1, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED$1);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                this.disableExpandAttr(cNodes[j]);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        if (!this.isInitalExpand) {\n            for (var i = 0; i < eNodes.length; i++) {\n                this.renderChildNodes(eNodes[i]);\n            }\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        if (this.showCheckBox) {\n            var nodes = [].concat([], this.checkedNodes);\n            this.setProperties({ checkedNodes: nodes }, true);\n        }\n    };\n    TreeView.prototype.ensureIndeterminate = function () {\n        if (this.autoCheck) {\n            var liElement = selectAll('li', this.element);\n            var ulElement = void 0;\n            for (var i = 0; i < liElement.length; i++) {\n                if (liElement[i].classList.contains(LISTITEM)) {\n                    ulElement = select('.' + PARENTITEM, liElement[i]);\n                    if (ulElement) {\n                        this.ensureParentCheckState(liElement[i]);\n                    }\n                    else {\n                        this.ensureChildCheckState(liElement[i]);\n                    }\n                }\n            }\n        }\n        else {\n            var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n            for (var i = 0; i < indeterminate.length; i++) {\n                indeterminate[i].classList.remove(INDETERMINATE);\n            }\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNullOrUndefined(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var indeterminateNodes = selectAll('.' + INDETERMINATE, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0 || indeterminateNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNullOrUndefined(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNullOrUndefined(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNullOrUndefined(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var parentCheck = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(INDETERMINATE);\n                var childCheck = childElement.querySelectorAll('li');\n                var expandState = childElement.parentElement.getAttribute('aria-expanded');\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    var childId = childCheck[index].getAttribute('data-uid');\n                    if (!isNullOrUndefined(this.currentLoadData) && !isNullOrUndefined(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                        if (this.ele !== -1) {\n                            checkedState = isChecked ? 'check' : 'uncheck';\n                        }\n                        if ((checkedState === 'uncheck') && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                            checkedState = 'indeterminate';\n                        }\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        if (isChecked) {\n                            checkedState = 'check';\n                        }\n                        else if (isNodeChecked && !this.isLoaded) {\n                            checkedState = 'check';\n                        }\n                        else if (this.checkedNodes.indexOf(childId) !== -1 && this.isLoaded && (parentCheck || isChecked)) {\n                            checkedState = 'check';\n                        }\n                        else if (childCheck[index].classList.contains(CHILD) && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else if (this.dataType === 1 && (!isUndefined(this.parentNodeCheck) && this.autoCheck &&\n                            (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else {\n                            checkedState = 'uncheck';\n                        }\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n            if (this.autoCheck && this.isLoaded) {\n                this.updateParentCheckState();\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        var li = selectAll('.' + LISTITEM, this.element);\n        if (!isNullOrUndefined(nodes)) {\n            for (var len = nodes.length; len >= 0; len--) {\n                var liEle = void 0;\n                if (nodes.length === 1) {\n                    liEle = this.getElement(nodes[len - 1]);\n                }\n                else {\n                    liEle = this.getElement(nodes[len]);\n                }\n                if (isNullOrUndefined(liEle)) {\n                    var node = void 0;\n                    node = nodes[len - nodes.length] ? nodes[len - nodes.length].toString() : nodes[len] ? nodes[len].toString() : null;\n                    if (node !== '' && doCheck && node) {\n                        this.setValidCheckedNode(node);\n                        this.dynamicCheckState(node, doCheck);\n                    }\n                    else if (this.checkedNodes.indexOf(node) !== -1 && node !== '' && !doCheck) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(node), 1);\n                        var childItems = this.getChildNodes(this.treeData, node);\n                        if (childItems) {\n                            for (var i = 0; i < childItems.length; i++) {\n                                var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n                                if (this.checkedNodes.indexOf(id) !== -1) {\n                                    this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                                    var ele = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                                    if (ele) {\n                                        this.changeState(ele, 'uncheck', null);\n                                    }\n                                }\n                            }\n                            if (this.parentNodeCheck.indexOf(node) !== -1) {\n                                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(node), 1);\n                            }\n                        }\n                        if (node) {\n                            this.dynamicCheckState(node, doCheck);\n                        }\n                        this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                    }\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            if (this.loadOnDemand) {\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck', null, null, null, doCheck);\n                }\n            }\n            else {\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n                }\n            }\n        }\n        if (nodes) {\n            for (var j = 0; j < nodes.length; j++) {\n                var node = nodes[j] ? nodes[j].toString() : '';\n                if (!doCheck) {\n                    this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                }\n            }\n        }\n        if (this.autoCheck) {\n            this.updateParentCheckState();\n        }\n    };\n    TreeView.prototype.updateFieldChecked = function (checkbox, doCheck) {\n        var currLi = closest(checkbox, '.' + LISTITEM);\n        var id = currLi.getAttribute('data-uid');\n        var nodeDetails = this.getNodeData(currLi);\n        if (nodeDetails.isChecked === 'true' && !doCheck) {\n            this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n        }\n    };\n    /**\n     * Changes the parent and child  check state while changing the checkedNodes via setmodel\n     */\n    TreeView.prototype.dynamicCheckState = function (node, doCheck) {\n        if (this.dataType === 1) {\n            var count = 0;\n            var resultId = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.id, 'equal', node, true));\n            if (resultId[0]) {\n                var id = resultId[0][this.fields.id] ? resultId[0][this.fields.id].toString() : null;\n                var parent_1 = resultId[0][this.fields.parentID] ? resultId[0][this.fields.parentID].toString() : null;\n                var parentElement = this.element.querySelector('[data-uid=\"' + parent_1 + '\"]');\n                var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n                var check = parentElement ? select('.' + CHECK, parentElement) : null;\n                var element = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                var childNodes = this.getChildNodes(this.treeData, parent_1);\n                if (childNodes) {\n                    for (var i = 0; i < childNodes.length; i++) {\n                        var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                }\n                if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (id === node) && this.autoCheck) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && element && (id === node) && !doCheck) {\n                    this.changeState(element, 'uncheck', null);\n                }\n                else if (this.checkedNodes.indexOf(node) !== -1 && element && (id === node) && doCheck) {\n                    this.changeState(element, 'check', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count !== 0) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count === 0) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else if (!element && !parentElement && (id === node) && this.autoCheck) {\n                    this.updateIndeterminate(node, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n            this.isOffline)) {\n            var id = void 0;\n            var parentElement = void 0;\n            var check = void 0;\n            for (var i = 0; i < this.treeData.length; i++) {\n                id = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : '';\n                parentElement = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                check = parentElement ? select('.' + CHECK, parentElement) : null;\n                if (this.checkedNodes.indexOf(id) === -1 && parentElement && check && !doCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                var subChild = getValue(this.fields.child.toString(), this.treeData[i]);\n                if (subChild) {\n                    this.updateChildIndeterminate(subChild, id, node, doCheck, id);\n                }\n            }\n        }\n    };\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for listData\n     */\n    TreeView.prototype.updateIndeterminate = function (node, doCheck) {\n        var indeterminateData = this.getTreeData(node);\n        var count = 0;\n        var parent;\n        if (this.dataType === 1) {\n            parent = indeterminateData[0][this.fields.parentID] ? indeterminateData[0][this.fields.parentID].toString() : null;\n        }\n        var childNodes = this.getChildNodes(this.treeData, parent);\n        if (childNodes) {\n            for (var i = 0; i < childNodes.length; i++) {\n                var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n            }\n        }\n        var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n        if (parentElement && doCheck) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count === 0) {\n            this.changeState(parentElement, 'uncheck', null);\n        }\n        else if (!parentElement) {\n            if (!doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent), 1);\n            }\n            else if (doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) === -1) {\n                this.parentNodeCheck.push(parent);\n            }\n            else if (!doCheck && this.checkedNodes.indexOf(parent) !== -1 && this.parentNodeCheck.indexOf(parent) === -1\n                && count !== 0) {\n                this.parentNodeCheck.push(parent);\n            }\n            this.updateIndeterminate(parent, doCheck);\n            if (this.checkedNodes.indexOf(parent) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(parent), 1);\n            }\n        }\n    };\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for hierarchical data\n     */\n    TreeView.prototype.updateChildIndeterminate = function (subChild, parent, node, doCheck, child) {\n        var count = 0;\n        for (var j = 0; j < subChild.length; j++) {\n            var subId = subChild[j][this.fields.id] ? subChild[j][this.fields.id].toString() : '';\n            if (this.checkedNodes.indexOf(subId) !== -1) {\n                count++;\n            }\n            var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n            var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n            var check = parentElement ? select('.' + CHECK, parentElement) : null;\n            var element = this.element.querySelector('[data-uid=\"' + subId + '\"]');\n            var childElementCheck = element ? select('.' + CHECK, element) : null;\n            if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (subId === node) && this.autoCheck) {\n                this.changeState(parentElement, 'indeterminate', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && parentElement && !element && (subId === node) && !doCheck) {\n                if (this.autoCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else {\n                    if (count !== 0) {\n                        this.changeState(parentElement, 'indeterminate', null);\n                    }\n                    else {\n                        this.changeState(parentElement, 'uncheck', null);\n                    }\n                }\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && element && (subId === node) && !doCheck) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && indeterminate && (subId === node) && this.autoCheck && count === 0\n                && !doCheck) {\n                indeterminate.classList.remove(INDETERMINATE);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && !element && check && (subId === node) && count === 0) {\n                this.changeState(parentElement, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(subId) === -1 && element && childElementCheck && count === 0) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (!element && !parentElement && (subId === node) || (this.parentNodeCheck.indexOf(parent) !== -1) && this.autoCheck) {\n                var childElement = this.element.querySelector('[data-uid=\"' + child + '\"]');\n                if (doCheck && count !== 0) {\n                    this.changeState(childElement, 'indeterminate', null);\n                }\n                else if (doCheck && count === subChild.length && this.checkedNodes.indexOf(parent) === -1) {\n                    this.checkedNodes.push(parent);\n                }\n                else if (!doCheck && count === 0 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                    this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent));\n                }\n                if (this.parentNodeCheck.indexOf(parent) === -1) {\n                    this.parentNodeCheck.push(parent);\n                }\n            }\n            var innerChild = getValue(this.fields.child.toString(), subChild[j]);\n            if (innerChild) {\n                this.updateChildIndeterminate(innerChild, subId, node, doCheck, child);\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd, doCheck) {\n        var _this = this;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (wrapper === currLi) {\n            wrapper = select('.' + CHECKBOXWRAP, currLi);\n        }\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeCheckAction(wrapper, state, currLi, observedArgs, e, isPrevent, isAdd, doCheck);\n                }\n            });\n        }\n        else {\n            this.nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck);\n        }\n    };\n    TreeView.prototype.nodeCheckAction = function (wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && this.autoCheck) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNullOrUndefined(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (doCheck !== undefined) {\n            this.ensureStateChange(currLi, doCheck);\n        }\n        if (!isPrevent) {\n            if (!isNullOrUndefined(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (!isNullOrUndefined(firstUl)) {\n            firstUl.setAttribute('role', treeAriaAttr.treeRole);\n            this.setMultiSelect(this.allowMultiSelection);\n            var firstNode = select('.' + LISTITEM, this.element);\n            if (firstNode) {\n                addClass([firstNode], FOCUS);\n                this.updateIdAttr(null, firstNode);\n            }\n            if (this.allowTextWrap) {\n                this.updateWrap();\n            }\n            this.renderReactTemplates();\n            this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n            this.doExpandAction();\n        }\n    };\n    TreeView.prototype.setTextWrap = function () {\n        (this.allowTextWrap ? addClass : removeClass)([this.element], LISTWRAP);\n        if (Browser.isIE) {\n            (this.allowTextWrap ? addClass : removeClass)([this.element], IELISTWRAP);\n        }\n    };\n    TreeView.prototype.updateWrap = function (ulEle) {\n        if (!this.fullRowSelect) {\n            return;\n        }\n        var liEle = ulEle ? selectAll('.' + LISTITEM, ulEle) : this.liList;\n        var length = liEle.length;\n        for (var i = 0; i < length; i++) {\n            this.calculateWrap(liEle[i]);\n        }\n    };\n    TreeView.prototype.calculateWrap = function (liEle) {\n        var element = select('.' + FULLROW, liEle);\n        if (element && element.nextElementSibling) {\n            element.style.height = this.allowTextWrap ? element.nextElementSibling.offsetHeight + 'px' : '';\n        }\n    };\n    TreeView.prototype.doExpandAction = function () {\n        var eUids = this.expandedNodes;\n        if (this.isInitalExpand && eUids.length > 0) {\n            this.setProperties({ expandedNodes: [] }, true);\n            /* eslint-disable */\n            if (this.fields.dataSource instanceof DataManager) {\n                this.expandGivenNodes(eUids);\n            }\n            else {\n                for (var i = 0; i < eUids.length; i++) {\n                    var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n                    if (!isNullOrUndefined(eNode)) {\n                        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n                        if (!isNullOrUndefined(icon)) {\n                            this.expandAction(eNode, icon, null);\n                        }\n                    }\n                    else {\n                        if (eUids[i] && this.expandChildren.indexOf(eUids[i]) === -1) {\n                            this.expandChildren.push(eUids[i].toString());\n                        }\n                        continue;\n                    }\n                }\n                this.afterFinalized();\n            }\n        }\n        else {\n            this.afterFinalized();\n        }\n    };\n    TreeView.prototype.expandGivenNodes = function (arr) {\n        var proxy = this;\n        this.expandCallback(arr[this.index], function () {\n            proxy.index++;\n            if (proxy.index < arr.length) {\n                proxy.expandGivenNodes(arr);\n            }\n            else {\n                proxy.afterFinalized();\n            }\n        });\n    };\n    TreeView.prototype.expandCallback = function (eUid, callback) {\n        var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n        if (!isNullOrUndefined(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n            if (!isNullOrUndefined(icon)) {\n                this.expandAction(eNode, icon, null, false, callback);\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    };\n    TreeView.prototype.afterFinalized = function () {\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isAnimate = true;\n        this.isInitalExpand = false;\n        if (!this.isLoaded || this.isFieldChange) {\n            var eventArgs = { data: this.treeData };\n            this.trigger('dataBound', eventArgs);\n        }\n        this.isLoaded = true;\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED$1, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                if (sNode && !(sNode.classList.contains('e-active'))) {\n                    this.selectNode(sNode, null, true);\n                }\n                else {\n                    this.selectedNodes.push(sUids[i]);\n                }\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED$1);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList$$1 = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li) {\n                return;\n            }\n            else if (event.originalEvent.which !== 3) {\n                var rippleElement = select('.' + RIPPLEELMENT, li);\n                var rippleIcons = select('.' + ICON, li);\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNullOrUndefined(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList$$1.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList$$1.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else if (rippleElement && rippleIcons) {\n                    if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(EXPANDABLE)) {\n                        this.expandAction(li, rippleIcons, event);\n                    }\n                    else if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(COLLAPSIBLE)) {\n                        this.collapseNode(li, rippleIcons, event);\n                    }\n                    else if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                else {\n                    if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n            }\n            this.triggerClickEvent(event.originalEvent, li);\n        }\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon, loaded) {\n        var _this = this;\n        this.renderReactTemplates();\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        if (!this.initialRender) {\n            icon.classList.add('interaction');\n        }\n        if (loaded !== true || (loaded === true && currLi.classList.contains('e-expanded'))) {\n            if (this.preventExpand !== true) {\n                removeClass([icon], EXPANDABLE);\n                addClass([icon], COLLAPSIBLE);\n                var start_1 = 0;\n                var end_1 = 0;\n                var proxy_1 = this;\n                var ul_1 = select('.' + PARENTITEM, currLi);\n                var liEle_1 = currLi;\n                this.setHeight(liEle_1, ul_1);\n                var activeElement_1 = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n                if (this.isAnimate && !this.isRefreshed) {\n                    this.aniObj.animate(ul_1, {\n                        name: this.animation.expand.effect,\n                        duration: this.animation.expand.duration,\n                        timingFunction: this.animation.expand.easing,\n                        begin: function (args) {\n                            liEle_1.style.overflow = 'hidden';\n                            if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                                activeElement_1.classList.add(ITEM_ANIMATION_ACTIVE);\n                            }\n                            start_1 = liEle_1.offsetHeight;\n                            end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n                        },\n                        progress: function (args) {\n                            args.element.style.display = 'block';\n                            proxy_1.animateHeight(args, start_1, end_1);\n                        },\n                        end: function (args) {\n                            args.element.style.display = 'block';\n                            if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                                activeElement_1.classList.remove(ITEM_ANIMATION_ACTIVE);\n                            }\n                            _this.expandedNode(liEle_1, ul_1, icon);\n                        }\n                    });\n                }\n                else {\n                    this.expandedNode(liEle_1, ul_1, icon);\n                }\n            }\n        }\n        else {\n            var ul = select('.' + PARENTITEM, currLi);\n            ul.style.display = 'none';\n            if (this.fields.dataSource instanceof DataManager === true) {\n                this.preventExpand = false;\n            }\n        }\n        if (this.initialRender) {\n            icon.classList.add('interaction');\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        this.addExpand(currLi);\n        if (this.allowTextWrap && this.isLoaded && this.isFirstRender) {\n            this.updateWrap(currLi);\n            this.isFirstRender = false;\n        }\n        if (this.isLoaded && this.expandArgs && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.addExpand = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'true');\n        removeClass([liEle], NODECOLLAPSED);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.expandedNodes.indexOf(id) === -1) {\n            this.expandedNodes.push(id);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeCollapsing', colArgs, function (observedArgs) {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    _this.nodeCollapseAction(currLi, icon, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeCollapseAction(currLi, icon, colArgs);\n        }\n    };\n    TreeView.prototype.nodeCollapseAction = function (currLi, icon, colArgs) {\n        var _this = this;\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        var activeElement = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n        if (this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.collapse.effect,\n                duration: this.animation.collapse.duration,\n                timingFunction: this.animation.collapse.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n                    }\n                    start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    end = liEle.offsetHeight;\n                },\n                progress: function (args) {\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'none';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n                    }\n                    _this.collapsedNode(liEle, ul, icon, colArgs);\n                }\n            });\n        }\n        else {\n            this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n    };\n    TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n        ul.style.display = 'none';\n        liEle.style.overflow = '';\n        liEle.style.height = '';\n        removeClass([icon], PROCESS);\n        this.removeExpand(liEle);\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(liEle, null);\n            this.trigger('nodeCollapsed', colArgs);\n        }\n    };\n    TreeView.prototype.removeExpand = function (liEle, toRemove) {\n        if (toRemove) {\n            liEle.removeAttribute('aria-expanded');\n        }\n        else {\n            this.disableExpandAttr(liEle);\n        }\n        var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.expandedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.disableExpandAttr = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'false');\n        addClass([liEle], NODECOLLAPSED);\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback, loaded) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNullOrUndefined(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        /* eslint-disable */\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_2 = this.getChildFields(this.fields, level, 1);\n            if (isNullOrUndefined(mapper_2) || isNullOrUndefined(mapper_2.dataSource)) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            this.treeList.push('false');\n            if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n                this.treeList.pop();\n                childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n                this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n            }\n            else {\n                mapper_2.dataSource.executeQuery(this.getQuery(mapper_2, parentLi.getAttribute('data-uid'))).then(function (e) {\n                    _this.treeList.pop();\n                    childItems = e.result;\n                    if (_this.dataType === 1) {\n                        _this.dataType = 2;\n                    }\n                    _this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = this.getSortedData(childItems);\n            if (isNullOrUndefined(childItems) || childItems.length === 0) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.currentLoadData, this.listBaseOption));\n                this.expandNode(parentLi, eicon, loaded);\n                this.setSelectionForChildNodes(childItems);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.disableTreeNodes(childItems);\n                this.renderSubChild(parentLi, expandChild, loaded);\n            }\n        }\n    };\n    TreeView.prototype.loadChild = function (childItems, mapper, eicon, parentLi, expandChild, callback, loaded) {\n        this.currentLoadData = childItems;\n        if (isNullOrUndefined(childItems) || childItems.length === 0) {\n            detach(eicon);\n            this.removeExpand(parentLi, true);\n        }\n        else {\n            this.updateListProp(mapper);\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                var id = parentLi.getAttribute('data-uid');\n                var nodeData = this.getNodeObject(id);\n                setValue('child', childItems, nodeData);\n            }\n            this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n            parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n            this.expandNode(parentLi, eicon, loaded);\n            this.setSelectionForChildNodes(childItems);\n            this.ensureCheckNode(parentLi);\n            this.finalizeNode(parentLi);\n            this.disableTreeNodes(childItems);\n            this.renderSubChild(parentLi, expandChild, loaded);\n        }\n        if (callback) {\n            callback();\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.disableTreeNodes = function (childItems) {\n        var i = 0;\n        while (i < childItems.length) {\n            var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            if (this.disableNode !== undefined && this.disableNode.indexOf(id) !== -1) {\n                this.doDisableAction([id]);\n            }\n            i++;\n        }\n    };\n    /**\n     * Sets the child Item in selectedState while rendering the child node\n     */\n    TreeView.prototype.setSelectionForChildNodes = function (nodes) {\n        var i;\n        for (i = 0; i < nodes.length; i++) {\n            var id = nodes[i][this.fields.id] ? nodes[i][this.fields.id].toString() : null;\n            if (this.selectedNodes !== undefined && this.selectedNodes.indexOf(id) !== -1) {\n                this.doSelectionAction();\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ele = (this.checkedElement) ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n            if (this.autoCheck) {\n                this.ensureChildCheckState(element);\n                this.ensureParentCheckState(element);\n            }\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNullOrUndefined(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNullOrUndefined(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                    var dataId = getValue(this.fields.id, obj[i]);\n                    if (dataId && dataId.toString() === parentId) {\n                        return getValue(this.fields.child, obj[i]);\n                    }\n                    else if (!isNullOrUndefined(getValue(this.fields.child, obj[i]))) {\n                        childNodes = this.getChildNodes(getValue(this.fields.child, obj[i]), parentId);\n                        if (childNodes !== undefined) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNullOrUndefined(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNullOrUndefined(data[i][0]) && !isNullOrUndefined(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild, loaded) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                if (element.querySelector('.e-icons') !== cIcons[i]) {\n                    var curLi = closest(icon, '.' + LISTITEM);\n                    this.expandArgs = this.getExpandEvent(curLi, null);\n                    if (loaded !== true) {\n                        this.trigger('nodeExpanding', this.expandArgs);\n                    }\n                    this.renderChildNodes(curLi, expandChild, null, loaded);\n                }\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        var _this = this;\n        if (isNullOrUndefined(li) || (!this.allowMultiSelection && this.isActive(li) && !isNullOrUndefined(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeSelectAction(li, e, observedArgs, multiSelect);\n                }\n            });\n        }\n        else {\n            this.nodeSelectAction(li, e, eventArgs, multiSelect);\n        }\n    };\n    TreeView.prototype.nodeSelectAction = function (li, e, eventArgs, multiSelect) {\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var _this = this;\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeUnselectAction(li, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeUnselectAction(li, eventArgs);\n        }\n    };\n    TreeView.prototype.nodeUnselectAction = function (li, eventArgs) {\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNullOrUndefined(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n            }\n            addClass([li], FOCUS);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList$$1 = icon.classList;\n            if (classList$$1.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else if (classList$$1.contains(COLLAPSIBLE)) {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.trigger('nodeExpanding', this.expandArgs, function (observedArgs) {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    _this.nodeExpandAction(currLi, icon, expandChild, callback);\n                }\n            });\n        }\n        else {\n            this.nodeExpandAction(currLi, icon, expandChild, callback);\n        }\n    };\n    TreeView.prototype.nodeExpandAction = function (currLi, icon, expandChild, callback) {\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.isFirstRender = true;\n            this.renderChildNodes(currLi, expandChild, callback);\n            var liEles = selectAll('.' + LISTITEM, currLi);\n            for (var i = 0; i < liEles.length; i++) {\n                var id = this.getId(liEles[i]);\n                if (this.expandChildren.indexOf(id) !== -1 && this.expandChildren !== undefined) {\n                    var icon_1 = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEles[i]));\n                    if (!isNullOrUndefined(icon_1)) {\n                        this.expandAction(liEles[i], icon_1, null);\n                    }\n                    this.expandChildren.splice(this.expandChildren.indexOf(id), 1);\n                }\n            }\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n                this.element.focus();\n                addClass([focusedNode], HOVER);\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        if (_this.showCheckBox) {\n                            _this.checkNode(e);\n                        }\n                        break;\n                    case 'moveRight':\n                        _this.openNode(_this.enableRtl ? false : true, e);\n                        break;\n                    case 'moveLeft':\n                        _this.openNode(_this.enableRtl ? true : false, e);\n                        break;\n                    case 'shiftDown':\n                        _this.shiftKeySelect(true, e);\n                        break;\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                        _this.navigateNode(true);\n                        break;\n                    case 'shiftUp':\n                        _this.shiftKeySelect(false, e);\n                        break;\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                        _this.navigateNode(false);\n                        break;\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                        _this.navigateRootNode(true);\n                        break;\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                        _this.navigateRootNode(false);\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        _this.toggleSelect(focusedNode, e);\n                        break;\n                    case 'f2':\n                        if (_this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                            _this.createTextbox(focusedNode, e);\n                        }\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', _this.element);\n                            _this.selectGivenNodes(sNodes);\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNullOrUndefined(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible$$1 = this.isVisibleInViewport(focusNode);\n        if (!isVisible$$1) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNullOrUndefined(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            if (focusedNode.getElementsByClassName(\"e-checkbox-disabled\").length == 0) {\n                this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n            }\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var _this = this;\n        var currLi = closest(checkWrap, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNullOrUndefined(ariaState)) {\n            checkWrap.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.nodeCheckingAction(checkWrap, isCheck, li, observedArgs, e);\n            }\n        });\n    };\n    TreeView.prototype.nodeCheckingAction = function (checkWrap, isCheck, li, eventArgs, e) {\n        if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n            this.checkedElement.push(li.getAttribute('data-uid'));\n            if (this.autoCheck) {\n                var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n                (child !== null) ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n            }\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        if (this.autoCheck) {\n            this.ensureChildCheckState(li);\n            this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n            var doCheck = void 0;\n            if (eventArgs.action === 'check') {\n                doCheck = true;\n            }\n            else if (eventArgs.action === 'uncheck') {\n                doCheck = false;\n            }\n            this.ensureStateChange(li, doCheck);\n        }\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM\n     */\n    TreeView.prototype.ensureStateChange = function (li, doCheck) {\n        var childElement = select('.' + PARENTITEM, li);\n        var parentIndex = li.getAttribute('data-uid');\n        var mapper = this.fields;\n        if (this.dataType === 1 && this.autoCheck) {\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', parentIndex, true));\n            for (var i = 0; i < resultData.length; i++) {\n                var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                var isCheck = resultData[i][this.fields.isChecked] ? resultData[i][this.fields.isChecked].toString() : null;\n                if (this.checkedNodes.indexOf(parentIndex) !== -1 && this.checkedNodes.indexOf(resultId) === -1) {\n                    this.checkedNodes.push(resultId);\n                    var childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                    if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null &&\n                    this.checkedNodes.indexOf(resultId) !== -1) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(resultId), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, resultId, 'isChecked', null);\n                    }\n                    if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null ||\n                        this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        var childNodes = this.getChildNodes(this.treeData, resultId);\n                        this.getChildItems(childNodes, doCheck);\n                        if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                        }\n                    }\n                }\n                else {\n                    var childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 1 && !this.autoCheck) {\n            if (!doCheck) {\n                var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (var i = 0; i < checkedData.length; i++) {\n                    var id = checkedData[i][this.fields.id] ? checkedData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(id) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n                }\n                this.checkedNodes = [];\n            }\n            else {\n                for (var i = 0; i < this.treeData.length; i++) {\n                    var checkedId = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(checkedId) === -1) {\n                        this.checkedNodes.push(checkedId);\n                    }\n                }\n            }\n        }\n        else {\n            var childItems = this.getChildNodes(this.treeData, parentIndex);\n            if (childItems) {\n                this.childStateChange(childItems, parentIndex, childElement, doCheck);\n            }\n        }\n    };\n    TreeView.prototype.getChildItems = function (childItems, doCheck) {\n        for (var i = 0; i < childItems.length; i++) {\n            var childId = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            var childIsCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() :\n                null;\n            if (this.checkedNodes.indexOf(childId) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(childId), 1);\n            }\n            if (this.checkedNodes.indexOf(childId) === -1 && doCheck) {\n                this.checkedNodes.push(childId);\n            }\n            if (childIsCheck === 'true' && !doCheck) {\n                this.updateField(this.treeData, this.fields, childId, 'isChecked', null);\n            }\n            var subChildItems = this.getChildNodes(this.treeData, childId);\n            if (subChildItems.length > 0) {\n                this.getChildItems(subChildItems, doCheck);\n            }\n        }\n    };\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM for hierarchical DS\n     */\n    TreeView.prototype.childStateChange = function (childItems, parent, childElement, doCheck) {\n        for (var i = 0; i < childItems.length; i++) {\n            var checkedChild = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : '';\n            var isCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n            if (this.autoCheck) {\n                if (this.checkedNodes.indexOf(parent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                    this.checkedNodes.push(checkedChild);\n                    if (this.parentNodeCheck.indexOf(checkedChild) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(checkedChild), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parent) === -1 && this.checkedNodes.indexOf(checkedChild) !== -1 && !doCheck) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    }\n                }\n            }\n            else if (!this.autoCheck) {\n                if (!doCheck) {\n                    if (this.checkedNodes.indexOf(checkedChild) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    this.checkedNodes = [];\n                }\n                else {\n                    if (this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n            }\n            var subChild = this.getChildNodes([childItems[i]], checkedChild);\n            if (subChild) {\n                this.childStateChange(subChild, parent, childElement, doCheck);\n            }\n        }\n    };\n    //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n    TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n        if (child) {\n            for (var length_1 = 0; length_1 < child.length; length_1++) {\n                var childId = getValue(this.fields.id, child[length_1]);\n                var check = this.element.querySelector('[data-uid=\"' + childId + '\"]');\n                //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n                if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n                    if (((check === null && !isNullOrUndefined(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1)\n                        || childCheck === 0 || checked === 2)) {\n                        (child[length_1][this.fields.isChecked] !== false || checked === 2) ? newCheck.push(childId.toString())\n                            : childCheck = null;\n                        childCheck = (child[length_1][this.fields.isChecked] !== false || checked === 2) ? 0 : null;\n                    }\n                }\n                //Pushes child checked node done thro' UI interaction\n                if (newCheck.indexOf(childId.toString()) === -1 && isNullOrUndefined(checked)) {\n                    newCheck.push(childId.toString());\n                }\n                var hierChildId = getValue(this.fields.child.toString(), child[length_1]);\n                //Gets if any next level children are available for child nodes\n                if (getValue(this.fields.hasChildren, child[length_1]) === true || hierChildId) {\n                    var id = getValue(this.fields.id, child[length_1]);\n                    var childId_1 = void 0;\n                    if (this.dataType === 1) {\n                        childId_1 = this.getChildNodes(this.treeData, id.toString());\n                    }\n                    else {\n                        childId_1 = hierChildId;\n                    }\n                    if (childId_1) {\n                        (isNullOrUndefined(validateCheck)) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) :\n                            this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n                        childCheck = null;\n                    }\n                }\n                childCheck = null;\n            }\n        }\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '.' + FOCUS, this.element);\n        if (isNullOrUndefined(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNullOrUndefined(fNode) ? (isNullOrUndefined(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains(TEXTWRAP)) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNullOrUndefined(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNullOrUndefined(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], [HOVER, FOCUS]);\n        if (!nextNode.classList.contains('e-disable')) {\n            addClass([nextNode], [HOVER, FOCUS]);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            addClass([this.getFocusedNode()], HOVER);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function () {\n        removeClass([this.getFocusedNode()], HOVER);\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList$$1 = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList$$1.contains(PARENTITEM) || classList$$1.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    \n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    \n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNullOrUndefined(currLi) && currLi.classList.contains(LISTITEM) &&\n            !isNullOrUndefined(closest(currLi, '.' + CONTROL)) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var hasChildren = currLi.getAttribute('aria-expanded') !== null ? true : (select('.' + EXPANDABLE, currLi) || select('.' + COLLAPSIBLE, currLi)) != null ? true : false;\n            var checked = null;\n            if (this.showCheckBox) {\n                checked = select('.' + CHECKBOXWRAP, currLi).getAttribute('aria-checked');\n            }\n            return {\n                id: id, text: text, parentID: pid, selected: selected, expanded: expanded,\n                isChecked: checked, hasChildren: hasChildren\n            };\n        }\n        return { id: '', text: '', parentID: '', selected: false, expanded: false, isChecked: '', hasChildren: false };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.renderNodeTemplate = function (data, textEle, dataId) {\n        var tempArr = this.nodeTemplateFn(data, this, 'nodeTemplate' + dataId, this.element.id + 'nodeTemplate', this.isStringTemplate, undefined, textEle, this.root);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, textEle);\n        }\n    };\n    TreeView.prototype.destroyTemplate = function (liEle) {\n        this.clearTemplate(['nodeTemplate' + liEle.getAttribute('data-uid')]);\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.updateListProp(this.fields);\n        if (Browser.isIE) {\n            this.ulElement = this.element.querySelector('.e-list-parent.e-ul');\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        else {\n            this.element.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            this.clearTemplate();\n        }\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [], expandedNodes: [] }, true);\n        this.checkedElement = [];\n        this.isLoaded = false;\n        this.setDataBinding(true);\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var _this = this;\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                var inpWidth = textEle.offsetWidth + 5;\n                var style_1 = 'width:' + inpWidth + 'px';\n                addClass([liEle], EDITING);\n                if (!isNullOrUndefined(_this.nodeTemplateFn)) {\n                    _this.destroyTemplate(liEle);\n                }\n                if (_this.isReact) {\n                    setTimeout(function () {\n                        _this.renderTextBox(eventArgs, textEle, style_1);\n                    }, 5);\n                }\n                else {\n                    _this.renderTextBox(eventArgs, textEle, style_1);\n                }\n            }\n        });\n    };\n    TreeView.prototype.renderTextBox = function (eventArgs, textEle, style) {\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n            this.crudOperation('update', null, liEle, newText, null, null, true);\n        }\n        else {\n            this.appendNewText(liEle, txtEle, newText, true);\n        }\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var _this = this;\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs, function (observedArgs) {\n            newText = observedArgs.cancel ? observedArgs.oldText : observedArgs.newText;\n            _this.updateText(liEle, txtEle, newText, isInput);\n            if (observedArgs.oldText !== newText) {\n                _this.triggerEvent();\n            }\n        });\n    };\n    TreeView.prototype.updateText = function (liEle, txtEle, newText, isInput) {\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            txtEle.innerText = '';\n            var dataId = liEle.getAttribute('data-uid');\n            this.renderNodeTemplate(newData, txtEle, dataId);\n            this.renderReactTemplates();\n        }\n        else {\n            txtEle.innerText = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            txtEle.focus();\n        }\n        if (this.allowTextWrap) {\n            this.calculateWrap(liEle);\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return getElement(ele);\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getId = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return ele;\n        }\n        else if (typeof ele === 'object') {\n            return (getElement(ele)).getAttribute('data-uid');\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNullOrUndefined(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNullOrUndefined(this.treeData[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNullOrUndefined(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind && !this.disabled) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true, enableAutoScroll: true,\n            dragArea: this.dragArea,\n            dragTarget: '.' + TEXTWRAP,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNullOrUndefined(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL$1 : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var listItem = closest(e.target, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    _this.dragObj.intDestroy(e.event);\n                    _this.dragCancelAction(virtualEle);\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs, function (observedArgs) {\n                        if (observedArgs.cancel) {\n                            _this.dragObj.intDestroy(e.event);\n                            _this.dragCancelAction(virtualEle);\n                        }\n                        else {\n                            _this.dragStartAction = true;\n                        }\n                    });\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNullOrUndefined(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var preventTargetExpand = false;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                    \n                }\n                var listItem = closest(dropTarget, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n                eventArgs.preventTargetExpand = preventTargetExpand;\n                _this.trigger('nodeDragStop', eventArgs, function (observedArgs) {\n                    _this.dragParent = observedArgs.draggedParentNode;\n                    _this.preventExpand = observedArgs.preventTargetExpand;\n                    if (observedArgs.cancel) {\n                        if (e.helper.parentNode) {\n                            detach(e.helper);\n                        }\n                        document.body.style.cursor = '';\n                        \n                    }\n                    _this.dragStartAction = false;\n                });\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNullOrUndefined(e) && !e.target.classList.contains(SIBLING)) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragCancelAction = function (virtualEle) {\n        detach(virtualEle);\n        removeClass([this.element], DRAGGING);\n        this.dragStartAction = false;\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList$$1 = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNullOrUndefined(classList$$1) && classList$$1.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            var checkWrapper = closest(e.target, '.' + CHECKBOXWRAP);\n            var collapse = closest(e.target, '.' + COLLAPSIBLE);\n            var expand = closest(e.target, '.' + EXPANDABLE);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (this.hasTemplate && dropLi) {\n                    var templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n                    if ((e && (!expand && !collapse) && e.event.offsetY < 7 && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        var index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((e && (!expand && !collapse) && !checkWrapper && templateTarget && e.event.offsetY > templateTarget.offsetHeight - 10) || ((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19))) {\n                        var index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n                else {\n                    if ((dropLi && e && (!expand && !collapse) && (e.event.offsetY < 7) && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        var index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((dropLi && e && (!expand && !collapse) && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10)) && !checkWrapper) || (((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19)))) {\n                        var index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n        if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n        var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n        if (eventArgs.dropIndicator) {\n            removeClass([icon], eventArgs.dropIndicator);\n        }\n        this.trigger('nodeDragging', eventArgs);\n        if (eventArgs.dropIndicator) {\n            addClass([icon], eventArgs.dropIndicator);\n        }\n    };\n    TreeView.prototype.appendIndicator = function (dropLi, icon, index) {\n        addClass([icon], DROPNEXT);\n        var virEle = this.createElement('div', { className: SIBLING });\n        dropLi.insertBefore(virEle, dropLi.children[index]);\n    };\n    /* eslint-disable */\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var level;\n        var drop = false;\n        var dragInstance;\n        dragInstance = e.dragData.draggable;\n        for (var i = 0; i < dragInstance.ej2_instances.length; i++) {\n            if (dragInstance.ej2_instances[i] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                if (this.fields.dataSource instanceof DataManager === false) {\n                    this.preventExpand = false;\n                }\n                return;\n            }\n            if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                if (e.target.offsetHeight <= 33 && offsetY > e.target.offsetHeight - 10 && offsetY > 6) {\n                    for (var i = sNodes.length - 1; i >= 0; i--) {\n                        if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                    }\n                }\n                else {\n                    for (var i = 0; i < sNodes.length; i++) {\n                        if (dropLi.isSameNode(sNodes[i]) || this.isDescendant(sNodes[i], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i], dropLi, e, dragObj, offsetY);\n                    }\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n            level = parseInt(dragLi.getAttribute('aria-level'), 10);\n            drop = true;\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n        if (dragObj.element.id !== this.element.id) {\n            dragObj.triggerEvent();\n        }\n        this.triggerEvent();\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        var checkWrapper = closest(dropTarget, '.' + CHECKBOXWRAP);\n        var collapse = closest(e.target, '.' + COLLAPSIBLE);\n        var expand = closest(e.target, '.' + EXPANDABLE);\n        if (!dragLi.classList.contains('e-disable') && !checkWrapper && ((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3) || (expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19) || (!expand && !collapse))) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else if ((dropTarget.classList.contains('e-icon-collapsible')) || (dropTarget.classList.contains('e-icon-expandable'))) {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n        else {\n            this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY, true);\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        else if (e.target.classList.contains('e-icon-expandable') || (e.target.classList.contains('e-icon-collapsible'))) {\n            if ((e.event.offsetY < 5) || (e.event.offsetX < 3)) {\n                pre = true;\n            }\n            else if ((e.event.offsetY > 15) || (e.event.offsetX > 17)) {\n                pre = false;\n            }\n        }\n        if ((e.target.classList.contains('e-icon-expandable')) || (e.target.classList.contains('e-icon-collapsible'))) {\n            var target = e.target.closest('li');\n            dropUl.insertBefore(dragLi, pre ? target : target.nextElementSibling);\n        }\n        else {\n            dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        }\n        this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos, isCheck) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        var templateTarget;\n        if (e && e.target) {\n            templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n        }\n        if (e && (pos < 7) && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n            this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10)) && !isCheck && !this.hasTemplate) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else if (this.hasTemplate && templateTarget && pos > templateTarget.offsetHeight - 10 && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            var childLi = dropUl.childNodes[index];\n            dropUl.insertBefore(dragLi, childLi);\n            this.moveData(dragLi, childLi, dropUl, true, dragObj);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n        var dropParentLi = closest(dropUl, '.' + LISTITEM);\n        var id = this.getId(dragLi);\n        var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n        var refId = this.getId(dropLi);\n        var index = this.getDataPos(this.treeData, this.fields, refId);\n        var parentId = this.getId(dropParentLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n            var pos = isNullOrUndefined(index) ? this.treeData.length : (pre ? index : index + 1);\n            if (isNullOrUndefined(parentId) && !this.hasPid) {\n                delete removedData[0][this.fields.parentID];\n            }\n            else {\n                var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n                setValue(this.fields.parentID, currPid, removedData[0]);\n            }\n            this.treeData.splice(pos, 0, removedData[0]);\n            if (dragObj.element.id !== this.element.id) {\n                var childData = dragObj.removeChildNodes(id);\n                pos++;\n                for (var i = 0, len = childData.length; i < len; i++) {\n                    this.treeData.splice(pos, 0, childData[i]);\n                    pos++;\n                }\n                dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (this.preventExpand === true && !dropUl && dropIcon) {\n            this.renderChildNodes(dropLi);\n        }\n        dropUl = select('.' + PARENTITEM, dropLi);\n        if (!isNullOrUndefined(dropUl) && this.preventExpand === true) {\n            dropUl.style.display = 'none';\n        }\n        if (!isNullOrUndefined(dropUl) && this.preventExpand === false) {\n            dropUl.style.display = 'block';\n        }\n        if (isNullOrUndefined(dropUl) && this.preventExpand === true) {\n            if (isNullOrUndefined(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                icon.classList.add('e-icon-expandable');\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            if (icon) {\n                removeClass([icon], COLLAPSIBLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            dropLi.setAttribute('aria-expanded', 'false');\n            dropUl.style.display = 'none';\n        }\n        if (isNullOrUndefined(dropUl)) {\n            this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            if (isNullOrUndefined(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                removeClass([icon], EXPANDABLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n                icon = select('div.' + ICON, dropLi);\n                removeClass([icon], EXPANDABLE);\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            this.addExpand(dropLi);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            var parentId = this.getId(dragParentLi);\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', false);\n            this.removeExpand(dragParentLi, true);\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNullOrUndefined(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n        var dragLiParent = obj.dragLi.parentElement;\n        var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n        var targetParent = null;\n        var indexValue = null;\n        var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n        var iconClass = null;\n        var node = (drop === true) ? draggedNode : dropLi;\n        var index = node ? closest(node, '.e-list-parent') : null;\n        var i = 0;\n        var position = null;\n        dragParent = (obj.dragLi && dragParent === null) ? closest(dragLiParent, '.' + ROOT) : dragParent;\n        dragParent = (drop === true) ? this.dragParent : dragParent;\n        if (cloneEle) {\n            while (i < 4) {\n                if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n                    iconClass = iconCss[i];\n                    break;\n                }\n                i++;\n            }\n        }\n        if (index) {\n            var dropTar = 0;\n            for (i = 0; i < index.childElementCount; i++) {\n                dropTar = (drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode) ? ++dropTar : dropTar;\n                if ((drop !== true && index.children[i].classList.contains('e-hover'))) {\n                    indexValue = (event.offsetY >= 23) ? i + 1 : i;\n                    break;\n                }\n                else if (index.children[i] === node) {\n                    indexValue = (event.offsetY >= 23) ? i : i;\n                    break;\n                }\n            }\n            indexValue = (dropTar !== 0) ? --indexValue : indexValue;\n            position = (iconClass == \"e-drop-in\") ? \"Inside\" : ((event.offsetY < 7) ? \"Before\" : \"After\");\n        }\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains(LISTITEM)) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropLi === draggedNode) {\n            targetParent = dropLi;\n        }\n        if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n            targetParent = dropLi;\n            if (drop !== true) {\n                level = ++level;\n                var parent_2 = targetParent ? select('.e-list-parent', targetParent) : null;\n                indexValue = (parent_2) ? parent_2.children.length : 0;\n                if (!(this.fields.dataSource instanceof DataManager) && parent_2 === null && targetParent) {\n                    var parent_3 = targetParent.hasAttribute('data-uid') ?\n                        this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n                    indexValue = (parent_3) ? parent_3.length : 0;\n                }\n            }\n        }\n        return {\n            cancel: false,\n            clonedNode: cloneEle,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            dropIndex: indexValue,\n            dropLevel: level,\n            draggedParentNode: dragParent,\n            dropTarget: targetParent,\n            dropIndicator: iconClass,\n            target: target,\n            position: position,\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNullOrUndefined(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNullOrUndefined(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNullOrUndefined(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNullOrUndefined(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            this.destroyTemplate(node);\n        }\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.removeData(node);\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n        this.updateExpandedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.updateExpandedNodes = function () {\n        this.setProperties({ expandedNodes: [] }, true);\n        var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n        for (var i = 0, len = eNodes.length; i < len; i++) {\n            this.addExpand(eNodes[i]);\n        }\n    };\n    TreeView.prototype.removeData = function (node) {\n        if (this.dataType === 1) {\n            var dm = new DataManager(this.treeData);\n            var id = this.getId(node);\n            var data = {};\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            data[this.fields.id] = newId;\n            dm.remove(this.fields.id, data);\n            this.removeChildNodes(id);\n        }\n        else {\n            var id = this.getId(node);\n            this.updateChildField(this.treeData, this.fields, id, null, null, true);\n        }\n    };\n    TreeView.prototype.removeChildNodes = function (parentId) {\n        var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n        var childData = [];\n        if (cNodes) {\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var dm = new DataManager(this.treeData);\n                var id = getValue(this.fields.id, cNodes[i]).toString();\n                var data = {};\n                var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                data[this.fields.id] = currId;\n                var nodeData = dm.remove(this.fields.id, data);\n                childData.push(nodeData[0]);\n                this.removeChildNodes(id);\n            }\n        }\n        return childData;\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNullOrUndefined(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n        if (nodes.length === 0) {\n            return;\n        }\n        var sNodes = this.getSortedData(nodes);\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n        var dropUl;\n        if (!dropEle) {\n            dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        }\n        else {\n            dropUl = dropEle;\n        }\n        var refNode = dropUl.childNodes[index];\n        if (refNode || this.sortOrder === 'None') {\n            for (var i = 0; i < li.length; i++) {\n                dropUl.insertBefore(li[i], refNode);\n            }\n        }\n        if (!refNode && ((this.sortOrder === 'Ascending') || (this.sortOrder === 'Descending'))) {\n            var cNodes = dropUl.childNodes;\n            for (var i = 0; i < li.length; i++) {\n                for (var j = 0; j < cNodes.length; j++) {\n                    var returnValue = (this.sortOrder === 'Ascending') ? cNodes[j].textContent.toUpperCase() > li[i].innerText.toUpperCase() : cNodes[j].textContent.toUpperCase() < li[i].innerText.toUpperCase();\n                    if (returnValue) {\n                        dropUl.insertBefore(li[i], cNodes[j]);\n                        break;\n                    }\n                    dropUl.insertBefore(li[i], cNodes[cNodes.length]);\n                }\n            }\n        }\n        var id = this.getId(dropLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n            var refId = this.getId(refNode);\n            var pos = isNullOrUndefined(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n            for (var j = 0; j < nodes.length; j++) {\n                if (!isNullOrUndefined(id)) {\n                    var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                    setValue(this.fields.parentID, currId, nodes[j]);\n                }\n                this.treeData.splice(pos, 0, nodes[j]);\n                pos++;\n            }\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, id, nodes, index);\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.getDataPos = function (obj, mapper, id) {\n        var pos = null;\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                return i;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var data = getValue(mapper.child, obj[i]);\n                pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var items = getValue('child', obj[i]);\n                pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n        }\n        return pos;\n    };\n    TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n        var updated;\n        if (isNullOrUndefined(id)) {\n            index = isNullOrUndefined(index) ? obj.length : index;\n            for (var k = 0, len = data.length; k < len; k++) {\n                obj.splice(index, 0, data[k]);\n                index++;\n            }\n            return updated;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if ((typeof mapper.child === 'string' && (obj[i].hasOwnProperty(mapper.child) && obj[i][mapper.child] !== null)) ||\n                    ((this.fields.dataSource instanceof DataManager) && obj[i].hasOwnProperty('child'))) {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    var childData = getValue(key, obj[i]);\n                    if (isNullOrUndefined(childData)) {\n                        childData = [];\n                    }\n                    index = isNullOrUndefined(index) ? childData.length : index;\n                    for (var k = 0, len = data.length; k < len; k++) {\n                        childData.splice(index, 0, data[k]);\n                        index++;\n                    }\n                }\n                else {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    obj[i][key] = data;\n                }\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var childObj = getValue(mapper.child, obj[i]);\n                updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n            else if ((this.fields.dataSource instanceof DataManager) && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var childData = getValue('child', obj[i]);\n                updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n        }\n        return updated;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        var validNodes = this.nodeType(nodes);\n        var validID = this.checkValidId(validNodes);\n        this.validArr = [];\n        for (var i = 0, len = validID.length; i < len; i++) {\n            var id = validID[i][this.fields.id].toString();\n            if (id && this.disableNode.indexOf(id) === -1) {\n                this.disableNode.push(id);\n            }\n            var liEle = this.getElement(id);\n            if (liEle) {\n                liEle.setAttribute('aria-disabled', 'true');\n                addClass([liEle], DISABLE);\n            }\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        var strNodes = this.nodeType(nodes);\n        for (var i = 0, len = strNodes.length; i < len; i++) {\n            var liEle = this.getElement(strNodes[i]);\n            var id = strNodes[i];\n            if (id && this.disableNode.indexOf(id) !== -1) {\n                this.disableNode.splice(this.disableNode.indexOf(id), 1);\n            }\n            if (liEle) {\n                liEle.removeAttribute('aria-disabled');\n                removeClass([liEle], DISABLE);\n            }\n        }\n    };\n    TreeView.prototype.nodeType = function (nodes) {\n        var validID = [];\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var id = void 0;\n            if (typeof nodes[i] == \"string\") {\n                id = (nodes[i]) ? nodes[i].toString() : null;\n            }\n            else if (typeof nodes[i] === \"object\") {\n                id = nodes[i] ? nodes[i].getAttribute(\"data-uid\").toString() : null;\n            }\n            if (validID.indexOf(id) == -1) {\n                validID.push(id);\n            }\n        }\n        return validID;\n    };\n    TreeView.prototype.checkValidId = function (node) {\n        var _this = this;\n        if (this.dataType === 1) {\n            this.validArr = this.treeData.filter(function (data) {\n                return node.indexOf(data[_this.fields.id] ? data[_this.fields.id].toString() : null) !== -1;\n            });\n        }\n        else if (this.dataType === 2) {\n            for (var k = 0; k < this.treeData.length; k++) {\n                var id = this.treeData[k][this.fields.id] ? this.treeData[k][this.fields.id].toString() : null;\n                if (node.indexOf(id) !== -1) {\n                    this.validArr.push(this.treeData[k]);\n                }\n                var childItems = getValue(this.fields.child.toString(), this.treeData[k]);\n                if (childItems) {\n                    this.filterNestedChild(childItems, node);\n                }\n            }\n        }\n        return this.validArr;\n    };\n    TreeView.prototype.filterNestedChild = function (treeData, nodes) {\n        for (var k = 0; k < treeData.length; k++) {\n            var id = treeData[k][this.fields.id] ? treeData[k][this.fields.id].toString() : null;\n            if (nodes.indexOf(id) !== -1) {\n                this.validArr.push(treeData[k]);\n            }\n            var childItems = getValue(this.fields.child.toString(), treeData[k]);\n            if (childItems) {\n                this.filterNestedChild(childItems, nodes);\n            }\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.updatePersistProp = function () {\n        this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n        var sleNodes = this.selectedNodes;\n        for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n            this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n        }\n        var enodes = this.expandedNodes;\n        for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n            this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n        }\n        if (this.showCheckBox) {\n            this.removeField(this.treeData, this.fields, ['isChecked']);\n            var cnodes = this.checkedNodes;\n            for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n                this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n            }\n        }\n    };\n    TreeView.prototype.removeField = function (obj, mapper, names) {\n        if (isNullOrUndefined(obj) || isNullOrUndefined(mapper)) {\n            return;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            for (var j = 0; j < names.length; j++) {\n                var field = this.getMapperProp(mapper, names[j]);\n                if (!isNullOrUndefined(obj[i][field])) {\n                    delete obj[i][field];\n                }\n            }\n            if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n            }\n        }\n    };\n    TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n        switch (fieldName) {\n            case 'selected':\n                return !isNullOrUndefined(mapper.selected) ? mapper.selected : 'selected';\n            case 'expanded':\n                return !isNullOrUndefined(mapper.expanded) ? mapper.expanded : 'expanded';\n            case 'isChecked':\n                return !isNullOrUndefined(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n            case 'hasChildren':\n                return !isNullOrUndefined(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n            default:\n                return fieldName;\n        }\n    };\n    TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        else if (this.dataType === 1) {\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n            setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n        }\n        else {\n            this.updateChildField(obj, mapper, id, key, value);\n        }\n    };\n    TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove$$1) {\n        var removedData;\n        if (isNullOrUndefined(obj)) {\n            return removedData;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if (remove$$1) {\n                    removedData = obj.splice(i, 1);\n                }\n                else {\n                    setValue(this.getMapperProp(mapper, key), value, obj[i]);\n                    removedData = [];\n                }\n                return removedData;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove$$1);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var childItems = getValue('child', obj[i]);\n                removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove$$1);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return removedData;\n    };\n    TreeView.prototype.triggerEvent = function () {\n        this.renderReactTemplates();\n        var eventArgs = { data: this.treeData };\n        this.trigger('dataSourceChanged', eventArgs);\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        var _this = this;\n        if (toBind && !this.disabled) {\n            var proxy_2 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.isDoubleTapped(e) && e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_2.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    proxy_3.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_4 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if ((_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && _this.isDoubleTapped(e) && e.tapCount === 2))\n                        && e.originalEvent.which !== 3) {\n                        proxy_4.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    \n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        if (this.expandOnType !== 'None') {\n            this.wireExpandOnEvent(true);\n        }\n        EventHandler.add(this.element, 'focus', this.focusIn, this);\n        EventHandler.add(this.element, 'blur', this.focusOut, this);\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'focus', this.focusIn);\n        EventHandler.remove(this.element, 'blur', this.focusOut);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        if (!this.disabled) {\n            this.keyboardModule.destroy();\n        }\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNullOrUndefined(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDoubleTapped = function (e) {\n        var target = e.originalEvent.target;\n        var secondTap;\n        if (target && e.tapCount) {\n            if (e.tapCount === 1) {\n                this.firstTap = closest(target, '.' + LISTITEM);\n            }\n            else if (e.tapCount === 2) {\n                secondTap = closest(target, '.' + LISTITEM);\n            }\n        }\n        return (this.firstTap === secondTap);\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNullOrUndefined(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        this.setIndeterminate(nodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel\n     */\n    TreeView.prototype.setValidCheckedNode = function (node) {\n        if (this.dataType === 1) {\n            var mapper = this.fields;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', node, true));\n            if (resultData[0]) {\n                this.setChildCheckState(resultData, node, resultData[0]);\n                if (this.autoCheck) {\n                    var parent_4 = resultData[0][this.fields.parentID] ? resultData[0][this.fields.parentID].toString() : null;\n                    var childNodes = this.getChildNodes(this.treeData, parent_4);\n                    var count = 0;\n                    for (var len = 0; len < childNodes.length; len++) {\n                        var childId = childNodes[len][this.fields.id].toString();\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                    if (count === childNodes.length && this.checkedNodes.indexOf(parent_4) === -1 && parent_4) {\n                        this.checkedNodes.push(parent_4);\n                    }\n                }\n            }\n        }\n        else if (this.dataType === 2) {\n            for (var a = 0; a < this.treeData.length; a++) {\n                var index = this.treeData[a][this.fields.id] ? this.treeData[a][this.fields.id].toString() : '';\n                if (index === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                    break;\n                }\n                var childItems = getValue(this.fields.child.toString(), this.treeData[a]);\n                if (childItems) {\n                    this.setChildCheckState(childItems, node, this.treeData[a]);\n                }\n            }\n        }\n    };\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel(for hierarchical DS)\n     */\n    TreeView.prototype.setChildCheckState = function (childItems, node, treeData) {\n        var checkedParent;\n        var count = 0;\n        if (this.dataType === 1) {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : null;\n            }\n            for (var index = 0; index < childItems.length; index++) {\n                var checkNode = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : null;\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkNode) === -1) {\n                        this.checkedNodes.push(checkNode);\n                    }\n                }\n                if (checkNode === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                var subChildItems = this.getChildNodes(this.treeData, checkNode);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, treeData);\n                }\n            }\n        }\n        else {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n            }\n            for (var index = 0; index < childItems.length; index++) {\n                var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n                if (checkedChild === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, childItems[index]);\n                }\n                if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                    count++;\n                }\n                if (count === childItems.length && this.checkedNodes.indexOf(checkedParent) === -1 && this.autoCheck) {\n                    this.checkedNodes.push(checkedParent);\n                }\n            }\n        }\n    };\n    TreeView.prototype.setIndeterminate = function (nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n            this.setValidCheckedNode(nodes[i]);\n        }\n    };\n    TreeView.prototype.updatePosition = function (id, newData, isRefreshChild, childValue) {\n        if (this.dataType === 1) {\n            var pos = this.getDataPos(this.treeData, this.fields, id);\n            this.treeData.splice(pos, 1, newData);\n            if (isRefreshChild) {\n                this.removeChildNodes(id);\n                for (var j = 0; j < childValue.length; j++) {\n                    this.treeData.splice(pos, 0, childValue[j]);\n                    pos++;\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.updateChildPosition(this.treeData, this.fields, id, [newData], undefined);\n        }\n    };\n    TreeView.prototype.updateChildPosition = function (treeData, mapper, currID, newData, index) {\n        var found;\n        for (var i = 0, objlen = treeData.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, treeData[i]);\n            if (treeData[i] && nodeId && nodeId.toString() === currID) {\n                treeData[i] = newData[0];\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, treeData[i]))) {\n                var childObj = getValue(mapper.child, treeData[i]);\n                found = this.updateChildPosition(childObj, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', treeData[i]))) {\n                var childData = getValue('child', treeData[i]);\n                found = this.updateChildPosition(childData, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n        }\n        return found;\n    };\n    TreeView.prototype.dynamicState = function () {\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEditingEvents(this.allowEditing);\n        if (!this.disabled) {\n            this.wireEvents();\n            this.setRipple();\n        }\n        else {\n            this.unWireEvents();\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n    };\n    TreeView.prototype.crudOperation = function (operation, nodes, target, newText, newNode, index, prevent) {\n        var _this = this;\n        var data = this.fields.dataSource;\n        var matchedArr = [];\n        var query = this.getQuery(this.fields);\n        var key = this.fields.id;\n        var crud;\n        var changes = {\n            addedRecords: [],\n            deletedRecords: [],\n            changedRecords: []\n        };\n        var nodesID = [];\n        if (nodes) {\n            nodesID = this.nodeType(nodes);\n        }\n        else if (target) {\n            if (typeof target == \"string\") {\n                nodesID[0] = target.toString();\n            }\n            else if (typeof target === \"object\") {\n                nodesID[0] = target.getAttribute(\"data-uid\").toString();\n            }\n        }\n        for (var i = 0, len = nodesID.length; i < len; i++) {\n            var liEle = this.getElement(nodesID[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            var removedData = this.getNodeObject(nodesID[i]);\n            matchedArr.push(removedData);\n        }\n        switch (operation) {\n            case 'delete':\n                if (nodes.length == 1) {\n                    crud = data.remove(key, matchedArr[0], query.fromTable, query);\n                }\n                else {\n                    changes.deletedRecords = matchedArr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then(function (e) { return _this.deleteSuccess(nodesID); })\n                    .catch(function (e) { return _this.dmFailure(e); });\n                break;\n            case 'update':\n                matchedArr[0][this.fields.text] = newText;\n                crud = data.update(key, matchedArr[0], query.fromTable, query);\n                crud.then(function (e) { return _this.editSucess(target, newText, prevent); })\n                    .catch(function (e) { return _this.dmFailure(e, target, prevent); });\n                break;\n            case 'insert':\n                if (newNode.length == 1) {\n                    crud = data.insert(newNode[0], query.fromTable, query);\n                }\n                else {\n                    var arr = [];\n                    for (var i = 0, len = newNode.length; i < len; i++) {\n                        arr.push(newNode[i]);\n                    }\n                    changes.addedRecords = arr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then(function (e) {\n                    var dropLi = _this.getElement(target);\n                    _this.addSuccess(newNode, dropLi, index);\n                    _this.preventExpand = false;\n                }).catch(function (e) { return _this.dmFailure(e); });\n                break;\n        }\n    };\n    TreeView.prototype.deleteSuccess = function (nodes) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            this.removeNode(liEle);\n        }\n        this.updateInstance();\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.triggerEvent();\n    };\n    TreeView.prototype.editSucess = function (target, newText, prevent) {\n        var liEle = this.getElement(target);\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.appendNewText(liEle, txtEle, newText, prevent);\n    };\n    TreeView.prototype.addSuccess = function (nodes, dropLi, index) {\n        var dropUl;\n        var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n        var proxy = this;\n        if (dropLi && icon && icon.classList.contains(EXPANDABLE) &&\n            dropLi.querySelector('.' + PARENTITEM) === null) {\n            proxy.renderChildNodes(dropLi, null, function () {\n                dropUl = dropLi.querySelector('.' + PARENTITEM);\n                proxy.addGivenNodes(nodes, dropLi, index, true, dropUl);\n                proxy.triggerEvent();\n            });\n        }\n        else {\n            this.addGivenNodes(nodes, dropLi, index, true);\n            this.triggerEvent();\n        }\n    };\n    TreeView.prototype.dmFailure = function (e, target, prevent) {\n        if (target) {\n            this.updatePreviousText(target, prevent);\n        }\n        this.trigger('actionFailure', { error: e });\n    };\n    TreeView.prototype.updatePreviousText = function (target, prevent) {\n        var liEle = this.getElement(target);\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateText(liEle, txtEle, this.oldText, prevent);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.dragObj.dragArea = this.dragArea;\n                    }\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'allowTextWrap':\n                    this.setTextWrap();\n                    this.updateWrap();\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'autoCheck':\n                    if (this.showCheckBox) {\n                        this.autoCheck = newProp.autoCheck;\n                        this.ensureIndeterminate();\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandedNodes':\n                    this.isAnimate = false;\n                    this.setProperties({ expandedNodes: [] }, true);\n                    this.collapseAll();\n                    this.isInitalExpand = true;\n                    this.setProperties({ expandedNodes: isNullOrUndefined(newProp.expandedNodes) ? [] : newProp.expandedNodes }, true);\n                    this.doExpandAction();\n                    this.isInitalExpand = false;\n                    this.isAnimate = true;\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    if (this.expandOnType !== 'None' && !this.disabled) {\n                        this.wireExpandOnEvent(true);\n                    }\n                    break;\n                case 'disabled':\n                    this.setDisabledMode();\n                    this.dynamicState();\n                    break;\n                case 'fields':\n                    this.isAnimate = false;\n                    this.isFieldChange = true;\n                    this.initialRender = true;\n                    this.reRenderNodes();\n                    this.initialRender = false;\n                    this.isAnimate = true;\n                    this.isFieldChange = false;\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    if (this.allowTextWrap) {\n                        this.setTextWrap();\n                        this.updateWrap();\n                    }\n                    break;\n                case 'loadOnDemand':\n                    if (this.loadOnDemand === false && !this.onLoaded) {\n                        var nodes = this.element.querySelectorAll('li');\n                        var i = 0;\n                        while (i < nodes.length) {\n                            if (nodes[i].getAttribute('aria-expanded') !== 'true') {\n                                this.renderChildNodes(nodes[i], true, null, true);\n                            }\n                            i++;\n                        }\n                        this.onLoaded = true;\n                    }\n                    break;\n                case 'nodeTemplate':\n                    this.hasTemplate = false;\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowNavigable':\n                    this.setProperties({ fullRowNavigable: newProp.fullRowNavigable }, true);\n                    this.listBaseOption.itemNavigable = newProp.fullRowNavigable;\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.clearTemplate();\n        this.element.removeAttribute('aria-activedescendant');\n        this.element.removeAttribute('tabindex');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        if (!this.disabled) {\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        if (this.ulElement && this.ulElement.parentElement) {\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n        if (isNullOrUndefined(nodes)) {\n            return;\n        }\n        nodes = JSON.parse(JSON.stringify(nodes));\n        var dropLi = this.getElement(target);\n        this.preventExpand = preventTargetExpand;\n        if (this.fields.dataSource instanceof DataManager) {\n            if (!this.isOffline) {\n                this.crudOperation('insert', null, target, null, nodes, index, this.preventExpand);\n            }\n            else {\n                this.addSuccess(nodes, dropLi, index);\n            }\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                nodes = this.getSortedData(nodes);\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.updateCheckedStateFromDS();\n        if (this.showCheckBox && dropLi) {\n            this.ensureParentCheckState(dropLi);\n        }\n        if ((this.fields.dataSource instanceof DataManager === false)) {\n            this.preventExpand = false;\n            this.triggerEvent();\n        }\n    };\n    /**\n     * Instead of clicking on the TreeView node for editing, we can enable it by using\n     * `beginEdit` property. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (isNullOrUndefined(ele) || this.disabled) {\n            return;\n        }\n        this.createTextbox(ele, null);\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var liEle = this.getElement(node);\n        if (isNullOrUndefined(liEle)) {\n            return;\n        }\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n        setTimeout(function () { liEle.scrollIntoView(true); }, 450);\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n    TreeView.prototype.getAllCheckedNodes = function () {\n        var checkNodes = this.checkedNodes;\n        return checkNodes;\n    };\n    /**\n    * Gets all the disabled nodes including child, whether it is loaded or not.\n    */\n    TreeView.prototype.getDisabledNodes = function () {\n        var disabledNodes = this.disableNode;\n        return disabledNodes;\n    };\n    /**\n     * Get the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     * @isGenericType true\n     */\n    TreeView.prototype.getTreeData = function (node) {\n        var id = this.getId(node);\n        this.updatePersistProp();\n        if (isNullOrUndefined(id)) {\n            return this.treeData;\n        }\n        else {\n            var data = this.getNodeObject(id);\n            return isNullOrUndefined(data) ? [] : [data];\n        }\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n        var dropLi = this.getElement(target);\n        if (isNullOrUndefined(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            if (isNullOrUndefined(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.preventExpand = preventTargetExpand;\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.triggerEvent();\n    };\n    /**\n     * Refreshes a particular node of the TreeView.\n     * @param  {string | Element} target - Specifies the ID of TreeView node or TreeView node as target element.\n     * @param  {{ [key: string]: Object }[]} newData - Specifies the new data of TreeView node.\n     */\n    TreeView.prototype.refreshNode = function (target, newData) {\n        if (isNullOrUndefined(target) || isNullOrUndefined(newData)) {\n            return;\n        }\n        var id;\n        var isRefreshChild = false;\n        if (this.dataType == 1 && newData.length > 1) {\n            isRefreshChild = true;\n        }\n        else if (this.dataType == 2 && newData.length === 1) {\n            var updatedChildValue = getValue(this.fields.child.toString(), newData[0]);\n            if (!isNullOrUndefined(updatedChildValue)) {\n                isRefreshChild = true;\n            }\n        }\n        var liEle = this.getElement(target);\n        id = liEle ? liEle.getAttribute('data-uid') : ((target) ? target.toString() : null);\n        this.refreshData = this.getNodeObject(id);\n        newData = JSON.parse(JSON.stringify(newData));\n        /* eslint-disable */\n        var newNodeData;\n        var parentData;\n        if (this.dataType == 1 && isRefreshChild) {\n            for (var k = 0; k < newData.length; k++) {\n                if (isNullOrUndefined(newData[k][this.fields.parentID])) {\n                    parentData = newData[k];\n                    newData.splice(k, 1);\n                    break;\n                }\n            }\n            newNodeData = extend({}, this.refreshData, parentData);\n        }\n        else {\n            newNodeData = extend({}, this.refreshData, newData[0]);\n        }\n        if (isNullOrUndefined(liEle)) {\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            return;\n        }\n        this.isRefreshed = true;\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        var newliEle = ListBase.createListItemFromJson(this.createElement, [newNodeData], this.listBaseOption, level);\n        var ul = select('.' + PARENTITEM, liEle);\n        var childItems = getValue(this.fields.child.toString(), newNodeData);\n        if ((isRefreshChild && ul) || (isRefreshChild && !isNullOrUndefined(childItems))) {\n            var parentEle = liEle.parentElement;\n            var index = Array.prototype.indexOf.call(parentEle.childNodes, liEle);\n            remove(liEle);\n            parentEle.insertBefore(newliEle[0], parentEle.childNodes[index]);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            if (isRefreshChild && ul) {\n                this.expandAll([id]);\n            }\n        }\n        else {\n            var txtEle = select('.' + TEXTWRAP, liEle);\n            var newTextEle = select('.' + TEXTWRAP, newliEle[0]);\n            var icon = select('div.' + ICON, txtEle);\n            var newIcon = select('div.' + ICON, newTextEle);\n            if (icon && newIcon) {\n                if (newIcon.classList.contains(EXPANDABLE) && icon.classList.contains(COLLAPSIBLE)) {\n                    removeClass([newIcon], EXPANDABLE);\n                    addClass([newIcon], COLLAPSIBLE);\n                }\n                else if (newIcon.classList.contains(COLLAPSIBLE) && icon.classList.contains(EXPANDABLE)) {\n                    removeClass([newIcon], COLLAPSIBLE);\n                    addClass([newIcon], EXPANDABLE);\n                }\n                else if (icon.classList.contains('interaction')) {\n                    addClass([newIcon], 'interaction');\n                }\n            }\n            remove(txtEle);\n            var fullEle = select('.' + FULLROW, liEle);\n            fullEle.parentNode.insertBefore(newTextEle, fullEle.nextSibling);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n        }\n        liEle = this.getElement(target);\n        if (newNodeData[this.fields.tooltip]) {\n            liEle.setAttribute(\"title\", newNodeData[this.fields.tooltip]);\n        }\n        if (newNodeData.hasOwnProperty(this.fields.htmlAttributes) && newNodeData[this.fields.htmlAttributes]) {\n            var attr = {};\n            merge(attr, newNodeData[this.fields.htmlAttributes]);\n            if (attr.class) {\n                addClass([liEle], attr.class.split(' '));\n                delete attr.class;\n            }\n            else {\n                attributes(liEle, attr);\n            }\n        }\n        if (this.selectedNodes.indexOf(id) !== -1) {\n            liEle.setAttribute('aria-selected', 'true');\n            addClass([liEle], ACTIVE);\n        }\n        this.isRefreshed = false;\n        this.triggerEvent();\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                this.crudOperation('delete', nodes);\n            }\n            else {\n                this.deleteSuccess(nodes);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        var _this = this;\n        if (isNullOrUndefined(target) || isNullOrUndefined(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNullOrUndefined(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                if (_this.fields.dataSource instanceof DataManager && !_this.isOffline) {\n                    _this.crudOperation('update', null, target, newText, null, null, false);\n                }\n                else {\n                    _this.appendNewText(liEle, txtEle, newText, false);\n                }\n            }\n        });\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    var TreeView_1;\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowTextWrap\", void 0);\n    __decorate$8([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate$8([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"disabled\", void 0);\n    __decorate$8([\n        Property(null)\n    ], TreeView.prototype, \"dragArea\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"expandedNodes\", void 0);\n    __decorate$8([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate$8([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate$8([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate$8([\n        Property(true)\n    ], TreeView.prototype, \"loadOnDemand\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"locale\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate$8([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate$8([\n        Property(true)\n    ], TreeView.prototype, \"autoCheck\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"fullRowNavigable\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"actionFailure\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"dataSourceChanged\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate$8([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\n\n/**\n * TreeView modules\n */\n\nvar __extends$9 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$9 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CONTROL$1 = 'e-control';\nvar ROOT$1 = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar CONTEXTBACKDROP = 'e-backdrop';\nvar RTL$2 = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar DISPLAY = 'e-sidebar-display';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @__PURE__ @class */ (function (_super) {\n    __extends$9(Sidebar, _super);\n    /* eslint-enable */\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n            this.firstRender = true;\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.checkType(true);\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n        if (Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        (this.enableRtl ? addClass : removeClass)([this.element], RTL$2);\n    };\n    Sidebar.prototype.setTarget = function () {\n        this.targetEle = this.element.nextElementSibling;\n        this.sidebarEleCopy = this.element.cloneNode(true);\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n            this.targetEle = this.getTargetElement();\n        }\n    };\n    Sidebar.prototype.getTargetElement = function () {\n        var siblingElement = this.element.nextElementSibling;\n        while (!isNullOrUndefined(siblingElement)) {\n            if (!siblingElement.classList.contains(ROOT$1)) {\n                break;\n            }\n            siblingElement = siblingElement.nextElementSibling;\n        }\n        return siblingElement;\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyleAttribute(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        if (this.element.tagName === \"EJS-SIDEBAR\") {\n            addClass([this.element], DISPLAY);\n        }\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined(classELement || this.targetEle)) {\n            addClass([classELement || this.targetEle], [MAINCONTENTANIMATION]);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT$1);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        this.element.setAttribute('tabindex', this.tabIndex);\n        if (this.type === 'Auto' && !Browser.isDevice) {\n            this.show();\n        }\n        else if (!this.isOpen) {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.checkType = function (val) {\n        if (!(this.type === 'Push' || this.type === 'Over' || this.type === 'Slide')) {\n            this.type = 'Auto';\n        }\n        else {\n            if (!this.element.classList.contains(CLOSE) && !val) {\n                this.hide();\n            }\n        }\n    };\n    Sidebar.prototype.transitionEnd = function (e) {\n        this.setDock();\n        if (!isNullOrUndefined(e) && !this.firstRender) {\n            this.triggerChange();\n        }\n        this.firstRender = false;\n        EventHandler.remove(this.element, 'transitionend', this.transitionEnd);\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (this.target && this.showBackdrop && sibling) {\n            removeClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     *\n     * @returns {void}\n     *\n     */\n    Sidebar.prototype.hide = function (e) {\n        var _this = this;\n        var closeArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !isNullOrUndefined(e),\n            event: (e || null)\n        };\n        this.trigger('close', closeArguments, function (observedcloseArgs) {\n            if (!observedcloseArgs.cancel) {\n                if (_this.element.classList.contains(CLOSE)) {\n                    return;\n                }\n                if (_this.element.classList.contains(OPEN) && !_this.animate) {\n                    _this.triggerChange();\n                }\n                addClass([_this.element], CLOSE);\n                removeClass([_this.element], OPEN);\n                setStyleAttribute(_this.element, { 'width': formatUnit(_this.enableDock ? _this.dockSize : _this.width) });\n                _this.setType(_this.type);\n                var sibling = document.querySelector('.e-main-content') || _this.targetEle;\n                if (!_this.enableDock && sibling) {\n                    sibling.style.transform = 'translateX(' + 0 + 'px)';\n                    sibling.style[_this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n                }\n                _this.destroyBackDrop();\n                _this.setAnimation();\n                if (_this.type === 'Slide') {\n                    document.body.classList.remove('e-sidebar-overflow');\n                }\n                _this.setProperties({ isOpen: false }, true);\n                if (_this.enableDock) {\n                    setTimeout(function () { return _this.setTimeOut(); }, 50);\n                }\n                EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n            }\n        });\n    };\n    Sidebar.prototype.setTimeOut = function () {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        var elementWidth = this.element.getBoundingClientRect().width;\n        if (this.element.classList.contains(OPEN) && sibling && !(this.type === 'Over' && this.enableDock)) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n        }\n        else if (this.element.classList.contains(CLOSE) && sibling) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     *\n     * @returns {void}\n     */\n    Sidebar.prototype.show = function (e) {\n        var _this = this;\n        var openArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !isNullOrUndefined(e),\n            event: (e || null)\n        };\n        this.trigger('open', openArguments, function (observedopenArgs) {\n            if (!observedopenArgs.cancel) {\n                removeClass([_this.element], VISIBILITY);\n                if (_this.element.classList.contains(OPEN)) {\n                    return;\n                }\n                if (_this.element.classList.contains(CLOSE) && !_this.animate) {\n                    _this.triggerChange();\n                }\n                addClass([_this.element], [OPEN, TRASITION]);\n                setStyleAttribute(_this.element, { 'transform': '' });\n                removeClass([_this.element], CLOSE);\n                setStyleAttribute(_this.element, { 'width': formatUnit(_this.width) });\n                _this.setType(_this.type);\n                _this.createBackDrop();\n                _this.setAnimation();\n                if (_this.type === 'Slide') {\n                    document.body.classList.add('e-sidebar-overflow');\n                }\n                _this.setProperties({ isOpen: true }, true);\n                EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n            }\n        });\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.triggerChange = function () {\n        var changeArguments = { name: 'change', element: this.element };\n        this.trigger('change', changeArguments);\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyleAttribute(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyleAttribute(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop && this.getState()) {\n            var sibling = document.querySelector('.e-main-content') || this.targetEle;\n            addClass([sibling], CONTEXTBACKDROP);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     *\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     *\n     * @returns {void}\n     */\n    Sidebar.prototype.toggle = function () {\n        if (this.element.classList.contains(OPEN)) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery) {\n            var media = false;\n            if (typeof (this.mediaQuery) === 'string') {\n                media = window.matchMedia(this.mediaQuery).matches;\n            }\n            else {\n                media = (this.mediaQuery).matches;\n            }\n            if (media && this.windowWidth !== window.innerWidth) {\n                this.show();\n            }\n            else if (this.getState() && this.windowWidth !== window.innerWidth) {\n                this.hide();\n            }\n        }\n    };\n    Sidebar.prototype.resize = function () {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n        if (Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL$1 + '' + '.' + ROOT$1)) {\n            return;\n        }\n        this.hide(e);\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (!this.isOpen && this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.isOpen && this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.isOpen && this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (!this.isOpen && this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        EventHandler.add(window, 'resize', this.resize, this);\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resize);\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {SidebarModel} newProp - specifies newProp value.\n     * @param {SidebarModel} oldProp - specifies oldProp value.\n     * @returns {void}\n     * @private\n     *\n     */\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        var isRendered = this.isServerRendered;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    if (this.isOpen) {\n                        this.show();\n                    }\n                    else {\n                        this.hide();\n                    }\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    this.checkType(false);\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    addClass([this.element], this.type === 'Auto' ? (Browser.isDevice ? ['e-over'] :\n                        ['e-push']) : ['e-' + this.type.toLowerCase()]);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginRight' : 'marginLeft'] = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyleAttribute(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    this.isServerRendered = false;\n                    _super.prototype.refresh.call(this);\n                    this.isServerRendered = isRendered;\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto' && !(this.type === 'Over' && this.enableDock)) {\n                sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && (this.element.classList.contains(CLOSE) || this.isOpen)) {\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = this.setDimension(this.dockSize);\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                    }\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @returns {void}\n     *\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.target) {\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        if (this.element) {\n            removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n            removeClass([this.element], SIDEBARABSOLUTE);\n            this.element.style.width = '';\n            this.element.style.zIndex = '';\n            this.element.style.transform = '';\n            if (!isNullOrUndefined(this.sidebarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        this.windowWidth = null;\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate$9([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate$9([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate$9([\n        Property('en-US')\n    ], Sidebar.prototype, \"locale\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"enablePersistence\", void 0);\n    __decorate$9([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate$9([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate$9([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate$9([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate$9([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate$9([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate$9([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate$9([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate$9([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\n\n/**\n * Sidebar modules\n */\n\nvar __extends$10 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$10 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\nvar BreadcrumbItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$10(BreadcrumbItem, _super);\n    function BreadcrumbItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$10([\n        Property('')\n    ], BreadcrumbItem.prototype, \"text\", void 0);\n    __decorate$10([\n        Property('')\n    ], BreadcrumbItem.prototype, \"url\", void 0);\n    __decorate$10([\n        Property(null)\n    ], BreadcrumbItem.prototype, \"iconCss\", void 0);\n    __decorate$10([\n        Property(false)\n    ], BreadcrumbItem.prototype, \"disabled\", void 0);\n    return BreadcrumbItem;\n}(ChildProperty));\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\nvar Breadcrumb = /** @__PURE__ @class */ (function (_super) {\n    __extends$10(Breadcrumb, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function Breadcrumb(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.preRender = function () {\n        // pre render code\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.render = function () {\n        this.initialize();\n        this.renderItems(this.items);\n        this.wireEvents();\n    };\n    Breadcrumb.prototype.initialize = function () {\n        this._maxItems = this.maxItems;\n        this.element.setAttribute('aria-label', 'breadcrumb');\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        if (this.disabled) {\n            this.element.classList.add(DISABLEDCLASS);\n            this.element.setAttribute(ARIADISABLED, 'true');\n        }\n        if (this.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n        }\n        this.initItems();\n        this.initPvtProps();\n    };\n    Breadcrumb.prototype.initPvtProps = function () {\n        if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n            this.endIndex = this.getEndIndex();\n            this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n        }\n        if (this.overflowMode === 'Menu') {\n            if (this._maxItems >= 0) {\n                this.startIndex = this._maxItems > 1 ? 1 : 0;\n                this.endIndex = this.getEndIndex();\n                this.popupUl = this.createElement('ul', { attrs: { TABINDEX: '0', 'role': 'menu' } });\n            }\n            else {\n                this.startIndex = this.endIndex = null;\n            }\n        }\n    };\n    Breadcrumb.prototype.getEndIndex = function () {\n        var _this = this;\n        var endIndex;\n        if (this.activeItem) {\n            this.items.forEach(function (item, idx) {\n                if (item.url === _this.activeItem || item.text === _this.activeItem) {\n                    endIndex = idx;\n                }\n            });\n        }\n        else {\n            endIndex = this.items.length - 1;\n        }\n        return endIndex;\n    };\n    Breadcrumb.prototype.initItems = function () {\n        if (!this.items.length) {\n            var baseUri = void 0;\n            var uri = void 0;\n            var items = [];\n            if (this.url) {\n                var url = new URL(this.url, window.location.origin);\n                baseUri = url.origin + '/';\n                uri = url.href.split(baseUri)[1].split('/');\n            }\n            else {\n                baseUri = window.location.origin + '/';\n                uri = window.location.href.split(baseUri)[1].split('/');\n            }\n            items.push({ iconCss: 'e-icons e-home', url: baseUri });\n            for (var i = 0; i < uri.length; i++) {\n                if (uri[i]) {\n                    items.push({ text: uri[i], url: baseUri + uri[i] });\n                    baseUri += uri[i] + '/';\n                }\n            }\n            this.setProperties({ items: items }, true);\n        }\n    };\n    Breadcrumb.prototype.renderItems = function (items) {\n        var _this = this;\n        var item;\n        var isSingleLevel;\n        var isIconRight = this.element.classList.contains(ICONRIGHT);\n        var itemsLength = items.length;\n        if (itemsLength) {\n            var isActiveItem = void 0;\n            var isLastItem = void 0;\n            var isLastItemInPopup_1;\n            var j_1 = 0;\n            var wrapDiv = void 0;\n            var len = (itemsLength * 2) - 1;\n            var isItemCancelled_1 = false;\n            var ol = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : '' });\n            var firstOl = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : '' });\n            var showIcon = this.hasField(items, 'iconCss');\n            var isCollasped = (this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded);\n            var isDefaultOverflowMode_1 = (this.overflowMode === 'Hidden' && this._maxItems > 0);\n            if (this.overflowMode === 'Menu' && this.popupUl) {\n                this.popupUl.innerHTML = '';\n            }\n            var listBaseOptions = {\n                moduleName: this.getModuleName(),\n                showIcon: showIcon,\n                itemNavigable: true,\n                itemCreated: function (args) {\n                    var isLastItem = args.curData.isLastItem;\n                    if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n                        delete args.curData.isLastItem;\n                        if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n                            args.item.innerHTML = _this.createElement('span', { className: ITEMTEXTCLASS, innerHTML: args.item.children[0].innerHTML }).outerHTML;\n                        }\n                    }\n                    if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n                        args.item.classList.add('e-icon-item');\n                    }\n                    if (isDefaultOverflowMode_1) {\n                        args.item.setAttribute('item-index', j_1.toString());\n                    }\n                    var eventArgs = {\n                        item: extend({}, args.curData.properties ?\n                            args.curData.properties : args.curData), element: args.item, cancel: false\n                    };\n                    _this.trigger('beforeItemRender', eventArgs);\n                    isItemCancelled_1 = eventArgs.cancel;\n                    var containsRightIcon = (isIconRight || eventArgs.element.classList.contains(ICONRIGHT));\n                    if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n                        args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n                    }\n                    if (eventArgs.item.disabled) {\n                        args.item.setAttribute(ARIADISABLED, 'true');\n                        args.item.classList.add(DISABLEDCLASS);\n                    }\n                    if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n                        args.item.children[0].setAttribute(TABINDEX, '-1');\n                    }\n                    if (args.curData.isEmptyUrl) {\n                        args.item.children[0].removeAttribute('href');\n                        if ((!isLastItem || (isLastItem && _this.enableActiveItemNavigation)) && !(eventArgs.item.disabled || _this.disabled)) {\n                            args.item.children[0].setAttribute(TABINDEX, '0');\n                            EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n                        }\n                    }\n                    if (isLastItem) {\n                        args.item.setAttribute('data-active-item', '');\n                    }\n                    if (!_this.itemTemplate) {\n                        _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n                    }\n                }\n            };\n            for (var i = 0; i < len; i % 2 && j_1++, i++) {\n                isActiveItem = (this.activeItem && (this.activeItem === items[j_1].url || this.activeItem === items[j_1].text));\n                if (isCollasped && i > 1 && i < len - 2) {\n                    continue;\n                }\n                else if (isDefaultOverflowMode_1 && ((j_1 < this.startIndex || j_1 > this.endIndex)\n                    && (i % 2 ? j_1 !== this.startIndex - 1 : true)) && j_1 !== 0) {\n                    continue;\n                }\n                if (i % 2) {\n                    // separator item\n                    wrapDiv = this.createElement('div', { className: 'e-breadcrumb-item-wrapper' });\n                    listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n                    listBaseOptions.itemClass = 'e-breadcrumb-separator';\n                    isSingleLevel = false;\n                    item = [{ previousItem: items[j_1], nextItem: items[j_1 + 1] }];\n                }\n                else {\n                    // list item\n                    listBaseOptions.itemClass = '';\n                    if (this.itemTemplate) {\n                        listBaseOptions.template = this.itemTemplate;\n                        isSingleLevel = false;\n                    }\n                    else {\n                        isSingleLevel = true;\n                    }\n                    item = [extend({}, items[j_1].properties ? items[j_1].properties\n                            : items[j_1])];\n                    if (!item[0].url && !this.itemTemplate) {\n                        item = [extend({}, item[0], { isEmptyUrl: true, url: '#' })];\n                    }\n                    isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && (j_1 === this.endIndex);\n                    if (((i === len - 1 || isLastItem) && !this.itemTemplate) || isActiveItem) {\n                        item[0].isLastItem = true;\n                    }\n                }\n                var parent_1 = ol;\n                var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n                if (this.overflowMode === 'Menu' && ((j_1 >= this.startIndex && (j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true)) && this.endIndex >= this._maxItems && this._maxItems > 0) || this._maxItems === 0)) {\n                    if (i % 2) {\n                        continue;\n                    }\n                    else {\n                        parent_1 = this.popupUl;\n                        if (isLastItem) {\n                            isLastItemInPopup_1 = true;\n                        }\n                    }\n                }\n                else if (this.overflowMode === 'Wrap') {\n                    if (i === 0) {\n                        parent_1 = firstOl;\n                    }\n                    else {\n                        parent_1 = wrapDiv;\n                    }\n                }\n                var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n                if (!isItemCancelled_1) {\n                    append(li, parent_1);\n                }\n                else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n                    items.splice(j_1, 1);\n                    this.initPvtProps();\n                    return this.reRenderItems();\n                }\n                else if ((i === len - 1 || isLastItem)) {\n                    remove(parent_1.lastElementChild);\n                }\n                if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n                    ol.appendChild(wrapDiv);\n                }\n                if (isCollasped && i === 1) {\n                    var li_1 = this.createElement('li', { className: 'e-icons e-breadcrumb-collapsed', attrs: { TABINDEX: '0' } });\n                    EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n                    ol.appendChild(li_1);\n                }\n                if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n                    var menu = this.getMenuElement();\n                    EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n                    ol.appendChild(menu);\n                }\n                if (isActiveItem || isLastItem) {\n                    break;\n                }\n                if (isItemCancelled_1) {\n                    i++;\n                }\n            }\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            if (this.overflowMode === 'Wrap') {\n                this.element.appendChild(firstOl);\n            }\n            this.element.appendChild(ol);\n            this.calculateMaxItems();\n        }\n    };\n    Breadcrumb.prototype.calculateMaxItems = function () {\n        if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n            var maxItems = void 0;\n            var width = this.element.offsetWidth;\n            var liElems = [].slice.call(this.element.children[0].children).reverse();\n            var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n            if (this.overflowMode === 'Menu') {\n                var menuEle = this.getMenuElement();\n                this.element.appendChild(menuEle);\n                liWidth += menuEle.offsetWidth;\n                remove(menuEle);\n            }\n            for (var i = 0; i < liElems.length - 2; i++) {\n                if (liWidth > width) {\n                    maxItems = Math.ceil((i - 1) / 2) + ((this.overflowMode === 'Menu' && i <= 2) ? 0 : 1);\n                    if (((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems == -1)) || this.maxItems == -1) && this._maxItems != maxItems) {\n                        this._maxItems = maxItems;\n                        this.initPvtProps();\n                        return this.reRenderItems();\n                    }\n                    else {\n                        break;\n                    }\n                }\n                else {\n                    if (this.overflowMode === 'Menu' && i === 2) {\n                        liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n                        if (liWidth > width) {\n                            this._maxItems = 1;\n                            this.initPvtProps();\n                            return this.reRenderItems();\n                        }\n                    }\n                    if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n                        liWidth += liElems[i].offsetWidth;\n                    }\n                }\n            }\n        }\n        else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n            var width = 0;\n            var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n            if (liElems.length > this._maxItems + this._maxItems - 1) {\n                for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n                    width += liElems[i].offsetWidth;\n                }\n                width = width + 5 + (parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2);\n                if (this.overflowMode === 'Wrap') {\n                    this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n                }\n                else {\n                    this.element.style.width = width + 'px';\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Breadcrumb.prototype.getMenuElement = function () {\n        return this.createElement('li', { className: 'e-icons e-breadcrumb-menu', attrs: { TABINDEX: '0' } });\n    };\n    Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n        var wrapElem = elem.querySelector('.e-anchor-wrap');\n        if (currItem.text !== prevItem.text) {\n            wrapElem.childNodes.forEach(function (child) {\n                if (child.nodeType === Node.TEXT_NODE) {\n                    child.textContent = currItem.text;\n                }\n            });\n        }\n        if (currItem.iconCss !== prevItem.iconCss && wrapElem) { // wrapElem - for checking it is item not a separator\n            var iconElem = elem.querySelector(DOT + ICONCLASS);\n            if (iconElem) {\n                if (currItem.iconCss) {\n                    removeClass([iconElem], prevItem.iconCss.split(' '));\n                    addClass([iconElem], currItem.iconCss.split(' '));\n                }\n                else {\n                    remove(iconElem);\n                }\n            }\n            else if (currItem.iconCss) {\n                var iconElem_1 = this.createElement('span', { className: ICONCLASS + ' ' + currItem.iconCss });\n                if (isRightIcon) {\n                    append([iconElem_1], wrapElem);\n                }\n                else {\n                    wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n                }\n            }\n        }\n        if (currItem.url !== prevItem.url && this.enableNavigation) {\n            var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n            if (anchor) {\n                if (currItem.url) {\n                    anchor.setAttribute('href', currItem.url);\n                }\n                else {\n                    anchor.removeAttribute('href');\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.reRenderItems = function () {\n        this.element.innerHTML = '';\n        this.renderItems(this.items);\n    };\n    Breadcrumb.prototype.clickHandler = function (e) {\n        var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n        if (!this.enableNavigation) {\n            e.preventDefault();\n        }\n        if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n            var idx = void 0;\n            if (this.overflowMode === 'Wrap') {\n                idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n            }\n            else {\n                idx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (this.overflowMode === 'Menu') {\n                if (closest(e.target, DOT + POPUPCLASS)) {\n                    idx += this.startIndex;\n                    this.endIndex = idx;\n                    if (e.type === 'keydown') {\n                        this.documentClickHandler(e);\n                    }\n                }\n                else if (this.element.querySelector(DOT + MENUCLASS)) {\n                    if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n                        idx += (this.popupUl.childElementCount * 2) - 2;\n                        idx = Math.floor(idx / 2);\n                        this.endIndex = idx;\n                    }\n                    else {\n                        this.startIndex = this.endIndex = idx;\n                    }\n                }\n                else {\n                    idx = Math.floor(idx / 2);\n                    this.startIndex = this.endIndex = idx;\n                }\n            }\n            else {\n                idx = Math.floor(idx / 2);\n            }\n            if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n                idx = parseInt(li.getAttribute('item-index'), 10);\n                if (this.startIndex > 1) {\n                    this.startIndex -= (this.endIndex - idx);\n                }\n                this.endIndex = idx;\n            }\n            this.trigger('itemClick', { element: li, item: this.items[idx], event: e });\n            this.activeItem = this.items[idx].url || this.items[idx].text;\n            this.dataBind();\n        }\n        if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n        if (e.target.classList.contains(MENUCLASS)) {\n            this.renderPopup();\n        }\n    };\n    Breadcrumb.prototype.renderPopup = function () {\n        var _this = this;\n        var wrapper = this.createElement('div', { className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '') });\n        document.body.appendChild(wrapper);\n        this.popupObj = new Popup(wrapper, {\n            content: this.popupUl,\n            relateTo: this.element.querySelector(DOT + MENUCLASS),\n            enableRtl: this.enableRtl,\n            position: { X: 'left', Y: 'bottom' },\n            collision: { X: 'fit', Y: 'flip' },\n            open: function () {\n                _this.popupUl.focus();\n            }\n        });\n        this.popupWireEvents();\n        this.popupObj.show();\n    };\n    Breadcrumb.prototype.documentClickHandler = function (e) {\n        if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n            this.popupObj.hide();\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    Breadcrumb.prototype.resize = function () {\n        this._maxItems = this.maxItems;\n        this.initPvtProps();\n        this.reRenderItems();\n    };\n    Breadcrumb.prototype.expandHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n    };\n    Breadcrumb.prototype.keyDownHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.clickHandler(e);\n        }\n    };\n    Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n        if (e.key === 'Escape') {\n            this.documentClickHandler(e);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {BreadcrumbModel} newProp - Specifies the new properties.\n     * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                case 'enableActiveItemNavigation':\n                    this.reRenderItems();\n                    break;\n                case 'activeItem':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    break;\n                case 'overflowMode':\n                case 'maxItems':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    if (oldProp.overflowMode === 'Wrap') {\n                        this.element.classList.remove(WRAPMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Wrap') {\n                        this.element.classList.add(WRAPMODECLASS);\n                    }\n                    if (oldProp.overflowMode === 'Scroll') {\n                        this.element.classList.remove(SCROLLMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Scroll') {\n                        this.element.classList.add(SCROLLMODECLASS);\n                    }\n                    break;\n                case 'url':\n                    this.initItems();\n                    this.reRenderItems();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    if ((oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && !(newProp.cssClass &&\n                        newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) &&\n                        (newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1)) {\n                        this.reRenderItems();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle('e-rtl');\n                    break;\n                case 'disabled':\n                    this.element.classList.toggle(DISABLEDCLASS);\n                    this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n                    break;\n            }\n        }\n    };\n    Breadcrumb.prototype.wireEvents = function () {\n        this.delegateClickHanlder = this.documentClickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Breadcrumb.prototype.popupWireEvents = function () {\n        EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n    };\n    Breadcrumb.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'click', this.delegateClickHanlder);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        window.removeEventListener('resize', this.resize.bind(this));\n        if (this.popupObj) {\n            EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n            EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Breadcrumb.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeItem']);\n    };\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    Breadcrumb.prototype.getModuleName = function () {\n        return 'breadcrumb';\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Breadcrumb.prototype.destroy = function () {\n        var _this = this;\n        var classes = [];\n        var attributes$$1 = ['aria-label'];\n        if (this.cssClass) {\n            classes.concat(this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            classes.push('e-rtl');\n        }\n        if (this.disabled) {\n            classes.push(DISABLEDCLASS);\n            attributes$$1.push(ARIADISABLED);\n        }\n        if (this.overflowMode === 'Wrap') {\n            classes.push(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            classes.push(SCROLLMODECLASS);\n        }\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        removeClass([this.element], classes);\n        attributes$$1.forEach(function (attribute) {\n            _this.element.removeAttribute(attribute);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"url\", void 0);\n    __decorate$10([\n        Collection([], BreadcrumbItem)\n    ], Breadcrumb.prototype, \"items\", void 0);\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"activeItem\", void 0);\n    __decorate$10([\n        Property(-1)\n    ], Breadcrumb.prototype, \"maxItems\", void 0);\n    __decorate$10([\n        Property('Menu')\n    ], Breadcrumb.prototype, \"overflowMode\", void 0);\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"cssClass\", void 0);\n    __decorate$10([\n        Property(null)\n    ], Breadcrumb.prototype, \"itemTemplate\", void 0);\n    __decorate$10([\n        Property('/')\n    ], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n    __decorate$10([\n        Property(true)\n    ], Breadcrumb.prototype, \"enableNavigation\", void 0);\n    __decorate$10([\n        Property(false)\n    ], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n    __decorate$10([\n        Property(false)\n    ], Breadcrumb.prototype, \"disabled\", void 0);\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"locale\", void 0);\n    __decorate$10([\n        Event()\n    ], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n    __decorate$10([\n        Event()\n    ], Breadcrumb.prototype, \"itemClick\", void 0);\n    __decorate$10([\n        Event()\n    ], Breadcrumb.prototype, \"created\", void 0);\n    Breadcrumb = __decorate$10([\n        NotifyPropertyChanges\n    ], Breadcrumb);\n    return Breadcrumb;\n}(Component));\n\n/**\n * Breadcrumb modules\n */\n\nvar __extends$11 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$11 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Constant variables\nvar CLS_CAROUSEL = 'e-carousel';\nvar CLS_ACTIVE$2 = 'e-active';\nvar CLS_RTL$5 = 'e-rtl';\nvar CLS_PARTIAL = 'e-partial';\nvar CLS_SLIDE_CONTAINER = 'e-carousel-slide-container';\nvar CLS_ITEMS$2 = 'e-carousel-items';\nvar CLS_CLONED = 'e-cloned';\nvar CLS_ITEM$3 = 'e-carousel-item';\nvar CLS_PREVIOUS = 'e-previous';\nvar CLS_NEXT = 'e-next';\nvar CLS_PREV_ICON = 'e-previous-icon';\nvar CLS_NEXT_ICON = 'e-next-icon';\nvar CLS_NAVIGATORS = 'e-carousel-navigators';\nvar CLS_INDICATORS = 'e-carousel-indicators';\nvar CLS_INDICATOR_BARS = 'e-indicator-bars';\nvar CLS_INDICATOR_BAR = 'e-indicator-bar';\nvar CLS_INDICATOR$1 = 'e-indicator';\nvar CLS_ICON$1 = 'e-icons';\nvar CLS_PLAY_PAUSE = 'e-play-pause';\nvar CLS_PLAY_ICON = 'e-play-icon';\nvar CLS_PAUSE_ICON = 'e-pause-icon';\nvar CLS_PREV_BUTTON = 'e-previous-button';\nvar CLS_NEXT_BUTTON = 'e-next-button';\nvar CLS_PLAY_BUTTON = 'e-play-button';\nvar CLS_FLAT = 'e-flat';\nvar CLS_ROUND = 'e-round';\nvar CLS_HOVER_ARROWS = 'e-hover-arrows';\nvar CLS_HOVER = 'e-carousel-hover';\nvar CLS_TEMPLATE$2 = 'e-template';\nvar CLS_SLIDE_ANIMATION = 'e-carousel-slide-animation';\nvar CLS_FADE_ANIMATION = 'e-carousel-fade-animation';\nvar CLS_CUSTOM_ANIMATION = 'e-carousel-custom-animation';\nvar CLS_ANIMATION_NONE = 'e-carousel-animation-none';\nvar CLS_PREV_SLIDE = 'e-prev';\nvar CLS_NEXT_SLIDE = 'e-next';\nvar CLS_TRANSITION_START = 'e-transition-start';\nvar CLS_TRANSITION_END = 'e-transition-end';\n/** Specifies the carousel individual item. */\nvar CarouselItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$11(CarouselItem, _super);\n    function CarouselItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"cssClass\", void 0);\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"interval\", void 0);\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"template\", void 0);\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"htmlAttributes\", void 0);\n    return CarouselItem;\n}(ChildProperty));\nvar Carousel = /** @__PURE__ @class */ (function (_super) {\n    __extends$11(Carousel, _super);\n    /**\n     * Constructor for creating the Carousel widget\n     *\n     * @param {CarouselModel} options Accepts the carousel model properties to initiate the rendering\n     * @param {string | HTMLElement} element Accepts the DOM element reference\n     */\n    function Carousel(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Carousel.prototype.getModuleName = function () {\n        return CLS_CAROUSEL.replace('e-', '');\n    };\n    Carousel.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedIndex']);\n    };\n    Carousel.prototype.preRender = function () {\n        this.keyConfigs = {\n            home: 'home',\n            end: 'end',\n            space: 'space',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        var defaultLocale = {\n            nextSlide: 'Next slide',\n            of: 'of',\n            pauseSlideTransition: 'Pause slide transition',\n            playSlideTransition: 'Play slide transition',\n            previousSlide: 'Previous slide',\n            slide: 'Slide',\n            slideShow: 'Slide show'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n    };\n    Carousel.prototype.render = function () {\n        this.initialize();\n        this.renderSlides();\n        this.renderNavigators();\n        this.renderPlayButton();\n        this.renderIndicators();\n        this.applyAnimation();\n        this.wireEvents();\n    };\n    Carousel.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var target;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'animationEffect':\n                    this.applyAnimation();\n                    break;\n                case 'cssClass':\n                    classList(this.element, [newProp.cssClass], [oldProp.cssClass]);\n                    break;\n                case 'selectedIndex':\n                    this.setActiveSlide(this.selectedIndex, oldProp.selectedIndex > this.selectedIndex ? 'Previous' : 'Next');\n                    this.autoSlide();\n                    break;\n                case 'htmlAttributes':\n                    if (!isNullOrUndefined(this.htmlAttributes)) {\n                        this.setHtmlAttributes(this.htmlAttributes, this.element);\n                    }\n                    break;\n                case 'enableTouchSwipe':\n                    if (!this.enableTouchSwipe && this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    if (this.element.querySelector(\".\" + CLS_ITEMS$2)) {\n                        this.renderTouchActions();\n                    }\n                    break;\n                case 'loop':\n                    if (this.loop && isNullOrUndefined(this.autoSlideInterval)) {\n                        this.applySlideInterval();\n                    }\n                    this.handleNavigatorsActions(this.selectedIndex);\n                    if (this.partialVisible) {\n                        this.reRenderSlides();\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.enableRtl) {\n                        addClass([this.element], CLS_RTL$5);\n                    }\n                    else {\n                        removeClass([this.element], CLS_RTL$5);\n                    }\n                    break;\n                case 'buttonsVisibility':\n                    target = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n                    if (target) {\n                        switch (this.buttonsVisibility) {\n                            case 'Hidden':\n                                this.resetTemplates(['previousButtonTemplate', 'nextButtonTemplate']);\n                                remove(target);\n                                break;\n                            case 'VisibleOnHover':\n                                addClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                                break;\n                            case 'Visible':\n                                removeClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                                break;\n                        }\n                    }\n                    else {\n                        this.renderNavigators();\n                        this.renderPlayButton();\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(this.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(this.height) });\n                    break;\n                case 'autoPlay':\n                    if (this.showPlayButton && isNullOrUndefined(this.playButtonTemplate)) {\n                        this.playButtonClickHandler(null, true);\n                    }\n                    this.autoSlide();\n                    break;\n                case 'interval':\n                    this.autoSlide();\n                    break;\n                case 'showIndicators':\n                    target = this.element.querySelector(\".\" + CLS_INDICATORS);\n                    if (!this.showIndicators && target) {\n                        this.resetTemplates(['indicatorsTemplate']);\n                        remove(target);\n                    }\n                    this.renderIndicators();\n                    break;\n                case 'showPlayButton':\n                    target = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n                    if (!this.showPlayButton && target) {\n                        remove(target);\n                        this.resetTemplates(['playButtonTemplate']);\n                    }\n                    this.renderPlayButton();\n                    break;\n                case 'items':\n                case 'dataSource':\n                    this.reRenderSlides();\n                    break;\n                case 'partialVisible':\n                    if (this.partialVisible) {\n                        addClass([this.element], CLS_PARTIAL);\n                    }\n                    else {\n                        removeClass([this.element], CLS_PARTIAL);\n                    }\n                    this.reRenderSlides();\n                    break;\n            }\n        }\n    };\n    Carousel.prototype.reRenderSlides = function () {\n        var target = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        if (target) {\n            this.resetTemplates(['itemTemplate']);\n            remove(target);\n        }\n        this.renderSlides();\n    };\n    Carousel.prototype.initialize = function () {\n        var carouselClasses = [];\n        if (this.cssClass) {\n            carouselClasses.push(this.cssClass);\n        }\n        if (this.enableRtl) {\n            carouselClasses.push(CLS_RTL$5);\n        }\n        if (this.partialVisible) {\n            carouselClasses.push(CLS_PARTIAL);\n        }\n        addClass([this.element], carouselClasses);\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        attributes(this.element, { 'tabindex': '0', 'aria-roledescription': 'carousel', 'aria-label': this.localeObj.getConstant('slideShow') });\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n        }\n    };\n    Carousel.prototype.renderSlides = function () {\n        var _this = this;\n        var slideContainer = this.element.querySelector('.' + CLS_SLIDE_CONTAINER);\n        if (!slideContainer) {\n            slideContainer = this.createElement('div', { className: CLS_SLIDE_CONTAINER });\n            this.element.appendChild(slideContainer);\n        }\n        var itemsContainer = this.createElement('div', { className: CLS_ITEMS$2, attrs: { 'aria-live': this.autoPlay ? 'off' : 'polite' } });\n        slideContainer.appendChild(itemsContainer);\n        if (this.partialVisible && this.loop) {\n            if (this.items.length > 0) {\n                this.items.slice(-2).forEach(function (item, index) {\n                    _this.renderSlide(item, item.template, index, itemsContainer, true);\n                });\n            }\n            else if (this.dataSource.length > 0) {\n                this.dataSource.slice(-2).forEach(function (item, index) {\n                    _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n                });\n            }\n        }\n        if (this.items.length > 0) {\n            this.slideItems = this.items;\n            this.items.forEach(function (item, index) {\n                _this.renderSlide(item, item.template, index, itemsContainer);\n            });\n        }\n        else if (this.dataSource.length > 0) {\n            this.slideItems = this.dataSource;\n            this.dataSource.forEach(function (item, index) {\n                _this.renderSlide(item, _this.itemTemplate, index, itemsContainer);\n            });\n        }\n        if (this.partialVisible && this.loop) {\n            if (this.items.length > 0) {\n                this.items.slice(0, 2).forEach(function (item, index) {\n                    _this.renderSlide(item, item.template, index, itemsContainer, true);\n                });\n            }\n            else if (this.dataSource.length > 0) {\n                this.dataSource.slice(0, 2).forEach(function (item, index) {\n                    _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n                });\n            }\n        }\n        this.renderTemplates();\n        if (this.partialVisible) {\n            itemsContainer.style.setProperty('--carousel-items-count', \"\" + itemsContainer.children.length);\n            var slideWidth = itemsContainer.firstElementChild.clientWidth;\n            var cloneCount = this.loop ? 2 : 0;\n            itemsContainer.style.transitionProperty = 'none';\n            itemsContainer.style.transform = \"translateX(\" + -(slideWidth) * (this.selectedIndex + cloneCount) + \"px)\";\n        }\n        this.autoSlide();\n        this.renderTouchActions();\n        this.renderKeyboardActions();\n    };\n    Carousel.prototype.renderSlide = function (item, itemTemplate, index, container, isClone) {\n        if (isClone === void 0) { isClone = false; }\n        var itemEle = this.createElement('div', {\n            id: getUniqueID('carousel_item'),\n            className: CLS_ITEM$3 + \" \" + (item.cssClass ? item.cssClass : '') + \" \" + (this.selectedIndex === index && !isClone ? CLS_ACTIVE$2 : ''),\n            attrs: {\n                'aria-hidden': this.selectedIndex === index && !isClone ? 'false' : 'true', 'data-index': index.toString(),\n                'aria-role': 'group', 'aria-roledescription': 'slide'\n            }\n        });\n        if (isClone) {\n            itemEle.classList.add(CLS_CLONED);\n        }\n        if (!isNullOrUndefined(item.htmlAttributes)) {\n            this.setHtmlAttributes(item.htmlAttributes, itemEle);\n        }\n        var templateId = this.element.id + '_template';\n        var template = this.templateParser(itemTemplate)(item, this, 'itemTemplate', templateId, false);\n        append(template, itemEle);\n        container.appendChild(itemEle);\n    };\n    Carousel.prototype.renderNavigators = function () {\n        if (this.buttonsVisibility === 'Hidden') {\n            return;\n        }\n        var navigators = this.createElement('div', { className: CLS_NAVIGATORS });\n        var itemsContainer = this.element.querySelector(\".\" + CLS_SLIDE_CONTAINER);\n        itemsContainer.insertAdjacentElement('afterend', navigators);\n        this.renderNavigatorButton('Previous');\n        this.renderNavigatorButton('Next');\n        this.renderTemplates();\n    };\n    Carousel.prototype.renderNavigatorButton = function (direction) {\n        var buttonContainer = this.createElement('div', {\n            className: (direction === 'Previous' ? CLS_PREVIOUS : CLS_NEXT) + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n        });\n        if (direction === 'Previous' && this.previousButtonTemplate) {\n            addClass([buttonContainer], CLS_TEMPLATE$2);\n            var templateId = this.element.id + '_previousButtonTemplate';\n            var template = this.templateParser(this.previousButtonTemplate)({ type: 'Previous' }, this, 'previousButtonTemplate', templateId, false);\n            append(template, buttonContainer);\n        }\n        else if (direction === 'Next' && this.nextButtonTemplate) {\n            addClass([buttonContainer], CLS_TEMPLATE$2);\n            var templateId = this.element.id + '_nextButtonTemplate';\n            var template = this.templateParser(this.nextButtonTemplate)({ type: 'Next' }, this, 'nextButtonTemplate', templateId, false);\n            append(template, buttonContainer);\n        }\n        else {\n            var button = this.createElement('button', {\n                attrs: { 'aria-label': this.localeObj.getConstant(direction === 'Previous' ? 'previousSlide' : 'nextSlide') }\n            });\n            var buttonObj = new Button({\n                cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + (direction === 'Previous' ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON),\n                iconCss: CLS_ICON$1 + ' ' + (direction === 'Previous' ? CLS_PREV_ICON : CLS_NEXT_ICON),\n                enableRtl: this.enableRtl,\n                disabled: !this.loop && this.selectedIndex === (direction === 'Previous' ? 0 : this.slideItems.length - 1)\n            });\n            buttonObj.appendTo(button);\n            buttonContainer.appendChild(button);\n        }\n        this.element.querySelector('.' + CLS_NAVIGATORS).appendChild(buttonContainer);\n        EventHandler.add(buttonContainer, 'click', this.navigatorClickHandler, this);\n    };\n    Carousel.prototype.renderPlayButton = function () {\n        if (this.buttonsVisibility === 'Hidden' || !this.showPlayButton) {\n            return;\n        }\n        var playPauseWrap = this.createElement('div', {\n            className: CLS_PLAY_PAUSE + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n        });\n        if (this.playButtonTemplate) {\n            addClass([playPauseWrap], CLS_TEMPLATE$2);\n            var templateId = this.element.id + '_playButtonTemplate';\n            var template = this.templateParser(this.playButtonTemplate)({}, this, 'playButtonTemplate', templateId, false);\n            append(template, playPauseWrap);\n        }\n        else {\n            var playButton = this.createElement('button', {\n                attrs: { 'aria-label': this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition') }\n            });\n            var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n            var buttonObj = new Button({\n                cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + CLS_PLAY_BUTTON,\n                iconCss: CLS_ICON$1 + ' ' + (this.autoPlay && !isLastSlide ? CLS_PAUSE_ICON : CLS_PLAY_ICON),\n                isToggle: true,\n                enableRtl: this.enableRtl\n            });\n            if (isLastSlide) {\n                this.setProperties({ autoPlay: false }, true);\n                playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n                var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n                itemsContainer.setAttribute('aria-live', 'polite');\n            }\n            buttonObj.appendTo(playButton);\n            playPauseWrap.appendChild(playButton);\n        }\n        var navigators = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n        navigators.insertBefore(playPauseWrap, navigators.lastElementChild);\n        this.renderTemplates();\n        EventHandler.add(playPauseWrap, 'click', this.playButtonClickHandler, this);\n    };\n    Carousel.prototype.renderIndicators = function () {\n        var _this = this;\n        if (!this.showIndicators) {\n            return;\n        }\n        var indicatorWrap = this.createElement('div', { className: CLS_INDICATORS });\n        var indicatorBars = this.createElement('div', { className: CLS_INDICATOR_BARS });\n        indicatorWrap.appendChild(indicatorBars);\n        if (this.slideItems) {\n            this.slideItems.forEach(function (item, index) {\n                var indicatorBar = _this.createElement('div', {\n                    className: CLS_INDICATOR_BAR + ' ' + (_this.selectedIndex === index ? CLS_ACTIVE$2 : ''),\n                    attrs: { 'data-index': index.toString(), 'aria-current': _this.selectedIndex === index ? 'true' : 'false' }\n                });\n                if (_this.indicatorsTemplate) {\n                    addClass([indicatorBar], CLS_TEMPLATE$2);\n                    var templateId = _this.element.id + '_indicatorsTemplate';\n                    var template = _this.templateParser(_this.indicatorsTemplate)({ index: index, selectedIndex: _this.selectedIndex }, _this, 'indicatorsTemplate', templateId, false);\n                    append(template, indicatorBar);\n                }\n                else {\n                    var indicator = _this.createElement('button', { className: CLS_INDICATOR$1 });\n                    indicatorBar.appendChild(indicator);\n                    indicator.appendChild(_this.createElement('div', {\n                        attrs: {\n                            'aria-label': _this.localeObj.getConstant('slide') + ' ' + (index + 1) + ' ' + _this.localeObj.getConstant('of') + ' ' + _this.slideItems.length\n                        }\n                    }));\n                    var buttonObj = new Button({ cssClass: 'e-flat e-small' });\n                    buttonObj.appendTo(indicator);\n                }\n                indicatorBars.appendChild(indicatorBar);\n                EventHandler.add(indicatorBar, 'click', _this.indicatorClickHandler, _this);\n            });\n        }\n        this.element.appendChild(indicatorWrap);\n    };\n    Carousel.prototype.renderKeyboardActions = function () {\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n    };\n    Carousel.prototype.renderTouchActions = function () {\n        if (!this.enableTouchSwipe) {\n            return;\n        }\n        this.touchModule = new Touch(this.element, { swipe: this.swipeHandler.bind(this) });\n    };\n    Carousel.prototype.applyAnimation = function () {\n        removeClass([this.element], [CLS_CUSTOM_ANIMATION, CLS_FADE_ANIMATION, CLS_SLIDE_ANIMATION, CLS_ANIMATION_NONE]);\n        switch (this.animationEffect) {\n            case 'Slide':\n                addClass([this.element], CLS_SLIDE_ANIMATION);\n                break;\n            case 'Fade':\n                addClass([this.element], CLS_FADE_ANIMATION);\n                break;\n            case 'None':\n                addClass([this.element], CLS_ANIMATION_NONE);\n                break;\n            case 'Custom':\n                addClass([this.element], CLS_CUSTOM_ANIMATION);\n                break;\n        }\n    };\n    Carousel.prototype.autoSlide = function () {\n        this.resetSlideInterval();\n        this.applySlideInterval();\n    };\n    Carousel.prototype.autoSlideChange = function () {\n        var activeSlide = this.element.querySelector(\".\" + CLS_ACTIVE$2);\n        if (isNullOrUndefined(activeSlide)) {\n            return;\n        }\n        var activeIndex = parseInt(activeSlide.dataset.index, 10);\n        if (!this.loop && activeIndex === this.slideItems.length - 1) {\n            this.resetSlideInterval();\n        }\n        else {\n            var index = (activeIndex + 1) % this.slideItems.length;\n            if (!this.element.classList.contains(CLS_HOVER)) {\n                this.setActiveSlide(index, 'Next');\n            }\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.applySlideInterval = function () {\n        var _this = this;\n        if (!this.autoPlay || this.element.classList.contains(CLS_HOVER)) {\n            return;\n        }\n        var itemInterval = this.interval;\n        if (this.items.length > 0 && !isNullOrUndefined(this.items[this.selectedIndex].interval)) {\n            itemInterval = this.items[this.selectedIndex].interval;\n        }\n        this.autoSlideInterval = setInterval(function () { return _this.autoSlideChange(); }, itemInterval);\n    };\n    Carousel.prototype.resetSlideInterval = function () {\n        clearInterval(this.autoSlideInterval);\n        this.autoSlideInterval = null;\n    };\n    Carousel.prototype.getSlideIndex = function (direction) {\n        var currentIndex = this.selectedIndex;\n        if (direction === 'Previous') {\n            currentIndex--;\n            if (currentIndex < 0) {\n                currentIndex = this.slideItems.length - 1;\n            }\n        }\n        else {\n            currentIndex++;\n            if (currentIndex === this.slideItems.length) {\n                currentIndex = 0;\n            }\n        }\n        return currentIndex;\n    };\n    Carousel.prototype.setActiveSlide = function (currentIndex, direction, isSwiped) {\n        var _this = this;\n        if (isSwiped === void 0) { isSwiped = false; }\n        if (this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \".\" + CLS_PREV_SLIDE + \",.\" + CLS_ITEM$3 + \".\" + CLS_NEXT_SLIDE).length > 0) {\n            return;\n        }\n        var allSlides = [].slice.call(this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \":not(.e-cloned)\"));\n        var activeSlide = this.element.querySelector(\".\" + CLS_ITEM$3 + \".\" + CLS_ACTIVE$2);\n        if (isNullOrUndefined(activeSlide) && this.showIndicators) {\n            var activeIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BAR + \".\" + CLS_ACTIVE$2);\n            var activeIndex_1 = parseInt(activeIndicator.dataset.index, 10);\n            addClass([allSlides[activeIndex_1]], CLS_ACTIVE$2);\n            return;\n        }\n        else if (isNullOrUndefined(activeSlide)) {\n            addClass([allSlides[currentIndex]], CLS_ACTIVE$2);\n            return;\n        }\n        var activeIndex = parseInt(activeSlide.dataset.index, 10);\n        var currentSlide = allSlides[currentIndex];\n        var eventArgs = {\n            currentIndex: activeIndex,\n            nextIndex: currentIndex,\n            currentSlide: activeSlide,\n            nextSlide: currentSlide,\n            slideDirection: direction,\n            isSwiped: isSwiped,\n            cancel: false\n        };\n        this.trigger('slideChanging', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ selectedIndex: currentIndex }, true);\n            attributes(args.currentSlide, { 'aria-hidden': 'true' });\n            attributes(args.nextSlide, { 'aria-hidden': 'false' });\n            var slideIndicators = [].slice.call(_this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n            if (slideIndicators.length > 0) {\n                attributes(slideIndicators[activeIndex], { 'aria-current': 'false' });\n                attributes(slideIndicators[currentIndex], { 'aria-current': 'true' });\n                removeClass(slideIndicators, CLS_ACTIVE$2);\n                addClass([slideIndicators[currentIndex]], CLS_ACTIVE$2);\n            }\n            _this.slideChangedEventArgs = {\n                currentIndex: args.nextIndex,\n                previousIndex: args.currentIndex,\n                currentSlide: args.nextSlide,\n                previousSlide: args.currentSlide,\n                slideDirection: direction,\n                isSwiped: isSwiped\n            };\n            if (_this.partialVisible) {\n                var container = _this.element.querySelector('.' + CLS_ITEMS$2);\n                var slideWidth = allSlides[currentIndex].clientWidth;\n                container.style.transitionProperty = 'transform';\n                if (_this.loop) {\n                    if (_this.slideChangedEventArgs.currentIndex === 0 && _this.slideChangedEventArgs.slideDirection === 'Next') {\n                        container.style.transform = \"translateX(\" + -(slideWidth) * (allSlides.length + 2) + \"px)\";\n                    }\n                    else if (_this.slideChangedEventArgs.currentIndex === _this.slideItems.length - 1 && _this.slideChangedEventArgs.slideDirection === 'Previous') {\n                        container.style.transform = \"translateX(\" + -(slideWidth) + \"px)\";\n                    }\n                    else {\n                        container.style.transform = \"translateX(\" + -(slideWidth) * (currentIndex + 2) + \"px)\";\n                    }\n                }\n                else {\n                    container.style.transform = \"translateX(\" + -(slideWidth) * (currentIndex) + \"px)\";\n                }\n            }\n            var slideHeight;\n            if (_this.animationEffect === 'Slide') {\n                if (direction === 'Previous') {\n                    addClass([args.nextSlide], CLS_PREV_SLIDE);\n                    slideHeight = args.nextSlide.offsetHeight;\n                    addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_END);\n                }\n                else {\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    slideHeight = args.nextSlide.offsetHeight;\n                    addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_START);\n                }\n            }\n            else if (_this.animationEffect === 'Fade') {\n                removeClass([args.currentSlide], CLS_ACTIVE$2);\n                addClass([args.nextSlide], CLS_ACTIVE$2);\n            }\n            else if (_this.animationEffect === 'Custom') {\n                if (direction === 'Previous') {\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                    addClass([args.currentSlide], CLS_PREV_SLIDE);\n                }\n                else {\n                    addClass([args.currentSlide], CLS_PREV_SLIDE);\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                }\n            }\n            else {\n                _this.onTransitionEnd();\n            }\n            _this.handleNavigatorsActions(currentIndex);\n        });\n    };\n    Carousel.prototype.onTransitionEnd = function () {\n        var _this = this;\n        if (this.slideChangedEventArgs) {\n            if (this.partialVisible && this.loop && (this.slideChangedEventArgs.currentIndex === 0 && this.slideChangedEventArgs.slideDirection === 'Next' ||\n                this.slideChangedEventArgs.currentIndex === this.slideItems.length - 1 && this.slideChangedEventArgs.slideDirection === 'Previous')) {\n                var container = this.element.querySelector('.' + CLS_ITEMS$2);\n                var slideWidth = this.slideChangedEventArgs.currentSlide.clientWidth;\n                container.style.transitionProperty = 'none';\n                container.style.transform = \"translate(\" + -(slideWidth) * (this.slideChangedEventArgs.currentIndex + 2) + \"px)\";\n            }\n            addClass([this.slideChangedEventArgs.currentSlide], CLS_ACTIVE$2);\n            removeClass([this.slideChangedEventArgs.previousSlide], CLS_ACTIVE$2);\n            this.trigger('slideChanged', this.slideChangedEventArgs, function () {\n                removeClass(_this.element.querySelectorAll(\".\" + CLS_ITEM$3), [CLS_PREV_SLIDE, CLS_NEXT_SLIDE, CLS_TRANSITION_START, CLS_TRANSITION_END]);\n                _this.slideChangedEventArgs = null;\n            });\n        }\n    };\n    Carousel.prototype.setHtmlAttributes = function (attribute, element) {\n        var keys = Object.keys(attribute);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (key === 'class') {\n                addClass([element], attribute[key]);\n            }\n            else {\n                element.setAttribute(key, attribute[key]);\n            }\n        }\n    };\n    Carousel.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    Carousel.prototype.getNavigatorState = function (target, isPrevious) {\n        var button = target.querySelector(\".\" + (isPrevious ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON));\n        if (button) {\n            var buttonObj = getInstance(button, Button);\n            return buttonObj.disabled;\n        }\n        return false;\n    };\n    Carousel.prototype.navigatorClickHandler = function (e) {\n        var target = e.currentTarget;\n        var isDisabled = this.getNavigatorState(target, target.classList.contains(CLS_PREVIOUS));\n        if (isDisabled) {\n            return;\n        }\n        var direction = target.classList.contains(CLS_PREVIOUS) ? 'Previous' : 'Next';\n        this.setActiveSlide(this.getSlideIndex(direction), direction);\n        this.autoSlide();\n    };\n    Carousel.prototype.indicatorClickHandler = function (e) {\n        var target = closest(e.target, \".\" + CLS_INDICATOR_BAR);\n        var index = parseInt(target.dataset.index, 10);\n        if (this.selectedIndex !== index) {\n            this.setActiveSlide(index, this.selectedIndex > index ? 'Previous' : 'Next');\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.playButtonClickHandler = function (e, isPropertyChange) {\n        if (isPropertyChange === void 0) { isPropertyChange = false; }\n        var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n        if (playButton) {\n            var buttonObj = getInstance(playButton, Button);\n            if (!isPropertyChange) {\n                this.setProperties({ autoPlay: !this.autoPlay }, true);\n            }\n            playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n            buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n            buttonObj.dataBind();\n            var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n            itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n            if (this.autoPlay && !this.loop && this.selectedIndex === this.slideItems.length - 1) {\n                this.setActiveSlide(0, 'Next');\n            }\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.keyHandler = function (e) {\n        var direction;\n        var slideIndex;\n        var isSlideTransition = false;\n        var target = e.target;\n        e.preventDefault();\n        switch (e.action) {\n            case 'space':\n                if (this.showIndicators && target.classList.contains(CLS_INDICATOR$1)) {\n                    target.click();\n                }\n                else if (target.classList.contains(CLS_CAROUSEL) || target.classList.contains(CLS_PLAY_BUTTON)) {\n                    this.playButtonClickHandler(e);\n                }\n                else if (target.classList.contains(CLS_NEXT_BUTTON)) {\n                    this.next();\n                }\n                else if (target.classList.contains(CLS_PREV_BUTTON)) {\n                    this.prev();\n                }\n                break;\n            case 'end':\n                slideIndex = this.slideItems.length - 1;\n                direction = 'Next';\n                isSlideTransition = true;\n                break;\n            case 'home':\n                slideIndex = 0;\n                direction = 'Previous';\n                isSlideTransition = true;\n                break;\n            case 'moveUp':\n            case 'moveLeft':\n            case 'moveDown':\n            case 'moveRight':\n                if (this.showIndicators && isNullOrUndefined(this.indicatorsTemplate)) {\n                    this.element.focus();\n                }\n                direction = (e.action === 'moveUp' || e.action === 'moveLeft') ? 'Previous' : 'Next';\n                slideIndex = this.getSlideIndex(direction);\n                isSlideTransition = !this.isSuspendSlideTransition(slideIndex, direction);\n                break;\n        }\n        if (isSlideTransition) {\n            this.setActiveSlide(slideIndex, direction);\n            this.autoSlide();\n            isSlideTransition = false;\n        }\n    };\n    Carousel.prototype.swipeHandler = function (e) {\n        if (this.element.classList.contains(CLS_HOVER)) {\n            return;\n        }\n        var direction = (e.swipeDirection === 'Right') ? 'Previous' : 'Next';\n        var slideIndex = this.getSlideIndex(direction);\n        if (!this.isSuspendSlideTransition(slideIndex, direction)) {\n            this.setActiveSlide(slideIndex, direction, true);\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.isSuspendSlideTransition = function (index, direction) {\n        return !this.loop && (direction === 'Next' && index === 0 || direction === 'Previous' && index === this.slideItems.length - 1);\n    };\n    Carousel.prototype.handleNavigatorsActions = function (index) {\n        if (this.buttonsVisibility === 'Hidden') {\n            return;\n        }\n        if (this.showPlayButton) {\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n            var isButtonUpdate = isNullOrUndefined(this.playButtonTemplate) && playButton && isLastSlide;\n            if (isNullOrUndefined(this.playButtonTemplate) && playButton && !isLastSlide) {\n                isButtonUpdate = !playButton.classList.contains(CLS_ACTIVE$2);\n            }\n            if (isButtonUpdate) {\n                this.setProperties({ autoPlay: !isLastSlide }, true);\n                playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n                var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n                itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n                var buttonObj = getInstance(playButton, Button);\n                buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n                buttonObj.dataBind();\n            }\n        }\n        var prevButton = this.element.querySelector(\".\" + CLS_PREV_BUTTON);\n        if (prevButton && isNullOrUndefined(this.previousButtonTemplate)) {\n            var buttonObj = getInstance(prevButton, Button);\n            buttonObj.disabled = !this.loop && index === 0;\n            buttonObj.dataBind();\n        }\n        var nextButton = this.element.querySelector(\".\" + CLS_NEXT_BUTTON);\n        if (nextButton && isNullOrUndefined(this.nextButtonTemplate)) {\n            var buttonObj = getInstance(nextButton, Button);\n            buttonObj.disabled = !this.loop && index === this.slideItems.length - 1;\n            buttonObj.dataBind();\n        }\n    };\n    Carousel.prototype.onHoverActions = function (e) {\n        var navigator = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n        switch (e.type) {\n            case 'mouseenter':\n                if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n                    removeClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n                }\n                if (this.pauseOnHover) {\n                    addClass([this.element], CLS_HOVER);\n                }\n                break;\n            case 'mouseleave':\n                if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n                    addClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n                }\n                removeClass([this.element], CLS_HOVER);\n                break;\n        }\n        this.autoSlide();\n    };\n    Carousel.prototype.onFocusActions = function (e) {\n        switch (e.type) {\n            case 'focusin':\n                addClass([this.element], CLS_HOVER);\n                break;\n            case 'focusout':\n                removeClass([this.element], CLS_HOVER);\n                break;\n        }\n        this.autoSlide();\n    };\n    Carousel.prototype.destroyButtons = function () {\n        var buttonCollections = [].slice.call(this.element.querySelectorAll('.e-control.e-btn'));\n        for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n            var button = buttonCollections_1[_i];\n            var instance = getInstance(button, Button);\n            if (instance) {\n                instance.destroy();\n            }\n        }\n    };\n    Carousel.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focusin focusout', this.onFocusActions, this);\n        EventHandler.add(this.element, 'mouseenter mouseleave', this.onHoverActions, this);\n        EventHandler.add(this.element.firstElementChild, 'animationend', this.onTransitionEnd, this);\n        EventHandler.add(this.element.firstElementChild, 'transitionend', this.onTransitionEnd, this);\n    };\n    Carousel.prototype.unWireEvents = function () {\n        var _this = this;\n        var indicators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n        indicators.forEach(function (indicator) {\n            EventHandler.remove(indicator, 'click', _this.indicatorClickHandler);\n        });\n        var navigators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREVIOUS + \",.\" + CLS_NEXT));\n        navigators.forEach(function (navigator) {\n            EventHandler.remove(navigator, 'click', _this.navigatorClickHandler);\n        });\n        var playIcon = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n        if (playIcon) {\n            EventHandler.remove(playIcon, 'click', this.playButtonClickHandler);\n        }\n        EventHandler.remove(this.element.firstElementChild, 'animationend', this.onTransitionEnd);\n        EventHandler.remove(this.element.firstElementChild, 'transitionend', this.onTransitionEnd);\n        EventHandler.clearEvents(this.element);\n    };\n    /**\n     * Method to transit from the current slide to the previous slide.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.prev = function () {\n        if (!this.loop && this.selectedIndex === 0) {\n            return;\n        }\n        var index = (this.selectedIndex === 0) ? this.slideItems.length - 1 : this.selectedIndex - 1;\n        this.setActiveSlide(index, 'Previous');\n        this.autoSlide();\n    };\n    /**\n     * Method to transit from the current slide to the next slide.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.next = function () {\n        if (!this.loop && this.selectedIndex === this.slideItems.length - 1) {\n            return;\n        }\n        var index = (this.selectedIndex === this.slideItems.length - 1) ? 0 : this.selectedIndex + 1;\n        this.setActiveSlide(index, 'Next');\n        this.autoSlide();\n    };\n    /**\n     * Method to play the slides programmatically.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.play = function () {\n        var playIcon = this.element.querySelector(\".\" + CLS_PLAY_ICON);\n        if (this.showPlayButton && playIcon) {\n            classList(playIcon, [CLS_PAUSE_ICON], [CLS_PLAY_ICON]);\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            playButton.setAttribute('aria-label', this.localeObj.getConstant('pauseSlideTransition'));\n        }\n        this.setProperties({ autoPlay: true }, true);\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', 'off');\n        this.applySlideInterval();\n    };\n    /**\n     * Method to pause the slides programmatically.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.pause = function () {\n        var pauseIcon = this.element.querySelector(\".\" + CLS_PAUSE_ICON);\n        if (this.showPlayButton && pauseIcon) {\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n            classList(pauseIcon, [CLS_PLAY_ICON], [CLS_PAUSE_ICON]);\n        }\n        this.setProperties({ autoPlay: false }, true);\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', 'off');\n        this.resetSlideInterval();\n    };\n    /**\n     * Method to render react and angular templates\n     *\n     * @returns {void}\n     * @private\n     */\n    Carousel.prototype.renderTemplates = function () {\n        if (this.isAngular || this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Method to reset react and angular templates\n     *\n     * @param {string[]} templates Accepts the template ID\n     * @returns {void}\n     * @private\n     */\n    Carousel.prototype.resetTemplates = function (templates) {\n        if (this.isAngular || this.isReact) {\n            this.clearTemplate(templates);\n        }\n    };\n    /**\n     * Method for destroy the carousel component.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.destroy = function () {\n        var _this = this;\n        this.resetTemplates();\n        if (this.touchModule) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        this.keyModule.destroy();\n        this.keyModule = null;\n        this.resetSlideInterval();\n        this.destroyButtons();\n        this.unWireEvents();\n        [].slice.call(this.element.children).forEach(function (ele) { _this.element.removeChild(ele); });\n        removeClass([this.element], [CLS_CAROUSEL, this.cssClass, CLS_RTL$5]);\n        ['tabindex', 'role', 'style'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        _super.prototype.destroy.call(this);\n    };\n    __decorate$11([\n        Collection([], CarouselItem)\n    ], Carousel.prototype, \"items\", void 0);\n    __decorate$11([\n        Property('Slide')\n    ], Carousel.prototype, \"animationEffect\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"previousButtonTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"nextButtonTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"indicatorsTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"playButtonTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"cssClass\", void 0);\n    __decorate$11([\n        Property([])\n    ], Carousel.prototype, \"dataSource\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"itemTemplate\", void 0);\n    __decorate$11([\n        Property(0)\n    ], Carousel.prototype, \"selectedIndex\", void 0);\n    __decorate$11([\n        Property('100%')\n    ], Carousel.prototype, \"width\", void 0);\n    __decorate$11([\n        Property('100%')\n    ], Carousel.prototype, \"height\", void 0);\n    __decorate$11([\n        Property(5000)\n    ], Carousel.prototype, \"interval\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"autoPlay\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"pauseOnHover\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"loop\", void 0);\n    __decorate$11([\n        Property(false)\n    ], Carousel.prototype, \"showPlayButton\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"enableTouchSwipe\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"showIndicators\", void 0);\n    __decorate$11([\n        Property('Visible')\n    ], Carousel.prototype, \"buttonsVisibility\", void 0);\n    __decorate$11([\n        Property(false)\n    ], Carousel.prototype, \"partialVisible\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"htmlAttributes\", void 0);\n    __decorate$11([\n        Event()\n    ], Carousel.prototype, \"slideChanging\", void 0);\n    __decorate$11([\n        Event()\n    ], Carousel.prototype, \"slideChanged\", void 0);\n    Carousel = __decorate$11([\n        NotifyPropertyChanges\n    ], Carousel);\n    return Carousel;\n}(Component));\n\n/** Carousel export modules */\n\nvar __extends$12 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$12 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// Constant variables\nvar CLS_APPBAR = 'e-appbar';\nvar CLS_HORIZONTAL_BOTTOM = 'e-horizontal-bottom';\nvar CLS_STICKY = 'e-sticky';\nvar CLS_PROMINENT = 'e-prominent';\nvar CLS_DENSE = 'e-dense';\nvar CLS_RTL$6 = 'e-rtl';\nvar CLS_LIGHT = 'e-light';\nvar CLS_DARK = 'e-dark';\nvar CLS_PRIMARY = 'e-primary';\nvar CLS_INHERIT = 'e-inherit';\n/**\n * The AppBar displays the information and actions related to the current application screen. It is used to show branding, screen titles, navigation, and actions.\n * Support to inherit colors from AppBar provided to <c>Button</c>, <c>DropDownButton</c>, <c>Menu</c> and <c>TextBox</c>.\n * Set <c>CssClass</c> property with <code>e-inherit</code> CSS class to inherit the background and color from AppBar.\n */\nvar AppBar = /** @__PURE__ @class */ (function (_super) {\n    __extends$12(AppBar, _super);\n    /**\n     * Constructor for creating the AppBar widget\n     *\n     * @param {AppBarModel} options Accepts the AppBar model properties to initiate the rendering\n     * @param {string | HTMLElement} element Accepts the DOM element reference\n     */\n    function AppBar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    AppBar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove(CLS_APPBAR);\n        this.element.removeAttribute('style');\n        this.element.removeAttribute('role');\n    };\n    AppBar.prototype.getModuleName = function () {\n        return 'appbar';\n    };\n    AppBar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    AppBar.prototype.preRender = function () {\n        // pre render code\n    };\n    AppBar.prototype.render = function () {\n        if (this.element.tagName !== 'HEADER') {\n            this.element.setAttribute('role', 'header');\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.position === 'Bottom') {\n            this.element.classList.add(CLS_HORIZONTAL_BOTTOM);\n        }\n        if (this.isSticky) {\n            this.element.classList.add(CLS_STICKY);\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(CLS_RTL$6);\n        }\n        this.setHeightMode();\n        this.setColorMode();\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n        }\n    };\n    AppBar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'mode':\n                    removeClass([this.element], [CLS_DENSE, CLS_PROMINENT]);\n                    this.setHeightMode();\n                    break;\n                case 'position':\n                    if (this.position === 'Bottom') {\n                        addClass([this.element], CLS_HORIZONTAL_BOTTOM);\n                    }\n                    else {\n                        removeClass([this.element], CLS_HORIZONTAL_BOTTOM);\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'isSticky':\n                    if (this.isSticky) {\n                        addClass([this.element], CLS_STICKY);\n                    }\n                    else {\n                        removeClass([this.element], CLS_STICKY);\n                    }\n                    break;\n                case 'htmlAttributes':\n                    if (!isNullOrUndefined(this.htmlAttributes)) {\n                        if (!isNullOrUndefined(oldProp.htmlAttributes)) {\n                            var keys = Object.keys(oldProp.htmlAttributes);\n                            for (var _b = 0, keys_1 = keys; _b < keys_1.length; _b++) {\n                                var key = keys_1[_b];\n                                if (key === 'class') {\n                                    removeClass([this.element], oldProp.htmlAttributes[key]);\n                                }\n                                else {\n                                    this.element.removeAttribute(key);\n                                }\n                            }\n                        }\n                        this.setHtmlAttributes(newProp.htmlAttributes, this.element);\n                    }\n                    break;\n                case 'colorMode':\n                    removeClass([this.element], [CLS_DARK, CLS_PRIMARY, CLS_INHERIT, CLS_LIGHT]);\n                    this.setColorMode();\n                    break;\n                case 'enableRtl':\n                    if (this.enableRtl) {\n                        addClass([this.element], CLS_RTL$6);\n                    }\n                    else {\n                        removeClass([this.element], CLS_RTL$6);\n                    }\n                    break;\n            }\n        }\n    };\n    AppBar.prototype.setHtmlAttributes = function (attribute, element) {\n        var keys = Object.keys(attribute);\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            if (key === 'class') {\n                addClass([element], attribute[key]);\n            }\n            else {\n                element.setAttribute(key, attribute[key]);\n            }\n        }\n    };\n    AppBar.prototype.setHeightMode = function () {\n        if (this.mode === 'Prominent') {\n            this.element.classList.add(CLS_PROMINENT);\n        }\n        else if (this.mode === 'Dense') {\n            this.element.classList.add(CLS_DENSE);\n        }\n    };\n    AppBar.prototype.setColorMode = function () {\n        switch (this.colorMode) {\n            case 'Light':\n                this.element.classList.add(CLS_LIGHT);\n                break;\n            case 'Dark':\n                this.element.classList.add(CLS_DARK);\n                break;\n            case 'Primary':\n                this.element.classList.add(CLS_PRIMARY);\n                break;\n            case 'Inherit':\n                this.element.classList.add(CLS_INHERIT);\n                break;\n        }\n    };\n    __decorate$12([\n        Property('Regular')\n    ], AppBar.prototype, \"mode\", void 0);\n    __decorate$12([\n        Property('Top')\n    ], AppBar.prototype, \"position\", void 0);\n    __decorate$12([\n        Property()\n    ], AppBar.prototype, \"cssClass\", void 0);\n    __decorate$12([\n        Property(false)\n    ], AppBar.prototype, \"isSticky\", void 0);\n    __decorate$12([\n        Property()\n    ], AppBar.prototype, \"htmlAttributes\", void 0);\n    __decorate$12([\n        Property('Light')\n    ], AppBar.prototype, \"colorMode\", void 0);\n    __decorate$12([\n        Event()\n    ], AppBar.prototype, \"created\", void 0);\n    __decorate$12([\n        Event()\n    ], AppBar.prototype, \"destroyed\", void 0);\n    AppBar = __decorate$12([\n        NotifyPropertyChanges\n    ], AppBar);\n    return AppBar;\n}(Component));\n\n/** AppBar export modules */\n\n/**\n * Navigation all modules\n */\n\nexport { MenuAnimationSettings, MenuItem, HScroll, VScroll, addScrolling, destroyScroll, Item, Toolbar, AccordionActionSettings, AccordionAnimationSettings, AccordionItem, Accordion, ContextMenu, Menu, TabActionSettings, TabAnimationSettings, Header, TabItem, Tab, FieldsSettings, ActionSettings, NodeAnimationSettings, TreeView, Sidebar, BreadcrumbItem, Breadcrumb, CarouselItem, Carousel, AppBar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}