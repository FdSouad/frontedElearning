{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; //class constant defination.\n\n\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\n\nvar CalendarBase =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(CalendarBase, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function CalendarBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.effect = '';\n    _this.isPopupClicked = false;\n    _this.isDateSelected = true;\n    _this.isTodayClicked = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.previousDates = false;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  CalendarBase.prototype.render = function () {\n    this.rangeValidation(this.min, this.max);\n    this.calendarEleCopy = this.element.cloneNode(true);\n\n    if (this.calendarMode === 'Islamic') {\n      if (+this.min.setSeconds(0) === +new Date(1900, 0, 1, 0, 0, 0)) {\n        this.min = new Date(1944, 2, 18);\n      }\n\n      if (+this.max === +new Date(2099, 11, 31)) {\n        this.max = new Date(2069, 10, 16);\n      }\n    }\n\n    this.globalize = new Internationalization(this.locale);\n\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n\n    this.todayDisabled = false;\n    this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.classList.add(ROOT);\n\n      if (this.enableRtl) {\n        this.element.classList.add(RTL);\n      }\n\n      if (Browser.isDevice) {\n        this.element.classList.add(DEVICE);\n      }\n\n      attributes(this.element, {\n        'data-role': 'calendar'\n      });\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.calendarElement = this.createElement('div');\n      this.calendarElement.classList.add(ROOT);\n\n      if (this.enableRtl) {\n        this.calendarElement.classList.add(RTL);\n      }\n\n      if (Browser.isDevice) {\n        this.calendarElement.classList.add(DEVICE);\n      }\n\n      attributes(this.calendarElement, {\n        'data-role': 'calendar'\n      });\n    }\n\n    this.createHeader();\n    this.createContent();\n    this.wireEvents();\n  };\n\n  CalendarBase.prototype.rangeValidation = function (min, max) {\n    if (isNullOrUndefined(min)) {\n      this.setProperties({\n        min: new Date(1900, 0, 1)\n      }, true);\n    }\n\n    if (isNullOrUndefined(max)) {\n      this.setProperties({\n        max: new Date(2099, 11, 31)\n      }, true);\n    }\n  };\n\n  CalendarBase.prototype.getDefaultKeyConfig = function () {\n    this.defaultKeyConfigs = {\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      altUpArrow: 'alt+uparrow',\n      spacebar: 'space',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow'\n    };\n    return this.defaultKeyConfigs;\n  };\n\n  CalendarBase.prototype.validateDate = function (value) {\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n\n    if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n      this.currentDate = new Date(this.checkValue(value));\n    }\n  };\n\n  CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n\n  CalendarBase.prototype.minMaxUpdate = function (value) {\n    if (!(+this.min <= +this.max)) {\n      this.setProperties({\n        min: this.min\n      }, true);\n      addClass([this.element], OVERLAY);\n    } else {\n      removeClass([this.element], OVERLAY);\n    }\n\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n    if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n      this.currentDate = new Date(this.checkValue(value));\n    } else {\n      if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n        this.currentDate = new Date(this.checkValue(this.max));\n      } else {\n        if (+this.currentDate < +this.min) {\n          this.currentDate = new Date(this.checkValue(this.min));\n        }\n      }\n    }\n  };\n\n  CalendarBase.prototype.createHeader = function () {\n    var ariaPrevAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'previous month'\n    };\n    var ariaNextAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'next month'\n    };\n    var ariaTitleAttrs = {\n      'aria-atomic': 'true',\n      'aria-live': 'assertive',\n      'aria-label': 'title'\n    };\n    this.headerElement = this.createElement('div', {\n      className: HEADER\n    });\n    var iconContainer = this.createElement('div', {\n      className: ICONCONTAINER\n    });\n    this.previousIcon = this.createElement('button', {\n      className: '' + PREVICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.previousIcon, {\n      duration: 400,\n      selector: '.e-prev',\n      isCenterRipple: true\n    });\n    attributes(this.previousIcon, ariaPrevAttrs);\n    this.nextIcon = this.createElement('button', {\n      className: '' + NEXTICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.nextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n\n    if (this.getModuleName() === 'daterangepicker') {\n      attributes(this.previousIcon, {\n        tabIndex: '-1'\n      });\n      attributes(this.nextIcon, {\n        tabIndex: '-1'\n      });\n    }\n\n    attributes(this.nextIcon, ariaNextAttrs);\n    this.headerTitleElement = this.createElement('div', {\n      className: '' + LINK + ' ' + TITLE\n    });\n    attributes(this.headerTitleElement, ariaTitleAttrs);\n    this.headerElement.appendChild(this.headerTitleElement);\n    this.previousIcon.appendChild(this.createElement('span', {\n      className: '' + PREVSPAN + ' ' + ICON\n    }));\n    this.nextIcon.appendChild(this.createElement('span', {\n      className: '' + NEXTSPAN + ' ' + ICON\n    }));\n    iconContainer.appendChild(this.previousIcon);\n    iconContainer.appendChild(this.nextIcon);\n    this.headerElement.appendChild(iconContainer);\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.headerElement);\n    } else {\n      this.calendarElement.appendChild(this.headerElement);\n    }\n\n    this.adjustLongHeaderSize();\n  };\n\n  CalendarBase.prototype.createContent = function () {\n    this.contentElement = this.createElement('div', {\n      className: CONTENT\n    });\n    this.table = this.createElement('table', {\n      attrs: {\n        tabIndex: '0',\n        'role': 'grid',\n        'aria-activedescendant': '',\n        'aria-labelledby': this.element.id\n      }\n    });\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.contentElement);\n    } else {\n      this.calendarElement.appendChild(this.contentElement);\n    }\n\n    this.contentElement.appendChild(this.table);\n    this.createContentHeader();\n    this.createContentBody();\n\n    if (this.showTodayButton) {\n      this.createContentFooter();\n    }\n  };\n\n  CalendarBase.prototype.getCultureValues = function () {\n    var culShortNames = [];\n    var cldrObj;\n    var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrObj = getValue(dayFormat, getDefaultDateObject());\n    } else {\n      cldrObj = this.getCultureObjects(cldrData, '' + this.locale);\n    }\n\n    for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n      var obj = _a[_i];\n      culShortNames.push(getValue(obj, cldrObj));\n    }\n\n    return culShortNames;\n  };\n\n  CalendarBase.prototype.toCapitalize = function (text) {\n    return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n  };\n\n  CalendarBase.prototype.createContentHeader = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    }\n\n    var daysCount = 6;\n    var html = '';\n\n    if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: 0\n      }, true);\n    }\n\n    this.tableHeadElement = this.createElement('thead', {\n      className: WEEKHEADER\n    });\n\n    if (this.weekNumber) {\n      html += '<th class=\"e-week-number\"></th>';\n\n      if (this.getModuleName() === 'calendar') {\n        addClass([this.element], '' + WEEKNUMBER);\n      } else {\n        addClass([this.calendarElement], '' + WEEKNUMBER);\n      }\n    } // eslint-disable-next-line max-len\n\n\n    var shortNames = this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek);\n\n    for (var days = 0; days <= daysCount; days++) {\n      html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n    }\n\n    html = '<tr>' + html + '</tr>';\n    this.tableHeadElement.innerHTML = html;\n    this.table.appendChild(this.tableHeadElement);\n  };\n\n  CalendarBase.prototype.createContentBody = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.element.querySelectorAll('.e-content tbody')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n      }\n    }\n\n    switch (this.start) {\n      case 'Year':\n        this.renderYears();\n        break;\n\n      case 'Decade':\n        this.renderDecades();\n        break;\n\n      default:\n        this.renderMonths();\n    }\n  };\n\n  CalendarBase.prototype.updateFooter = function () {\n    this.todayElement.textContent = this.l10.getConstant('today');\n    this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n  };\n\n  CalendarBase.prototype.createContentFooter = function () {\n    if (this.showTodayButton) {\n      var minimum = new Date(+this.min);\n      var maximum = new Date(+this.max);\n      var l10nLocale = {\n        today: 'Today'\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n      this.todayElement = this.createElement('button', {\n        attrs: {\n          role: 'button'\n        }\n      });\n      rippleEffect(this.todayElement);\n      this.updateFooter();\n      addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n\n      if (!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate && +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0))) || this.todayDisabled) {\n        addClass([this.todayElement], DISABLED);\n      }\n\n      this.footer = this.createElement('div', {\n        className: FOOTER\n      });\n      this.footer.appendChild(this.todayElement);\n\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.footer);\n      }\n\n      if (this.getModuleName() === 'datepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n\n      if (this.getModuleName() === 'datetimepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n\n      if (!this.todayElement.classList.contains(DISABLED)) {\n        EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n      }\n    }\n  };\n\n  CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n    EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n\n    if (this.getModuleName() === 'calendar') {\n      this.keyboardModule = new KeyboardEvents(this.element, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  };\n\n  CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n    this.serverModuleName = moduleName;\n  };\n\n  CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n    if (this.showTodayButton) {\n      if (this.currentView() === this.depth) {\n        this.effect = '';\n      } else {\n        this.effect = 'e-zoomin';\n      }\n\n      if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n        this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n      } else {\n        this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n      }\n    }\n  };\n\n  CalendarBase.prototype.resetCalendar = function () {\n    this.calendarElement && detach(this.calendarElement);\n    this.tableBodyElement && detach(this.tableBodyElement);\n    this.table && detach(this.table);\n    this.tableHeadElement && detach(this.tableHeadElement);\n    this.nextIcon && detach(this.nextIcon);\n    this.previousIcon && detach(this.previousIcon);\n    this.footer && detach(this.footer);\n    this.todayElement = null;\n    this.renderDayCellArgs = null;\n    this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n  };\n\n  CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n    var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedDate;\n\n    if (multiSelection) {\n      if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n        selectedDate = focusedDate;\n      } else {\n        selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      }\n    } else {\n      selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    }\n\n    var view = this.getViewNumber(this.currentView());\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    this.effect = '';\n\n    switch (e.action) {\n      case 'moveLeft':\n        this.keyboardNavigate(-1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n\n      case 'moveRight':\n        this.keyboardNavigate(1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n\n      case 'moveUp':\n        if (view === 0) {\n          this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'moveDown':\n        if (view === 0) {\n          this.keyboardNavigate(7, view, e, this.max, this.min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'select':\n        if (e.target === this.todayElement) {\n          this.todayButtonClick(e, value);\n        } else {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n            if (levelRestrict) {\n              // eslint-disable-next-line radix\n              var d = new Date(parseInt('' + element.id, 0));\n              this.selectDate(e, d, element);\n            } else {\n              this.contentClick(null, --view, element, value);\n            }\n          }\n        }\n\n        break;\n\n      case 'controlUp':\n        this.title();\n        e.preventDefault();\n        break;\n\n      case 'controlDown':\n        if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n          this.contentClick(null, --view, focusedDate || selectedDate, value);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        detach(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        detach(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'pageUp':\n        this.addMonths(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'pageDown':\n        this.addMonths(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'shiftPageUp':\n        this.addYears(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'shiftPageDown':\n        this.addYears(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'controlHome':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n        e.preventDefault();\n        break;\n\n      case 'controlEnd':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n        e.preventDefault();\n        break;\n    }\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n\n  CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n    var date = new Date(this.checkValue(this.currentDate));\n\n    switch (currentView) {\n      case 2:\n        this.addYears(this.currentDate, number);\n\n        if (this.isMonthYearRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderDecades(e);\n        } else {\n          this.currentDate = date;\n        }\n\n        break;\n\n      case 1:\n        this.addMonths(this.currentDate, number);\n\n        if (this.calendarMode === 'Gregorian') {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        } else {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        }\n\n        break;\n\n      case 0:\n        this.addDay(this.currentDate, number, e, max, min);\n\n        if (this.isMinMaxRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        } else {\n          this.currentDate = date;\n        }\n\n        break;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @param {Date} value - Specifies value of date.\n   * @returns {void}\n   * @private\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.preRender = function (value) {\n    var _this = this;\n\n    this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n    this.navigateNextHandler = this.navigateNext.bind(this);\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n\n    this.navigateHandler = function (e) {\n      _this.triggerNavigate(e);\n    };\n  };\n\n  CalendarBase.prototype.minMaxDate = function (localDate) {\n    var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n    var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n    var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n\n    if (+currentDate === +minDate || +currentDate === +maxDate) {\n      if (+localDate < +this.min) {\n        localDate = new Date(+this.min);\n      }\n\n      if (+localDate > +this.max) {\n        localDate = new Date(+this.max);\n      }\n    }\n\n    return localDate;\n  };\n\n  CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n    var numCells = this.weekNumber ? 8 : 7;\n    var tdEles;\n\n    if (this.calendarMode === 'Gregorian') {\n      tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n    } else {\n      tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n    }\n\n    this.createContentHeader();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.renderTemplate(tdEles, numCells, MONTH, e, value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n    }\n  };\n\n  CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n    var tdEles = [];\n    var cellsCount = 42;\n    var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n    var localDate = new Date(this.checkValue(currentDate));\n    var minMaxDate;\n    var currentMonth = localDate.getMonth();\n    this.titleUpdate(currentDate, 'days');\n    var d = localDate;\n    localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n\n    while (localDate.getDay() !== this.firstDayOfWeek) {\n      this.setStartDate(localDate, -1 * dayMilliSeconds);\n    }\n\n    for (var day = 0; day < cellsCount; ++day) {\n      var weekEle = this.createElement('td', {\n        className: CELL\n      });\n      var weekAnchor = this.createElement('span');\n\n      if (day % 7 === 0 && this.weekNumber) {\n        // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n        var numberOfDays = this.weekRule === 'FirstDay' ? 6 : this.weekRule === 'FirstFourDayWeek' ? 3 : 0;\n        var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate() + numberOfDays);\n        weekAnchor.textContent = '' + this.getWeek(finalDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER);\n        tdEles.push(weekEle);\n      }\n\n      minMaxDate = new Date(+localDate);\n      localDate = this.minMaxDate(localDate);\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full'\n      };\n      var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var tdEle = this.dayCell(localDate);\n      var title = this.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full'\n      });\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: 'd',\n        type: 'date',\n        skeleton: 'yMd'\n      });\n      var disabled = this.min > localDate || this.max < localDate;\n\n      if (disabled) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n\n      if (currentMonth !== localDate.getMonth()) {\n        addClass([tdEle], OTHERMONTH);\n      }\n\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND);\n      }\n\n      tdEle.appendChild(dayLink);\n      this.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      var argument = this.renderDayCellArgs;\n      this.renderDayCellEvent(argument);\n\n      if (argument.isDisabled) {\n        var selectDate = new Date(this.checkValue(value));\n        var argsDate = new Date(this.checkValue(argument.date));\n\n        if (multiSelection) {\n          if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n              var localDateString = +new Date(this.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              var tempDateString = +new Date(this.globalize.formatDate(values[index], {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n\n              if (localDateString === tempDateString) {\n                values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (selectDate && +selectDate === +argsDate) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      }\n\n      if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n\n        if (+this.renderDayCellArgs.date === +this.todayDate) {\n          this.todayDisabled = true;\n        }\n      }\n\n      var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n      var disabledCls = tdEle.classList.contains(DISABLED);\n\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      } // to set the value as null while setting the disabled date onProperty change.\n      // if (args.isDisabled && +this.value === +args.date) {\n      //     this.setProperties({ value: null }, true);\n      // }\n\n\n      var currentTarget = void 0;\n\n      if (!isNullOrUndefined(e) && e.type == 'click') {\n        currentTarget = e.currentTarget;\n      }\n\n      if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n        for (var tempValue = 0; tempValue < values.length; tempValue++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(localDate, formatOptions);\n          var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n\n          if (localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]) || this.getDateVal(localDate, value)) {\n            addClass([tdEle], SELECTED);\n          }\n\n          if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText && this.previousDates && currentTarget.classList.contains(SELECTED)) {\n            removeClass([tdEle], SELECTED);\n            this.previousDates = false;\n            var copyValues = this.copyValues(values);\n\n            for (var i = 0; i < copyValues.length; i++) {\n              var type_1 = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n              var formatOptions_1 = {\n                format: null,\n                type: 'date',\n                skeleton: 'short',\n                calendar: type_1\n              };\n              var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n              var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n\n              if (localDateString_1 === tempDateString_1) {\n                var index = copyValues.indexOf(copyValues[i]);\n                copyValues.splice(index, 1);\n              }\n            }\n\n            this.setProperties({\n              values: copyValues\n            }, true);\n          } else {\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n\n        if (values.length <= 0) {\n          this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!disabledCls && this.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED);\n      }\n\n      this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n\n      if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth() && date.getDate() === todayDate.getDate()) {\n        addClass([tdEle], TODAY);\n      }\n\n      tdEles.push(this.renderDayCellArgs.element);\n      localDate = new Date(+minMaxDate);\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n\n    return tdEles;\n  };\n\n  CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n    if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n      addClass([tableElement], FOCUSEDDATE);\n    } else {\n      // eslint-disable-next-line radix\n      if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      } // eslint-disable-next-line radix\n\n\n      if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n    }\n  };\n\n  CalendarBase.prototype.renderYears = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var tdEles = [];\n    var valueUtil = isNullOrUndefined(value);\n    var curDate = new Date(this.checkValue(this.currentDate));\n    var mon = curDate.getMonth();\n    var yr = curDate.getFullYear();\n    var localDate = curDate;\n    var curYrs = localDate.getFullYear();\n    var minYr = new Date(this.checkValue(this.min)).getFullYear();\n    var minMonth = new Date(this.checkValue(this.min)).getMonth();\n    var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n    var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n    localDate.setMonth(0);\n    this.titleUpdate(this.currentDate, 'months');\n    localDate.setDate(1);\n\n    for (var month = 0; month < 12; ++month) {\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      var localMonth = value && value.getMonth() === localDate.getMonth();\n      var select$$1 = value && value.getFullYear() === yr && localMonth;\n      dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'MMM'\n      }));\n\n      if (this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED);\n      } else if (!valueUtil && select$$1) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n\n      localDate.setDate(1);\n      localDate.setMonth(localDate.getMonth() + 1);\n\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.renderTemplate(tdEles, numCells, YEAR, e, value);\n  };\n\n  CalendarBase.prototype.renderDecades = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var yearCell = 12;\n    var tdEles = [];\n    var localDate = new Date(this.checkValue(this.currentDate));\n    localDate.setMonth(0);\n    localDate.setDate(1);\n    var localYr = localDate.getFullYear();\n    var startYr = new Date(localDate.setFullYear(localYr - localYr % 10));\n    var endYr = new Date(localDate.setFullYear(localYr - localYr % 10 + (10 - 1)));\n    var startFullYr = startYr.getFullYear();\n    var endFullYr = endYr.getFullYear();\n    var startHdrYr = this.globalize.formatDate(startYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    var endHdrYr = this.globalize.formatDate(endYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    this.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    var start = new Date(localYr - localYr % 10 - 1, 0, 1);\n    var startYear = start.getFullYear();\n\n    for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n      var year = startYear + rowIterator;\n      localDate.setFullYear(year);\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n\n      if (year < startFullYr || year > endFullYr) {\n        addClass([tdEle], OTHERDECADE);\n\n        if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n          addClass([tdEle], SELECTED);\n        }\n\n        if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n          addClass([tdEle], DISABLED);\n        }\n      } else if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n        addClass([tdEle], DISABLED);\n      } else if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n  };\n\n  CalendarBase.prototype.dayCell = function (localDate) {\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: type\n    };\n    var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n    var value = date.valueOf();\n    var attrs = {\n      className: CELL,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false'\n      }\n    };\n    return this.createElement('td', attrs);\n  };\n\n  CalendarBase.prototype.firstDay = function (date) {\n    var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n\n    if (collection.length) {\n      for (var i = 0; i < collection.length; i++) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n\n    return date;\n  };\n\n  CalendarBase.prototype.lastDay = function (date, view) {\n    var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n\n    if (view !== 2) {\n      var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n\n      if (timeOffset) {\n        lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60);\n      }\n\n      return this.findLastDay(lastDate);\n    } else {\n      return this.findLastDay(this.firstDay(lastDate));\n    }\n  };\n\n  CalendarBase.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n\n  CalendarBase.prototype.findLastDay = function (date) {\n    var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n\n    if (collection.length) {\n      for (var i = collection.length - 1; i >= 0; i--) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n\n    return date;\n  };\n\n  CalendarBase.prototype.removeTableHeadElement = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n    var view = this.getViewNumber(this.currentView());\n    var trEle;\n    this.tableBodyElement = this.createElement('tbody');\n    this.table.appendChild(this.tableBodyElement);\n    removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n    addClass([this.contentElement, this.headerElement], [classNm]);\n    var weekNumCell = 41;\n    var numberCell = 35;\n    var otherMonthCell = 6;\n    var row = count;\n    var rowIterator = 0;\n\n    for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n      trEle = this.createElement('tr');\n\n      for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n        if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n          addClass([elements[rowIterator].children[0]], [LINK]);\n          rippleEffect(elements[rowIterator].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n\n        trEle.appendChild(elements[rowIterator]);\n\n        if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n\n        if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n\n        if (this.weekNumber) {\n          if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        } else {\n          if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        }\n      }\n\n      row = row + count;\n      rowIterator = rowIterator + 0;\n      this.tableBodyElement.appendChild(trEle);\n    }\n\n    this.table.querySelector('tbody').className = this.effect;\n\n    if (this.calendarMode === 'Gregorian') {\n      this.iconHandler();\n    } else {\n      this.islamicModule.islamicIconHandler();\n    }\n\n    if (view !== this.getViewNumber(this.currentView()) || view === 0 && view !== this.getViewNumber(this.currentView())) {\n      this.navigateHandler(e);\n    }\n\n    this.setAriaActiveDescendant();\n  };\n\n  CalendarBase.prototype.clickHandler = function (e, value) {\n    this.clickEventEmitter(e);\n    var eve = e.currentTarget;\n    var view = this.getViewNumber(this.currentView());\n\n    if (eve.classList.contains(OTHERMONTH)) {\n      this.contentClick(e, 0, null, value);\n    } else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n      this.contentClick(e, 1, null, value);\n    } else if (2 === view) {\n      this.contentClick(e, 1, null, value);\n    } else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n      this.selectDate(e, this.getIdValue(e, null), null);\n    } else {\n      this.contentClick(e, 0, eve, value);\n    }\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  }; // Content click event handler required for extended components\n\n\n  CalendarBase.prototype.clickEventEmitter = function (e) {\n    e.preventDefault();\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.contentClick = function (e, view, element, value) {\n    var currentView = this.getViewNumber(this.currentView());\n    var d = this.getIdValue(e, element);\n\n    switch (view) {\n      case 0:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          detach(this.tableBodyElement);\n          this.currentDate = d;\n          this.effect = ZOOMIN;\n          this.renderMonths(e);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setMonth(d.getMonth());\n\n            if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n              this.currentDate.setDate(0);\n            }\n\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.currentDate = d;\n          }\n\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        }\n\n        break;\n\n      case 1:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          this.selectDate(e, d, null);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.islamicPreviousHeader = this.headerElement.textContent;\n            var islamicDate = this.islamicModule.getIslamicDate(d);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n          }\n\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderYears(e);\n        }\n\n    }\n  };\n\n  CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n    switch (view) {\n      case 0:\n        detach(this.tableBodyElement);\n        this.renderMonths(e, null, isCustomDate);\n\n        if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n          this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n\n        break;\n\n      case 1:\n        detach(this.tableBodyElement);\n        this.renderYears(e);\n        break;\n\n      case 2:\n        detach(this.tableBodyElement);\n        this.renderDecades(e);\n    }\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  CalendarBase.prototype.getModuleName = function () {\n    return 'calendar';\n  };\n  /**\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  CalendarBase.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    return modules;\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  CalendarBase.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n   * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n   * @param {Date[]} values - Specifies the dates.\n   * @returns {void}\n   * @private\n   */\n\n\n  CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n    this.effect = '';\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.add('e-rtl');\n            } else {\n              this.calendarElement.classList.add('e-rtl');\n            }\n          } else {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.remove('e-rtl');\n            } else {\n              this.calendarElement.classList.remove('e-rtl');\n            }\n          }\n\n          break;\n\n        case 'dayHeaderFormat':\n          this.getCultureValues();\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n          }\n\n          this.adjustLongHeaderSize();\n          break;\n\n        case 'min':\n        case 'max':\n          this.rangeValidation(this.min, this.max);\n\n          if (prop === 'min') {\n            this.setProperties({\n              min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n            }, true);\n          } else {\n            this.setProperties({\n              max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n            }, true);\n          }\n\n          this.setProperties({\n            start: this.currentView()\n          }, true);\n\n          if (this.tableBodyElement) {\n            detach(this.tableBodyElement);\n          }\n\n          this.minMaxUpdate();\n\n          if (multiSelection) {\n            this.validateValues(multiSelection, values);\n          }\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentBody();\n          }\n\n          if ((this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement) {\n            detach(this.todayElement);\n            detach(this.footer);\n            this.todayElement = this.footer = null;\n            this.createContentFooter();\n          } else {\n            if (this.footer && this.todayElement && this.todayElement.classList.contains('e-disabled')) {\n              removeClass([this.todayElement], DISABLED);\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = null;\n              this.createContentFooter();\n            }\n          }\n\n          break;\n\n        case 'start':\n        case 'depth':\n        case 'weekNumber':\n        case 'firstDayOfWeek':\n        case 'weekRule':\n          this.checkView();\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n\n          this.l10.setLocale(this.locale);\n          this.updateFooter();\n          break;\n\n        case 'showTodayButton':\n          if (newProp.showTodayButton) {\n            this.createContentFooter();\n          } else {\n            if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = undefined;\n            }\n          }\n\n          this.setProperties({\n            showTodayButton: newProp.showTodayButton\n          }, true);\n          break;\n      }\n    }\n  };\n  /**\n   * values property updated with considered disabled dates of the calendar.\n   *\n   * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n   * @param {Date[]} values - Specifies the dates to validate.\n   * @returns {void}\n   */\n\n\n  CalendarBase.prototype.validateValues = function (multiSelection, values) {\n    if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n      var copyValues = this.copyValues(values);\n\n      for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n        var tempValue = copyValues[skipIndex];\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var tempValueString = void 0;\n\n        if (this.calendarMode === 'Gregorian') {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'date',\n            skeleton: 'yMd'\n          });\n        } else {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'dateTime',\n            skeleton: 'full',\n            calendar: 'islamic'\n          });\n        }\n\n        var minFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n        var minString = minStringValue;\n        var maxFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n        var maxString = maxStringValue;\n\n        if (+new Date(tempValueString) < +new Date(minString) || +new Date(tempValueString) > +new Date(maxString)) {\n          copyValues.splice(skipIndex, 1);\n          skipIndex = -1;\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n    }\n  };\n\n  CalendarBase.prototype.setValueUpdate = function () {\n    if (!isNullOrUndefined(this.tableBodyElement)) {\n      detach(this.tableBodyElement);\n      this.setProperties({\n        start: this.currentView()\n      }, true);\n      this.createContentBody();\n    }\n  };\n\n  CalendarBase.prototype.copyValues = function (values) {\n    var copyValues = [];\n\n    if (!isNullOrUndefined(values) && values.length > 0) {\n      for (var index = 0; index < values.length; index++) {\n        copyValues.push(new Date(+values[index]));\n      }\n    }\n\n    return copyValues;\n  };\n\n  CalendarBase.prototype.titleUpdate = function (date, view) {\n    var globalize = new Internationalization(this.locale);\n    var dayFormatOptions;\n    var monthFormatOptions;\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n\n    if (this.calendarMode === 'Gregorian') {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        skeleton: 'yMMMM',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y',\n        calendar: type\n      });\n    } else {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'MMMM y',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: type\n      });\n    }\n\n    switch (view) {\n      case 'days':\n        this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n        break;\n\n      case 'months':\n        this.headerTitleElement.textContent = monthFormatOptions;\n    }\n  };\n\n  CalendarBase.prototype.setActiveDescendant = function () {\n    var id;\n    var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var title;\n    var view = this.currentView();\n\n    if (view === 'Month') {\n      title = this.globalize.formatDate(this.currentDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: type\n      });\n    } else if (view === 'Year') {\n      if (type !== 'islamic') {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'yMMMM',\n          calendar: type\n        });\n      } else {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'GyMMM',\n          calendar: type\n        });\n      }\n    } else {\n      title = this.globalize.formatDate(this.currentDate, {\n        format: null,\n        type: 'date',\n        skeleton: 'y',\n        calendar: type\n      });\n    }\n\n    if (selectedEle || focusedEle) {\n      if (!isNullOrUndefined(selectedEle)) {\n        selectedEle.setAttribute('aria-selected', 'true');\n      }\n\n      (focusedEle || selectedEle).setAttribute('aria-label', title);\n      id = (focusedEle || selectedEle).getAttribute('id');\n    }\n\n    return id;\n  };\n\n  CalendarBase.prototype.iconHandler = function () {\n    new Date(this.checkValue(this.currentDate)).setDate(1);\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n\n      case 'Year':\n        this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n\n      case 'Decade':\n        this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n    }\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  CalendarBase.prototype.destroy = function () {\n    if (this.getModuleName() === 'calendar' && this.element) {\n      removeClass([this.element], [ROOT]);\n    } else {\n      if (this.calendarElement && this.element) {\n        removeClass([this.element], [ROOT]);\n      }\n    }\n\n    if (this.getModuleName() === 'calendar' && this.element) {\n      EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n\n      if (this.todayElement) {\n        EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n      }\n\n      this.previousIconHandler(true);\n      this.nextIconHandler(true);\n      this.keyboardModule.destroy();\n      this.element.removeAttribute('data-role');\n\n      if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n\n    if (this.element) {\n      this.element.innerHTML = '';\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  CalendarBase.prototype.title = function (e) {\n    var currentView = this.getViewNumber(this.currentView());\n    this.effect = ZOOMIN;\n    this.switchView(++currentView, e);\n  };\n\n  CalendarBase.prototype.getViewNumber = function (stringVal) {\n    if (stringVal === 'Month') {\n      return 0;\n    } else if (stringVal === 'Year') {\n      return 1;\n    } else {\n      return 2;\n    }\n  };\n\n  CalendarBase.prototype.navigateTitle = function (e) {\n    e.preventDefault();\n    this.title(e);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n\n  CalendarBase.prototype.previous = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.addYears(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.addYears(this.currentDate, -10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n\n  CalendarBase.prototype.navigatePrevious = function (e) {\n    e.preventDefault();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.previous();\n    } else {\n      this.islamicModule.islamicPrevious();\n    }\n\n    this.triggerNavigate(e);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n\n  CalendarBase.prototype.next = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.addYears(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.addYears(this.currentDate, 10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n\n  CalendarBase.prototype.navigateNext = function (eve) {\n    eve.preventDefault();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.next();\n    } else {\n      this.islamicModule.islamicNext();\n    }\n\n    this.triggerNavigate(eve);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   */\n\n\n  CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n    if (+date >= +this.min && +date <= +this.max) {\n      this.currentDate = date;\n    }\n\n    if (+date <= +this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n\n    if (+date >= +this.max) {\n      this.currentDate = new Date(this.checkValue(this.max));\n    }\n\n    if (this.getViewNumber(this.depth) >= this.getViewNumber(view)) {\n      if (this.getViewNumber(this.depth) <= this.getViewNumber(this.start) || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n        view = this.depth;\n      }\n    }\n\n    this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   */\n\n\n  CalendarBase.prototype.currentView = function () {\n    if (this.contentElement.classList.contains(YEAR)) {\n      return 'Year';\n    } else if (this.contentElement.classList.contains(DECADE)) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n\n  CalendarBase.prototype.getDateVal = function (date, value) {\n    return !isNullOrUndefined(value) && date.getDate() === value.getDate() && date.getMonth() === value.getMonth() && date.getFullYear() === value.getFullYear();\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.getCultureObjects = function (ld, c) {\n    var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var mainVal = 'main.';\n\n    if (this.calendarMode === 'Gregorian') {\n      return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n    } else {\n      return getValue('main.' + '' + this.locale + islamicFormat, ld);\n    }\n  };\n\n  CalendarBase.prototype.getWeek = function (d) {\n    var currentDate = new Date(this.checkValue(d)).valueOf();\n    var date = new Date(d.getFullYear(), 0, 1).valueOf();\n    return Math.ceil((currentDate - date + dayMilliSeconds) / dayMilliSeconds / 7);\n  };\n\n  CalendarBase.prototype.setStartDate = function (date, time) {\n    var tzOffset = date.getTimezoneOffset();\n    var d = new Date(date.getTime() + time);\n    var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n    date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n  };\n\n  CalendarBase.prototype.addMonths = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setMonth(date.getMonth() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month + i, 1);\n    }\n  };\n\n  CalendarBase.prototype.addYears = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setFullYear(date.getFullYear() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, islamicDate.month, 1);\n    }\n  };\n\n  CalendarBase.prototype.getIdValue = function (e, element) {\n    var eve;\n\n    if (e) {\n      eve = e.currentTarget;\n    } else {\n      eve = element;\n    }\n\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      type: 'dateTime',\n      skeleton: 'full',\n      calendar: type\n    }; // eslint-disable-next-line radix\n\n    var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n    var date = this.globalize.parseDate(dateString, dateFormatOptions);\n    var value = date.valueOf() - date.valueOf() % 1000;\n    return new Date(value); //return this.globalize.parseDate(dateString, dateFormatOptions);\n  };\n\n  CalendarBase.prototype.adjustLongHeaderSize = function () {\n    removeClass([this.element], DAYHEADERLONG);\n\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n    }\n  };\n\n  CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n    var element = node || e.currentTarget;\n    this.isDateSelected = false;\n\n    if (this.currentView() === 'Decade') {\n      this.setDateDecade(this.currentDate, date.getFullYear());\n    } else if (this.currentView() === 'Year') {\n      this.setDateYear(this.currentDate, date);\n    } else {\n      if (multiSelection && !this.checkPresentDate(date, values)) {\n        var copyValues = this.copyValues(values);\n\n        if (!isNullOrUndefined(values) && copyValues.length > 0) {\n          copyValues.push(new Date(this.checkValue(date)));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: values[values.length - 1]\n          }, true);\n        } else {\n          this.setProperties({\n            values: [new Date(this.checkValue(date))]\n          }, true);\n        }\n      } else {\n        this.setProperties({\n          value: new Date(this.checkValue(date))\n        }, true);\n      }\n\n      this.currentDate = new Date(this.checkValue(date));\n    }\n\n    var tableBodyElement = closest(element, '.' + ROOT);\n\n    if (isNullOrUndefined(tableBodyElement)) {\n      tableBodyElement = this.tableBodyElement;\n    }\n\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n      removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n    }\n\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n      removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n    }\n\n    if (multiSelection) {\n      var copyValues = this.copyValues(values);\n      var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n\n      for (var index = 0; index < collection.length; index++) {\n        var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n        var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n\n        if (collection[index] === tempElement) {\n          removeClass([collection[index]], FOCUSEDDATE);\n        }\n\n        if (collection[index] === selectedElement && !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n          removeClass([collection[index]], SELECTED);\n        }\n      }\n\n      if (element.classList.contains(SELECTED)) {\n        removeClass([element], SELECTED);\n\n        for (var i = 0; i < copyValues.length; i++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(date, formatOptions);\n          var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n\n          if (localDateString === tempDateString) {\n            var index = copyValues.indexOf(copyValues[i]);\n            copyValues.splice(index, 1);\n            addClass([element], FOCUSEDDATE);\n          }\n        }\n\n        this.setProperties({\n          values: copyValues\n        }, true);\n      } else {\n        addClass([element], SELECTED);\n      }\n    } else {\n      addClass([element], SELECTED);\n    }\n\n    this.isDateSelected = true;\n  };\n\n  CalendarBase.prototype.checkPresentDate = function (dates, values) {\n    var previousValue = false;\n\n    if (!isNullOrUndefined(values)) {\n      for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var localDateString = this.globalize.formatDate(dates, {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n\n        if (localDateString === tempDateString) {\n          previousValue = true;\n        }\n      }\n    }\n\n    return previousValue;\n  };\n\n  CalendarBase.prototype.setAriaActiveDescendant = function () {\n    attributes(this.table, {\n      'aria-activedescendant': '' + this.setActiveDescendant()\n    });\n  };\n\n  CalendarBase.prototype.previousIconHandler = function (disabled) {\n    if (disabled) {\n      EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n      addClass([this.previousIcon], '' + DISABLED);\n      addClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'true');\n    } else {\n      EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n      removeClass([this.previousIcon], '' + DISABLED);\n      removeClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n\n  CalendarBase.prototype.renderDayCellEvent = function (args) {\n    extend(this.renderDayCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n\n  CalendarBase.prototype.navigatedEvent = function (eve) {\n    extend(this.navigatedArgs, {\n      name: 'navigated',\n      event: eve\n    });\n    this.trigger('navigated', this.navigatedArgs);\n  };\n\n  CalendarBase.prototype.triggerNavigate = function (event) {\n    this.navigatedArgs = {\n      view: this.currentView(),\n      date: this.currentDate\n    };\n    this.navigatedEvent(event);\n  };\n\n  CalendarBase.prototype.nextIconHandler = function (disabled) {\n    if (disabled) {\n      EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n      addClass([this.nextIcon], DISABLED);\n      addClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'true');\n    } else {\n      EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n      removeClass([this.nextIcon], DISABLED);\n      removeClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n\n  CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n    var start = endDate.getFullYear();\n    var end;\n    var result;\n    end = start;\n    result = 0;\n\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n\n    if (startDate.getFullYear() > end) {\n      result = 1;\n    } else if (startDate.getFullYear() < start) {\n      result = -1;\n    }\n\n    return result;\n  };\n\n  CalendarBase.prototype.isMinMaxRange = function (date) {\n    return +date >= +this.min && +date <= +this.max;\n  };\n\n  CalendarBase.prototype.isMonthYearRange = function (date) {\n    if (this.calendarMode === 'Gregorian') {\n      return date.getMonth() >= this.min.getMonth() && date.getFullYear() >= this.min.getFullYear() && date.getMonth() <= this.max.getMonth() && date.getFullYear() <= this.max.getFullYear();\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      return islamicDate.month >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).month && islamicDate.year >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).year && islamicDate.month <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).month && islamicDate.year <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).year;\n    }\n  };\n\n  CalendarBase.prototype.compareYear = function (start, end) {\n    return this.compare(start, end, 0);\n  };\n\n  CalendarBase.prototype.compareDecade = function (start, end) {\n    return this.compare(start, end, 10);\n  };\n\n  CalendarBase.prototype.shiftArray = function (array, i) {\n    return array.slice(i).concat(array.slice(0, i));\n  };\n\n  CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n    var column = i;\n    var value = new Date(+date);\n\n    if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n      while (this.findNextTD(new Date(+date), column, max, min)) {\n        column += i;\n      }\n\n      var rangeValue = new Date(value.setDate(value.getDate() + column));\n      column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;\n    }\n\n    date.setDate(date.getDate() + column);\n  };\n\n  CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n    var value = new Date(date.setDate(date.getDate() + column));\n    var collection = [];\n    var isDisabled = false;\n\n    if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n      var tdEles = void 0;\n\n      if (this.calendarMode === 'Gregorian') {\n        tdEles = this.renderDays(value);\n      } else {\n        tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n      }\n\n      collection = tdEles.filter(function (element) {\n        return element.classList.contains(DISABLED);\n      });\n    } else {\n      collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n    }\n\n    if (+value <= +max && +value >= +min) {\n      if (collection.length) {\n        for (var i = 0; i < collection.length; i++) {\n          // eslint-disable-next-line radix\n          isDisabled = +value === +new Date(parseInt(collection[i].id, 0)) ? true : false;\n\n          if (isDisabled) {\n            break;\n          }\n        }\n      }\n    }\n\n    return isDisabled;\n  };\n\n  CalendarBase.prototype.getMaxDays = function (d) {\n    var date;\n    var tmpDate = new Date(this.checkValue(d));\n    date = 28;\n    var month = tmpDate.getMonth();\n\n    while (tmpDate.getMonth() === month) {\n      ++date;\n      tmpDate.setDate(date);\n    }\n\n    return date - 1;\n  };\n\n  CalendarBase.prototype.setDateDecade = function (date, year) {\n    date.setFullYear(year);\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n\n  CalendarBase.prototype.setDateYear = function (date, value) {\n    date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n\n    if (value.getMonth() !== date.getMonth()) {\n      date.setDate(0);\n      this.currentDate = new Date(this.checkValue(value));\n    }\n\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n\n  CalendarBase.prototype.compareMonth = function (start, end) {\n    var result;\n\n    if (start.getFullYear() > end.getFullYear()) {\n      result = 1;\n    } else if (start.getFullYear() < end.getFullYear()) {\n      result = -1;\n    } else {\n      result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n    }\n\n    return result;\n  };\n\n  CalendarBase.prototype.checkValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  CalendarBase.prototype.checkView = function () {\n    if (this.start !== 'Decade' && this.start !== 'Year') {\n      this.setProperties({\n        start: 'Month'\n      }, true);\n    }\n\n    if (this.depth !== 'Decade' && this.depth !== 'Year') {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n\n    if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n  };\n\n  CalendarBase.prototype.getDate = function (date, timezone) {\n    if (timezone) {\n      date = new Date(date.toLocaleString('en-US', {\n        timeZone: timezone\n      }));\n    }\n\n    return date;\n  };\n\n  __decorate([Property(new Date(1900, 0, 1))], CalendarBase.prototype, \"min\", void 0);\n\n  __decorate([Property(true)], CalendarBase.prototype, \"enabled\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(new Date(2099, 11, 31))], CalendarBase.prototype, \"max\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate([Property('Gregorian')], CalendarBase.prototype, \"calendarMode\", void 0);\n\n  __decorate([Property('Month')], CalendarBase.prototype, \"start\", void 0);\n\n  __decorate([Property('Month')], CalendarBase.prototype, \"depth\", void 0);\n\n  __decorate([Property(false)], CalendarBase.prototype, \"weekNumber\", void 0);\n\n  __decorate([Property('FirstDay')], CalendarBase.prototype, \"weekRule\", void 0);\n\n  __decorate([Property(true)], CalendarBase.prototype, \"showTodayButton\", void 0);\n\n  __decorate([Property('Short')], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n\n  __decorate([Property(false)], CalendarBase.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"keyConfigs\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"created\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"navigated\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"renderDayCell\", void 0);\n\n  CalendarBase = __decorate([NotifyPropertyChanges], CalendarBase);\n  return CalendarBase;\n}(Component);\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\n\n\nvar Calendar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(Calendar, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarModel} options - Specifies the Calendar model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function Calendar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Calendar.prototype.render = function () {\n    if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n      throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n    }\n\n    if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var tempValues = [];\n      var copyValues = [];\n\n      for (var limit = 0; limit < this.values.length; limit++) {\n        if (tempValues.indexOf(+this.values[limit]) === -1) {\n          tempValues.push(+this.values[limit]);\n          copyValues.push(this.values[limit]);\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n\n      for (var index = 0; index < this.values.length; index++) {\n        if (!this.checkDateValue(this.values[index])) {\n          if (typeof this.values[index] === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n            var copyDate = new Date(this.checkValue(this.values[index]));\n            this.values.splice(index, 1);\n            this.values.splice(index, 0, copyDate);\n          } else {\n            this.values.splice(index, 1);\n          }\n        }\n      }\n\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n      this.previousValues = this.values.length;\n    }\n\n    this.validateDate();\n    this.minMaxUpdate();\n\n    if (this.getModuleName() === 'calendar') {\n      this.setEnable(this.enabled);\n      this.setClass(this.cssClass);\n    }\n\n    _super.prototype.render.call(this);\n\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n\n      if (form) {\n        EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n      }\n\n      this.setTimeZone(this.serverTimezoneOffset);\n    }\n\n    this.renderComplete();\n  };\n\n  Calendar.prototype.setEnable = function (enable) {\n    if (!enable) {\n      addClass([this.element], DISABLED);\n    } else {\n      removeClass([this.element], DISABLED);\n    }\n  };\n\n  Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n      removeClass([this.element], oldCssClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      addClass([this.element], newCssClass.split(' '));\n    }\n  };\n\n  Calendar.prototype.isDayLightSaving = function () {\n    var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  };\n\n  Calendar.prototype.setTimeZone = function (offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      var serverTimezoneDiff = offsetValue;\n      var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n    }\n  };\n\n  Calendar.prototype.formResetHandler = function () {\n    this.setProperties({\n      value: null\n    }, true);\n  };\n\n  Calendar.prototype.validateDate = function () {\n    if (typeof this.value === 'string') {\n      this.setProperties({\n        value: this.checkDateValue(new Date(this.checkValue(this.value)))\n      }, true); // persist the value property.\n    }\n\n    _super.prototype.validateDate.call(this, this.value);\n\n    if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n      this.currentDate = new Date(this.checkValue(this.value));\n    }\n\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  };\n\n  Calendar.prototype.minMaxUpdate = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n        this.setProperties({\n          value: this.min\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n          this.setProperties({\n            value: this.max\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        }\n      }\n    }\n\n    if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n      if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n        _super.prototype.minMaxUpdate.call(this, this.min);\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n          _super.prototype.minMaxUpdate.call(this, this.max);\n        }\n      }\n    } else {\n      _super.prototype.minMaxUpdate.call(this, this.value);\n    }\n  };\n\n  Calendar.prototype.generateTodayVal = function (value) {\n    var tempValue = new Date();\n\n    if (!isNullOrUndefined(this.timezone)) {\n      tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n    }\n\n    if (value && isNullOrUndefined(this.timezone)) {\n      tempValue.setHours(value.getHours());\n      tempValue.setMinutes(value.getMinutes());\n      tempValue.setSeconds(value.getSeconds());\n      tempValue.setMilliseconds(value.getMilliseconds());\n    } else {\n      tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n    }\n\n    return tempValue;\n  };\n\n  Calendar.prototype.todayButtonClick = function (e) {\n    if (this.showTodayButton) {\n      var tempValue = this.generateTodayVal(this.value);\n      this.setProperties({\n        value: tempValue\n      }, true);\n      this.isTodayClicked = true;\n      this.todayButtonEvent = e;\n\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n\n        if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n          copyValues.push(tempValue);\n          this.setProperties({\n            values: copyValues\n          });\n        }\n      }\n\n      _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n    }\n  };\n\n  Calendar.prototype.keyActionHandle = function (e) {\n    _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Calendar.prototype.preRender = function () {\n    var _this = this;\n\n    this.changeHandler = function (e) {\n      _this.triggerChange(e);\n    };\n\n    this.checkView();\n\n    _super.prototype.preRender.call(this, this.value);\n  };\n  /**\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.createContent = function () {\n    this.previousDate = this.value;\n    this.previousDateTime = this.value;\n\n    _super.prototype.createContent.call(this);\n  };\n\n  Calendar.prototype.minMaxDate = function (localDate) {\n    return _super.prototype.minMaxDate.call(this, localDate);\n  };\n\n  Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n    _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n  };\n\n  Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n    var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n\n    if (this.isMultiSelection) {\n      _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n    }\n\n    return tempDays;\n  };\n\n  Calendar.prototype.renderYears = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderYears.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderYears(e, this.value);\n    }\n  };\n\n  Calendar.prototype.renderDecades = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderDecades.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderDecade(e, this.value);\n    }\n  };\n\n  Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n    }\n\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler();\n  };\n\n  Calendar.prototype.clickHandler = function (e) {\n    var eve = e.currentTarget;\n    this.isPopupClicked = true;\n\n    if (eve.classList.contains(OTHERMONTH)) {\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n\n        if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n          copyValues.push(this.getIdValue(e, null));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: this.values[this.values.length - 1]\n          }, true);\n        } else {\n          this.previousDates = true;\n        }\n      } else {\n        this.setProperties({\n          value: this.getIdValue(e, null)\n        }, true);\n      }\n    }\n\n    var storeView = this.currentView();\n\n    _super.prototype.clickHandler.call(this, e, this.value);\n\n    if (this.isMultiSelection && this.currentDate !== this.value && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n      this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n    }\n  };\n\n  Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n    _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Return the component name.\n   * @private\n   */\n\n\n  Calendar.prototype.getModuleName = function () {\n    _super.prototype.getModuleName.call(this);\n\n    return 'calendar';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  Calendar.prototype.getPersistData = function () {\n    _super.prototype.getPersistData.call(this);\n\n    var keyEntity = ['value', 'values'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    this.effect = '';\n    this.rangeValidation(this.min, this.max);\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'value':\n          if (this.isDateSelected) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: new Date(this.checkValue(newProp.value))\n              }, true);\n            } else {\n              newProp.value = new Date(this.checkValue(newProp.value));\n            }\n\n            if (isNaN(+this.value)) {\n              this.setProperties({\n                value: oldProp.value\n              }, true);\n            }\n\n            this.update();\n          }\n\n          break;\n\n        case 'values':\n          if (this.isDateSelected) {\n            if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n              this.setProperties({\n                values: null\n              }, true);\n            } else {\n              var copyValues = this.copyValues(this.values);\n\n              for (var index = 0; index < copyValues.length; index++) {\n                var tempDate = copyValues[index];\n\n                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                  copyValues.push(tempDate);\n                }\n              }\n\n              this.setProperties({\n                values: copyValues\n              }, true);\n\n              if (this.values.length > 0) {\n                this.setProperties({\n                  value: newProp.values[newProp.values.length - 1]\n                }, true);\n              }\n            }\n\n            this.validateValues(this.isMultiSelection, this.values);\n            this.update();\n          }\n\n          break;\n\n        case 'isMultiSelection':\n          if (this.isDateSelected) {\n            this.setProperties({\n              isMultiSelection: newProp.isMultiSelection\n            }, true);\n            this.update();\n          }\n\n          break;\n\n        case 'enabled':\n          this.setEnable(this.enabled);\n          break;\n\n        case 'cssClass':\n          if (this.getModuleName() === 'calendar') {\n            this.setClass(newProp.cssClass, oldProp.cssClass);\n          }\n\n          break;\n\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n\n      }\n    }\n\n    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  Calendar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n\n      if (form) {\n        EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n      }\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n    this.minMaxUpdate();\n\n    _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * This method is used to add the single or multiple dates to the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.addDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number') {\n      var copyValues = this.copyValues(this.values);\n\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n\n        for (var i = 0; i < tempDates.length; i++) {\n          if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n            if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n              copyValues.push(tempDates[i]);\n            } else {\n              copyValues = [new Date(+tempDates[i])];\n            }\n          }\n        }\n      } else {\n        if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n          if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n            copyValues.push(dates);\n          } else {\n            copyValues = [new Date(+dates)];\n          }\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n\n      this.validateValues(this.isMultiSelection, copyValues);\n      this.update();\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * This method is used to remove the single or multiple dates from the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.removeDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var copyValues = this.copyValues(this.values);\n\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n\n        for (var index = 0; index < tempDates.length; index++) {\n          for (var i = 0; i < copyValues.length; i++) {\n            if (+copyValues[i] === +tempDates[index]) {\n              copyValues.splice(i, 1);\n            }\n          }\n        }\n      } else {\n        for (var i = 0; i < copyValues.length; i++) {\n          if (+copyValues[i] === +dates) {\n            copyValues.splice(i, 1);\n          }\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, false);\n      this.update();\n\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * To set custom today date in calendar\n   *\n   * @param {Date} date - Specifies date value to be set.\n   * @private\n   * @returns {void}\n   */\n\n\n  Calendar.prototype.setTodayDate = function (date) {\n    var todayDate = new Date(+date);\n    this.setProperties({\n      value: todayDate\n    }, true);\n\n    _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n  };\n\n  Calendar.prototype.update = function () {\n    this.validateDate();\n    this.minMaxUpdate();\n\n    _super.prototype.setValueUpdate.call(this);\n  };\n\n  Calendar.prototype.selectDate = function (e, date, element) {\n    _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n\n    if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n    }\n\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler(e);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Calendar.prototype.changeEvent = function (e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf()) || this.isMultiSelection) {\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.changedArgs);\n      }\n\n      this.previousDate = new Date(+this.value);\n    }\n  };\n\n  Calendar.prototype.triggerChange = function (e) {\n    if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n      e = this.todayButtonEvent;\n      this.isTodayClicked = false;\n    }\n\n    this.changedArgs.event = e || null;\n    this.changedArgs.isInteracted = !isNullOrUndefined(e);\n\n    if (!isNullOrUndefined(this.value)) {\n      this.setProperties({\n        value: this.value\n      }, true);\n    }\n\n    if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) && +new Date(this.value.toDateString()) !== +new Date(this.previousDate.toDateString()) || this.previousDate == null && !isNaN(+this.value))) {\n      this.changeEvent(e);\n    } else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n      this.changeEvent(e);\n      this.previousValues = this.values.length;\n    }\n  };\n\n  __decorate([Property(null)], Calendar.prototype, \"value\", void 0);\n\n  __decorate([Property(null)], Calendar.prototype, \"values\", void 0);\n\n  __decorate([Property(false)], Calendar.prototype, \"isMultiSelection\", void 0);\n\n  __decorate([Event()], Calendar.prototype, \"change\", void 0);\n\n  Calendar = __decorate([NotifyPropertyChanges], Calendar);\n  return Calendar;\n}(CalendarBase);\n/**\n *\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\n\n\nvar OTHERMONTH$1 = 'e-other-month';\nvar YEAR$1 = 'e-year';\nvar MONTH$1 = 'e-month';\nvar DECADE$1 = 'e-decade';\nvar DISABLED$1 = 'e-disabled';\nvar OVERLAY$1 = 'e-overlay';\nvar WEEKEND$1 = 'e-weekend';\nvar WEEKNUMBER$1 = 'e-week-number';\nvar SELECTED$1 = 'e-selected';\nvar FOCUSEDDATE$1 = 'e-focused-date';\nvar OTHERMONTHROW$1 = 'e-month-hide';\nvar TODAY$1 = 'e-today';\nvar LINK$1 = 'e-day';\nvar CELL$1 = 'e-cell';\nvar dayMilliSeconds$1 = 86400000;\nvar minDecade = 2060;\nvar maxDecade = 2069;\n\nvar Islamic =\n/** @__PURE__ @class */\nfunction () {\n  function Islamic(instance) {\n    this.calendarInstance = instance;\n  }\n\n  Islamic.prototype.getModuleName = function () {\n    return 'islamic';\n  };\n\n  Islamic.prototype.islamicTitleUpdate = function (date, view) {\n    var globalize = new Internationalization(this.calendarInstance.locale);\n\n    switch (view) {\n      case 'days':\n        this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'MMMMyyyy',\n          calendar: 'islamic'\n        });\n        break;\n\n      case 'months':\n        this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'yyyy',\n          calendar: 'islamic'\n        });\n    }\n  };\n\n  Islamic.prototype.islamicRenderDays = function (currentDate, value, multiSelection, values) {\n    var tdEles = [];\n    var cellsCount = 42;\n    var localDate = new Date(this.islamicInValue(currentDate));\n    var minMaxDate;\n    this.islamicTitleUpdate(currentDate, 'days');\n    var islamicDate = this.getIslamicDate(localDate);\n    var gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n    var currentMonth = islamicDate.month;\n    localDate = gregorianObject;\n\n    while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n      this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n    }\n\n    for (var day = 0; day < cellsCount; ++day) {\n      var weekEle = this.calendarInstance.createElement('td', {\n        className: CELL$1\n      });\n      var weekAnchor = this.calendarInstance.createElement('span');\n\n      if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n        weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER$1);\n        tdEles.push(weekEle);\n      }\n\n      minMaxDate = new Date(+localDate);\n      localDate = this.calendarInstance.minMaxDate(localDate);\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full',\n        calendar: 'islamic'\n      };\n      var date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var tdEle = this.islamicDayCell(localDate);\n      var title = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: 'islamic'\n      });\n      var dayLink = this.calendarInstance.createElement('span');\n      dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'd',\n        calendar: 'islamic'\n      });\n      var disabled = this.calendarInstance.min > localDate || this.calendarInstance.max < localDate;\n\n      if (disabled) {\n        addClass([tdEle], DISABLED$1);\n        addClass([tdEle], OVERLAY$1);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n\n      var hijriMonthObject = this.getIslamicDate(localDate);\n\n      if (currentMonth !== hijriMonthObject.month) {\n        addClass([tdEle], OTHERMONTH$1);\n      }\n\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND$1);\n      }\n\n      tdEle.appendChild(dayLink);\n      this.calendarInstance.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      var argument = this.calendarInstance.renderDayCellArgs;\n      this.calendarInstance.renderDayCellEvent(argument);\n\n      if (argument.isDisabled) {\n        if (this.calendarInstance.isMultiSelection) {\n          if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n              var localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd',\n                calendar: 'islamic'\n              }));\n              var tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], {\n                type: 'date',\n                skeleton: 'yMd',\n                calendar: 'islamic'\n              }));\n\n              if (localDateString === tempDateString) {\n                this.calendarInstance.values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (value && +value === +argument.date) {\n          this.calendarInstance.setProperties({\n            value: null\n          }, true);\n        }\n      }\n\n      if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n        addClass([tdEle], DISABLED$1);\n        addClass([tdEle], OVERLAY$1);\n\n        if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n          this.calendarInstance.todayDisabled = true;\n        }\n      }\n\n      var otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n      var disabledCls = tdEle.classList.contains(DISABLED$1);\n\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n      }\n\n      if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) && !otherMnthBool && !disabledCls) {\n        for (var tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n          var localDateString = this.calendarInstance.globalize.formatDate(localDate, {\n            type: 'date',\n            skeleton: 'short',\n            calendar: 'islamic'\n          });\n          var tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], {\n            type: 'date',\n            skeleton: 'short',\n            calendar: 'islamic'\n          });\n\n          if (localDateString === tempDateString && this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n            addClass([tdEle], SELECTED$1);\n          } else {\n            this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n\n        if (this.calendarInstance.values.length <= 0) {\n          this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED$1);\n      } else {\n        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n      }\n\n      if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n        if (date.getFullYear() === new Date().getFullYear()) {\n          addClass([tdEle], TODAY$1);\n        }\n      }\n\n      localDate = new Date(+minMaxDate);\n      tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n      this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n    }\n\n    return tdEles;\n  };\n\n  Islamic.prototype.islamicIconHandler = function () {\n    new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n    var date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Month':\n        {\n          var prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n          var nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevMonthCompare);\n          this.calendarInstance.nextIconHandler(nextMonthCompare);\n        }\n        break;\n\n      case 'Year':\n        {\n          var prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n          var nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevYearCompare);\n          this.calendarInstance.nextIconHandler(nextYearCompare);\n        }\n        break;\n\n      case 'Decade':\n        {\n          var prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n          var nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevDecadeCompare);\n          this.calendarInstance.nextIconHandler(nextDecadeCompare);\n        }\n    }\n  };\n\n  Islamic.prototype.islamicNext = function () {\n    this.calendarInstance.effect = '';\n    var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Year':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n        this.calendarInstance.switchView(view);\n        break;\n\n      case 'Month':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n        this.calendarInstance.switchView(view);\n        break;\n\n      case 'Decade':\n        this.calendarInstance.nextIconClicked = true;\n        islamicDate.year = islamicDate.year - this.calendarInstance.headerElement.textContent.split('-')[0].trim() === 1 ? islamicDate.year + 1 : islamicDate.year;\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n        this.calendarInstance.switchView(view);\n        break;\n    }\n  };\n\n  Islamic.prototype.islamicPrevious = function () {\n    var currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    this.calendarInstance.effect = '';\n    var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Month':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.calendarInstance.previousIconClicked = true;\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n    }\n  };\n\n  Islamic.prototype.islamicRenderYears = function (e, value) {\n    this.calendarInstance.removeTableHeadElement();\n    var numCells = 4;\n    var tdEles = [];\n    var valueUtil = isNullOrUndefined(value);\n    var curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n    var localDate = curDate;\n    var islamicDate = this.getIslamicDate(localDate);\n    var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n    localDate = gregorianObject;\n    var mon = islamicDate.month;\n    var yr = islamicDate.year;\n    var curYrs = islamicDate.year;\n    var minYr = this.getIslamicDate(this.calendarInstance.min).year;\n    var minMonth = this.getIslamicDate(this.calendarInstance.min).month;\n    var maxYr = this.getIslamicDate(this.calendarInstance.max).year;\n    var maxMonth = this.getIslamicDate(this.calendarInstance.max).month;\n    this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n\n    for (var month = 1; month <= 12; ++month) {\n      var islamicDate_1 = this.getIslamicDate(localDate);\n      var gregorianObject_1 = HijriParser.toGregorian(islamicDate_1.year, month, 1);\n      localDate = gregorianObject_1;\n      var tdEle = this.islamicDayCell(localDate);\n      var dayLink = this.calendarInstance.createElement('span');\n      var localMonth = value && this.getIslamicDate(value).month === this.getIslamicDate(localDate).month;\n      var select$$1 = value && this.getIslamicDate(value).year === yr && localMonth;\n      dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'dateTime',\n        format: 'MMM',\n        calendar: 'islamic'\n      });\n\n      if (this.calendarInstance.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.calendarInstance.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED$1);\n      } else if (!valueUtil && select$$1) {\n        addClass([tdEle], SELECTED$1);\n      } else {\n        if (this.getIslamicDate(localDate).month === mon && this.getIslamicDate(this.calendarInstance.currentDate).month === mon) {\n          addClass([tdEle], FOCUSEDDATE$1);\n        }\n      }\n\n      if (!tdEle.classList.contains(DISABLED$1)) {\n        EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n  };\n\n  Islamic.prototype.islamicRenderDecade = function (e, value) {\n    this.calendarInstance.removeTableHeadElement();\n    var numCells = 4;\n    var yearCell = 12;\n    var tdEles = [];\n    var localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n    var islamicDate = this.getIslamicDate(localDate);\n    var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n    localDate = gregorianObject;\n    var localYr = localDate.getFullYear();\n    var startYr = new Date(this.islamicInValue(localYr - localYr % 10));\n    var endYr = new Date(this.islamicInValue(localYr - localYr % 10 + (10 - 1)));\n    var startFullYr = startYr.getFullYear();\n    var endFullYr = endYr.getFullYear();\n    var startHdrYr = this.calendarInstance.globalize.formatDate(startYr, {\n      type: 'dateTime',\n      format: 'y',\n      calendar: 'islamic'\n    });\n    var endHdrYr = this.calendarInstance.globalize.formatDate(endYr, {\n      type: 'dateTime',\n      format: 'y',\n      calendar: 'islamic'\n    });\n\n    if (this.calendarInstance.islamicPreviousHeader) {\n      startHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[0].trim();\n      endHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[1].trim();\n      this.calendarInstance.islamicPreviousHeader = null;\n    }\n\n    var splityear = this.calendarInstance.headerElement.textContent.split('-');\n\n    if (this.calendarInstance.previousIconClicked) {\n      for (var i = 0; i <= splityear.length; i++) {\n        endHdrYr = endHdrYr - splityear[i] === 2 || splityear[i] - endHdrYr === 2 ? (parseInt(endHdrYr) + 1).toString() : endHdrYr - splityear[i] === 3 || splityear[i] - endHdrYr === 3 ? (parseInt(endHdrYr) + 2).toString() : endHdrYr - splityear[i] === 4 || splityear[i] - endHdrYr === 4 ? (parseInt(endHdrYr) + 3).toString() : endHdrYr - splityear[i] === 5 || splityear[i] - endHdrYr === 5 ? (parseInt(endHdrYr) + 4).toString() : endHdrYr;\n\n        if (endHdrYr - splityear[i] === 0 || splityear[i] - endHdrYr === 0) {\n          endHdrYr = (parseInt(endHdrYr) - 1).toString();\n        }\n      }\n\n      startHdrYr = endHdrYr - startHdrYr === 10 ? (parseInt(startHdrYr) + 1).toString() : endHdrYr - startHdrYr === 11 ? (parseInt(startHdrYr) + 2).toString() : endHdrYr - startHdrYr === 12 ? (parseInt(startHdrYr) + 3).toString() : startHdrYr;\n      startHdrYr = endHdrYr - startHdrYr === 8 ? (parseInt(startHdrYr) - 1).toString() : startHdrYr;\n    }\n\n    if (this.calendarInstance.nextIconClicked) {\n      for (var i = 0; i <= splityear.length; i++) {\n        if (startHdrYr - splityear[i] === 0 || splityear[i] - startHdrYr === 0) {\n          startHdrYr = (parseInt(startHdrYr) + 1).toString();\n        }\n\n        if (startHdrYr - splityear[i] === 2 && startHdrYr > splityear[i].trim()) {\n          startHdrYr = (parseInt(startHdrYr) - 1).toString();\n        }\n\n        if (splityear[i] - startHdrYr === 1 && startHdrYr < splityear[i].trim()) {\n          startHdrYr = (parseInt(startHdrYr) + 2).toString();\n        }\n      }\n\n      endHdrYr = endHdrYr - startHdrYr === 10 ? (parseInt(endHdrYr) - 1).toString() : endHdrYr;\n      endHdrYr = endHdrYr - startHdrYr === 7 ? (parseInt(endHdrYr) + 2).toString() : endHdrYr - startHdrYr === 8 ? (parseInt(endHdrYr) + 1).toString() : endHdrYr;\n    }\n\n    this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    this.calendarInstance.nextIconClicked = this.calendarInstance.previousIconClicked = false;\n    var year = (parseInt(startHdrYr) - 2).toString();\n    startFullYr = Math.round(parseInt(startHdrYr) * 0.97 + 622);\n    endFullYr = Math.round(parseInt(endHdrYr) * 0.97 + 622);\n    var startYear = Math.round(parseInt(year) * 0.97 + 622);\n\n    for (var rowCount = 1; rowCount <= yearCell; ++rowCount) {\n      var year_1 = startYear + rowCount;\n      localDate.setFullYear(year_1);\n      localDate.setDate(1);\n      localDate.setMonth(0);\n\n      if (this.getIslamicDate(localDate).year - islamicDate.year > 1) {\n        localDate.setMonth(1);\n        rowCount = rowCount - 1;\n        localDate.setFullYear(localDate.getFullYear() - 1);\n      }\n\n      islamicDate = this.getIslamicDate(localDate);\n      var gregorianObject_2 = HijriParser.toGregorian(islamicDate.year, 1, 1);\n      localDate = gregorianObject_2;\n\n      if (islamicDate.year === parseInt(startHdrYr) - 1 || islamicDate.year >= startHdrYr && islamicDate.year <= endFullYr || islamicDate.year === parseInt(endHdrYr) + 1) {\n        var tdEle = this.islamicDayCell(localDate);\n        attributes(tdEle, {\n          'role': 'gridcell'\n        });\n        var dayLink = this.calendarInstance.createElement('span');\n        dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n          type: 'dateTime',\n          format: 'y',\n          calendar: 'islamic'\n        });\n\n        if (islamicDate.year === parseInt(startHdrYr) - 1 || year_1 < startFullYr || year_1 > endFullYr && islamicDate.year !== parseInt(endHdrYr)) {\n          addClass([tdEle], OTHERMONTH$1);\n        } else if (year_1 < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear() || year_1 > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n          addClass([tdEle], DISABLED$1);\n\n          if (year_1 < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear() || year_1 > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n            addClass([tdEle], DISABLED$1);\n          }\n        } else if (!isNullOrUndefined(value) && this.getIslamicDate(localDate).year === this.getIslamicDate(value).year) {\n          addClass([tdEle], SELECTED$1);\n        } else {\n          if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED$1)) {\n            addClass([tdEle], FOCUSEDDATE$1);\n          }\n        }\n\n        if (!tdEle.classList.contains(DISABLED$1)) {\n          EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n        }\n\n        tdEle.appendChild(dayLink);\n        tdEles.push(tdEle);\n      }\n    }\n\n    this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n  };\n\n  Islamic.prototype.islamicDayCell = function (localDate) {\n    var dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: 'islamic'\n    };\n    var formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n    var date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n    var value = date.valueOf();\n    var attrs = {\n      className: CELL$1,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false',\n        'role': 'gridcell'\n      }\n    };\n    return this.calendarInstance.createElement('td', attrs);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Islamic.prototype.islamicRenderTemplate = function (elements, count, classNm, e, value) {\n    var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    var trEle;\n    this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n    this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n    removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n    addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n    var weekNumCell = 41;\n    var numberCell = 35;\n    var otherMonthCell = 6;\n    var row = count;\n    var rowCount = 0;\n\n    for (var dayCell = 0; dayCell < Math.round(elements.length / count); ++dayCell) {\n      trEle = this.calendarInstance.createElement('tr', {\n        attrs: {\n          'role': 'row'\n        }\n      });\n\n      for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n        if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n          addClass([elements[rowCount].children[0]], [LINK$1]);\n          rippleEffect(elements[rowCount].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n\n        trEle.appendChild(elements[rowCount]);\n\n        if (this.calendarInstance.weekNumber && rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n          addClass([trEle], OTHERMONTHROW$1);\n        }\n\n        if (!this.calendarInstance.weekNumber && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n          addClass([trEle], OTHERMONTHROW$1);\n        }\n\n        if (this.calendarInstance.weekNumber) {\n          if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n        } else {\n          if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n        }\n      }\n\n      row = row + count;\n      rowCount = rowCount + 0;\n      this.calendarInstance.tableBodyElement.appendChild(trEle);\n    }\n\n    this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n    this.islamicIconHandler();\n\n    if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()) || view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())) {\n      this.calendarInstance.navigateHandler(e);\n    }\n\n    this.calendarInstance.setAriaActiveDescendant();\n    this.calendarInstance.changedArgs = {\n      value: this.calendarInstance.value,\n      values: this.calendarInstance.values\n    };\n    this.calendarInstance.changeHandler();\n  };\n\n  Islamic.prototype.islamicCompareMonth = function (start, end) {\n    var hijriStart = this.getIslamicDate(start);\n    var hijriEnd = this.getIslamicDate(end);\n    var result;\n\n    if (hijriStart.year > hijriEnd.year) {\n      result = 1;\n    } else if (hijriStart.year < hijriEnd.year) {\n      result = -1;\n    } else {\n      result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n    }\n\n    return result;\n  };\n\n  Islamic.prototype.islamicCompare = function (startDate, endDate, modifier) {\n    var hijriStart = this.getIslamicDate(startDate);\n    var hijriEnd = this.getIslamicDate(endDate);\n    var start = hijriEnd.year;\n    var end;\n    var result;\n    end = start;\n    result = 0;\n\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n\n    if (hijriStart.year > end) {\n      result = 1;\n    } else if (this.calendarInstance.currentView() === 'Decade' && hijriStart.year < start && !(startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade)) {\n      result = -1;\n    } else if (hijriStart.year < start && this.calendarInstance.currentView() === 'Year') {\n      result = -1;\n    }\n\n    return result;\n  };\n\n  Islamic.prototype.getIslamicDate = function (date) {\n    return HijriParser.getHijriDate(date);\n  };\n\n  Islamic.prototype.toGregorian = function (year, month, date) {\n    return HijriParser.toGregorian(year, month, date);\n  };\n\n  Islamic.prototype.hijriCompareYear = function (start, end) {\n    return this.islamicCompare(start, end, 0);\n  };\n\n  Islamic.prototype.hijriCompareDecade = function (start, end) {\n    return this.islamicCompare(start, end, 10);\n  };\n\n  Islamic.prototype.destroy = function () {\n    this.calendarInstance = null;\n  };\n\n  Islamic.prototype.islamicInValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  return Islamic;\n}();\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\n\n\nvar DATEWRAPPER = 'e-date-wrapper';\nvar ROOT$1 = 'e-datepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar POPUPWRAPPER = 'e-popup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar INPUTCONTAINER = 'e-input-group';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTROOT = 'e-input';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar OVERFLOW = 'e-date-overflow';\nvar DATEICON = 'e-date-icon';\nvar ICONS = 'e-icons';\nvar OPENDURATION = 300;\nvar OFFSETVALUE = 4;\nvar SELECTED$2 = 'e-selected';\nvar FOCUSEDDATE$2 = 'e-focused-date';\nvar NONEDIT = 'e-non-edit';\nvar containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\n\nvar DatePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(DatePicker, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @param {DatePickerModel} options - Specifies the DatePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function DatePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.previousElementValue = '';\n    _this.isDateIconClicked = false;\n    _this.isAltKeyPressed = false;\n    _this.isInteracted = true;\n    _this.invalidValueString = null;\n    _this.checkPreviousValue = null;\n    _this.maskedDateValue = '';\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.isIconClicked = false;\n    _this.isDynamicValueChanged = false;\n    _this.moduleName = _this.getModuleName();\n    _this.isFocused = false;\n    _this.datepickerOptions = options;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DatePicker.prototype.render = function () {\n    this.initialize();\n    this.bindEvents();\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n    }\n\n    this.renderComplete();\n    this.setTimeZone(this.serverTimezoneOffset);\n  };\n\n  DatePicker.prototype.setTimeZone = function (offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      var serverTimezoneDiff = offsetValue;\n      var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n      this.updateInput();\n    }\n  };\n\n  DatePicker.prototype.isDayLightSaving = function () {\n    var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  };\n\n  DatePicker.prototype.setAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.updateIconState();\n  };\n\n  DatePicker.prototype.updateIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [NONEDIT]);\n      } else {\n        addClass([this.inputWrapper.container], [NONEDIT]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [NONEDIT]);\n    }\n  };\n\n  DatePicker.prototype.initialize = function () {\n    this.checkInvalidValue(this.value);\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n\n    this.createInput();\n    this.updateHtmlAttributeToWrapper();\n    this.setAllowEdit();\n    this.updateInput();\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      this.updateInputValue(this.maskedDateValue);\n    }\n\n    this.previousElementValue = this.inputElement.value;\n    this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.inputValueCopy = this.value;\n  };\n\n  DatePicker.prototype.createInput = function () {\n    var ariaAttrs = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-invalid': 'false'\n    };\n\n    if (this.getModuleName() === 'datepicker') {\n      var l10nLocale = {\n        placeholder: this.placeholder\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n      this.setProperties({\n        placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n      }, true);\n    }\n\n    var updatedCssClassValues = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    var isBindClearAction = this.enableMask ? false : true;\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      floatLabelType: this.floatLabelType,\n      bindClearAction: isBindClearAction,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValues,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n    }, this.createElement);\n    this.setWidth(this.width);\n\n    if (this.inputElement.name !== '') {\n      this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n    } else {\n      this.inputElement.setAttribute('name', '' + this.element.id);\n    }\n\n    attributes(this.inputElement, ariaAttrs);\n\n    if (!this.enabled) {\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.inputElement.tabIndex = -1;\n    } else {\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    }\n\n    Input.addAttributes({\n      'aria-label': 'select'\n    }, this.inputWrapper.buttons[0]);\n    addClass([this.inputWrapper.container], DATEWRAPPER);\n  };\n\n  DatePicker.prototype.updateInput = function (isDynamic) {\n    if (isDynamic === void 0) {\n      isDynamic = false;\n    }\n\n    var formatOptions;\n\n    if (this.value && !this.isCalendar() && !isDynamic) {\n      this.disabledDates();\n    }\n\n    if (isNaN(+new Date(this.checkValue(this.value)))) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (this.strictMode) {\n      //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n      _super.prototype.validateDate.call(this);\n\n      this.minMaxUpdates();\n\n      _super.prototype.minMaxUpdate.call(this);\n    }\n\n    if (!isNullOrUndefined(this.value)) {\n      var dateValue = this.value;\n      var dateString = void 0;\n      var tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          dateString = this.globalize.formatDate(this.value, {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          });\n        } else {\n          dateString = this.globalize.formatDate(this.value, {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          });\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        dateString = this.globalize.formatDate(this.value, formatOptions);\n      }\n\n      if (+dateValue <= +this.max && +dateValue >= +this.min) {\n        this.updateInputValue(dateString);\n      } else {\n        var value = +dateValue >= +this.max || !+this.value || !+this.value || +dateValue <= +this.min;\n\n        if (!this.strictMode && value) {\n          this.updateInputValue(dateString);\n        }\n      }\n    }\n\n    if (isNullOrUndefined(this.value) && this.strictMode) {\n      if (!this.enableMask) {\n        this.updateInputValue('');\n      } else {\n        this.updateInputValue(this.maskedDateValue);\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.changedArgs = {\n      value: this.value\n    };\n    this.errorClass();\n    this.updateIconState();\n  };\n\n  DatePicker.prototype.minMaxUpdates = function () {\n    if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n      this.setProperties({\n        value: this.min\n      }, true);\n      this.changedArgs = {\n        value: this.value\n      };\n    } else {\n      if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n        this.setProperties({\n          value: this.max\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      }\n    }\n  };\n\n  DatePicker.prototype.checkStringValue = function (val) {\n    var returnDate = null;\n    var formatOptions = null;\n    var formatDateTime = null;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      var culture = new Internationalization(this.locale);\n\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n        formatDateTime = {\n          format: culture.getDatePattern({\n            skeleton: 'yMd'\n          }),\n          type: 'dateTime'\n        };\n      } else {\n        formatOptions = {\n          format: this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n        formatDateTime = {\n          format: culture.getDatePattern({\n            skeleton: 'yMd'\n          }),\n          type: 'dateTime',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    }\n\n    returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n\n    if (isNullOrUndefined(returnDate) && this.getModuleName() === 'datetimepicker') {\n      returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n    }\n\n    return returnDate;\n  };\n\n  DatePicker.prototype.checkInvalidValue = function (value) {\n    if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n      var valueDate = null;\n      var valueString = value;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      }\n\n      var formatOptions = null;\n      var formatDateTime = null;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        var culture = new Internationalization(this.locale);\n\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime'\n          };\n        } else {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime',\n            calendar: 'islamic'\n          };\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n      }\n\n      var invalid = false;\n\n      if (typeof valueString !== 'string') {\n        valueString = null;\n        invalid = true;\n      } else {\n        if (typeof valueString === 'string') {\n          valueString = valueString.trim();\n        }\n\n        valueDate = this.checkStringValue(valueString);\n\n        if (!valueDate) {\n          var extISOString = null;\n          var basicISOString = null; // eslint-disable-next-line\n\n          extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n          basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n          if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n            invalid = true;\n          } else {\n            valueDate = new Date(valueString);\n          }\n        }\n      }\n\n      if (invalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n      } else {\n        this.setProperties({\n          value: valueDate\n        }, true);\n      }\n    }\n  };\n\n  DatePicker.prototype.bindInputEvent = function () {\n    if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n      if (this.enableMask || this.formatString.indexOf('y') === -1) {\n        EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n      } else {\n        EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n      }\n    }\n  };\n\n  DatePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n    EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n\n    if (this.enableMask) {\n      EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n    }\n\n    this.bindInputEvent(); // To prevent the twice triggering.\n\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n    }\n\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    this.keyboardModules = new KeyboardEvents(this.inputElement, {\n      eventName: 'keydown',\n      keyAction: this.inputKeyActionHandle.bind(this),\n      keyConfigs: this.defaultKeyConfigs\n    });\n  };\n\n  DatePicker.prototype.keydownHandler = function (e) {\n    switch (e.code) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'Home':\n      case 'End':\n      case 'Delete':\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          if (e.code !== 'Delete') {\n            e.preventDefault();\n          }\n\n          this.notify(\"keyDownHandler\", {\n            module: \"MaskedDateTime\",\n            e: e\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  DatePicker.prototype.unBindEvents = function () {\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n    EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n    if (this.enableMask) {\n      EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n    }\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n    }\n  };\n\n  DatePicker.prototype.resetFormHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      var value = this.inputElement.getAttribute('value');\n\n      if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n        value = '';\n        this.inputValueCopy = null;\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.setProperties({\n        value: this.inputValueCopy\n      }, true);\n      this.restoreValue();\n\n      if (this.inputElement) {\n        this.updateInputValue(value);\n        this.errorClass();\n      }\n    }\n  };\n\n  DatePicker.prototype.restoreValue = function () {\n    this.currentDate = this.value ? this.value : new Date();\n    this.previousDate = this.value;\n    this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.globalize.formatDate(this.inputValueCopy, {\n      format: this.formatString,\n      type: 'dateTime',\n      skeleton: 'yMd'\n    });\n  };\n\n  DatePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  };\n\n  DatePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n    }\n  };\n\n  DatePicker.prototype.resetHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n    this.clear(e);\n  };\n\n  DatePicker.prototype.mouseUpHandler = function (e) {\n    if (this.enableMask) {\n      e.preventDefault();\n      this.notify(\"setMaskSelection\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  DatePicker.prototype.clear = function (event) {\n    this.setProperties({\n      value: null\n    }, true);\n\n    if (!this.enableMask) {\n      this.updateInputValue('');\n    }\n\n    var clearedArgs = {\n      event: event\n    };\n    this.trigger('cleared', clearedArgs);\n    this.invalidValueString = '';\n    this.updateInput();\n    this.popupUpdate();\n    this.changeEvent(event);\n\n    if (this.enableMask) {\n      this.notify(\"clearHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  DatePicker.prototype.preventEventBubbling = function (e) {\n    e.preventDefault(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n  };\n\n  DatePicker.prototype.updateInputValue = function (value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n\n  DatePicker.prototype.dateIconHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.isIconClicked = true;\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n      this.inputElement.blur();\n    }\n\n    e.preventDefault();\n\n    if (!this.readonly) {\n      if (this.isCalendar()) {\n        this.hide(e);\n      } else {\n        this.isDateIconClicked = true;\n        this.show(null, e);\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.inputElement.focus();\n        }\n\n        this.inputElement.focus();\n        addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        addClass(this.inputWrapper.buttons, ACTIVE);\n      }\n    }\n\n    this.isIconClicked = false;\n  };\n\n  DatePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (!isNullOrUndefined(this.htmlAttributes[key])) {\n          if (containerAttr.indexOf(key) > -1) {\n            if (key === 'class') {\n              var updatedClassValues = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n              if (updatedClassValues !== '') {\n                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n              }\n            } else if (key === 'style') {\n              var setStyle = this.inputWrapper.container.getAttribute(key);\n\n              if (!isNullOrUndefined(setStyle)) {\n                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                  setStyle = setStyle + this.htmlAttributes[key];\n                } else {\n                  setStyle = setStyle + ';' + this.htmlAttributes[key];\n                }\n              } else {\n                setStyle = this.htmlAttributes[key];\n              }\n\n              this.inputWrapper.container.setAttribute(key, setStyle);\n            } else {\n              this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DatePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (containerAttr.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  };\n\n  DatePicker.prototype.updateCssClass = function (newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n    }\n  };\n\n  DatePicker.prototype.calendarKeyActionHandle = function (e) {\n    switch (e.action) {\n      case 'escape':\n        if (this.isCalendar()) {\n          this.hide(e);\n        } else {\n          this.inputWrapper.container.children[this.index].blur();\n        }\n\n        break;\n\n      case 'enter':\n        if (!this.isCalendar()) {\n          this.show(null, e);\n        } else {\n          if (+this.value !== +this.currentDate && !this.isCalendar()) {\n            this.inputWrapper.container.children[this.index].focus();\n          }\n        }\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.inputElement.focus();\n        }\n\n        break;\n\n      case 'tab':\n        this.hide(e);\n    }\n  };\n\n  DatePicker.prototype.inputFocusHandler = function () {\n    this.isFocused = true;\n\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.enableMask && !this.inputElement.value && this.placeholder) {\n      if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.inputElement.selectionStart = 0;\n        this.inputElement.selectionEnd = this.inputElement.value.length;\n      }\n    }\n\n    var focusArguments = {\n      model: this\n    };\n    this.isDateIconClicked = false;\n    this.trigger('focus', focusArguments);\n    this.updateIconState();\n\n    if (this.openOnFocus && !this.isIconClicked) {\n      this.show();\n    }\n  };\n\n  DatePicker.prototype.inputHandler = function () {\n    this.isPopupClicked = false;\n\n    if (this.enableMask) {\n      this.notify(\"inputHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  DatePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.strictModeUpdate();\n\n    if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n      this.invalidValueString = null;\n      this.updateInputValue('');\n    }\n\n    this.updateInput();\n    this.popupUpdate();\n    this.changeTrigger(e);\n\n    if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n      if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue('');\n      }\n    }\n\n    this.errorClass();\n\n    if (this.isCalendar() && document.activeElement === this.inputElement) {\n      this.hide(e);\n    }\n\n    if (this.getModuleName() === 'datepicker') {\n      var blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n    }\n\n    if (this.isCalendar()) {\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n        eventName: 'keydown',\n        keyAction: this.calendarKeyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n\n    this.isPopupClicked = false;\n  };\n\n  DatePicker.prototype.documentHandler = function (e) {\n    if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) && e.type !== 'mousedown' || this.popupObj.element && this.popupObj.element.contains(e.target)) && e.type !== 'touchstart') {\n      e.preventDefault();\n    }\n\n    var target = e.target;\n\n    if (!closest(target, '.e-datepicker.e-popup-wrapper') && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container) && !target.classList.contains('e-day')) {\n      this.hide(e);\n      this.focusOut();\n    } else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n      // Fix for close the popup when select the previously selected value.\n      if (target.classList.contains('e-day') && !isNullOrUndefined(e.target.parentElement) && e.target.parentElement.classList.contains('e-selected') && closest(target, '.e-content') && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n        this.hide(e);\n      } else if (closest(target, '.e-footer-container') && target.classList.contains('e-today') && target.classList.contains('e-btn') && +new Date(+this.value) === +_super.prototype.generateTodayVal.call(this, this.value)) {\n        this.hide(e);\n      }\n    }\n  };\n\n  DatePicker.prototype.inputKeyActionHandle = function (e) {\n    var clickedView = this.currentView();\n\n    switch (e.action) {\n      case 'altUpArrow':\n        this.isAltKeyPressed = false;\n        this.hide(e);\n        this.inputElement.focus();\n        break;\n\n      case 'altDownArrow':\n        this.isAltKeyPressed = true;\n        this.strictModeUpdate();\n        this.updateInput();\n        this.changeTrigger(e);\n\n        if (this.getModuleName() === 'datepicker') {\n          this.show(null, e);\n        }\n\n        break;\n\n      case 'escape':\n        this.hide(e);\n        break;\n\n      case 'enter':\n        this.strictModeUpdate();\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        this.errorClass();\n\n        if (!this.isCalendar() && document.activeElement === this.inputElement) {\n          this.hide(e);\n        }\n\n        if (this.isCalendar()) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        break;\n\n      case 'tab':\n      case 'shiftTab':\n        var start = this.inputElement.selectionStart;\n        var end = this.inputElement.selectionEnd;\n\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          var length_1 = this.inputElement.value.length;\n\n          if (start == 0 && end == length_1 || end !== length_1 && e.action == 'tab' || start !== 0 && e.action == 'shiftTab') {\n            e.preventDefault();\n          }\n\n          this.notify(\"keyDownHandler\", {\n            module: \"MaskedDateTime\",\n            e: e\n          });\n          start = this.inputElement.selectionStart;\n          end = this.inputElement.selectionEnd;\n        }\n\n        this.strictModeUpdate();\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        this.errorClass();\n\n        if (this.enableMask) {\n          this.inputElement.selectionStart = start;\n          this.inputElement.selectionEnd = end;\n        }\n\n        this.hide(e);\n        break;\n\n      default:\n        this.defaultAction(e); // Fix for close the popup when select the previously selected value.\n\n        if (e.action === 'select' && clickedView === this.depth) {\n          this.hide(e);\n        }\n\n    }\n  };\n\n  DatePicker.prototype.defaultAction = function (e) {\n    this.previousDate = !isNullOrUndefined(this.value) && new Date(+this.value) || null;\n\n    if (this.isCalendar()) {\n      _super.prototype.keyActionHandle.call(this, e);\n\n      if (this.isCalendar()) {\n        attributes(this.inputElement, {\n          'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n      }\n    }\n  };\n\n  DatePicker.prototype.popupUpdate = function () {\n    if (isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || +this.value !== +this.previousDate) {\n      if (this.popupObj) {\n        if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n          removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n        }\n      }\n\n      if (!isNullOrUndefined(this.value)) {\n        if (+this.value >= +this.min && +this.value <= +this.max) {\n          var targetdate = new Date(this.checkValue(this.value));\n\n          _super.prototype.navigateTo.call(this, 'Month', targetdate);\n        }\n      }\n    }\n  };\n\n  DatePicker.prototype.strictModeUpdate = function () {\n    var format;\n    var formatOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n    } else {\n      format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n    }\n\n    if (!isNullOrUndefined(format)) {\n      var len = format.split('M').length - 1;\n\n      if (len < 3) {\n        format = format.replace('MM', 'M');\n      }\n    }\n\n    var dateOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        dateOptions = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: format,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: format,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      dateOptions = formatOptions;\n    }\n\n    var date;\n\n    if (typeof this.inputElement.value === 'string') {\n      this.inputElement.value = this.inputElement.value.trim();\n    }\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n        date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n      }\n    } else {\n      date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n      date = !isNullOrUndefined(date) && isNaN(+date) ? null : date;\n\n      if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n        if ((this.isPopupClicked || !this.isPopupClicked && this.inputElement.value === this.previousElementValue) && this.formatString.indexOf('y') === -1) {\n          date.setFullYear(this.value.getFullYear());\n        }\n      }\n    } // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n\n\n    if (this.getModuleName() === 'datepicker' && this.value && !isNaN(+this.value) && date) {\n      date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n    }\n\n    if (this.strictMode && date) {\n      this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n\n      if (this.inputElement.value !== this.previousElementValue) {\n        this.setProperties({\n          value: date\n        }, true);\n      }\n    } else if (!this.strictMode) {\n      if (this.inputElement.value !== this.previousElementValue) {\n        this.setProperties({\n          value: date\n        }, true);\n      }\n    }\n\n    if (this.strictMode && !date && this.inputElement.value === (this.enableMask ? this.maskedDateValue : '')) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (isNullOrUndefined(this.value)) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n    }\n  };\n\n  DatePicker.prototype.createCalendar = function () {\n    var _this = this;\n\n    this.popupWrapper = this.createElement('div', {\n      className: '' + ROOT$1 + ' ' + POPUPWRAPPER\n    });\n\n    if (!isNullOrUndefined(this.cssClass)) {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (Browser.isDevice) {\n      this.modelHeader();\n      this.modal = this.createElement('div');\n      this.modal.className = '' + ROOT$1 + ' e-date-modal';\n      document.body.className += ' ' + OVERFLOW;\n      this.modal.style.display = 'block';\n      document.body.appendChild(this.modal);\n    } //this.calendarElement represent the Calendar object from the Calendar class.\n\n\n    this.calendarElement.querySelector('table tbody').className = '';\n    this.popupObj = new Popup(this.popupWrapper, {\n      content: this.calendarElement,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      offsetY: OFFSETVALUE,\n      targetType: 'container',\n      enableRtl: this.enableRtl,\n      zIndex: this.zIndex,\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      open: function () {\n        if (_this.getModuleName() !== 'datetimepicker') {\n          if (document.activeElement !== _this.inputElement) {\n            _this.defaultKeyConfigs = extend(_this.defaultKeyConfigs, _this.keyConfigs);\n\n            _this.calendarElement.children[1].firstElementChild.focus();\n\n            _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {\n              eventName: 'keydown',\n              keyAction: _this.calendarKeyActionHandle.bind(_this),\n              keyConfigs: _this.defaultKeyConfigs\n            });\n            _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {\n              eventName: 'keydown',\n              keyAction: _this.calendarKeyActionHandle.bind(_this),\n              keyConfigs: _this.defaultKeyConfigs\n            });\n          }\n        }\n      },\n      close: function () {\n        if (_this.isDateIconClicked) {\n          _this.inputWrapper.container.children[_this.index].focus();\n        }\n\n        if (_this.value) {\n          _this.disabledDates();\n        }\n\n        if (_this.popupObj) {\n          _this.popupObj.destroy();\n        }\n\n        _this.resetCalendar();\n\n        detach(_this.popupWrapper);\n        _this.popupObj = _this.popupWrapper = null;\n        _this.preventArgs = null;\n        _this.calendarKeyboardModules = null;\n\n        _this.setAriaAttributes();\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n    this.popupObj.element.className += ' ' + this.cssClass;\n    this.setAriaAttributes();\n  };\n\n  DatePicker.prototype.setAriaDisabled = function () {\n    if (!this.enabled) {\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.inputElement.tabIndex = -1;\n    } else {\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    }\n  };\n\n  DatePicker.prototype.modelHeader = function () {\n    var dateOptions;\n    var modelHeader = this.createElement('div', {\n      className: 'e-model-header'\n    });\n    var yearHeading = this.createElement('h1', {\n      className: 'e-model-year'\n    });\n    var h2 = this.createElement('div');\n    var daySpan = this.createElement('span', {\n      className: 'e-model-day'\n    });\n    var monthSpan = this.createElement('span', {\n      className: 'e-model-month'\n    });\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'y',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'y',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'E',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'E',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'MMM d',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'MMM d',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n    modelHeader.appendChild(yearHeading);\n    h2.appendChild(daySpan);\n    h2.appendChild(monthSpan);\n    modelHeader.appendChild(h2);\n    this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n  };\n\n  DatePicker.prototype.changeTrigger = function (event) {\n    if (this.inputElement.value !== this.previousElementValue) {\n      if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n        if (this.isDynamicValueChanged && this.isCalendar()) {\n          this.popupUpdate();\n        }\n\n        this.changedArgs.value = this.value;\n        this.changedArgs.event = event || null;\n        this.changedArgs.element = this.element;\n        this.changedArgs.isInteracted = !isNullOrUndefined(event);\n\n        if (this.isAngular && this.preventChange) {\n          this.preventChange = false;\n        } else {\n          this.trigger('change', this.changedArgs);\n        }\n\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n        this.isInteracted = true;\n      }\n    }\n  };\n\n  DatePicker.prototype.navigatedEvent = function () {\n    this.trigger('navigated', this.navigatedArgs);\n  };\n\n  DatePicker.prototype.changeEvent = function (event) {\n    if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n      this.selectCalendar(event);\n      this.changedArgs.event = event ? event : null;\n      this.changedArgs.element = this.element;\n      this.changedArgs.isInteracted = this.isInteracted;\n\n      if (!this.isDynamicValueChanged) {\n        this.trigger('change', this.changedArgs);\n      }\n\n      this.previousDate = this.value && new Date(+this.value);\n\n      if (!this.isDynamicValueChanged) {\n        this.hide(event);\n      }\n\n      this.previousElementValue = this.inputElement.value;\n      this.errorClass();\n    }\n  };\n\n  DatePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    if (this.enableMask) {\n      modules.push({\n        args: [this],\n        member: 'MaskedDateTime'\n      });\n    }\n\n    return modules;\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DatePicker.prototype.selectCalendar = function (e) {\n    var date;\n    var tempFormat;\n    var formatOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n    } else {\n      tempFormat = this.formatString;\n    }\n\n    if (this.value) {\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n      }\n\n      if (this.enableMask) {\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n\n    if (!isNullOrUndefined(date)) {\n      this.updateInputValue(date);\n\n      if (this.enableMask) {\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  };\n\n  DatePicker.prototype.isCalendar = function () {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DatePicker.prototype.setWidth = function (width) {\n    if (typeof width === 'number') {\n      this.inputWrapper.container.style.width = formatUnit(this.width);\n    } else if (typeof width === 'string') {\n      this.inputWrapper.container.style.width = width.match(/px|%|em/) ? this.width : formatUnit(this.width);\n    } else {\n      this.inputWrapper.container.style.width = '100%';\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * Shows the Calendar.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.show = function (type, e) {\n    var _this = this;\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n      return;\n    } else {\n      var prevent_1 = true;\n      var outOfRange = void 0;\n\n      if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n        outOfRange = new Date(this.checkValue(this.value));\n        this.setProperties({\n          'value': null\n        }, true);\n      } else {\n        outOfRange = this.value || null;\n      }\n\n      if (!this.isCalendar()) {\n        _super.prototype.render.call(this);\n\n        this.setProperties({\n          'value': outOfRange || null\n        }, true);\n        this.previousDate = outOfRange;\n        this.createCalendar();\n      }\n\n      if (Browser.isDevice) {\n        this.mobilePopupWrapper = this.createElement('div', {\n          className: 'e-datepick-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobilePopupWrapper);\n      }\n\n      this.preventArgs = {\n        preventDefault: function () {\n          prevent_1 = false;\n        },\n        popup: this.popupObj,\n        event: e || null,\n        cancel: false,\n        appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n      };\n      var eventArgs = this.preventArgs;\n      this.trigger('open', eventArgs, function (eventArgs) {\n        _this.preventArgs = eventArgs;\n\n        if (prevent_1 && !_this.preventArgs.cancel) {\n          addClass(_this.inputWrapper.buttons, ACTIVE);\n\n          _this.preventArgs.appendTo.appendChild(_this.popupWrapper);\n\n          _this.popupObj.refreshPosition(_this.inputElement);\n\n          var openAnimation = {\n            name: 'FadeIn',\n            duration: Browser.isDevice ? 0 : OPENDURATION\n          };\n\n          if (_this.zIndex === 1000) {\n            _this.popupObj.show(new Animation(openAnimation), _this.element);\n          } else {\n            _this.popupObj.show(new Animation(openAnimation), null);\n          } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n          _super.prototype.setOverlayIndex.call(_this, _this.mobilePopupWrapper, _this.popupObj.element, _this.modal, Browser.isDevice);\n\n          _this.setAriaAttributes();\n        } else {\n          _this.popupObj.destroy();\n\n          _this.popupWrapper = _this.popupObj = null;\n        }\n\n        if (!isNullOrUndefined(_this.inputElement) && _this.inputElement.value === '') {\n          if (!isNullOrUndefined(_this.tableBodyElement) && _this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n            addClass([_this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n            removeClass(_this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n          }\n        }\n\n        EventHandler.add(document, 'mousedown touchstart', _this.documentHandler, _this);\n      });\n    }\n  };\n  /**\n   * Hide the Calendar.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.hide = function (event) {\n    var _this = this;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var prevent_2 = true;\n      this.preventArgs = {\n        preventDefault: function () {\n          prevent_2 = false;\n        },\n        popup: this.popupObj,\n        event: event || null,\n        cancel: false\n      };\n      removeClass(this.inputWrapper.buttons, ACTIVE);\n      removeClass([document.body], OVERFLOW);\n      var eventArgs = this.preventArgs;\n\n      if (this.isCalendar()) {\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.closeEventCallback(prevent_2, eventArgs);\n        });\n      } else {\n        this.closeEventCallback(prevent_2, eventArgs);\n      }\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  DatePicker.prototype.closeEventCallback = function (prevent, eventArgs) {\n    this.preventArgs = eventArgs;\n\n    if (this.isCalendar() && prevent && !this.preventArgs.cancel) {\n      this.popupObj.hide();\n      this.isAltKeyPressed = false;\n      this.keyboardModule.destroy();\n      removeClass(this.inputWrapper.buttons, ACTIVE);\n    }\n\n    this.setAriaAttributes();\n\n    if (Browser.isDevice && this.modal) {\n      this.modal.style.display = 'none';\n      this.modal.outerHTML = '';\n      this.modal = null;\n    }\n\n    if (Browser.isDevice) {\n      if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n        this.mobilePopupWrapper.remove();\n        this.mobilePopupWrapper = null;\n      }\n    }\n\n    EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n\n    if (Browser.isDevice && this.allowEdit && !this.readonly) {\n      this.inputElement.removeAttribute('readonly');\n    }\n\n    this.setAllowEdit();\n  };\n  /* eslint-disable jsdoc/require-param */\n\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DatePicker.prototype.focusIn = function (triggerEvent) {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS]);\n    }\n  };\n  /* eslint-enable jsdoc/require-param */\n\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  DatePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n      this.inputElement.blur();\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the DatePicker.\n   *\n   * @returns {string}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.currentView = function () {\n    var currentView;\n\n    if (this.calendarElement) {\n      // calls the Calendar currentView public method\n      currentView = _super.prototype.currentView.call(this);\n    }\n\n    return currentView;\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Navigates to specified month or year or decade view of the DatePicker.\n   *\n   * @param  {string} view - Specifies the view of the calendar.\n   * @param  {Date} date - Specifies the focused date in a view.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.navigateTo = function (view, date) {\n    if (this.calendarElement) {\n      // calls the Calendar navigateTo public method\n      _super.prototype.navigateTo.call(this, view, date);\n    }\n  };\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  DatePicker.prototype.destroy = function () {\n    this.unBindEvents();\n\n    _super.prototype.destroy.call(this);\n\n    this.keyboardModules.destroy();\n\n    if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n      _super.prototype.destroy.call(this);\n    }\n\n    var ariaAttrs = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-disabled': 'true',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttrs, this.inputElement);\n\n      if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n      this.ensureInputAttribute();\n    }\n\n    if (this.isCalendar()) {\n      if (this.popupWrapper) {\n        detach(this.popupWrapper);\n      }\n\n      this.popupObj = this.popupWrapper = null;\n      this.keyboardModule.destroy();\n    }\n\n    if (this.ngTag === null) {\n      if (this.inputElement) {\n        this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n        removeClass([this.inputElement], [INPUTROOT]);\n      }\n\n      removeClass([this.element], [ROOT$1]);\n      detach(this.inputWrapper.container);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n    }\n  };\n\n  DatePicker.prototype.ensureInputAttribute = function () {\n    var prop = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      prop[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < prop.length; i++) {\n      if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n        if (prop[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n\n        this.inputElement.removeAttribute(prop[i]);\n      } else {\n        if (prop[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n        }\n\n        this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n      }\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DatePicker.prototype.preRender = function () {\n    this.inputElementCopy = this.element.cloneNode(true);\n    removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n    this.inputElement = this.element;\n    this.formElement = closest(this.inputElement, 'form');\n    this.index = this.showClearButton ? 2 : 1;\n    this.ngTag = null;\n\n    if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n      this.ngTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    if (this.element.getAttribute('id')) {\n      if (this.ngTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      if (this.getModuleName() === 'datetimepicker') {\n        this.element.id = getUniqueID('ej2-datetimepicker');\n\n        if (this.ngTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      } else {\n        this.element.id = getUniqueID('ej2-datepicker');\n\n        if (this.ngTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      }\n    }\n\n    if (this.ngTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.checkHtmlAttributes(false);\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n\n    _super.prototype.preRender.call(this);\n  };\n\n  DatePicker.prototype.getDefaultKeyConfig = function () {\n    this.defaultKeyConfigs = {\n      altUpArrow: 'alt+uparrow',\n      altDownArrow: 'alt+downarrow',\n      escape: 'escape',\n      enter: 'enter',\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      shiftTab: 'shift+tab',\n      tab: 'tab'\n    };\n    return this.defaultKeyConfigs;\n  };\n\n  DatePicker.prototype.validationAttribute = function (target, inputElement) {\n    var nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    inputElement.setAttribute('name', nameAttribute);\n    target.removeAttribute('name');\n    var attribute = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attribute.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n        continue;\n      }\n\n      var attr = target.getAttribute(attribute[i]);\n      inputElement.setAttribute(attribute[i], attr);\n      target.removeAttribute(attribute[i]);\n    }\n  };\n\n  DatePicker.prototype.checkFormat = function () {\n    var culture = new Internationalization(this.locale);\n\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n        var skeletonString = this.format.skeleton;\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.formatString = culture.getDatePattern({\n            skeleton: skeletonString,\n            type: 'dateTime'\n          });\n        } else {\n          this.formatString = culture.getDatePattern({\n            skeleton: skeletonString,\n            type: 'date'\n          });\n        }\n      } else {\n        if (this.getModuleName() === 'datetimepicker') {\n          this.formatString = this.dateTimeFormat;\n        } else {\n          this.formatString = null;\n        }\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  DatePicker.prototype.checkHtmlAttributes = function (dynamic) {\n    this.globalize = new Internationalization(this.locale);\n    this.checkFormat();\n    this.checkView();\n    var attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n    var options;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        options = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        options = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        options = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        options = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    }\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['enabled'] === undefined || dynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['readonly'] === undefined || dynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['placeholder'] === undefined || dynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['value'] === undefined || dynamic) {\n              var value = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (+this.min === +new Date(1900, 0, 1) || dynamic) {\n              var min = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n            }\n\n            break;\n\n          case 'max':\n            if (+this.max === +new Date(2099, 11, 31) || dynamic) {\n              var max = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n            }\n\n            break;\n\n          case 'type':\n            if (this.inputElement.getAttribute(prop) !== 'text') {\n              this.inputElement.setAttribute('type', 'text');\n            }\n\n            break;\n        }\n      }\n    }\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  DatePicker.prototype.getModuleName = function () {\n    return 'datepicker';\n  };\n\n  DatePicker.prototype.disabledDates = function () {\n    var formatOptions;\n    var globalize;\n    var valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n    var previousValCopy = this.previousDate; //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n\n    this.minMaxUpdates();\n\n    _super.prototype.render.call(this);\n\n    this.previousDate = previousValCopy;\n    var date = valueCopy && +valueCopy;\n    var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n\n    if (!this.strictMode) {\n      if (typeof this.value === 'string' || typeof this.value === 'object' && +this.value !== +valueCopy) {\n        this.setProperties({\n          value: valueCopy\n        }, true);\n      }\n    }\n\n    if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n      if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n        if (!this.strictMode) {\n          this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n      }\n    }\n\n    var inputVal;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        globalize = this.globalize.formatDate(valueCopy, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        });\n      } else {\n        globalize = this.globalize.formatDate(valueCopy, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        });\n      }\n\n      inputVal = globalize;\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n    }\n\n    if (!this.popupObj) {\n      this.updateInputValue(inputVal);\n\n      if (this.enableMask) {\n        this.updateInputValue(this.maskedDateValue);\n        this.notify(\"createMask\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n    }\n  };\n\n  DatePicker.prototype.setAriaAttributes = function () {\n    if (this.isCalendar()) {\n      Input.addAttributes({\n        'aria-expanded': 'true'\n      }, this.inputElement);\n      attributes(this.inputElement, {\n        'aria-owns': this.inputElement.id + '_options'\n      });\n\n      if (this.value) {\n        attributes(this.inputElement, {\n          'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n      }\n    } else {\n      Input.addAttributes({\n        'aria-expanded': 'false'\n      }, this.inputElement);\n      this.inputElement.removeAttribute('aria-owns');\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n\n  DatePicker.prototype.errorClass = function () {\n    var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + +this.value);\n    var isDisabledDate = this.calendarElement && this.calendarElement.querySelectorAll(dateIdString)[0] && this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n\n    if (!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min && +new Date(+this.value).setMilliseconds(0) <= +this.max) || !this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate) {\n      addClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    } else {\n      removeClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'false'\n      });\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  DatePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'value':\n          this.isDynamicValueChanged = true;\n          this.isInteracted = false;\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n          this.previousElementValue = this.inputElement.value;\n\n          if (isNullOrUndefined(this.value)) {\n            this.updateInputValue('');\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n          }\n\n          this.updateInput(true);\n\n          if (+this.previousDate !== +this.value) {\n            this.changeTrigger(null);\n          }\n\n          this.isInteracted = true;\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'format':\n          this.checkFormat();\n          this.bindInputEvent();\n          this.updateInput();\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n          }\n\n          break;\n\n        case 'allowEdit':\n          this.setAllowEdit();\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(this.enabled, this.inputElement);\n          this.setAriaDisabled();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkHtmlAttributes(true);\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          this.updateInput();\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'start':\n        case 'depth':\n          this.checkView();\n\n          if (this.calendarElement) {\n            _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n          }\n\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          this.index = this.showClearButton ? 2 : 1;\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.updateInput();\n          break;\n\n        case 'width':\n          this.setWidth(newProp.width);\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            this.updateInputValue(this.maskedDateValue);\n            this.bindInputEvent();\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.updateInputValue('');\n            }\n          }\n\n          break;\n\n        default:\n          if (this.calendarElement && this.isCalendar()) {\n            _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n          }\n\n          break;\n      }\n\n      if (!this.isDynamicValueChanged && !this.isIconClicked) {\n        this.hide(null);\n      }\n\n      this.isDynamicValueChanged = false;\n    }\n  };\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"width\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"value\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"cssClass\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"format\", void 0);\n\n  __decorate$1([Property(true)], DatePicker.prototype, \"enabled\", void 0);\n\n  __decorate$1([Property({})], DatePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"values\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"isMultiSelection\", void 0);\n\n  __decorate$1([Property(true)], DatePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$1([Property(true)], DatePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$1([Property(1000)], DatePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"readonly\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$1([Property('Never')], DatePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"enableMask\", void 0);\n\n  __decorate$1([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], DatePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"open\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"cleared\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"close\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"blur\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"focus\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"created\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"destroyed\", void 0);\n\n  DatePicker = __decorate$1([NotifyPropertyChanges], DatePicker);\n  return DatePicker;\n}(Calendar);\n/**\n * Datepicker modules\n */\n\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n\n\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER$1 = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP$1 = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT$2 = 'e-daterangepicker';\nvar LIBRARY$1 = 'e-lib';\nvar CONTROL$1 = 'e-control';\nvar ERROR$1 = 'e-error';\nvar ACTIVE$1 = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS$1 = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH$2 = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED$2 = 'e-disabled';\nvar SELECTED$3 = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON$1 = 'e-next';\nvar PREVICON$1 = 'e-prev';\nvar HEADER$1 = 'e-header';\nvar TITLE$1 = 'e-title';\nvar ICONCONTAINER$1 = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER$1 = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY$2 = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT$1 = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER$2 = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE$1 = 'e-device';\nvar OVERLAY$2 = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = 'e-list-item';\nvar RTL$1 = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW$1 = 'e-range-overflow';\nvar OFFSETVALUE$1 = 4;\nvar PRIMARY$1 = 'e-primary';\nvar FLAT$1 = 'e-flat';\nvar CSS$1 = 'e-css';\nvar ZOOMIN$1 = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\n\nvar Presets =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(Presets, _super);\n\n  function Presets() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property()], Presets.prototype, \"label\", void 0);\n\n  __decorate$2([Property()], Presets.prototype, \"start\", void 0);\n\n  __decorate$2([Property()], Presets.prototype, \"end\", void 0);\n\n  return Presets;\n}(ChildProperty);\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\n\n\nvar DateRangePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(DateRangePicker, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function DateRangePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isCustomRange = false;\n    _this.isCustomWindow = false;\n    _this.presetsItem = [];\n    _this.liCollections = [];\n    _this.previousEleValue = '';\n    _this.isKeyPopup = false;\n    _this.dateDisabled = false;\n    _this.isRangeIconClicked = false;\n    _this.isMaxDaysClicked = false;\n    _this.disabledDays = [];\n    _this.preventBlur = false;\n    _this.preventFocus = false;\n    _this.invalidValueString = null;\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.isPropChanged = false;\n    _this.dateRangeOptions = options;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DateRangePicker.prototype.render = function () {\n    this.initialize();\n    this.setProperties({\n      startDate: this.startValue\n    }, true);\n    this.setProperties({\n      endDate: this.endValue\n    }, true);\n    this.setModelValue();\n    this.setDataAttribute(false);\n\n    if (this.element.hasAttribute('data-val')) {\n      this.element.setAttribute('data-val', 'false');\n    }\n\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n    }\n\n    this.renderComplete();\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DateRangePicker.prototype.preRender = function () {\n    this.keyInputConfigs = {\n      altDownArrow: 'alt+downarrow',\n      escape: 'escape',\n      enter: 'enter',\n      tab: 'tab',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      spacebar: 'space'\n    };\n    this.defaultConstant = {\n      placeholder: this.placeholder,\n      startLabel: 'Start Date',\n      endLabel: 'End Date',\n      customRange: 'Custom Range',\n      applyText: 'Apply',\n      cancelText: 'Cancel',\n      selectedDays: 'Selected Days',\n      days: 'days'\n    };\n    /**\n     * Mobile View\n     */\n\n    this.isMobile = window.matchMedia('(max-width:550px)').matches;\n    this.inputElement = this.element;\n    this.angularTag = null;\n\n    if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n    this.updateHtmlAttributeToElement();\n\n    if (this.element.getAttribute('id')) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      this.element.id = getUniqueID('ej2-datetimepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    this.checkInvalidRange(this.value);\n\n    if (!this.invalidValueString && typeof this.value === 'string') {\n      var rangeArray = this.value.split(' ' + this.separator + ' ');\n      this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n    }\n\n    this.initProperty();\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n\n    _super.prototype.preRender.call(this);\n\n    this.navNextFunction = this.navNextMonth.bind(this);\n    this.navPrevFunction = this.navPrevMonth.bind(this);\n    this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n    this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.formElement = closest(this.element, 'form');\n  };\n\n  DateRangePicker.prototype.updateValue = function () {\n    if (this.value && this.value.length > 0) {\n      if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n        this.setProperties({\n          startDate: this.value[0]\n        }, true);\n        this.startValue = this.value[0];\n      } else if (typeof this.value[0] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.startValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            startDate: new Date(this.checkValue(this.value[0]))\n          }, true);\n          this.startValue = new Date(this.checkValue(this.value[0]));\n        }\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n        this.setProperties({\n          endDate: this.value[1]\n        }, true);\n        this.endValue = this.value[1];\n      } else if (typeof this.value[1] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.setProperties({\n            endDate: null\n          }, true);\n          this.endValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            endDate: new Date(this.checkValue(this.value[1]))\n          }, true);\n          this.endValue = new Date(this.checkValue(this.value[1]));\n          this.setValue();\n        }\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (this.value && this.value.start) {\n      if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n        this.setProperties({\n          startDate: this.value.start\n        }, true);\n        this.startValue = this.value.start;\n      } else if (typeof this.value.start === 'string') {\n        this.setProperties({\n          startDate: new Date(this.checkValue(this.value.start))\n        }, true);\n        this.startValue = new Date(this.checkValue(this.value.start));\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n        this.setProperties({\n          endDate: this.value.end\n        }, true);\n        this.endValue = this.value.end;\n      } else if (typeof this.value.end === 'string') {\n        this.setProperties({\n          endDate: new Date(this.checkValue(this.value.end))\n        }, true);\n        this.endValue = new Date(this.checkValue(this.value.end));\n        this.setValue();\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (isNullOrUndefined(this.value)) {\n      this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n      this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n      this.setValue();\n    }\n  };\n\n  DateRangePicker.prototype.initProperty = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.checkFormat();\n    this.checkView();\n\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n\n    this.updateValue();\n  };\n\n  DateRangePicker.prototype.checkFormat = function () {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n        var skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          skeleton: skeletonString,\n          type: 'date'\n        });\n      } else {\n        this.formatString = null;\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  DateRangePicker.prototype.initialize = function () {\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.checkHtmlAttributes(false);\n    merge(this.defaultKeyConfigs, {\n      shiftTab: 'shift+tab',\n      tab: 'tab'\n    });\n    var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n    this.setProperties({\n      startDate: start\n    }, true); // persist the value propeerty.\n\n    this.setProperties({\n      endValue: this.checkDateValue(new Date(this.checkValue(this.endValue)))\n    }, true);\n    this.setValue();\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.processPresets();\n    this.createInput();\n    this.updateHtmlAttributeToWrapper();\n    this.setRangeAllowEdit();\n    this.bindEvents();\n  };\n\n  DateRangePicker.prototype.setDataAttribute = function (isDynamic) {\n    var attributes$$1 = {};\n\n    if (!isDynamic) {\n      for (var i = 0; i < this.element.attributes.length; i++) {\n        attributes$$1[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n      }\n    } else {\n      attributes$$1 = this.htmlAttributes;\n    }\n\n    for (var _i = 0, _a = Object.keys(attributes$$1); _i < _a.length; _i++) {\n      var pro = _a[_i];\n\n      if (pro.indexOf('data') === 0) {\n        this.firstHiddenChild.setAttribute(pro, attributes$$1[pro]);\n        this.secondHiddenChild.setAttribute(pro, attributes$$1[pro]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.setRangeAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.updateClearIconState();\n  };\n\n  DateRangePicker.prototype.updateClearIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [NONEDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [NONEDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [NONEDITABLE]);\n    }\n  };\n\n  DateRangePicker.prototype.validationAttribute = function (element, input) {\n    var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n    input.setAttribute('name', name);\n    element.removeAttribute('name');\n    var attributes$$1 = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes$$1.length; i++) {\n      if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n        continue;\n      }\n\n      var attr = element.getAttribute(attributes$$1[i]);\n      input.setAttribute(attributes$$1[i], attr);\n      element.removeAttribute(attributes$$1[i]);\n    }\n  };\n\n  DateRangePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttr.indexOf(key) > -1) {\n          if (key === 'class') {\n            var updatedClassValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n            }\n          } else if (key === 'style') {\n            var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n            dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? dateRangeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n            this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttr.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateCssClass = function (cssNewClass, cssOldClass) {\n    if (!isNullOrUndefined(cssOldClass)) {\n      cssOldClass = cssOldClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssNewClass)) {\n      cssNewClass = cssNewClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n    }\n  };\n\n  DateRangePicker.prototype.processPresets = function () {\n    this.presetsItem = [];\n    var i = 0;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\n        var range = _a[_i];\n        var id = range.label.replace(/\\s+/g, '') + '_' + ++i;\n\n        if (typeof range.end === 'string') {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            end: new Date(this.checkValue(range.end)),\n            start: new Date(this.checkValue(range.start))\n          });\n        } else {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            start: range.start,\n            end: range.end\n          });\n        }\n      }\n\n      var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n      var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n      this.presetsItem.push({\n        id: 'custom_range',\n        text: this.l10n.getConstant('customRange'),\n        start: startDate,\n        end: endDate\n      });\n\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        this.isCustomRange = true;\n        this.activeIndex = this.presetsItem.length - 1;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n\n    if (!this.isMobile) {\n      this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n      this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n        eventName: 'keydown',\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyInputConfigs\n      });\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (this.enabled) {\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.inputElement.tabIndex = -1;\n    }\n  };\n\n  DateRangePicker.prototype.unBindEvents = function () {\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n    }\n\n    if (!this.isMobile) {\n      if (!isNullOrUndefined(this.inputKeyboardModule)) {\n        this.inputKeyboardModule.destroy();\n      }\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    this.inputElement.tabIndex = -1;\n  };\n\n  DateRangePicker.prototype.updateHiddenInput = function () {\n    if (this.firstHiddenChild && this.secondHiddenChild) {\n      var format = {\n        type: 'datetime',\n        skeleton: 'yMd'\n      };\n\n      if (typeof this.startDate === 'string') {\n        this.startDate = this.globalize.parseDate(this.startDate, format);\n      }\n\n      if (typeof this.endDate === 'string') {\n        this.endDate = this.globalize.parseDate(this.endDate, format);\n      }\n\n      this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format) || this.inputElement.value;\n      this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format) || this.inputElement.value;\n      this.dispatchEvent(this.firstHiddenChild, 'focusout');\n      this.dispatchEvent(this.firstHiddenChild, 'change');\n    }\n  };\n\n  DateRangePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n    this.updateHiddenInput();\n  };\n\n  DateRangePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n  };\n\n  DateRangePicker.prototype.resetHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.valueType = this.value;\n    e.preventDefault();\n    this.clear();\n    var clearedArgs = {\n      event: e\n    };\n    this.setProperties({\n      endDate: this.checkDateValue(this.endValue)\n    }, true);\n    this.setProperties({\n      startDate: this.checkDateValue(this.startValue)\n    }, true);\n    this.trigger('cleared', clearedArgs);\n    this.changeTrigger(e);\n    this.clearRange();\n    this.hide(e);\n  };\n\n  DateRangePicker.prototype.restoreValue = function () {\n    this.previousEleValue = this.inputElement.value;\n    this.previousStartValue = this.startValue;\n    this.previousEndValue = this.endValue;\n    this.valueType = null;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.setValue();\n    this.setModelValue();\n  };\n\n  DateRangePicker.prototype.formResetHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.formElement && e.target === this.formElement && !this.inputElement.disabled) {\n      var val = this.inputElement.getAttribute('value');\n\n      if (!isNullOrUndefined(this.startCopy)) {\n        if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n          this.setProperties({\n            value: {\n              start: this.startCopy,\n              end: this.endCopy\n            }\n          }, true);\n          this.startValue = this.value.start;\n          this.endValue = this.value.end;\n        } else {\n          this.setProperties({\n            value: [this.startCopy, this.endCopy]\n          }, true);\n          this.startValue = this.value[0];\n          this.endValue = this.value[1];\n        }\n\n        this.setProperties({\n          startDate: this.startValue,\n          endDate: this.endValue\n        }, true);\n      } else {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        this.startValue = this.endValue = null;\n      }\n\n      if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        val = '';\n        this.startValue = this.endValue = null;\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.restoreValue();\n\n      if (this.inputElement) {\n        Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.errorClass();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.clear = function () {\n    if (this.startValue !== null) {\n      this.startValue = null;\n    }\n\n    if (this.endValue !== null) {\n      this.endValue = null;\n    }\n\n    if (this.value && this.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    if (this.value !== null && this.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n\n    if (!isNullOrUndefined(this.applyButton)) {\n      this.applyButton.disabled = this.applyButton.element.disabled = true;\n    }\n\n    this.removeSelection();\n  };\n\n  DateRangePicker.prototype.rangeIconHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.isMobile) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n    this.targetElement = null;\n\n    if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n      this.applyFunction(e);\n    } else {\n      this.isRangeIconClicked = true;\n      this.inputWrapper.container.children[0].focus();\n      this.show(null, e);\n\n      if (!this.isMobile) {\n        if (!isNullOrUndefined(this.leftCalendar)) {\n          this.isRangeIconClicked = false;\n          this.calendarFocus();\n          this.isRangeIconClicked = true;\n        }\n      }\n\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n  };\n\n  DateRangePicker.prototype.checkHtmlAttributes = function (isDynamic) {\n    this.globalize = new Internationalization(this.locale);\n    var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type', 'value'];\n    var format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['enabled'] === undefined || isDynamic) {\n              var disabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                enabled: !disabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['value'] === undefined || isDynamic) {\n              var value = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, value, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1) || isDynamic) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31) || isDynamic) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'startDate':\n            if (isNullOrUndefined(this.startDate)) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.startValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'endDate':\n            if (isNullOrUndefined(this.endDate)) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.endValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'minDays':\n            if (isNullOrUndefined(this.minDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'maxDays':\n            if (isNullOrUndefined(this.maxDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'type':\n            if (this.inputElement.getAttribute(prop) !== 'text') {\n              this.inputElement.setAttribute('type', 'text');\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createPopup = function () {\n    for (var i = 0; i < this.presetsItem.length; i++) {\n      if (i !== this.presetsItem.length - 1 && this.presetsItem[i].id === 'custom_range') {\n        this.presetsItem.splice(i, 1);\n      }\n    }\n\n    this.activeIndex = this.presetsItem.length - 1;\n    this.isCustomRange = true;\n\n    for (var i = 0; i <= this.presetsItem.length - 2; i++) {\n      var startDate = this.presetsItem[i].start;\n      var endDate = this.presetsItem[i].end;\n\n      if (this.startValue && this.endValue) {\n        if (+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0)) && +new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0))) {\n          this.activeIndex = i;\n          this.isCustomRange = false;\n        }\n      }\n    }\n\n    this.popupWrapper = createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT$2 + ' ' + POPUP$1\n    });\n    this.adjustLongHeaderWidth();\n    var isPreset = !this.isCustomRange || this.isMobile;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n      this.isCustomWindow = false;\n      this.createPresets();\n      this.listRippleEffect();\n      this.renderPopup();\n    } else {\n      this.isCustomWindow = true;\n      this.renderControl();\n    }\n  };\n\n  DateRangePicker.prototype.renderControl = function () {\n    this.createControl();\n    this.bindCalendarEvents();\n    this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      this.disabledDateRender();\n    }\n\n    this.updateHeader();\n  };\n\n  DateRangePicker.prototype.clearCalendarEvents = function () {\n    EventHandler.clearEvents(this.leftCalPrevIcon);\n    EventHandler.clearEvents(this.leftCalNextIcon);\n    EventHandler.clearEvents(this.rightCalPrevIcon);\n    EventHandler.clearEvents(this.rightCalNextIcon);\n  };\n\n  DateRangePicker.prototype.updateNavIcons = function () {\n    _super.prototype.iconHandler.call(this);\n  };\n\n  DateRangePicker.prototype.calendarIconEvent = function () {\n    this.clearCalendarEvents();\n\n    if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n\n    if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n  };\n\n  DateRangePicker.prototype.bindCalendarEvents = function () {\n    if (!this.isMobile) {\n      this.updateNavIcons();\n      this.calendarIconEvent();\n      this.calendarIconRipple();\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n      this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.deviceCalendarEvent();\n      EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n      EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n    }\n\n    if (this.start === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.calendarIconRipple = function () {\n    rippleEffect(this.leftCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.leftCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n  };\n\n  DateRangePicker.prototype.deviceCalendarEvent = function () {\n    EventHandler.clearEvents(this.nextIcon);\n    EventHandler.clearEvents(this.previousIcon);\n    rippleEffect(this.nextIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.previousIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n\n    if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n    }\n\n    if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n    }\n  };\n\n  DateRangePicker.prototype.deviceNavNext = function (e) {\n    var calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigateNext(e);\n    this.deviceNavigation();\n  };\n\n  DateRangePicker.prototype.deviceNavPrevious = function (e) {\n    var calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigatePrevious(e);\n    this.deviceNavigation();\n  };\n\n  DateRangePicker.prototype.updateDeviceCalendar = function (calendar) {\n    if (calendar) {\n      this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n      this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n      this.calendarElement = calendar;\n      this.deviceCalendar = calendar;\n      this.contentElement = calendar.querySelector('.' + CONTENT$1);\n      this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n      this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n      this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n      this.headerElement = calendar.querySelector('.' + HEADER$1);\n    }\n  };\n\n  DateRangePicker.prototype.deviceHeaderClick = function (event) {\n    var element = event.currentTarget;\n\n    if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n      this.endButton.element.classList.remove(ACTIVE$1);\n      this.startButton.element.classList.add(ACTIVE$1);\n      var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.startValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.removeClassDisabled();\n    } else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.startButton.element.classList.remove(ACTIVE$1);\n      this.endButton.element.classList.add(ACTIVE$1);\n      var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.endValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      this.selectableDates();\n    }\n  };\n\n  DateRangePicker.prototype.inputFocusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.preventBlur = false;\n    var focusArguments = {\n      model: this\n    };\n\n    if (!this.preventFocus) {\n      this.trigger('focus', focusArguments);\n    }\n\n    this.updateClearIconState();\n    this.updateHiddenInput();\n\n    if (this.openOnFocus && !this.preventFocus) {\n      this.preventFocus = true;\n      this.show();\n    } else {\n      this.preventFocus = true;\n    }\n  };\n\n  DateRangePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.preventBlur) {\n      var value = this.inputElement.value;\n\n      if (!isNullOrUndefined(this.presetsItem)) {\n        if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n          this.activeIndex = this.presetsItem.length - 1;\n          this.isCustomRange = true;\n        }\n      }\n\n      if (!isNullOrUndefined(value) && value.trim() !== '') {\n        var range = value.split(' ' + this.separator + ' ');\n\n        if (range.length > 1) {\n          this.invalidValueString = null;\n          var dateOptions = {\n            format: this.formatString,\n            type: 'date',\n            skeleton: 'yMd'\n          };\n          var startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n          var endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n\n          if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n            var prevStartVal = this.startValue;\n            this.startValue = startDate;\n            var prevEndVal = this.endValue;\n            this.endValue = endDate;\n            this.setValue();\n            this.refreshControl();\n\n            if (value !== this.previousEleValue) {\n              this.changeTrigger(e);\n            }\n\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n              this.preventFocus = false;\n              var blurArguments = {\n                model: this\n              };\n              this.trigger('blur', blurArguments);\n            }\n\n            this.updateHiddenInput(); // For Mobile mode, when a value is present and choose another range and click on console\n            // when popup is open, two startvalues and end values are updated in the popup.\n\n            if (this.isMobile && this.isPopupOpen()) {\n              this.startValue = prevStartVal;\n              this.endValue = prevEndVal;\n            }\n\n            return;\n          } else {\n            if (!this.strictMode) {\n              this.startValue = null;\n              this.endValue = null;\n              this.setValue();\n            }\n          }\n        } else {\n          if (!this.strictMode) {\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n          }\n        }\n      }\n\n      if (!this.strictMode) {\n        if (isNullOrUndefined(this.popupObj)) {\n          this.currentDate = null;\n        }\n\n        this.previousStartValue = this.previousEndValue = null;\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n      } else {\n        if (!isNullOrUndefined(value) && value.trim() === '') {\n          this.startValue = null;\n          this.endValue = null;\n        }\n\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.updateInput();\n      }\n\n      this.errorClass();\n      this.changeTrigger(e);\n\n      if (!this.preventBlur && document.activeElement !== this.inputElement) {\n        this.preventFocus = false;\n        var blurArguments = {\n          model: this\n        };\n        this.trigger('blur', blurArguments);\n      }\n    }\n\n    this.updateHiddenInput();\n  };\n\n  DateRangePicker.prototype.clearRange = function () {\n    this.previousStartValue = this.previousEndValue = null;\n    this.currentDate = null;\n  };\n\n  DateRangePicker.prototype.errorClass = function () {\n    var inputStr = this.inputElement.value.trim();\n\n    if ((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '' || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || this.startValue && this.isDateDisabled(this.startValue) || this.endValue && this.isDateDisabled(this.endValue)) && inputStr !== '') {\n      addClass([this.inputWrapper.container], ERROR$1);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    } else {\n      if (this.inputWrapper) {\n        removeClass([this.inputWrapper.container], ERROR$1);\n        attributes(this.inputElement, {\n          'aria-invalid': 'false'\n        });\n      }\n    }\n  };\n\n  DateRangePicker.prototype.keyCalendarUpdate = function (isLeftCalendar, ele, isRemoveFocus) {\n    if (isRemoveFocus === void 0) {\n      isRemoveFocus = true;\n    }\n\n    if (isRemoveFocus) {\n      this.removeFocusedDate();\n    }\n\n    if (isLeftCalendar) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      ele = this.leftCalendar;\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      ele = this.rightCalendar;\n    }\n\n    this.updateCalendarElement(ele);\n    this.table.focus();\n    return ele;\n  };\n\n  DateRangePicker.prototype.navInCalendar = function (e, isLeftCalendar, leftLimit, rightLimit, ele) {\n    var view = this.getViewNumber(this.currentView());\n    var date;\n    var min = this.min;\n    var max;\n\n    if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n      max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n    } else {\n      max = this.max;\n    }\n\n    switch (e.action) {\n      case 'moveRight':\n        date = new Date(+this.currentDate);\n        this.addDay(date, 1, e, max, min);\n\n        if (isLeftCalendar && +date === +rightLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.keyboardNavigate(1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveLeft':\n        date = new Date(+this.currentDate);\n        this.addDay(date, -1, e, max, min);\n\n        if (!isLeftCalendar) {\n          if (+date === +leftLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n        }\n\n        this.keyboardNavigate(-1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveUp':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, -7, e, max, min);\n\n          if (+date <= +leftLimit && !isLeftCalendar) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          this.keyboardNavigate(-7, view, e, max, min);\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveDown':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, 7, e, max, min);\n\n          if (isLeftCalendar && +date >= +rightLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          this.keyboardNavigate(7, view, e, max, min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        remove(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        remove(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'tab':\n        if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n          ele = this.keyCalendarUpdate(false, ele, false);\n          var focusedCell = ele.querySelector('.e-focused-date');\n\n          if (isNullOrUndefined(focusedCell)) {\n            this.currentDate = this.firstCellToFocus(this.rightCalendar);\n          }\n\n          this.keyboardNavigate(0, view, e, max, min);\n          this.keyNavigation(ele, e);\n        }\n\n        break;\n\n      case 'shiftTab':\n        if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n          ele = this.keyCalendarUpdate(true, ele, false);\n          var focusedCell = ele.querySelector('.e-focused-date');\n\n          if (isNullOrUndefined(focusedCell)) {\n            this.currentDate = this.firstCellToFocus(this.leftCalendar);\n          }\n\n          this.keyboardNavigate(0, view, e, max, min);\n          this.keyNavigation(ele, e);\n        }\n\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.firstCellToFocus = function (calendar) {\n    var focusAbleEle = calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)');\n    var focusEleID = focusAbleEle && focusAbleEle.id ? focusAbleEle.id.split('_')[0] : null;\n    var currentFirstDay = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1);\n    var focusDate = focusEleID ? new Date(+focusEleID) : currentFirstDay;\n    return focusDate;\n  };\n\n  DateRangePicker.prototype.keyInputHandler = function (e, value) {\n    var date;\n    var view = this.getViewNumber(this.currentView());\n    var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n    var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n    var ele = closest(e.target, '.' + RIGHTCALENDER);\n    ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n    var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n    this.updateCalendarElement(ele);\n    var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n    var startDate = ele.querySelector('tr td.' + STARTDATE);\n    var endDate = ele.querySelector('tr td.' + ENDDATE);\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n    var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n    var presetElement = closest(e.target, '.' + PRESETS);\n\n    if (!isNullOrUndefined(focusedDate)) {\n      // eslint-disable-next-line no-self-assign\n      this.currentDate = this.currentDate;\n    } else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.endValue);\n    } else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.startValue);\n    } else if (!this.dateDisabled) {\n      this.currentDate.setDate(1);\n    }\n\n    this.effect = '';\n\n    switch (e.action) {\n      case 'altUpArrow':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n          this.preventFocus = true;\n          this.inputElement.focus();\n          addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n\n        break;\n\n      case 'select':\n        if (levelRestrict) {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n            this.selectRange(null, element);\n          }\n        } else {\n          if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n            if (!isNullOrUndefined(this.value)) {\n              if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                value = this.startDate;\n              } else {\n                value = this.endDate;\n              }\n            }\n\n            this.controlDown = e;\n            this.contentClick(null, --view, focusedDate || selectedDate, value);\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlHome':\n        {\n          var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n\n          if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n\n          this.keyNavigation(ele, e);\n        }\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else if (!isNullOrUndefined(rightCalendar)) {\n          if (!isNullOrUndefined(this.presetElement)) {\n            this.presetElement.focus();\n            this.removeFocusedDate();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(presetElement)) {\n            this.cancelButton.element.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          if (this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(rightCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlUp':\n        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n          this.calendarNavigation(e, this.calendarElement);\n        } else {\n          this.calendarNavigation(e, this.calendarElement);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlDown':\n        if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n          if (!isNullOrUndefined(this.value)) {\n            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n              value = this.startDate;\n            } else {\n              value = this.endDate;\n            }\n          }\n\n          this.controlDown = e;\n          this.contentClick(null, --view, selectedDate || focusedDate, value);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlEnd':\n        {\n          var yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n\n          if (isLeftCalendar && +yearDate > +rightDateLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n\n          this.keyNavigation(ele, e);\n        }\n        break;\n\n      case 'pageUp':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addMonths(this.currentDate, -1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'pageDown':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addMonths(this.currentDate, 1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageUp':\n        date = new Date(+this.currentDate);\n        this.addYears(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addYears(this.currentDate, -1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageDown':\n        date = new Date(+this.currentDate);\n        this.addYears(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addYears(this.currentDate, 1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftTab':\n        if (!isNullOrUndefined(this.presetElement)) {\n          this.presetElement.setAttribute('tabindex', '0');\n          this.presetElement.focus();\n          this.removeFocusedDate();\n        }\n\n        if (isLeftCalendar) {\n          e.preventDefault();\n        }\n\n        if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n          this.currentDate = new Date(+this.leftCalCurrentDate);\n          this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        }\n\n        break;\n\n      case 'spacebar':\n        if (this.applyButton && !this.applyButton.disabled) {\n          this.applyFunction(e);\n        }\n\n        break;\n\n      case 'tab':\n        if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n          this.currentDate = new Date(+this.rightCalCurrentDate);\n          this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        }\n\n        break;\n\n      default:\n        this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        this.checkMinMaxDays();\n    }\n\n    this.presetHeight();\n  };\n\n  DateRangePicker.prototype.tabKeyValidation = function (ele, calendarPos) {\n    var isLeftCalendar = ele.classList.contains(calendarPos);\n    var rightHeader = this.rightCalendar.querySelector('.e-header');\n    var leftHeader = this.leftCalendar.querySelector('.e-header');\n    var isRightMonth = rightHeader ? rightHeader.classList.contains('e-month') : false;\n    var isLeftMonth = leftHeader ? leftHeader.classList.contains('e-month') : false;\n    return isLeftCalendar && isLeftMonth && isRightMonth && !this.isMobile;\n  };\n\n  DateRangePicker.prototype.keyNavigation = function (calendar, e) {\n    this.bindCalendarCellEvents(calendar);\n\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.updateNavIcons();\n    this.calendarIconEvent();\n    this.updateRange([calendar]);\n    this.dateDisabled = this.isDateDisabled(this.currentDate);\n    e.preventDefault();\n  };\n\n  DateRangePicker.prototype.inputHandler = function (e) {\n    switch (e.action) {\n      case 'altDownArrow':\n        if (!this.isPopupOpen()) {\n          if (this.inputElement.value === '') {\n            this.clear();\n            this.changeTrigger(e);\n            this.clearRange();\n          }\n\n          this.show(null, e);\n          this.isRangeIconClicked = false;\n\n          if (!this.isMobile) {\n            if (!isNullOrUndefined(this.leftCalendar)) {\n              this.calendarFocus();\n            }\n          }\n\n          this.isKeyPopup = true;\n        }\n\n        break;\n\n      case 'escape':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n        }\n\n        break;\n\n      case 'enter':\n        if (document.activeElement === this.inputElement) {\n          this.inputBlurHandler(e);\n          this.hide(e);\n        }\n\n        break;\n\n      case 'tab':\n        if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.bindCalendarCellEvents = function (calendar) {\n    var tdCells;\n\n    if (calendar) {\n      tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n    } else {\n      tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n    }\n\n    for (var _i = 0, tdCells_1 = tdCells; _i < tdCells_1.length; _i++) {\n      var cell = tdCells_1[_i];\n      EventHandler.clearEvents(cell);\n      var disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n\n      if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n        if (!this.isMobile) {\n          EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n        }\n\n        EventHandler.add(cell, 'mousedown', this.selectRange, this);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.removeFocusedDate = function () {\n    var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n    var focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n\n    for (var _i = 0, focusedDate_1 = focusedDate; _i < focusedDate_1.length; _i++) {\n      var ele = focusedDate_1[_i];\n      var today = new Date();\n      var eleDate = this.getIdValue(null, ele);\n\n      if (this.depth === 'Month' && this.currentView() === 'Month' && (!ele.classList.contains(TODAY$2) || ele.classList.contains(TODAY$2) && isDate) || this.depth === 'Year' && this.currentView() === 'Year' && (!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate) || isDate) || this.depth === 'Decade' && this.currentView() === 'Decade' && (!this.isSameYear(today, eleDate) || isDate)) {\n        ele.classList.remove(FOCUSDATE);\n\n        if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n          ele.removeAttribute('aria-label');\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.hoverSelection = function (event, element) {\n    var currentElement = element || event.currentTarget;\n    var currentDate = this.getIdValue(null, currentElement);\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n      if (!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue) && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (var _i = 0, tdCells_2 = tdCells; _i < tdCells_2.length; _i++) {\n          var ele = tdCells_2[_i];\n          var isDisabledCell = !ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED);\n\n          if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n            var eleDate = this.getIdValue(null, ele);\n            var startDateValue = new Date(+this.startValue);\n            var eleDateValue = new Date(+eleDate);\n\n            if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n              addClass([ele], RANGEHOVER);\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.isSameStartEnd = function (startVal, endVal) {\n    var isSame = false;\n\n    if (this.depth === 'Month') {\n      if (startVal.setHours(0, 0, 0, 0) === endVal.setHours(0, 0, 0, 0)) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Year') {\n      if (startVal.getFullYear() === endVal.getFullYear() && startVal.getMonth() === endVal.getMonth()) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Decade') {\n      if (startVal.getFullYear() === endVal.getFullYear()) {\n        isSame = true;\n      }\n    }\n\n    return isSame;\n  };\n\n  DateRangePicker.prototype.updateRange = function (elementCollection) {\n    if (!isNullOrUndefined(this.startValue)) {\n      for (var _i = 0, elementCollection_1 = elementCollection; _i < elementCollection_1.length; _i++) {\n        var calendar = elementCollection_1[_i];\n        var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (var _a = 0, tdCells_3 = tdCells; _a < tdCells_3.length; _a++) {\n          var ele = tdCells_3[_a];\n\n          if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n            var eleDate = this.getIdValue(null, ele);\n            var eleDateValue = this.getIdValue(null, ele);\n\n            if (!isNullOrUndefined(this.endValue)) {\n              if (this.currentView() === this.depth && +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0) && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) && !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) && +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], RANGEHOVER);\n              }\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n\n            if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) && +eleDateValue !== +this.endValue) {\n              removeClass([ele], [SELECTED$3]);\n              removeClass([ele], [ENDDATE]);\n            }\n\n            if (ele.classList.contains(RANGEHOVER) && +eleDateValue > +this.endValue) {\n              removeClass([ele], [RANGEHOVER]);\n            }\n\n            if (!ele.classList.contains(OTHERMONTH$2)) {\n              var startDateValue = new Date(+this.startValue);\n              var eleDateValue_1 = new Date(+eleDate);\n\n              if (this.currentView() === this.depth && +eleDateValue_1.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0) && +eleDateValue_1.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [STARTDATE, SELECTED$3]);\n                this.addSelectedAttributes(ele, this.startValue, true);\n              }\n\n              var endDateValue = new Date(+this.endValue);\n\n              if (this.currentView() === 'Year') {\n                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), eleDateValue_1.getMonth() + 1, 0);\n              } else if (this.currentView() === 'Decade') {\n                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), 11, 31);\n              }\n\n              if (this.currentView() === this.depth && !isNullOrUndefined(this.endValue) && +eleDateValue_1.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0) && +eleDateValue_1.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [ENDDATE, SELECTED$3]);\n                this.addSelectedAttributes(ele, this.startValue, false);\n              }\n\n              if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.checkMinMaxDays = function () {\n    if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n      if (!this.isMobile) {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n      } else {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      }\n    }\n  };\n\n  DateRangePicker.prototype.rangeArgs = function (e) {\n    var inputValue;\n    var range;\n    var startDate = !isNullOrUndefined(this.startValue) ? this.globalize.formatDate(this.startValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n    var endDate = !isNullOrUndefined(this.endValue) ? this.globalize.formatDate(this.endValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n      range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n    } else {\n      inputValue = '';\n      range = 0;\n    }\n\n    var args = {\n      value: this.value,\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range,\n      event: e || null,\n      element: this.element,\n      isInteracted: !isNullOrUndefined(e),\n      text: inputValue\n    };\n    return args;\n  };\n\n  DateRangePicker.prototype.otherMonthSelect = function (ele, isStartDate, sameDate) {\n    var value = +this.getIdValue(null, ele);\n    var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n    var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n\n    if (!isNullOrUndefined(tdCell)) {\n      if (isStartDate) {\n        addClass([tdCell], [STARTDATE, SELECTED$3]);\n        this.addSelectedAttributes(tdCell, this.startValue, true);\n      } else {\n        addClass([tdCell], [ENDDATE, SELECTED$3]);\n        this.addSelectedAttributes(tdCell, this.endValue, true);\n      }\n\n      if (sameDate) {\n        this.addSelectedAttributes(ele, this.endValue, false, true);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.selectRange = function (event, element) {\n    var leftCalendar;\n    var rightCalendar;\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    var date = isNullOrUndefined(event) ? this.getIdValue(null, element) : this.getIdValue(event, null);\n    var y = date.getFullYear();\n    var m = date.getMonth();\n    var firstDay = new Date(y, m, 1);\n    var lastDay = new Date(y, m + 1, 0);\n    var firstMonth = new Date(y, 0, 1);\n    var lastMonth = new Date(y, 11, 31);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n        this.removeSelection();\n      }\n    } else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n      this.removeSelection();\n    }\n\n    var ele = element || event.currentTarget;\n\n    if (isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.previousStartValue)) {\n        date.setHours(this.previousStartValue.getHours());\n        date.setMinutes(this.previousStartValue.getMinutes());\n        date.setSeconds(this.previousStartValue.getSeconds());\n      }\n\n      this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n      this.endValue = null;\n      this.setValue();\n      addClass([ele], STARTDATE);\n      this.addSelectedAttributes(ele, this.startValue, true);\n\n      if (ele.classList.contains(OTHERMONTH$2)) {\n        this.otherMonthSelect(ele, true);\n      }\n\n      this.checkMinMaxDays();\n      this.applyButton.disabled = true;\n      this.applyButton.element.disabled = true;\n\n      if (this.isMobile) {\n        this.endButton.element.classList.add(ACTIVE$1);\n        this.startButton.element.classList.remove(ACTIVE$1);\n        this.endButton.element.removeAttribute('disabled');\n        this.selectableDates();\n      }\n\n      this.trigger('select', this.rangeArgs(event));\n    } else {\n      if (+date === +this.startValue || +date > +this.startValue) {\n        if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n          return;\n        }\n\n        this.endValue = null;\n        this.setValue();\n\n        if (this.isMobile || element) {\n          this.hoverSelection(event, element);\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          date.setHours(this.previousEndValue.getHours());\n          date.setMinutes(this.previousEndValue.getMinutes());\n          date.setSeconds(this.previousEndValue.getSeconds());\n        }\n\n        this.endValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? lastDay : lastMonth;\n        this.setValue();\n        var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        if (this.isMobile) {\n          this.startButton.element.classList.remove(ACTIVE$1);\n          this.endButton.element.classList.add(ACTIVE$1);\n\n          for (var _i = 0, endEle_1 = endEle; _i < endEle_1.length; _i++) {\n            var ele_1 = endEle_1[_i];\n            ele_1.removeAttribute('aria-label');\n\n            if (!ele_1.classList.contains(STARTDATE)) {\n              ele_1.setAttribute('aria-selected', 'false');\n              removeClass([ele_1], [ENDDATE, SELECTED$3]);\n            } else {\n              this.addSelectedAttributes(ele_1, this.startValue, true);\n              removeClass([ele_1], [ENDDATE]);\n            }\n          }\n        }\n\n        addClass([ele], ENDDATE);\n\n        if (+this.endValue === +this.startValue) {\n          this.addSelectedAttributes(ele, this.endValue, false, true);\n        } else {\n          this.addSelectedAttributes(ele, this.endValue, false);\n        }\n\n        if (ele.classList.contains(OTHERMONTH$2)) {\n          if (+this.endValue === +this.startValue) {\n            this.otherMonthSelect(ele, false, true);\n          } else {\n            this.otherMonthSelect(ele, false);\n          }\n        }\n\n        endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        for (var _a = 0, endEle_2 = endEle; _a < endEle_2.length; _a++) {\n          var ele_2 = endEle_2[_a];\n\n          if (ele_2.classList.contains(STARTDATE)) {\n            removeClass([ele_2], [RANGEHOVER]);\n          }\n        }\n\n        this.applyButton.disabled = false;\n        this.applyButton.element.disabled = false;\n\n        if (!this.isMobile) {\n          this.removeClassDisabled();\n        }\n\n        this.disabledDateRender();\n        this.trigger('select', this.rangeArgs(event));\n      } else if (+date < +this.startValue) {\n        this.removeClassDisabled();\n        this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n        this.setValue();\n        this.removeSelectedAttributes();\n        removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n        addClass([ele], STARTDATE);\n        this.addSelectedAttributes(ele, this.startValue, true);\n\n        if (ele.classList.contains(OTHERMONTH$2)) {\n          this.otherMonthSelect(ele, true);\n        }\n\n        this.checkMinMaxDays();\n      }\n    }\n\n    if (event) {\n      leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n    }\n\n    if (!isNullOrUndefined(leftCalendar)) {\n      this.leftCalendar.children[1].firstElementChild.focus();\n    } else {\n      if (event) {\n        rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n      }\n\n      if (!isNullOrUndefined(rightCalendar)) {\n        this.rightCalendar.children[1].firstElementChild.focus();\n      }\n    }\n\n    addClass([ele], SELECTED$3);\n    this.updateHeader();\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.selectableDates = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n      var isStartDate = false;\n\n      if (this.currentView() === this.depth) {\n        for (var _i = 0, tdCells_4 = tdCells; _i < tdCells_4.length; _i++) {\n          var ele = tdCells_4[_i];\n\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n            if (!ele.classList.contains(DISABLED$2)) {\n              var eleDate = this.getIdValue(null, ele);\n\n              if (+eleDate < +this.startValue) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.clearEvents(ele);\n                continue;\n              } else {\n                break;\n              }\n            }\n          }\n\n          if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n            isStartDate = true;\n            break;\n          }\n        }\n\n        if (isStartDate) {\n          if (!this.previousIcon.classList.contains(DISABLED$2)) {\n            addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n          }\n        }\n      } else {\n        for (var _a = 0, tdCells_5 = tdCells; _a < tdCells_5.length; _a++) {\n          var ele = tdCells_5[_a];\n          var startMonth = this.startValue.getMonth();\n          var startYear = this.startValue.getFullYear();\n          var element = this.getIdValue(null, ele);\n\n          if (!this.startButton.element.classList.contains(ACTIVE$1) && (this.currentView() === 'Year' && element.getMonth() < startMonth && element.getFullYear() <= startYear || this.currentView() === 'Decade' && element.getMonth() <= startMonth && element.getFullYear() < startYear)) {\n            addClass([ele], [DISABLED$2]);\n          } else {\n            break;\n          }\n        }\n\n        if (tdCells[0].classList.contains(DISABLED$2)) {\n          this.previousIconHandler(true);\n        } else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n          this.nextIconHandler(true);\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateMinMaxDays = function (calendar) {\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue) || this.isMobile && this.endButton.element.classList.contains(ACTIVE$1)) {\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n        var startValueSelected = this.removeTimeValueFromDate(this.startValue);\n        var minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n        var maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n        minDate = !isNullOrUndefined(this.minDays) && this.minDays > 0 ? minDate : null;\n        maxDate = !isNullOrUndefined(this.maxDays) && this.maxDays > 0 ? maxDate : null;\n\n        if (this.currentView() === 'Year') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n        } else if (this.currentView() === 'Decade') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n        }\n\n        var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        var maxEle = void 0;\n\n        for (var _i = 0, tdCells_6 = tdCells; _i < tdCells_6.length; _i++) {\n          var ele = tdCells_6[_i];\n\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n            var eleDate = this.getIdValue(null, ele);\n            eleDate = this.removeTimeValueFromDate(eleDate);\n\n            if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n              minDate.setDate(minDate.getDate() + 1);\n            }\n\n            if (!ele.classList.contains(DISABLED$2)) {\n              if (+eleDate <= +startValueSelected) {\n                continue;\n              }\n\n              if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.clearEvents(ele);\n              }\n\n              if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                this.isMaxDaysClicked = true;\n                EventHandler.clearEvents(ele);\n\n                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                  maxEle = ele;\n                }\n              }\n            }\n          }\n        }\n\n        if (!isNullOrUndefined(maxEle)) {\n          if (this.isMobile) {\n            if (!this.nextIcon.classList.contains(DISABLED$2)) {\n              addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n          } else {\n            var calendar_1 = closest(maxEle, '.' + RIGHTCALENDER);\n            calendar_1 = isNullOrUndefined(calendar_1) ? this.leftCalendar : calendar_1;\n            var isLeftCalendar = calendar_1.classList.contains(LEFTCALENDER);\n\n            if (!isLeftCalendar) {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n            } else {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n\n              if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n\n              if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n            }\n          }\n        }\n      }\n    } else {\n      this.isMaxDaysClicked = false;\n    }\n  };\n\n  DateRangePicker.prototype.removeTimeValueFromDate = function (value) {\n    var dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n    return dateValue;\n  };\n\n  DateRangePicker.prototype.removeClassDisabled = function () {\n    var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n\n    for (var _i = 0, tdCells_7 = tdCells; _i < tdCells_7.length; _i++) {\n      var ele = tdCells_7[_i];\n\n      if (ele.classList.contains(DATEDISABLED)) {\n        removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n        EventHandler.add(ele, 'click', this.selectRange, this);\n\n        if (!this.isMobile) {\n          EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n        }\n      }\n    }\n\n    if (this.isMobile) {\n      if (this.nextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.previousIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n    } else {\n      if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateHeader = function () {\n    var format = {\n      type: 'date',\n      skeleton: 'yMMMd'\n    };\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      var range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n    } else {\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n    }\n\n    if (!this.isMobile) {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      }\n\n      if (!isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n      }\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n      }\n    }\n\n    if (this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue) || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      if (!this.isMobile) {\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n      }\n    }\n\n    if (this.popupObj.element.querySelector('#custom_range')) {\n      this.popupObj.element.querySelector('#custom_range').textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n    }\n  };\n\n  DateRangePicker.prototype.removeSelection = function () {\n    this.startValue = null;\n    this.endValue = null;\n    this.setValue();\n    this.removeSelectedAttributes();\n\n    if (this.popupObj) {\n      if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.addSelectedAttributes = function (ele, date, isStartDate, sameDate) {\n    if (ele) {\n      var title = this.globalize.formatDate(date, {\n        type: 'date',\n        skeleton: 'full'\n      });\n\n      if (!isNullOrUndefined(sameDate) && sameDate) {\n        ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n      } else {\n        ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n      }\n\n      ele.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  DateRangePicker.prototype.removeSelectedAttributes = function () {\n    if (this.popupObj) {\n      var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n\n      for (var _i = 0, start_1 = start; _i < start_1.length; _i++) {\n        var ele = start_1[_i];\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n\n      var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n      for (var _a = 0, end_1 = end; _a < end_1.length; _a++) {\n        var ele = end_1[_a];\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateCalendarElement = function (calendar) {\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.calendarElement = this.leftCalendar;\n      this.currentDate = this.leftCalCurrentDate;\n      this.previousIcon = this.leftCalPrevIcon;\n      this.nextIcon = this.leftCalNextIcon;\n    } else {\n      this.calendarElement = this.rightCalendar;\n      this.currentDate = this.rightCalCurrentDate;\n      this.previousIcon = this.rightCalPrevIcon;\n      this.nextIcon = this.rightCalNextIcon;\n    }\n\n    this.contentElement = calendar.querySelector('.' + CONTENT$1);\n    this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n    this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n    this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n    this.headerElement = calendar.querySelector('.' + HEADER$1);\n  };\n\n  DateRangePicker.prototype.navPrevMonth = function (e) {\n    e.preventDefault();\n    var ele = closest(e.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigatePrevious(e);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.deviceNavigation = function (ele) {\n    this.deviceCalendarEvent();\n    this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n\n    if (this.endButton.element.classList.contains(ACTIVE$1)) {\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n    }\n\n    if (this.endButton.element.classList.contains(ACTIVE$1)) {\n      this.selectableDates();\n    }\n\n    if (this.currentView() === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.updateControl = function (calendar, customDate) {\n    if (customDate === void 0) {\n      customDate = null;\n    }\n\n    if (calendar.classList.contains(RIGHTCALENDER)) {\n      this.rightCalCurrentDate = new Date(+(customDate ? customDate : this.currentDate));\n    } else {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.calendarIconEvent();\n\n    if (this.depth === 'Month' && this.leftCalendar.querySelector('.e-content').classList.contains('e-month') && this.rightCalendar.querySelector('.e-content').classList.contains('e-month') || this.depth === 'Year' && this.leftCalendar.querySelector('.e-content').classList.contains('e-year') && this.rightCalendar.querySelector('.e-content').classList.contains('e-year') || this.depth === 'Decade' && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade') && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade') || this.isMobile) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n    this.updateRange([calendar]);\n  };\n\n  DateRangePicker.prototype.navNextMonth = function (event) {\n    event.preventDefault();\n    var ele = closest(event.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigateNext(event);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  };\n\n  DateRangePicker.prototype.isPopupOpen = function () {\n    if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.createRangeHeader = function () {\n    var labelContainer = this.createElement('div', {\n      className: STARTENDCONTAINER\n    });\n\n    if (!this.isMobile) {\n      var startLabel = this.createElement('a', {\n        className: STARTLABEL\n      });\n      var endLabel = this.createElement('a', {\n        className: ENDLABEL\n      });\n      var changeIcon = this.createElement('span', {\n        className: CHANGEICON\n      });\n      attributes(startLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'Start Date',\n        'role': 'button'\n      });\n      attributes(endLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'End Date',\n        'role': 'button'\n      });\n      labelContainer.appendChild(startLabel);\n      labelContainer.appendChild(changeIcon);\n      labelContainer.appendChild(endLabel);\n      startLabel.textContent = this.l10n.getConstant('startLabel');\n      endLabel.textContent = this.l10n.getConstant('endLabel');\n    } else {\n      var endBtn = this.createElement('button', {\n        className: ENDBUTTON\n      });\n      var startBtn = this.createElement('button', {\n        className: STARTBUTTON\n      });\n      this.startButton = new Button({\n        content: this.l10n.getConstant('startLabel')\n      }, startBtn);\n      this.endButton = new Button({\n        content: this.l10n.getConstant('endLabel')\n      }, endBtn);\n      labelContainer.appendChild(startBtn);\n      labelContainer.appendChild(endBtn);\n    }\n\n    return labelContainer;\n  };\n\n  DateRangePicker.prototype.disableInput = function () {\n    if (this.strictMode) {\n      if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n        this.startValue = this.previousStartValue;\n        this.endValue = this.previousEndValue;\n        this.setValue();\n        this.updateInput();\n      }\n    } else {\n      this.updateInput();\n      this.clearRange();\n      this.setProperties({\n        startDate: null\n      }, true);\n      this.setProperties({\n        endDate: null\n      }, true);\n      this.startValue = null;\n      this.endValue = null;\n      this.setValue();\n      this.errorClass();\n    }\n\n    this.setProperties({\n      enabled: false\n    }, true);\n    Input.setEnabled(this.enabled, this.inputElement);\n    this.bindEvents();\n  };\n\n  DateRangePicker.prototype.validateMinMax = function () {\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n    if (!(this.min <= this.max)) {\n      this.disableInput();\n      return;\n    }\n\n    if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n      if (this.maxDays > 0 && this.minDays > 0 && this.minDays > this.maxDays) {\n        this.maxDays = null;\n      }\n    }\n\n    if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n      this.minDays = null;\n    }\n\n    if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n      this.maxDays = null;\n    }\n  };\n\n  DateRangePicker.prototype.validateRangeStrict = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (+this.startValue <= +this.min) {\n        this.startValue = this.min;\n        this.setValue();\n      } else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n        this.startValue = this.max;\n      }\n    }\n\n    if (!isNullOrUndefined(this.endValue)) {\n      if (+this.endValue > +this.max) {\n        this.endValue = this.max;\n        this.setValue();\n      } else if (+this.endValue < +this.min) {\n        this.endValue = this.min;\n        this.setValue();\n      }\n    }\n\n    this.validateMinMaxDays();\n  };\n\n  DateRangePicker.prototype.validateRange = function () {\n    this.validateMinMaxDays();\n  };\n\n  DateRangePicker.prototype.validateMinMaxDays = function () {\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      var range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 && !(range >= this.minDays)) {\n        if (this.strictMode) {\n          var date = new Date(+this.startValue);\n          date.setDate(date.getDate() + (this.minDays - 1));\n\n          if (+date > +this.max) {\n            this.endValue = this.max;\n            this.setValue();\n          } else {\n            this.endValue = date;\n            this.setValue();\n          }\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (!isNullOrUndefined(this.maxDays) && this.maxDays > 0 && !(range <= this.maxDays)) {\n        if (this.strictMode) {\n          this.endValue = new Date(+this.startValue);\n          this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n          this.setValue();\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.renderCalendar = function () {\n    this.calendarElement = this.createElement('div');\n    this.calendarElement.classList.add(CALENDAR);\n\n    if (this.enableRtl) {\n      this.calendarElement.classList.add(RTL$1);\n    }\n\n    attributes(this.calendarElement, {\n      'data-role': 'calendar'\n    });\n\n    _super.prototype.createHeader.call(this);\n\n    _super.prototype.createContent.call(this);\n  };\n\n  DateRangePicker.prototype.isSameMonth = function (start, end) {\n    if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.isSameYear = function (start, end) {\n    if (start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.isSameDecade = function (start, end) {\n    var startYear = start.getFullYear();\n    var endYear = end.getFullYear();\n\n    if (startYear - startYear % 10 === endYear - endYear % 10) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.startMonthCurrentDate = function () {\n    if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n      this.currentDate = new Date(+this.max);\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n    } else if (this.currentDate < this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n  };\n\n  DateRangePicker.prototype.selectNextMonth = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setDate(1);\n      var month = this.currentDate.getMonth() + 1;\n      this.currentDate.setMonth(month);\n    }\n  };\n\n  DateRangePicker.prototype.selectNextYear = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setMonth(0);\n      var yr = this.currentDate.getFullYear() + 1;\n      this.currentDate.setFullYear(yr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setMonth(0);\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n    }\n  };\n\n  DateRangePicker.prototype.selectNextDecade = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      var decyr = this.currentDate.getFullYear() + 10;\n      this.currentDate.setFullYear(decyr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n    }\n  };\n\n  DateRangePicker.prototype.selectStartMonth = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n        this.currentDate = new Date(+this.max);\n        this.currentDate.setDate(1);\n        this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n      } else if (!(this.startValue >= this.min && this.startValue <= this.max) || this.isDateDisabled(this.startValue)) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      } else {\n        this.currentDate = new Date(+this.startValue);\n      }\n    } else {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.startMonthCurrentDate();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n    }\n\n    this.startMonthCurrentDate();\n  };\n\n  DateRangePicker.prototype.createCalendar = function () {\n    var calendarContainer = this.createElement('div', {\n      className: CALENDARCONTAINER\n    });\n\n    if (!this.isMobile) {\n      this.selectStartMonth();\n      this.renderCalendar();\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      this.calendarElement.classList.add(LEFTCALENDER);\n      this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n      this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n      this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n      remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n      prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n      this.leftCalendar = this.calendarElement;\n      var leftContainer = this.createElement('div', {\n        className: LEFTCONTAINER\n      });\n      var rightContainer = this.createElement('div', {\n        className: RIGHTCONTAINER\n      });\n      leftContainer.appendChild(this.leftCalendar);\n      calendarContainer.appendChild(leftContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n      }\n\n      if (this.start === 'Month') {\n        this.selectNextMonth();\n      }\n\n      if (this.start === 'Year') {\n        this.selectNextYear();\n      }\n\n      if (this.start === 'Decade') {\n        this.selectNextDecade();\n      }\n\n      this.renderCalendar();\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      addClass([this.calendarElement], RIGHTCALENDER);\n      this.rightCalendar = this.calendarElement;\n      removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n      this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n      this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n      remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('table').setAttribute('tabindex', '0');\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n      prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n      rightContainer.appendChild(this.rightCalendar);\n      calendarContainer.appendChild(rightContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.currentDate = new Date(+this.startValue);\n      }\n\n      _super.prototype.validateDate.call(this);\n\n      _super.prototype.minMaxUpdate.call(this);\n\n      _super.prototype.render.call(this);\n\n      var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n      var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n      remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n      prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n      this.deviceCalendar = this.calendarElement;\n      calendarContainer.appendChild(this.calendarElement);\n      this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n    }\n\n    return calendarContainer;\n  };\n\n  DateRangePicker.prototype.leftNavTitle = function (e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.leftCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  };\n\n  DateRangePicker.prototype.calendarNavigation = function (e, element) {\n    this.table = element.querySelector('table');\n    this.headerTitleElement = element.querySelector('.e-title');\n    this.tableBodyElement = element.querySelector('tbody');\n    this.tableHeadElement = element.querySelector('thead');\n    this.contentElement = element.querySelector('.e-content');\n    this.updateCalendarElement(element);\n\n    _super.prototype.navigateTitle.call(this, e);\n\n    this.updateNavIcons();\n  };\n\n  DateRangePicker.prototype.rightNavTitle = function (e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.rightCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  };\n\n  DateRangePicker.prototype.clickEventEmitter = function (e) {\n    if (!this.isMobile) {\n      if (closest(e.target, '.e-calendar.e-left-calendar')) {\n        this.calendarElement = this.leftCalendar;\n        this.updateCalendarElement(this.leftCalendar);\n      } else {\n        this.calendarElement = this.rightCalendar;\n        this.updateCalendarElement(this.rightCalendar);\n      }\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   * @private\n   * @hidden\n   */\n\n\n  DateRangePicker.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n\n  DateRangePicker.prototype.getCalendarView = function (view) {\n    if (view === 'Year') {\n      return 'Year';\n    } else if (view === 'Decade') {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n\n  DateRangePicker.prototype.navigatedEvent = function (e) {\n    this.trigger('navigated', this.navigatedArgs);\n\n    if (!isNullOrUndefined(this.popupObj)) {\n      var element = void 0;\n      var view = this.getCalendarView(this.currentView());\n\n      if (this.isMobile) {\n        if (view === this.depth) {\n          this.bindCalendarCellEvents();\n          this.deviceNavigation();\n          this.removeFocusedDate();\n          this.checkMinMaxDays();\n        } else {\n          this.selectableDates();\n        }\n      } else {\n        if (!this.isMobile && view === this.depth) {\n          element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n\n          if (element === this.leftCalendar && (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown))) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.effect = '';\n            this.currentDate = this.leftCalCurrentDate;\n            this.updateCalendarElement(this.leftCalendar);\n            this.updateControl(this.leftCalendar);\n            this.updateCalendarElement(this.rightCalendar);\n\n            _super.prototype.navigateTo.call(this, view, this.rightCalCurrentDate);\n\n            var customDate = this.rightCalCurrentDate ? this.rightCalCurrentDate : this.currentDate;\n            this.updateControl(this.rightCalendar, customDate);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          } else if (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown)) {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            this.effect = '';\n            this.currentDate = this.rightCalCurrentDate;\n            this.updateCalendarElement(this.rightCalendar);\n            this.updateControl(this.rightCalendar);\n            this.updateCalendarElement(this.leftCalendar);\n\n            if (this.startValue && isNullOrUndefined(this.endValue)) {\n              if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() && this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n              } else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n              } else {\n                _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n              }\n            } else {\n              _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n            }\n\n            this.updateControl(this.leftCalendar);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          }\n\n          this.checkMinMaxDays();\n        } else {\n          this.updateNavIcons();\n          this.calendarIconEvent();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createControl = function () {\n    var controlContainer = this.createElement('div', {\n      className: RANGECONTAINER\n    });\n    var headerContainer = this.createElement('div', {\n      className: RANGEHEADER\n    });\n    var labelContainer = this.createRangeHeader();\n    headerContainer.appendChild(labelContainer);\n    var daySpan = this.createElement('div', {\n      className: DAYSPAN\n    });\n    attributes(daySpan, {\n      'aria-label': 'Selected Days'\n    });\n    daySpan.textContent = this.l10n.getConstant('selectedDays');\n    headerContainer.appendChild(daySpan);\n    var separator = this.createElement('div', {\n      className: SEPARATOR\n    });\n    var calendarContainer = this.createCalendar();\n    controlContainer.appendChild(headerContainer);\n    controlContainer.appendChild(separator);\n    controlContainer.appendChild(calendarContainer);\n    var footerSection = this.createElement('div', {\n      className: FOOTER$1\n    });\n    var cancelBtn = this.createElement('button', {\n      className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1\n    });\n    var applyBtn = this.createElement('button');\n    addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n    footerSection.appendChild(applyBtn);\n    footerSection.appendChild(cancelBtn);\n    var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n    this.cancelButton = new Button({\n      content: this.l10n.getConstant('cancelText')\n    }, cancelBtn);\n    this.applyButton = new Button({\n      content: this.l10n.getConstant('applyText'),\n      disabled: !enable\n    }, applyBtn);\n    EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n    EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n    this.popupWrapper.appendChild(controlContainer);\n\n    if (!this.isMobile) {\n      if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n        this.createPresets();\n        this.listRippleEffect();\n        addClass([controlContainer], RANGEBORDER);\n        addClass([this.popupWrapper], 'e-preset-wrapper');\n        var presets = this.popupWrapper.querySelector('.' + PRESETS);\n        presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n      }\n    }\n\n    this.popupWrapper.appendChild(footerSection);\n\n    if (this.isMobile) {\n      this.deviceHeaderUpdate();\n    }\n\n    this.renderPopup();\n  };\n\n  DateRangePicker.prototype.cancelFunction = function (eve) {\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n\n    eve.preventDefault();\n\n    if (this.isKeyPopup) {\n      this.inputElement.focus();\n      this.isKeyPopup = false;\n    }\n\n    this.startValue = null;\n    this.endValue = null;\n    this.removeSelection();\n    this.hide(eve);\n  };\n\n  DateRangePicker.prototype.deviceHeaderUpdate = function () {\n    if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.endButton.element.setAttribute('disabled', '');\n      this.startButton.element.classList.add(ACTIVE$1);\n    } else if (!isNullOrUndefined(this.startValue)) {\n      this.startButton.element.classList.add(ACTIVE$1);\n    }\n  };\n\n  DateRangePicker.prototype.applyFunction = function (eve) {\n    var isValueChanged = false;\n\n    if (eve.type !== 'touchstart') {\n      eve.preventDefault();\n    }\n\n    if (this.closeEventArgs && this.closeEventArgs.cancel) {\n      this.startValue = this.popupWrapper.querySelector('.e-start-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n      this.endValue = this.popupWrapper.querySelector('.e-end-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n      this.setValue();\n    }\n\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n\n    if (eve.type !== 'touchstart' && this.closeEventArgs && !this.closeEventArgs.cancel) {\n      eve.preventDefault();\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n      this.previousEleValue = this.inputElement.value;\n      Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n\n      if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n        isValueChanged = true;\n      }\n\n      this.changeTrigger(eve);\n      this.hide(eve ? eve : null);\n      this.errorClass();\n      isValueChanged = true;\n    } else {\n      this.hide(eve ? eve : null);\n    }\n\n    if (!closest(eve.target, '.' + INPUTCONTAINER$1) && !isValueChanged) {\n      this.focusOut();\n    }\n\n    if (!this.isMobile) {\n      this.isKeyPopup = false;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.children[1].focus();\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n          eventName: 'keydown',\n          keyConfigs: this.keyInputConfigs,\n          keyAction: this.popupKeyActionHandle.bind(this)\n        });\n      }\n    }\n  };\n\n  DateRangePicker.prototype.onMouseClick = function (event, item) {\n    if (event.type === 'touchstart') {\n      return;\n    }\n\n    var target = item || event.target;\n    var li = closest(target, '.' + LISTCLASS);\n    var isClick = li && li.classList.contains(ACTIVE$1);\n\n    if (li && li.classList.contains(LISTCLASS)) {\n      this.setListSelection(li, event);\n    }\n\n    this.preventFocus = true;\n    this.inputElement.focus();\n\n    if (!this.isMobile) {\n      this.preventFocus = true;\n\n      if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n        this.leftCalendar.children[1].firstElementChild.focus();\n      } else {\n        if (!isClick && event.type === 'keydown') {\n          this.inputElement.focus();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.onMouseOver = function (event) {\n    var li = closest(event.target, '.' + LISTCLASS);\n\n    if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n      addClass([li], HOVER);\n    }\n  };\n\n  DateRangePicker.prototype.onMouseLeave = function (event) {\n    var item = closest(event.target, '.' + HOVER);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], HOVER);\n    }\n  };\n\n  DateRangePicker.prototype.setListSelection = function (li, event) {\n    if (li && (!li.classList.contains(ACTIVE$1) || this.isMobile && li.classList.contains(ACTIVE$1))) {\n      if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        var values_1 = this.presetsItem[this.activeIndex];\n\n        if (values_1.id === 'custom_range') {\n          this.renderCustomPopup();\n          return;\n        }\n\n        return;\n      }\n\n      this.removeListSelection();\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      addClass([li], ACTIVE$1);\n      li.setAttribute('aria-selected', 'true');\n      var values = this.presetsItem[this.activeIndex];\n\n      if (values.id === 'custom_range') {\n        this.renderCustomPopup();\n      } else {\n        this.applyPresetRange(values, event);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.removeListSelection = function () {\n    var item = this.presetElement.querySelector('.' + ACTIVE$1);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], ACTIVE$1);\n      item.removeAttribute('aria-selected');\n    }\n  };\n\n  DateRangePicker.prototype.setValue = function () {\n    this.modelValue = [this.startValue, this.endValue];\n  };\n\n  DateRangePicker.prototype.applyPresetRange = function (values, e) {\n    this.hide(null);\n    this.presetsItem[this.presetsItem.length - 1].start = null;\n    this.presetsItem[this.presetsItem.length - 1].end = null;\n    this.startValue = values.start;\n    this.endValue = values.end;\n    this.setValue();\n    this.refreshControl();\n    this.trigger('select', this.rangeArgs(e));\n    this.changeTrigger(e);\n    this.previousEleValue = this.inputElement.value;\n    this.isCustomRange = false;\n    this.leftCalendar = this.rightCalendar = null;\n\n    if (this.isKeyPopup) {\n      this.isRangeIconClicked = false;\n      this.inputElement.focus();\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.showPopup = function (element, event) {\n    this.presetHeight();\n\n    if (this.zIndex === 1000) {\n      this.popupObj.show(null, this.element);\n    } else {\n      this.popupObj.show(null, null);\n    }\n\n    if (this.isMobile) {\n      this.popupObj.refreshPosition();\n    }\n  };\n\n  DateRangePicker.prototype.renderCustomPopup = function () {\n    this.isCustomWindow = true;\n    this.popupObj.hide();\n    this.popupWrapper = this.createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT$2 + ' ' + POPUP$1\n    });\n    this.renderControl();\n    this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n    this.showPopup();\n    this.isCustomRange = true;\n\n    if (!this.isMobile) {\n      this.calendarFocus();\n    }\n  };\n\n  DateRangePicker.prototype.listRippleEffect = function () {\n    for (var _i = 0, _a = this.liCollections; _i < _a.length; _i++) {\n      var li = _a[_i];\n      rippleEffect(li);\n    }\n  };\n\n  DateRangePicker.prototype.createPresets = function () {\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      this.presetElement = this.createElement('div', {\n        className: PRESETS,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n      var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n      attributes(listTag, {\n        'role': 'listbox',\n        'aria-hidden': 'false',\n        'id': this.element.id + '_options',\n        'tabindex': '0'\n      });\n      this.presetElement.appendChild(listTag);\n      this.popupWrapper.appendChild(this.presetElement);\n      var customElement = this.presetElement.querySelector('#custom_range');\n\n      if (!isNullOrUndefined(customElement)) {\n        customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n      }\n\n      this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n      this.wireListEvents();\n\n      if (this.isMobile) {\n        this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n      }\n\n      if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n        addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.wireListEvents = function () {\n    EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n\n    if (!this.isMobile) {\n      EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  DateRangePicker.prototype.unWireListEvents = function () {\n    if (!isNullOrUndefined(this.presetElement)) {\n      EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n\n      if (!this.isMobile) {\n        EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.popupWrapper.classList.add('e-control');\n    var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      this.modal = this.createElement('div');\n      document.body.appendChild(this.modal);\n    }\n\n    this.popupObj = new Popup(this.popupWrapper, {\n      relateTo: this.isMobile && this.isCustomWindow ? document.body : !isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container,\n      position: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'center',\n        Y: 'center'\n      } : this.enableRtl ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'right',\n        Y: 'bottom'\n      },\n      offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n      offsetY: OFFSETVALUE$1,\n      collision: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'flip'\n      },\n      targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n      enableRtl: this.enableRtl,\n      zIndex: this.zIndex,\n      open: function () {\n        attributes(_this.inputElement, {\n          'aria-expanded': 'true',\n          'aria-owns': _this.inputElement.id + '_options'\n        });\n\n        if (_this.value) {\n          attributes(_this.inputElement, {\n            'aria-activedescendant': _this.inputElement.id\n          });\n        } else {\n          _this.inputElement.removeAttribute('aria-activedescendant');\n        }\n\n        addClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n\n        if (!_this.isMobile) {\n          if (_this.cancelButton) {\n            _this.btnKeyboardModule = new KeyboardEvents(_this.cancelButton.element, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                tab: 'tab',\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n            _this.btnKeyboardModule = new KeyboardEvents(_this.applyButton.element, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n          }\n\n          if (!isNullOrUndefined(_this.leftCalendar)) {\n            if (!_this.isRangeIconClicked) {\n              _this.calendarFocus();\n            }\n          }\n\n          if (!isNullOrUndefined(_this.presetElement)) {\n            _this.keyInputConfigs = extend(_this.keyInputConfigs, _this.keyConfigs);\n            _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n              eventName: 'keydown',\n              keyAction: _this.presetKeyActionHandler.bind(_this),\n              keyConfigs: _this.keyInputConfigs\n            });\n            _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n\n            if (isNullOrUndefined(_this.leftCalendar)) {\n              _this.preventBlur = true;\n\n              _this.presetElement.focus();\n            } else {\n              _this.presetElement.setAttribute('tabindex', '-1');\n            }\n          }\n\n          _this.popupKeyBoardHandler();\n        }\n\n        if (_this.isMobile && !Browser.isDevice) {\n          EventHandler.add(document, 'keydown', _this.popupCloseHandler, _this);\n        }\n      },\n      close: function () {\n        attributes(_this.inputElement, {\n          'aria-expanded': 'false'\n        });\n\n        _this.inputElement.removeAttribute('aria-owns');\n\n        _this.inputElement.removeAttribute('aria-activedescendant');\n\n        removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n\n        if (_this.isRangeIconClicked) {\n          _this.inputWrapper.container.children[1].focus();\n        }\n\n        if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label)) {\n          _this.unWireListEvents();\n        }\n\n        if (!isNullOrUndefined(_this.popupObj)) {\n          if (!isNullOrUndefined(_this.popupObj.element.parentElement)) {\n            detach(_this.popupObj.element);\n          }\n\n          _this.popupObj.destroy();\n\n          _this.popupObj = null;\n        }\n\n        if (_this.isMobile && !Browser.isDevice) {\n          EventHandler.remove(document, 'keydown', _this.popupCloseHandler);\n        }\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n\n    if (this.isMobile) {\n      this.popupObj.element.classList.add(DEVICE$1);\n\n      if (!this.isMobile) {\n        this.popupObj.element.classList.add('e-bigger');\n      }\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n      document.body.className += ' ' + OVERFLOW$1;\n      this.modal.style.display = 'block';\n    }\n\n    EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n  };\n\n  DateRangePicker.prototype.popupCloseHandler = function (e) {\n    switch (e.keyCode) {\n      case 27:\n        this.hide(e);\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.calendarFocus = function () {\n    var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n\n    if (startDate) {\n      var ele = closest(startDate, '.' + RIGHTCALENDER);\n      ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        ele.children[1].firstElementChild.focus();\n      }\n\n      addClass([startDate], FOCUSDATE);\n    } else {\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        this.leftCalendar.children[1].firstElementChild.focus();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.presetHeight = function () {\n    var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n    var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n\n    if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n      presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n    }\n  };\n\n  DateRangePicker.prototype.presetKeyActionHandler = function (e) {\n    switch (e.action) {\n      case 'moveDown':\n        this.listMoveDown(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'moveUp':\n        this.listMoveUp(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'enter':\n        {\n          var hvrItem = this.getHoverLI();\n          var actItem = this.getActiveLI();\n\n          if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n            if (isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem) && actItem === hvrItem) {\n              this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n              var values = this.presetsItem[this.activeIndex];\n\n              if (values.id === 'custom_range') {\n                this.calendarFocus();\n                actItem.classList.remove(HOVER);\n                e.preventDefault();\n                return;\n              }\n            }\n          }\n\n          if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n            this.onMouseClick(e, hvrItem || actItem);\n          }\n\n          e.preventDefault();\n        }\n        break;\n\n      case 'tab':\n        if (this.leftCalendar) {\n          var item = this.getHoverLI();\n\n          if (!isNullOrUndefined(item)) {\n            item.classList.remove(HOVER);\n          }\n        } else {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.listMoveDown = function (e) {\n    var hvrItem = this.getHoverLI();\n    var actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      var li = hvrItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      var li = actItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    } else {\n      addClass([this.liCollections[0]], HOVER);\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.listMoveUp = function (e) {\n    var hvrItem = this.getHoverLI();\n    var actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      var li = hvrItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      var li = actItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.getHoverLI = function () {\n    var item = this.presetElement.querySelector('.' + HOVER);\n    return item;\n  };\n\n  DateRangePicker.prototype.getActiveLI = function () {\n    var item = this.presetElement.querySelector('.' + ACTIVE$1);\n    return item;\n  };\n\n  DateRangePicker.prototype.popupKeyBoardHandler = function () {\n    this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: {\n        escape: 'escape'\n      }\n    });\n    this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n    this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: this.keyInputConfigs\n    });\n  };\n\n  DateRangePicker.prototype.setScrollPosition = function () {\n    var listHeight = this.presetElement.getBoundingClientRect().height;\n    var hover = this.presetElement.querySelector('.' + HOVER);\n    var active = this.presetElement.querySelector('.' + ACTIVE$1);\n    var element = !isNullOrUndefined(hover) ? hover : active;\n\n    if (!isNullOrUndefined(element)) {\n      var nextEle = element.nextElementSibling;\n      var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n      var liHeight = element.getBoundingClientRect().height;\n\n      if (height + element.offsetTop > listHeight) {\n        this.presetElement.scrollTop = nextEle ? height - (listHeight / 2 + liHeight / 2) : height;\n      } else {\n        this.presetElement.scrollTop = 0;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.popupKeyActionHandle = function (e) {\n    var presetElement = closest(e.target, '.' + PRESETS);\n\n    switch (e.action) {\n      case 'escape':\n        if (this.isPopupOpen()) {\n          if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n          }\n\n          this.hide(e);\n        } else {\n          this.inputWrapper.container.children[1].blur();\n        }\n\n        break;\n\n      case 'enter':\n        if (!this.isPopupOpen()) {\n          this.show(null, e);\n        } else {\n          this.inputWrapper.container.children[1].focus();\n        }\n\n        break;\n\n      case 'tab':\n        this.hide(e);\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.cancelButton.element.focus();\n        } else {\n          if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else {\n          if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n            this.cancelButton.element.focus();\n          } else {\n            if (!isNullOrUndefined(this.presetElement) && document.activeElement === this.cancelButton.element) {\n              this.presetElement.focus();\n            } else {\n              this.rightCalendar.children[1].firstElementChild.focus();\n            }\n          }\n        }\n\n        e.preventDefault();\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.documentHandler = function (e) {\n    if (isNullOrUndefined(this.popupObj)) {\n      return;\n    }\n\n    var target = e.target;\n\n    if (!this.inputWrapper.container.contains(target) || !isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && e.type !== 'mousedown') {\n      if (e.type !== 'touchstart' && (e.type === 'mousedown' || this.closeEventArgs && !this.closeEventArgs.cancel)) {\n        e.preventDefault();\n      }\n    }\n\n    if ((isNullOrUndefined(this.targetElement) || !isNullOrUndefined(this.targetElement) && !(target === this.targetElement)) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container) && !(closest(target, '.e-daterangepicker.e-popup') && !target.classList.contains('e-day'))) {\n      this.preventBlur = false;\n\n      if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n        this.applyFunction(e);\n\n        if (!this.isMobile) {\n          this.isRangeIconClicked = false;\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createInput = function () {\n    var updatedCssClassValue = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      floatLabelType: this.floatLabelType,\n      element: this.inputElement,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [DATERANGEICON]\n    }, this.createElement);\n    attributes(this.inputElement, {\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    });\n    Input.addAttributes({\n      'aria-label': 'select'\n    }, this.inputWrapper.buttons[0]);\n\n    if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n      Input.addAttributes({\n        'aria-placeholder': this.placeholder\n      }, this.inputElement);\n    }\n\n    this.setEleWidth(this.width);\n    addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.inputElement.type === 'hidden') {\n      this.inputWrapper.container.style.display = 'none';\n    }\n\n    this.refreshControl();\n    this.previousEleValue = this.inputElement.value;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.startCopy = this.startDate;\n    this.endCopy = this.endDate;\n  };\n\n  DateRangePicker.prototype.setEleWidth = function (width) {\n    if (typeof width === 'string') {\n      this.inputWrapper.container.style.width = this.width;\n    } else if (typeof width === 'number') {\n      this.inputWrapper.container.style.width = formatUnit(this.width);\n    } else {\n      this.inputWrapper.container.style.width = '100%';\n    }\n  };\n\n  DateRangePicker.prototype.adjustLongHeaderWidth = function () {\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.popupWrapper], DAYHEADERLONG$1);\n    }\n  };\n\n  DateRangePicker.prototype.refreshControl = function () {\n    this.validateMinMax();\n\n    if (this.strictMode) {\n      this.validateRangeStrict();\n    }\n\n    var isDisabled = this.disabledDates();\n\n    if (this.strictMode && isDisabled) {\n      this.startValue = this.previousStartValue;\n      this.setProperties({\n        startDate: this.startValue\n      }, true);\n      this.endValue = this.previousEndValue;\n      this.setProperties({\n        endDate: this.endValue\n      }, true);\n      this.setValue();\n    }\n\n    this.updateInput();\n\n    if (!this.strictMode) {\n      this.validateRange();\n    }\n\n    if (!this.strictMode && isDisabled) {\n      this.clearRange();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n      this.disabledDateRender();\n    }\n\n    this.errorClass();\n    this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n    this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n  };\n\n  DateRangePicker.prototype.updateInput = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      var formatOption = {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      };\n      var startDate = this.globalize.formatDate(this.startValue, formatOption);\n      var endDate = this.globalize.formatDate(this.endValue, formatOption);\n      Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  };\n\n  DateRangePicker.prototype.checkInvalidRange = function (value) {\n    if (!isNullOrUndefined(value)) {\n      var invalid = false;\n      var startinvalue = void 0;\n      var endinvalue = void 0;\n      var startString = null;\n      var endString = null;\n      var valueString = null;\n      var startObject = false;\n      var endObject = false;\n      var invalidobject = false;\n\n      if (typeof value === 'string') {\n        var range = value.split(' ' + this.separator + ' ');\n\n        if (range.length === 2) {\n          startString = range[0];\n          endString = range[1];\n        } else {\n          invalid = true;\n          valueString = value;\n        }\n      } else {\n        if (value.length > 0) {\n          startinvalue = value[0];\n          endinvalue = value[1];\n        } else {\n          startinvalue = value.start;\n          endinvalue = value.end;\n        }\n\n        if (!(startinvalue instanceof Date) && typeof startinvalue !== 'object') {\n          startString = this.getstringvalue(startinvalue);\n        } else if (startinvalue instanceof Date) {\n          startObject = true;\n        } else if (!isNullOrUndefined(startinvalue)) {\n          invalidobject = true;\n        }\n\n        if (!(endinvalue instanceof Date) && typeof endinvalue !== 'object') {\n          endString = this.getstringvalue(endinvalue);\n        } else if (endinvalue instanceof Date) {\n          endObject = true;\n        } else if (!isNullOrUndefined(endinvalue)) {\n          invalidobject = true;\n        }\n      }\n\n      if (isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString) || !isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString)) {\n        invalid = true;\n      }\n\n      if (invalidobject) {\n        startString = endString = valueString = null;\n        invalid = true;\n      }\n\n      if (startString) {\n        invalid = invalid || this.checkInvalidValue(startString);\n      }\n\n      if (endString) {\n        invalid = invalid || this.checkInvalidValue(endString);\n      }\n\n      if (invalid) {\n        if (startObject && !invalidobject) {\n          startString = startinvalue.toLocaleDateString();\n        }\n\n        if (endObject && !invalidobject) {\n          endString = endinvalue.toLocaleDateString();\n        }\n\n        if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n          valueString = startString + ' ' + this.separator + ' ' + endString;\n        } else if (!isNullOrUndefined(startString)) {\n          valueString = startString;\n        } else if (!isNullOrUndefined(endString)) {\n          valueString = endString;\n        }\n\n        this.invalidValueString = valueString;\n        this.setProperties({\n          value: null\n        }, true);\n        this.setProperties({\n          startValue: null\n        }, true);\n        this.setProperties({\n          endValue: null\n        }, true);\n        this.startDate = null;\n        this.endDate = null;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.getstringvalue = function (value) {\n    var stringValue = null;\n\n    if (!isNullOrUndefined(value) && typeof value === 'number') {\n      stringValue = value.toString();\n    } else if (!isNullOrUndefined(value) && typeof value === 'string') {\n      stringValue = '' + value;\n    }\n\n    return stringValue;\n  };\n\n  DateRangePicker.prototype.checkInvalidValue = function (value) {\n    var valueString = value;\n    var invalid = false;\n    var formatOpt = null;\n    formatOpt = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    if (typeof valueString !== 'string') {\n      invalid = true;\n    } else {\n      var globalize = new Internationalization(this.locale);\n\n      if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n        var extISOStr = null;\n        var basISOString = null; // eslint-disable-next-line\n\n        extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n        basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOStr.test(valueString) && !basISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n          invalid = true;\n        }\n      }\n    }\n\n    return invalid;\n  };\n\n  DateRangePicker.prototype.isDateDisabled = function (date) {\n    if (isNullOrUndefined(date)) {\n      return false;\n    }\n\n    var value = new Date(+date);\n\n    if (+value < +this.min || +value > +this.max) {\n      return true;\n    }\n\n    this.virtualRenderCellArgs = {\n      date: value,\n      isDisabled: false\n    };\n    var args = this.virtualRenderCellArgs;\n    this.virtualRenderCellEvent(args);\n\n    if (args.isDisabled) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.disabledDateRender = function () {\n    this.disabledDays = [];\n    this.disabledDayCnt = null;\n    var localDate = new Date(+this.startValue);\n    var count = 0;\n\n    while (+localDate <= +this.endValue && +this.endValue <= +this.max) {\n      this.virtualRenderCellArgs = {\n        date: localDate,\n        isDisabled: false\n      };\n      var args = this.virtualRenderCellArgs;\n      this.virtualRenderCellEvent(args);\n\n      if (args.isDisabled) {\n        this.disabledDays.push(new Date(+args.date));\n\n        if (+localDate > +this.startValue && +localDate < +this.endValue) {\n          count++;\n        }\n      }\n\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n\n    this.disabledDayCnt = count;\n  };\n\n  DateRangePicker.prototype.virtualRenderCellEvent = function (args) {\n    extend(this.virtualRenderCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n\n  DateRangePicker.prototype.disabledDates = function () {\n    var isStartDisabled = false;\n    var isEndDisabled = false;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      isStartDisabled = this.isDateDisabled(this.startValue);\n      isEndDisabled = this.isDateDisabled(this.endValue);\n\n      if (!this.isPopupOpen()) {\n        this.currentDate = null;\n      }\n\n      this.setValue();\n    }\n\n    return isStartDisabled || isEndDisabled;\n  };\n\n  DateRangePicker.prototype.setModelValue = function () {\n    if (!this.value && this.startDate === null && this.endDate === null) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (this.value === null || this.value.start === null) {\n      if (this.value === null) {\n        this.setProperties({\n          value: [this.startDate, this.endDate]\n        }, true);\n      } else if (this.value.start === null) {\n        this.setProperties({\n          value: {\n            start: this.startDate,\n            end: this.endDate\n          }\n        }, true);\n      }\n    } else {\n      if (this.value && this.value.length > 0 || this.valueType && this.valueType.length > 0) {\n        if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n          this.setProperties({\n            value: [this.startDate, this.endDate]\n          }, true);\n        }\n\n        if (this.value && this.value[0] == null && this.value[1] == null) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      } else {\n        if (this.value && this.value.start) {\n          this.setProperties({\n            value: {\n              start: this.startDate,\n              end: this.endDate\n            }\n          }, true);\n        }\n      }\n    }\n\n    this.createHiddenInput();\n  };\n  /**\n   * To dispatch the event manually\n   *\n   * @param {HTMLElement} element - Specifies the element to dispatch the event.\n   * @param {string} type - Specifies the name of the event.\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.dispatchEvent = function (element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    element.dispatchEvent(evt);\n    this.firstHiddenChild.dispatchEvent(evt);\n  };\n\n  DateRangePicker.prototype.changeTrigger = function (e) {\n    if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n      this.setProperties({\n        endDate: this.checkDateValue(this.endValue)\n      }, true);\n      this.setProperties({\n        startDate: this.checkDateValue(this.startValue)\n      }, true);\n      this.setModelValue();\n\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.rangeArgs(e));\n      }\n    }\n\n    this.previousEleValue = this.inputElement.value;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param  {string} view - Specifies the view of the Calendar.\n   * @param  {Date} date - Specifies the focused date in a view.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  DateRangePicker.prototype.navigateTo = function (view, date) {\n    if (this.isPopupOpen()) {\n      if (view.toLowerCase() === 'month') {\n        view = 'Month';\n      } else if (view.toLowerCase() === 'year') {\n        view = 'Year';\n      } else if (view.toLowerCase() === 'decade') {\n        view = 'Decade';\n      } else {\n        return;\n      }\n\n      if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n        view = this.depth;\n      }\n\n      if (this.isMobile) {\n        _super.prototype.navigateTo.call(this, view, date);\n      } else {\n        if (date < this.min) {\n          date = new Date(+this.min);\n        } else if (date >= this.max) {\n          date = new Date(+this.max);\n        }\n\n        if (view === 'Month' && this.isSameMonth(date, this.max)) {\n          date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n        } else if (view === 'Year' && this.isSameYear(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 1, this.max.getMonth(), this.max.getDate());\n        } else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 10, this.max.getMonth(), this.max.getDate());\n        }\n\n        this.leftCalCurrentDate = date;\n        this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n\n        if (view === 'Month') {\n          date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n        } else if (view === 'Year') {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n        } else {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n        }\n\n        this.rightCalCurrentDate = date;\n        this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n        this.leftKeyboardModule = this.rightKeyboardModule = null;\n        this.updateNavIcons();\n      }\n\n      if (this.currentView() === this.depth) {\n        this.bindCalendarCellEvents();\n      }\n\n      this.removeFocusedDate();\n      this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n    }\n  };\n\n  DateRangePicker.prototype.navigate = function (calendar, date, view) {\n    this.calendarElement = calendar;\n    this.table = calendar.querySelector('table');\n    this.tableBodyElement = calendar.querySelector('tbody');\n    this.headerTitleElement = calendar.querySelector('.e-title');\n    this.tableHeadElement = calendar.querySelector('thead');\n    this.contentElement = calendar.querySelector('.e-content');\n    this.previousIcon = calendar.querySelector('.e-prev');\n    this.nextIcon = calendar.querySelector('.e-next');\n    this.effect = ZOOMIN$1;\n\n    _super.prototype.navigateTo.call(this, view, date);\n  };\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      this.inputElement.focus();\n    }\n  };\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.focusOut = function () {\n    var isBlur = this.preventBlur;\n\n    if (document.activeElement === this.inputElement) {\n      removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      this.preventBlur = false;\n      this.inputElement.blur();\n      this.preventBlur = isBlur;\n    }\n  };\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.destroy = function () {\n    this.unBindEvents();\n    this.hide(null);\n    var ariaAttrs = {\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'aria-invalid': 'false',\n      'spellcheck': 'false'\n    };\n\n    if (this.inputElement) {\n      removeClass([this.inputElement], [ROOT$2]);\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      Input.removeAttributes(ariaAttrs, this.inputElement);\n\n      if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      this.ensureInputAttribute();\n      this.inputElement.classList.remove('e-input');\n\n      if (!isNullOrUndefined(this.inputWrapper)) {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n\n        if (this.angularTag === null) {\n          this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n        }\n\n        detach(this.inputWrapper.container);\n      }\n    }\n\n    if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n      this.inputKeyboardModule.destroy();\n    }\n\n    if (this.popupObj) {\n      if (!this.isMobile) {\n        this.clearCalendarEvents();\n      }\n    }\n\n    _super.prototype.destroy.call(this);\n\n    this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    if (!isNullOrUndefined(this.firstHiddenChild) && !isNullOrUndefined(this.secondHiddenChild)) {\n      detach(this.firstHiddenChild);\n      detach(this.secondHiddenChild);\n      this.firstHiddenChild = this.secondHiddenChild = null;\n      this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n      this.inputElement.removeAttribute('data-name');\n    }\n  };\n\n  DateRangePicker.prototype.ensureInputAttribute = function () {\n    var attr = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      attr[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < attr.length; i++) {\n      if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n\n        this.inputElement.removeAttribute(attr[i]);\n      } else {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n        }\n\n        this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n      }\n    }\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  DateRangePicker.prototype.getModuleName = function () {\n    return 'daterangepicker';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Return the properties that are maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  DateRangePicker.prototype.getPersistData = function () {\n    var keyEntity = ['startDate', 'endDate', 'value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Return the selected range and day span in the DateRangePicker.\n   *\n   * @returns {Object}\n   */\n\n\n  DateRangePicker.prototype.getSelectedRange = function () {\n    var range;\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n      this.disabledDateRender();\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n    } else {\n      range = 0;\n    }\n\n    return {\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range\n    };\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * To open the Popup container in the DateRangePicker component.\n   *\n   * @param {HTMLElement} element - Specifies element.\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.show = function (element, event) {\n    var _this = this;\n\n    if (this.isMobile && this.popupObj) {\n      this.popupObj.refreshPosition();\n    }\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n      return;\n    } else {\n      if (!this.isPopupOpen()) {\n        if (element) {\n          this.targetElement = element;\n        }\n\n        this.createPopup();\n\n        if (this.isMobile || Browser.isDevice) {\n          this.mobileRangePopupWrap = this.createElement('div', {\n            className: 'e-daterangepick-mob-popup-wrap'\n          });\n          document.body.appendChild(this.mobileRangePopupWrap);\n        }\n\n        this.openEventArgs = {\n          popup: this.popupObj || null,\n          cancel: false,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null,\n          appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n        };\n        var eventArgs = this.openEventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n          _this.openEventArgs = eventArgs;\n\n          if (!_this.openEventArgs.cancel) {\n            _this.openEventArgs.appendTo.appendChild(_this.popupWrapper);\n\n            _this.showPopup(element, event);\n\n            var isPreset = !_this.isCustomRange || _this.isMobile && _this.isCustomRange;\n\n            if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label) && isPreset) {\n              _this.setScrollPosition();\n            }\n\n            _this.checkMinMaxDays();\n\n            if (_this.isMobile && !isNullOrUndefined(_this.startDate) && isNullOrUndefined(_this.endDate)) {\n              _this.endButton.element.classList.add(ACTIVE$1);\n\n              _this.startButton.element.classList.remove(ACTIVE$1);\n\n              _this.endButton.element.removeAttribute('disabled');\n\n              _this.selectableDates();\n            }\n\n            _super.prototype.setOverlayIndex.call(_this, _this.mobileRangePopupWrap, _this.popupObj.element, _this.modal, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.isMobile || Browser.isDevice);\n          }\n        });\n      }\n    }\n  };\n  /**\n   * To close the Popup container in the DateRangePicker component.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.hide = function (event) {\n    var _this = this;\n\n    if (this.popupObj) {\n      if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n        this.clearRange();\n      } else {\n        if (!isNullOrUndefined(this.previousStartValue)) {\n          this.startValue = new Date(this.checkValue(this.previousStartValue));\n          this.setValue();\n          this.currentDate = new Date(this.checkValue(this.startValue));\n        } else {\n          this.startValue = null;\n          this.setValue();\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          this.endValue = new Date(this.checkValue(this.previousEndValue));\n          this.setValue();\n        } else {\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (this.isPopupOpen()) {\n        this.closeEventArgs = {\n          cancel: false,\n          popup: this.popupObj,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null\n        };\n        var eventArgs = this.closeEventArgs;\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.closeEventArgs = eventArgs;\n\n          if (!_this.closeEventArgs.cancel) {\n            if (_this.isMobile) {\n              if (!isNullOrUndefined(_this.startButton) && !isNullOrUndefined(_this.endButton)) {\n                EventHandler.remove(_this.startButton.element, 'click touchstart', _this.deviceHeaderClick);\n                EventHandler.remove(_this.endButton.element, 'click touchstart', _this.deviceHeaderClick);\n              }\n            }\n\n            if (_this.popupObj) {\n              _this.popupObj.hide();\n\n              if (_this.preventBlur) {\n                _this.inputElement.focus();\n\n                addClass([_this.inputWrapper.container], [INPUTFOCUS$1]);\n              }\n            }\n\n            if (!_this.isMobile) {\n              if (!isNullOrUndefined(_this.leftKeyboardModule) && !isNullOrUndefined(_this.rightKeyboardModule)) {\n                _this.leftKeyboardModule.destroy();\n\n                _this.rightKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(_this.presetElement)) {\n                _this.presetKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(_this.cancelButton)) {\n                _this.btnKeyboardModule.destroy();\n              }\n            }\n\n            _this.targetElement = null;\n            removeClass([document.body], OVERFLOW$1);\n            EventHandler.remove(document, 'mousedown touchstart', _this.documentHandler);\n\n            if (_this.isMobile && _this.modal) {\n              _this.modal.style.display = 'none';\n              _this.modal.outerHTML = '';\n              _this.modal = null;\n            }\n\n            if (_this.isMobile || Browser.isDevice) {\n              if (!isNullOrUndefined(_this.mobileRangePopupWrap)) {\n                _this.mobileRangePopupWrap.remove();\n\n                _this.mobileRangePopupWrap = null;\n              }\n            }\n\n            _this.isKeyPopup = _this.dateDisabled = false;\n          } else {\n            removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n          }\n\n          _this.updateClearIconState();\n\n          _this.updateHiddenInput();\n\n          if (_this.isMobile && _this.allowEdit && !_this.readonly) {\n            _this.inputElement.removeAttribute('readonly');\n          }\n        });\n      }\n    } else {\n      this.updateClearIconState();\n      this.updateHiddenInput();\n\n      if (this.isMobile && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  DateRangePicker.prototype.setLocale = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.l10n.getConstant('placeholder')\n    }, true);\n    Input.setPlaceholder(this.placeholder, this.inputElement);\n    this.updateInput();\n    this.updateHiddenInput();\n    this.changeTrigger();\n  };\n\n  DateRangePicker.prototype.refreshChange = function () {\n    this.checkView();\n    this.refreshControl();\n    this.changeTrigger();\n  };\n\n  DateRangePicker.prototype.setDate = function () {\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n    this.refreshChange();\n  };\n\n  DateRangePicker.prototype.enableInput = function () {\n    if (+this.min <= +this.max) {\n      this.setProperties({\n        enabled: true\n      }, true);\n      Input.setEnabled(this.enabled, this.inputElement);\n\n      if (this.element.hasAttribute('disabled')) {\n        this.bindEvents();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.clearModelvalue = function (newProp, oldProp) {\n    this.setProperties({\n      startDate: null\n    }, true);\n    this.setProperties({\n      endDate: null\n    }, true);\n\n    if (oldProp.value && oldProp.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (oldProp.value && oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    } else if (oldProp.value && !oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    this.updateValue();\n    this.setDate();\n  };\n\n  DateRangePicker.prototype.createHiddenInput = function () {\n    if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n      this.firstHiddenChild = this.createElement('input');\n      this.secondHiddenChild = this.createElement('input');\n    }\n\n    if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n      this.inputElement.removeAttribute('name');\n    }\n\n    attributes(this.firstHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    attributes(this.secondHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    var format = {\n      type: 'datetime',\n      skeleton: 'yMd'\n    };\n    this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n    this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n    this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n    this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n  };\n\n  DateRangePicker.prototype.setMinMaxDays = function () {\n    if (this.isPopupOpen()) {\n      this.removeClassDisabled();\n      this.checkMinMaxDays();\n\n      if (this.isMobile) {\n        this.selectableDates();\n      }\n\n      if (!this.strictMode && isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        this.removeSelection();\n      } else {\n        this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n      }\n\n      this.updateHeader();\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  DateRangePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      var openPopup = ['maxDays', 'minDays', 'value'];\n\n      switch (prop) {\n        case 'width':\n          this.setEleWidth(this.width);\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'separator':\n          this.previousEleValue = this.inputElement.value;\n          this.setProperties({\n            separator: newProp.separator\n          }, true);\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.setProperties({\n            placeholder: newProp.placeholder\n          }, true);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          this.setRangeAllowEdit();\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          Input.setEnabled(this.enabled, this.inputElement);\n\n          if (this.enabled) {\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n          } else {\n            this.inputElement.tabIndex = -1;\n          }\n\n          break;\n\n        case 'allowEdit':\n          this.setRangeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          this.setLocale();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.setDataAttribute(true);\n          this.checkHtmlAttributes(true);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'startDate':\n          if (typeof newProp.startDate === 'string') {\n            newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n          }\n\n          if (+this.initStartDate !== +newProp.startDate) {\n            this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'endDate':\n          if (typeof newProp.endDate === 'string') {\n            newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n          }\n\n          if (+this.initEndDate !== +newProp.endDate) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidRange(newProp.value);\n\n          if (typeof newProp.value === 'string') {\n            if (!this.invalidValueString) {\n              var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n              this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n              this.updateValue();\n              this.setDate();\n            } else {\n              this.clearModelvalue(newProp, oldProp);\n            }\n          } else {\n            if (!isNullOrUndefined(newProp.value) && newProp.value.length > 0 || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n              this.valueType = newProp.value;\n\n              if (newProp.value[0] === null || newProp.value.start === null) {\n                if (newProp.value.length === 1 || newProp.value.start) {\n                  this.clearModelvalue(newProp, oldProp);\n                } else if (newProp.value[1] === null || newProp.value.start === null) {\n                  this.clearModelvalue(newProp, oldProp);\n                }\n              } else if (+this.initStartDate !== +newProp.value[0] || +this.initEndDate !== +newProp.value[1] || +this.initStartDate !== +(newProp.value.start || +this.initEndDate !== +newProp.value.start)) {\n                if (newProp.value.length === 1) {\n                  this.modelValue = newProp.value;\n                } else if (newProp.value.start) {\n                  this.modelValue = newProp.value;\n                }\n\n                this.updateValue();\n                this.setDate();\n              }\n            } else {\n              if (isNullOrUndefined(this.value) || newProp.value.start == null) {\n                this.valueType = newProp.value;\n                this.startValue = null;\n                this.endValue = null;\n                this.clearModelvalue(newProp, oldProp);\n              }\n            }\n          }\n\n          if (this.isPopupOpen()) {\n            if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n              this.removeSelection();\n\n              if (this.isMobile) {\n                this.deviceHeaderUpdate();\n              }\n\n              return;\n            }\n\n            if (this.isMobile) {\n              this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n              this.deviceHeaderUpdate();\n            } else {\n              this.navigate(this.leftCalendar, this.startValue, this.currentView());\n              this.updateControl(this.leftCalendar);\n              this.navigate(this.rightCalendar, this.endValue, this.currentView());\n              this.updateControl(this.rightCalendar);\n            }\n\n            this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n            this.updateHeader();\n            this.applyButton.disabled = this.applyButton.element.disabled = false;\n          }\n\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n          break;\n\n        case 'minDays':\n          this.setProperties({\n            minDays: newProp.minDays\n          }, true);\n          this.refreshChange();\n          this.setMinMaxDays();\n          break;\n\n        case 'maxDays':\n          this.setProperties({\n            maxDays: newProp.maxDays\n          }, true);\n          this.refreshChange();\n          this.setMinMaxDays();\n          break;\n\n        case 'min':\n          this.setProperties({\n            min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n          }, true);\n          this.previousEleValue = this.inputElement.value;\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'max':\n          this.setProperties({\n            max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n          }, true);\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'presets':\n          this.setProperties({\n            presets: newProp.presets\n          }, true);\n          this.processPresets();\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'start':\n          this.setProperties({\n            start: newProp.start\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'depth':\n          this.setProperties({\n            depth: newProp.depth\n          }, true);\n          this.refreshChange();\n          break;\n\n        default:\n          this.isPropChanged = true;\n      }\n\n      if (openPopup.indexOf(prop) < 0 && !this.isPropChanged) {\n        this.hide(null);\n      }\n\n      this.isPropChanged = false;\n    }\n  };\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"value\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$2([Property(new Date(1900, 0, 1))], DateRangePicker.prototype, \"min\", void 0);\n\n  __decorate$2([Property(new Date(2099, 11, 31))], DateRangePicker.prototype, \"max\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"locale\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"weekNumber\", void 0);\n\n  __decorate$2([Property('Gregorian')], DateRangePicker.prototype, \"calendarMode\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"created\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"destroyed\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"change\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"cleared\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"navigated\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"renderDayCell\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"startDate\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"endDate\", void 0);\n\n  __decorate$2([Collection([{}], Presets)], DateRangePicker.prototype, \"presets\", void 0);\n\n  __decorate$2([Property('')], DateRangePicker.prototype, \"width\", void 0);\n\n  __decorate$2([Property(1000)], DateRangePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"showTodayButton\", void 0);\n\n  __decorate$2([Property('Month')], DateRangePicker.prototype, \"start\", void 0);\n\n  __decorate$2([Property('Month')], DateRangePicker.prototype, \"depth\", void 0);\n\n  __decorate$2([Property('')], DateRangePicker.prototype, \"cssClass\", void 0);\n\n  __decorate$2([Property('-')], DateRangePicker.prototype, \"separator\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"minDays\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"maxDays\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"format\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"enabled\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"readonly\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$2([Property('Never')], DateRangePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$2([Property({})], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"open\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"close\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"select\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"focus\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"blur\", void 0);\n\n  DateRangePicker = __decorate$2([NotifyPropertyChanges], DateRangePicker);\n  return DateRangePicker;\n}(CalendarBase);\n/**\n * DateRangePicker modules\n */\n\n\nvar __extends$3 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP$2 = 'e-popup';\nvar ERROR$2 = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH$2 = new Date().getMonth();\nvar YEAR$2 = new Date().getFullYear();\nvar ROOT$3 = 'e-timepicker';\nvar LIBRARY$2 = 'e-lib';\nvar CONTROL$2 = 'e-control';\nvar CONTENT$2 = 'e-content';\nvar SELECTED$4 = 'e-active';\nvar HOVER$1 = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED$3 = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar FOCUS = 'e-input-focus';\nvar LISTCLASS$1 = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW$2 = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style']; // eslint-disable-next-line @typescript-eslint/no-namespace\n\nvar TimePickerBase;\n\n(function (TimePickerBase) {\n  // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n  function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n    if (this.calendarMode === 'Gregorian') {} else {// eslint-disable-next-line @typescript-eslint/no-unused-vars\n    }\n\n    var start;\n    var interval = step * 60000;\n    var listItems = [];\n    var timeCollections = [];\n    start = +min.setMilliseconds(0);\n    var end = +max.setMilliseconds(0);\n\n    while (end >= start) {\n      timeCollections.push(start);\n      listItems.push(globalize.formatDate(new Date(start), {\n        format: timeFormat,\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listTag = ListBase.createList(createdEl, listItems, null, true);\n    return {\n      collection: timeCollections,\n      list: listTag\n    };\n  }\n\n  TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n\nvar TimeMaskPlaceholder =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(TimeMaskPlaceholder, _super);\n\n  function TimeMaskPlaceholder() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$3([Property('day')], TimeMaskPlaceholder.prototype, \"day\", void 0);\n\n  __decorate$3([Property('month')], TimeMaskPlaceholder.prototype, \"month\", void 0);\n\n  __decorate$3([Property('year')], TimeMaskPlaceholder.prototype, \"year\", void 0);\n\n  __decorate$3([Property('day of the week')], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n\n  __decorate$3([Property('hour')], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n\n  __decorate$3([Property('minute')], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n\n  __decorate$3([Property('second')], TimeMaskPlaceholder.prototype, \"second\", void 0);\n\n  return TimeMaskPlaceholder;\n}(ChildProperty);\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\n\n\nvar TimePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(TimePicker, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {TimePickerModel} options - Specifies the TimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function TimePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.liCollections = [];\n    _this.timeCollections = [];\n    _this.disableItemCollection = [];\n    _this.invalidValueString = null;\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.maskedDateValue = '';\n    _this.moduleName = _this.getModuleName();\n    _this.timeOptions = options;\n    return _this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  TimePicker.prototype.preRender = function () {\n    this.keyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n    this.inputElement = this.element;\n    this.angularTag = null;\n    this.formElement = closest(this.element, 'form');\n\n    if (this.element.tagName === 'EJS-TIMEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    this.openPopupEventArgs = {\n      appendTo: document.body\n    };\n  }; // element creation\n\n\n  TimePicker.prototype.render = function () {\n    this.initialize();\n    this.createInputElement();\n    this.updateHtmlAttributeToWrapper();\n    this.setTimeAllowEdit();\n    this.setEnable();\n    this.validateInterval();\n    this.bindEvents();\n    this.validateDisable();\n    this.setValue(this.getFormattedValue(this.value));\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      this.updateInputValue(this.maskedDateValue);\n      this.checkErrorState(this.maskedDateValue);\n    }\n\n    this.anchor = this.inputElement;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.inputEleValue = this.getDateObject(this.inputElement.value);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n    }\n\n    this.renderComplete();\n  };\n\n  TimePicker.prototype.setTimeAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.clearIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [EDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [EDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [EDITABLE]);\n    }\n  };\n\n  TimePicker.prototype.validateDisable = function () {\n    this.setMinMax(this.initMin, this.initMax);\n    this.popupCreation();\n    this.popupObj.destroy();\n    this.popupWrapper = this.popupObj = null;\n\n    if (!isNaN(+this.value) && this.value !== null) {\n      if (!this.valueIsDisable(this.value)) {\n        //disable value given in value property so reset the date based on current date\n        if (this.strictMode) {\n          this.resetState();\n        }\n\n        this.initValue = null;\n        this.initMax = this.getDateObject(this.initMax);\n        this.initMin = this.getDateObject(this.initMin);\n        this.timeCollections = this.liCollections = [];\n        this.setMinMax(this.initMin, this.initMax);\n      }\n    }\n  };\n\n  TimePicker.prototype.validationAttribute = function (target, input) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    input.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes$$1 = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes$$1.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n        continue;\n      }\n\n      var attr = target.getAttribute(attributes$$1[i]);\n      input.setAttribute(attributes$$1[i], attr);\n      target.removeAttribute(attributes$$1[i]);\n    }\n  };\n\n  TimePicker.prototype.initialize = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.defaultCulture = new Internationalization('en');\n    this.checkTimeFormat();\n    this.checkInvalidValue(this.value); // persist the value property.\n\n    this.setProperties({\n      value: this.checkDateValue(new Date(this.checkInValue(this.value)))\n    }, true);\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkInValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkInValue(this.max)))\n    }, true);\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))\n    }, true);\n\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.checkAttributes(false); //check the input element attributes\n\n    var localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('timepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.initValue = this.checkDateValue(this.value);\n    this.initMin = this.checkDateValue(this.min);\n    this.initMax = this.checkDateValue(this.max);\n    this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n    this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n\n    if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      //for angular case\n      this.element.id = getUniqueID('ej2_timepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  TimePicker.prototype.checkTimeFormat = function () {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n        var skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: skeletonString\n        });\n      } else {\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: 'short'\n        });\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  TimePicker.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n\n  TimePicker.prototype.createInputElement = function () {\n    var updatedCssClassesValue = this.cssClass;\n    var isBindClearAction = this.enableMask ? false : true;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassesValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      bindClearAction: isBindClearAction,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassesValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [' e-input-group-icon e-time-icon e-icons']\n    }, this.createElement);\n    this.inputWrapper.container.style.width = this.setWidth(this.width);\n    attributes(this.inputElement, {\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'false',\n      'aria-invalid': 'false'\n    });\n\n    if (!this.isNullOrEmpty(this.inputStyle)) {\n      Input.addAttributes({\n        'style': this.inputStyle\n      }, this.inputElement);\n    }\n\n    addClass([this.inputWrapper.container], WRAPPERCLASS);\n  };\n\n  TimePicker.prototype.getCldrDateTimeFormat = function () {\n    var culture = new Internationalization(this.locale);\n    var cldrTime;\n    var dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.checkInvalidValue = function (value) {\n    var isInvalid = false;\n\n    if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n      var valueString = value;\n\n      if (typeof valueString === 'string') {\n        valueString = valueString.trim();\n      }\n\n      var valueExpression = null;\n      var valueExp = null;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      } else if (typeof value === 'string') {\n        if (!/^[a-zA-Z0-9- ]*$/.test(value)) {\n          valueExpression = this.setCurrentDate(this.getDateObject(value));\n\n          if (isNullOrUndefined(valueExpression)) {\n            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n              format: this.getCldrDateTimeFormat(),\n              type: 'datetime'\n            }));\n\n            if (isNullOrUndefined(valueExpression)) {\n              valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                format: this.formatString,\n                type: 'dateTime',\n                skeleton: 'yMd'\n              }));\n            }\n          }\n        }\n      }\n\n      valueExp = this.globalize.parseDate(valueString, {\n        format: this.getCldrDateTimeFormat(),\n        type: 'datetime'\n      });\n      valueExpression = !isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp) ? valueExp : null;\n\n      if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n        var extISOString = null;\n        var basicISOString = null; // eslint-disable-next-line\n\n        extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n        basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(value) || isNaN(+new Date('' + valueString))) {\n          isInvalid = true;\n        } else {\n          valueExpression = new Date('' + valueString);\n        }\n      }\n\n      if (isInvalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n        this.initValue = null;\n      } else {\n        this.setProperties({\n          value: valueExpression\n        }, true);\n        this.initValue = this.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this.enableMask) {\n      modules.push({\n        args: [this],\n        member: 'MaskedDateTime'\n      });\n    }\n\n    return modules;\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  TimePicker.prototype.cldrFormat = function (type) {\n    var cldrDateTimeString;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTimeString = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTimeString = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTimeString;\n  }; // destroy function\n\n\n  TimePicker.prototype.destroy = function () {\n    this.hide();\n    this.unBindEvents();\n    var ariaAttribute = {\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'true',\n      'aria-invalid': 'false'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n\n      if (this.angularTag === null) {\n        this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n      }\n\n      if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      this.ensureInputAttribute();\n      this.enableElement([this.inputElement]);\n      this.inputElement.classList.remove('e-input');\n\n      if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n        Input.setEnabled(true, this.inputElement, this.floatLabelType);\n      }\n    }\n\n    if (this.inputWrapper.container) {\n      detach(this.inputWrapper.container);\n    }\n\n    this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n    this.liCollections = this.timeCollections = this.disableItemCollection = [];\n\n    if (!isNullOrUndefined(this.rippleFn)) {\n      this.rippleFn();\n    }\n\n    _super.prototype.destroy.call(this);\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  };\n\n  TimePicker.prototype.ensureInputAttribute = function () {\n    var propertyList = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      propertyList[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < propertyList.length; i++) {\n      if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n        this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n        }\n      } else {\n        this.inputElement.removeAttribute(propertyList[i]);\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n      }\n    }\n  }; //popup creation\n\n\n  TimePicker.prototype.popupCreation = function () {\n    this.popupWrapper = this.createElement('div', {\n      className: ROOT$3 + ' ' + POPUP$2,\n      attrs: {\n        'id': this.element.id + '_popup',\n        'style': 'visibility:hidden'\n      }\n    });\n\n    if (!isNullOrUndefined(this.cssClass)) {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.generateList();\n      append([this.listWrapper], this.popupWrapper);\n    }\n\n    this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n    this.addSelection();\n    this.renderPopup();\n    detach(this.popupWrapper);\n  };\n\n  TimePicker.prototype.getPopupHeight = function () {\n    var height = parseInt(POPUPDIMENSION, 10);\n    var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  };\n\n  TimePicker.prototype.generateList = function () {\n    this.createListItems();\n    this.wireListEvents();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS$1\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n  };\n\n  TimePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n    this.popupObj = new Popup(this.popupWrapper, {\n      width: this.setPopupWidth(this.width),\n      zIndex: this.zIndex,\n      targetType: 'relative',\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      enableRtl: this.enableRtl,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      offsetY: OFFSETVAL,\n      open: function () {\n        _this.popupWrapper.style.visibility = 'visible';\n        addClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n      },\n      close: function () {\n        removeClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n\n        _this.unWireListEvents();\n\n        _this.inputElement.removeAttribute('aria-activedescendant');\n\n        remove(_this.popupObj.element);\n\n        _this.popupObj.destroy();\n\n        _this.popupWrapper.innerHTML = '';\n        _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n\n    if (!Browser.isDevice) {\n      this.popupObj.collision = {\n        X: 'none',\n        Y: 'flip'\n      };\n    }\n\n    this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n  }; //util function\n\n\n  TimePicker.prototype.getFormattedValue = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        skeleton: 'medium',\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.getDateObject = function (text) {\n    if (!this.isNullOrEmpty(text)) {\n      var dateValue = this.createDateObj(text);\n      var value = !this.isNullOrEmpty(this.initValue);\n\n      if (this.checkDateValue(dateValue)) {\n        var date = value ? this.initValue.getDate() : DAY;\n        var month = value ? this.initValue.getMonth() : MONTH$2;\n        var year = value ? this.initValue.getFullYear() : YEAR$2;\n        return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n      }\n    }\n\n    return null;\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) > -1) {\n          if (key === 'class') {\n            var updatedClassesValue = this.htmlAttributes[key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassesValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n            }\n          } else if (key === 'style') {\n            var timeStyle = this.inputWrapper.container.getAttribute(key);\n            timeStyle = !isNullOrUndefined(timeStyle) ? timeStyle + this.htmlAttributes[key] : this.htmlAttributes[key];\n            this.inputWrapper.container.setAttribute(key, timeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n    if (!isNullOrUndefined(cssClassOld)) {\n      cssClassOld = cssClassOld.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssClassNew)) {\n      cssClassNew = cssClassNew.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n    }\n  };\n\n  TimePicker.prototype.removeErrorClass = function () {\n    removeClass([this.inputWrapper.container], ERROR$2);\n    attributes(this.inputElement, {\n      'aria-invalid': 'false'\n    });\n  };\n\n  TimePicker.prototype.checkErrorState = function (val) {\n    var value = this.getDateObject(val);\n\n    if (this.validateState(value) && !this.invalidValueString || this.enableMask && this.inputElement.value === this.maskedDateValue) {\n      this.removeErrorClass();\n    } else {\n      addClass([this.inputWrapper.container], ERROR$2);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    }\n  };\n\n  TimePicker.prototype.validateInterval = function () {\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.enableElement([this.inputWrapper.buttons[0]]);\n    } else {\n      this.disableTimeIcon();\n    }\n  };\n\n  TimePicker.prototype.disableTimeIcon = function () {\n    this.disableElement([this.inputWrapper.buttons[0]]);\n    this.hide();\n  };\n\n  TimePicker.prototype.disableElement = function (element) {\n    addClass(element, DISABLED$3);\n  };\n\n  TimePicker.prototype.enableElement = function (element) {\n    removeClass(element, DISABLED$3);\n  };\n\n  TimePicker.prototype.selectInputText = function () {\n    this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.setCursorToEnd = function () {\n    this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.getMeridianText = function () {\n    var meridian;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n    } else {\n      var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n      var mainVal = 'main.';\n      meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n    }\n\n    return meridian;\n  };\n\n  TimePicker.prototype.getCursorSelection = function () {\n    var input = this.inputElement;\n    var start = 0;\n    var end = 0;\n\n    if (!isNaN(input.selectionStart)) {\n      start = input.selectionStart;\n      end = input.selectionEnd;\n    }\n\n    return {\n      start: Math.abs(start),\n      end: Math.abs(end)\n    };\n  };\n\n  TimePicker.prototype.getActiveElement = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n    } else {\n      return null;\n    }\n  };\n\n  TimePicker.prototype.isNullOrEmpty = function (value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  TimePicker.prototype.setWidth = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      width = width.match(/px|%|em/) ? width : formatUnit(width);\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setPopupWidth = function (width) {\n    width = this.setWidth(width);\n\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setScrollPosition = function () {\n    var element = this.selectedElement;\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  };\n\n  TimePicker.prototype.findScrollTop = function (element) {\n    var listHeight = this.getPopupHeight();\n    var nextEle = element.nextElementSibling;\n    var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n    var liHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.popupWrapper.scrollTop = nextEle ? height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION) : height;\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.setScrollTo = function () {\n    var element;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n      if (items.length) {\n        var initialTime = this.timeCollections[0];\n        var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n        element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n      }\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.getText = function () {\n    return isNullOrUndefined(this.checkDateValue(this.value)) ? '' : this.getValue(this.value);\n  };\n\n  TimePicker.prototype.getValue = function (value) {\n    return isNullOrUndefined(this.checkDateValue(value)) ? null : this.globalize.formatDate(value, {\n      format: this.cldrTimeFormat(),\n      type: 'time'\n    });\n  };\n\n  TimePicker.prototype.cldrDateFormat = function () {\n    var cldrDate;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDate = getValue('dateFormats.short', getDefaultDateObject());\n    } else {\n      cldrDate = this.getCultureDateObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDate;\n  };\n\n  TimePicker.prototype.cldrTimeFormat = function () {\n    var cldrTime;\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.dateToNumeric = function () {\n    var cldrTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrTime = getValue('timeFormats.medium', getDefaultDateObject());\n    } else {\n      cldrTime = getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData);\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.getExactDateTime = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        format: this.dateToNumeric(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.setValue = function (value) {\n    var time = this.checkValue(value);\n\n    if (!this.strictMode && !this.validateState(time)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      if (this.isNullOrEmpty(time)) {\n        this.initValue = null;\n        this.validateMinMax(this.value, this.min, this.max);\n      } else {\n        this.initValue = this.compareFormatChange(time);\n      }\n    }\n\n    this.updateInput(true, this.initValue);\n  };\n\n  TimePicker.prototype.compareFormatChange = function (value) {\n    if (isNullOrUndefined(value)) {\n      return null;\n    }\n\n    return value !== this.getText() ? this.getDateObject(value) : this.getDateObject(this.value);\n  };\n\n  TimePicker.prototype.updatePlaceHolder = function () {\n    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n  }; //event related functions\n\n\n  TimePicker.prototype.updateInputValue = function (value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n\n  TimePicker.prototype.preventEventBubbling = function (e) {\n    e.preventDefault();\n    this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n  };\n\n  TimePicker.prototype.popupHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n\n    if (this.isPopupOpen()) {\n      this.closePopup(0, e);\n    } else {\n      this.inputElement.focus();\n      this.show(e);\n    }\n  };\n\n  TimePicker.prototype.mouseDownHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.readonly) {\n      this.inputElement.setSelectionRange(0, 0);\n      EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    }\n  };\n\n  TimePicker.prototype.mouseUpHandler = function (event) {\n    if (!this.readonly) {\n      event.preventDefault();\n\n      if (this.enableMask) {\n        event.preventDefault();\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n        return;\n      } else {\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        var curPos = this.getCursorSelection();\n\n        if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n          if (this.inputElement.value.length > 0) {\n            this.cursorDetails = this.focusSelection();\n          }\n\n          this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.focusSelection = function () {\n    var regex = new RegExp('^[a-zA-Z0-9]+$');\n    var split = this.inputElement.value.split('');\n    split.push(' ');\n    var curPos = this.getCursorSelection();\n    var start = 0;\n    var end = 0;\n    var isSeparator = false;\n\n    if (!this.isTextSelected) {\n      for (var i = 0; i < split.length; i++) {\n        if (!regex.test(split[i])) {\n          end = i;\n          isSeparator = true;\n        }\n\n        if (isSeparator) {\n          if (curPos.start >= start && curPos.end <= end) {\n            // eslint-disable-next-line no-self-assign\n            end = end;\n            this.isTextSelected = true;\n            break;\n          } else {\n            start = i + 1;\n            isSeparator = false;\n          }\n        }\n      }\n    } else {\n      start = curPos.start;\n      end = curPos.end;\n      this.isTextSelected = false;\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  TimePicker.prototype.inputHandler = function (event) {\n    if (!this.readonly && this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'home':\n        case 'end':\n        case 'up':\n        case 'down':\n          if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n            event.preventDefault();\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: event\n            });\n          }\n\n          if (!this.enableMask || this.isPopupOpen()) {\n            this.keyHandler(event);\n          }\n\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.updateValue(this.valueWithMinutes, event);\n          } else {\n            this.updateValue(this.inputElement.value, event);\n          }\n\n          this.hide();\n          this.isNavigate = false;\n\n          if (this.isPopupOpen()) {\n            event.stopPropagation();\n          }\n\n          break;\n\n        case 'open':\n          this.show(event);\n          break;\n\n        case 'escape':\n          this.updateInputValue(this.objToString(this.value));\n\n          if (this.enableMask) {\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n\n            this.createMask();\n          }\n\n          this.previousState(this.value);\n          this.hide();\n          break;\n\n        case 'close':\n          this.hide();\n          break;\n\n        case 'right':\n        case 'left':\n        case 'tab':\n        case 'shiftTab':\n          if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n            if (this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length || this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab' || this.inputElement.selectionStart !== 0 && event.action == 'shiftTab' || event.action == 'left' || event.action == 'right') {\n              event.preventDefault();\n            }\n\n            this.notify(\"keyDownHandler\", {\n              module: \"MaskedDateTime\",\n              e: event\n            });\n          }\n\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseClick = function (event) {\n    var target = event.target;\n    var li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n    this.setSelection(li, event);\n\n    if (li && li.classList.contains(LISTCLASS$1)) {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.closePopup = function (delay, e) {\n    var _this = this;\n\n    if (this.isPopupOpen() && this.popupWrapper) {\n      var args = {\n        popup: this.popupObj,\n        event: e || null,\n        cancel: false,\n        name: 'open'\n      };\n      removeClass([document.body], OVERFLOW$2);\n      this.trigger('close', args, function (args) {\n        if (!args.cancel) {\n          var animModel = {\n            name: 'FadeOut',\n            duration: ANIMATIONDURATION,\n            delay: delay ? delay : 0\n          };\n\n          _this.popupObj.hide(new Animation(animModel));\n\n          removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n          attributes(_this.inputElement, {\n            'aria-expanded': 'false'\n          });\n\n          _this.inputElement.removeAttribute('aria-owns');\n\n          _this.inputElement.removeAttribute('aria-activedescendant');\n\n          EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n        }\n\n        if (Browser.isDevice && _this.modal) {\n          _this.modal.style.display = 'none';\n          _this.modal.outerHTML = '';\n          _this.modal = null;\n        }\n\n        if (Browser.isDevice) {\n          if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n            _this.mobileTimePopupWrap.remove();\n\n            _this.mobileTimePopupWrap = null;\n          }\n        }\n\n        if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n          _this.inputElement.removeAttribute('readonly');\n        }\n      });\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n\n  TimePicker.prototype.disposeServerPopup = function () {\n    if (this.popupWrapper) {\n      this.popupWrapper.style.visibility = 'hidden';\n      this.popupWrapper.style.top = '-9999px';\n      this.popupWrapper.style.left = '-9999px';\n      this.popupWrapper.style.width = '0px';\n      this.popupWrapper.style.height = '0px';\n    }\n  };\n\n  TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n    if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.setProperties({\n        value: this.compareFormatChange(this.inputElement.value)\n      }, true);\n      this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n      this.prevValue = this.inputElement.value;\n\n      if (+this.prevDate !== +this.value) {\n        this.changeEvent(event);\n      }\n    } else {\n      if (!isNavigation) {\n        if (this.prevValue !== this.inputElement.value || isNullOrUndefined(this.checkDateValue(this.value))) {\n          this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n        }\n      } else {\n        var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n\n        if (+this.prevDate !== +value) {\n          this.valueProcess(event, value);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseOver = function (event) {\n    var currentLi = closest(event.target, '.' + LISTCLASS$1);\n    this.setHover(currentLi, HOVER$1);\n  };\n\n  TimePicker.prototype.setHover = function (li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeHover(className);\n      addClass([li], className);\n\n      if (className === NAVIGATION) {\n        li.setAttribute('aria-selected', 'true');\n      }\n    }\n  };\n\n  TimePicker.prototype.setSelection = function (li, event) {\n    if (this.isValidLI(li)) {\n      this.checkValue(li.getAttribute('data-value'));\n\n      if (this.enableMask) {\n        this.notify(\"setMaskSelection\", {\n          module: \"MaskedDateTime\"\n        });\n      }\n\n      this.selectedElement = li;\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], SELECTED$4);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.checkValueChange(event, true);\n    }\n  };\n\n  TimePicker.prototype.onMouseLeave = function () {\n    this.removeHover(HOVER$1);\n  };\n\n  TimePicker.prototype.scrollHandler = function () {\n    if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n      return;\n    } else {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n    if (isNullOrUndefined(this.checkDateValue(minVal))) {\n      this.initMin = this.getDateObject('12:00:00 AM');\n    }\n\n    if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n      this.initMax = this.getDateObject('11:59:59 PM');\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n    var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n    } else if (+this.createDateObj(this.getFormattedValue(this.initMin)) > +this.createDateObj(this.getFormattedValue(this.initMax))) {\n      this.disableTimeIcon();\n    }\n\n    if (this.strictMode) {\n      dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n    }\n\n    this.checkErrorState(dateVal);\n    return dateVal;\n  };\n\n  TimePicker.prototype.valueIsDisable = function (value) {\n    if (this.disableItemCollection.length > 0) {\n      if (this.disableItemCollection.length === this.timeCollections.length) {\n        return false;\n      }\n\n      var time = value instanceof Date ? this.objToString(value) : value;\n\n      for (var index = 0; index < this.disableItemCollection.length; index++) {\n        if (time === this.disableItemCollection[index]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.validateState = function (val) {\n    if (!this.strictMode) {\n      if (this.valueIsDisable(val)) {\n        var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) : this.setCurrentDate(this.getDateObject(val));\n        var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n        var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n          if (+value > +maxValue || +value < +minValue) {\n            return false;\n          }\n        } else {\n          if (+maxValue < +minValue || this.inputElement.value !== '') {\n            return false;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n    var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n    var minValue = this.createDateObj(this.getFormattedValue(minimum));\n    var value = this.createDateObj(this.getFormattedValue(val));\n\n    if (this.strictMode) {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n        this.initValue = this.getDateObject(maxValue);\n        this.updateInputValue(this.getValue(this.initValue));\n\n        if (this.enableMask) {\n          this.createMask();\n        }\n\n        return this.inputElement.value;\n      } else if (+minValue >= +value) {\n        return this.getDateObject(minValue);\n      } else if (+value >= +maxValue || +minValue === +maxValue) {\n        return this.getDateObject(maxValue);\n      }\n    } else {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n\n        if (!isNaN(+this.createDateObj(dateVal))) {\n          return dateVal;\n        }\n      }\n    }\n\n    return dateVal;\n  };\n\n  TimePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n    EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n\n    if (this.enableMask) {\n      EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n    }\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (!Browser.isDevice) {\n      this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n      this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n\n      if (this.showClearButton && this.inputElement) {\n        EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n      }\n    }\n  };\n\n  TimePicker.prototype.keydownHandler = function (e) {\n    switch (e.code) {\n      case 'Delete':\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          this.notify(\"keyDownHandler\", {\n            module: \"MaskedDateTime\",\n            e: e\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  TimePicker.prototype.formResetHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      var timeValue = this.inputElement.getAttribute('value');\n      var val = this.checkDateValue(this.inputEleValue);\n\n      if (this.element.tagName === 'EJS-TIMEPICKER') {\n        val = null;\n        timeValue = '';\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.setProperties({\n        value: val\n      }, true);\n      this.prevDate = this.value;\n      this.valueWithMinutes = this.value;\n      this.initValue = this.value;\n\n      if (this.inputElement) {\n        this.updateInputValue(timeValue);\n\n        if (this.enableMask) {\n          if (!timeValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          this.createMask();\n        }\n\n        this.checkErrorState(timeValue);\n        this.prevValue = this.inputElement.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  };\n\n  TimePicker.prototype.inputEventHandler = function () {\n    if (this.enableMask) {\n      this.notify(\"inputHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  TimePicker.prototype.unBindEvents = function () {\n    if (this.inputWrapper) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n    }\n\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n    EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n\n    if (this.inputEvent) {\n      this.inputEvent.destroy();\n    }\n\n    EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n\n    if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  };\n\n  TimePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n  };\n\n  TimePicker.prototype.raiseClearedEvent = function (e) {\n    var clearedArgs = {\n      event: e\n    };\n    this.trigger('cleared', clearedArgs);\n  };\n\n  TimePicker.prototype.clearHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!isNullOrUndefined(this.value)) {\n      this.clear(e);\n    } else {\n      this.resetState();\n      this.raiseClearedEvent(e);\n    }\n\n    if (this.popupWrapper) {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (this.enableMask) {\n      this.notify(\"clearHandler\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n  };\n\n  TimePicker.prototype.clear = function (event) {\n    this.setProperties({\n      value: null\n    }, true);\n    this.initValue = null;\n    this.resetState();\n    this.raiseClearedEvent(event);\n    this.changeEvent(event);\n  };\n\n  TimePicker.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.zIndex = this.zIndex;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.checkAttributes = function (isDynamic) {\n    var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n    var value;\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputStyle = this.inputElement.getAttribute(prop);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.initValue = value;\n                this.updateInput(false, this.initValue);\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.setCurrentDate = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    }\n\n    return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n  };\n\n  TimePicker.prototype.getTextFormat = function () {\n    var time = 0;\n\n    if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n      time = 1;\n    } else if (this.cldrTimeFormat().indexOf('a') < 0) {\n      var strArray = this.cldrTimeFormat().split(' ');\n\n      for (var i = 0; i < strArray.length; i++) {\n        if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n          time = i;\n          break;\n        }\n      }\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.updateValue = function (value, event) {\n    var val;\n\n    if (this.isNullOrEmpty(value)) {\n      this.resetState();\n    } else {\n      val = this.checkValue(value);\n\n      if (this.strictMode) {\n        // this case set previous value to the text box when set invalid date\n        var inputVal = val === null && value.trim().length > 0 ? this.previousState(this.prevDate) : this.inputElement.value;\n        this.updateInputValue(inputVal);\n\n        if (this.enableMask) {\n          if (!inputVal) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          if (isNullOrUndefined(val) && value != this.maskedDateValue) {\n            this.createMask();\n          }\n\n          if (isNullOrUndefined(val) && value == this.maskedDateValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n        }\n      }\n    }\n\n    this.checkValueChange(event, typeof value === 'string' ? false : true);\n  };\n\n  TimePicker.prototype.previousState = function (date) {\n    var value = this.getDateObject(date);\n\n    for (var i = 0; i < this.timeCollections.length; i++) {\n      if (+value === this.timeCollections[i]) {\n        this.activeIndex = i;\n        this.selectedElement = this.liCollections[i];\n        this.valueWithMinutes = new Date(this.timeCollections[i]);\n        break;\n      }\n    }\n\n    return this.prevValue;\n  };\n\n  TimePicker.prototype.resetState = function () {\n    this.removeSelection();\n    Input.setValue('', this.inputElement, this.floatLabelType, false);\n    this.valueWithMinutes = this.activeIndex = null;\n\n    if (!this.strictMode) {\n      this.checkErrorState(null);\n    }\n  };\n\n  TimePicker.prototype.objToString = function (val) {\n    if (isNullOrUndefined(this.checkDateValue(val))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(val, {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.checkValue = function (value) {\n    if (!this.isNullOrEmpty(value)) {\n      var date = value instanceof Date ? value : this.getDateObject(value);\n      return this.validateValue(date, value);\n    }\n\n    this.resetState();\n    return this.valueWithMinutes = null;\n  };\n\n  TimePicker.prototype.validateValue = function (date, value) {\n    var time;\n    var val = this.validateMinMax(value, this.min, this.max);\n    var newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = this.objToString(this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = this.objToString(this.valueWithMinutes);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      var value_1 = val.trim().length > 0 ? val : '';\n      this.updateInputValue(value_1);\n\n      if (this.enableMask) {\n        if (!value_1) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    } else {\n      this.updateInputValue(time);\n\n      if (this.enableMask) {\n        if (time == '') {\n          this.updateInputValue(this.maskedDateValue);\n        }\n\n        if (isNullOrUndefined(time) && value != this.maskedDateValue) {\n          this.createMask();\n        }\n\n        if (isNullOrUndefined(time) && value == this.maskedDateValue) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.createMask = function () {\n    this.notify(\"createMask\", {\n      module: \"MaskedDateTime\"\n    });\n  };\n\n  TimePicker.prototype.findNextElement = function (event) {\n    var textVal = this.inputElement.value;\n    var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    var timeVal = null;\n    var count = this.liCollections.length;\n    var collections = this.timeCollections;\n\n    if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n      if (event.action === 'home') {\n        var index = this.validLiElement(0);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(collections.length - 1, true);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else {\n        if (event.action === 'down') {\n          for (var i = 0; i < count; i++) {\n            if (+value < this.timeCollections[i]) {\n              var index = this.validLiElement(i);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === count - 1) {\n              var index = this.validLiElement(0);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        } else {\n          for (var i = count - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              var index = this.validLiElement(i, true);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === 0) {\n              var index = this.validLiElement(count - 1);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n    } else {\n      this.selectNextItem(event);\n    }\n  };\n\n  TimePicker.prototype.selectNextItem = function (event) {\n    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n    this.activeIndex = index;\n    this.selectedElement = this.liCollections[index];\n    this.elementValue(new Date(this.timeCollections[index]));\n  };\n\n  TimePicker.prototype.elementValue = function (value) {\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      this.checkValue(value);\n    }\n  };\n\n  TimePicker.prototype.validLiElement = function (index, backward) {\n    var elementIndex = null;\n    var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections : this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n    var isCheck = true;\n\n    if (items.length) {\n      if (backward) {\n        for (var i = index; i >= 0; i--) {\n          if (!items[i].classList.contains(DISABLED$3)) {\n            elementIndex = i;\n            break;\n          } else if (i === 0) {\n            if (isCheck) {\n              index = i = items.length;\n              isCheck = false;\n            }\n          }\n        }\n      } else {\n        for (var i = index; i <= items.length - 1; i++) {\n          if (!items[i].classList.contains(DISABLED$3)) {\n            elementIndex = i;\n            break;\n          } else if (i === items.length - 1) {\n            if (isCheck) {\n              index = i = -1;\n              isCheck = false;\n            }\n          }\n        }\n      }\n    }\n\n    return elementIndex;\n  };\n\n  TimePicker.prototype.keyHandler = function (event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n      return;\n    }\n\n    var count = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          var index = this.validLiElement(0, event.action === 'down' ? false : true);\n          this.activeIndex = index;\n          this.selectedElement = this.liCollections[index];\n          this.elementValue(new Date(this.timeCollections[index]));\n        } else {\n          this.findNextElement(event);\n        }\n      } else {\n        this.findNextElement(event);\n      }\n    } else {\n      var nextItem = void 0;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === count ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? count - 1 : this.activeIndex;\n        this.activeIndex = index = this.validLiElement(this.activeIndex, event.keyCode === 40 || event.keyCode === 39 ? false : true);\n        nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        var index = this.validLiElement(0);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(count - 1, true);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(new Date(nextItem));\n    }\n\n    this.isNavigate = true;\n    this.setHover(this.selectedElement, NAVIGATION);\n    this.setActiveDescendant();\n    this.selectInputText();\n\n    if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setScrollPosition();\n    }\n  };\n\n  TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n  };\n\n  TimePicker.prototype.getCultureDateObject = function (ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n  };\n\n  TimePicker.prototype.wireListEvents = function () {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  TimePicker.prototype.unWireListEvents = function () {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n\n      if (!Browser.isDevice) {\n        EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n      }\n    }\n  };\n\n  TimePicker.prototype.valueProcess = function (event, value) {\n    var result = isNullOrUndefined(this.checkDateValue(value)) ? null : value;\n\n    if (+this.prevDate !== +result) {\n      this.initValue = result;\n      this.changeEvent(event);\n    }\n  };\n\n  TimePicker.prototype.changeEvent = function (e) {\n    this.addSelection();\n    this.updateInput(true, this.initValue);\n    var eventArgs = {\n      event: e || null,\n      value: this.value,\n      text: this.inputElement.value,\n      isInteracted: !isNullOrUndefined(e),\n      element: this.element\n    };\n    eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n    this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n\n    if (this.isAngular && this.preventChange) {\n      this.preventChange = false;\n    } else {\n      this.trigger('change', eventArgs);\n    }\n\n    this.invalidValueString = null;\n    this.checkErrorState(this.value);\n  };\n\n  TimePicker.prototype.updateInput = function (isUpdate, date) {\n    if (isUpdate) {\n      this.prevValue = this.getValue(date);\n    }\n\n    this.prevDate = this.valueWithMinutes = date;\n\n    if (typeof date !== 'number' || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n      this.setProperties({\n        value: date\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.checkErrorState(this.invalidValueString);\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.setActiveDescendant = function () {\n    if (!isNullOrUndefined(this.selectedElement) && this.value) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n\n  TimePicker.prototype.removeSelection = function () {\n    this.removeHover(HOVER$1);\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n\n      if (items.length) {\n        removeClass(items, SELECTED$4);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.removeHover = function (className) {\n    var hoveredItem = this.getHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n\n      if (className === NAVIGATION) {\n        hoveredItem[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.getHoverItem = function (className) {\n    var hoveredItem;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  };\n\n  TimePicker.prototype.setActiveClass = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n      if (items.length) {\n        for (var i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes)) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.addSelection = function () {\n    this.selectedElement = null;\n    this.removeSelection();\n    this.setActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], SELECTED$4);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  TimePicker.prototype.isValidLI = function (li) {\n    return li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3);\n  };\n\n  TimePicker.prototype.createDateObj = function (val) {\n    var formatStr = null;\n    var today = this.globalize.formatDate(new Date(), {\n      format: formatStr,\n      skeleton: 'short',\n      type: 'date'\n    });\n    var value = null;\n\n    if (typeof val === 'string') {\n      if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n        today = this.defaultCulture.formatDate(new Date(), {\n          format: formatStr,\n          skeleton: 'short',\n          type: 'date'\n        });\n        value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n\n        if (isNullOrUndefined(value)) {\n          value = this.timeParse(today, val);\n        }\n      } else {\n        value = this.timeParse(today, val);\n      }\n    } else if (val instanceof Date) {\n      value = val;\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.timeParse = function (today, val) {\n    var value;\n    value = this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(),\n      type: 'datetime'\n    });\n    value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.dateToNumeric(),\n      type: 'datetime'\n    }) : value;\n    value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n    return value;\n  };\n\n  TimePicker.prototype.createListItems = function () {\n    var _this = this;\n\n    this.listWrapper = this.createElement('div', {\n      className: CONTENT$2,\n      attrs: {\n        'tabindex': '-1'\n      }\n    });\n    var start;\n    var interval = this.step * 60000;\n    var listItems = [];\n    this.timeCollections = [];\n    this.disableItemCollection = [];\n    start = +this.getDateObject(this.initMin).setMilliseconds(0);\n    var end = +this.getDateObject(this.initMax).setMilliseconds(0);\n\n    while (end >= start) {\n      this.timeCollections.push(start);\n      listItems.push(this.globalize.formatDate(new Date(start), {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listBaseOptions = {\n      itemCreated: function (args) {\n        var eventArgs = {\n          element: args.item,\n          text: args.text,\n          value: _this.getDateObject(args.text),\n          isDisabled: false\n        };\n\n        _this.trigger('itemRender', eventArgs, function (eventArgs) {\n          if (eventArgs.isDisabled) {\n            eventArgs.element.classList.add(DISABLED$3);\n          }\n\n          if (eventArgs.element.classList.contains(DISABLED$3)) {\n            _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n          }\n        });\n      }\n    };\n    this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options',\n      'tabindex': '0'\n    });\n    append([this.listTag], this.listWrapper);\n  };\n\n  TimePicker.prototype.documentClickHandler = function (event) {\n    var target = event.target;\n\n    if (!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' || this.popupObj.element && this.popupObj.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + this.popupObj.element.id + '\"]') && target !== this.inputElement && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) && target !== (this.inputWrapper && this.inputWrapper.clearButton) && target !== (this.inputWrapper && this.inputWrapper.container)) {\n      if (this.isPopupOpen()) {\n        this.hide();\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.inputElement && target === this.popupWrapper;\n      }\n    }\n  };\n\n  TimePicker.prototype.setEnableRtl = function () {\n    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], DISABLED$3);\n      attributes(this.inputElement, {\n        'aria-disabled': 'false'\n      });\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.hide();\n      addClass([this.inputWrapper.container], DISABLED$3);\n      attributes(this.inputElement, {\n        'aria-disabled': 'true'\n      });\n      this.inputElement.tabIndex = -1;\n    }\n  };\n\n  TimePicker.prototype.getProperty = function (date, val) {\n    if (val === 'min') {\n      this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n      this.setProperties({\n        min: this.initMin\n      }, true);\n    } else {\n      this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n      this.setProperties({\n        max: this.initMax\n      }, true);\n    }\n\n    if (this.inputElement.value === '') {\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      this.checkValue(this.inputElement.value);\n    }\n\n    this.checkValueChange(null, false);\n  };\n\n  TimePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isPreventBlur && this.isPopupOpen()) {\n      this.inputElement.focus();\n      return;\n    }\n\n    this.closePopup(0, e);\n\n    if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n      if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue('');\n      }\n    }\n\n    removeClass([this.inputWrapper.container], [FOCUS]);\n    var blurArguments = {\n      model: this\n    };\n    this.trigger('blur', blurArguments);\n\n    if (this.getText() !== this.inputElement.value) {\n      this.updateValue(this.inputElement.value, e);\n    } else if (this.inputElement.value.trim().length === 0) {\n      this.resetState();\n    }\n\n    this.cursorDetails = null;\n    this.isNavigate = false;\n\n    if (this.inputElement.value === '') {\n      this.invalidValueString = null;\n    }\n  };\n  /**\n   * Focuses out the TimePicker textbox element.\n   *\n   * @returns {void}\n   */\n\n\n  TimePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [FOCUS]);\n      var blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n    }\n  };\n\n  TimePicker.prototype.isPopupOpen = function () {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  TimePicker.prototype.inputFocusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    var focusArguments = {\n      model: this\n    };\n\n    if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n      this.selectInputText();\n    }\n\n    if (this.enableMask && !this.inputElement.value && this.placeholder) {\n      if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.inputElement.selectionStart = 0;\n        this.inputElement.selectionEnd = this.inputElement.value.length;\n      }\n    }\n\n    this.trigger('focus', focusArguments);\n    this.clearIconState();\n\n    if (this.openOnFocus) {\n      this.show();\n    }\n  };\n  /**\n   * Focused the TimePicker textbox element.\n   *\n   * @returns {void}\n   */\n\n\n  TimePicker.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n    }\n  };\n  /**\n   * Hides the TimePicker popup.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  TimePicker.prototype.hide = function () {\n    this.closePopup(100, null);\n    this.clearIconState();\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * Opens the popup to show the list items.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  TimePicker.prototype.show = function (event) {\n    var _this = this;\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupWrapper) {\n      return;\n    } else {\n      this.popupCreation();\n\n      if (Browser.isDevice && this.listWrapper) {\n        this.modal = this.createElement('div');\n        this.modal.className = '' + ROOT$3 + ' e-time-modal';\n        document.body.className += ' ' + OVERFLOW$2;\n        document.body.appendChild(this.modal);\n      }\n\n      if (Browser.isDevice) {\n        this.mobileTimePopupWrap = this.createElement('div', {\n          className: 'e-timepicker-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobileTimePopupWrap);\n      }\n\n      this.openPopupEventArgs = {\n        popup: this.popupObj || null,\n        cancel: false,\n        event: event || null,\n        name: 'open',\n        appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n      };\n      var eventArgs = this.openPopupEventArgs;\n      this.trigger('open', eventArgs, function (eventArgs) {\n        _this.openPopupEventArgs = eventArgs;\n\n        if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n          _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n\n          _this.popupAlignment(_this.openPopupEventArgs);\n\n          _this.setScrollPosition();\n\n          if (!Browser.isDevice) {\n            _this.inputElement.focus();\n          }\n\n          var openAnimation = {\n            name: 'FadeIn',\n            duration: ANIMATIONDURATION\n          };\n\n          _this.popupObj.refreshPosition(_this.anchor);\n\n          if (_this.zIndex === 1000) {\n            _this.popupObj.show(new Animation(openAnimation), _this.element);\n          } else {\n            _this.popupObj.show(new Animation(openAnimation), null);\n          }\n\n          _this.setActiveDescendant();\n\n          attributes(_this.inputElement, {\n            'aria-expanded': 'true'\n          });\n          attributes(_this.inputElement, {\n            'aria-owns': _this.inputElement.id + '_options'\n          });\n          addClass([_this.inputWrapper.container], FOCUS);\n          EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n\n          _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n        } else {\n          _this.popupObj.destroy();\n\n          _this.popupWrapper = _this.listTag = undefined;\n          _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n          _this.popupObj = null;\n        }\n      });\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n\n  TimePicker.prototype.formatValues = function (type) {\n    var value;\n\n    if (typeof type === 'number') {\n      value = formatUnit(type);\n    } else if (typeof type === 'string') {\n      value = type.match(/px|%|em/) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.popupAlignment = function (args) {\n    args.popup.position.X = this.formatValues(args.popup.position.X);\n    args.popup.position.Y = this.formatValues(args.popup.position.Y);\n\n    if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.relateTo = this.anchor = document.body;\n      this.popupObj.targetType = 'container';\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.X))) {\n      this.popupObj.offsetX = parseFloat(args.popup.position.X);\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n    }\n\n    if (!Browser.isDevice) {\n      switch (args.popup.position.X) {\n        case 'left':\n          break;\n\n        case 'right':\n          args.popup.offsetX = this.containerStyle.width;\n          break;\n\n        case 'center':\n          args.popup.offsetX = -(this.containerStyle.width / 2);\n          break;\n      }\n\n      switch (args.popup.position.Y) {\n        case 'top':\n          break;\n\n        case 'bottom':\n          break;\n\n        case 'center':\n          args.popup.offsetY = -(this.containerStyle.height / 2);\n          break;\n      }\n\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.inputWrapper.container;\n        this.anchor = this.inputElement;\n        this.popupObj.targetType = 'relative';\n      }\n    } else {\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.anchor = document.body;\n        this.popupObj.offsetY = 0;\n        this.popupObj.targetType = 'container';\n        this.popupObj.collision = {\n          X: 'fit',\n          Y: 'fit'\n        };\n      }\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  TimePicker.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  TimePicker.prototype.getModuleName = function () {\n    return 'timepicker';\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n\n          if (this.readonly) {\n            this.hide();\n          }\n\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          this.setEnable();\n          break;\n\n        case 'allowEdit':\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          this.setEnableRtl();\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'locale':\n          this.setProperties({\n            locale: newProp.locale\n          }, true);\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.updatePlaceHolder();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.inputWrapper.container, {\n            'width': this.setWidth(newProp.width)\n          });\n          this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkTimeFormat();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.createMask();\n\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n\n          if (!this.invalidValueString) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: this.checkDateValue(new Date(newProp.value))\n              }, true);\n              newProp.value = this.value;\n            } else {\n              if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n              }\n            }\n\n            this.initValue = newProp.value;\n            newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n          } else {\n            this.updateInputValue(this.invalidValueString);\n            this.checkErrorState(this.invalidValueString);\n          }\n\n          this.checkValueChange(null, false);\n\n          if (this.isPopupOpen()) {\n            this.setScrollPosition();\n          }\n\n          if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n          }\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n\n          if (newProp.strictMode) {\n            this.checkErrorState(null);\n          }\n\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.checkValue(this.inputElement.value);\n          this.checkValueChange(null, false);\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n            if (this.popupWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            this.updateInputValue(this.maskedDateValue);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.updateInputValue('');\n            }\n          }\n\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.checkInValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"width\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"cssClass\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"format\", void 0);\n\n  __decorate$3([Property(true)], TimePicker.prototype, \"enabled\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"readonly\", void 0);\n\n  __decorate$3([Property({})], TimePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$3([Property('Never')], TimePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$3([Property(1000)], TimePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$3([Property(true)], TimePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$3([Property(30)], TimePicker.prototype, \"step\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"scrollTo\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"value\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"min\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"max\", void 0);\n\n  __decorate$3([Property(true)], TimePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"enableMask\", void 0);\n\n  __decorate$3([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], TimePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"change\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"created\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"destroyed\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"open\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"itemRender\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"close\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"cleared\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"blur\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"focus\", void 0);\n\n  TimePicker = __decorate$3([NotifyPropertyChanges], TimePicker);\n  return TimePicker;\n}(Component);\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\n\nvar __extends$4 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\n\n\nvar DATEWRAPPER$1 = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY$1 = new Date().getDate();\nvar MONTH$3 = new Date().getMonth();\nvar YEAR$3 = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT$4 = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER$1 = 'e-input-group-icon';\nvar POPUP$3 = 'e-popup';\nvar TIMEICON$1 = 'e-time-icon';\nvar INPUTFOCUS$2 = 'e-input-focus';\nvar POPUPDIMENSION$1 = '250px';\nvar ICONANIMATION$1 = 'e-icon-anim';\nvar DISABLED$4 = 'e-disabled';\nvar ERROR$3 = 'e-error';\nvar CONTENT$3 = 'e-content';\nvar NAVIGATION$1 = 'e-navigation';\nvar ACTIVE$2 = 'e-active';\nvar HOVER$2 = 'e-hover';\nvar ICONS$1 = 'e-icons';\nvar HALFPOSITION$1 = 2;\nvar LISTCLASS$2 = 'e-list-item';\nvar ANIMATIONDURATION$1 = 100;\nvar OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\n\nvar DateTimePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(DateTimePicker, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function DateTimePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.valueWithMinutes = null;\n    _this.scrollInvoked = false;\n    _this.moduleName = _this.getModuleName();\n    _this.dateTimeOptions = options;\n    return _this;\n  }\n\n  DateTimePicker.prototype.focusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    addClass([this.inputWrapper.container], INPUTFOCUS$2);\n  };\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.focusIn = function () {\n    _super.prototype.focusIn.call(this);\n  };\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n    }\n  };\n\n  DateTimePicker.prototype.blurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isTimePopupOpen() && this.isPreventBlur) {\n      this.inputElement.focus();\n      return;\n    }\n\n    removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n    var blurArguments = {\n      model: this\n    };\n\n    if (this.isTimePopupOpen()) {\n      this.hide(e);\n    }\n\n    this.trigger('blur', blurArguments);\n  };\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.destroy = function () {\n    if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n      this.popupObject.destroy();\n      detach(this.dateTimeWrapper);\n      this.dateTimeWrapper = undefined;\n      this.liCollections = this.timeCollections = [];\n\n      if (!isNullOrUndefined(this.rippleFn)) {\n        this.rippleFn();\n      }\n    }\n\n    var ariaAttribute = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-invalid': 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n    }\n\n    if (this.isCalendar()) {\n      if (this.popupWrapper) {\n        detach(this.popupWrapper);\n      }\n\n      this.popupObject = this.popupWrapper = null;\n      this.keyboardHandler.destroy();\n    }\n\n    this.unBindInputEvents();\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DateTimePicker.prototype.render = function () {\n    this.timekeyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.valueWithMinutes = null;\n    this.previousDateTime = null;\n    this.isPreventBlur = false;\n    this.cloneElement = this.element.cloneNode(true);\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n    this.initValue = this.value;\n\n    _super.prototype.updateHtmlAttributeToElement.call(this);\n\n    this.checkAttributes(false);\n    var localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('datetimepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n\n    _super.prototype.render.call(this);\n\n    this.createInputElement();\n\n    _super.prototype.updateHtmlAttributeToWrapper.call(this);\n\n    this.bindInputEvents();\n\n    if (this.enableMask) {\n      this.notify(\"createMask\", {\n        module: \"MaskedDateTime\"\n      });\n    }\n\n    this.setValue();\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n      Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo)))\n    }, true);\n    this.previousDateTime = this.value && new Date(+this.value);\n\n    if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n\n      if (!this.enabled) {\n        this.inputElement.tabIndex = -1;\n      }\n    }\n\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n    }\n\n    this.renderComplete();\n  };\n\n  DateTimePicker.prototype.setValue = function () {\n    this.initValue = this.validateMinMaxRange(this.value);\n\n    if (!this.strictMode && this.isDateObject(this.initValue)) {\n      var value = this.validateMinMaxRange(this.initValue);\n      Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n      this.setProperties({\n        value: value\n      }, true);\n    } else {\n      if (isNullOrUndefined(this.value)) {\n        this.initValue = null;\n        this.setProperties({\n          value: null\n        }, true);\n      }\n    }\n\n    this.valueWithMinutes = this.value;\n\n    _super.prototype.updateInput.call(this);\n  };\n\n  DateTimePicker.prototype.validateMinMaxRange = function (value) {\n    var result = value;\n\n    if (this.isDateObject(value)) {\n      result = this.validateValue(value);\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n      }\n    }\n\n    this.checkValidState(result);\n    return result;\n  };\n\n  DateTimePicker.prototype.checkValidState = function (value) {\n    this.isValidState = true;\n\n    if (!this.strictMode) {\n      if (+value > +this.max || +value < +this.min) {\n        this.isValidState = false;\n      }\n    }\n\n    this.checkErrorState();\n  };\n\n  DateTimePicker.prototype.checkErrorState = function () {\n    if (this.isValidState) {\n      removeClass([this.inputWrapper.container], ERROR$3);\n    } else {\n      addClass([this.inputWrapper.container], ERROR$3);\n    }\n\n    attributes(this.inputElement, {\n      'aria-invalid': this.isValidState ? 'false' : 'true'\n    });\n  };\n\n  DateTimePicker.prototype.validateValue = function (value) {\n    var dateVal = value;\n\n    if (this.strictMode) {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = this.max;\n      } else if (+value < +this.min) {\n        dateVal = this.min;\n      } else if (+value > +this.max) {\n        dateVal = this.max;\n      }\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = value;\n      }\n    }\n\n    return dateVal;\n  };\n\n  DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n    if (isDisable) {\n      addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n      this.hide();\n    } else {\n      removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n    }\n  };\n\n  DateTimePicker.prototype.getFormattedValue = function (value) {\n    var dateOptions;\n\n    if (!isNullOrUndefined(value)) {\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      return this.globalize.formatDate(value, dateOptions);\n    } else {\n      return null;\n    }\n  };\n\n  DateTimePicker.prototype.isDateObject = function (value) {\n    return !isNullOrUndefined(value) && !isNaN(+value) ? true : false;\n  };\n\n  DateTimePicker.prototype.createInputElement = function () {\n    removeClass([this.inputElement], DATEPICKERROOT);\n    removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n    addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n    addClass([this.inputElement], ROOT$4);\n    this.renderTimeIcon();\n  };\n\n  DateTimePicker.prototype.renderTimeIcon = function () {\n    this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n  };\n\n  DateTimePicker.prototype.bindInputEvents = function () {\n    EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n      eventName: 'keydown',\n      keyAction: this.inputKeyAction.bind(this),\n      keyConfigs: this.defaultKeyConfigs\n    });\n  };\n\n  DateTimePicker.prototype.unBindInputEvents = function () {\n    EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n\n    if (this.inputElement) {\n      EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n    }\n\n    if (this.keyboardHandler) {\n      this.keyboardHandler.destroy();\n    }\n  };\n\n  DateTimePicker.prototype.cldrTimeFormat = function () {\n    var cldrTime;\n\n    if (this.isNullOrEmpty(this.timeFormat)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.timeFormat;\n    }\n\n    return cldrTime;\n  };\n\n  DateTimePicker.prototype.cldrDateTimeFormat = function () {\n    var cldrTime;\n    var culture = new Internationalization(this.locale);\n    var dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateTimePicker.prototype.getCldrFormat = function (type) {\n    var cldrDateTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTime = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTime;\n  };\n\n  DateTimePicker.prototype.isNullOrEmpty = function (value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n    if (this.calendarMode === 'Gregorian') {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n    } else {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n    }\n  };\n\n  DateTimePicker.prototype.timeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.isIconClicked = true;\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    if (e.currentTarget === this.timeIcon) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isDatePopupOpen()) {\n        _super.prototype.hide.call(this, e);\n      }\n\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      } else {\n        this.inputElement.focus();\n        this.popupCreation('time', e);\n        addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n      }\n    }\n\n    this.isIconClicked = false;\n  };\n\n  DateTimePicker.prototype.dateHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (e.currentTarget === this.inputWrapper.buttons[0]) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      }\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        this.popupCreation('date', e);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.show = function (type, e) {\n    if (this.enabled && this.readonly || !this.enabled) {\n      return;\n    } else {\n      if (type === 'time' && !this.dateTimeWrapper) {\n        if (this.isDatePopupOpen()) {\n          this.hide(e);\n        }\n\n        this.popupCreation('time', e);\n      } else if (!this.popupObj) {\n        if (this.isTimePopupOpen()) {\n          this.hide(e);\n        }\n\n        _super.prototype.show.call(this);\n\n        this.popupCreation('date', e);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.toggle = function (e) {\n    if (this.isDatePopupOpen()) {\n      _super.prototype.hide.call(this, e);\n\n      this.show('time', null);\n    } else if (this.isTimePopupOpen()) {\n      this.hide(e);\n\n      _super.prototype.show.call(this, null, e);\n\n      this.popupCreation('date', null);\n    } else {\n      this.show(null, e);\n    }\n  };\n\n  DateTimePicker.prototype.listCreation = function () {\n    var dateObject;\n\n    if (this.calendarMode === 'Gregorian') {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime'\n      });\n    } else {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime',\n        calendar: 'islamic'\n      });\n    }\n\n    var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ? dateObject : new Date() : this.value;\n    this.valueWithMinutes = value;\n    this.listWrapper = createElement('div', {\n      className: CONTENT$3,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    var min = this.startTime(value);\n    var max = this.endTime(value);\n    var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n    this.timeCollections = listDetails.collection;\n    this.listTag = listDetails.list;\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options'\n    });\n    append([listDetails.list], this.listWrapper);\n    this.wireTimeListEvents();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS$2\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n  };\n\n  DateTimePicker.prototype.popupCreation = function (type, e) {\n    if (Browser.isDevice) {\n      this.element.setAttribute('readonly', 'readonly');\n    }\n\n    if (type === 'date') {\n      if (!this.readonly && this.popupWrapper) {\n        addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n        attributes(this.popupWrapper, {\n          'id': this.element.id + '_datepopup'\n        });\n      }\n    } else {\n      if (!this.readonly) {\n        this.dateTimeWrapper = createElement('div', {\n          className: ROOT$4 + ' ' + POPUP$3,\n          attrs: {\n            'id': this.element.id + '_timepopup',\n            'style': 'visibility:hidden ; display:block'\n          }\n        });\n\n        if (!isNullOrUndefined(this.cssClass)) {\n          this.dateTimeWrapper.className += ' ' + this.cssClass;\n        }\n\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n          this.listCreation();\n          append([this.listWrapper], this.dateTimeWrapper);\n        }\n\n        document.body.appendChild(this.dateTimeWrapper);\n        this.addTimeSelection();\n        this.renderPopup();\n        this.setTimeScrollPosition();\n        this.openPopup(e);\n        this.popupObject.refreshPosition(this.inputElement);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.openPopup = function (e) {\n    var _this = this;\n\n    this.preventArgs = {\n      cancel: false,\n      popup: this.popupObject,\n      event: e || null\n    };\n    var eventArgs = this.preventArgs;\n    this.trigger('open', eventArgs, function (eventArgs) {\n      _this.preventArgs = eventArgs;\n\n      if (!_this.preventArgs.cancel && !_this.readonly) {\n        var openAnimation = {\n          name: 'FadeIn',\n          duration: ANIMATIONDURATION$1\n        };\n\n        if (_this.zIndex === 1000) {\n          _this.popupObject.show(new Animation(openAnimation), _this.element);\n        } else {\n          _this.popupObject.show(new Animation(openAnimation), null);\n        }\n\n        addClass([_this.inputWrapper.container], [ICONANIMATION$1]);\n        attributes(_this.inputElement, {\n          'aria-expanded': 'true'\n        });\n        attributes(_this.inputElement, {\n          'aria-owns': _this.inputElement.id + '_options'\n        });\n        EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n      }\n    });\n  };\n\n  DateTimePicker.prototype.documentClickHandler = function (event) {\n    var target = event.target;\n\n    if (!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' || this.popupObject.element && this.popupObject.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]')) && target !== this.inputElement && target !== this.timeIcon && target !== this.inputWrapper.container) {\n      if (this.isTimePopupOpen()) {\n        this.hide(event);\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = document.activeElement === this.inputElement && (Browser.isIE || Browser.info.name === 'edge') && target === this.popupObject.element;\n      }\n    }\n  };\n\n  DateTimePicker.prototype.isTimePopupOpen = function () {\n    return this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4) ? true : false;\n  };\n\n  DateTimePicker.prototype.isDatePopupOpen = function () {\n    return this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER) ? true : false;\n  };\n\n  DateTimePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n\n    if (Browser.isDevice) {\n      this.timeModal = createElement('div');\n      this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n      document.body.className += ' ' + OVERFLOW$3;\n      this.timeModal.style.display = 'block';\n      document.body.appendChild(this.timeModal);\n    }\n\n    var offset = 4;\n    this.popupObject = new Popup(this.dateTimeWrapper, {\n      width: this.setPopupWidth(),\n      zIndex: this.zIndex,\n      targetType: 'container',\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.enableRtl,\n      offsetY: offset,\n      open: function () {\n        _this.dateTimeWrapper.style.visibility = 'visible';\n        addClass([_this.timeIcon], ACTIVE$2);\n\n        if (!Browser.isDevice) {\n          _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n          _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n            keyAction: _this.timeKeyActionHandle.bind(_this),\n            keyConfigs: _this.timekeyConfigure,\n            eventName: 'keydown'\n          });\n        }\n      },\n      close: function () {\n        removeClass([_this.timeIcon], ACTIVE$2);\n\n        _this.unWireTimeListEvents();\n\n        _this.inputElement.removeAttribute('aria-activedescendant');\n\n        remove(_this.popupObject.element);\n\n        _this.popupObject.destroy();\n\n        _this.dateTimeWrapper.innerHTML = '';\n        _this.listWrapper = _this.dateTimeWrapper = undefined;\n\n        if (_this.inputEvent) {\n          _this.inputEvent.destroy();\n        }\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n    this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n  };\n\n  DateTimePicker.prototype.setDimension = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      // eslint-disable-next-line no-self-assign\n      width = width;\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  DateTimePicker.prototype.setPopupWidth = function () {\n    var width = this.setDimension(this.width);\n\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  };\n\n  DateTimePicker.prototype.wireTimeListEvents = function () {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  DateTimePicker.prototype.unWireTimeListEvents = function () {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n\n      if (!Browser.isDevice) {\n        EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.onMouseOver = function (event) {\n    var currentLi = closest(event.target, '.' + LISTCLASS$2);\n    this.setTimeHover(currentLi, HOVER$2);\n  };\n\n  DateTimePicker.prototype.onMouseLeave = function () {\n    this.removeTimeHover(HOVER$2);\n  };\n\n  DateTimePicker.prototype.setTimeHover = function (li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeTimeHover(className);\n      addClass([li], className);\n    }\n  };\n\n  DateTimePicker.prototype.getPopupHeight = function () {\n    var height = parseInt(POPUPDIMENSION$1, 10);\n    var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  };\n\n  DateTimePicker.prototype.changeEvent = function (e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n      _super.prototype.changeEvent.call(this, e);\n\n      this.valueWithMinutes = this.value;\n      this.setInputValue('date');\n      this.previousDateTime = this.value && new Date(+this.value);\n    }\n  };\n\n  DateTimePicker.prototype.updateValue = function (e) {\n    this.setInputValue('time');\n\n    if (+this.previousDateTime !== +this.value) {\n      this.changedArgs = {\n        value: this.value,\n        event: e || null,\n        isInteracted: !isNullOrUndefined(e),\n        element: this.element\n      };\n      this.addTimeSelection();\n      this.trigger('change', this.changedArgs);\n      this.previousDateTime = this.previousDate = this.value;\n    }\n  };\n\n  DateTimePicker.prototype.setTimeScrollPosition = function () {\n    var popupElement = this.selectedElement;\n\n    if (!isNullOrUndefined(popupElement)) {\n      this.findScrollTop(popupElement);\n    } else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  };\n\n  DateTimePicker.prototype.findScrollTop = function (element) {\n    var listHeight = this.getPopupHeight();\n    var nextElement = element.nextElementSibling;\n    var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n    var lineHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.dateTimeWrapper.scrollTop = nextElement ? height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1) : height;\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  };\n\n  DateTimePicker.prototype.setScrollTo = function () {\n    var element;\n    var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n\n    if (items.length >= 0) {\n      this.scrollInvoked = true;\n      var initialTime = this.timeCollections[0];\n      var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n      element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  };\n\n  DateTimePicker.prototype.setInputValue = function (type) {\n    if (type === 'date') {\n      this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n      this.setProperties({\n        value: this.getFullDateTime()\n      }, true);\n    } else {\n      var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n      Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousElementValue = this.inputElement.value;\n      this.setProperties({\n        value: new Date(this.timeCollections[this.activeIndex])\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    this.updateIconState();\n  };\n\n  DateTimePicker.prototype.getFullDateTime = function () {\n    var value = null;\n\n    if (this.isDateObject(this.valueWithMinutes)) {\n      value = this.combineDateTime(this.valueWithMinutes);\n    } else {\n      value = this.previousDate;\n    }\n\n    return this.validateMinMaxRange(value);\n  };\n\n  DateTimePicker.prototype.createMask = function () {\n    this.notify(\"createMask\", {\n      module: \"MaskedDateTime\"\n    });\n  };\n\n  DateTimePicker.prototype.combineDateTime = function (value) {\n    if (this.isDateObject(value)) {\n      var day = this.previousDate.getDate();\n      var month = this.previousDate.getMonth();\n      var year = this.previousDate.getFullYear();\n      var hour = value.getHours();\n      var minutes = value.getMinutes();\n      var seconds = value.getSeconds();\n      return new Date(year, month, day, hour, minutes, seconds);\n    } else {\n      return this.previousDate;\n    }\n  };\n\n  DateTimePicker.prototype.onMouseClick = function (event) {\n    var target = event.target;\n    var li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n\n    if (li && li.classList.contains(LISTCLASS$2)) {\n      this.timeValue = li.getAttribute('data-value');\n      this.hide(event);\n    }\n\n    this.setSelection(li, event);\n  };\n\n  DateTimePicker.prototype.setSelection = function (li, event) {\n    if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n      this.selectedElement = li;\n      var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.activeIndex = index;\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], ACTIVE$2);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.updateValue(event);\n    }\n  };\n\n  DateTimePicker.prototype.setTimeActiveClass = function () {\n    var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n\n    if (!isNullOrUndefined(collections)) {\n      var items = collections.querySelectorAll('.' + LISTCLASS$2);\n\n      if (items.length) {\n        for (var i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.valueWithMinutes) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            this.setTimeActiveDescendant();\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  DateTimePicker.prototype.setTimeActiveDescendant = function () {\n    if (!isNullOrUndefined(this.selectedElement) && this.value) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n\n  DateTimePicker.prototype.addTimeSelection = function () {\n    this.selectedElement = null;\n    this.removeTimeSelection();\n    this.setTimeActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], ACTIVE$2);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  DateTimePicker.prototype.removeTimeSelection = function () {\n    this.removeTimeHover(HOVER$2);\n\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n\n      if (items.length) {\n        removeClass(items, ACTIVE$2);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  DateTimePicker.prototype.removeTimeHover = function (className) {\n    var hoveredItem = this.getTimeHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n    }\n  };\n\n  DateTimePicker.prototype.getTimeHoverItem = function (className) {\n    var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n    var hoveredItem;\n\n    if (!isNullOrUndefined(collections)) {\n      hoveredItem = collections.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  };\n\n  DateTimePicker.prototype.isValidLI = function (li) {\n    return li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4);\n  };\n\n  DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n    var day = value.getDate();\n    var month = value.getMonth();\n    var year = value.getFullYear();\n    var hours = value.getHours();\n    var minutes = value.getMinutes();\n    var seconds = value.getSeconds();\n    var milliseconds = value.getMilliseconds();\n\n    if (range) {\n      if (method === 'starttime') {\n        return new Date(year, month, day, 0, 0, 0);\n      } else {\n        return new Date(year, month, day, 23, 59, 59);\n      }\n    } else {\n      return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n    }\n  };\n\n  DateTimePicker.prototype.startTime = function (date) {\n    var tempStartValue;\n    var start;\n    var tempMin = this.min;\n    var value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() && +value.getFullYear() === +tempMin.getFullYear() || +new Date(value.getFullYear(), value.getMonth(), value.getDate()) <= +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate())) {\n      start = false;\n      tempStartValue = this.min;\n    } else if (+value < +this.max && +value > +this.min) {\n      start = true;\n      tempStartValue = value;\n    } else if (+value >= +this.max) {\n      start = true;\n      tempStartValue = this.max;\n    }\n\n    return this.calculateStartEnd(tempStartValue, start, 'starttime');\n  };\n\n  DateTimePicker.prototype.endTime = function (date) {\n    var tempEndValue;\n    var end;\n    var tempMax = this.max;\n    var value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() && +value.getFullYear() === +tempMax.getFullYear() || +new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >= +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate())) {\n      end = false;\n      tempEndValue = this.max;\n    } else if (+value < +this.max && +value > +this.min) {\n      end = true;\n      tempEndValue = value;\n    } else if (+value <= +this.min) {\n      end = true;\n      tempEndValue = this.min;\n    }\n\n    return this.calculateStartEnd(tempEndValue, end, 'endtime');\n  };\n\n  DateTimePicker.prototype.hide = function (e) {\n    var _this = this;\n\n    if (this.popupObj || this.dateTimeWrapper) {\n      this.preventArgs = {\n        cancel: false,\n        popup: this.popupObj || this.popupObject,\n        event: e || null\n      };\n      var eventArgs = this.preventArgs;\n\n      if (isNullOrUndefined(this.popupObj)) {\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.dateTimeCloseEventCallback(e, eventArgs);\n        });\n      } else {\n        this.dateTimeCloseEventCallback(e, eventArgs);\n      }\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n  };\n\n  DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n    this.preventArgs = eventArgs;\n\n    if (!this.preventArgs.cancel) {\n      if (this.isDatePopupOpen()) {\n        _super.prototype.hide.call(this, e);\n      } else if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n        removeClass([document.body], OVERFLOW$3);\n\n        if (Browser.isDevice && this.timeModal) {\n          this.timeModal.style.display = 'none';\n          this.timeModal.outerHTML = '';\n          this.timeModal = null;\n        }\n\n        this.setTimeActiveDescendant();\n      }\n    }\n\n    if (Browser.isDevice && this.allowEdit && !this.readonly) {\n      this.inputElement.removeAttribute('readonly');\n    }\n\n    this.setAllowEdit();\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateTimePicker.prototype.closePopup = function (e) {\n    if (this.isTimePopupOpen() && this.popupObject) {\n      var animModel = {\n        name: 'FadeOut',\n        duration: ANIMATIONDURATION$1,\n        delay: 0\n      };\n      this.popupObject.hide(new Animation(animModel));\n      this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n      attributes(this.inputElement, {\n        'aria-expanded': 'false'\n      });\n      this.inputElement.removeAttribute('aria-owns');\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n    }\n  };\n\n  DateTimePicker.prototype.preRender = function () {\n    this.checkFormat();\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n\n    _super.prototype.preRender.call(this);\n\n    removeClass([this.inputElementCopy], [ROOT$4]);\n  };\n\n  DateTimePicker.prototype.getProperty = function (date, val) {\n    if (val === 'min') {\n      this.setProperties({\n        min: this.validateValue(date.min)\n      }, true);\n    } else {\n      this.setProperties({\n        max: this.validateValue(date.max)\n      }, true);\n    }\n  };\n\n  DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n    var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n    var value;\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'disabled':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  DateTimePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    if (this.enableMask) {\n      modules.push(this.maskedDateModule());\n    }\n\n    return modules;\n  };\n\n  DateTimePicker.prototype.maskedDateModule = function () {\n    var modules = {\n      args: [this],\n      member: 'MaskedDateTime'\n    };\n    return modules;\n  };\n\n  DateTimePicker.prototype.getTimeActiveElement = function () {\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n    } else {\n      return null;\n    }\n  };\n\n  DateTimePicker.prototype.createDateObj = function (val) {\n    return val instanceof Date ? val : null;\n  };\n\n  DateTimePicker.prototype.getDateObject = function (text) {\n    if (!this.isNullOrEmpty(text)) {\n      var dateValue = this.createDateObj(text);\n      var value = this.valueWithMinutes;\n      var status_1 = !isNullOrUndefined(value);\n\n      if (this.checkDateValue(dateValue)) {\n        var date = status_1 ? value.getDate() : DAY$1;\n        var month = status_1 ? value.getMonth() : MONTH$3;\n        var year = status_1 ? value.getFullYear() : YEAR$3;\n        var hour = status_1 ? value.getHours() : HOUR;\n        var minute = status_1 ? value.getMinutes() : MINUTE;\n        var second = status_1 ? value.getSeconds() : SECOND;\n        var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n\n        if (!this.scrollInvoked) {\n          return new Date(year, month, date, hour, minute, second, millisecond);\n        } else {\n          this.scrollInvoked = false;\n          return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n        }\n      }\n    }\n\n    return null;\n  };\n\n  DateTimePicker.prototype.findNextTimeElement = function (event) {\n    var textVal = this.inputElement.value;\n    var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    var dateTimeVal = null;\n    var listCount = this.liCollections.length;\n\n    if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n      if (event.action === 'home') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[0]));\n        this.activeIndex = 0;\n      } else if (event.action === 'end') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1]));\n        this.activeIndex = this.timeCollections.length - 1;\n      } else {\n        if (event.action === 'down') {\n          for (var i = 0; i < listCount; i++) {\n            if (+value < this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        } else {\n          for (var i = listCount - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n    }\n  };\n\n  DateTimePicker.prototype.setTimeValue = function (date, value) {\n    var dateString;\n    var time;\n    var val = this.validateMinMaxRange(value);\n    var newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = new Date(+this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = new Date(+this.valueWithMinutes);\n    }\n\n    if (this.calendarMode === 'Gregorian') {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd'\n      });\n    } else {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd',\n        calendar: 'islamic'\n      });\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    } else {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    return time;\n  };\n\n  DateTimePicker.prototype.timeElementValue = function (value) {\n    if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n      var date = value instanceof Date ? value : this.getDateObject(value);\n      return this.setTimeValue(date, value);\n    }\n\n    return null;\n  };\n\n  DateTimePicker.prototype.timeKeyHandler = function (event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0) {\n      return;\n    }\n\n    var listCount = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          this.activeIndex = 0;\n          this.selectedElement = this.liCollections[0];\n          this.timeElementValue(new Date(this.timeCollections[0]));\n        } else {\n          this.findNextTimeElement(event);\n        }\n      }\n    } else {\n      var nextItemValue = void 0;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === listCount ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? listCount - 1 : this.activeIndex;\n        nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        this.activeIndex = 0;\n        nextItemValue = this.timeCollections[0];\n      } else if (event.action === 'end') {\n        this.activeIndex = listCount - 1;\n        nextItemValue = this.timeCollections[listCount - 1];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(new Date(nextItemValue));\n    }\n\n    this.isNavigate = true;\n    this.setTimeHover(this.selectedElement, NAVIGATION$1);\n    this.setTimeActiveDescendant();\n\n    if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setTimeScrollPosition();\n    }\n  };\n\n  DateTimePicker.prototype.timeKeyActionHandle = function (event) {\n    if (this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'up':\n        case 'down':\n        case 'home':\n        case 'end':\n          this.timeKeyHandler(event);\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.setInputValue('time');\n\n            if (+this.previousDateTime !== +this.value) {\n              this.changedArgs.value = this.value;\n              this.addTimeSelection();\n              this.previousDateTime = this.value;\n            }\n          } else {\n            this.updateValue(event);\n          }\n\n          this.hide(event);\n          addClass([this.inputWrapper.container], INPUTFOCUS$2);\n          this.isNavigate = false;\n          event.stopPropagation();\n          break;\n\n        case 'escape':\n          this.hide(event);\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  };\n\n  DateTimePicker.prototype.inputKeyAction = function (event) {\n    switch (event.action) {\n      case 'altDownArrow':\n        this.strictModeUpdate();\n        this.updateInput();\n        this.toggle(event);\n        break;\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'value':\n          this.isDynamicValueChanged = true;\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n          newProp.value = this.validateValue(newProp.value);\n          Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n          this.valueWithMinutes = newProp.value;\n          this.setProperties({\n            value: newProp.value\n          }, true);\n\n          if (this.popupObj) {\n            this.popupUpdate();\n          }\n\n          this.previousDateTime = new Date(this.inputElement.value);\n          this.updateInput();\n          this.changeTrigger(null);\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n          if (this.enableMask && this.value) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n          }\n\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          this.updateInput();\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'cssClass':\n          if (!isNullOrUndefined(oldProp.cssClass)) {\n            oldProp.cssClass = oldProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          if (!isNullOrUndefined(newProp.cssClass)) {\n            newProp.cssClass = newProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n\n          if (this.dateTimeWrapper) {\n            Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n          }\n\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n          this.dateTimeFormat = this.cldrDateTimeFormat();\n\n          _super.prototype.updateInput.call(this);\n\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.dateTimeFormat = this.formatString;\n          this.setValue();\n\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n\n            if (!this.value) {\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(this.enabled, this.inputElement);\n\n          if (!this.enabled) {\n            this.inputElement.tabIndex = -1;\n          }\n\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.updateInput();\n          break;\n\n        case 'width':\n          this.setWidth(newProp.width);\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n          }\n\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n          }\n\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n            if (this.dateTimeWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify(\"createMask\", {\n              module: \"MaskedDateTime\"\n            });\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.maskedDateValue = '';\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n\n          break;\n      }\n\n      if (!this.isDynamicValueChanged && !this.isIconClicked) {\n        this.hide(null);\n      }\n\n      this.isDynamicValueChanged = false;\n    }\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  DateTimePicker.prototype.getModuleName = function () {\n    return 'datetimepicker';\n  };\n\n  DateTimePicker.prototype.restoreValue = function () {\n    this.previousDateTime = this.previousDate;\n    this.currentDate = this.value ? this.value : new Date();\n    this.valueWithMinutes = this.value;\n    this.previousDate = this.value;\n    this.previousElementValue = this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.getFormattedValue(this.inputValueCopy);\n  };\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"timeFormat\", void 0);\n\n  __decorate$4([Property(30)], DateTimePicker.prototype, \"step\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"scrollTo\", void 0);\n\n  __decorate$4([Property(1000)], DateTimePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"value\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$4([Property({})], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$4([Property(true)], DateTimePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"values\", void 0);\n\n  __decorate$4([Property(true)], DateTimePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n  __decorate$4([Property(new Date(1900, 0, 1))], DateTimePicker.prototype, \"min\", void 0);\n\n  __decorate$4([Property(new Date(2099, 11, 31))], DateTimePicker.prototype, \"max\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate$4([Property('Gregorian')], DateTimePicker.prototype, \"calendarMode\", void 0);\n\n  __decorate$4([Property('Month')], DateTimePicker.prototype, \"start\", void 0);\n\n  __decorate$4([Property('Month')], DateTimePicker.prototype, \"depth\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"weekNumber\", void 0);\n\n  __decorate$4([Property(true)], DateTimePicker.prototype, \"showTodayButton\", void 0);\n\n  __decorate$4([Property('Short')], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"enableMask\", void 0);\n\n  __decorate$4([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"open\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"close\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"cleared\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"blur\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"focus\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"created\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"destroyed\", void 0);\n\n  DateTimePicker = __decorate$4([NotifyPropertyChanges], DateTimePicker);\n  return DateTimePicker;\n}(DatePicker);\n/**\n * DateTimePicker modules\n */\n\n\nvar ARROWLEFT = 'ArrowLeft';\nvar ARROWRIGHT = 'ArrowRight';\nvar ARROWUP = 'ArrowUp';\nvar ARROWDOWN = 'ArrowDown';\nvar TAB = 'Tab';\nvar SHIFTTAB = 'shiftTab';\nvar END = 'End';\nvar HOME = 'Home';\n\nvar MaskedDateTime =\n/** @__PURE__ @class */\nfunction () {\n  function MaskedDateTime(parent) {\n    this.mask = '';\n    this.defaultConstant = {\n      day: 'day',\n      month: 'month',\n      year: 'year',\n      hour: 'hour',\n      minute: 'minute',\n      second: 'second',\n      dayOfTheWeek: 'day of the week'\n    };\n    this.hiddenMask = '';\n    this.validCharacters = 'dMyhmHfasz';\n    this.isDayPart = false;\n    this.isMonthPart = false;\n    this.isYearPart = false;\n    this.isHourPart = false;\n    this.isMinutePart = false;\n    this.isSecondsPart = false;\n    this.isMilliSecondsPart = false;\n    this.monthCharacter = '';\n    this.periodCharacter = '';\n    this.isHiddenMask = false;\n    this.isComplete = false;\n    this.isNavigate = false;\n    this.navigated = false;\n    this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n    this.isDeletion = false;\n    this.isShortYear = false;\n    this.isDeleteKey = false;\n    this.isDateZero = false;\n    this.isMonthZero = false;\n    this.isYearZero = false;\n    this.dayTypeCount = 0;\n    this.monthTypeCount = 0;\n    this.hourTypeCount = 0;\n    this.minuteTypeCount = 0;\n    this.secondTypeCount = 0;\n    this.parent = parent;\n    this.dateformat = this.getCulturedFormat();\n    this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n    this.maskDateValue.setMonth(0);\n    this.maskDateValue.setHours(0);\n    this.maskDateValue.setMinutes(0);\n    this.maskDateValue.setSeconds(0);\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.removeEventListener();\n    this.addEventListener();\n  }\n\n  MaskedDateTime.prototype.getModuleName = function () {\n    return 'MaskedDateTime';\n  };\n\n  MaskedDateTime.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on('createMask', this.createMask, this);\n    this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n    this.parent.on('inputHandler', this.maskInputHandler, this);\n    this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n    this.parent.on('clearHandler', this.clearHandler, this);\n  };\n\n  MaskedDateTime.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off('createMask', this.createMask);\n    this.parent.off('setMaskSelection', this.validCharacterCheck);\n    this.parent.off('inputHandler', this.maskInputHandler);\n    this.parent.off('keyDownHandler', this.maskKeydownHandler);\n    this.parent.off('clearHandler', this.clearHandler);\n  };\n\n  MaskedDateTime.prototype.createMask = function (dateformat) {\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.dateformat = this.getCulturedFormat();\n    if (this.parent.maskPlaceholder.day) this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n    if (this.parent.maskPlaceholder.month) this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n    if (this.parent.maskPlaceholder.year) this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n    if (this.parent.maskPlaceholder.hour) this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n    if (this.parent.maskPlaceholder.minute) this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n    if (this.parent.maskPlaceholder.second) this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n    if (this.parent.maskPlaceholder.dayOfTheWeek) this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n    this.getCUltureMaskFormat();\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.mask = this.previousValue = inputValue;\n    this.parent.maskedDateValue = this.mask;\n\n    if (this.parent.value) {\n      this.setDynamicValue();\n    }\n  };\n\n  MaskedDateTime.prototype.getCUltureMaskFormat = function () {\n    this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n    this.objectString = Object.keys(this.defaultConstant);\n\n    for (var i = 0; i < this.objectString.length; i++) {\n      this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n    }\n  };\n\n  MaskedDateTime.prototype.validCharacterCheck = function () {\n    var start = this.parent.inputElement.selectionStart;\n\n    for (var i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n      if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n        this.setSelection(this.hiddenMask[i]);\n        return;\n      }\n\n      if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n        this.setSelection(this.hiddenMask[j]);\n        return;\n      }\n    }\n  };\n\n  MaskedDateTime.prototype.setDynamicValue = function () {\n    this.maskDateValue = new Date(+this.parent.value);\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n    this.updateValue(); // this.parent.inputElement.selectionStart = start;\n    // this.validCharacterCheck();\n  };\n\n  MaskedDateTime.prototype.setSelection = function (validChar) {\n    var start = -1;\n    var end = 0;\n\n    for (var i = 0; i < this.hiddenMask.length; i++) {\n      if (this.hiddenMask[i] === validChar) {\n        end = i + 1;\n\n        if (start === -1) {\n          start = i;\n        }\n      }\n    }\n\n    if (start < 0) {\n      start = 0;\n    }\n\n    this.parent.inputElement.setSelectionRange(start, end);\n  };\n\n  MaskedDateTime.prototype.maskKeydownHandler = function (args) {\n    this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n\n    if (args.e.key === 'Delete') {\n      this.isDeleteKey = true;\n      return;\n    }\n\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB || args.e.key === END || args.e.key === HOME)) {\n      var start = this.parent.inputElement.selectionStart;\n      var end = this.parent.inputElement.selectionEnd;\n      var length_1 = this.parent.inputElement.value.length;\n\n      if (start == 0 && end == length_1 && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n        var index = args.e.action === SHIFTTAB ? end : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n      }\n\n      if (args.e.key === END || args.e.key === HOME) {\n        var range = args.e.key === END ? length_1 : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n      }\n\n      this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n    }\n\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n      var start = this.parent.inputElement.selectionStart;\n      this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n      var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = true;\n      this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = false;\n      this.previousHiddenMask = this.hiddenMask;\n      this.previousValue = inputValue;\n      this.parent.inputElement.value = inputValue;\n      this.parent.inputElement.selectionStart = start;\n      this.validCharacterCheck();\n    }\n  };\n\n  MaskedDateTime.prototype.isPersist = function () {\n    var isPersist = this.parent.isFocused || this.navigated;\n    return isPersist;\n  };\n\n  MaskedDateTime.prototype.differenceCheck = function () {\n    var start = this.parent.inputElement.selectionStart;\n    var inputValue = this.parent.inputElement.value;\n    var previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n    var newVal = inputValue.substring(0, start);\n    var newDateValue = new Date(+this.maskDateValue);\n    var maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n    if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n      for (var i = newVal.length; i < previousVal.length; i++) {\n        if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n          this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n        }\n      }\n\n      if (this.isDeletion) {\n        return;\n      }\n    }\n\n    switch (this.previousHiddenMask[start - 1]) {\n      case 'd':\n        var date = (this.isDayPart && newDateValue.getDate().toString().length < 2 && !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.isDateZero = newVal[start - 1] == '0';\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(date)) {\n          return;\n        }\n\n        for (var i = 0; date > maxDate; i++) {\n          date = parseInt(date.toString().slice(1), 10);\n        }\n\n        if (date >= 1) {\n          newDateValue.setDate(date);\n          this.isNavigate = date.toString().length === 2;\n          this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n\n          if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n            return;\n          }\n\n          this.isDayPart = true;\n          this.dayTypeCount = this.dayTypeCount + 1;\n        } else {\n          this.isDayPart = false;\n          this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n        }\n\n        break;\n\n      case 'M':\n        var month = void 0;\n\n        if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n          month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n        } else {\n          month = parseInt(newVal[start - 1], 10);\n        }\n\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n        this.isMonthZero = newVal[start - 1] == '0';\n\n        if (!isNaN(month)) {\n          while (month > 12) {\n            month = parseInt(month.toString().slice(1), 10);\n          }\n\n          if (month >= 1) {\n            newDateValue.setMonth(month - 1);\n            this.isNavigate = month.toString().length === 2;\n\n            if (newDateValue.getMonth() !== month - 1) {\n              newDateValue.setDate(1);\n              newDateValue.setMonth(month - 1);\n            }\n\n            if (this.isDayPart) {\n              var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n              var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n              if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                newDateValue.setDate(currentMaxDate);\n              }\n            }\n\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n            this.isMonthPart = true;\n            this.monthTypeCount = this.monthTypeCount + 1;\n          } else {\n            newDateValue.setMonth(0);\n            this.isMonthPart = false;\n            this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n          }\n        } else {\n          // let monthString: string[] = <string[]>(getValue('months[stand-alone].wide', getDefaultDateObject()));\n          var monthString = this.getCulturedValue('months[stand-alone].wide');\n          var monthValue = Object.keys(monthString);\n          this.monthCharacter += newVal[start - 1].toLowerCase();\n\n          while (this.monthCharacter.length > 0) {\n            var i = 1;\n\n            for (var _i = 0, monthValue_1 = monthValue; _i < monthValue_1.length; _i++) {\n              var months = monthValue_1[_i];\n\n              if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                newDateValue.setMonth(i - 1);\n                this.isMonthPart = true;\n                this.maskDateValue = newDateValue;\n                return;\n              }\n\n              i++;\n            }\n\n            this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n          }\n        }\n\n        break;\n\n      case 'y':\n        var year = (this.isYearPart && newDateValue.getFullYear().toString().length < 4 && !this.isShortYear ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.isShortYear = false;\n        this.isYearZero = newVal[start - 1] == '0';\n\n        if (isNaN(year)) {\n          return;\n        }\n\n        while (year > 9999) {\n          year = parseInt(year.toString().slice(1), 10);\n        }\n\n        if (year < 1) {\n          this.isYearPart = false;\n        } else {\n          newDateValue.setFullYear(year);\n\n          if (year.toString().length === 4) {\n            this.isNavigate = true;\n          }\n\n          this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n          this.isYearPart = true;\n        }\n\n        break;\n\n      case 'h':\n        this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(this.hour)) {\n          return;\n        }\n\n        while (this.hour > 12) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n\n        newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + this.hour % 12);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount + 1;\n        break;\n\n      case 'H':\n        this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 && !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(this.hour)) {\n          return;\n        }\n\n        for (var i = 0; this.hour > 23; i++) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n\n        newDateValue.setHours(this.hour);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount + 1;\n        break;\n\n      case 'm':\n        var minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(minutes)) {\n          return;\n        }\n\n        for (var i = 0; minutes > 59; i++) {\n          minutes = parseInt(minutes.toString().slice(1), 10);\n        }\n\n        newDateValue.setMinutes(minutes);\n        this.isNavigate = minutes.toString().length === 2;\n        this.isMinutePart = true;\n        this.minuteTypeCount = this.minuteTypeCount + 1;\n        break;\n\n      case 's':\n        var seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 && !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(seconds)) {\n          return;\n        }\n\n        for (var i = 0; seconds > 59; i++) {\n          seconds = parseInt(seconds.toString().slice(1), 10);\n        }\n\n        newDateValue.setSeconds(seconds);\n        this.isNavigate = seconds.toString().length === 2;\n        this.isSecondsPart = true;\n        this.secondTypeCount = this.secondTypeCount + 1;\n        break;\n\n      case 'a':\n        this.periodCharacter += newVal[start - 1].toLowerCase(); // let periodString: string[] = <string[]>(getValue('dayPeriods.format.wide', getDefaultDateObject()));;\n\n        var periodString = this.getCulturedValue('dayPeriods.format.wide');\n        var periodkeys = Object.keys(periodString); //periodString[periodkeys[0]] : periodString[periodkeys[1]] : periodString[periodkeys[0]];\n\n        for (var i = 0; this.periodCharacter.length > 0; i++) {\n          if (periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12 || periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12) {\n            newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n            this.maskDateValue = newDateValue;\n          }\n\n          this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length); // Object.values()\n        }\n\n        break;\n\n      default:\n        break;\n    }\n\n    this.maskDateValue = newDateValue;\n  };\n\n  MaskedDateTime.prototype.formatCheck = function () {\n    var proxy = this;\n\n    function formatValueSpecifier(formattext) {\n      var result;\n      var daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n      var dayKeyAbbreviated = Object.keys(daysAbbreviated);\n      var daysWide = proxy.getCulturedValue('days[stand-alone].wide');\n      var dayKeyWide = Object.keys(daysWide);\n      var daysNarrow = proxy.getCulturedValue('days[stand-alone].narrow');\n      var dayKeyNarrow = Object.keys(daysNarrow);\n      var monthAbbreviated = proxy.getCulturedValue('months[stand-alone].abbreviated');\n      var monthWide = proxy.getCulturedValue('months[stand-alone].wide');\n      var periodString = proxy.getCulturedValue('dayPeriods.format.wide');\n      var periodkeys = Object.keys(periodString);\n      var milliseconds;\n      var dateOptions;\n\n      switch (formattext) {\n        case 'ddd':\n        case 'dddd':\n        case 'd':\n          result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n\n          if (proxy.dayTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n\n          break;\n\n        case 'dd':\n          result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n\n          if (proxy.dayTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n\n          break;\n\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'EEEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'EEEEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'M':\n          result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n\n          if (proxy.monthTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n\n          break;\n\n        case 'MM':\n          result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n\n          if (proxy.monthTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n\n          break;\n\n        case 'MMM':\n          result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n\n        case 'MMMM':\n          result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n\n        case 'yy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n\n          if (proxy.isYearPart) {\n            proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n          }\n\n          break;\n\n        case 'y':\n        case 'yyyy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n          break;\n\n        case 'h':\n          result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'hh':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'H':\n          result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'HH':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'm':\n          result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n\n          if (proxy.minuteTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n\n          break;\n\n        case 'mm':\n          result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n\n          if (proxy.minuteTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n\n          break;\n\n        case 's':\n          result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n\n          if (proxy.secondTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n\n          break;\n\n        case 'ss':\n          result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n\n          if (proxy.secondTypeCount == 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n\n          break;\n\n        case 'f':\n          result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n          break;\n\n        case 'ff':\n          milliseconds = proxy.maskDateValue.getMilliseconds();\n\n          if (proxy.maskDateValue.getMilliseconds() > 99) {\n            milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n          }\n\n          result = proxy.roundOff(milliseconds, 2);\n          break;\n\n        case 'fff':\n          result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n          break;\n\n        case 'a':\n        case 'aa':\n          result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n          break;\n\n        case 'z':\n        case 'zz':\n        case 'zzz':\n        case 'zzzz':\n          dateOptions = {\n            format: formattext,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: proxy.parent.calendarMode\n          };\n          result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n          break;\n      }\n\n      result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n\n      if (proxy.isHiddenMask) {\n        var hiddenChar = '';\n\n        for (var i = 0; i < result.length; i++) {\n          hiddenChar += formattext[0];\n        }\n\n        return hiddenChar;\n      } else {\n        return result;\n      }\n    }\n\n    return formatValueSpecifier;\n  };\n\n  MaskedDateTime.prototype.maskInputHandler = function () {\n    var start = this.parent.inputElement.selectionStart;\n    var selectionChar = this.previousHiddenMask[start - 1];\n    var inputValue;\n    this.differenceCheck();\n    inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isDateZero = this.isMonthZero = this.isYearZero = false;\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.inputElement.value = inputValue;\n    this.parent.inputElement.selectionStart = start;\n    this.validCharacterCheck();\n\n    if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n      var isbackward = this.isNavigate ? false : true;\n      this.isNavigate = this.isDeletion = false;\n      this.navigateSelection(isbackward);\n    }\n\n    this.isDeleteKey = false; // this.setSelection(selectionChar);\n    // this.navigateSelection(inputValue);\n  };\n\n  MaskedDateTime.prototype.navigateSelection = function (isbackward) {\n    var start = this.parent.inputElement.selectionStart;\n    var end = this.parent.inputElement.selectionEnd;\n    var formatIndex = isbackward ? start - 1 : end + 1;\n    this.navigated = true;\n\n    while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n      if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n        this.setSelection(this.hiddenMask[formatIndex]);\n        break;\n      }\n\n      formatIndex = formatIndex + (isbackward ? -1 : 1);\n    }\n  };\n\n  MaskedDateTime.prototype.roundOff = function (val, count) {\n    var valueText = val.toString();\n    var length = count - valueText.length;\n    var result = '';\n\n    for (var i = 0; i < length; i++) {\n      result += '0';\n    }\n\n    return result + valueText;\n  };\n\n  MaskedDateTime.prototype.zeroCheck = function (isZero, isDayPart, resultValue) {\n    var result = resultValue;\n\n    if (isZero && !isDayPart) {\n      result = '0';\n    }\n\n    return result;\n  };\n\n  MaskedDateTime.prototype.handleDeletion = function (format, isSegment) {\n    switch (format) {\n      case 'd':\n        this.isDayPart = isSegment;\n        break;\n\n      case 'M':\n        this.isMonthPart = isSegment;\n\n        if (!isSegment) {\n          this.maskDateValue.setMonth(0);\n          this.monthCharacter = '';\n        }\n\n        break;\n\n      case 'y':\n        this.isYearPart = isSegment;\n        break;\n\n      case 'H':\n      case 'h':\n        this.isHourPart = isSegment;\n\n        if (!isSegment) {\n          this.periodCharacter = '';\n        }\n\n        break;\n\n      case 'm':\n        this.isMinutePart = isSegment;\n        break;\n\n      case 's':\n        this.isSecondsPart = isSegment;\n        break;\n\n      default:\n        return false;\n    }\n\n    return true;\n  };\n\n  MaskedDateTime.prototype.dateAlteration = function (isDecrement) {\n    var start = this.parent.inputElement.selectionStart;\n    var formatText = '';\n\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      formatText = this.hiddenMask[start];\n    } else {\n      return;\n    }\n\n    var newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    var incrementValue = isDecrement ? -1 : 1;\n\n    switch (formatText) {\n      case 'd':\n        newDateValue.setDate(newDateValue.getDate() + incrementValue);\n        break;\n\n      case 'M':\n        var newMonth = newDateValue.getMonth() + incrementValue;\n        newDateValue.setDate(1);\n        newDateValue.setMonth(newMonth);\n\n        if (this.isDayPart) {\n          var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n          var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n          if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n            newDateValue.setDate(currentMaxDate);\n          } else {\n            newDateValue.setDate(this.previousDate.getDate());\n          }\n        } else {\n          newDateValue.setDate(this.previousDate.getDate());\n        }\n\n        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n        break;\n\n      case 'y':\n        newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n        break;\n\n      case 'H':\n      case 'h':\n        newDateValue.setHours(newDateValue.getHours() + incrementValue);\n        break;\n\n      case 'm':\n        newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n        break;\n\n      case 's':\n        newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n        break;\n\n      case 'a':\n        newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n        break;\n\n      default:\n        break;\n    }\n\n    this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      this.handleDeletion(this.hiddenMask[start], true);\n    }\n  };\n\n  MaskedDateTime.prototype.getCulturedValue = function (format) {\n    var locale = this.parent.locale;\n    var result;\n\n    if (locale === 'en' || locale === 'en-US') {\n      result = getValue(format, getDefaultDateObject());\n    } else {\n      result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n    }\n\n    return result;\n  };\n\n  MaskedDateTime.prototype.getCulturedFormat = function () {\n    var formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n    if (this.parent.moduleName == 'datepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n      if (this.parent.format && this.parent.formatString) {\n        formatString = this.parent.formatString;\n      }\n    }\n\n    if (this.parent.moduleName == 'datetimepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n      if (this.parent.dateTimeFormat) {\n        formatString = this.parent.dateTimeFormat;\n      }\n    }\n\n    if (this.parent.moduleName == 'timepicker') {\n      formatString = this.parent.cldrTimeFormat();\n    }\n\n    return formatString;\n  };\n\n  MaskedDateTime.prototype.clearHandler = function () {\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.updateValue();\n  };\n\n  MaskedDateTime.prototype.updateValue = function () {\n    this.monthCharacter = this.periodCharacter = '';\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.updateInputValue(inputValue); //this.parent.inputElement.value = inputValue;\n  };\n\n  MaskedDateTime.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n\n  return MaskedDateTime;\n}();\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\n\nexport { CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Component","Event","EventHandler","HijriParser","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","Property","addClass","append","attributes","cldrData","closest","createElement","detach","extend","formatUnit","getDefaultDateObject","getUniqueID","getValue","isNullOrUndefined","isUndefined","merge","prepend","remove","removeClass","rippleEffect","select","setStyleAttribute","setValue","throwError","Popup","Input","Button","ListBase","__extends","undefined","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","HEADER","RTL","CONTENT","YEAR","MONTH","DECADE","ICON","PREVICON","NEXTICON","PREVSPAN","NEXTSPAN","ICONCONTAINER","DISABLED","OVERLAY","WEEKEND","WEEKNUMBER","SELECTED","FOCUSEDDATE","OTHERMONTHROW","TODAY","TITLE","LINK","CELL","WEEKHEADER","ZOOMIN","FOOTER","BTN","FLAT","CSS","PRIMARY","DAYHEADERLONG","dayMilliSeconds","minutesMilliSeconds","CalendarBase","_super","options","element","_this","call","effect","isPopupClicked","isDateSelected","isTodayClicked","preventChange","isAngular","previousDates","render","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","locale","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","isDevice","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","createHeader","createContent","wireEvents","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","validateDate","value","checkDateValue","checkValue","currentDate","setOverlayIndex","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","minMaxUpdate","ariaPrevAttrs","ariaNextAttrs","ariaTitleAttrs","headerElement","className","iconContainer","previousIcon","attrs","type","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","id","createContentHeader","createContentBody","showTodayButton","createContentFooter","getCultureValues","culShortNames","cldrObj","dayFormat","dayHeaderFormat","toLowerCase","getCultureObjects","_i","_a","keys","obj","push","toCapitalize","text","toUpperCase","slice","querySelectorAll","daysCount","html","tableHeadElement","weekNumber","shortNames","shiftArray","days","innerHTML","start","renderYears","renderDecades","renderMonths","updateFooter","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","role","footer","contains","todayButtonClick","ref","keyConfig","moduleName","navigateTitle","keyConfigs","keyboardModule","eventName","keyAction","keyActionHandle","bind","dateWireEvents","serverModuleName","e","isCustomDate","currentView","depth","getViewNumber","navigateTo","resetCalendar","tableBodyElement","renderDayCellArgs","multiSelection","focusedDate","querySelector","selectedDate","split","view","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","focus","number","date","isMonthYearRange","addDay","isMinMaxRange","preRender","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","minMaxDate","localDate","minDate","maxDate","numCells","tdEles","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","isTodayDate","cellsCount","getDate","timezone","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","disabled","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","currentTarget","tempValue","formatOptions","calendar","getDateVal","innerText","copyValues","type_1","formatOptions_1","localDateString_1","tempDateString_1","indexOf","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","select$$1","yearCell","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","weekNumCell","numberCell","otherMonthCell","row","children","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","getIdValue","islamicPreviousHeader","islamicDate","getIslamicDate","toGregorian","switchView","requiredModules","modules","args","member","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","prop","validateValues","checkView","setLocale","skipIndex","tempValueString","minFormatOption","minStringValue","minString","maxFormatOption","maxStringValue","maxString","setValueUpdate","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","tempElement","selectedElement","dates","previousValue","checkPrevious","name","trigger","navigatedEvent","navigatedArgs","event","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","Calendar","isMultiSelection","tempValues","limit","copyDate","previousValues","setEnable","enabled","setClass","cssClass","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","enable","newCssClass","oldCssClass","replace","trim","isDayLightSaving","secondOffset","firstOffset","offsetValue","serverTimezoneDiff","clientTimeZoneDiff","timeZoneDiff","changedArgs","generateTodayVal","setMinutes","setMilliseconds","todayButtonEvent","changeHandler","triggerChange","previousDate","previousDateTime","isMultiSelect","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","addDate","tempDates","removeDate","setTodayDate","changeEvent","isInteracted","Number","NaN","toDateString","OTHERMONTH$1","YEAR$1","MONTH$1","DECADE$1","DISABLED$1","OVERLAY$1","WEEKEND$1","WEEKNUMBER$1","SELECTED$1","FOCUSEDDATE$1","OTHERMONTHROW$1","TODAY$1","LINK$1","CELL$1","dayMilliSeconds$1","minDecade","maxDecade","Islamic","instance","calendarInstance","islamicTitleUpdate","islamicInValue","gregorianObject","islamicDayCell","hijriMonthObject","prevMonthCompare","islamicCompareMonth","nextMonthCompare","prevYearCompare","hijriCompareYear","nextYearCompare","prevDecadeCompare","hijriCompareDecade","nextDecadeCompare","nextIconClicked","previousIconClicked","islamicDate_1","gregorianObject_1","splityear","round","rowCount","year_1","gregorianObject_2","hijriStart","hijriEnd","islamicCompare","getHijriDate","__extends$1","__decorate$1","DATEWRAPPER","ROOT$1","LIBRARY","CONTROL","POPUPWRAPPER","INPUTWRAPPER","POPUP","INPUTCONTAINER","INPUTFOCUS","INPUTROOT","ERROR","ACTIVE","OVERFLOW","DATEICON","ICONS","OPENDURATION","OFFSETVALUE","SELECTED$2","FOCUSEDDATE$2","NONEDIT","containerAttr","DatePicker","previousElementValue","isDateIconClicked","isAltKeyPressed","invalidValueString","checkPreviousValue","maskedDateValue","isIconClicked","isDynamicValueChanged","isFocused","datepickerOptions","initialize","bindEvents","calculateWidth","inputElement","inputWrapper","container","buttons","getElementsByClassName","floatLabelType","updateInput","setAllowEdit","allowEdit","readonly","updateIconState","checkInvalidValue","enableMask","notify","module","createInput","updateHtmlAttributeToWrapper","placeholder","updateInputValue","inputValueCopy","ariaAttrs","l10n","updatedCssClassValues","isBindClearAction","bindClearAction","properties","showClearButton","setWidth","width","addAttributes","isDynamic","isCalendar","disabledDates","strictMode","minMaxUpdates","dateValue","tempFormat","formatString","dateTimeFormat","errorClass","checkStringValue","val","returnDate","formatDateTime","culture","getDatePattern","valueDate","valueString","invalid","extISOString","basicISOString","test","bindInputEvent","inputHandler","dateIconHandler","mouseUpHandler","inputFocusHandler","inputBlurHandler","keydownHandler","inputChangeHandler","clearButton","resetHandler","formElement","resetFormHandler","keyboardModules","inputKeyActionHandle","code","popupObj","unBindEvents","tagName","restoreValue","stopPropagation","bindClearEvent","clear","clearedArgs","popupUpdate","preventEventBubbling","interopAdaptor","invokeMethodAsync","blur","hide","show","htmlAttributes","updatedClassValues","setStyle","charAt","updateHtmlAttributeToElement","updateCssClass","setCssClass","calendarKeyActionHandle","selectionStart","selectionEnd","focusArguments","model","openOnFocus","strictModeUpdate","changeTrigger","document","activeElement","blurArguments","calendarKeyboardModules","firstElementChild","documentHandler","focusOut","parentElement","clickedView","length_1","defaultAction","targetdate","len","dateOptions","createCalendar","modelHeader","body","display","content","relateTo","position","X","Y","offsetY","targetType","collision","open","close","preventArgs","setAriaAttributes","targetExitViewport","setAriaDisabled","yearHeading","h2","daySpan","monthSpan","insertBefore","selectCalendar","match","prevent_1","outOfRange","mobilePopupWrapper","popup","cancel","appendTo","eventArgs","refreshPosition","openAnimation","prevent_2","closeEventCallback","prevent","outerHTML","focusIn","triggerEvent","removeAttributes","inputElementCopy","ensureInputAttribute","ngTag","insertAdjacentElement","validationAttribute","checkHtmlAttributes","altDownArrow","escape","enter","shiftTab","tab","nameAttribute","attribute","attr","checkFormat","skeletonString","dynamic","attributes$$1","attributes_1","valueCopy","previousValCopy","dateIdString","inputVal","isDisabledDate","setPlaceholder","setReadonly","setEnabled","setEnableRtl","setClearButton","removeFloating","addFloating","hour","minute","second","dayOfTheWeek","__extends$2","__decorate$2","DATERANGEWRAPPER","INPUTCONTAINER$1","DATERANGEICON","POPUP$1","LEFTCALENDER","RIGHTCALENDER","LEFTCONTAINER","RIGHTCONTAINER","ROOT$2","LIBRARY$1","CONTROL$1","ERROR$1","ACTIVE$1","STARTENDCONTAINER","STARTDATE","ENDDATE","STARTBUTTON","INPUTFOCUS$1","ENDBUTTON","RANGEHOVER","OTHERMONTH$2","STARTLABEL","ENDLABEL","DISABLED$2","SELECTED$3","CALENDAR","NEXTICON$1","PREVICON$1","HEADER$1","TITLE$1","ICONCONTAINER$1","RANGECONTAINER","RANGEHEADER","PRESETS","FOOTER$1","RANGEBORDER","TODAY$2","FOCUSDATE","CONTENT$1","DAYSPAN","WEEKNUMBER$2","DATEDISABLED","ICONDISABLED","CALENDARCONTAINER","SEPARATOR","APPLY","CANCEL","DEVICE$1","OVERLAY$2","CHANGEICON","LISTCLASS","RTL$1","HOVER","OVERFLOW$1","OFFSETVALUE$1","PRIMARY$1","FLAT$1","CSS$1","ZOOMIN$1","NONEDITABLE","DAYHEADERLONG$1","HIDDENELEMENT","wrapperAttr","Presets","apply","DateRangePicker","isCustomRange","isCustomWindow","presetsItem","liCollections","previousEleValue","isKeyPopup","dateDisabled","isRangeIconClicked","isMaxDaysClicked","disabledDays","preventBlur","preventFocus","isPropChanged","dateRangeOptions","startValue","endValue","setModelValue","setDataAttribute","keyInputConfigs","defaultConstant","startLabel","endLabel","customRange","applyText","cancelText","selectedDays","isMobile","window","matchMedia","matches","angularTag","cloneElement","checkInvalidRange","rangeArray","separator","initProperty","navNextFunction","navNextMonth","navPrevFunction","navPrevMonth","deviceNavNextFunction","deviceNavNext","deviceNavPrevFunction","deviceNavPrevious","initStartDate","initEndDate","updateValue","processPresets","setRangeAllowEdit","pro","firstHiddenChild","secondHiddenChild","updateClearIconState","input","updatedClassValue","dateRangeStyle","cssNewClass","cssOldClass","presets","label","range","activeIndex","rangeIconHandler","inputKeyboardModule","updateHiddenInput","dispatchEvent","valueType","clearRange","previousStartValue","previousEndValue","startCopy","endCopy","applyButton","removeSelection","targetElement","isPopupOpen","applyFunction","leftCalendar","calendarFocus","minDays","maxDays","createPopup","adjustLongHeaderWidth","isPreset","createPresets","listRippleEffect","renderPopup","renderControl","createControl","bindCalendarEvents","updateRange","rightCalendar","disabledDateRender","updateHeader","clearCalendarEvents","clearEvents","leftCalPrevIcon","leftCalNextIcon","rightCalPrevIcon","rightCalNextIcon","updateNavIcons","calendarIconEvent","calendarIconRipple","leftKeyboardModule","keyInputHandler","rightKeyboardModule","deviceCalendarEvent","startButton","deviceHeaderClick","endButton","bindCalendarCellEvents","removeFocusedDate","updateDeviceCalendar","deviceNavigation","deviceCalendar","getElementsByTagName","removeClassDisabled","updateMinMaxDays","selectableDates","prevStartVal","prevEndVal","refreshControl","inputStr","isDateDisabled","keyCalendarUpdate","isLeftCalendar","ele","isRemoveFocus","leftCalCurrentDate","rightCalCurrentDate","updateCalendarElement","navInCalendar","leftLimit","rightLimit","keyNavigation","tabKeyValidation","focusedCell","firstCellToFocus","focusAbleEle","focusEleID","currentFirstDay","focusDate","rightDateLimit","leftDateLimit","presetElement","selectRange","yearDate","cancelButton","calendarNavigation","checkMinMaxDays","presetHeight","calendarPos","rightHeader","leftHeader","isRightMonth","isLeftMonth","tdCells","tdCells_1","cell","disabledCell","hoverSelection","isDate","focusedDate_1","eleDate","isSameMonth","isSameYear","currentElement","tdCells_2","isDisabledCell","startDateValue","eleDateValue","isSameStartEnd","startVal","endVal","isSame","elementCollection","elementCollection_1","tdCells_3","eleDateValue_1","addSelectedAttributes","endDateValue","rangeArgs","inputValue","removeTimeValueFromDate","otherMonthSelect","isStartDate","sameDate","tdCell","y","m","firstMonth","lastMonth","endEle","endEle_1","ele_1","endEle_2","ele_2","removeSelectedAttributes","tdCells_4","tdCells_5","startMonth","startValueSelected","maxEle","tdCells_6","calendar_1","tdCells_7","disabledDayCnt","start_1","end_1","updateControl","customDate","createRangeHeader","labelContainer","changeIcon","endBtn","startBtn","disableInput","validateMinMax","validateRangeStrict","validateMinMaxDays","validateRange","renderCalendar","isSameDecade","endYear","startMonthCurrentDate","selectNextMonth","selectNextYear","selectNextDecade","decyr","selectStartMonth","calendarContainer","leftTitle","leftContainer","rightContainer","leftNavTitle","rightTitle","rightNavTitle","prevIcon","getCalendarView","controlContainer","headerContainer","footerSection","cancelBtn","applyBtn","cancelFunction","height","getBoundingClientRect","deviceHeaderUpdate","isValueChanged","closeEventArgs","popupKeyboardModule","popupKeyActionHandle","onMouseClick","item","li","isClick","setListSelection","onMouseOver","onMouseLeave","values_1","renderCustomPopup","removeListSelection","applyPresetRange","modelValue","showPopup","openEventArgs","listTag","createList","customElement","wireListEvents","unWireListEvents","popupWidth","offsetX","btnKeyboardModule","presetKeyboardModule","presetKeyActionHandler","popupKeyBoardHandler","popupCloseHandler","keyCode","rangeContainer","listMoveDown","setScrollPosition","listMoveUp","hvrItem","getHoverLI","actItem","getActiveLI","nextElementSibling","previousElementSibling","listHeight","hover","active","nextEle","offsetTop","liHeight","scrollTop","updatedCssClassValue","setEleWidth","formatOption","startinvalue","endinvalue","startString","endString","startObject","endObject","invalidobject","getstringvalue","toLocaleDateString","stringValue","formatOpt","extISOStr","basISOString","virtualRenderCellArgs","virtualRenderCellEvent","isStartDisabled","isEndDisabled","createHiddenInput","evt","createEvent","initEvent","navigate","isBlur","getSelectedRange","mobileRangePopupWrap","refreshChange","enableInput","clearModelvalue","setMinMaxDays","openPopup","__extends$3","__decorate$3","WRAPPERCLASS","POPUP$2","ERROR$2","POPUPDIMENSION","DAY","MONTH$2","YEAR$2","ROOT$3","LIBRARY$2","CONTROL$2","CONTENT$2","SELECTED$4","HOVER$1","NAVIGATION","DISABLED$3","ICONANIMATION","FOCUS","LISTCLASS$1","HALFPOSITION","ANIMATIONDURATION","OVERFLOW$2","OFFSETVAL","EDITABLE","wrapperAttributes","TimePickerBase","createListItems","createdEl","timeFormat","step","interval","listItems","timeCollections","list","TimeMaskPlaceholder","TimePicker","disableItemCollection","timeOptions","keyConfigure","down","up","left","right","openPopupEventArgs","createInputElement","setTimeAllowEdit","validateInterval","validateDisable","getFormattedValue","checkErrorState","anchor","inputEleValue","getDateObject","clearIconState","setMinMax","initMin","initMax","popupCreation","valueIsDisable","resetState","initValue","defaultCulture","checkTimeFormat","checkInValue","scrollTo","checkAttributes","localeText","isNavigate","isPreventBlur","isTextSelected","valueWithMinutes","prevDate","updatedCssClassesValue","isNullOrEmpty","inputStyle","getCldrDateTimeFormat","cldrTime","dateFormat","cldrFormat","isInvalid","valueExpression","valueExp","setCurrentDate","cldrDateTimeString","getCultureTimeObject","ariaAttribute","enableElement","rippleFn","propertyList","generateList","listWrapper","addSelection","getPopupHeight","popupHeight","rippleModel","containerStyle","setPopupWidth","visibility","maxHeight","createDateObj","updatedClassesValue","timeStyle","cssClassNew","cssClassOld","removeErrorClass","validateState","disableTimeIcon","disableElement","selectInputText","setSelectionRange","setCursorToEnd","getMeridianText","meridian","getCursorSelection","getActiveElement","inputWidth","parseFloat","findScrollTop","setScrollTo","items","initialTime","scrollTime","getText","cldrTimeFormat","cldrDateFormat","cldrDate","getCultureDateObject","dateToNumeric","getExactDateTime","compareFormatChange","updatePlaceHolder","popupHandler","closePopup","mouseDownHandler","curPos","cursorDetails","focusSelection","regex","RegExp","isSeparator","keyHandler","objToString","createMask","previousState","setSelection","delay","animModel","documentClickHandler","mobileTimePopupWrap","disposeServerPopup","top","checkValueChange","isNavigation","prevValue","valueProcess","currentLi","setHover","isValidLI","removeHover","scrollHandler","minVal","maxVal","dateVal","strictOperation","maxValue","minValue","inputEventHandler","clearHandler","inputEvent","timeValue","raiseClearedEvent","setZIndex","dataBind","getTextFormat","strArray","validateValue","newval","value_1","findNextElement","textVal","timeVal","collections","validLiElement","elementValue","selectNextItem","backward","elementIndex","isCheck","nextItem","isUpdate","hoveredItem","getHoverItem","setActiveClass","formatStr","timeParse","listBaseOptions","itemCreated","isIE","info","getProperty","popupAlignment","timePopupElement","formatValues","__extends$4","__decorate$4","DATEWRAPPER$1","DATEPICKERROOT","DATETIMEWRAPPER","DAY$1","MONTH$3","YEAR$3","HOUR","MINUTE","SECOND","MILLISECOND","ROOT$4","DATETIMEPOPUPWRAPPER","INPUTWRAPPER$1","POPUP$3","TIMEICON$1","INPUTFOCUS$2","POPUPDIMENSION$1","ICONANIMATION$1","DISABLED$4","ERROR$3","CONTENT$3","NAVIGATION$1","ACTIVE$2","HOVER$2","ICONS$1","HALFPOSITION$1","LISTCLASS$2","ANIMATIONDURATION$1","OVERFLOW$3","DateTimePicker","scrollInvoked","dateTimeOptions","focusHandler","blurHandler","isTimePopupOpen","popupObject","dateTimeWrapper","keyboardHandler","unBindInputEvents","timekeyConfigure","cldrDateTimeFormat","bindInputEvents","validateMinMaxRange","isDateObject","disablePopupButton","checkValidState","isValidState","isDisable","timeIcon","renderTimeIcon","appendSpan","timeHandler","dateHandler","inputKeyAction","getCldrFormat","cldrDateTime","isDatePopupOpen","toggle","listCreation","dateObject","startTime","endTime","listDetails","wireTimeListEvents","addTimeSelection","setTimeScrollPosition","timeModal","offset","timeKeyActionHandle","unWireTimeListEvents","setDimension","setTimeHover","removeTimeHover","setInputValue","nextElement","lineHeight","getFullDateTime","tempVal","combineDateTime","minutes","seconds","setTimeActiveClass","setTimeActiveDescendant","removeTimeSelection","getTimeHoverItem","calculateStartEnd","method","hours","milliseconds","tempStartValue","tempMin","tempEndValue","tempMax","getUTCFullYear","dateTimeCloseEventCallback","maskedDateModule","getTimeActiveElement","status_1","millisecond","findNextTimeElement","dateTimeVal","listCount","timeElementValue","setTimeValue","timeKeyHandler","nextItemValue","ARROWLEFT","ARROWRIGHT","ARROWUP","ARROWDOWN","TAB","SHIFTTAB","END","HOME","MaskedDateTime","parent","mask","hiddenMask","validCharacters","isDayPart","isMonthPart","isYearPart","isHourPart","isMinutePart","isSecondsPart","isMilliSecondsPart","monthCharacter","periodCharacter","isHiddenMask","isComplete","navigated","formatRegex","isDeletion","isShortYear","isDeleteKey","isDateZero","isMonthZero","isYearZero","dayTypeCount","monthTypeCount","hourTypeCount","minuteTypeCount","secondTypeCount","dateformat","getCulturedFormat","maskDateValue","removeEventListener","addEventListener","isDestroyed","on","validCharacterCheck","maskInputHandler","maskKeydownHandler","off","maskPlaceholder","getCUltureMaskFormat","formatCheck","previousHiddenMask","setDynamicValue","objectString","j","validChar","altKey","ctrlKey","navigateSelection","dateAlteration","isPersist","differenceCheck","previousVal","substring","newVal","newDateValue","handleDeletion","previousMaxDate","currentMaxDate","monthString","getCulturedValue","monthValue","monthValue_1","months","floor","periodString","periodkeys","proxy","formatValueSpecifier","formattext","daysAbbreviated","dayKeyAbbreviated","daysWide","dayKeyWide","daysNarrow","dayKeyNarrow","monthAbbreviated","monthWide","zeroCheck","roundOff","hiddenChar","selectionChar","isbackward","formatIndex","valueText","isZero","resultValue","isSegment","isDecrement","formatText","incrementValue","newMonth"],"sources":["C:/Users/High Tech Assistance/Desktop/e-learningProject__frontend - Copie/e-learningProject__frontend - Copie/frontend/node_modules/@syncfusion/ej2-grids/node_modules/@syncfusion/ej2-calendars/dist/es6/ej2-calendars.es5.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @__PURE__ @class */ (function (_super) {\n    __extends(CalendarBase, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function CalendarBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.effect = '';\n        _this.isPopupClicked = false;\n        _this.isDateSelected = true;\n        _this.isTodayClicked = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.previousDates = false;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.render = function () {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'data-role': 'calendar'\n            });\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    };\n    CalendarBase.prototype.rangeValidation = function (min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    };\n    CalendarBase.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    };\n    CalendarBase.prototype.validateDate = function (value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    };\n    CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    CalendarBase.prototype.minMaxUpdate = function (value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    };\n    CalendarBase.prototype.createHeader = function () {\n        var ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        var ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        var ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        var iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        if (this.getModuleName() === 'daterangepicker') {\n            attributes(this.previousIcon, { tabIndex: '-1' });\n            attributes(this.nextIcon, { tabIndex: '-1' });\n        }\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    };\n    CalendarBase.prototype.createContent = function () {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '', 'aria-labelledby': this.element.id } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    };\n    CalendarBase.prototype.getCultureValues = function () {\n        var culShortNames = [];\n        var cldrObj;\n        var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n            var obj = _a[_i];\n            culShortNames.push(getValue(obj, cldrObj));\n        }\n        return culShortNames;\n    };\n    CalendarBase.prototype.toCapitalize = function (text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    };\n    CalendarBase.prototype.createContentHeader = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        var daysCount = 6;\n        var html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        var shortNames = this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek);\n        for (var days = 0; days <= daysCount; days++) {\n            html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    };\n    CalendarBase.prototype.createContentBody = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    };\n    CalendarBase.prototype.updateFooter = function () {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    };\n    CalendarBase.prototype.createContentFooter = function () {\n        if (this.showTodayButton) {\n            var minimum = new Date(+this.min);\n            var maximum = new Date(+this.max);\n            var l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    };\n    CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    };\n    CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    };\n    CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    };\n    CalendarBase.prototype.resetCalendar = function () {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n    };\n    CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        var view = this.getViewNumber(this.currentView());\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                this.keyboardNavigate(-1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveRight':\n                this.keyboardNavigate(1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                e.preventDefault();\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    this.keyboardNavigate(7, view, e, this.max, this.min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                e.preventDefault();\n                break;\n            case 'select':\n                if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                }\n                else {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            var d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n        var date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.preRender = function (value) {\n        var _this = this;\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = function (e) {\n            _this.triggerNavigate(e);\n        };\n    };\n    CalendarBase.prototype.minMaxDate = function (localDate) {\n        var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    };\n    CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n        var numCells = this.weekNumber ? 8 : 7;\n        var tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    };\n    CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        var localDate = new Date(this.checkValue(currentDate));\n        var minMaxDate;\n        var currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        var d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.createElement('td', { className: CELL });\n            var weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                var numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.dayCell(localDate);\n            var title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            var disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                var selectDate = new Date(this.checkValue(value));\n                var argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            var tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            var currentTarget = void 0;\n            if (!isNullOrUndefined(e) && e.type == 'click') {\n                currentTarget = e.currentTarget;\n            }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (var tempValue = 0; tempValue < values.length; tempValue++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText && this.previousDates && currentTarget.classList.contains(SELECTED)) {\n                        removeClass([tdEle], SELECTED);\n                        this.previousDates = false;\n                        var copyValues = this.copyValues(values);\n                        for (var i = 0; i < copyValues.length; i++) {\n                            var type_1 = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                            var formatOptions_1 = { format: null, type: 'date', skeleton: 'short', calendar: type_1 };\n                            var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n                            var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n                            if (localDateString_1 === tempDateString_1) {\n                                var index = copyValues.indexOf(copyValues[i]);\n                                copyValues.splice(index, 1);\n                            }\n                        }\n                        this.setProperties({ values: copyValues }, true);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    };\n    CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    };\n    CalendarBase.prototype.renderYears = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.checkValue(this.currentDate));\n        var mon = curDate.getMonth();\n        var yr = curDate.getFullYear();\n        var localDate = curDate;\n        var curYrs = localDate.getFullYear();\n        var minYr = new Date(this.checkValue(this.min)).getFullYear();\n        var minMonth = new Date(this.checkValue(this.min)).getMonth();\n        var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (var month = 0; month < 12; ++month) {\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            var localMonth = (value && (value).getMonth() === localDate.getMonth());\n            var select$$1 = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    CalendarBase.prototype.renderDecades = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        var endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        var endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            var year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    CalendarBase.prototype.dayCell = function (localDate) {\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false' }\n        };\n        return this.createElement('td', attrs);\n    };\n    CalendarBase.prototype.firstDay = function (date) {\n        var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (var i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.lastDay = function (date, view) {\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    };\n    CalendarBase.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    CalendarBase.prototype.findLastDay = function (date) {\n        var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (var i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.removeTableHeadElement = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.getViewNumber(this.currentView());\n        var trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowIterator = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr');\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    };\n    CalendarBase.prototype.clickHandler = function (e, value) {\n        this.clickEventEmitter(e);\n        var eve = e.currentTarget;\n        var view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    // Content click event handler required for extended components\n    CalendarBase.prototype.clickEventEmitter = function (e) {\n        e.preventDefault();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.contentClick = function (e, view, element, value) {\n        var currentView = this.getViewNumber(this.currentView());\n        var d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.islamicPreviousHeader = this.headerElement.textContent;\n                        var islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    };\n    CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                if (multiSelection && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0])) {\n                    this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n                }\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    CalendarBase.prototype.getModuleName = function () {\n        return 'calendar';\n    };\n    /**\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    CalendarBase.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    };\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    CalendarBase.prototype.validateValues = function (multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            var copyValues = this.copyValues(values);\n            for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                var tempValue = copyValues[skipIndex];\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var tempValueString = void 0;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                var minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                var minString = minStringValue;\n                var maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                var maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    };\n    CalendarBase.prototype.setValueUpdate = function () {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    };\n    CalendarBase.prototype.copyValues = function (values) {\n        var copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    };\n    CalendarBase.prototype.titleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.locale);\n        var dayFormatOptions;\n        var monthFormatOptions;\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    };\n    CalendarBase.prototype.setActiveDescendant = function () {\n        var id;\n        var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var title;\n        var view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    };\n    CalendarBase.prototype.iconHandler = function () {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CalendarBase.prototype.destroy = function () {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        _super.prototype.destroy.call(this);\n    };\n    CalendarBase.prototype.title = function (e) {\n        var currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    };\n    CalendarBase.prototype.getViewNumber = function (stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    };\n    CalendarBase.prototype.navigateTitle = function (e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.previous = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigatePrevious = function (e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.next = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigateNext = function (eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.currentView = function () {\n        if (this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    CalendarBase.prototype.getDateVal = function (date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.getCultureObjects = function (ld, c) {\n        var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    };\n    CalendarBase.prototype.getWeek = function (d) {\n        var currentDate = new Date(this.checkValue(d)).valueOf();\n        var date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    };\n    CalendarBase.prototype.setStartDate = function (date, time) {\n        var tzOffset = date.getTimezoneOffset();\n        var d = new Date(date.getTime() + time);\n        var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    };\n    CalendarBase.prototype.addMonths = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    };\n    CalendarBase.prototype.addYears = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    };\n    CalendarBase.prototype.getIdValue = function (e, element) {\n        var eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        var date = this.globalize.parseDate(dateString, dateFormatOptions);\n        var value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    };\n    CalendarBase.prototype.adjustLongHeaderSize = function () {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    };\n    CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n        var element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                var copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        var tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            var copyValues = this.copyValues(values);\n            var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (var index = 0; index < collection.length; index++) {\n                var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (var i = 0; i < copyValues.length; i++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(date, formatOptions);\n                    var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        var index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    };\n    CalendarBase.prototype.checkPresentDate = function (dates, values) {\n        var previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    };\n    CalendarBase.prototype.setAriaActiveDescendant = function () {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    };\n    CalendarBase.prototype.previousIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n            addClass([this.previousIcon], '' + DISABLED);\n            addClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.renderDayCellEvent = function (args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    CalendarBase.prototype.navigatedEvent = function (eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    CalendarBase.prototype.triggerNavigate = function (event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    };\n    CalendarBase.prototype.nextIconHandler = function (disabled) {\n        if (disabled) {\n            EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n            addClass([this.nextIcon], DISABLED);\n            addClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'true');\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n        var start = endDate.getFullYear();\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.isMinMaxRange = function (date) {\n        return +date >= +this.min && +date <= +this.max;\n    };\n    CalendarBase.prototype.isMonthYearRange = function (date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    };\n    CalendarBase.prototype.compareYear = function (start, end) {\n        return this.compare(start, end, 0);\n    };\n    CalendarBase.prototype.compareDecade = function (start, end) {\n        return this.compare(start, end, 10);\n    };\n    CalendarBase.prototype.shiftArray = function (array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    };\n    CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n        var column = i;\n        var value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            var rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    };\n    CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n        var value = new Date(date.setDate(date.getDate() + column));\n        var collection = [];\n        var isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            var tdEles = void 0;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter(function (element) {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (var i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    };\n    CalendarBase.prototype.getMaxDays = function (d) {\n        var date;\n        var tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        var month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    };\n    CalendarBase.prototype.setDateDecade = function (date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.setDateYear = function (date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.compareMonth = function (start, end) {\n        var result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.checkValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    CalendarBase.prototype.checkView = function () {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    };\n    CalendarBase.prototype.getDate = function (date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    };\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], CalendarBase.prototype, \"min\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], CalendarBase.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], CalendarBase.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('FirstDay')\n    ], CalendarBase.prototype, \"weekRule\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"renderDayCell\", void 0);\n    CalendarBase = __decorate([\n        NotifyPropertyChanges\n    ], CalendarBase);\n    return CalendarBase;\n}(Component));\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @__PURE__ @class */ (function (_super) {\n    __extends(Calendar, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Calendar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.render = function () {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var tempValues = [];\n            var copyValues = [];\n            for (var limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (var index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        var copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        _super.prototype.render.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    };\n    Calendar.prototype.setEnable = function (enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    };\n    Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    };\n    Calendar.prototype.isDayLightSaving = function () {\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    Calendar.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var serverTimezoneDiff = offsetValue;\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    };\n    Calendar.prototype.formResetHandler = function () {\n        this.setProperties({ value: null }, true);\n    };\n    Calendar.prototype.validateDate = function () {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        _super.prototype.validateDate.call(this, this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    Calendar.prototype.minMaxUpdate = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                _super.prototype.minMaxUpdate.call(this, this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    _super.prototype.minMaxUpdate.call(this, this.max);\n                }\n            }\n        }\n        else {\n            _super.prototype.minMaxUpdate.call(this, this.value);\n        }\n    };\n    Calendar.prototype.generateTodayVal = function (value) {\n        var tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    };\n    Calendar.prototype.todayButtonClick = function (e) {\n        if (this.showTodayButton) {\n            var tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n        }\n    };\n    Calendar.prototype.keyActionHandle = function (e) {\n        _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.preRender = function () {\n        var _this = this;\n        this.changeHandler = function (e) {\n            _this.triggerChange(e);\n        };\n        this.checkView();\n        _super.prototype.preRender.call(this, this.value);\n    };\n    /**\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.createContent = function () {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        _super.prototype.createContent.call(this);\n    };\n    Calendar.prototype.minMaxDate = function (localDate) {\n        return _super.prototype.minMaxDate.call(this, localDate);\n    };\n    Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n        _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n    };\n    Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n        var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n        if (this.isMultiSelection) {\n            _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    };\n    Calendar.prototype.renderYears = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderYears.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    };\n    Calendar.prototype.renderDecades = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderDecades.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    };\n    Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    };\n    Calendar.prototype.clickHandler = function (e) {\n        var eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n                    copyValues.push(this.getIdValue(e, null));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: this.values[this.values.length - 1] }, true);\n                }\n                else {\n                    this.previousDates = true;\n                }\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        var storeView = this.currentView();\n        _super.prototype.clickHandler.call(this, e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    };\n    Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n        _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    Calendar.prototype.getModuleName = function () {\n        _super.prototype.getModuleName.call(this);\n        return 'calendar';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    Calendar.prototype.getPersistData = function () {\n        _super.prototype.getPersistData.call(this);\n        var keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            var copyValues = this.copyValues(this.values);\n                            for (var index = 0; index < copyValues.length; index++) {\n                                var tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Calendar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n        this.minMaxUpdate();\n        _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    Calendar.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.addDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                var tempDates = dates;\n                for (var i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.removeDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                var tempDates = dates;\n                for (var index = 0; index < tempDates.length; index++) {\n                    for (var i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    Calendar.prototype.setTodayDate = function (date) {\n        var todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n    };\n    Calendar.prototype.update = function () {\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.setValueUpdate.call(this);\n    };\n    Calendar.prototype.selectDate = function (e, date, element) {\n        _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Calendar.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    };\n    Calendar.prototype.triggerChange = function (e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) && +new Date(this.value.toDateString()) !== +new Date(this.previousDate.toDateString()) || this.previousDate == null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], Calendar.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Event()\n    ], Calendar.prototype, \"change\", void 0);\n    Calendar = __decorate([\n        NotifyPropertyChanges\n    ], Calendar);\n    return Calendar;\n}(CalendarBase));\n\n/**\n *\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\nvar OTHERMONTH$1 = 'e-other-month';\nvar YEAR$1 = 'e-year';\nvar MONTH$1 = 'e-month';\nvar DECADE$1 = 'e-decade';\nvar DISABLED$1 = 'e-disabled';\nvar OVERLAY$1 = 'e-overlay';\nvar WEEKEND$1 = 'e-weekend';\nvar WEEKNUMBER$1 = 'e-week-number';\nvar SELECTED$1 = 'e-selected';\nvar FOCUSEDDATE$1 = 'e-focused-date';\nvar OTHERMONTHROW$1 = 'e-month-hide';\nvar TODAY$1 = 'e-today';\nvar LINK$1 = 'e-day';\nvar CELL$1 = 'e-cell';\nvar dayMilliSeconds$1 = 86400000;\nvar minDecade = 2060;\nvar maxDecade = 2069;\nvar Islamic = /** @__PURE__ @class */ (function () {\n    function Islamic(instance) {\n        this.calendarInstance = instance;\n    }\n    Islamic.prototype.getModuleName = function () {\n        return 'islamic';\n    };\n    Islamic.prototype.islamicTitleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.calendarInstance.locale);\n        switch (view) {\n            case 'days':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'MMMMyyyy', calendar: 'islamic' });\n                break;\n            case 'months':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'yyyy', calendar: 'islamic' });\n        }\n    };\n    Islamic.prototype.islamicRenderDays = function (currentDate, value, multiSelection, values) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var localDate = new Date(this.islamicInValue(currentDate));\n        var minMaxDate;\n        this.islamicTitleUpdate(currentDate, 'days');\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n        var currentMonth = islamicDate.month;\n        localDate = gregorianObject;\n        while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n            this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.calendarInstance.createElement('td', { className: CELL$1 });\n            var weekAnchor = this.calendarInstance.createElement('span');\n            if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n                weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER$1);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.calendarInstance.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: 'islamic' };\n            var date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.islamicDayCell(localDate);\n            var title = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'full', calendar: 'islamic' });\n            var dayLink = this.calendarInstance.createElement('span');\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'd', calendar: 'islamic' });\n            var disabled = (this.calendarInstance.min > localDate) || (this.calendarInstance.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            var hijriMonthObject = this.getIslamicDate(localDate);\n            if (currentMonth !== hijriMonthObject.month) {\n                addClass([tdEle], OTHERMONTH$1);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND$1);\n            }\n            tdEle.appendChild(dayLink);\n            this.calendarInstance.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.calendarInstance.renderDayCellArgs;\n            this.calendarInstance.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                if (this.calendarInstance.isMultiSelection) {\n                    if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            var tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            if (localDateString === tempDateString) {\n                                this.calendarInstance.values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (value && +value === +argument.date) {\n                    this.calendarInstance.setProperties({ value: null }, true);\n                }\n            }\n            if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n                if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n                    this.calendarInstance.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n            var disabledCls = tdEle.classList.contains(DISABLED$1);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) &&\n                !otherMnthBool && !disabledCls) {\n                for (var tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n                    var localDateString = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    var tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    if (localDateString === tempDateString &&\n                        this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n                        addClass([tdEle], SELECTED$1);\n                    }\n                    else {\n                        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (this.calendarInstance.values.length <= 0) {\n                    this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n            if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n                if (date.getFullYear() === new Date().getFullYear()) {\n                    addClass([tdEle], TODAY$1);\n                }\n            }\n            localDate = new Date(+minMaxDate);\n            tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n            this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n        }\n        return tdEles;\n    };\n    Islamic.prototype.islamicIconHandler = function () {\n        new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n        var date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                {\n                    var prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n                    var nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevMonthCompare);\n                    this.calendarInstance.nextIconHandler(nextMonthCompare);\n                }\n                break;\n            case 'Year':\n                {\n                    var prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n                    var nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevYearCompare);\n                    this.calendarInstance.nextIconHandler(nextYearCompare);\n                }\n                break;\n            case 'Decade': {\n                var prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n                var nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n                this.calendarInstance.previousIconHandler(prevDecadeCompare);\n                this.calendarInstance.nextIconHandler(nextDecadeCompare);\n            }\n        }\n    };\n    Islamic.prototype.islamicNext = function () {\n        this.calendarInstance.effect = '';\n        var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Decade':\n                this.calendarInstance.nextIconClicked = true;\n                islamicDate.year = islamicDate.year - this.calendarInstance.headerElement.textContent.split('-')[0].trim() === 1 ? islamicDate.year + 1 : islamicDate.year;\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n        }\n    };\n    Islamic.prototype.islamicPrevious = function () {\n        var currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        this.calendarInstance.effect = '';\n        var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Decade':\n                this.calendarInstance.previousIconClicked = true;\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n        }\n    };\n    Islamic.prototype.islamicRenderYears = function (e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        var localDate = curDate;\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        var mon = islamicDate.month;\n        var yr = islamicDate.year;\n        var curYrs = islamicDate.year;\n        var minYr = (this.getIslamicDate(this.calendarInstance.min)).year;\n        var minMonth = (this.getIslamicDate(this.calendarInstance.min)).month;\n        var maxYr = (this.getIslamicDate(this.calendarInstance.max)).year;\n        var maxMonth = (this.getIslamicDate(this.calendarInstance.max)).month;\n        this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n        for (var month = 1; month <= 12; ++month) {\n            var islamicDate_1 = this.getIslamicDate(localDate);\n            var gregorianObject_1 = HijriParser.toGregorian(islamicDate_1.year, month, 1);\n            localDate = gregorianObject_1;\n            var tdEle = this.islamicDayCell(localDate);\n            var dayLink = this.calendarInstance.createElement('span');\n            var localMonth = (value &&\n                (this.getIslamicDate(value)).month === (this.getIslamicDate(localDate)).month);\n            var select$$1 = (value && (this.getIslamicDate(value)).year === yr && localMonth);\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'MMM', calendar: 'islamic' });\n            if ((this.calendarInstance.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.calendarInstance.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED$1);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                if ((this.getIslamicDate(localDate)).month === mon &&\n                    (this.getIslamicDate(this.calendarInstance.currentDate)).month === mon) {\n                    addClass([tdEle], FOCUSEDDATE$1);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED$1)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n    };\n    Islamic.prototype.islamicRenderDecade = function (e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(this.islamicInValue((localYr - localYr % 10)));\n        var endYr = new Date(this.islamicInValue((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.calendarInstance.globalize.formatDate(startYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        var endHdrYr = this.calendarInstance.globalize.formatDate(endYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        if (this.calendarInstance.islamicPreviousHeader) {\n            startHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[0].trim();\n            endHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[1].trim();\n            this.calendarInstance.islamicPreviousHeader = null;\n        }\n        var splityear = this.calendarInstance.headerElement.textContent.split('-');\n        if (this.calendarInstance.previousIconClicked) {\n            for (var i = 0; i <= splityear.length; i++) {\n                endHdrYr = endHdrYr - splityear[i] === 2 || splityear[i] - endHdrYr === 2 ? (parseInt(endHdrYr) + 1).toString() : endHdrYr - splityear[i] === 3 || splityear[i] - endHdrYr === 3 ? (parseInt(endHdrYr) + 2).toString() : endHdrYr - splityear[i] === 4 || splityear[i] - endHdrYr === 4 ? (parseInt(endHdrYr) + 3).toString() : endHdrYr - splityear[i] === 5 || splityear[i] - endHdrYr === 5 ? (parseInt(endHdrYr) + 4).toString() : endHdrYr;\n                if (endHdrYr - splityear[i] === 0 || splityear[i] - endHdrYr === 0) {\n                    endHdrYr = (parseInt(endHdrYr) - 1).toString();\n                }\n            }\n            startHdrYr = endHdrYr - startHdrYr === 10\n                ? (parseInt(startHdrYr) + 1).toString() : endHdrYr - startHdrYr === 11\n                ? (parseInt(startHdrYr) + 2).toString() : endHdrYr - startHdrYr === 12\n                ? (parseInt(startHdrYr) + 3).toString() : startHdrYr;\n            startHdrYr = endHdrYr - startHdrYr === 8 ? (parseInt(startHdrYr) - 1).toString() : startHdrYr;\n        }\n        if (this.calendarInstance.nextIconClicked) {\n            for (var i = 0; i <= splityear.length; i++) {\n                if (startHdrYr - splityear[i] === 0 || splityear[i] - startHdrYr === 0) {\n                    startHdrYr = (parseInt(startHdrYr) + 1).toString();\n                }\n                if (startHdrYr - splityear[i] === 2 && startHdrYr > splityear[i].trim()) {\n                    startHdrYr = (parseInt(startHdrYr) - 1).toString();\n                }\n                if (splityear[i] - startHdrYr === 1 && startHdrYr < splityear[i].trim()) {\n                    startHdrYr = (parseInt(startHdrYr) + 2).toString();\n                }\n            }\n            endHdrYr = endHdrYr - startHdrYr === 10 ? (parseInt(endHdrYr) - 1).toString() : endHdrYr;\n            endHdrYr = endHdrYr - startHdrYr === 7\n                ? (parseInt(endHdrYr) + 2).toString() : endHdrYr - startHdrYr === 8\n                ? (parseInt(endHdrYr) + 1).toString() : endHdrYr;\n        }\n        this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        this.calendarInstance.nextIconClicked = this.calendarInstance.previousIconClicked = false;\n        var year = (parseInt(startHdrYr) - 2).toString();\n        startFullYr = Math.round(parseInt(startHdrYr) * 0.97 + 622);\n        endFullYr = Math.round(parseInt(endHdrYr) * 0.97 + 622);\n        var startYear = Math.round(parseInt(year) * 0.97 + 622);\n        for (var rowCount = 1; rowCount <= yearCell; ++rowCount) {\n            var year_1 = startYear + rowCount;\n            localDate.setFullYear(year_1);\n            localDate.setDate(1);\n            localDate.setMonth(0);\n            if ((this.getIslamicDate(localDate).year - islamicDate.year) > 1) {\n                localDate.setMonth(1);\n                rowCount = rowCount - 1;\n                localDate.setFullYear(localDate.getFullYear() - 1);\n            }\n            islamicDate = this.getIslamicDate(localDate);\n            var gregorianObject_2 = HijriParser.toGregorian(islamicDate.year, 1, 1);\n            localDate = gregorianObject_2;\n            if (islamicDate.year === parseInt(startHdrYr) - 1 || islamicDate.year >= startHdrYr && islamicDate.year <= endFullYr || islamicDate.year === parseInt(endHdrYr) + 1) {\n                var tdEle = this.islamicDayCell(localDate);\n                attributes(tdEle, { 'role': 'gridcell' });\n                var dayLink = this.calendarInstance.createElement('span');\n                dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n                if (islamicDate.year === parseInt(startHdrYr) - 1 || (year_1 < startFullYr) || (year_1 > endFullYr) && islamicDate.year !== parseInt(endHdrYr)) {\n                    addClass([tdEle], OTHERMONTH$1);\n                }\n                else if (year_1 < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()\n                    || year_1 > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED$1);\n                    if (year_1 < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()\n                        || year_1 > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n                        addClass([tdEle], DISABLED$1);\n                    }\n                }\n                else if (!isNullOrUndefined(value) &&\n                    (this.getIslamicDate(localDate)).year ===\n                        (this.getIslamicDate(value)).year) {\n                    addClass([tdEle], SELECTED$1);\n                }\n                else {\n                    if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED$1)) {\n                        addClass([tdEle], FOCUSEDDATE$1);\n                    }\n                }\n                if (!tdEle.classList.contains(DISABLED$1)) {\n                    EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n                }\n                tdEle.appendChild(dayLink);\n                tdEles.push(tdEle);\n            }\n        }\n        this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    Islamic.prototype.islamicDayCell = function (localDate) {\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: 'islamic' };\n        var formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n        var date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL$1, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.calendarInstance.createElement('td', attrs);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Islamic.prototype.islamicRenderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        var trEle;\n        this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n        this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n        removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n        addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowCount = 0;\n        for (var dayCell = 0; dayCell < Math.round(elements.length / count); ++dayCell) {\n            trEle = this.calendarInstance.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n                if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n                    addClass([elements[rowCount].children[0]], [LINK$1]);\n                    rippleEffect(elements[rowCount].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowCount]);\n                if (this.calendarInstance.weekNumber &&\n                    rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (!this.calendarInstance.weekNumber\n                    && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (this.calendarInstance.weekNumber) {\n                    if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n                else {\n                    if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n            }\n            row = row + count;\n            rowCount = rowCount + 0;\n            this.calendarInstance.tableBodyElement.appendChild(trEle);\n        }\n        this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n        this.islamicIconHandler();\n        if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())\n            || (view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))) {\n            this.calendarInstance.navigateHandler(e);\n        }\n        this.calendarInstance.setAriaActiveDescendant();\n        this.calendarInstance.changedArgs = { value: this.calendarInstance.value, values: this.calendarInstance.values };\n        this.calendarInstance.changeHandler();\n    };\n    Islamic.prototype.islamicCompareMonth = function (start, end) {\n        var hijriStart = (this.getIslamicDate(start));\n        var hijriEnd = (this.getIslamicDate(end));\n        var result;\n        if (hijriStart.year > hijriEnd.year) {\n            result = 1;\n        }\n        else if (hijriStart.year < hijriEnd.year) {\n            result = -1;\n        }\n        else {\n            result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n        }\n        return result;\n    };\n    Islamic.prototype.islamicCompare = function (startDate, endDate, modifier) {\n        var hijriStart = this.getIslamicDate(startDate);\n        var hijriEnd = this.getIslamicDate(endDate);\n        var start = hijriEnd.year;\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (hijriStart.year > end) {\n            result = 1;\n        }\n        else if ((this.calendarInstance.currentView() === 'Decade') && hijriStart.year < start &&\n            !((startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade))) {\n            result = -1;\n        }\n        else if (hijriStart.year < start && (this.calendarInstance.currentView() === 'Year')) {\n            result = -1;\n        }\n        return result;\n    };\n    Islamic.prototype.getIslamicDate = function (date) {\n        return (HijriParser.getHijriDate(date));\n    };\n    Islamic.prototype.toGregorian = function (year, month, date) {\n        return HijriParser.toGregorian(year, month, date);\n    };\n    Islamic.prototype.hijriCompareYear = function (start, end) {\n        return this.islamicCompare(start, end, 0);\n    };\n    Islamic.prototype.hijriCompareDecade = function (start, end) {\n        return this.islamicCompare(start, end, 10);\n    };\n    Islamic.prototype.destroy = function () {\n        this.calendarInstance = null;\n    };\n    Islamic.prototype.islamicInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    return Islamic;\n}());\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\nvar DATEWRAPPER = 'e-date-wrapper';\nvar ROOT$1 = 'e-datepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar POPUPWRAPPER = 'e-popup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar INPUTCONTAINER = 'e-input-group';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTROOT = 'e-input';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar OVERFLOW = 'e-date-overflow';\nvar DATEICON = 'e-date-icon';\nvar ICONS = 'e-icons';\nvar OPENDURATION = 300;\nvar OFFSETVALUE = 4;\nvar SELECTED$2 = 'e-selected';\nvar FOCUSEDDATE$2 = 'e-focused-date';\nvar NONEDIT = 'e-non-edit';\nvar containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\nvar DatePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(DatePicker, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param {DatePickerModel} options - Specifies the DatePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DatePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.previousElementValue = '';\n        _this.isDateIconClicked = false;\n        _this.isAltKeyPressed = false;\n        _this.isInteracted = true;\n        _this.invalidValueString = null;\n        _this.checkPreviousValue = null;\n        _this.maskedDateValue = '';\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.isIconClicked = false;\n        _this.isDynamicValueChanged = false;\n        _this.moduleName = _this.getModuleName();\n        _this.isFocused = false;\n        _this.datepickerOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.render = function () {\n        this.initialize();\n        this.bindEvents();\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n        this.setTimeZone(this.serverTimezoneOffset);\n    };\n    DatePicker.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var serverTimezoneDiff = offsetValue;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date((this.value).getTime() + (timeZoneDiff * 60 * 60 * 1000));\n            this.updateInput();\n        }\n    };\n    DatePicker.prototype.isDayLightSaving = function () {\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    DatePicker.prototype.setAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateIconState();\n    };\n    DatePicker.prototype.updateIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDIT]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDIT]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDIT]);\n        }\n    };\n    DatePicker.prototype.initialize = function () {\n        this.checkInvalidValue(this.value);\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setAllowEdit();\n        this.updateInput();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n        }\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputValueCopy = this.value;\n    };\n    DatePicker.prototype.createInput = function () {\n        var ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'autocorrect': 'off',\n            'autocapitalize': 'off', 'spellcheck': 'false', 'aria-invalid': 'false'\n        };\n        if (this.getModuleName() === 'datepicker') {\n            var l10nLocale = { placeholder: this.placeholder };\n            this.globalize = new Internationalization(this.locale);\n            this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        var isBindClearAction = this.enableMask ? false : true;\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            bindClearAction: isBindClearAction,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n        }, this.createElement);\n        this.setWidth(this.width);\n        if (this.inputElement.name !== '') {\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n        }\n        else {\n            this.inputElement.setAttribute('name', '' + this.element.id);\n        }\n        attributes(this.inputElement, ariaAttrs);\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        addClass([this.inputWrapper.container], DATEWRAPPER);\n    };\n    DatePicker.prototype.updateInput = function (isDynamic) {\n        if (isDynamic === void 0) { isDynamic = false; }\n        var formatOptions;\n        if (this.value && !this.isCalendar() && !isDynamic) {\n            this.disabledDates();\n        }\n        if (isNaN(+new Date(this.checkValue(this.value)))) {\n            this.setProperties({ value: null }, true);\n        }\n        if (this.strictMode) {\n            //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n            _super.prototype.validateDate.call(this);\n            this.minMaxUpdates();\n            _super.prototype.minMaxUpdate.call(this);\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var dateValue = this.value;\n            var dateString = void 0;\n            var tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd'\n                    });\n                }\n                else {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                    });\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                dateString = this.globalize.formatDate(this.value, formatOptions);\n            }\n            if ((+dateValue <= +this.max) && (+dateValue >= +this.min)) {\n                this.updateInputValue(dateString);\n            }\n            else {\n                var value = (+dateValue >= +this.max || !+this.value) || (!+this.value || +dateValue <= +this.min);\n                if (!this.strictMode && value) {\n                    this.updateInputValue(dateString);\n                }\n            }\n        }\n        if (isNullOrUndefined(this.value) && this.strictMode) {\n            if (!this.enableMask) {\n                this.updateInputValue('');\n            }\n            else {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.changedArgs = { value: this.value };\n        this.errorClass();\n        this.updateIconState();\n    };\n    DatePicker.prototype.minMaxUpdates = function () {\n        if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n            this.setProperties({ value: this.min }, true);\n            this.changedArgs = { value: this.value };\n        }\n        else {\n            if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n                this.setProperties({ value: this.max }, true);\n                this.changedArgs = { value: this.value };\n            }\n        }\n    };\n    DatePicker.prototype.checkStringValue = function (val) {\n        var returnDate = null;\n        var formatOptions = null;\n        var formatDateTime = null;\n        if (this.getModuleName() === 'datetimepicker') {\n            var culture = new Internationalization(this.locale);\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n            }\n            else {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n        if (isNullOrUndefined(returnDate) && (this.getModuleName() === 'datetimepicker')) {\n            returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n        }\n        return returnDate;\n    };\n    DatePicker.prototype.checkInvalidValue = function (value) {\n        if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n            var valueDate = null;\n            var valueString = value;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            var formatOptions = null;\n            var formatDateTime = null;\n            if (this.getModuleName() === 'datetimepicker') {\n                var culture = new Internationalization(this.locale);\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n                }\n                else {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n            }\n            var invalid = false;\n            if (typeof valueString !== 'string') {\n                valueString = null;\n                invalid = true;\n            }\n            else {\n                if (typeof valueString === 'string') {\n                    valueString = valueString.trim();\n                }\n                valueDate = this.checkStringValue(valueString);\n                if (!valueDate) {\n                    var extISOString = null;\n                    var basicISOString = null;\n                    // eslint-disable-next-line\n                    extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    // eslint-disable-next-line\n                    basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                        || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                        invalid = true;\n                    }\n                    else {\n                        valueDate = new Date(valueString);\n                    }\n                }\n            }\n            if (invalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n            }\n            else {\n                this.setProperties({ value: valueDate }, true);\n            }\n        }\n    };\n    DatePicker.prototype.bindInputEvent = function () {\n        if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n            if (this.enableMask || this.formatString.indexOf('y') === -1) {\n                EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n            }\n        }\n    };\n    DatePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n        EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        this.bindInputEvent();\n        // To prevent the twice triggering.\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n        }\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardModules = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyActionHandle.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DatePicker.prototype.keydownHandler = function (e) {\n        switch (e.code) {\n            case 'ArrowLeft':\n            case 'ArrowRight':\n            case 'ArrowUp':\n            case 'ArrowDown':\n            case 'Home':\n            case 'End':\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    if (e.code !== 'Delete') {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    DatePicker.prototype.unBindEvents = function () {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.enableMask) {\n            EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    };\n    DatePicker.prototype.resetFormHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            var value = this.inputElement.getAttribute('value');\n            if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n                value = '';\n                this.inputValueCopy = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: this.inputValueCopy }, true);\n            this.restoreValue();\n            if (this.inputElement) {\n                this.updateInputValue(value);\n                this.errorClass();\n            }\n        }\n    };\n    DatePicker.prototype.restoreValue = function () {\n        this.currentDate = this.value ? this.value : new Date();\n        this.previousDate = this.value;\n        this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.globalize.formatDate(this.inputValueCopy, {\n                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n            });\n    };\n    DatePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    };\n    DatePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    DatePicker.prototype.resetHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        this.clear(e);\n    };\n    DatePicker.prototype.mouseUpHandler = function (e) {\n        if (this.enableMask) {\n            e.preventDefault();\n            this.notify(\"setMaskSelection\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    DatePicker.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        if (!this.enableMask) {\n            this.updateInputValue('');\n        }\n        var clearedArgs = {\n            event: event\n        };\n        this.trigger('cleared', clearedArgs);\n        this.invalidValueString = '';\n        this.updateInput();\n        this.popupUpdate();\n        this.changeEvent(event);\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    DatePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n    };\n    DatePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DatePicker.prototype.dateIconHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n            this.inputElement.blur();\n        }\n        e.preventDefault();\n        if (!this.readonly) {\n            if (this.isCalendar()) {\n                this.hide(e);\n            }\n            else {\n                this.isDateIconClicked = true;\n                this.show(null, e);\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                this.inputElement.focus();\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                addClass(this.inputWrapper.buttons, ACTIVE);\n            }\n        }\n        this.isIconClicked = false;\n    };\n    DatePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!isNullOrUndefined(this.htmlAttributes[key])) {\n                    if (containerAttr.indexOf(key) > -1) {\n                        if (key === 'class') {\n                            var updatedClassValues = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                            if (updatedClassValues !== '') {\n                                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n                            }\n                        }\n                        else if (key === 'style') {\n                            var setStyle = this.inputWrapper.container.getAttribute(key);\n                            if (!isNullOrUndefined(setStyle)) {\n                                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                                    setStyle = setStyle + this.htmlAttributes[key];\n                                }\n                                else {\n                                    setStyle = setStyle + ';' + this.htmlAttributes[key];\n                                }\n                            }\n                            else {\n                                setStyle = this.htmlAttributes[key];\n                            }\n                            this.inputWrapper.container.setAttribute(key, setStyle);\n                        }\n                        else {\n                            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateCssClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n        }\n    };\n    DatePicker.prototype.calendarKeyActionHandle = function (e) {\n        switch (e.action) {\n            case 'escape':\n                if (this.isCalendar()) {\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[this.index].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isCalendar()) {\n                    this.show(null, e);\n                }\n                else {\n                    if (+this.value !== +this.currentDate && !this.isCalendar()) {\n                        this.inputWrapper.container.children[this.index].focus();\n                    }\n                }\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n        }\n    };\n    DatePicker.prototype.inputFocusHandler = function () {\n        this.isFocused = true;\n        if (!this.enabled) {\n            return;\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        var focusArguments = {\n            model: this\n        };\n        this.isDateIconClicked = false;\n        this.trigger('focus', focusArguments);\n        this.updateIconState();\n        if (this.openOnFocus && !this.isIconClicked) {\n            this.show();\n        }\n    };\n    DatePicker.prototype.inputHandler = function () {\n        this.isPopupClicked = false;\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    DatePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.strictModeUpdate();\n        if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n            this.invalidValueString = null;\n            this.updateInputValue('');\n        }\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        this.errorClass();\n        if (this.isCalendar() && document.activeElement === this.inputElement) {\n            this.hide(e);\n        }\n        if (this.getModuleName() === 'datepicker') {\n            var blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n        if (this.isCalendar()) {\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                eventName: 'keydown',\n                keyAction: this.calendarKeyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        this.isPopupClicked = false;\n    };\n    DatePicker.prototype.documentHandler = function (e) {\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(e.target) && e.type !== 'mousedown' ||\n            (this.popupObj.element && this.popupObj.element.contains(e.target)))) && e.type !== 'touchstart') {\n            e.preventDefault();\n        }\n        var target = e.target;\n        if (!(closest(target, '.e-datepicker.e-popup-wrapper'))\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && (!target.classList.contains('e-day'))) {\n            this.hide(e);\n            this.focusOut();\n        }\n        else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n            // Fix for close the popup when select the previously selected value.\n            if (target.classList.contains('e-day')\n                && !isNullOrUndefined(e.target.parentElement)\n                && e.target.parentElement.classList.contains('e-selected')\n                && closest(target, '.e-content')\n                && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n                this.hide(e);\n            }\n            else if (closest(target, '.e-footer-container')\n                && target.classList.contains('e-today')\n                && target.classList.contains('e-btn')\n                && (+new Date(+this.value) === +_super.prototype.generateTodayVal.call(this, this.value))) {\n                this.hide(e);\n            }\n        }\n    };\n    DatePicker.prototype.inputKeyActionHandle = function (e) {\n        var clickedView = this.currentView();\n        switch (e.action) {\n            case 'altUpArrow':\n                this.isAltKeyPressed = false;\n                this.hide(e);\n                this.inputElement.focus();\n                break;\n            case 'altDownArrow':\n                this.isAltKeyPressed = true;\n                this.strictModeUpdate();\n                this.updateInput();\n                this.changeTrigger(e);\n                if (this.getModuleName() === 'datepicker') {\n                    this.show(null, e);\n                }\n                break;\n            case 'escape':\n                this.hide(e);\n                break;\n            case 'enter':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (!this.isCalendar() && document.activeElement === this.inputElement) {\n                    this.hide(e);\n                }\n                if (this.isCalendar()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                var start = this.inputElement.selectionStart;\n                var end = this.inputElement.selectionEnd;\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    var length_1 = this.inputElement.value.length;\n                    if ((start == 0 && end == length_1) || (end !== length_1 && e.action == 'tab') || (start !== 0 && e.action == 'shiftTab')) {\n                        e.preventDefault();\n                    }\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                    start = this.inputElement.selectionStart;\n                    end = this.inputElement.selectionEnd;\n                }\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (this.enableMask) {\n                    this.inputElement.selectionStart = start;\n                    this.inputElement.selectionEnd = end;\n                }\n                this.hide(e);\n                break;\n            default:\n                this.defaultAction(e);\n                // Fix for close the popup when select the previously selected value.\n                if (e.action === 'select' && clickedView === this.depth) {\n                    this.hide(e);\n                }\n        }\n    };\n    DatePicker.prototype.defaultAction = function (e) {\n        this.previousDate = ((!isNullOrUndefined(this.value) && new Date(+this.value)) || null);\n        if (this.isCalendar()) {\n            _super.prototype.keyActionHandle.call(this, e);\n            if (this.isCalendar()) {\n                attributes(this.inputElement, {\n                    'aria-activedescendant': '' + this.setActiveDescendant()\n                });\n            }\n        }\n    };\n    DatePicker.prototype.popupUpdate = function () {\n        if ((isNullOrUndefined(this.value)) && (!isNullOrUndefined(this.previousDate)) ||\n            (+this.value !== +this.previousDate)) {\n            if (this.popupObj) {\n                if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n                    removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n                }\n            }\n            if (!isNullOrUndefined(this.value)) {\n                if ((+this.value >= +this.min) && (+this.value <= +this.max)) {\n                    var targetdate = new Date(this.checkValue(this.value));\n                    _super.prototype.navigateTo.call(this, 'Month', targetdate);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.strictModeUpdate = function () {\n        var format;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n        }\n        if (!isNullOrUndefined(format)) {\n            var len = format.split('M').length - 1;\n            if (len < 3) {\n                format = format.replace('MM', 'M');\n            }\n        }\n        var dateOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            dateOptions = formatOptions;\n        }\n        var date;\n        if (typeof this.inputElement.value === 'string') {\n            this.inputElement.value = this.inputElement.value.trim();\n        }\n        if ((this.getModuleName() === 'datetimepicker')) {\n            if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n                date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n            }\n        }\n        else {\n            date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            date = (!isNullOrUndefined(date) && isNaN(+date)) ? null : date;\n            if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n                if ((this.isPopupClicked || (!this.isPopupClicked && this.inputElement.value === this.previousElementValue))\n                    && this.formatString.indexOf('y') === -1) {\n                    date.setFullYear(this.value.getFullYear());\n                }\n            }\n        }\n        // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n        if ((this.getModuleName() === 'datepicker') && (this.value && !isNaN(+this.value)) && date) {\n            date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n        }\n        if (this.strictMode && date) {\n            this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        else if (!this.strictMode) {\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        if (this.strictMode && !date && this.inputElement.value === (this.enableMask ? this.maskedDateValue : '')) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNullOrUndefined(this.value)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n    };\n    DatePicker.prototype.createCalendar = function () {\n        var _this = this;\n        this.popupWrapper = this.createElement('div', { className: '' + ROOT$1 + ' ' + POPUPWRAPPER });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (Browser.isDevice) {\n            this.modelHeader();\n            this.modal = this.createElement('div');\n            this.modal.className = '' + ROOT$1 + ' e-date-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n        //this.calendarElement represent the Calendar object from the Calendar class.\n        this.calendarElement.querySelector('table tbody').className = '';\n        this.popupObj = new Popup(this.popupWrapper, {\n            content: this.calendarElement,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            offsetY: OFFSETVALUE,\n            targetType: 'container',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            open: function () {\n                if (_this.getModuleName() !== 'datetimepicker') {\n                    if (document.activeElement !== _this.inputElement) {\n                        _this.defaultKeyConfigs = extend(_this.defaultKeyConfigs, _this.keyConfigs);\n                        _this.calendarElement.children[1].firstElementChild.focus();\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {\n                            eventName: 'keydown',\n                            keyAction: _this.calendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {\n                            eventName: 'keydown',\n                            keyAction: _this.calendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                    }\n                }\n            }, close: function () {\n                if (_this.isDateIconClicked) {\n                    _this.inputWrapper.container.children[_this.index].focus();\n                }\n                if (_this.value) {\n                    _this.disabledDates();\n                }\n                if (_this.popupObj) {\n                    _this.popupObj.destroy();\n                }\n                _this.resetCalendar();\n                detach(_this.popupWrapper);\n                _this.popupObj = _this.popupWrapper = null;\n                _this.preventArgs = null;\n                _this.calendarKeyboardModules = null;\n                _this.setAriaAttributes();\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObj.element.className += ' ' + this.cssClass;\n        this.setAriaAttributes();\n    };\n    DatePicker.prototype.setAriaDisabled = function () {\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n    };\n    DatePicker.prototype.modelHeader = function () {\n        var dateOptions;\n        var modelHeader = this.createElement('div', { className: 'e-model-header' });\n        var yearHeading = this.createElement('h1', { className: 'e-model-year' });\n        var h2 = this.createElement('div');\n        var daySpan = this.createElement('span', { className: 'e-model-day' });\n        var monthSpan = this.createElement('span', { className: 'e-model-month' });\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'y', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'y', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'E', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'E', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        modelHeader.appendChild(yearHeading);\n        h2.appendChild(daySpan);\n        h2.appendChild(monthSpan);\n        modelHeader.appendChild(h2);\n        this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n    };\n    DatePicker.prototype.changeTrigger = function (event) {\n        if (this.inputElement.value !== this.previousElementValue) {\n            if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n                if (this.isDynamicValueChanged && this.isCalendar()) {\n                    this.popupUpdate();\n                }\n                this.changedArgs.value = this.value;\n                this.changedArgs.event = event || null;\n                this.changedArgs.element = this.element;\n                this.changedArgs.isInteracted = !isNullOrUndefined(event);\n                if (this.isAngular && this.preventChange) {\n                    this.preventChange = false;\n                }\n                else {\n                    this.trigger('change', this.changedArgs);\n                }\n                this.previousElementValue = this.inputElement.value;\n                this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n                this.isInteracted = true;\n            }\n        }\n    };\n    DatePicker.prototype.navigatedEvent = function () {\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    DatePicker.prototype.changeEvent = function (event) {\n        if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n            this.selectCalendar(event);\n            this.changedArgs.event = event ? event : null;\n            this.changedArgs.element = this.element;\n            this.changedArgs.isInteracted = this.isInteracted;\n            if (!this.isDynamicValueChanged) {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = this.value && new Date(+this.value);\n            if (!this.isDynamicValueChanged) {\n                this.hide(event);\n            }\n            this.previousElementValue = this.inputElement.value;\n            this.errorClass();\n        }\n    };\n    DatePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DatePicker.prototype.selectCalendar = function (e) {\n        var date;\n        var tempFormat;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            tempFormat = this.formatString;\n        }\n        if (this.value) {\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            if (this.enableMask) {\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n        if (!isNullOrUndefined(date)) {\n            this.updateInputValue(date);\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n        }\n    };\n    DatePicker.prototype.isCalendar = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n            return true;\n        }\n        return false;\n    };\n    DatePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (this.width) : (formatUnit(this.width));\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Shows the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    DatePicker.prototype.show = function (type, e) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            var prevent_1 = true;\n            var outOfRange = void 0;\n            if (!isNullOrUndefined(this.value) && !(+this.value >= +this.min && +this.value <= +this.max)) {\n                outOfRange = new Date(this.checkValue(this.value));\n                this.setProperties({ 'value': null }, true);\n            }\n            else {\n                outOfRange = this.value || null;\n            }\n            if (!this.isCalendar()) {\n                _super.prototype.render.call(this);\n                this.setProperties({ 'value': outOfRange || null }, true);\n                this.previousDate = outOfRange;\n                this.createCalendar();\n            }\n            if (Browser.isDevice) {\n                this.mobilePopupWrapper = this.createElement('div', { className: 'e-datepick-mob-popup-wrap' });\n                document.body.appendChild(this.mobilePopupWrapper);\n            }\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_1 = false;\n                },\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n            };\n            var eventArgs = this.preventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                _this.preventArgs = eventArgs;\n                if (prevent_1 && !_this.preventArgs.cancel) {\n                    addClass(_this.inputWrapper.buttons, ACTIVE);\n                    _this.preventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupObj.refreshPosition(_this.inputElement);\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: Browser.isDevice ? 0 : OPENDURATION\n                    };\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    _super.prototype.setOverlayIndex.call(_this, _this.mobilePopupWrapper, _this.popupObj.element, _this.modal, Browser.isDevice);\n                    _this.setAriaAttributes();\n                }\n                else {\n                    _this.popupObj.destroy();\n                    _this.popupWrapper = _this.popupObj = null;\n                }\n                if (!isNullOrUndefined(_this.inputElement) && _this.inputElement.value === '') {\n                    if (!isNullOrUndefined(_this.tableBodyElement) && _this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n                        addClass([_this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n                        removeClass(_this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n                    }\n                }\n                EventHandler.add(document, 'mousedown touchstart', _this.documentHandler, _this);\n            });\n        }\n    };\n    /**\n     * Hide the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    DatePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var prevent_2 = true;\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_2 = false;\n                },\n                popup: this.popupObj,\n                event: event || null,\n                cancel: false\n            };\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n            removeClass([document.body], OVERFLOW);\n            var eventArgs = this.preventArgs;\n            if (this.isCalendar()) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventCallback(prevent_2, eventArgs);\n                });\n            }\n            else {\n                this.closeEventCallback(prevent_2, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    DatePicker.prototype.closeEventCallback = function (prevent, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (this.isCalendar() && (prevent && !this.preventArgs.cancel)) {\n            this.popupObj.hide();\n            this.isAltKeyPressed = false;\n            this.keyboardModule.destroy();\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n        }\n        this.setAriaAttributes();\n        if (Browser.isDevice && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n        if (Browser.isDevice) {\n            if (!isNullOrUndefined(this.mobilePopupWrapper)) {\n                this.mobilePopupWrapper.remove();\n                this.mobilePopupWrapper = null;\n            }\n        }\n        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    /* eslint-disable jsdoc/require-param */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DatePicker.prototype.focusIn = function (triggerEvent) {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    /* eslint-enable jsdoc/require-param */\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DatePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.blur();\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the DatePicker.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    DatePicker.prototype.currentView = function () {\n        var currentView;\n        if (this.calendarElement) {\n            // calls the Calendar currentView public method\n            currentView = _super.prototype.currentView.call(this);\n        }\n        return currentView;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Navigates to specified month or year or decade view of the DatePicker.\n     *\n     * @param  {string} view - Specifies the view of the calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @deprecated\n     */\n    DatePicker.prototype.navigateTo = function (view, date) {\n        if (this.calendarElement) {\n            // calls the Calendar navigateTo public method\n            _super.prototype.navigateTo.call(this, view, date);\n        }\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DatePicker.prototype.destroy = function () {\n        this.unBindEvents();\n        _super.prototype.destroy.call(this);\n        this.keyboardModules.destroy();\n        if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n            _super.prototype.destroy.call(this);\n        }\n        var ariaAttrs = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-disabled': 'true',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            this.ensureInputAttribute();\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObj = this.popupWrapper = null;\n            this.keyboardModule.destroy();\n        }\n        if (this.ngTag === null) {\n            if (this.inputElement) {\n                this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n                removeClass([this.inputElement], [INPUTROOT]);\n            }\n            removeClass([this.element], [ROOT$1]);\n            detach(this.inputWrapper.container);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    };\n    DatePicker.prototype.ensureInputAttribute = function () {\n        var prop = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            prop[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < prop.length; i++) {\n            if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(prop[i]);\n            }\n            else {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n                }\n                this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n            }\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.preRender = function () {\n        this.inputElementCopy = this.element.cloneNode(true);\n        removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.formElement = closest(this.inputElement, 'form');\n        this.index = this.showClearButton ? 2 : 1;\n        this.ngTag = null;\n        if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.ngTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        if (this.element.getAttribute('id')) {\n            if (this.ngTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            if (this.getModuleName() === 'datetimepicker') {\n                this.element.id = getUniqueID('ej2-datetimepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n            else {\n                this.element.id = getUniqueID('ej2-datepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n        }\n        if (this.ngTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.checkHtmlAttributes(false);\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        _super.prototype.preRender.call(this);\n    };\n    DatePicker.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            altUpArrow: 'alt+uparrow',\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            shiftTab: 'shift+tab',\n            tab: 'tab'\n        };\n        return this.defaultKeyConfigs;\n    };\n    DatePicker.prototype.validationAttribute = function (target, inputElement) {\n        var nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        inputElement.setAttribute('name', nameAttribute);\n        target.removeAttribute('name');\n        var attribute = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attribute.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attribute[i]);\n            inputElement.setAttribute(attribute[i], attr);\n            target.removeAttribute(attribute[i]);\n        }\n    };\n    DatePicker.prototype.checkFormat = function () {\n        var culture = new Internationalization(this.locale);\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'dateTime' });\n                }\n                else {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'date' });\n                }\n            }\n            else {\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = this.dateTimeFormat;\n                }\n                else {\n                    this.formatString = null;\n                }\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DatePicker.prototype.checkHtmlAttributes = function (dynamic) {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        var attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n        var options;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['enabled'] === undefined)) || dynamic)) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !dynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['readonly'] === undefined)) || dynamic)) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !dynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['placeholder'] === undefined)) || dynamic)) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !dynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'value':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['value'] === undefined)) || dynamic)) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((+this.min === +new Date(1900, 0, 1)) || dynamic) {\n                            var min = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n                        }\n                        break;\n                    case 'max':\n                        if ((+this.max === +new Date(2099, 11, 31)) || dynamic) {\n                            var max = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DatePicker.prototype.getModuleName = function () {\n        return 'datepicker';\n    };\n    DatePicker.prototype.disabledDates = function () {\n        var formatOptions;\n        var globalize;\n        var valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n        var previousValCopy = this.previousDate;\n        //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n        this.minMaxUpdates();\n        _super.prototype.render.call(this);\n        this.previousDate = previousValCopy;\n        var date = valueCopy && +(valueCopy);\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n        if (!this.strictMode) {\n            if (typeof this.value === 'string' || ((typeof this.value === 'object') && (+this.value) !== (+valueCopy))) {\n                this.setProperties({ value: valueCopy }, true);\n            }\n        }\n        if (!isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n            if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n                if (!this.strictMode) {\n                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                }\n            }\n        }\n        var inputVal;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                });\n            }\n            else {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                });\n            }\n            inputVal = globalize;\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n        }\n        if (!this.popupObj) {\n            this.updateInputValue(inputVal);\n            if (this.enableMask) {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify(\"createMask\", {\n                    module: \"MaskedDateTime\",\n                });\n            }\n        }\n    };\n    DatePicker.prototype.setAriaAttributes = function () {\n        if (this.isCalendar()) {\n            Input.addAttributes({ 'aria-expanded': 'true' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-owns': this.inputElement.id + '_options' });\n            if (this.value) {\n                attributes(this.inputElement, { 'aria-activedescendant': '' + this.setActiveDescendant() });\n            }\n        }\n        else {\n            Input.addAttributes({ 'aria-expanded': 'false' }, this.inputElement);\n            this.inputElement.removeAttribute('aria-owns');\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    DatePicker.prototype.errorClass = function () {\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + (+this.value));\n        var isDisabledDate = this.calendarElement &&\n            this.calendarElement.querySelectorAll(dateIdString)[0] &&\n            this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n        if ((!isNullOrUndefined(this.value) && !(+new Date(+this.value).setMilliseconds(0) >= +this.min\n            && +new Date(+this.value).setMilliseconds(0) <= +this.max))\n            || (!this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate)) {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            removeClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'false' });\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.isInteracted = false;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    this.previousElementValue = this.inputElement.value;\n                    if (isNullOrUndefined(this.value)) {\n                        this.updateInputValue('');\n                        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                    }\n                    this.updateInput(true);\n                    if (+this.previousDate !== +this.value) {\n                        this.changeTrigger(null);\n                    }\n                    this.isInteracted = true;\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'format':\n                    this.checkFormat();\n                    this.bindInputEvent();\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setAllowEdit();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.setAriaDisabled();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'start':\n                case 'depth':\n                    this.checkView();\n                    if (this.calendarElement) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    this.index = this.showClearButton ? 2 : 1;\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                        this.bindInputEvent();\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n                default:\n                    if (this.calendarElement && this.isCalendar()) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n            }\n            if (!this.isDynamicValueChanged && !this.isIconClicked) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    };\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"width\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"value\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"cssClass\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"strictMode\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"format\", void 0);\n    __decorate$1([\n        Property(true)\n    ], DatePicker.prototype, \"enabled\", void 0);\n    __decorate$1([\n        Property({})\n    ], DatePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"values\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate$1([\n        Property(true)\n    ], DatePicker.prototype, \"showClearButton\", void 0);\n    __decorate$1([\n        Property(true)\n    ], DatePicker.prototype, \"allowEdit\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$1([\n        Property(1000)\n    ], DatePicker.prototype, \"zIndex\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"readonly\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"placeholder\", void 0);\n    __decorate$1([\n        Property('Never')\n    ], DatePicker.prototype, \"floatLabelType\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"enableMask\", void 0);\n    __decorate$1([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], DatePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"open\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"cleared\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"close\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"blur\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"focus\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"created\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"destroyed\", void 0);\n    DatePicker = __decorate$1([\n        NotifyPropertyChanges\n    ], DatePicker);\n    return DatePicker;\n}(Calendar));\n\n/**\n * Datepicker modules\n */\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER$1 = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP$1 = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT$2 = 'e-daterangepicker';\nvar LIBRARY$1 = 'e-lib';\nvar CONTROL$1 = 'e-control';\nvar ERROR$1 = 'e-error';\nvar ACTIVE$1 = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS$1 = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH$2 = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED$2 = 'e-disabled';\nvar SELECTED$3 = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON$1 = 'e-next';\nvar PREVICON$1 = 'e-prev';\nvar HEADER$1 = 'e-header';\nvar TITLE$1 = 'e-title';\nvar ICONCONTAINER$1 = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER$1 = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY$2 = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT$1 = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER$2 = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE$1 = 'e-device';\nvar OVERLAY$2 = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = 'e-list-item';\nvar RTL$1 = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW$1 = 'e-range-overflow';\nvar OFFSETVALUE$1 = 4;\nvar PRIMARY$1 = 'e-primary';\nvar FLAT$1 = 'e-flat';\nvar CSS$1 = 'e-css';\nvar ZOOMIN$1 = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\nvar Presets = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(Presets, _super);\n    function Presets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property()\n    ], Presets.prototype, \"label\", void 0);\n    __decorate$2([\n        Property()\n    ], Presets.prototype, \"start\", void 0);\n    __decorate$2([\n        Property()\n    ], Presets.prototype, \"end\", void 0);\n    return Presets;\n}(ChildProperty));\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\nvar DateRangePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(DateRangePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DateRangePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isCustomRange = false;\n        _this.isCustomWindow = false;\n        _this.presetsItem = [];\n        _this.liCollections = [];\n        _this.previousEleValue = '';\n        _this.isKeyPopup = false;\n        _this.dateDisabled = false;\n        _this.isRangeIconClicked = false;\n        _this.isMaxDaysClicked = false;\n        _this.disabledDays = [];\n        _this.preventBlur = false;\n        _this.preventFocus = false;\n        _this.invalidValueString = null;\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.isPropChanged = false;\n        _this.dateRangeOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DateRangePicker.prototype.render = function () {\n        this.initialize();\n        this.setProperties({ startDate: this.startValue }, true);\n        this.setProperties({ endDate: this.endValue }, true);\n        this.setModelValue();\n        this.setDataAttribute(false);\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    DateRangePicker.prototype.preRender = function () {\n        this.keyInputConfigs = {\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            tab: 'tab',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            spacebar: 'space'\n        };\n        this.defaultConstant = {\n            placeholder: this.placeholder,\n            startLabel: 'Start Date',\n            endLabel: 'End Date',\n            customRange: 'Custom Range',\n            applyText: 'Apply',\n            cancelText: 'Cancel',\n            selectedDays: 'Selected Days',\n            days: 'days'\n        };\n        /**\n         * Mobile View\n         */\n        this.isMobile = window.matchMedia('(max-width:550px)').matches;\n        this.inputElement = this.element;\n        this.angularTag = null;\n        if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n        this.updateHtmlAttributeToElement();\n        if (this.element.getAttribute('id')) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            this.element.id = getUniqueID('ej2-datetimepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        this.checkInvalidRange(this.value);\n        if (!this.invalidValueString && (typeof (this.value) === 'string')) {\n            var rangeArray = this.value.split(' ' + this.separator + ' ');\n            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n        }\n        this.initProperty();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        _super.prototype.preRender.call(this);\n        this.navNextFunction = this.navNextMonth.bind(this);\n        this.navPrevFunction = this.navPrevMonth.bind(this);\n        this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n        this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.formElement = closest(this.element, 'form');\n    };\n    DateRangePicker.prototype.updateValue = function () {\n        if (this.value && this.value.length > 0) {\n            if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n                this.setProperties({ startDate: this.value[0] }, true);\n                this.startValue = this.value[0];\n            }\n            else if (typeof this.value[0] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ startDate: new Date(this.checkValue(this.value[0])) }, true);\n                    this.startValue = new Date(this.checkValue(this.value[0]));\n                }\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n                this.setProperties({ endDate: this.value[1] }, true);\n                this.endValue = this.value[1];\n            }\n            else if (typeof this.value[1] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.setProperties({ endDate: null }, true);\n                    this.endValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ endDate: new Date(this.checkValue(this.value[1])) }, true);\n                    this.endValue = new Date(this.checkValue(this.value[1]));\n                    this.setValue();\n                }\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (this.value && this.value.start) {\n            if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n                this.setProperties({ startDate: this.value.start }, true);\n                this.startValue = this.value.start;\n            }\n            else if (typeof this.value.start === 'string') {\n                this.setProperties({ startDate: new Date(this.checkValue(this.value.start)) }, true);\n                this.startValue = new Date(this.checkValue(this.value.start));\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n                this.setProperties({ endDate: this.value.end }, true);\n                this.endValue = this.value.end;\n            }\n            else if (typeof this.value.end === 'string') {\n                this.setProperties({ endDate: new Date(this.checkValue(this.value.end)) }, true);\n                this.endValue = new Date(this.checkValue(this.value.end));\n                this.setValue();\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (isNullOrUndefined(this.value)) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n            this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n            this.setValue();\n        }\n    };\n    DateRangePicker.prototype.initProperty = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.updateValue();\n    };\n    DateRangePicker.prototype.checkFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ skeleton: skeletonString, type: 'date' });\n            }\n            else {\n                this.formatString = null;\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DateRangePicker.prototype.initialize = function () {\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.checkHtmlAttributes(false);\n        merge(this.defaultKeyConfigs, { shiftTab: 'shift+tab', tab: 'tab' });\n        var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n        this.setProperties({ startDate: start }, true); // persist the value propeerty.\n        this.setProperties({ endValue: this.checkDateValue(new Date(this.checkValue(this.endValue))) }, true);\n        this.setValue();\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.processPresets();\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setRangeAllowEdit();\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.setDataAttribute = function (isDynamic) {\n        var attributes$$1 = {};\n        if (!isDynamic) {\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                attributes$$1[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n            }\n        }\n        else {\n            attributes$$1 = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attributes$$1); _i < _a.length; _i++) {\n            var pro = _a[_i];\n            if (pro.indexOf('data') === 0) {\n                this.firstHiddenChild.setAttribute(pro, attributes$$1[pro]);\n                this.secondHiddenChild.setAttribute(pro, attributes$$1[pro]);\n            }\n        }\n    };\n    DateRangePicker.prototype.setRangeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateClearIconState();\n    };\n    DateRangePicker.prototype.updateClearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDITABLE]);\n        }\n    };\n    DateRangePicker.prototype.validationAttribute = function (element, input) {\n        var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n        input.setAttribute('name', name);\n        element.removeAttribute('name');\n        var attributes$$1 = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            var attr = element.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            element.removeAttribute(attributes$$1[i]);\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n                        dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? (dateRangeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateCssClass = function (cssNewClass, cssOldClass) {\n        if (!isNullOrUndefined(cssOldClass)) {\n            cssOldClass = (cssOldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssNewClass)) {\n            cssNewClass = (cssNewClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n        }\n    };\n    DateRangePicker.prototype.processPresets = function () {\n        this.presetsItem = [];\n        var i = 0;\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\n                var range = _a[_i];\n                var id = range.label.replace(/\\s+/g, '') + '_' + (++i);\n                if (typeof range.end === 'string') {\n                    this.presetsItem.push({\n                        id: id, text: range.label, end: new Date(this.checkValue(range.end)), start: new Date(this.checkValue(range.start))\n                    });\n                }\n                else {\n                    this.presetsItem.push({ id: id, text: range.label, start: range.start, end: range.end });\n                }\n            }\n            var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n            var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n            this.presetsItem.push({ id: 'custom_range', text: this.l10n.getConstant('customRange'), start: startDate, end: endDate });\n            if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n                this.isCustomRange = true;\n                this.activeIndex = this.presetsItem.length - 1;\n            }\n        }\n    };\n    DateRangePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n        if (!this.isMobile) {\n            this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n            this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n                eventName: 'keydown',\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyInputConfigs\n            });\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (this.enabled) {\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    DateRangePicker.prototype.unBindEvents = function () {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.inputKeyboardModule)) {\n                this.inputKeyboardModule.destroy();\n            }\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        this.inputElement.tabIndex = -1;\n    };\n    DateRangePicker.prototype.updateHiddenInput = function () {\n        if (this.firstHiddenChild && this.secondHiddenChild) {\n            var format = { type: 'datetime', skeleton: 'yMd' };\n            if (typeof this.startDate === 'string') {\n                this.startDate = this.globalize.parseDate(this.startDate, format);\n            }\n            if (typeof this.endDate === 'string') {\n                this.endDate = this.globalize.parseDate(this.endDate, format);\n            }\n            this.firstHiddenChild.value = (this.startDate && this.globalize.formatDate(this.startDate, format))\n                || (this.inputElement.value);\n            this.secondHiddenChild.value = (this.endDate && this.globalize.formatDate(this.endDate, format)) ||\n                (this.inputElement.value);\n            this.dispatchEvent(this.firstHiddenChild, 'focusout');\n            this.dispatchEvent(this.firstHiddenChild, 'change');\n        }\n    };\n    DateRangePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DateRangePicker.prototype.resetHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.valueType = this.value;\n        e.preventDefault();\n        this.clear();\n        var clearedArgs = {\n            event: e\n        };\n        this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n        this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n        this.trigger('cleared', clearedArgs);\n        this.changeTrigger(e);\n        this.clearRange();\n        this.hide(e);\n    };\n    DateRangePicker.prototype.restoreValue = function () {\n        this.previousEleValue = this.inputElement.value;\n        this.previousStartValue = this.startValue;\n        this.previousEndValue = this.endValue;\n        this.valueType = null;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.setValue();\n        this.setModelValue();\n    };\n    DateRangePicker.prototype.formResetHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.formElement && (e.target === this.formElement) && !this.inputElement.disabled) {\n            var val = this.inputElement.getAttribute('value');\n            if (!isNullOrUndefined(this.startCopy)) {\n                if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n                    this.setProperties({ value: { start: this.startCopy, end: this.endCopy } }, true);\n                    this.startValue = this.value.start;\n                    this.endValue = this.value.end;\n                }\n                else {\n                    this.setProperties({ value: [this.startCopy, this.endCopy] }, true);\n                    this.startValue = this.value[0];\n                    this.endValue = this.value[1];\n                }\n                this.setProperties({ startDate: this.startValue, endDate: this.endValue }, true);\n            }\n            else {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                this.startValue = this.endValue = null;\n            }\n            if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                val = '';\n                this.startValue = this.endValue = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.restoreValue();\n            if (this.inputElement) {\n                Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.errorClass();\n            }\n        }\n    };\n    DateRangePicker.prototype.clear = function () {\n        if (this.startValue !== null) {\n            this.startValue = null;\n        }\n        if (this.endValue !== null) {\n            this.endValue = null;\n        }\n        if (this.value && this.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        if (this.value !== null && this.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        if (!(isNullOrUndefined(this.applyButton))) {\n            this.applyButton.disabled = this.applyButton.element.disabled = true;\n        }\n        this.removeSelection();\n    };\n    DateRangePicker.prototype.rangeIconHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isMobile) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        this.targetElement = null;\n        if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n            this.applyFunction(e);\n        }\n        else {\n            this.isRangeIconClicked = true;\n            this.inputWrapper.container.children[0].focus();\n            this.show(null, e);\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.leftCalendar)) {\n                    this.isRangeIconClicked = false;\n                    this.calendarFocus();\n                    this.isRangeIconClicked = true;\n                }\n            }\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n    };\n    DateRangePicker.prototype.checkHtmlAttributes = function (isDynamic) {\n        this.globalize = new Internationalization(this.locale);\n        var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder',\n                'type', 'value'];\n        var format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['enabled'] === undefined)) || isDynamic) {\n                            var disabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ enabled: !disabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['value'] === undefined)) || isDynamic) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, value, {}), !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'startDate':\n                        if (isNullOrUndefined(this.startDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.startValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'endDate':\n                        if (isNullOrUndefined(this.endDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.endValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'minDays':\n                        if (isNullOrUndefined(this.minDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'maxDays':\n                        if (isNullOrUndefined(this.maxDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createPopup = function () {\n        for (var i = 0; i < this.presetsItem.length; i++) {\n            if ((i !== (this.presetsItem.length - 1)) && this.presetsItem[i].id === 'custom_range') {\n                this.presetsItem.splice(i, 1);\n            }\n        }\n        this.activeIndex = this.presetsItem.length - 1;\n        this.isCustomRange = true;\n        for (var i = 0; i <= this.presetsItem.length - 2; i++) {\n            var startDate = this.presetsItem[i].start;\n            var endDate = this.presetsItem[i].end;\n            if (this.startValue && this.endValue) {\n                if ((+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0))) &&\n                    (+new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0)))) {\n                    this.activeIndex = i;\n                    this.isCustomRange = false;\n                }\n            }\n        }\n        this.popupWrapper = createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.adjustLongHeaderWidth();\n        var isPreset = (!this.isCustomRange || this.isMobile);\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n            this.isCustomWindow = false;\n            this.createPresets();\n            this.listRippleEffect();\n            this.renderPopup();\n        }\n        else {\n            this.isCustomWindow = true;\n            this.renderControl();\n        }\n    };\n    DateRangePicker.prototype.renderControl = function () {\n        this.createControl();\n        this.bindCalendarEvents();\n        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            this.disabledDateRender();\n        }\n        this.updateHeader();\n    };\n    DateRangePicker.prototype.clearCalendarEvents = function () {\n        EventHandler.clearEvents(this.leftCalPrevIcon);\n        EventHandler.clearEvents(this.leftCalNextIcon);\n        EventHandler.clearEvents(this.rightCalPrevIcon);\n        EventHandler.clearEvents(this.rightCalNextIcon);\n    };\n    DateRangePicker.prototype.updateNavIcons = function () {\n        _super.prototype.iconHandler.call(this);\n    };\n    DateRangePicker.prototype.calendarIconEvent = function () {\n        this.clearCalendarEvents();\n        if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n        if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n    };\n    DateRangePicker.prototype.bindCalendarEvents = function () {\n        if (!this.isMobile) {\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n            this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.deviceCalendarEvent();\n            EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n            EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n        }\n        if (this.start === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.calendarIconRipple = function () {\n        rippleEffect(this.leftCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.leftCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n    };\n    DateRangePicker.prototype.deviceCalendarEvent = function () {\n        EventHandler.clearEvents(this.nextIcon);\n        EventHandler.clearEvents(this.previousIcon);\n        rippleEffect(this.nextIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.previousIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n        }\n        if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n        }\n    };\n    DateRangePicker.prototype.deviceNavNext = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigateNext(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.deviceNavPrevious = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigatePrevious(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.updateDeviceCalendar = function (calendar) {\n        if (calendar) {\n            this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n            this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n            this.calendarElement = calendar;\n            this.deviceCalendar = calendar;\n            this.contentElement = calendar.querySelector('.' + CONTENT$1);\n            this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n            this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n            this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n            this.headerElement = calendar.querySelector('.' + HEADER$1);\n        }\n    };\n    DateRangePicker.prototype.deviceHeaderClick = function (event) {\n        var element = event.currentTarget;\n        if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n            this.endButton.element.classList.remove(ACTIVE$1);\n            this.startButton.element.classList.add(ACTIVE$1);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.startValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.removeClassDisabled();\n        }\n        else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.startButton.element.classList.remove(ACTIVE$1);\n            this.endButton.element.classList.add(ACTIVE$1);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.endValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            this.selectableDates();\n        }\n    };\n    DateRangePicker.prototype.inputFocusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        this.preventBlur = false;\n        var focusArguments = {\n            model: this\n        };\n        if (!this.preventFocus) {\n            this.trigger('focus', focusArguments);\n        }\n        this.updateClearIconState();\n        this.updateHiddenInput();\n        if (this.openOnFocus && !this.preventFocus) {\n            this.preventFocus = true;\n            this.show();\n        }\n        else {\n            this.preventFocus = true;\n        }\n    };\n    DateRangePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.preventBlur) {\n            var value = this.inputElement.value;\n            if (!isNullOrUndefined(this.presetsItem)) {\n                if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n                    this.activeIndex = this.presetsItem.length - 1;\n                    this.isCustomRange = true;\n                }\n            }\n            if (!isNullOrUndefined(value) && value.trim() !== '') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length > 1) {\n                    this.invalidValueString = null;\n                    var dateOptions = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n                    var startDate = this.globalize.parseDate(range[0].trim(), dateOptions);\n                    var endDate = this.globalize.parseDate(range[1].trim(), dateOptions);\n                    if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n                        var prevStartVal = this.startValue;\n                        this.startValue = startDate;\n                        var prevEndVal = this.endValue;\n                        this.endValue = endDate;\n                        this.setValue();\n                        this.refreshControl();\n                        if (value !== this.previousEleValue) {\n                            this.changeTrigger(e);\n                        }\n                        if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                            this.preventFocus = false;\n                            var blurArguments = {\n                                model: this\n                            };\n                            this.trigger('blur', blurArguments);\n                        }\n                        this.updateHiddenInput();\n                        // For Mobile mode, when a value is present and choose another range and click on console\n                        // when popup is open, two startvalues and end values are updated in the popup.\n                        if (this.isMobile && this.isPopupOpen()) {\n                            this.startValue = prevStartVal;\n                            this.endValue = prevEndVal;\n                        }\n                        return;\n                    }\n                    else {\n                        if (!this.strictMode) {\n                            this.startValue = null;\n                            this.endValue = null;\n                            this.setValue();\n                        }\n                    }\n                }\n                else {\n                    if (!this.strictMode) {\n                        this.startValue = null;\n                        this.endValue = null;\n                        this.setValue();\n                    }\n                }\n            }\n            if (!this.strictMode) {\n                if (isNullOrUndefined(this.popupObj)) {\n                    this.currentDate = null;\n                }\n                this.previousStartValue = this.previousEndValue = null;\n                this.startValue = null;\n                this.endValue = null;\n                this.setValue();\n            }\n            else {\n                if (!isNullOrUndefined(value) && value.trim() === '') {\n                    this.startValue = null;\n                    this.endValue = null;\n                }\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n                this.updateInput();\n            }\n            this.errorClass();\n            this.changeTrigger(e);\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                this.preventFocus = false;\n                var blurArguments = {\n                    model: this\n                };\n                this.trigger('blur', blurArguments);\n            }\n        }\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.clearRange = function () {\n        this.previousStartValue = this.previousEndValue = null;\n        this.currentDate = null;\n    };\n    DateRangePicker.prototype.errorClass = function () {\n        var inputStr = this.inputElement.value.trim();\n        if (((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '') ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max))\n            || ((this.startValue && this.isDateDisabled(this.startValue))\n                || (this.endValue && this.isDateDisabled(this.endValue)))) && inputStr !== '') {\n            addClass([this.inputWrapper.container], ERROR$1);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            if (this.inputWrapper) {\n                removeClass([this.inputWrapper.container], ERROR$1);\n                attributes(this.inputElement, { 'aria-invalid': 'false' });\n            }\n        }\n    };\n    DateRangePicker.prototype.keyCalendarUpdate = function (isLeftCalendar, ele, isRemoveFocus) {\n        if (isRemoveFocus === void 0) { isRemoveFocus = true; }\n        if (isRemoveFocus) {\n            this.removeFocusedDate();\n        }\n        if (isLeftCalendar) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            ele = this.leftCalendar;\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            ele = this.rightCalendar;\n        }\n        this.updateCalendarElement(ele);\n        this.table.focus();\n        return ele;\n    };\n    DateRangePicker.prototype.navInCalendar = function (e, isLeftCalendar, leftLimit, rightLimit, ele) {\n        var view = this.getViewNumber(this.currentView());\n        var date;\n        var min = this.min;\n        var max;\n        if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n            max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n        }\n        else {\n            max = this.max;\n        }\n        switch (e.action) {\n            case 'moveRight':\n                date = new Date(+this.currentDate);\n                this.addDay(date, 1, e, max, min);\n                if (isLeftCalendar && +date === +rightLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.keyboardNavigate(1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveLeft':\n                date = new Date(+this.currentDate);\n                this.addDay(date, -1, e, max, min);\n                if (!isLeftCalendar) {\n                    if (+date === +leftLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                }\n                this.keyboardNavigate(-1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, -7, e, max, min);\n                    if (+date <= +leftLimit && !isLeftCalendar) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    this.keyboardNavigate(-7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, 7, e, max, min);\n                    if (isLeftCalendar && +date >= +rightLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    this.keyboardNavigate(7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'tab':\n                if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n                    ele = this.keyCalendarUpdate(false, ele, false);\n                    var focusedCell = ele.querySelector('.e-focused-date');\n                    if (isNullOrUndefined(focusedCell)) {\n                        this.currentDate = this.firstCellToFocus(this.rightCalendar);\n                    }\n                    this.keyboardNavigate(0, view, e, max, min);\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'shiftTab':\n                if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n                    ele = this.keyCalendarUpdate(true, ele, false);\n                    var focusedCell = ele.querySelector('.e-focused-date');\n                    if (isNullOrUndefined(focusedCell)) {\n                        this.currentDate = this.firstCellToFocus(this.leftCalendar);\n                    }\n                    this.keyboardNavigate(0, view, e, max, min);\n                    this.keyNavigation(ele, e);\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.firstCellToFocus = function (calendar) {\n        var focusAbleEle = calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)');\n        var focusEleID = focusAbleEle && focusAbleEle.id ? focusAbleEle.id.split('_')[0] : null;\n        var currentFirstDay = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1);\n        var focusDate = focusEleID ? new Date(+focusEleID) : currentFirstDay;\n        return focusDate;\n    };\n    DateRangePicker.prototype.keyInputHandler = function (e, value) {\n        var date;\n        var view = this.getViewNumber(this.currentView());\n        var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n        var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n        var ele = closest(e.target, '.' + RIGHTCALENDER);\n        ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n        var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n        this.updateCalendarElement(ele);\n        var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n        var startDate = ele.querySelector('tr td.' + STARTDATE);\n        var endDate = ele.querySelector('tr td.' + ENDDATE);\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n        var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n        var presetElement = closest(e.target, '.' + PRESETS);\n        if (!isNullOrUndefined(focusedDate)) {\n            // eslint-disable-next-line no-self-assign\n            this.currentDate = this.currentDate;\n        }\n        else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.startValue);\n        }\n        else if (!this.dateDisabled) {\n            this.currentDate.setDate(1);\n        }\n        this.effect = '';\n        switch (e.action) {\n            case 'altUpArrow':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                    this.preventFocus = true;\n                    this.inputElement.focus();\n                    addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n                }\n                break;\n            case 'select':\n                if (levelRestrict) {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n                        this.selectRange(null, (element));\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n                        if (!isNullOrUndefined(this.value)) {\n                            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                                value = this.startDate;\n                            }\n                            else {\n                                value = this.endDate;\n                            }\n                        }\n                        this.controlDown = e;\n                        this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                {\n                    var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n                    if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else if (!isNullOrUndefined(rightCalendar)) {\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.presetElement.focus();\n                        this.removeFocusedDate();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(presetElement)) {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    if (this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(rightCalendar)) {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlUp':\n                if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                else {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n                    if (!isNullOrUndefined(this.value)) {\n                        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                            value = this.startDate;\n                        }\n                        else {\n                            value = this.endDate;\n                        }\n                    }\n                    this.controlDown = e;\n                    this.contentClick(null, --view, (selectedDate || focusedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                {\n                    var yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n                    if (isLeftCalendar && +yearDate > +rightDateLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'pageUp':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addMonths(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageDown':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addMonths(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageUp':\n                date = new Date(+this.currentDate);\n                this.addYears(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addYears(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageDown':\n                date = new Date(+this.currentDate);\n                this.addYears(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addYears(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftTab':\n                if (!isNullOrUndefined(this.presetElement)) {\n                    this.presetElement.setAttribute('tabindex', '0');\n                    this.presetElement.focus();\n                    this.removeFocusedDate();\n                }\n                if (isLeftCalendar) {\n                    e.preventDefault();\n                }\n                if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n                    this.currentDate = new Date(+this.leftCalCurrentDate);\n                    this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                }\n                break;\n            case 'spacebar':\n                if (this.applyButton && !this.applyButton.disabled) {\n                    this.applyFunction(e);\n                }\n                break;\n            case 'tab':\n                if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n                    this.currentDate = new Date(+this.rightCalCurrentDate);\n                    this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                }\n                break;\n            default:\n                this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                this.checkMinMaxDays();\n        }\n        this.presetHeight();\n    };\n    DateRangePicker.prototype.tabKeyValidation = function (ele, calendarPos) {\n        var isLeftCalendar = ele.classList.contains(calendarPos);\n        var rightHeader = this.rightCalendar.querySelector('.e-header');\n        var leftHeader = this.leftCalendar.querySelector('.e-header');\n        var isRightMonth = rightHeader ? rightHeader.classList.contains('e-month') : false;\n        var isLeftMonth = leftHeader ? leftHeader.classList.contains('e-month') : false;\n        return isLeftCalendar && isLeftMonth && isRightMonth && !this.isMobile;\n    };\n    DateRangePicker.prototype.keyNavigation = function (calendar, e) {\n        this.bindCalendarCellEvents(calendar);\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        this.updateRange([calendar]);\n        this.dateDisabled = this.isDateDisabled(this.currentDate);\n        e.preventDefault();\n    };\n    DateRangePicker.prototype.inputHandler = function (e) {\n        switch (e.action) {\n            case 'altDownArrow':\n                if (!this.isPopupOpen()) {\n                    if (this.inputElement.value === '') {\n                        this.clear();\n                        this.changeTrigger(e);\n                        this.clearRange();\n                    }\n                    this.show(null, e);\n                    this.isRangeIconClicked = false;\n                    if (!this.isMobile) {\n                        if (!isNullOrUndefined(this.leftCalendar)) {\n                            this.calendarFocus();\n                        }\n                    }\n                    this.isKeyPopup = true;\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                }\n                break;\n            case 'enter':\n                if (document.activeElement === this.inputElement) {\n                    this.inputBlurHandler(e);\n                    this.hide(e);\n                }\n                break;\n            case 'tab':\n                if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.bindCalendarCellEvents = function (calendar) {\n        var tdCells;\n        if (calendar) {\n            tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        else {\n            tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        for (var _i = 0, tdCells_1 = tdCells; _i < tdCells_1.length; _i++) {\n            var cell = tdCells_1[_i];\n            EventHandler.clearEvents(cell);\n            var disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n            if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n                if (!this.isMobile) {\n                    EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n                }\n                EventHandler.add(cell, 'mousedown', this.selectRange, this);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeFocusedDate = function () {\n        var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n        var focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n        for (var _i = 0, focusedDate_1 = focusedDate; _i < focusedDate_1.length; _i++) {\n            var ele = focusedDate_1[_i];\n            var today = new Date();\n            var eleDate = this.getIdValue(null, ele);\n            if ((this.depth === 'Month' && this.currentView() === 'Month' &&\n                (!ele.classList.contains(TODAY$2) || (ele.classList.contains(TODAY$2) && isDate)))\n                || (this.depth === 'Year' && this.currentView() === 'Year' &&\n                    ((!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate)) || isDate))\n                || (this.depth === 'Decade' && this.currentView() === 'Decade' &&\n                    (!this.isSameYear(today, eleDate) || isDate))) {\n                ele.classList.remove(FOCUSDATE);\n                if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n                    ele.removeAttribute('aria-label');\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.hoverSelection = function (event, element) {\n        var currentElement = element || event.currentTarget;\n        var currentDate = this.getIdValue(null, currentElement);\n        if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n            if ((!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)\n                && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue))\n                || (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _i = 0, tdCells_2 = tdCells; _i < tdCells_2.length; _i++) {\n                    var ele = tdCells_2[_i];\n                    var isDisabledCell = (!ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED));\n                    if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var startDateValue = new Date(+this.startValue);\n                        var eleDateValue = new Date(+eleDate);\n                        if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n                            addClass([ele], RANGEHOVER);\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.isSameStartEnd = function (startVal, endVal) {\n        var isSame = false;\n        if (this.depth === 'Month') {\n            if ((startVal).setHours(0, 0, 0, 0) === (endVal).setHours(0, 0, 0, 0)) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Year') {\n            if ((startVal.getFullYear() === endVal.getFullYear()) &&\n                (startVal.getMonth() === endVal.getMonth())) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Decade') {\n            if (startVal.getFullYear() === endVal.getFullYear()) {\n                isSame = true;\n            }\n        }\n        return isSame;\n    };\n    DateRangePicker.prototype.updateRange = function (elementCollection) {\n        if (!isNullOrUndefined(this.startValue)) {\n            for (var _i = 0, elementCollection_1 = elementCollection; _i < elementCollection_1.length; _i++) {\n                var calendar = elementCollection_1[_i];\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _a = 0, tdCells_3 = tdCells; _a < tdCells_3.length; _a++) {\n                    var ele = tdCells_3[_a];\n                    if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var eleDateValue = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(this.endValue)) {\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) &&\n                                !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) &&\n                                +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min\n                                && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], RANGEHOVER);\n                            }\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) &&\n                            (+eleDateValue !== +this.endValue)) {\n                            removeClass([ele], [SELECTED$3]);\n                            removeClass([ele], [ENDDATE]);\n                        }\n                        if (ele.classList.contains(RANGEHOVER) && (+eleDateValue > +this.endValue)) {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (!ele.classList.contains(OTHERMONTH$2)) {\n                            var startDateValue = new Date(+this.startValue);\n                            var eleDateValue_1 = new Date(+eleDate);\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [STARTDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, true);\n                            }\n                            var endDateValue = new Date(+this.endValue);\n                            if (this.currentView() === 'Year') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), eleDateValue_1.getMonth() + 1, 0);\n                            }\n                            else if (this.currentView() === 'Decade') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), 11, 31);\n                            }\n                            if (this.currentView() === this.depth &&\n                                !isNullOrUndefined(this.endValue) &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [ENDDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, false);\n                            }\n                            if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                                this.addSelectedAttributes(ele, this.endValue, false, true);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.checkMinMaxDays = function () {\n        if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n            if (!this.isMobile) {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n            }\n            else {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            }\n        }\n    };\n    DateRangePicker.prototype.rangeArgs = function (e) {\n        var inputValue;\n        var range;\n        var startDate = !isNullOrUndefined(this.startValue) ?\n            this.globalize.formatDate(this.startValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        var endDate = !isNullOrUndefined(this.endValue) ?\n            this.globalize.formatDate(this.endValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n        }\n        else {\n            inputValue = '';\n            range = 0;\n        }\n        var args = {\n            value: this.value,\n            startDate: this.startValue,\n            endDate: this.endValue,\n            daySpan: range,\n            event: e || null,\n            element: this.element,\n            isInteracted: !isNullOrUndefined(e),\n            text: inputValue\n        };\n        return args;\n    };\n    DateRangePicker.prototype.otherMonthSelect = function (ele, isStartDate, sameDate) {\n        var value = +this.getIdValue(null, ele);\n        var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n        var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n        if (!isNullOrUndefined(tdCell)) {\n            if (isStartDate) {\n                addClass([tdCell], [STARTDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.startValue, true);\n            }\n            else {\n                addClass([tdCell], [ENDDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.endValue, true);\n            }\n            if (sameDate) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n            }\n        }\n    };\n    DateRangePicker.prototype.selectRange = function (event, element) {\n        var leftCalendar;\n        var rightCalendar;\n        if (event) {\n            event.preventDefault();\n        }\n        var date = isNullOrUndefined(event) ? this.getIdValue(null, element)\n            : this.getIdValue(event, null);\n        var y = date.getFullYear();\n        var m = date.getMonth();\n        var firstDay = new Date(y, m, 1);\n        var lastDay = new Date(y, m + 1, 0);\n        var firstMonth = new Date(y, 0, 1);\n        var lastMonth = new Date(y, 11, 31);\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n                this.removeSelection();\n            }\n        }\n        else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n            this.removeSelection();\n        }\n        var ele = element || event.currentTarget;\n        if (isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.previousStartValue)) {\n                date.setHours(this.previousStartValue.getHours());\n                date.setMinutes(this.previousStartValue.getMinutes());\n                date.setSeconds(this.previousStartValue.getSeconds());\n            }\n            this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                (this.depth === 'Year') ? firstDay : firstMonth;\n            this.endValue = null;\n            this.setValue();\n            addClass([ele], STARTDATE);\n            this.addSelectedAttributes(ele, this.startValue, true);\n            if (ele.classList.contains(OTHERMONTH$2)) {\n                this.otherMonthSelect(ele, true);\n            }\n            this.checkMinMaxDays();\n            this.applyButton.disabled = true;\n            this.applyButton.element.disabled = true;\n            if (this.isMobile) {\n                this.endButton.element.classList.add(ACTIVE$1);\n                this.startButton.element.classList.remove(ACTIVE$1);\n                this.endButton.element.removeAttribute('disabled');\n                this.selectableDates();\n            }\n            this.trigger('select', this.rangeArgs(event));\n        }\n        else {\n            if (+date === +this.startValue || +date > +this.startValue) {\n                if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n                    return;\n                }\n                this.endValue = null;\n                this.setValue();\n                if (this.isMobile || element) {\n                    this.hoverSelection(event, element);\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    date.setHours(this.previousEndValue.getHours());\n                    date.setMinutes(this.previousEndValue.getMinutes());\n                    date.setSeconds(this.previousEndValue.getSeconds());\n                }\n                this.endValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? lastDay : lastMonth;\n                this.setValue();\n                var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                if (this.isMobile) {\n                    this.startButton.element.classList.remove(ACTIVE$1);\n                    this.endButton.element.classList.add(ACTIVE$1);\n                    for (var _i = 0, endEle_1 = endEle; _i < endEle_1.length; _i++) {\n                        var ele_1 = endEle_1[_i];\n                        ele_1.removeAttribute('aria-label');\n                        if (!ele_1.classList.contains(STARTDATE)) {\n                            ele_1.setAttribute('aria-selected', 'false');\n                            removeClass([ele_1], [ENDDATE, SELECTED$3]);\n                        }\n                        else {\n                            this.addSelectedAttributes(ele_1, this.startValue, true);\n                            removeClass([ele_1], [ENDDATE]);\n                        }\n                    }\n                }\n                addClass([ele], ENDDATE);\n                if (+this.endValue === +this.startValue) {\n                    this.addSelectedAttributes(ele, this.endValue, false, true);\n                }\n                else {\n                    this.addSelectedAttributes(ele, this.endValue, false);\n                }\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    if (+this.endValue === +this.startValue) {\n                        this.otherMonthSelect(ele, false, true);\n                    }\n                    else {\n                        this.otherMonthSelect(ele, false);\n                    }\n                }\n                endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                for (var _a = 0, endEle_2 = endEle; _a < endEle_2.length; _a++) {\n                    var ele_2 = endEle_2[_a];\n                    if (ele_2.classList.contains(STARTDATE)) {\n                        removeClass([ele_2], [RANGEHOVER]);\n                    }\n                }\n                this.applyButton.disabled = false;\n                this.applyButton.element.disabled = false;\n                if (!this.isMobile) {\n                    this.removeClassDisabled();\n                }\n                this.disabledDateRender();\n                this.trigger('select', this.rangeArgs(event));\n            }\n            else if (+date < +this.startValue) {\n                this.removeClassDisabled();\n                this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? firstDay : firstMonth;\n                this.setValue();\n                this.removeSelectedAttributes();\n                removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n                addClass([ele], STARTDATE);\n                this.addSelectedAttributes(ele, this.startValue, true);\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    this.otherMonthSelect(ele, true);\n                }\n                this.checkMinMaxDays();\n            }\n        }\n        if (event) {\n            leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n        }\n        if (!isNullOrUndefined(leftCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n        }\n        else {\n            if (event) {\n                rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n            }\n            if (!isNullOrUndefined(rightCalendar)) {\n                this.rightCalendar.children[1].firstElementChild.focus();\n            }\n        }\n        addClass([ele], SELECTED$3);\n        this.updateHeader();\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.selectableDates = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n            var isStartDate = false;\n            if (this.currentView() === this.depth) {\n                for (var _i = 0, tdCells_4 = tdCells; _i < tdCells_4.length; _i++) {\n                    var ele = tdCells_4[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            var eleDate = this.getIdValue(null, ele);\n                            if (+eleDate < +this.startValue) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                                continue;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                    if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n                        isStartDate = true;\n                        break;\n                    }\n                }\n                if (isStartDate) {\n                    if (!this.previousIcon.classList.contains(DISABLED$2)) {\n                        addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                    }\n                }\n            }\n            else {\n                for (var _a = 0, tdCells_5 = tdCells; _a < tdCells_5.length; _a++) {\n                    var ele = tdCells_5[_a];\n                    var startMonth = this.startValue.getMonth();\n                    var startYear = this.startValue.getFullYear();\n                    var element = this.getIdValue(null, ele);\n                    if (!this.startButton.element.classList.contains(ACTIVE$1) && ((this.currentView() === 'Year' &&\n                        (element.getMonth() < startMonth) && (element.getFullYear() <= startYear))\n                        || (this.currentView() === 'Decade' && (element.getMonth() <= startMonth) &&\n                            (element.getFullYear() < startYear)))) {\n                        addClass([ele], [DISABLED$2]);\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (tdCells[0].classList.contains(DISABLED$2)) {\n                    this.previousIconHandler(true);\n                }\n                else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n                    this.nextIconHandler(true);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateMinMaxDays = function (calendar) {\n        if ((!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) ||\n            (this.isMobile && this.endButton.element.classList.contains(ACTIVE$1))) {\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n                var startValueSelected = this.removeTimeValueFromDate(this.startValue);\n                var minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n                var maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n                minDate = (!isNullOrUndefined(this.minDays) && this.minDays > 0) ? minDate : null;\n                maxDate = (!isNullOrUndefined(this.maxDays) && this.maxDays > 0) ? maxDate : null;\n                if (this.currentView() === 'Year') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n                }\n                else if (this.currentView() === 'Decade') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n                }\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                var maxEle = void 0;\n                for (var _i = 0, tdCells_6 = tdCells; _i < tdCells_6.length; _i++) {\n                    var ele = tdCells_6[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        eleDate = this.removeTimeValueFromDate(eleDate);\n                        if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n                            minDate.setDate(minDate.getDate() + 1);\n                        }\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            if (+eleDate <= +startValueSelected) {\n                                continue;\n                            }\n                            if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                            }\n                            if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                this.isMaxDaysClicked = true;\n                                EventHandler.clearEvents(ele);\n                                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                                    maxEle = ele;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(maxEle)) {\n                    if (this.isMobile) {\n                        if (!this.nextIcon.classList.contains(DISABLED$2)) {\n                            addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                        }\n                    }\n                    else {\n                        var calendar_1 = closest(maxEle, '.' + RIGHTCALENDER);\n                        calendar_1 = isNullOrUndefined(calendar_1) ? this.leftCalendar : calendar_1;\n                        var isLeftCalendar = calendar_1.classList.contains(LEFTCALENDER);\n                        if (!isLeftCalendar) {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                        else {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.isMaxDaysClicked = false;\n        }\n    };\n    DateRangePicker.prototype.removeTimeValueFromDate = function (value) {\n        var dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n        return dateValue;\n    };\n    DateRangePicker.prototype.removeClassDisabled = function () {\n        var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n        for (var _i = 0, tdCells_7 = tdCells; _i < tdCells_7.length; _i++) {\n            var ele = tdCells_7[_i];\n            if (ele.classList.contains(DATEDISABLED)) {\n                removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.add(ele, 'click', this.selectRange, this);\n                if (!this.isMobile) {\n                    EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n                }\n            }\n        }\n        if (this.isMobile) {\n            if (this.nextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.previousIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n        else {\n            if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHeader = function () {\n        var format = { type: 'date', skeleton: 'yMMMd' };\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n        }\n        else {\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            if (!isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n            }\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n            }\n        }\n        if ((this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue)) ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue))\n                    && +this.startValue > +this.endValue))) {\n            if (!this.isMobile) {\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n            }\n        }\n        if (this.popupObj.element.querySelector('#custom_range')) {\n            this.popupObj.element.querySelector('#custom_range').textContent =\n                this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n        }\n    };\n    DateRangePicker.prototype.removeSelection = function () {\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n        this.removeSelectedAttributes();\n        if (this.popupObj) {\n            if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n            }\n        }\n    };\n    DateRangePicker.prototype.addSelectedAttributes = function (ele, date, isStartDate, sameDate) {\n        if (ele) {\n            var title = this.globalize.formatDate(date, { type: 'date', skeleton: 'full' });\n            if (!isNullOrUndefined(sameDate) && sameDate) {\n                ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n            }\n            else {\n                ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n            }\n            ele.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateRangePicker.prototype.removeSelectedAttributes = function () {\n        if (this.popupObj) {\n            var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n            for (var _i = 0, start_1 = start; _i < start_1.length; _i++) {\n                var ele = start_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n            var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n            for (var _a = 0, end_1 = end; _a < end_1.length; _a++) {\n                var ele = end_1[_a];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n        }\n    };\n    DateRangePicker.prototype.updateCalendarElement = function (calendar) {\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.calendarElement = this.leftCalendar;\n            this.currentDate = this.leftCalCurrentDate;\n            this.previousIcon = this.leftCalPrevIcon;\n            this.nextIcon = this.leftCalNextIcon;\n        }\n        else {\n            this.calendarElement = this.rightCalendar;\n            this.currentDate = this.rightCalCurrentDate;\n            this.previousIcon = this.rightCalPrevIcon;\n            this.nextIcon = this.rightCalNextIcon;\n        }\n        this.contentElement = calendar.querySelector('.' + CONTENT$1);\n        this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n        this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n        this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n        this.headerElement = calendar.querySelector('.' + HEADER$1);\n    };\n    DateRangePicker.prototype.navPrevMonth = function (e) {\n        e.preventDefault();\n        var ele = closest(e.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigatePrevious(e);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.deviceNavigation = function (ele) {\n        this.deviceCalendarEvent();\n        this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        }\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.selectableDates();\n        }\n        if (this.currentView() === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.updateControl = function (calendar, customDate) {\n        if (customDate === void 0) { customDate = null; }\n        if (calendar.classList.contains(RIGHTCALENDER)) {\n            this.rightCalCurrentDate = new Date(+(customDate ? customDate : this.currentDate));\n        }\n        else {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.calendarIconEvent();\n        if ((((this.depth === 'Month')\n            && this.leftCalendar.querySelector('.e-content').classList.contains('e-month')\n            && this.rightCalendar.querySelector('.e-content').classList.contains('e-month'))\n            || ((this.depth === 'Year')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-year')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-year'))\n            || ((this.depth === 'Decade')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade')))\n            || this.isMobile) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n        this.updateRange([calendar]);\n    };\n    DateRangePicker.prototype.navNextMonth = function (event) {\n        event.preventDefault();\n        var ele = closest(event.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigateNext(event);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    DateRangePicker.prototype.isPopupOpen = function () {\n        if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.createRangeHeader = function () {\n        var labelContainer = this.createElement('div', { className: STARTENDCONTAINER });\n        if (!this.isMobile) {\n            var startLabel = this.createElement('a', { className: STARTLABEL });\n            var endLabel = this.createElement('a', { className: ENDLABEL });\n            var changeIcon = this.createElement('span', { className: CHANGEICON });\n            attributes(startLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'Start Date', 'role': 'button' });\n            attributes(endLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'End Date', 'role': 'button' });\n            labelContainer.appendChild(startLabel);\n            labelContainer.appendChild(changeIcon);\n            labelContainer.appendChild(endLabel);\n            startLabel.textContent = this.l10n.getConstant('startLabel');\n            endLabel.textContent = this.l10n.getConstant('endLabel');\n        }\n        else {\n            var endBtn = this.createElement('button', { className: ENDBUTTON });\n            var startBtn = this.createElement('button', { className: STARTBUTTON });\n            this.startButton = new Button({ content: this.l10n.getConstant('startLabel') }, startBtn);\n            this.endButton = new Button({ content: this.l10n.getConstant('endLabel') }, endBtn);\n            labelContainer.appendChild(startBtn);\n            labelContainer.appendChild(endBtn);\n        }\n        return labelContainer;\n    };\n    DateRangePicker.prototype.disableInput = function () {\n        if (this.strictMode) {\n            if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n                this.startValue = this.previousStartValue;\n                this.endValue = this.previousEndValue;\n                this.setValue();\n                this.updateInput();\n            }\n        }\n        else {\n            this.updateInput();\n            this.clearRange();\n            this.setProperties({ startDate: null }, true);\n            this.setProperties({ endDate: null }, true);\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n            this.errorClass();\n        }\n        this.setProperties({ enabled: false }, true);\n        Input.setEnabled(this.enabled, this.inputElement);\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.validateMinMax = function () {\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (!(this.min <= this.max)) {\n            this.disableInput();\n            return;\n        }\n        if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n            if (this.maxDays > 0 && this.minDays > 0 && (this.minDays > this.maxDays)) {\n                this.maxDays = null;\n            }\n        }\n        if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n            this.minDays = null;\n        }\n        if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n            this.maxDays = null;\n        }\n    };\n    DateRangePicker.prototype.validateRangeStrict = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (+this.startValue <= +this.min) {\n                this.startValue = this.min;\n                this.setValue();\n            }\n            else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n                this.startValue = this.max;\n            }\n        }\n        if (!isNullOrUndefined(this.endValue)) {\n            if (+this.endValue > +this.max) {\n                this.endValue = this.max;\n                this.setValue();\n            }\n            else if (+this.endValue < +this.min) {\n                this.endValue = this.min;\n                this.setValue();\n            }\n        }\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateRange = function () {\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateMinMaxDays = function () {\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            var range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) && !(range >= this.minDays)) {\n                if (this.strictMode) {\n                    var date = new Date(+this.startValue);\n                    date.setDate(date.getDate() + (this.minDays - 1));\n                    if (+date > +this.max) {\n                        this.endValue = this.max;\n                        this.setValue();\n                    }\n                    else {\n                        this.endValue = date;\n                        this.setValue();\n                    }\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if ((!isNullOrUndefined(this.maxDays) && this.maxDays > 0) && !(range <= this.maxDays)) {\n                if (this.strictMode) {\n                    this.endValue = new Date(+this.startValue);\n                    this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n                    this.setValue();\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.renderCalendar = function () {\n        this.calendarElement = this.createElement('div');\n        this.calendarElement.classList.add(CALENDAR);\n        if (this.enableRtl) {\n            this.calendarElement.classList.add(RTL$1);\n        }\n        attributes(this.calendarElement, { 'data-role': 'calendar' });\n        _super.prototype.createHeader.call(this);\n        _super.prototype.createContent.call(this);\n    };\n    DateRangePicker.prototype.isSameMonth = function (start, end) {\n        if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameYear = function (start, end) {\n        if (start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameDecade = function (start, end) {\n        var startYear = start.getFullYear();\n        var endYear = end.getFullYear();\n        if ((startYear - (startYear % 10)) === (endYear - (endYear % 10))) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.startMonthCurrentDate = function () {\n        if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n            this.currentDate = new Date(+this.max);\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n        }\n        else if (this.currentDate < this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n    };\n    DateRangePicker.prototype.selectNextMonth = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n            return;\n        }\n        if ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setDate(1);\n            var month = this.currentDate.getMonth() + 1;\n            this.currentDate.setMonth(month);\n        }\n    };\n    DateRangePicker.prototype.selectNextYear = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setMonth(0);\n            var yr = this.currentDate.getFullYear() + 1;\n            this.currentDate.setFullYear(yr);\n            return;\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setMonth(0);\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n        }\n    };\n    DateRangePicker.prototype.selectNextDecade = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            var decyr = this.currentDate.getFullYear() + 10;\n            this.currentDate.setFullYear(decyr);\n            return;\n        }\n        if (((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n        }\n    };\n    DateRangePicker.prototype.selectStartMonth = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n                this.currentDate = new Date(+this.max);\n                this.currentDate.setDate(1);\n                this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n            }\n            else if (!(this.startValue >= this.min && this.startValue <= this.max)\n                || this.isDateDisabled(this.startValue)) {\n                this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            }\n            else {\n                this.currentDate = new Date(+this.startValue);\n            }\n        }\n        else {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.startMonthCurrentDate();\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n        this.startMonthCurrentDate();\n    };\n    DateRangePicker.prototype.createCalendar = function () {\n        var calendarContainer = this.createElement('div', { className: CALENDARCONTAINER });\n        if (!this.isMobile) {\n            this.selectStartMonth();\n            this.renderCalendar();\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.calendarElement.classList.add(LEFTCALENDER);\n            this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n            this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n            this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n            prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n            this.leftCalendar = this.calendarElement;\n            var leftContainer = this.createElement('div', { className: LEFTCONTAINER });\n            var rightContainer = this.createElement('div', { className: RIGHTCONTAINER });\n            leftContainer.appendChild(this.leftCalendar);\n            calendarContainer.appendChild(leftContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n            }\n            if (this.start === 'Month') {\n                this.selectNextMonth();\n            }\n            if (this.start === 'Year') {\n                this.selectNextYear();\n            }\n            if (this.start === 'Decade') {\n                this.selectNextDecade();\n            }\n            this.renderCalendar();\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            addClass([this.calendarElement], RIGHTCALENDER);\n            this.rightCalendar = this.calendarElement;\n            removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n            this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n            this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('table').setAttribute('tabindex', '0');\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n            prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n            rightContainer.appendChild(this.rightCalendar);\n            calendarContainer.appendChild(rightContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.currentDate = new Date(+this.startValue);\n            }\n            _super.prototype.validateDate.call(this);\n            _super.prototype.minMaxUpdate.call(this);\n            _super.prototype.render.call(this);\n            var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n            var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n            remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n            prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n            this.deviceCalendar = this.calendarElement;\n            calendarContainer.appendChild(this.calendarElement);\n            this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n        }\n        return calendarContainer;\n    };\n    DateRangePicker.prototype.leftNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.leftCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.calendarNavigation = function (e, element) {\n        this.table = element.querySelector('table');\n        this.headerTitleElement = element.querySelector('.e-title');\n        this.tableBodyElement = element.querySelector('tbody');\n        this.tableHeadElement = element.querySelector('thead');\n        this.contentElement = element.querySelector('.e-content');\n        this.updateCalendarElement(element);\n        _super.prototype.navigateTitle.call(this, e);\n        this.updateNavIcons();\n    };\n    DateRangePicker.prototype.rightNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.rightCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.clickEventEmitter = function (e) {\n        if (!this.isMobile) {\n            if (closest(e.target, '.e-calendar.e-left-calendar')) {\n                this.calendarElement = this.leftCalendar;\n                this.updateCalendarElement(this.leftCalendar);\n            }\n            else {\n                this.calendarElement = this.rightCalendar;\n                this.updateCalendarElement(this.rightCalendar);\n            }\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @private\n     * @hidden\n     */\n    DateRangePicker.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    DateRangePicker.prototype.getCalendarView = function (view) {\n        if (view === 'Year') {\n            return 'Year';\n        }\n        else if (view === 'Decade') {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    DateRangePicker.prototype.navigatedEvent = function (e) {\n        this.trigger('navigated', this.navigatedArgs);\n        if (!isNullOrUndefined(this.popupObj)) {\n            var element = void 0;\n            var view = this.getCalendarView(this.currentView());\n            if (this.isMobile) {\n                if (view === this.depth) {\n                    this.bindCalendarCellEvents();\n                    this.deviceNavigation();\n                    this.removeFocusedDate();\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.selectableDates();\n                }\n            }\n            else {\n                if (!this.isMobile && view === this.depth) {\n                    element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n                    if (element === this.leftCalendar && ((e && !e.currentTarget.children[0].classList.contains('e-icons'))\n                        || (!isNullOrUndefined(this.controlDown)))) {\n                        this.leftCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.leftCalCurrentDate;\n                        this.updateCalendarElement(this.leftCalendar);\n                        this.updateControl(this.leftCalendar);\n                        this.updateCalendarElement(this.rightCalendar);\n                        _super.prototype.navigateTo.call(this, view, this.rightCalCurrentDate);\n                        var customDate = this.rightCalCurrentDate ? this.rightCalCurrentDate : this.currentDate;\n                        this.updateControl(this.rightCalendar, customDate);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    else if (e && !e.currentTarget.children[0].classList.contains('e-icons')\n                        || (!isNullOrUndefined(this.controlDown))) {\n                        this.rightCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.rightCalCurrentDate;\n                        this.updateCalendarElement(this.rightCalendar);\n                        this.updateControl(this.rightCalendar);\n                        this.updateCalendarElement(this.leftCalendar);\n                        if (this.startValue && isNullOrUndefined(this.endValue)) {\n                            if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() &&\n                                this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else {\n                                _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                            }\n                        }\n                        else {\n                            _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                        }\n                        this.updateControl(this.leftCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.updateNavIcons();\n                    this.calendarIconEvent();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createControl = function () {\n        var controlContainer = this.createElement('div', { className: RANGECONTAINER });\n        var headerContainer = this.createElement('div', { className: RANGEHEADER });\n        var labelContainer = this.createRangeHeader();\n        headerContainer.appendChild(labelContainer);\n        var daySpan = this.createElement('div', { className: DAYSPAN });\n        attributes(daySpan, { 'aria-label': 'Selected Days' });\n        daySpan.textContent = this.l10n.getConstant('selectedDays');\n        headerContainer.appendChild(daySpan);\n        var separator = this.createElement('div', { className: SEPARATOR });\n        var calendarContainer = this.createCalendar();\n        controlContainer.appendChild(headerContainer);\n        controlContainer.appendChild(separator);\n        controlContainer.appendChild(calendarContainer);\n        var footerSection = this.createElement('div', { className: FOOTER$1 });\n        var cancelBtn = this.createElement('button', { className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1 });\n        var applyBtn = this.createElement('button');\n        addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n        footerSection.appendChild(applyBtn);\n        footerSection.appendChild(cancelBtn);\n        var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n        this.cancelButton = new Button({ content: this.l10n.getConstant('cancelText') }, cancelBtn);\n        this.applyButton = new Button({ content: this.l10n.getConstant('applyText'), disabled: !enable }, applyBtn);\n        EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n        EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n        this.popupWrapper.appendChild(controlContainer);\n        if (!this.isMobile) {\n            if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                this.createPresets();\n                this.listRippleEffect();\n                addClass([controlContainer], RANGEBORDER);\n                addClass([this.popupWrapper], 'e-preset-wrapper');\n                var presets = this.popupWrapper.querySelector('.' + PRESETS);\n                presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n            }\n        }\n        this.popupWrapper.appendChild(footerSection);\n        if (this.isMobile) {\n            this.deviceHeaderUpdate();\n        }\n        this.renderPopup();\n    };\n    DateRangePicker.prototype.cancelFunction = function (eve) {\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        eve.preventDefault();\n        if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n        }\n        this.startValue = null;\n        this.endValue = null;\n        this.removeSelection();\n        this.hide(eve);\n    };\n    DateRangePicker.prototype.deviceHeaderUpdate = function () {\n        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.endButton.element.setAttribute('disabled', '');\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n        else if (!isNullOrUndefined(this.startValue)) {\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n    };\n    DateRangePicker.prototype.applyFunction = function (eve) {\n        var isValueChanged = false;\n        if (eve.type !== 'touchstart') {\n            eve.preventDefault();\n        }\n        if (this.closeEventArgs && this.closeEventArgs.cancel) {\n            this.startValue = this.popupWrapper.querySelector('.e-start-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n            this.endValue = this.popupWrapper.querySelector('.e-end-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n            this.setValue();\n        }\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        if (eve.type !== 'touchstart' &&\n            this.closeEventArgs && !this.closeEventArgs.cancel) {\n            eve.preventDefault();\n        }\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n            this.previousEleValue = this.inputElement.value;\n            Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n            if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n                isValueChanged = true;\n            }\n            this.changeTrigger(eve);\n            this.hide(eve ? eve : null);\n            this.errorClass();\n            isValueChanged = true;\n        }\n        else {\n            this.hide(eve ? eve : null);\n        }\n        if (!(closest(eve.target, '.' + INPUTCONTAINER$1))\n            && (!isValueChanged)) {\n            this.focusOut();\n        }\n        if (!this.isMobile) {\n            this.isKeyPopup = false;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.children[1].focus();\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n                    eventName: 'keydown',\n                    keyConfigs: this.keyInputConfigs,\n                    keyAction: this.popupKeyActionHandle.bind(this)\n                });\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseClick = function (event, item) {\n        if (event.type === 'touchstart') {\n            return;\n        }\n        var target = item || event.target;\n        var li = closest(target, '.' + LISTCLASS);\n        var isClick = li && li.classList.contains(ACTIVE$1);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.setListSelection(li, event);\n        }\n        this.preventFocus = true;\n        this.inputElement.focus();\n        if (!this.isMobile) {\n            this.preventFocus = true;\n            if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n            else {\n                if (!isClick && event.type === 'keydown') {\n                    this.inputElement.focus();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseOver = function (event) {\n        var li = closest(event.target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n            addClass([li], HOVER);\n        }\n    };\n    DateRangePicker.prototype.onMouseLeave = function (event) {\n        var item = closest(event.target, '.' + HOVER);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], HOVER);\n        }\n    };\n    DateRangePicker.prototype.setListSelection = function (li, event) {\n        if (li && (!li.classList.contains(ACTIVE$1) || (this.isMobile && li.classList.contains(ACTIVE$1)))) {\n            if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                var values_1 = this.presetsItem[this.activeIndex];\n                if (values_1.id === 'custom_range') {\n                    this.renderCustomPopup();\n                    return;\n                }\n                return;\n            }\n            this.removeListSelection();\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            addClass([li], ACTIVE$1);\n            li.setAttribute('aria-selected', 'true');\n            var values = this.presetsItem[this.activeIndex];\n            if (values.id === 'custom_range') {\n                this.renderCustomPopup();\n            }\n            else {\n                this.applyPresetRange(values, event);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeListSelection = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE$1);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], ACTIVE$1);\n            item.removeAttribute('aria-selected');\n        }\n    };\n    DateRangePicker.prototype.setValue = function () {\n        this.modelValue = [this.startValue, this.endValue];\n    };\n    DateRangePicker.prototype.applyPresetRange = function (values, e) {\n        this.hide(null);\n        this.presetsItem[this.presetsItem.length - 1].start = null;\n        this.presetsItem[this.presetsItem.length - 1].end = null;\n        this.startValue = values.start;\n        this.endValue = values.end;\n        this.setValue();\n        this.refreshControl();\n        this.trigger('select', this.rangeArgs(e));\n        this.changeTrigger(e);\n        this.previousEleValue = this.inputElement.value;\n        this.isCustomRange = false;\n        this.leftCalendar = this.rightCalendar = null;\n        if (this.isKeyPopup) {\n            this.isRangeIconClicked = false;\n            this.inputElement.focus();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.showPopup = function (element, event) {\n        this.presetHeight();\n        if (this.zIndex === 1000) {\n            this.popupObj.show(null, this.element);\n        }\n        else {\n            this.popupObj.show(null, null);\n        }\n        if (this.isMobile) {\n            this.popupObj.refreshPosition();\n        }\n    };\n    DateRangePicker.prototype.renderCustomPopup = function () {\n        this.isCustomWindow = true;\n        this.popupObj.hide();\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.renderControl();\n        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.showPopup();\n        this.isCustomRange = true;\n        if (!this.isMobile) {\n            this.calendarFocus();\n        }\n    };\n    DateRangePicker.prototype.listRippleEffect = function () {\n        for (var _i = 0, _a = this.liCollections; _i < _a.length; _i++) {\n            var li = _a[_i];\n            rippleEffect(li);\n        }\n    };\n    DateRangePicker.prototype.createPresets = function () {\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            this.presetElement = this.createElement('div', { className: PRESETS, attrs: { 'tabindex': '0' } });\n            var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n            attributes(listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options', 'tabindex': '0' });\n            this.presetElement.appendChild(listTag);\n            this.popupWrapper.appendChild(this.presetElement);\n            var customElement = this.presetElement.querySelector('#custom_range');\n            if (!isNullOrUndefined(customElement)) {\n                customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange')\n                    : 'Custom Range';\n            }\n            this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n            this.wireListEvents();\n            if (this.isMobile) {\n                this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n            }\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n                addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n            }\n        }\n    };\n    DateRangePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n        if (!this.isMobile) {\n            EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateRangePicker.prototype.unWireListEvents = function () {\n        if (!isNullOrUndefined(this.presetElement)) {\n            EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n            if (!this.isMobile) {\n                EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    DateRangePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.popupWrapper.classList.add('e-control');\n        var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            this.modal = this.createElement('div');\n            document.body.appendChild(this.modal);\n        }\n        this.popupObj = new Popup(this.popupWrapper, {\n            relateTo: this.isMobile && this.isCustomWindow ? document.body :\n                (!isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container),\n            position: (this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'left', Y: 'bottom' } : { X: 'center', Y: 'center' }) :\n                this.enableRtl ? { X: 'left', Y: 'bottom' } : { X: 'right', Y: 'bottom' }),\n            offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n            offsetY: OFFSETVALUE$1,\n            collision: this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'fit' } : { X: 'fit', Y: 'fit' }) : { X: 'fit', Y: 'flip' },\n            targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            open: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'true', 'aria-owns': _this.inputElement.id + '_options' });\n                if (_this.value) {\n                    attributes(_this.inputElement, { 'aria-activedescendant': _this.inputElement.id });\n                }\n                else {\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                }\n                addClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (!_this.isMobile) {\n                    if (_this.cancelButton) {\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.cancelButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { tab: 'tab', altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.applyButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                    }\n                    if (!isNullOrUndefined(_this.leftCalendar)) {\n                        if (!_this.isRangeIconClicked) {\n                            _this.calendarFocus();\n                        }\n                    }\n                    if (!isNullOrUndefined(_this.presetElement)) {\n                        _this.keyInputConfigs = extend(_this.keyInputConfigs, _this.keyConfigs);\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.presetKeyActionHandler.bind(_this),\n                            keyConfigs: _this.keyInputConfigs\n                        });\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        if (isNullOrUndefined(_this.leftCalendar)) {\n                            _this.preventBlur = true;\n                            _this.presetElement.focus();\n                        }\n                        else {\n                            _this.presetElement.setAttribute('tabindex', '-1');\n                        }\n                    }\n                    _this.popupKeyBoardHandler();\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.add(document, 'keydown', _this.popupCloseHandler, _this);\n                }\n            },\n            close: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                _this.inputElement.removeAttribute('aria-owns');\n                _this.inputElement.removeAttribute('aria-activedescendant');\n                removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (_this.isRangeIconClicked) {\n                    _this.inputWrapper.container.children[1].focus();\n                }\n                if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label)) {\n                    _this.unWireListEvents();\n                }\n                if (!isNullOrUndefined(_this.popupObj)) {\n                    if (!isNullOrUndefined(_this.popupObj.element.parentElement)) {\n                        detach(_this.popupObj.element);\n                    }\n                    _this.popupObj.destroy();\n                    _this.popupObj = null;\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.remove(document, 'keydown', _this.popupCloseHandler);\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (this.isMobile) {\n            this.popupObj.element.classList.add(DEVICE$1);\n            if (!this.isMobile) {\n                this.popupObj.element.classList.add('e-bigger');\n            }\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n            document.body.className += ' ' + OVERFLOW$1;\n            this.modal.style.display = 'block';\n        }\n        EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n    };\n    DateRangePicker.prototype.popupCloseHandler = function (e) {\n        switch (e.keyCode) {\n            case 27:\n                this.hide(e);\n                break;\n        }\n    };\n    DateRangePicker.prototype.calendarFocus = function () {\n        var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n        if (startDate) {\n            var ele = closest(startDate, '.' + RIGHTCALENDER);\n            ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                ele.children[1].firstElementChild.focus();\n            }\n            addClass([startDate], FOCUSDATE);\n        }\n        else {\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n        }\n    };\n    DateRangePicker.prototype.presetHeight = function () {\n        var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n        var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n        if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n            presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n        }\n    };\n    DateRangePicker.prototype.presetKeyActionHandler = function (e) {\n        switch (e.action) {\n            case 'moveDown':\n                this.listMoveDown(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                this.listMoveUp(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'enter':\n                {\n                    var hvrItem = this.getHoverLI();\n                    var actItem = this.getActiveLI();\n                    if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n                        if (isNullOrUndefined(hvrItem) || (!isNullOrUndefined(actItem) && actItem === hvrItem)) {\n                            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n                            var values = this.presetsItem[this.activeIndex];\n                            if (values.id === 'custom_range') {\n                                this.calendarFocus();\n                                actItem.classList.remove(HOVER);\n                                e.preventDefault();\n                                return;\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n                        this.onMouseClick(e, hvrItem || actItem);\n                    }\n                    e.preventDefault();\n                }\n                break;\n            case 'tab':\n                if (this.leftCalendar) {\n                    var item = this.getHoverLI();\n                    if (!isNullOrUndefined(item)) {\n                        item.classList.remove(HOVER);\n                    }\n                }\n                else {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.listMoveDown = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n        else {\n            addClass([this.liCollections[0]], HOVER);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.listMoveUp = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n    };\n    DateRangePicker.prototype.getHoverLI = function () {\n        var item = this.presetElement.querySelector('.' + HOVER);\n        return item;\n    };\n    DateRangePicker.prototype.getActiveLI = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE$1);\n        return item;\n    };\n    DateRangePicker.prototype.popupKeyBoardHandler = function () {\n        this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: { escape: 'escape' }\n        });\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: this.keyInputConfigs\n        });\n    };\n    DateRangePicker.prototype.setScrollPosition = function () {\n        var listHeight = this.presetElement.getBoundingClientRect().height;\n        var hover = this.presetElement.querySelector('.' + HOVER);\n        var active = this.presetElement.querySelector('.' + ACTIVE$1);\n        var element = !isNullOrUndefined(hover) ? hover : active;\n        if (!isNullOrUndefined(element)) {\n            var nextEle = element.nextElementSibling;\n            var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n            var liHeight = element.getBoundingClientRect().height;\n            if ((height + element.offsetTop) > listHeight) {\n                this.presetElement.scrollTop = nextEle ? (height - (listHeight / 2 + liHeight / 2)) : height;\n            }\n            else {\n                this.presetElement.scrollTop = 0;\n            }\n        }\n    };\n    DateRangePicker.prototype.popupKeyActionHandle = function (e) {\n        var presetElement = closest(e.target, '.' + PRESETS);\n        switch (e.action) {\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    if (this.isKeyPopup) {\n                        this.inputElement.focus();\n                        this.isKeyPopup = false;\n                    }\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isPopupOpen()) {\n                    this.show(null, e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.cancelButton.element.focus();\n                }\n                else {\n                    if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else {\n                    if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n                        this.cancelButton.element.focus();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.presetElement) && (document.activeElement === this.cancelButton.element)) {\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.rightCalendar.children[1].firstElementChild.focus();\n                        }\n                    }\n                }\n                e.preventDefault();\n                break;\n        }\n    };\n    DateRangePicker.prototype.documentHandler = function (e) {\n        if (isNullOrUndefined(this.popupObj)) {\n            return;\n        }\n        var target = e.target;\n        if (!this.inputWrapper.container.contains(target) ||\n            (!isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && e.type !== 'mousedown')) {\n            if (e.type !== 'touchstart' && ((e.type === 'mousedown') ||\n                this.closeEventArgs && !this.closeEventArgs.cancel)) {\n                e.preventDefault();\n            }\n        }\n        if ((isNullOrUndefined(this.targetElement) ||\n            (!isNullOrUndefined(this.targetElement) && !(target === this.targetElement))) &&\n            !(closest(target, '[id=\"' + this.popupWrapper.id + '\"]'))\n            && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container)\n            && !(closest(target, '.e-daterangepicker.e-popup') && (!target.classList.contains('e-day')))) {\n            this.preventBlur = false;\n            if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n                this.applyFunction(e);\n                if (!this.isMobile) {\n                    this.isRangeIconClicked = false;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createInput = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            floatLabelType: this.floatLabelType,\n            element: this.inputElement,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [DATERANGEICON]\n        }, this.createElement);\n        attributes(this.inputElement, {\n            'tabindex': '0', 'aria-expanded': 'false', 'role': 'combobox',\n            'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        });\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n            Input.addAttributes({ 'aria-placeholder': this.placeholder }, this.inputElement);\n        }\n        this.setEleWidth(this.width);\n        addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.inputElement.type === 'hidden') {\n            this.inputWrapper.container.style.display = 'none';\n        }\n        this.refreshControl();\n        this.previousEleValue = this.inputElement.value;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.startCopy = this.startDate;\n        this.endCopy = this.endDate;\n    };\n    DateRangePicker.prototype.setEleWidth = function (width) {\n        if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (this.width);\n        }\n        else if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    DateRangePicker.prototype.adjustLongHeaderWidth = function () {\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.popupWrapper], DAYHEADERLONG$1);\n        }\n    };\n    DateRangePicker.prototype.refreshControl = function () {\n        this.validateMinMax();\n        if (this.strictMode) {\n            this.validateRangeStrict();\n        }\n        var isDisabled = this.disabledDates();\n        if (this.strictMode && (isDisabled)) {\n            this.startValue = this.previousStartValue;\n            this.setProperties({ startDate: this.startValue }, true);\n            this.endValue = this.previousEndValue;\n            this.setProperties({ endDate: this.endValue }, true);\n            this.setValue();\n        }\n        this.updateInput();\n        if (!this.strictMode) {\n            this.validateRange();\n        }\n        if (!this.strictMode && (isDisabled)) {\n            this.clearRange();\n        }\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled) {\n            this.disabledDateRender();\n        }\n        this.errorClass();\n        this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n        this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n    };\n    DateRangePicker.prototype.updateInput = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var formatOption = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n            var startDate = this.globalize.formatDate(this.startValue, formatOption);\n            var endDate = this.globalize.formatDate(this.endValue, formatOption);\n            Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    DateRangePicker.prototype.checkInvalidRange = function (value) {\n        if (!isNullOrUndefined(value)) {\n            var invalid = false;\n            var startinvalue = void 0;\n            var endinvalue = void 0;\n            var startString = null;\n            var endString = null;\n            var valueString = null;\n            var startObject = false;\n            var endObject = false;\n            var invalidobject = false;\n            if (typeof (value) === 'string') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length === 2) {\n                    startString = range[0];\n                    endString = range[1];\n                }\n                else {\n                    invalid = true;\n                    valueString = value;\n                }\n            }\n            else {\n                if (value.length > 0) {\n                    startinvalue = value[0];\n                    endinvalue = value[1];\n                }\n                else {\n                    startinvalue = value.start;\n                    endinvalue = value.end;\n                }\n                if (!(startinvalue instanceof Date) && typeof (startinvalue) !== 'object') {\n                    startString = this.getstringvalue(startinvalue);\n                }\n                else if (startinvalue instanceof Date) {\n                    startObject = true;\n                }\n                else if (!isNullOrUndefined(startinvalue)) {\n                    invalidobject = true;\n                }\n                if (!(endinvalue instanceof Date) && typeof (endinvalue) !== 'object') {\n                    endString = this.getstringvalue(endinvalue);\n                }\n                else if (endinvalue instanceof Date) {\n                    endObject = true;\n                }\n                else if (!isNullOrUndefined(endinvalue)) {\n                    invalidobject = true;\n                }\n            }\n            if ((isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString)) ||\n                (!isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString))) {\n                invalid = true;\n            }\n            if (invalidobject) {\n                startString = endString = valueString = null;\n                invalid = true;\n            }\n            if (startString) {\n                invalid = invalid || this.checkInvalidValue(startString);\n            }\n            if (endString) {\n                invalid = invalid || this.checkInvalidValue(endString);\n            }\n            if (invalid) {\n                if (startObject && !invalidobject) {\n                    startString = startinvalue.toLocaleDateString();\n                }\n                if (endObject && !invalidobject) {\n                    endString = endinvalue.toLocaleDateString();\n                }\n                if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n                    valueString = startString + ' ' + this.separator + ' ' + endString;\n                }\n                else if (!isNullOrUndefined(startString)) {\n                    valueString = startString;\n                }\n                else if (!isNullOrUndefined(endString)) {\n                    valueString = endString;\n                }\n                this.invalidValueString = valueString;\n                this.setProperties({ value: null }, true);\n                this.setProperties({ startValue: null }, true);\n                this.setProperties({ endValue: null }, true);\n                this.startDate = null;\n                this.endDate = null;\n            }\n        }\n    };\n    DateRangePicker.prototype.getstringvalue = function (value) {\n        var stringValue = null;\n        if (!isNullOrUndefined(value) && (typeof value === 'number')) {\n            stringValue = (value).toString();\n        }\n        else if (!isNullOrUndefined(value) && (typeof value === 'string')) {\n            stringValue = '' + value;\n        }\n        return stringValue;\n    };\n    DateRangePicker.prototype.checkInvalidValue = function (value) {\n        var valueString = value;\n        var invalid = false;\n        var formatOpt = null;\n        formatOpt = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        if (typeof valueString !== 'string') {\n            invalid = true;\n        }\n        else {\n            var globalize = new Internationalization(this.locale);\n            if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n                var extISOStr = null;\n                var basISOString = null;\n                // eslint-disable-next-line\n                extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOStr.test(valueString) && !basISOString.test(valueString))\n                    || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                    invalid = true;\n                }\n            }\n        }\n        return invalid;\n    };\n    DateRangePicker.prototype.isDateDisabled = function (date) {\n        if (isNullOrUndefined(date)) {\n            return false;\n        }\n        var value = new Date(+date);\n        if (+value < +this.min || +value > +this.max) {\n            return true;\n        }\n        this.virtualRenderCellArgs = {\n            date: value,\n            isDisabled: false\n        };\n        var args = this.virtualRenderCellArgs;\n        this.virtualRenderCellEvent(args);\n        if (args.isDisabled) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.disabledDateRender = function () {\n        this.disabledDays = [];\n        this.disabledDayCnt = null;\n        var localDate = new Date(+this.startValue);\n        var count = 0;\n        while (+localDate <= +this.endValue && +this.endValue <= +this.max) {\n            this.virtualRenderCellArgs = {\n                date: localDate,\n                isDisabled: false\n            };\n            var args = this.virtualRenderCellArgs;\n            this.virtualRenderCellEvent(args);\n            if (args.isDisabled) {\n                this.disabledDays.push(new Date(+args.date));\n                if (+localDate > +this.startValue && +localDate < +this.endValue) {\n                    count++;\n                }\n            }\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        this.disabledDayCnt = count;\n    };\n    DateRangePicker.prototype.virtualRenderCellEvent = function (args) {\n        extend(this.virtualRenderCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    DateRangePicker.prototype.disabledDates = function () {\n        var isStartDisabled = false;\n        var isEndDisabled = false;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            isStartDisabled = this.isDateDisabled(this.startValue);\n            isEndDisabled = this.isDateDisabled(this.endValue);\n            if (!this.isPopupOpen()) {\n                this.currentDate = null;\n            }\n            this.setValue();\n        }\n        return (isStartDisabled || isEndDisabled);\n    };\n    DateRangePicker.prototype.setModelValue = function () {\n        if (!this.value && this.startDate === null && this.endDate === null) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (this.value === null || this.value.start === null) {\n            if (this.value === null) {\n                this.setProperties({ value: [this.startDate, this.endDate] }, true);\n            }\n            else if (this.value.start === null) {\n                this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n            }\n        }\n        else {\n            if ((this.value && this.value.length > 0) ||\n                this.valueType && this.valueType.length > 0) {\n                if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n                    this.setProperties({ value: [this.startDate, this.endDate] }, true);\n                }\n                if (this.value && this.value[0] == null && this.value[1] == null) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            else {\n                if ((this.value && this.value.start)) {\n                    this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n                }\n            }\n        }\n        this.createHiddenInput();\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DateRangePicker.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n        this.firstHiddenChild.dispatchEvent(evt);\n    };\n    DateRangePicker.prototype.changeTrigger = function (e) {\n        if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n            this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n            this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n            this.setModelValue();\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.rangeArgs(e));\n            }\n        }\n        this.previousEleValue = this.inputElement.value;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @hidden\n     */\n    DateRangePicker.prototype.navigateTo = function (view, date) {\n        if (this.isPopupOpen()) {\n            if (view.toLowerCase() === 'month') {\n                view = 'Month';\n            }\n            else if (view.toLowerCase() === 'year') {\n                view = 'Year';\n            }\n            else if (view.toLowerCase() === 'decade') {\n                view = 'Decade';\n            }\n            else {\n                return;\n            }\n            if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n                view = this.depth;\n            }\n            if (this.isMobile) {\n                _super.prototype.navigateTo.call(this, view, date);\n            }\n            else {\n                if (date < this.min) {\n                    date = new Date(+this.min);\n                }\n                else if (date >= this.max) {\n                    date = new Date(+this.max);\n                }\n                if (view === 'Month' && this.isSameMonth(date, this.max)) {\n                    date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n                }\n                else if (view === 'Year' && this.isSameYear(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 1), this.max.getMonth(), this.max.getDate());\n                }\n                else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 10), this.max.getMonth(), this.max.getDate());\n                }\n                this.leftCalCurrentDate = date;\n                this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n                if (view === 'Month') {\n                    date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n                }\n                else if (view === 'Year') {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n                }\n                else {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n                }\n                this.rightCalCurrentDate = date;\n                this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n                this.leftKeyboardModule = this.rightKeyboardModule = null;\n                this.updateNavIcons();\n            }\n            if (this.currentView() === this.depth) {\n                this.bindCalendarCellEvents();\n            }\n            this.removeFocusedDate();\n            this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        }\n    };\n    DateRangePicker.prototype.navigate = function (calendar, date, view) {\n        this.calendarElement = calendar;\n        this.table = calendar.querySelector('table');\n        this.tableBodyElement = calendar.querySelector('tbody');\n        this.headerTitleElement = calendar.querySelector('.e-title');\n        this.tableHeadElement = calendar.querySelector('thead');\n        this.contentElement = calendar.querySelector('.e-content');\n        this.previousIcon = calendar.querySelector('.e-prev');\n        this.nextIcon = calendar.querySelector('.e-next');\n        this.effect = ZOOMIN$1;\n        _super.prototype.navigateTo.call(this, view, date);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.focusOut = function () {\n        var isBlur = this.preventBlur;\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.preventBlur = false;\n            this.inputElement.blur();\n            this.preventBlur = isBlur;\n        }\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.destroy = function () {\n        this.unBindEvents();\n        this.hide(null);\n        var ariaAttrs = {\n            'tabindex': '0', 'aria-expanded': 'false', 'role': 'combobox',\n            'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'aria-invalid': 'false', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            removeClass([this.inputElement], [ROOT$2]);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.inputElement.classList.remove('e-input');\n            if (!isNullOrUndefined(this.inputWrapper)) {\n                EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                detach(this.inputWrapper.container);\n            }\n        }\n        if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n            this.inputKeyboardModule.destroy();\n        }\n        if (this.popupObj) {\n            if (!this.isMobile) {\n                this.clearCalendarEvents();\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        if ((!isNullOrUndefined(this.firstHiddenChild))\n            && (!isNullOrUndefined(this.secondHiddenChild))) {\n            detach(this.firstHiddenChild);\n            detach(this.secondHiddenChild);\n            this.firstHiddenChild = this.secondHiddenChild = null;\n            this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n            this.inputElement.removeAttribute('data-name');\n        }\n    };\n    DateRangePicker.prototype.ensureInputAttribute = function () {\n        var attr = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            attr[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < attr.length; i++) {\n            if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(attr[i]);\n            }\n            else {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n                }\n                this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n            }\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DateRangePicker.prototype.getModuleName = function () {\n        return 'daterangepicker';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Return the properties that are maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    DateRangePicker.prototype.getPersistData = function () {\n        var keyEntity = ['startDate', 'endDate', 'value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Return the selected range and day span in the DateRangePicker.\n     *\n     * @returns {Object}\n     */\n    DateRangePicker.prototype.getSelectedRange = function () {\n        var range;\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            this.disabledDateRender();\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n        }\n        else {\n            range = 0;\n        }\n        return { startDate: this.startValue, endDate: this.endValue, daySpan: range };\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * To open the Popup container in the DateRangePicker component.\n     *\n     * @param {HTMLElement} element - Specifies element.\n     * @returns {void}\n     */\n    DateRangePicker.prototype.show = function (element, event) {\n        var _this = this;\n        if (this.isMobile && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            if (!this.isPopupOpen()) {\n                if (element) {\n                    this.targetElement = element;\n                }\n                this.createPopup();\n                if (this.isMobile || Browser.isDevice) {\n                    this.mobileRangePopupWrap = this.createElement('div', { className: 'e-daterangepick-mob-popup-wrap' });\n                    document.body.appendChild(this.mobileRangePopupWrap);\n                }\n                this.openEventArgs = {\n                    popup: this.popupObj || null,\n                    cancel: false,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null,\n                    appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n                };\n                var eventArgs = this.openEventArgs;\n                this.trigger('open', eventArgs, function (eventArgs) {\n                    _this.openEventArgs = eventArgs;\n                    if (!_this.openEventArgs.cancel) {\n                        _this.openEventArgs.appendTo.appendChild(_this.popupWrapper);\n                        _this.showPopup(element, event);\n                        var isPreset = (!_this.isCustomRange || (_this.isMobile && _this.isCustomRange));\n                        if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label) && isPreset) {\n                            _this.setScrollPosition();\n                        }\n                        _this.checkMinMaxDays();\n                        if ((_this.isMobile) && (!isNullOrUndefined(_this.startDate)) && (isNullOrUndefined(_this.endDate))) {\n                            _this.endButton.element.classList.add(ACTIVE$1);\n                            _this.startButton.element.classList.remove(ACTIVE$1);\n                            _this.endButton.element.removeAttribute('disabled');\n                            _this.selectableDates();\n                        }\n                        _super.prototype.setOverlayIndex.call(_this, _this.mobileRangePopupWrap, _this.popupObj.element, _this.modal, \n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.isMobile || Browser.isDevice);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * To close the Popup container in the DateRangePicker component.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (this.popupObj) {\n            if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n                this.clearRange();\n            }\n            else {\n                if (!isNullOrUndefined(this.previousStartValue)) {\n                    this.startValue = new Date(this.checkValue(this.previousStartValue));\n                    this.setValue();\n                    this.currentDate = new Date(this.checkValue(this.startValue));\n                }\n                else {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    this.endValue = new Date(this.checkValue(this.previousEndValue));\n                    this.setValue();\n                }\n                else {\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if (this.isPopupOpen()) {\n                this.closeEventArgs = {\n                    cancel: false,\n                    popup: this.popupObj,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null\n                };\n                var eventArgs = this.closeEventArgs;\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventArgs = eventArgs;\n                    if (!_this.closeEventArgs.cancel) {\n                        if (_this.isMobile) {\n                            if (!isNullOrUndefined(_this.startButton) && !isNullOrUndefined(_this.endButton)) {\n                                EventHandler.remove(_this.startButton.element, 'click touchstart', _this.deviceHeaderClick);\n                                EventHandler.remove(_this.endButton.element, 'click touchstart', _this.deviceHeaderClick);\n                            }\n                        }\n                        if (_this.popupObj) {\n                            _this.popupObj.hide();\n                            if (_this.preventBlur) {\n                                _this.inputElement.focus();\n                                addClass([_this.inputWrapper.container], [INPUTFOCUS$1]);\n                            }\n                        }\n                        if (!_this.isMobile) {\n                            if (!isNullOrUndefined(_this.leftKeyboardModule) && !isNullOrUndefined(_this.rightKeyboardModule)) {\n                                _this.leftKeyboardModule.destroy();\n                                _this.rightKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.presetElement)) {\n                                _this.presetKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.cancelButton)) {\n                                _this.btnKeyboardModule.destroy();\n                            }\n                        }\n                        _this.targetElement = null;\n                        removeClass([document.body], OVERFLOW$1);\n                        EventHandler.remove(document, 'mousedown touchstart', _this.documentHandler);\n                        if (_this.isMobile && _this.modal) {\n                            _this.modal.style.display = 'none';\n                            _this.modal.outerHTML = '';\n                            _this.modal = null;\n                        }\n                        if (_this.isMobile || Browser.isDevice) {\n                            if (!isNullOrUndefined(_this.mobileRangePopupWrap)) {\n                                _this.mobileRangePopupWrap.remove();\n                                _this.mobileRangePopupWrap = null;\n                            }\n                        }\n                        _this.isKeyPopup = _this.dateDisabled = false;\n                    }\n                    else {\n                        removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n                    }\n                    _this.updateClearIconState();\n                    _this.updateHiddenInput();\n                    if (_this.isMobile && _this.allowEdit && !_this.readonly) {\n                        _this.inputElement.removeAttribute('readonly');\n                    }\n                });\n            }\n        }\n        else {\n            this.updateClearIconState();\n            this.updateHiddenInput();\n            if (this.isMobile && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    DateRangePicker.prototype.setLocale = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n        Input.setPlaceholder(this.placeholder, this.inputElement);\n        this.updateInput();\n        this.updateHiddenInput();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.refreshChange = function () {\n        this.checkView();\n        this.refreshControl();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.setDate = function () {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.refreshChange();\n    };\n    DateRangePicker.prototype.enableInput = function () {\n        if (+this.min <= +this.max) {\n            this.setProperties({ enabled: true }, true);\n            Input.setEnabled(this.enabled, this.inputElement);\n            if (this.element.hasAttribute('disabled')) {\n                this.bindEvents();\n            }\n        }\n    };\n    DateRangePicker.prototype.clearModelvalue = function (newProp, oldProp) {\n        this.setProperties({ startDate: null }, true);\n        this.setProperties({ endDate: null }, true);\n        if (oldProp.value && oldProp.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (oldProp.value && oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        else if (oldProp.value && !oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        this.updateValue();\n        this.setDate();\n    };\n    DateRangePicker.prototype.createHiddenInput = function () {\n        if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n            this.firstHiddenChild = this.createElement('input');\n            this.secondHiddenChild = this.createElement('input');\n        }\n        if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n            this.inputElement.removeAttribute('name');\n        }\n        attributes(this.firstHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        attributes(this.secondHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        var format = { type: 'datetime', skeleton: 'yMd' };\n        this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n        this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n        this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n        this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n    };\n    DateRangePicker.prototype.setMinMaxDays = function () {\n        if (this.isPopupOpen()) {\n            this.removeClassDisabled();\n            this.checkMinMaxDays();\n            if (this.isMobile) {\n                this.selectableDates();\n            }\n            if (!this.strictMode && (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                this.removeSelection();\n            }\n            else {\n                this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n            }\n            this.updateHeader();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    DateRangePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var openPopup = ['maxDays', 'minDays', 'value'];\n            switch (prop) {\n                case 'width':\n                    this.setEleWidth(this.width);\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'separator':\n                    this.previousEleValue = this.inputElement.value;\n                    this.setProperties({ separator: newProp.separator }, true);\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.setProperties({ placeholder: newProp.placeholder }, true);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    this.setRangeAllowEdit();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (this.enabled) {\n                        this.inputElement.setAttribute('tabindex', this.tabIndex);\n                    }\n                    else {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setRangeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.setLocale();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.setDataAttribute(true);\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'startDate':\n                    if (typeof newProp.startDate === 'string') {\n                        newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n                    }\n                    if (+this.initStartDate !== +newProp.startDate) {\n                        this.startValue = this.checkDateValue(new Date(this.checkValue(newProp.startDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'endDate':\n                    if (typeof newProp.endDate === 'string') {\n                        newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n                    }\n                    if (+this.initEndDate !== +newProp.endDate) {\n                        this.endValue = this.checkDateValue(new Date(this.checkValue(newProp.endDate)));\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidRange(newProp.value);\n                    if (typeof (newProp.value) === 'string') {\n                        if (!this.invalidValueString) {\n                            var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n                            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n                            this.updateValue();\n                            this.setDate();\n                        }\n                        else {\n                            this.clearModelvalue(newProp, oldProp);\n                        }\n                    }\n                    else {\n                        if ((!isNullOrUndefined(newProp.value) && newProp.value.length > 0)\n                            || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n                            this.valueType = newProp.value;\n                            if (newProp.value[0] === null || (newProp.value.start === null)) {\n                                if (newProp.value.length === 1 || (newProp.value.start)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                                else if (newProp.value[1] === null ||\n                                    (newProp.value.start === null)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                            }\n                            else if ((+this.initStartDate !== +newProp.value[0]\n                                || +this.initEndDate !== +newProp.value[1]) ||\n                                (+this.initStartDate !== +(newProp.value.start\n                                    || +this.initEndDate !== +newProp.value.start))) {\n                                if (newProp.value.length === 1) {\n                                    this.modelValue = newProp.value;\n                                }\n                                else if (newProp.value.start) {\n                                    this.modelValue = newProp.value;\n                                }\n                                this.updateValue();\n                                this.setDate();\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(this.value)\n                                || newProp.value.start == null) {\n                                this.valueType = newProp.value;\n                                this.startValue = null;\n                                this.endValue = null;\n                                this.clearModelvalue(newProp, oldProp);\n                            }\n                        }\n                    }\n                    if (this.isPopupOpen()) {\n                        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n                            this.removeSelection();\n                            if (this.isMobile) {\n                                this.deviceHeaderUpdate();\n                            }\n                            return;\n                        }\n                        if (this.isMobile) {\n                            this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n                            this.deviceHeaderUpdate();\n                        }\n                        else {\n                            this.navigate(this.leftCalendar, this.startValue, this.currentView());\n                            this.updateControl(this.leftCalendar);\n                            this.navigate(this.rightCalendar, this.endValue, this.currentView());\n                            this.updateControl(this.rightCalendar);\n                        }\n                        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n                        this.updateHeader();\n                        this.applyButton.disabled = this.applyButton.element.disabled = false;\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'minDays':\n                    this.setProperties({ minDays: newProp.minDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'maxDays':\n                    this.setProperties({ maxDays: newProp.maxDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'min':\n                    this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    this.previousEleValue = this.inputElement.value;\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'max':\n                    this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.refreshChange();\n                    break;\n                case 'presets':\n                    this.setProperties({ presets: newProp.presets }, true);\n                    this.processPresets();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'start':\n                    this.setProperties({ start: newProp.start }, true);\n                    this.refreshChange();\n                    break;\n                case 'depth':\n                    this.setProperties({ depth: newProp.depth }, true);\n                    this.refreshChange();\n                    break;\n                default:\n                    this.isPropChanged = true;\n            }\n            if (openPopup.indexOf(prop) < 0 && !this.isPropChanged) {\n                this.hide(null);\n            }\n            this.isPropChanged = false;\n        }\n    };\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"value\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$2([\n        Property(new Date(1900, 0, 1))\n    ], DateRangePicker.prototype, \"min\", void 0);\n    __decorate$2([\n        Property(new Date(2099, 11, 31))\n    ], DateRangePicker.prototype, \"max\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"locale\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"weekNumber\", void 0);\n    __decorate$2([\n        Property('Gregorian')\n    ], DateRangePicker.prototype, \"calendarMode\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"created\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"destroyed\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"change\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"cleared\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"navigated\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"renderDayCell\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"startDate\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"endDate\", void 0);\n    __decorate$2([\n        Collection([{}], Presets)\n    ], DateRangePicker.prototype, \"presets\", void 0);\n    __decorate$2([\n        Property('')\n    ], DateRangePicker.prototype, \"width\", void 0);\n    __decorate$2([\n        Property(1000)\n    ], DateRangePicker.prototype, \"zIndex\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"showClearButton\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"showTodayButton\", void 0);\n    __decorate$2([\n        Property('Month')\n    ], DateRangePicker.prototype, \"start\", void 0);\n    __decorate$2([\n        Property('Month')\n    ], DateRangePicker.prototype, \"depth\", void 0);\n    __decorate$2([\n        Property('')\n    ], DateRangePicker.prototype, \"cssClass\", void 0);\n    __decorate$2([\n        Property('-')\n    ], DateRangePicker.prototype, \"separator\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"minDays\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"maxDays\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"strictMode\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"format\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"enabled\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"readonly\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"allowEdit\", void 0);\n    __decorate$2([\n        Property('Never')\n    ], DateRangePicker.prototype, \"floatLabelType\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"placeholder\", void 0);\n    __decorate$2([\n        Property({})\n    ], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"open\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"close\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"select\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"focus\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"blur\", void 0);\n    DateRangePicker = __decorate$2([\n        NotifyPropertyChanges\n    ], DateRangePicker);\n    return DateRangePicker;\n}(CalendarBase));\n\n/**\n * DateRangePicker modules\n */\n\nvar __extends$3 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP$2 = 'e-popup';\nvar ERROR$2 = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH$2 = new Date().getMonth();\nvar YEAR$2 = new Date().getFullYear();\nvar ROOT$3 = 'e-timepicker';\nvar LIBRARY$2 = 'e-lib';\nvar CONTROL$2 = 'e-control';\nvar CONTENT$2 = 'e-content';\nvar SELECTED$4 = 'e-active';\nvar HOVER$1 = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED$3 = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar FOCUS = 'e-input-focus';\nvar LISTCLASS$1 = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW$2 = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style'];\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TimePickerBase;\n(function (TimePickerBase) {\n    // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n        if (this.calendarMode === 'Gregorian') {\n            \n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            \n        }\n        var start;\n        var interval = step * 60000;\n        var listItems = [];\n        var timeCollections = [];\n        start = +(min.setMilliseconds(0));\n        var end = +(max.setMilliseconds(0));\n        while (end >= start) {\n            timeCollections.push(start);\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\n            start += interval;\n        }\n        var listTag = ListBase.createList(createdEl, listItems, null, true);\n        return { collection: timeCollections, list: listTag };\n    }\n    TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\nvar TimeMaskPlaceholder = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(TimeMaskPlaceholder, _super);\n    function TimeMaskPlaceholder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$3([\n        Property('day')\n    ], TimeMaskPlaceholder.prototype, \"day\", void 0);\n    __decorate$3([\n        Property('month')\n    ], TimeMaskPlaceholder.prototype, \"month\", void 0);\n    __decorate$3([\n        Property('year')\n    ], TimeMaskPlaceholder.prototype, \"year\", void 0);\n    __decorate$3([\n        Property('day of the week')\n    ], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n    __decorate$3([\n        Property('hour')\n    ], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n    __decorate$3([\n        Property('minute')\n    ], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n    __decorate$3([\n        Property('second')\n    ], TimeMaskPlaceholder.prototype, \"second\", void 0);\n    return TimeMaskPlaceholder;\n}(ChildProperty));\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\nvar TimePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(TimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {TimePickerModel} options - Specifies the TimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function TimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.liCollections = [];\n        _this.timeCollections = [];\n        _this.disableItemCollection = [];\n        _this.invalidValueString = null;\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.maskedDateValue = '';\n        _this.moduleName = _this.getModuleName();\n        _this.timeOptions = options;\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    TimePicker.prototype.preRender = function () {\n        this.keyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n        this.inputElement = this.element;\n        this.angularTag = null;\n        this.formElement = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-TIMEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        this.openPopupEventArgs = {\n            appendTo: document.body\n        };\n    };\n    // element creation\n    TimePicker.prototype.render = function () {\n        this.initialize();\n        this.createInputElement();\n        this.updateHtmlAttributeToWrapper();\n        this.setTimeAllowEdit();\n        this.setEnable();\n        this.validateInterval();\n        this.bindEvents();\n        this.validateDisable();\n        this.setValue(this.getFormattedValue(this.value));\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n            this.checkErrorState(this.maskedDateValue);\n        }\n        this.anchor = this.inputElement;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputEleValue = this.getDateObject(this.inputElement.value);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n        }\n        this.renderComplete();\n    };\n    TimePicker.prototype.setTimeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.clearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [EDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [EDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [EDITABLE]);\n        }\n    };\n    TimePicker.prototype.validateDisable = function () {\n        this.setMinMax(this.initMin, this.initMax);\n        this.popupCreation();\n        this.popupObj.destroy();\n        this.popupWrapper = this.popupObj = null;\n        if ((!isNaN(+this.value) && this.value !== null)) {\n            if (!this.valueIsDisable(this.value)) {\n                //disable value given in value property so reset the date based on current date\n                if (this.strictMode) {\n                    this.resetState();\n                }\n                this.initValue = null;\n                this.initMax = this.getDateObject(this.initMax);\n                this.initMin = this.getDateObject(this.initMin);\n                this.timeCollections = this.liCollections = [];\n                this.setMinMax(this.initMin, this.initMax);\n            }\n        }\n    };\n    TimePicker.prototype.validationAttribute = function (target, input) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        input.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes$$1 = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            target.removeAttribute(attributes$$1[i]);\n        }\n    };\n    TimePicker.prototype.initialize = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.defaultCulture = new Internationalization('en');\n        this.checkTimeFormat();\n        this.checkInvalidValue(this.value);\n        // persist the value property.\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo))) }, true);\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.checkAttributes(false); //check the input element attributes\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('timepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.initValue = this.checkDateValue(this.value);\n        this.initMin = this.checkDateValue(this.min);\n        this.initMax = this.checkDateValue(this.max);\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            //for angular case\n            this.element.id = getUniqueID('ej2_timepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n    };\n    TimePicker.prototype.checkTimeFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\n            }\n            else {\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    TimePicker.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    TimePicker.prototype.createInputElement = function () {\n        var updatedCssClassesValue = this.cssClass;\n        var isBindClearAction = this.enableMask ? false : true;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            bindClearAction: isBindClearAction,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassesValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [' e-input-group-icon e-time-icon e-icons']\n        }, this.createElement);\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\n        attributes(this.inputElement, {\n            'aria-autocomplete': 'list', 'tabindex': '0',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-disabled': 'false', 'aria-invalid': 'false'\n        });\n        if (!this.isNullOrEmpty(this.inputStyle)) {\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\n        }\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\n    };\n    TimePicker.prototype.getCldrDateTimeFormat = function () {\n        var culture = new Internationalization(this.locale);\n        var cldrTime;\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.checkInvalidValue = function (value) {\n        var isInvalid = false;\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n            var valueString = value;\n            if (typeof valueString === 'string') {\n                valueString = valueString.trim();\n            }\n            var valueExpression = null;\n            var valueExp = null;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            else if (typeof value === 'string') {\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\n                    if (isNullOrUndefined(valueExpression)) {\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\n                        }));\n                        if (isNullOrUndefined(valueExpression)) {\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n                            }));\n                        }\n                    }\n                }\n            }\n            valueExp = this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\n            });\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n                var extISOString = null;\n                var basicISOString = null;\n                // eslint-disable-next-line\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\n                    isInvalid = true;\n                }\n                else {\n                    valueExpression = new Date('' + valueString);\n                }\n            }\n            if (isInvalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n                this.initValue = null;\n            }\n            else {\n                this.setProperties({ value: valueExpression }, true);\n                this.initValue = this.value;\n            }\n        }\n    };\n    TimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimePicker.prototype.cldrFormat = function (type) {\n        var cldrDateTimeString;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTimeString = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTimeString;\n    };\n    // destroy function\n    TimePicker.prototype.destroy = function () {\n        this.hide();\n        this.unBindEvents();\n        var ariaAttribute = {\n            'aria-autocomplete': 'list', 'tabindex': '0',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-disabled': 'true', 'aria-invalid': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            if (this.angularTag === null) {\n                this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n            }\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.enableElement([this.inputElement]);\n            this.inputElement.classList.remove('e-input');\n            if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n                Input.setEnabled(true, this.inputElement, this.floatLabelType);\n            }\n        }\n        if (this.inputWrapper.container) {\n            detach(this.inputWrapper.container);\n        }\n        this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n        this.liCollections = this.timeCollections = this.disableItemCollection = [];\n        if (!isNullOrUndefined(this.rippleFn)) {\n            this.rippleFn();\n        }\n        _super.prototype.destroy.call(this);\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    TimePicker.prototype.ensureInputAttribute = function () {\n        var propertyList = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            propertyList[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < propertyList.length; i++) {\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n                }\n            }\n            else {\n                this.inputElement.removeAttribute(propertyList[i]);\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n            }\n        }\n    };\n    //popup creation\n    TimePicker.prototype.popupCreation = function () {\n        this.popupWrapper = this.createElement('div', {\n            className: ROOT$3 + ' ' + POPUP$2,\n            attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\n        });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.generateList();\n            append([this.listWrapper], this.popupWrapper);\n        }\n        this.openPopupEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.addSelection();\n        this.renderPopup();\n        detach(this.popupWrapper);\n    };\n    TimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    TimePicker.prototype.generateList = function () {\n        this.createListItems();\n        this.wireListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS$1 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n    };\n    TimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        this.popupObj = new Popup(this.popupWrapper, {\n            width: this.setPopupWidth(this.width),\n            zIndex: this.zIndex,\n            targetType: 'relative',\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            enableRtl: this.enableRtl,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            offsetY: OFFSETVAL,\n            open: function () {\n                _this.popupWrapper.style.visibility = 'visible';\n                addClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n            }, close: function () {\n                removeClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n                _this.unWireListEvents();\n                _this.inputElement.removeAttribute('aria-activedescendant');\n                remove(_this.popupObj.element);\n                _this.popupObj.destroy();\n                _this.popupWrapper.innerHTML = '';\n                _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\n        }\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    };\n    //util function\n    TimePicker.prototype.getFormattedValue = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { skeleton: 'medium', type: 'time' });\n        }\n    };\n    TimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = !this.isNullOrEmpty(this.initValue);\n            if (this.checkDateValue(dateValue)) {\n                var date = value ? this.initValue.getDate() : DAY;\n                var month = value ? this.initValue.getMonth() : MONTH$2;\n                var year = value ? this.initValue.getFullYear() : YEAR$2;\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n            }\n        }\n        return null;\n    };\n    TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassesValue = (this.htmlAttributes[key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassesValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var timeStyle = this.inputWrapper.container.getAttribute(key);\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[key]) :\n                            this.htmlAttributes[key];\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[key]);\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[key]);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n        if (!isNullOrUndefined(cssClassOld)) {\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssClassNew)) {\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n        }\n    };\n    TimePicker.prototype.removeErrorClass = function () {\n        removeClass([this.inputWrapper.container], ERROR$2);\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\n    };\n    TimePicker.prototype.checkErrorState = function (val) {\n        var value = this.getDateObject(val);\n        if ((this.validateState(value) && !this.invalidValueString) || (this.enableMask && this.inputElement.value === this.maskedDateValue)) {\n            this.removeErrorClass();\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$2);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n    };\n    TimePicker.prototype.validateInterval = function () {\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.enableElement([this.inputWrapper.buttons[0]]);\n        }\n        else {\n            this.disableTimeIcon();\n        }\n    };\n    TimePicker.prototype.disableTimeIcon = function () {\n        this.disableElement([this.inputWrapper.buttons[0]]);\n        this.hide();\n    };\n    TimePicker.prototype.disableElement = function (element) {\n        addClass(element, DISABLED$3);\n    };\n    TimePicker.prototype.enableElement = function (element) {\n        removeClass(element, DISABLED$3);\n    };\n    TimePicker.prototype.selectInputText = function () {\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.setCursorToEnd = function () {\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.getMeridianText = function () {\n        var meridian;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n        }\n        else {\n            var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n            var mainVal = 'main.';\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n        }\n        return meridian;\n    };\n    TimePicker.prototype.getCursorSelection = function () {\n        var input = (this.inputElement);\n        var start = 0;\n        var end = 0;\n        if (!isNaN(input.selectionStart)) {\n            start = input.selectionStart;\n            end = input.selectionEnd;\n        }\n        return { start: Math.abs(start), end: Math.abs(end) };\n    };\n    TimePicker.prototype.getActiveElement = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n        }\n        else {\n            return null;\n        }\n    };\n    TimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TimePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    TimePicker.prototype.setPopupWidth = function (width) {\n        width = this.setWidth(width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    TimePicker.prototype.setScrollPosition = function () {\n        var element = this.selectedElement;\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    TimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextEle = element.nextElementSibling;\n        var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        var liHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.setScrollTo = function () {\n        var element;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                var initialTime = this.timeCollections[0];\n                var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n            }\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.getText = function () {\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\n    };\n    TimePicker.prototype.getValue = function (value) {\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\n            format: this.cldrTimeFormat(), type: 'time'\n        });\n    };\n    TimePicker.prototype.cldrDateFormat = function () {\n        var cldrDate;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDate = (getValue('dateFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\n        }\n        return cldrDate;\n    };\n    TimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.formatString)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.dateToNumeric = function () {\n        var cldrTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrTime = (getValue('timeFormats.medium', getDefaultDateObject()));\n        }\n        else {\n            cldrTime = (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.getExactDateTime = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.setValue = function (value) {\n        var time = this.checkValue(value);\n        if (!this.strictMode && !this.validateState(time)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            if (this.isNullOrEmpty(time)) {\n                this.initValue = null;\n                this.validateMinMax(this.value, this.min, this.max);\n            }\n            else {\n                this.initValue = this.compareFormatChange(time);\n            }\n        }\n        this.updateInput(true, this.initValue);\n    };\n    TimePicker.prototype.compareFormatChange = function (value) {\n        if (isNullOrUndefined(value)) {\n            return null;\n        }\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\n    };\n    TimePicker.prototype.updatePlaceHolder = function () {\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    };\n    //event related functions\n    TimePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    TimePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n    };\n    TimePicker.prototype.popupHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        if (this.isPopupOpen()) {\n            this.closePopup(0, e);\n        }\n        else {\n            this.inputElement.focus();\n            this.show(e);\n        }\n    };\n    TimePicker.prototype.mouseDownHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.readonly) {\n            this.inputElement.setSelectionRange(0, 0);\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        }\n    };\n    TimePicker.prototype.mouseUpHandler = function (event) {\n        if (!this.readonly) {\n            event.preventDefault();\n            if (this.enableMask) {\n                event.preventDefault();\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n                return;\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n                var curPos = this.getCursorSelection();\n                if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n                    if (this.inputElement.value.length > 0) {\n                        this.cursorDetails = this.focusSelection();\n                    }\n                    this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.focusSelection = function () {\n        var regex = new RegExp('^[a-zA-Z0-9]+$');\n        var split = this.inputElement.value.split('');\n        split.push(' ');\n        var curPos = this.getCursorSelection();\n        var start = 0;\n        var end = 0;\n        var isSeparator = false;\n        if (!this.isTextSelected) {\n            for (var i = 0; i < split.length; i++) {\n                if (!regex.test(split[i])) {\n                    end = i;\n                    isSeparator = true;\n                }\n                if (isSeparator) {\n                    if (curPos.start >= start && curPos.end <= end) {\n                        // eslint-disable-next-line no-self-assign\n                        end = end;\n                        this.isTextSelected = true;\n                        break;\n                    }\n                    else {\n                        start = i + 1;\n                        isSeparator = false;\n                    }\n                }\n            }\n        }\n        else {\n            start = curPos.start;\n            end = curPos.end;\n            this.isTextSelected = false;\n        }\n        return { start: start, end: end };\n    };\n    TimePicker.prototype.inputHandler = function (event) {\n        if (!this.readonly && this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'home':\n                case 'end':\n                case 'up':\n                case 'down':\n                    if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n                        event.preventDefault();\n                        this.notify(\"keyDownHandler\", {\n                            module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    if (!this.enableMask || this.isPopupOpen()) {\n                        this.keyHandler(event);\n                    }\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.updateValue(this.valueWithMinutes, event);\n                    }\n                    else {\n                        this.updateValue(this.inputElement.value, event);\n                    }\n                    this.hide();\n                    this.isNavigate = false;\n                    if (this.isPopupOpen()) {\n                        event.stopPropagation();\n                    }\n                    break;\n                case 'open':\n                    this.show(event);\n                    break;\n                case 'escape':\n                    this.updateInputValue(this.objToString(this.value));\n                    if (this.enableMask) {\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                        this.createMask();\n                    }\n                    this.previousState(this.value);\n                    this.hide();\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n                case 'right':\n                case 'left':\n                case 'tab':\n                case 'shiftTab':\n                    if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n                        if ((this.inputElement.selectionStart == 0 && this.inputElement.selectionEnd == this.inputElement.value.length) ||\n                            (this.inputElement.selectionEnd !== this.inputElement.value.length && event.action == 'tab') ||\n                            (this.inputElement.selectionStart !== 0 && event.action == 'shiftTab') || (event.action == 'left' || event.action == 'right')) {\n                            event.preventDefault();\n                        }\n                        this.notify(\"keyDownHandler\", { module: \"MaskedDateTime\",\n                            e: event\n                        });\n                    }\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n        this.setSelection(li, event);\n        if (li && li.classList.contains(LISTCLASS$1)) {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (this.isPopupOpen() && this.popupWrapper) {\n            var args = {\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                name: 'open'\n            };\n            removeClass([document.body], OVERFLOW$2);\n            this.trigger('close', args, function (args) {\n                if (!args.cancel) {\n                    var animModel = {\n                        name: 'FadeOut',\n                        duration: ANIMATIONDURATION,\n                        delay: delay ? delay : 0\n                    };\n                    _this.popupObj.hide(new Animation(animModel));\n                    removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    _this.inputElement.removeAttribute('aria-owns');\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                    EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n                }\n                if (Browser.isDevice && _this.modal) {\n                    _this.modal.style.display = 'none';\n                    _this.modal.outerHTML = '';\n                    _this.modal = null;\n                }\n                if (Browser.isDevice) {\n                    if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n                        _this.mobileTimePopupWrap.remove();\n                        _this.mobileTimePopupWrap = null;\n                    }\n                }\n                if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n                    _this.inputElement.removeAttribute('readonly');\n                }\n            });\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    TimePicker.prototype.disposeServerPopup = function () {\n        if (this.popupWrapper) {\n            this.popupWrapper.style.visibility = 'hidden';\n            this.popupWrapper.style.top = '-9999px';\n            this.popupWrapper.style.left = '-9999px';\n            this.popupWrapper.style.width = '0px';\n            this.popupWrapper.style.height = '0px';\n        }\n    };\n    TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n            this.prevValue = this.inputElement.value;\n            if (+this.prevDate !== +this.value) {\n                this.changeEvent(event);\n            }\n        }\n        else {\n            if (!isNavigation) {\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n                }\n            }\n            else {\n                var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n                if (+this.prevDate !== +value) {\n                    this.valueProcess(event, value);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS$1);\n        this.setHover(currentLi, HOVER$1);\n    };\n    TimePicker.prototype.setHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeHover(className);\n            addClass([li], className);\n            if (className === NAVIGATION) {\n                li.setAttribute('aria-selected', 'true');\n            }\n        }\n    };\n    TimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li)) {\n            this.checkValue(li.getAttribute('data-value'));\n            if (this.enableMask) {\n                this.notify(\"setMaskSelection\", {\n                    module: \"MaskedDateTime\"\n                });\n            }\n            this.selectedElement = li;\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.checkValueChange(event, true);\n        }\n    };\n    TimePicker.prototype.onMouseLeave = function () {\n        this.removeHover(HOVER$1);\n    };\n    TimePicker.prototype.scrollHandler = function () {\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n            return;\n        }\n        else {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\n            this.initMin = this.getDateObject('12:00:00 AM');\n        }\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n            this.initMax = this.getDateObject('11:59:59 PM');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n        var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n        }\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\n            this.disableTimeIcon();\n        }\n        if (this.strictMode) {\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n        }\n        this.checkErrorState(dateVal);\n        return dateVal;\n    };\n    TimePicker.prototype.valueIsDisable = function (value) {\n        if (this.disableItemCollection.length > 0) {\n            if (this.disableItemCollection.length === this.timeCollections.length) {\n                return false;\n            }\n            var time = value instanceof Date ? this.objToString(value) : value;\n            for (var index = 0; index < this.disableItemCollection.length; index++) {\n                if (time === this.disableItemCollection[index]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.validateState = function (val) {\n        if (!this.strictMode) {\n            if (this.valueIsDisable(val)) {\n                var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\n                    this.setCurrentDate(this.getDateObject(val));\n                var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n                var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\n                        return false;\n                    }\n                }\n                else {\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\n                        return false;\n                    }\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n        var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n        var minValue = this.createDateObj(this.getFormattedValue(minimum));\n        var value = this.createDateObj(this.getFormattedValue(val));\n        if (this.strictMode) {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                this.initValue = this.getDateObject(maxValue);\n                this.updateInputValue(this.getValue(this.initValue));\n                if (this.enableMask) {\n                    this.createMask();\n                }\n                return this.inputElement.value;\n            }\n            else if (+minValue >= +value) {\n                return this.getDateObject(minValue);\n            }\n            else if (+value >= +maxValue || +minValue === +maxValue) {\n                return this.getDateObject(maxValue);\n            }\n        }\n        else {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                if (!isNaN(+this.createDateObj(dateVal))) {\n                    return dateVal;\n                }\n            }\n        }\n        return dateVal;\n    };\n    TimePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyConfigure,\n                eventName: 'keydown'\n            });\n            if (this.showClearButton && this.inputElement) {\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n            }\n        }\n    };\n    TimePicker.prototype.keydownHandler = function (e) {\n        switch (e.code) {\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    this.notify(\"keyDownHandler\", {\n                        module: \"MaskedDateTime\",\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    TimePicker.prototype.formResetHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            var timeValue = this.inputElement.getAttribute('value');\n            var val = this.checkDateValue(this.inputEleValue);\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                val = null;\n                timeValue = '';\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: val }, true);\n            this.prevDate = this.value;\n            this.valueWithMinutes = this.value;\n            this.initValue = this.value;\n            if (this.inputElement) {\n                this.updateInputValue(timeValue);\n                if (this.enableMask) {\n                    if (!timeValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    this.createMask();\n                }\n                this.checkErrorState(timeValue);\n                this.prevValue = this.inputElement.value;\n            }\n        }\n    };\n    TimePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    };\n    TimePicker.prototype.inputEventHandler = function () {\n        if (this.enableMask) {\n            this.notify(\"inputHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    TimePicker.prototype.unBindEvents = function () {\n        if (this.inputWrapper) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n        if (this.inputEvent) {\n            this.inputEvent.destroy();\n        }\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    TimePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n    };\n    TimePicker.prototype.raiseClearedEvent = function (e) {\n        var clearedArgs = {\n            event: e\n        };\n        this.trigger('cleared', clearedArgs);\n    };\n    TimePicker.prototype.clearHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        if (!isNullOrUndefined(this.value)) {\n            this.clear(e);\n        }\n        else {\n            this.resetState();\n            this.raiseClearedEvent(e);\n        }\n        if (this.popupWrapper) {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (this.enableMask) {\n            this.notify(\"clearHandler\", {\n                module: \"MaskedDateTime\"\n            });\n        }\n    };\n    TimePicker.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.initValue = null;\n        this.resetState();\n        this.raiseClearedEvent(event);\n        this.changeEvent(event);\n    };\n    TimePicker.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.zIndex = this.zIndex;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.inputElement.getAttribute(prop);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.initValue = value;\n                                this.updateInput(false, this.initValue);\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    TimePicker.prototype.setCurrentDate = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    };\n    TimePicker.prototype.getTextFormat = function () {\n        var time = 0;\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n            time = 1;\n        }\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\n            var strArray = this.cldrTimeFormat().split(' ');\n            for (var i = 0; i < strArray.length; i++) {\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n                    time = i;\n                    break;\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.updateValue = function (value, event) {\n        var val;\n        if (this.isNullOrEmpty(value)) {\n            this.resetState();\n        }\n        else {\n            val = this.checkValue(value);\n            if (this.strictMode) {\n                // this case set previous value to the text box when set invalid date\n                var inputVal = (val === null && value.trim().length > 0) ?\n                    this.previousState(this.prevDate) : this.inputElement.value;\n                this.updateInputValue(inputVal);\n                if (this.enableMask) {\n                    if (!inputVal) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    if (isNullOrUndefined(val) && value != this.maskedDateValue) {\n                        this.createMask();\n                    }\n                    if (isNullOrUndefined(val) && value == this.maskedDateValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                }\n            }\n        }\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\n    };\n    TimePicker.prototype.previousState = function (date) {\n        var value = this.getDateObject(date);\n        for (var i = 0; i < this.timeCollections.length; i++) {\n            if (+value === this.timeCollections[i]) {\n                this.activeIndex = i;\n                this.selectedElement = this.liCollections[i];\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\n                break;\n            }\n        }\n        return this.prevValue;\n    };\n    TimePicker.prototype.resetState = function () {\n        this.removeSelection();\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\n        this.valueWithMinutes = this.activeIndex = null;\n        if (!this.strictMode) {\n            this.checkErrorState(null);\n        }\n    };\n    TimePicker.prototype.objToString = function (val) {\n        if (isNullOrUndefined(this.checkDateValue(val))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.checkValue = function (value) {\n        if (!this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.validateValue(date, value);\n        }\n        this.resetState();\n        return this.valueWithMinutes = null;\n    };\n    TimePicker.prototype.validateValue = function (date, value) {\n        var time;\n        var val = this.validateMinMax(value, this.min, this.max);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = this.objToString(this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = this.objToString(this.valueWithMinutes);\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            var value_1 = val.trim().length > 0 ? val : '';\n            this.updateInputValue(value_1);\n            if (this.enableMask) {\n                if (!value_1) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        else {\n            this.updateInputValue(time);\n            if (this.enableMask) {\n                if (time == '') {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n                if (isNullOrUndefined(time) && value != this.maskedDateValue) {\n                    this.createMask();\n                }\n                if (isNullOrUndefined(time) && value == this.maskedDateValue) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.createMask = function () {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    };\n    TimePicker.prototype.findNextElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var timeVal = null;\n        var count = this.liCollections.length;\n        var collections = this.timeCollections;\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n            if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(collections.length - 1, true);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < count; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            var index = this.validLiElement(i);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === count - 1) {\n                            var index = this.validLiElement(0);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = count - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            var index = this.validLiElement(i, true);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === 0) {\n                            var index = this.validLiElement(count - 1);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n        }\n        else {\n            this.selectNextItem(event);\n        }\n    };\n    TimePicker.prototype.selectNextItem = function (event) {\n        var index = this.validLiElement(0, event.action === 'down' ? false : true);\n        this.activeIndex = index;\n        this.selectedElement = this.liCollections[index];\n        this.elementValue(new Date(this.timeCollections[index]));\n    };\n    TimePicker.prototype.elementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            this.checkValue(value);\n        }\n    };\n    TimePicker.prototype.validLiElement = function (index, backward) {\n        var elementIndex = null;\n        var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\n            this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n        var isCheck = true;\n        if (items.length) {\n            if (backward) {\n                for (var i = index; i >= 0; i--) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === 0) {\n                        if (isCheck) {\n                            index = i = items.length;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = index; i <= items.length - 1; i++) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === items.length - 1) {\n                        if (isCheck) {\n                            index = i = -1;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n        }\n        return elementIndex;\n    };\n    TimePicker.prototype.keyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0 || this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n            return;\n        }\n        var count = this.timeCollections.length;\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n                    this.activeIndex = index;\n                    this.selectedElement = this.liCollections[index];\n                    this.elementValue(new Date(this.timeCollections[index]));\n                }\n                else {\n                    this.findNextElement(event);\n                }\n            }\n            else {\n                this.findNextElement(event);\n            }\n        }\n        else {\n            var nextItem = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\n                    false : true);\n                nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(count - 1, true);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(new Date(nextItem));\n        }\n        this.isNavigate = true;\n        this.setHover(this.selectedElement, NAVIGATION);\n        this.setActiveDescendant();\n        this.selectInputText();\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setScrollPosition();\n        }\n    };\n    TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    };\n    TimePicker.prototype.getCultureDateObject = function (ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    };\n    TimePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    TimePicker.prototype.unWireListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    TimePicker.prototype.valueProcess = function (event, value) {\n        var result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\n        if (+this.prevDate !== +result) {\n            this.initValue = result;\n            this.changeEvent(event);\n        }\n    };\n    TimePicker.prototype.changeEvent = function (e) {\n        this.addSelection();\n        this.updateInput(true, this.initValue);\n        var eventArgs = {\n            event: (e || null),\n            value: this.value,\n            text: (this.inputElement).value,\n            isInteracted: !isNullOrUndefined(e),\n            element: this.element\n        };\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n        }\n        else {\n            this.trigger('change', eventArgs);\n        }\n        this.invalidValueString = null;\n        this.checkErrorState(this.value);\n    };\n    TimePicker.prototype.updateInput = function (isUpdate, date) {\n        if (isUpdate) {\n            this.prevValue = this.getValue(date);\n        }\n        this.prevDate = this.valueWithMinutes = date;\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n            this.setProperties({ value: date }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.checkErrorState(this.invalidValueString);\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.setActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement) && this.value) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    TimePicker.prototype.removeSelection = function () {\n        this.removeHover(HOVER$1);\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n            if (items.length) {\n                removeClass(items, SELECTED$4);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.removeHover = function (className) {\n        var hoveredItem = this.getHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n            if (className === NAVIGATION) {\n                hoveredItem[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.getHoverItem = function (className) {\n        var hoveredItem;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    TimePicker.prototype.setActiveClass = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if ((this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.addSelection = function () {\n        this.selectedElement = null;\n        this.removeSelection();\n        this.setActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    TimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3));\n    };\n    TimePicker.prototype.createDateObj = function (val) {\n        var formatStr = null;\n        var today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n        var value = null;\n        if (typeof val === 'string') {\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n                if (isNullOrUndefined(value)) {\n                    value = this.timeParse(today, val);\n                }\n            }\n            else {\n                value = this.timeParse(today, val);\n            }\n        }\n        else if (val instanceof Date) {\n            value = val;\n        }\n        return value;\n    };\n    TimePicker.prototype.timeParse = function (today, val) {\n        var value;\n        value = this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\n        });\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\n        }) : value;\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n        return value;\n    };\n    TimePicker.prototype.createListItems = function () {\n        var _this = this;\n        this.listWrapper = this.createElement('div', { className: CONTENT$2, attrs: { 'tabindex': '-1' } });\n        var start;\n        var interval = this.step * 60000;\n        var listItems = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\n        var end = +(this.getDateObject(this.initMax).setMilliseconds(0));\n        while (end >= start) {\n            this.timeCollections.push(start);\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\n            start += interval;\n        }\n        var listBaseOptions = {\n            itemCreated: function (args) {\n                var eventArgs = {\n                    element: args.item,\n                    text: args.text, value: _this.getDateObject(args.text), isDisabled: false\n                };\n                _this.trigger('itemRender', eventArgs, function (eventArgs) {\n                    if (eventArgs.isDisabled) {\n                        eventArgs.element.classList.add(DISABLED$3);\n                    }\n                    if (eventArgs.element.classList.contains(DISABLED$3)) {\n                        _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n                    }\n                });\n            }\n        };\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options', 'tabindex': '0' });\n        append([this.listTag], this.listWrapper);\n    };\n    TimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObj) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' ||\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && target !== this.inputElement\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\n            if (this.isPopupOpen()) {\n                this.hide();\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\n                    && (target === this.popupWrapper);\n            }\n        }\n    };\n    TimePicker.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hide();\n            addClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    TimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n            this.setProperties({ min: this.initMin }, true);\n        }\n        else {\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n            this.setProperties({ max: this.initMax }, true);\n        }\n        if (this.inputElement.value === '') {\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            this.checkValue(this.inputElement.value);\n        }\n        this.checkValueChange(null, false);\n    };\n    TimePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isPreventBlur && this.isPopupOpen()) {\n            this.inputElement.focus();\n            return;\n        }\n        this.closePopup(0, e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value == this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        var blurArguments = {\n            model: this\n        };\n        this.trigger('blur', blurArguments);\n        if (this.getText() !== this.inputElement.value) {\n            this.updateValue((this.inputElement).value, e);\n        }\n        else if (this.inputElement.value.trim().length === 0) {\n            this.resetState();\n        }\n        this.cursorDetails = null;\n        this.isNavigate = false;\n        if (this.inputElement.value === '') {\n            this.invalidValueString = null;\n        }\n    };\n    /**\n     * Focuses out the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    TimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [FOCUS]);\n            var blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n    };\n    TimePicker.prototype.isPopupOpen = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n            return true;\n        }\n        return false;\n    };\n    TimePicker.prototype.inputFocusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        var focusArguments = {\n            model: this\n        };\n        if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n            this.selectInputText();\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType == 'Auto' || this.floatLabelType == 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        this.trigger('focus', focusArguments);\n        this.clearIconState();\n        if (this.openOnFocus) {\n            this.show();\n        }\n    };\n    /**\n     * Focused the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    TimePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Hides the TimePicker popup.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    TimePicker.prototype.hide = function () {\n        this.closePopup(100, null);\n        this.clearIconState();\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup to show the list items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    TimePicker.prototype.show = function (event) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\n            return;\n        }\n        else {\n            this.popupCreation();\n            if (Browser.isDevice && this.listWrapper) {\n                this.modal = this.createElement('div');\n                this.modal.className = '' + ROOT$3 + ' e-time-modal';\n                document.body.className += ' ' + OVERFLOW$2;\n                document.body.appendChild(this.modal);\n            }\n            if (Browser.isDevice) {\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\n                document.body.appendChild(this.mobileTimePopupWrap);\n            }\n            this.openPopupEventArgs = {\n                popup: this.popupObj || null,\n                cancel: false,\n                event: event || null,\n                name: 'open',\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n            };\n            var eventArgs = this.openPopupEventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                _this.openPopupEventArgs = eventArgs;\n                if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n                    _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupAlignment(_this.openPopupEventArgs);\n                    _this.setScrollPosition();\n                    if (!Browser.isDevice) {\n                        _this.inputElement.focus();\n                    }\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: ANIMATIONDURATION\n                    };\n                    _this.popupObj.refreshPosition(_this.anchor);\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    _this.setActiveDescendant();\n                    attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                    attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options' });\n                    addClass([_this.inputWrapper.container], FOCUS);\n                    EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n                    _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n                }\n                else {\n                    _this.popupObj.destroy();\n                    _this.popupWrapper = _this.listTag = undefined;\n                    _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n                    _this.popupObj = null;\n                }\n            });\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    TimePicker.prototype.formatValues = function (type) {\n        var value;\n        if (typeof type === 'number') {\n            value = formatUnit(type);\n        }\n        else if (typeof type === 'string') {\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n        }\n        return value;\n    };\n    TimePicker.prototype.popupAlignment = function (args) {\n        args.popup.position.X = this.formatValues(args.popup.position.X);\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.relateTo = this.anchor = document.body;\n            this.popupObj.targetType = 'container';\n        }\n        if (!isNaN(parseFloat(args.popup.position.X))) {\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\n        }\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n        }\n        if (!Browser.isDevice) {\n            switch (args.popup.position.X) {\n                case 'left':\n                    break;\n                case 'right':\n                    args.popup.offsetX = this.containerStyle.width;\n                    break;\n                case 'center':\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\n                    break;\n            }\n            switch (args.popup.position.Y) {\n                case 'top':\n                    break;\n                case 'bottom':\n                    break;\n                case 'center':\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\n                    break;\n            }\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.inputWrapper.container;\n                this.anchor = this.inputElement;\n                this.popupObj.targetType = 'relative';\n            }\n        }\n        else {\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.anchor = document.body;\n                this.popupObj.offsetY = 0;\n                this.popupObj.targetType = 'container';\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    TimePicker.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    TimePicker.prototype.getModuleName = function () {\n        return 'timepicker';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n                    if (this.readonly) {\n                        this.hide();\n                    }\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    this.setEnable();\n                    break;\n                case 'allowEdit':\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    this.setEnableRtl();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'locale':\n                    this.setProperties({ locale: newProp.locale }, true);\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.updatePlaceHolder();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkTimeFormat();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.createMask();\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    if (!this.invalidValueString) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\n                            newProp.value = this.value;\n                        }\n                        else {\n                            if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                            }\n                        }\n                        this.initValue = newProp.value;\n                        newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n                    }\n                    else {\n                        this.updateInputValue(this.invalidValueString);\n                        this.checkErrorState(this.invalidValueString);\n                    }\n                    this.checkValueChange(null, false);\n                    if (this.isPopupOpen()) {\n                        this.setScrollPosition();\n                    }\n                    if (this.isAngular && this.preventChange) {\n                        this.preventChange = false;\n                    }\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    if (newProp.strictMode) {\n                        this.checkErrorState(null);\n                    }\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.checkValue((this.inputElement).value);\n                    this.checkValueChange(null, false);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n                        if (this.popupWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.checkInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"width\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"cssClass\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"strictMode\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"format\", void 0);\n    __decorate$3([\n        Property(true)\n    ], TimePicker.prototype, \"enabled\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"readonly\", void 0);\n    __decorate$3([\n        Property({})\n    ], TimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$3([\n        Property('Never')\n    ], TimePicker.prototype, \"floatLabelType\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"placeholder\", void 0);\n    __decorate$3([\n        Property(1000)\n    ], TimePicker.prototype, \"zIndex\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$3([\n        Property(true)\n    ], TimePicker.prototype, \"showClearButton\", void 0);\n    __decorate$3([\n        Property(30)\n    ], TimePicker.prototype, \"step\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"scrollTo\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"value\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"min\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"max\", void 0);\n    __decorate$3([\n        Property(true)\n    ], TimePicker.prototype, \"allowEdit\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"enableMask\", void 0);\n    __decorate$3([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], TimePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"change\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"created\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"destroyed\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"open\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"itemRender\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"close\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"cleared\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"blur\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"focus\", void 0);\n    TimePicker = __decorate$3([\n        NotifyPropertyChanges\n    ], TimePicker);\n    return TimePicker;\n}(Component));\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\nvar __extends$4 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\nvar DATEWRAPPER$1 = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY$1 = new Date().getDate();\nvar MONTH$3 = new Date().getMonth();\nvar YEAR$3 = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT$4 = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER$1 = 'e-input-group-icon';\nvar POPUP$3 = 'e-popup';\nvar TIMEICON$1 = 'e-time-icon';\nvar INPUTFOCUS$2 = 'e-input-focus';\nvar POPUPDIMENSION$1 = '250px';\nvar ICONANIMATION$1 = 'e-icon-anim';\nvar DISABLED$4 = 'e-disabled';\nvar ERROR$3 = 'e-error';\nvar CONTENT$3 = 'e-content';\nvar NAVIGATION$1 = 'e-navigation';\nvar ACTIVE$2 = 'e-active';\nvar HOVER$2 = 'e-hover';\nvar ICONS$1 = 'e-icons';\nvar HALFPOSITION$1 = 2;\nvar LISTCLASS$2 = 'e-list-item';\nvar ANIMATIONDURATION$1 = 100;\nvar OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\nvar DateTimePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(DateTimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DateTimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.valueWithMinutes = null;\n        _this.scrollInvoked = false;\n        _this.moduleName = _this.getModuleName();\n        _this.dateTimeOptions = options;\n        return _this;\n    }\n    DateTimePicker.prototype.focusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        addClass([this.inputWrapper.container], INPUTFOCUS$2);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusIn = function () {\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n        }\n    };\n    DateTimePicker.prototype.blurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isTimePopupOpen() && this.isPreventBlur) {\n            this.inputElement.focus();\n            return;\n        }\n        removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n        var blurArguments = {\n            model: this\n        };\n        if (this.isTimePopupOpen()) {\n            this.hide(e);\n        }\n        this.trigger('blur', blurArguments);\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.destroy = function () {\n        if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n            this.popupObject.destroy();\n            detach(this.dateTimeWrapper);\n            this.dateTimeWrapper = undefined;\n            this.liCollections = this.timeCollections = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n        }\n        var ariaAttribute = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-invalid': 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObject = this.popupWrapper = null;\n            this.keyboardHandler.destroy();\n        }\n        this.unBindInputEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DateTimePicker.prototype.render = function () {\n        this.timekeyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.valueWithMinutes = null;\n        this.previousDateTime = null;\n        this.isPreventBlur = false;\n        this.cloneElement = this.element.cloneNode(true);\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        this.initValue = this.value;\n        _super.prototype.updateHtmlAttributeToElement.call(this);\n        this.checkAttributes(false);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('datetimepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        _super.prototype.render.call(this);\n        this.createInputElement();\n        _super.prototype.updateHtmlAttributeToWrapper.call(this);\n        this.bindInputEvents();\n        if (this.enableMask) {\n            this.notify(\"createMask\", {\n                module: \"MaskedDateTime\",\n            });\n        }\n        this.setValue();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType == 'Always' || !this.floatLabelType || !this.placeholder)) {\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo))) }, true);\n        this.previousDateTime = this.value && new Date(+this.value);\n        if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            if (!this.enabled) {\n                this.inputElement.tabIndex = -1;\n            }\n        }\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n        }\n        this.renderComplete();\n    };\n    DateTimePicker.prototype.setValue = function () {\n        this.initValue = this.validateMinMaxRange(this.value);\n        if (!this.strictMode && this.isDateObject(this.initValue)) {\n            var value = this.validateMinMaxRange(this.initValue);\n            Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            if (isNullOrUndefined(this.value)) {\n                this.initValue = null;\n                this.setProperties({ value: null }, true);\n            }\n        }\n        this.valueWithMinutes = this.value;\n        _super.prototype.updateInput.call(this);\n    };\n    DateTimePicker.prototype.validateMinMaxRange = function (value) {\n        var result = value;\n        if (this.isDateObject(value)) {\n            result = this.validateValue(value);\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n            }\n        }\n        this.checkValidState(result);\n        return result;\n    };\n    DateTimePicker.prototype.checkValidState = function (value) {\n        this.isValidState = true;\n        if (!this.strictMode) {\n            if ((+(value) > +(this.max)) || (+(value) < +(this.min))) {\n                this.isValidState = false;\n            }\n        }\n        this.checkErrorState();\n    };\n    DateTimePicker.prototype.checkErrorState = function () {\n        if (this.isValidState) {\n            removeClass([this.inputWrapper.container], ERROR$3);\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$3);\n        }\n        attributes(this.inputElement, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    DateTimePicker.prototype.validateValue = function (value) {\n        var dateVal = value;\n        if (this.strictMode) {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = this.max;\n            }\n            else if (+value < +this.min) {\n                dateVal = this.min;\n            }\n            else if (+value > +this.max) {\n                dateVal = this.max;\n            }\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = value;\n            }\n        }\n        return dateVal;\n    };\n    DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n        if (isDisable) {\n            addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n            this.hide();\n        }\n        else {\n            removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n        }\n    };\n    DateTimePicker.prototype.getFormattedValue = function (value) {\n        var dateOptions;\n        if (!isNullOrUndefined(value)) {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            return this.globalize.formatDate(value, dateOptions);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.isDateObject = function (value) {\n        return (!isNullOrUndefined(value) && !isNaN(+value)) ? true : false;\n    };\n    DateTimePicker.prototype.createInputElement = function () {\n        removeClass([this.inputElement], DATEPICKERROOT);\n        removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n        addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n        addClass([this.inputElement], ROOT$4);\n        this.renderTimeIcon();\n    };\n    DateTimePicker.prototype.renderTimeIcon = function () {\n        this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n    };\n    DateTimePicker.prototype.bindInputEvents = function () {\n        EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyAction.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DateTimePicker.prototype.unBindInputEvents = function () {\n        EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n        }\n        if (this.keyboardHandler) {\n            this.keyboardHandler.destroy();\n        }\n    };\n    DateTimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.timeFormat)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.timeFormat;\n        }\n        return cldrTime;\n    };\n    DateTimePicker.prototype.cldrDateTimeFormat = function () {\n        var cldrTime;\n        var culture = new Internationalization(this.locale);\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.getCldrFormat = function (type) {\n        var cldrDateTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTime = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTime;\n    };\n    DateTimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        if (this.calendarMode === 'Gregorian') {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n        }\n    };\n    DateTimePicker.prototype.timeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (e.currentTarget === this.timeIcon) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            else {\n                this.inputElement.focus();\n                this.popupCreation('time', e);\n                addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n            }\n        }\n        this.isIconClicked = false;\n    };\n    DateTimePicker.prototype.dateHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (e.currentTarget === this.inputWrapper.buttons[0]) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.show = function (type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled) {\n            return;\n        }\n        else {\n            if (type === 'time' && !this.dateTimeWrapper) {\n                if (this.isDatePopupOpen()) {\n                    this.hide(e);\n                }\n                this.popupCreation('time', e);\n            }\n            else if (!this.popupObj) {\n                if (this.isTimePopupOpen()) {\n                    this.hide(e);\n                }\n                _super.prototype.show.call(this);\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.toggle = function (e) {\n        if (this.isDatePopupOpen()) {\n            _super.prototype.hide.call(this, e);\n            this.show('time', null);\n        }\n        else if (this.isTimePopupOpen()) {\n            this.hide(e);\n            _super.prototype.show.call(this, null, e);\n            this.popupCreation('date', null);\n        }\n        else {\n            this.show(null, e);\n        }\n    };\n    DateTimePicker.prototype.listCreation = function () {\n        var dateObject;\n        if (this.calendarMode === 'Gregorian') {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime'\n            });\n        }\n        else {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime', calendar: 'islamic'\n            });\n        }\n        var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ?\n            dateObject :\n            new Date() : this.value;\n        this.valueWithMinutes = value;\n        this.listWrapper = createElement('div', { className: CONTENT$3, attrs: { 'tabindex': '0' } });\n        var min = this.startTime(value);\n        var max = this.endTime(value);\n        var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n        this.timeCollections = listDetails.collection;\n        this.listTag = listDetails.list;\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([listDetails.list], this.listWrapper);\n        this.wireTimeListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS$2 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n    };\n    DateTimePicker.prototype.popupCreation = function (type, e) {\n        if (Browser.isDevice) {\n            this.element.setAttribute('readonly', 'readonly');\n        }\n        if (type === 'date') {\n            if (!this.readonly && this.popupWrapper) {\n                addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n                attributes(this.popupWrapper, { 'id': this.element.id + '_datepopup' });\n            }\n        }\n        else {\n            if (!this.readonly) {\n                this.dateTimeWrapper = createElement('div', {\n                    className: ROOT$4 + ' ' + POPUP$3,\n                    attrs: { 'id': this.element.id + '_timepopup', 'style': 'visibility:hidden ; display:block' }\n                });\n                if (!isNullOrUndefined(this.cssClass)) {\n                    this.dateTimeWrapper.className += ' ' + this.cssClass;\n                }\n                if (!isNullOrUndefined(this.step) && this.step > 0) {\n                    this.listCreation();\n                    append([this.listWrapper], this.dateTimeWrapper);\n                }\n                document.body.appendChild(this.dateTimeWrapper);\n                this.addTimeSelection();\n                this.renderPopup();\n                this.setTimeScrollPosition();\n                this.openPopup(e);\n                this.popupObject.refreshPosition(this.inputElement);\n            }\n        }\n    };\n    DateTimePicker.prototype.openPopup = function (e) {\n        var _this = this;\n        this.preventArgs = {\n            cancel: false,\n            popup: this.popupObject,\n            event: e || null\n        };\n        var eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n            _this.preventArgs = eventArgs;\n            if (!_this.preventArgs.cancel && !_this.readonly) {\n                var openAnimation = {\n                    name: 'FadeIn',\n                    duration: ANIMATIONDURATION$1\n                };\n                if (_this.zIndex === 1000) {\n                    _this.popupObject.show(new Animation(openAnimation), _this.element);\n                }\n                else {\n                    _this.popupObject.show(new Animation(openAnimation), null);\n                }\n                addClass([_this.inputWrapper.container], [ICONANIMATION$1]);\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options' });\n                EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n            }\n        });\n    };\n    DateTimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' ||\n            (this.popupObject.element && this.popupObject.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]'))) && target !== this.inputElement\n            && target !== this.timeIcon && target !== this.inputWrapper.container) {\n            if (this.isTimePopupOpen()) {\n                this.hide(event);\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = ((document.activeElement === this.inputElement) && (Browser.isIE || Browser.info.name === 'edge')\n                    && target === this.popupObject.element);\n            }\n        }\n    };\n    DateTimePicker.prototype.isTimePopupOpen = function () {\n        return (this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4)) ? true : false;\n    };\n    DateTimePicker.prototype.isDatePopupOpen = function () {\n        return (this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER)) ? true : false;\n    };\n    DateTimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        if (Browser.isDevice) {\n            this.timeModal = createElement('div');\n            this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n            document.body.className += ' ' + OVERFLOW$3;\n            this.timeModal.style.display = 'block';\n            document.body.appendChild(this.timeModal);\n        }\n        var offset = 4;\n        this.popupObject = new Popup(this.dateTimeWrapper, {\n            width: this.setPopupWidth(),\n            zIndex: this.zIndex,\n            targetType: 'container',\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            enableRtl: this.enableRtl,\n            offsetY: offset,\n            open: function () {\n                _this.dateTimeWrapper.style.visibility = 'visible';\n                addClass([_this.timeIcon], ACTIVE$2);\n                if (!Browser.isDevice) {\n                    _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n                    _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n                        keyAction: _this.timeKeyActionHandle.bind(_this),\n                        keyConfigs: _this.timekeyConfigure,\n                        eventName: 'keydown'\n                    });\n                }\n            }, close: function () {\n                removeClass([_this.timeIcon], ACTIVE$2);\n                _this.unWireTimeListEvents();\n                _this.inputElement.removeAttribute('aria-activedescendant');\n                remove(_this.popupObject.element);\n                _this.popupObject.destroy();\n                _this.dateTimeWrapper.innerHTML = '';\n                _this.listWrapper = _this.dateTimeWrapper = undefined;\n                if (_this.inputEvent) {\n                    _this.inputEvent.destroy();\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n    };\n    DateTimePicker.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            // eslint-disable-next-line no-self-assign\n            width = width;\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.setPopupWidth = function () {\n        var width = this.setDimension(this.width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.wireTimeListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateTimePicker.prototype.unWireTimeListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n            if (!Browser.isDevice) {\n                EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n                EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n            }\n        }\n    };\n    DateTimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS$2);\n        this.setTimeHover(currentLi, HOVER$2);\n    };\n    DateTimePicker.prototype.onMouseLeave = function () {\n        this.removeTimeHover(HOVER$2);\n    };\n    DateTimePicker.prototype.setTimeHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeTimeHover(className);\n            addClass([li], className);\n        }\n    };\n    DateTimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION$1, 10);\n        var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    DateTimePicker.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n            _super.prototype.changeEvent.call(this, e);\n            this.valueWithMinutes = this.value;\n            this.setInputValue('date');\n            this.previousDateTime = this.value && new Date(+this.value);\n        }\n    };\n    DateTimePicker.prototype.updateValue = function (e) {\n        this.setInputValue('time');\n        if (+this.previousDateTime !== +this.value) {\n            this.changedArgs = {\n                value: this.value, event: e || null,\n                isInteracted: !isNullOrUndefined(e),\n                element: this.element\n            };\n            this.addTimeSelection();\n            this.trigger('change', this.changedArgs);\n            this.previousDateTime = this.previousDate = this.value;\n        }\n    };\n    DateTimePicker.prototype.setTimeScrollPosition = function () {\n        var popupElement = this.selectedElement;\n        if (!isNullOrUndefined(popupElement)) {\n            this.findScrollTop(popupElement);\n        }\n        else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    DateTimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextElement = element.nextElementSibling;\n        var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n        var lineHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.dateTimeWrapper.scrollTop = nextElement ? (height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1)) : height;\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setScrollTo = function () {\n        var element;\n        var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n        if (items.length >= 0) {\n            this.scrollInvoked = true;\n            var initialTime = this.timeCollections[0];\n            var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n            element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setInputValue = function (type) {\n        if (type === 'date') {\n            this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n            this.setProperties({ value: this.getFullDateTime() }, true);\n        }\n        else {\n            var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n            Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousElementValue = this.inputElement.value;\n            this.setProperties({ value: new Date(this.timeCollections[this.activeIndex]) }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        this.updateIconState();\n    };\n    DateTimePicker.prototype.getFullDateTime = function () {\n        var value = null;\n        if (this.isDateObject(this.valueWithMinutes)) {\n            value = this.combineDateTime(this.valueWithMinutes);\n        }\n        else {\n            value = this.previousDate;\n        }\n        return this.validateMinMaxRange(value);\n    };\n    DateTimePicker.prototype.createMask = function () {\n        this.notify(\"createMask\", {\n            module: \"MaskedDateTime\",\n        });\n    };\n    DateTimePicker.prototype.combineDateTime = function (value) {\n        if (this.isDateObject(value)) {\n            var day = this.previousDate.getDate();\n            var month = this.previousDate.getMonth();\n            var year = this.previousDate.getFullYear();\n            var hour = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            return new Date(year, month, day, hour, minutes, seconds);\n        }\n        else {\n            return this.previousDate;\n        }\n    };\n    DateTimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n        if (li && li.classList.contains(LISTCLASS$2)) {\n            this.timeValue = li.getAttribute('data-value');\n            this.hide(event);\n        }\n        this.setSelection(li, event);\n    };\n    DateTimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n            this.selectedElement = li;\n            var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.activeIndex = index;\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.updateValue(event);\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveClass = function () {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        if (!isNullOrUndefined(collections)) {\n            var items = collections.querySelectorAll('.' + LISTCLASS$2);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if (this.timeCollections[i] === +(this.valueWithMinutes)) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        this.setTimeActiveDescendant();\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement) && this.value) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    DateTimePicker.prototype.addTimeSelection = function () {\n        this.selectedElement = null;\n        this.removeTimeSelection();\n        this.setTimeActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateTimePicker.prototype.removeTimeSelection = function () {\n        this.removeTimeHover(HOVER$2);\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n            if (items.length) {\n                removeClass(items, ACTIVE$2);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DateTimePicker.prototype.removeTimeHover = function (className) {\n        var hoveredItem = this.getTimeHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n        }\n    };\n    DateTimePicker.prototype.getTimeHoverItem = function (className) {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        var hoveredItem;\n        if (!isNullOrUndefined(collections)) {\n            hoveredItem = collections.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    DateTimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4));\n    };\n    DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n        var day = value.getDate();\n        var month = value.getMonth();\n        var year = value.getFullYear();\n        var hours = value.getHours();\n        var minutes = value.getMinutes();\n        var seconds = value.getSeconds();\n        var milliseconds = value.getMilliseconds();\n        if (range) {\n            if (method === 'starttime') {\n                return new Date(year, month, day, 0, 0, 0);\n            }\n            else {\n                return new Date(year, month, day, 23, 59, 59);\n            }\n        }\n        else {\n            return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        }\n    };\n    DateTimePicker.prototype.startTime = function (date) {\n        var tempStartValue;\n        var start;\n        var tempMin = this.min;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() &&\n            +value.getFullYear() === +tempMin.getFullYear()) || ((+new Date(value.getFullYear(), value.getMonth(), value.getDate())) <=\n            +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate()))) {\n            start = false;\n            tempStartValue = this.min;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            start = true;\n            tempStartValue = value;\n        }\n        else if (+value >= +this.max) {\n            start = true;\n            tempStartValue = this.max;\n        }\n        return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    };\n    DateTimePicker.prototype.endTime = function (date) {\n        var tempEndValue;\n        var end;\n        var tempMax = this.max;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() &&\n            +value.getFullYear() === +tempMax.getFullYear()) || (+new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >=\n            +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate()))) {\n            end = false;\n            tempEndValue = this.max;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            end = true;\n            tempEndValue = value;\n        }\n        else if (+value <= +this.min) {\n            end = true;\n            tempEndValue = this.min;\n        }\n        return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    };\n    DateTimePicker.prototype.hide = function (e) {\n        var _this = this;\n        if (this.popupObj || this.dateTimeWrapper) {\n            this.preventArgs = {\n                cancel: false,\n                popup: this.popupObj || this.popupObject,\n                event: e || null\n            };\n            var eventArgs = this.preventArgs;\n            if (isNullOrUndefined(this.popupObj)) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.dateTimeCloseEventCallback(e, eventArgs);\n                });\n            }\n            else {\n                this.dateTimeCloseEventCallback(e, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (!this.preventArgs.cancel) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            else if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n                removeClass([document.body], OVERFLOW$3);\n                if (Browser.isDevice && this.timeModal) {\n                    this.timeModal.style.display = 'none';\n                    this.timeModal.outerHTML = '';\n                    this.timeModal = null;\n                }\n                this.setTimeActiveDescendant();\n            }\n        }\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.closePopup = function (e) {\n        if (this.isTimePopupOpen() && this.popupObject) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: ANIMATIONDURATION$1,\n                delay: 0\n            };\n            this.popupObject.hide(new Animation(animModel));\n            this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            this.inputElement.removeAttribute('aria-owns');\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n    };\n    DateTimePicker.prototype.preRender = function () {\n        this.checkFormat();\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        _super.prototype.preRender.call(this);\n        removeClass([this.inputElementCopy], [ROOT$4]);\n    };\n    DateTimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.setProperties({ min: this.validateValue(date.min) }, true);\n        }\n        else {\n            this.setProperties({ max: this.validateValue(date.max) }, true);\n        }\n    };\n    DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === 'true' ||\n                                this.inputElement.getAttribute(prop) === '' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push(this.maskedDateModule());\n        }\n        return modules;\n    };\n    DateTimePicker.prototype.maskedDateModule = function () {\n        var modules = { args: [this], member: 'MaskedDateTime' };\n        return modules;\n    };\n    DateTimePicker.prototype.getTimeActiveElement = function () {\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.createDateObj = function (val) {\n        return val instanceof Date ? val : null;\n    };\n    DateTimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = this.valueWithMinutes;\n            var status_1 = !isNullOrUndefined(value);\n            if (this.checkDateValue(dateValue)) {\n                var date = status_1 ? value.getDate() : DAY$1;\n                var month = status_1 ? value.getMonth() : MONTH$3;\n                var year = status_1 ? value.getFullYear() : YEAR$3;\n                var hour = status_1 ? value.getHours() : HOUR;\n                var minute = status_1 ? value.getMinutes() : MINUTE;\n                var second = status_1 ? value.getSeconds() : SECOND;\n                var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n                if (!this.scrollInvoked) {\n                    return new Date(year, month, date, hour, minute, second, millisecond);\n                }\n                else {\n                    this.scrollInvoked = false;\n                    return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n                }\n            }\n        }\n        return null;\n    };\n    DateTimePicker.prototype.findNextTimeElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var dateTimeVal = null;\n        var listCount = this.liCollections.length;\n        if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n            if (event.action === 'home') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[0])));\n                this.activeIndex = 0;\n            }\n            else if (event.action === 'end') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1])));\n                this.activeIndex = this.timeCollections.length - 1;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < listCount; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = listCount - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n        }\n    };\n    DateTimePicker.prototype.setTimeValue = function (date, value) {\n        var dateString;\n        var time;\n        var val = this.validateMinMaxRange(value);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = new Date(+this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = new Date(+this.valueWithMinutes);\n        }\n        if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd'\n            });\n        }\n        else {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n            });\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        return time;\n    };\n    DateTimePicker.prototype.timeElementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.setTimeValue(date, value);\n        }\n        return null;\n    };\n    DateTimePicker.prototype.timeKeyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0) {\n            return;\n        }\n        var listCount = this.timeCollections.length;\n        if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    this.activeIndex = 0;\n                    this.selectedElement = this.liCollections[0];\n                    this.timeElementValue(new Date(this.timeCollections[0]));\n                }\n                else {\n                    this.findNextTimeElement(event);\n                }\n            }\n        }\n        else {\n            var nextItemValue = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (listCount) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (listCount - 1) : this.activeIndex;\n                nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                this.activeIndex = 0;\n                nextItemValue = this.timeCollections[0];\n            }\n            else if (event.action === 'end') {\n                this.activeIndex = listCount - 1;\n                nextItemValue = this.timeCollections[listCount - 1];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(new Date(nextItemValue));\n        }\n        this.isNavigate = true;\n        this.setTimeHover(this.selectedElement, NAVIGATION$1);\n        this.setTimeActiveDescendant();\n        if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setTimeScrollPosition();\n        }\n    };\n    DateTimePicker.prototype.timeKeyActionHandle = function (event) {\n        if (this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'up':\n                case 'down':\n                case 'home':\n                case 'end':\n                    this.timeKeyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.setInputValue('time');\n                        if (+this.previousDateTime !== +this.value) {\n                            this.changedArgs.value = this.value;\n                            this.addTimeSelection();\n                            this.previousDateTime = this.value;\n                        }\n                    }\n                    else {\n                        this.updateValue(event);\n                    }\n                    this.hide(event);\n                    addClass([this.inputWrapper.container], INPUTFOCUS$2);\n                    this.isNavigate = false;\n                    event.stopPropagation();\n                    break;\n                case 'escape':\n                    this.hide(event);\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    DateTimePicker.prototype.inputKeyAction = function (event) {\n        switch (event.action) {\n            case 'altDownArrow':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.toggle(event);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @deprecated\n     */\n    DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    newProp.value = this.validateValue(newProp.value);\n                    Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n                    this.valueWithMinutes = newProp.value;\n                    this.setProperties({ value: newProp.value }, true);\n                    if (this.popupObj) {\n                        this.popupUpdate();\n                    }\n                    this.previousDateTime = new Date(this.inputElement.value);\n                    this.updateInput();\n                    this.changeTrigger(null);\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask && this.value) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    this.updateInput();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass)) {\n                        oldProp.cssClass = (oldProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    if (!isNullOrUndefined(newProp.cssClass)) {\n                        newProp.cssClass = (newProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.dateTimeWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n                    this.dateTimeFormat = this.cldrDateTimeFormat();\n                    _super.prototype.updateInput.call(this);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.dateTimeFormat = this.formatString;\n                    this.setValue();\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        if (!this.value) {\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (!this.enabled) {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n                    }\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n                    }\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n                        if (this.dateTimeWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify(\"createMask\", {\n                            module: \"MaskedDateTime\",\n                        });\n                        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.maskedDateValue = '';\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n            }\n            if (!this.isDynamicValueChanged && !this.isIconClicked) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DateTimePicker.prototype.getModuleName = function () {\n        return 'datetimepicker';\n    };\n    DateTimePicker.prototype.restoreValue = function () {\n        this.previousDateTime = this.previousDate;\n        this.currentDate = this.value ? this.value : new Date();\n        this.valueWithMinutes = this.value;\n        this.previousDate = this.value;\n        this.previousElementValue = this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.getFormattedValue(this.inputValueCopy);\n    };\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"timeFormat\", void 0);\n    __decorate$4([\n        Property(30)\n    ], DateTimePicker.prototype, \"step\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"scrollTo\", void 0);\n    __decorate$4([\n        Property(1000)\n    ], DateTimePicker.prototype, \"zIndex\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"value\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$4([\n        Property({})\n    ], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$4([\n        Property(true)\n    ], DateTimePicker.prototype, \"allowEdit\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"values\", void 0);\n    __decorate$4([\n        Property(true)\n    ], DateTimePicker.prototype, \"showClearButton\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"placeholder\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"strictMode\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate$4([\n        Property(new Date(1900, 0, 1))\n    ], DateTimePicker.prototype, \"min\", void 0);\n    __decorate$4([\n        Property(new Date(2099, 11, 31))\n    ], DateTimePicker.prototype, \"max\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate$4([\n        Property('Gregorian')\n    ], DateTimePicker.prototype, \"calendarMode\", void 0);\n    __decorate$4([\n        Property('Month')\n    ], DateTimePicker.prototype, \"start\", void 0);\n    __decorate$4([\n        Property('Month')\n    ], DateTimePicker.prototype, \"depth\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"weekNumber\", void 0);\n    __decorate$4([\n        Property(true)\n    ], DateTimePicker.prototype, \"showTodayButton\", void 0);\n    __decorate$4([\n        Property('Short')\n    ], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"enableMask\", void 0);\n    __decorate$4([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"open\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"close\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"cleared\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"blur\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"focus\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"created\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"destroyed\", void 0);\n    DateTimePicker = __decorate$4([\n        NotifyPropertyChanges\n    ], DateTimePicker);\n    return DateTimePicker;\n}(DatePicker));\n\n/**\n * DateTimePicker modules\n */\n\nvar ARROWLEFT = 'ArrowLeft';\nvar ARROWRIGHT = 'ArrowRight';\nvar ARROWUP = 'ArrowUp';\nvar ARROWDOWN = 'ArrowDown';\nvar TAB = 'Tab';\nvar SHIFTTAB = 'shiftTab';\nvar END = 'End';\nvar HOME = 'Home';\nvar MaskedDateTime = /** @__PURE__ @class */ (function () {\n    function MaskedDateTime(parent) {\n        this.mask = '';\n        this.defaultConstant = {\n            day: 'day',\n            month: 'month',\n            year: 'year',\n            hour: 'hour',\n            minute: 'minute',\n            second: 'second',\n            dayOfTheWeek: 'day of the week',\n        };\n        this.hiddenMask = '';\n        this.validCharacters = 'dMyhmHfasz';\n        this.isDayPart = false;\n        this.isMonthPart = false;\n        this.isYearPart = false;\n        this.isHourPart = false;\n        this.isMinutePart = false;\n        this.isSecondsPart = false;\n        this.isMilliSecondsPart = false;\n        this.monthCharacter = '';\n        this.periodCharacter = '';\n        this.isHiddenMask = false;\n        this.isComplete = false;\n        this.isNavigate = false;\n        this.navigated = false;\n        this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n        this.isDeletion = false;\n        this.isShortYear = false;\n        this.isDeleteKey = false;\n        this.isDateZero = false;\n        this.isMonthZero = false;\n        this.isYearZero = false;\n        this.dayTypeCount = 0;\n        this.monthTypeCount = 0;\n        this.hourTypeCount = 0;\n        this.minuteTypeCount = 0;\n        this.secondTypeCount = 0;\n        this.parent = parent;\n        this.dateformat = this.getCulturedFormat();\n        this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n        this.maskDateValue.setMonth(0);\n        this.maskDateValue.setHours(0);\n        this.maskDateValue.setMinutes(0);\n        this.maskDateValue.setSeconds(0);\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    MaskedDateTime.prototype.getModuleName = function () {\n        return 'MaskedDateTime';\n    };\n    MaskedDateTime.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('createMask', this.createMask, this);\n        this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n        this.parent.on('inputHandler', this.maskInputHandler, this);\n        this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n        this.parent.on('clearHandler', this.clearHandler, this);\n    };\n    MaskedDateTime.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('createMask', this.createMask);\n        this.parent.off('setMaskSelection', this.validCharacterCheck);\n        this.parent.off('inputHandler', this.maskInputHandler);\n        this.parent.off('keyDownHandler', this.maskKeydownHandler);\n        this.parent.off('clearHandler', this.clearHandler);\n    };\n    MaskedDateTime.prototype.createMask = function (dateformat) {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.dateformat = this.getCulturedFormat();\n        if (this.parent.maskPlaceholder.day)\n            this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n        if (this.parent.maskPlaceholder.month)\n            this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n        if (this.parent.maskPlaceholder.year)\n            this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n        if (this.parent.maskPlaceholder.hour)\n            this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n        if (this.parent.maskPlaceholder.minute)\n            this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n        if (this.parent.maskPlaceholder.second)\n            this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n        if (this.parent.maskPlaceholder.dayOfTheWeek)\n            this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n        this.getCUltureMaskFormat();\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.mask = this.previousValue = inputValue;\n        this.parent.maskedDateValue = this.mask;\n        if (this.parent.value) {\n            this.setDynamicValue();\n        }\n    };\n    MaskedDateTime.prototype.getCUltureMaskFormat = function () {\n        this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n        this.objectString = Object.keys(this.defaultConstant);\n        for (var i = 0; i < this.objectString.length; i++) {\n            this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n        }\n    };\n    MaskedDateTime.prototype.validCharacterCheck = function () {\n        var start = this.parent.inputElement.selectionStart;\n        for (var i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n            if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n                this.setSelection(this.hiddenMask[i]);\n                return;\n            }\n            if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n                this.setSelection(this.hiddenMask[j]);\n                return;\n            }\n        }\n    };\n    MaskedDateTime.prototype.setDynamicValue = function () {\n        this.maskDateValue = new Date(+this.parent.value);\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n        this.updateValue();\n        // this.parent.inputElement.selectionStart = start;\n        // this.validCharacterCheck();\n    };\n    MaskedDateTime.prototype.setSelection = function (validChar) {\n        var start = -1;\n        var end = 0;\n        for (var i = 0; i < this.hiddenMask.length; i++) {\n            if (this.hiddenMask[i] === validChar) {\n                end = i + 1;\n                if (start === -1) {\n                    start = i;\n                }\n            }\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        this.parent.inputElement.setSelectionRange(start, end);\n    };\n    MaskedDateTime.prototype.maskKeydownHandler = function (args) {\n        this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n        if (args.e.key === 'Delete') {\n            this.isDeleteKey = true;\n            return;\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB ||\n            args.e.key === END || args.e.key === HOME)) {\n            var start = this.parent.inputElement.selectionStart;\n            var end = this.parent.inputElement.selectionEnd;\n            var length_1 = this.parent.inputElement.value.length;\n            if ((start == 0 && end == length_1) && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n                var index = args.e.action === SHIFTTAB ? end : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n            }\n            if (args.e.key === END || args.e.key === HOME) {\n                var range = args.e.key === END ? length_1 : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n            }\n            this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n            var start = this.parent.inputElement.selectionStart;\n            this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n            var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = true;\n            this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = false;\n            this.previousHiddenMask = this.hiddenMask;\n            this.previousValue = inputValue;\n            this.parent.inputElement.value = inputValue;\n            this.parent.inputElement.selectionStart = start;\n            this.validCharacterCheck();\n        }\n    };\n    MaskedDateTime.prototype.isPersist = function () {\n        var isPersist = this.parent.isFocused || this.navigated;\n        return isPersist;\n    };\n    MaskedDateTime.prototype.differenceCheck = function () {\n        var start = this.parent.inputElement.selectionStart;\n        var inputValue = this.parent.inputElement.value;\n        var previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n        var newVal = inputValue.substring(0, start);\n        var newDateValue = new Date(+this.maskDateValue);\n        var maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n        if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n            for (var i = newVal.length; i < previousVal.length; i++) {\n                if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n                    this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n                }\n            }\n            if (this.isDeletion) {\n                return;\n            }\n        }\n        switch (this.previousHiddenMask[start - 1]) {\n            case 'd':\n                var date = (this.isDayPart && newDateValue.getDate().toString().length < 2 && !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.isDateZero = (newVal[start - 1] == '0');\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(date)) {\n                    return;\n                }\n                for (var i = 0; date > maxDate; i++) {\n                    date = parseInt(date.toString().slice(1), 10);\n                }\n                if (date >= 1) {\n                    newDateValue.setDate(date);\n                    this.isNavigate = date.toString().length === 2;\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n                        return;\n                    }\n                    this.isDayPart = true;\n                    this.dayTypeCount = this.dayTypeCount + 1;\n                }\n                else {\n                    this.isDayPart = false;\n                    this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n                }\n                break;\n            case 'M':\n                var month = void 0;\n                if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n                    month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                }\n                else {\n                    month = parseInt(newVal[start - 1], 10);\n                }\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                this.isMonthZero = (newVal[start - 1] == '0');\n                if (!isNaN(month)) {\n                    while (month > 12) {\n                        month = parseInt(month.toString().slice(1), 10);\n                    }\n                    if (month >= 1) {\n                        newDateValue.setMonth(month - 1);\n                        this.isNavigate = month.toString().length === 2;\n                        if (newDateValue.getMonth() !== month - 1) {\n                            newDateValue.setDate(1);\n                            newDateValue.setMonth(month - 1);\n                        }\n                        if (this.isDayPart) {\n                            var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                            var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                            if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                                newDateValue.setDate(currentMaxDate);\n                            }\n                        }\n                        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                        this.isMonthPart = true;\n                        this.monthTypeCount = this.monthTypeCount + 1;\n                    }\n                    else {\n                        newDateValue.setMonth(0);\n                        this.isMonthPart = false;\n                        this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n                    }\n                }\n                else { // let monthString: string[] = <string[]>(getValue('months[stand-alone].wide', getDefaultDateObject()));\n                    var monthString = (this.getCulturedValue('months[stand-alone].wide'));\n                    var monthValue = Object.keys(monthString);\n                    this.monthCharacter += newVal[start - 1].toLowerCase();\n                    while (this.monthCharacter.length > 0) {\n                        var i = 1;\n                        for (var _i = 0, monthValue_1 = monthValue; _i < monthValue_1.length; _i++) {\n                            var months = monthValue_1[_i];\n                            if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                                newDateValue.setMonth(i - 1);\n                                this.isMonthPart = true;\n                                this.maskDateValue = newDateValue;\n                                return;\n                            }\n                            i++;\n                        }\n                        this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n                    }\n                }\n                break;\n            case 'y':\n                var year = (this.isYearPart && (newDateValue.getFullYear().toString().length < 4 && !this.isShortYear) ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.isShortYear = false;\n                this.isYearZero = (newVal[start - 1] == '0');\n                if (isNaN(year)) {\n                    return;\n                }\n                while (year > 9999) {\n                    year = parseInt(year.toString().slice(1), 10);\n                }\n                if (year < 1) {\n                    this.isYearPart = false;\n                }\n                else {\n                    newDateValue.setFullYear(year);\n                    if (year.toString().length === 4) {\n                        this.isNavigate = true;\n                    }\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    this.isYearPart = true;\n                }\n                break;\n            case 'h':\n                this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                while (this.hour > 12) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + (this.hour % 12));\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = this.hourTypeCount + 1;\n                break;\n            case 'H':\n                this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 && !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                for (var i = 0; this.hour > 23; i++) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(this.hour);\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = this.hourTypeCount + 1;\n                break;\n            case 'm':\n                var minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(minutes)) {\n                    return;\n                }\n                for (var i = 0; minutes > 59; i++) {\n                    minutes = parseInt(minutes.toString().slice(1), 10);\n                }\n                newDateValue.setMinutes(minutes);\n                this.isNavigate = minutes.toString().length === 2;\n                this.isMinutePart = true;\n                this.minuteTypeCount = this.minuteTypeCount + 1;\n                break;\n            case 's':\n                var seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 && !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(seconds)) {\n                    return;\n                }\n                for (var i = 0; seconds > 59; i++) {\n                    seconds = parseInt(seconds.toString().slice(1), 10);\n                }\n                newDateValue.setSeconds(seconds);\n                this.isNavigate = seconds.toString().length === 2;\n                this.isSecondsPart = true;\n                this.secondTypeCount = this.secondTypeCount + 1;\n                break;\n            case 'a':\n                this.periodCharacter += newVal[start - 1].toLowerCase();\n                // let periodString: string[] = <string[]>(getValue('dayPeriods.format.wide', getDefaultDateObject()));;\n                var periodString = (this.getCulturedValue('dayPeriods.format.wide'));\n                var periodkeys = Object.keys(periodString);\n                //periodString[periodkeys[0]] : periodString[periodkeys[1]] : periodString[periodkeys[0]];\n                for (var i = 0; this.periodCharacter.length > 0; i++) {\n                    if ((periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12) || (periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12)) {\n                        newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                        this.maskDateValue = newDateValue;\n                    }\n                    this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length);\n                    // Object.values()\n                }\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue;\n    };\n    MaskedDateTime.prototype.formatCheck = function () {\n        var proxy = this;\n        function formatValueSpecifier(formattext) {\n            var result;\n            var daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n            var dayKeyAbbreviated = Object.keys(daysAbbreviated);\n            var daysWide = (proxy.getCulturedValue('days[stand-alone].wide'));\n            var dayKeyWide = Object.keys(daysWide);\n            var daysNarrow = (proxy.getCulturedValue('days[stand-alone].narrow'));\n            var dayKeyNarrow = Object.keys(daysNarrow);\n            var monthAbbreviated = (proxy.getCulturedValue('months[stand-alone].abbreviated'));\n            var monthWide = (proxy.getCulturedValue('months[stand-alone].wide'));\n            var periodString = (proxy.getCulturedValue('dayPeriods.format.wide'));\n            var periodkeys = Object.keys(periodString);\n            var milliseconds;\n            var dateOptions;\n            switch (formattext) {\n                case 'ddd':\n                case 'dddd':\n                case 'd':\n                    result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'dd':\n                    result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'E':\n                case 'EE':\n                case 'EEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'M':\n                    result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MM':\n                    result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MMM':\n                    result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'MMMM':\n                    result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'yy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    if (proxy.isYearPart) {\n                        proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n                    }\n                    break;\n                case 'y':\n                case 'yyyy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    break;\n                case 'h':\n                    result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'hh':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'H':\n                    result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'HH':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'm':\n                    result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 'mm':\n                    result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 's':\n                    result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'ss':\n                    result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount == 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'f':\n                    result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n                    break;\n                case 'ff':\n                    milliseconds = proxy.maskDateValue.getMilliseconds();\n                    if (proxy.maskDateValue.getMilliseconds() > 99) {\n                        milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n                    }\n                    result = proxy.roundOff(milliseconds, 2);\n                    break;\n                case 'fff':\n                    result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n                    break;\n                case 'a':\n                case 'aa':\n                    result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n                    break;\n                case 'z':\n                case 'zz':\n                case 'zzz':\n                case 'zzzz':\n                    dateOptions = {\n                        format: formattext,\n                        type: 'dateTime', skeleton: 'yMd', calendar: proxy.parent.calendarMode\n                    };\n                    result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n                    break;\n            }\n            result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n            if (proxy.isHiddenMask) {\n                var hiddenChar = '';\n                for (var i = 0; i < result.length; i++) {\n                    hiddenChar += formattext[0];\n                }\n                return hiddenChar;\n            }\n            else {\n                return result;\n            }\n        }\n        return formatValueSpecifier;\n    };\n    MaskedDateTime.prototype.maskInputHandler = function () {\n        var start = this.parent.inputElement.selectionStart;\n        var selectionChar = this.previousHiddenMask[start - 1];\n        var inputValue;\n        this.differenceCheck();\n        inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isDateZero = this.isMonthZero = this.isYearZero = false;\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.inputElement.value = inputValue;\n        this.parent.inputElement.selectionStart = start;\n        this.validCharacterCheck();\n        if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n            var isbackward = this.isNavigate ? false : true;\n            this.isNavigate = this.isDeletion = false;\n            this.navigateSelection(isbackward);\n        }\n        this.isDeleteKey = false;\n        // this.setSelection(selectionChar);\n        // this.navigateSelection(inputValue);\n    };\n    MaskedDateTime.prototype.navigateSelection = function (isbackward) {\n        var start = this.parent.inputElement.selectionStart;\n        var end = this.parent.inputElement.selectionEnd;\n        var formatIndex = isbackward ? start - 1 : end + 1;\n        this.navigated = true;\n        while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n            if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n                this.setSelection(this.hiddenMask[formatIndex]);\n                break;\n            }\n            formatIndex = formatIndex + (isbackward ? -1 : 1);\n        }\n    };\n    MaskedDateTime.prototype.roundOff = function (val, count) {\n        var valueText = val.toString();\n        var length = count - valueText.length;\n        var result = '';\n        for (var i = 0; i < length; i++) {\n            result += '0';\n        }\n        return result + valueText;\n    };\n    MaskedDateTime.prototype.zeroCheck = function (isZero, isDayPart, resultValue) {\n        var result = resultValue;\n        if (isZero && !isDayPart) {\n            result = '0';\n        }\n        return result;\n    };\n    MaskedDateTime.prototype.handleDeletion = function (format, isSegment) {\n        switch (format) {\n            case 'd':\n                this.isDayPart = isSegment;\n                break;\n            case 'M':\n                this.isMonthPart = isSegment;\n                if (!isSegment) {\n                    this.maskDateValue.setMonth(0);\n                    this.monthCharacter = '';\n                }\n                break;\n            case 'y':\n                this.isYearPart = isSegment;\n                break;\n            case 'H':\n            case 'h':\n                this.isHourPart = isSegment;\n                if (!isSegment) {\n                    this.periodCharacter = '';\n                }\n                break;\n            case 'm':\n                this.isMinutePart = isSegment;\n                break;\n            case 's':\n                this.isSecondsPart = isSegment;\n                break;\n            default:\n                return false;\n        }\n        return true;\n    };\n    MaskedDateTime.prototype.dateAlteration = function (isDecrement) {\n        var start = this.parent.inputElement.selectionStart;\n        var formatText = '';\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            formatText = this.hiddenMask[start];\n        }\n        else {\n            return;\n        }\n        var newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        var incrementValue = isDecrement ? -1 : 1;\n        switch (formatText) {\n            case 'd':\n                newDateValue.setDate(newDateValue.getDate() + incrementValue);\n                break;\n            case 'M':\n                var newMonth = newDateValue.getMonth() + incrementValue;\n                newDateValue.setDate(1);\n                newDateValue.setMonth(newMonth);\n                if (this.isDayPart) {\n                    var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                    var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                    if (this.previousDate.getDate() == previousMaxDate && currentMaxDate <= previousMaxDate) {\n                        newDateValue.setDate(currentMaxDate);\n                    }\n                    else {\n                        newDateValue.setDate(this.previousDate.getDate());\n                    }\n                }\n                else {\n                    newDateValue.setDate(this.previousDate.getDate());\n                }\n                this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                break;\n            case 'y':\n                newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n                break;\n            case 'H':\n            case 'h':\n                newDateValue.setHours(newDateValue.getHours() + incrementValue);\n                break;\n            case 'm':\n                newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n                break;\n            case 's':\n                newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n                break;\n            case 'a':\n                newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            this.handleDeletion(this.hiddenMask[start], true);\n        }\n    };\n    MaskedDateTime.prototype.getCulturedValue = function (format) {\n        var locale = this.parent.locale;\n        var result;\n        if (locale === 'en' || locale === 'en-US') {\n            result = getValue(format, getDefaultDateObject());\n        }\n        else {\n            result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n        }\n        return result;\n    };\n    MaskedDateTime.prototype.getCulturedFormat = function () {\n        var formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n        if (this.parent.moduleName == 'datepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.format && this.parent.formatString) {\n                formatString = this.parent.formatString;\n            }\n        }\n        if (this.parent.moduleName == 'datetimepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.dateTimeFormat) {\n                formatString = this.parent.dateTimeFormat;\n            }\n        }\n        if (this.parent.moduleName == 'timepicker') {\n            formatString = this.parent.cldrTimeFormat();\n        }\n        return formatString;\n    };\n    MaskedDateTime.prototype.clearHandler = function () {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.updateValue();\n    };\n    MaskedDateTime.prototype.updateValue = function () {\n        this.monthCharacter = this.periodCharacter = '';\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.updateInputValue(inputValue);\n        //this.parent.inputElement.value = inputValue;\n    };\n    MaskedDateTime.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return MaskedDateTime;\n}());\n\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\nexport { CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}